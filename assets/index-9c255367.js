var Ant=Object.defineProperty;var wnt=(n,o,i)=>o in n?Ant(n,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[o]=i;var Jh=(n,o,i)=>(wnt(n,typeof o!="symbol"?o+"":o,i),i);function Cnt(n,o){for(var i=0;i<o.length;i++){const l=o[i];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in n)){const d=Object.getOwnPropertyDescriptor(l,c);d&&Object.defineProperty(n,c,d.get?d:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cee(n){if(n.__esModule)return n;var o=n.default;if(typeof o=="function"){var i=function l(){return this instanceof l?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};i.prototype=o.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(l){var c=Object.getOwnPropertyDescriptor(n,l);Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:function(){return n[l]}})}),i}var zTe={exports:{}},VTe={},jTe={exports:{}},WTe={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Vve=Object.getOwnPropertySymbols,xnt=Object.prototype.hasOwnProperty,Int=Object.prototype.propertyIsEnumerable;function Dnt(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Ont(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var o={},i=0;i<10;i++)o["_"+String.fromCharCode(i)]=i;var l=Object.getOwnPropertyNames(o).map(function(d){return o[d]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(d){c[d]=d}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var KU=Ont()?Object.assign:function(n,o){for(var i,l=Dnt(n),c,d=1;d<arguments.length;d++){i=Object(arguments[d]);for(var m in i)xnt.call(i,m)&&(l[m]=i[m]);if(Vve){c=Vve(i);for(var b=0;b<c.length;b++)Int.call(i,c[b])&&(l[c[b]]=i[c[b]])}}return l};const knt=_f(KU);/** @license React v17.0.2
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){var o=KU,i="17.0.2",l=60103,c=60106;n.Fragment=60107,n.StrictMode=60108,n.Profiler=60114;var d=60109,m=60110,b=60112;n.Suspense=60113;var w=60120,A=60115,I=60116,N=60121,R=60122,D=60117,L=60129,z=60131;if(typeof Symbol=="function"&&Symbol.for){var V=Symbol.for;l=V("react.element"),c=V("react.portal"),n.Fragment=V("react.fragment"),n.StrictMode=V("react.strict_mode"),n.Profiler=V("react.profiler"),d=V("react.provider"),m=V("react.context"),b=V("react.forward_ref"),n.Suspense=V("react.suspense"),w=V("react.suspense_list"),A=V("react.memo"),I=V("react.lazy"),N=V("react.block"),R=V("react.server.block"),D=V("react.fundamental"),V("react.scope"),V("react.opaque.id"),L=V("react.debug_trace_mode"),V("react.offscreen"),z=V("react.legacy_hidden")}var te=typeof Symbol=="function"&&Symbol.iterator,fe="@@iterator";function Y(Se){if(Se===null||typeof Se!="object")return null;var vt=te&&Se[te]||Se[fe];return typeof vt=="function"?vt:null}var q={current:null},K={transition:0},ce={current:null},re={},ge=null;function F(Se){ge=Se}re.setExtraStackFrame=function(Se){ge=Se},re.getCurrentStack=null,re.getStackAddendum=function(){var Se="";ge&&(Se+=ge);var vt=re.getCurrentStack;return vt&&(Se+=vt()||""),Se};var Te={current:!1},Ce={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:K,ReactCurrentOwner:ce,IsSomeRendererActing:Te,assign:o};Ce.ReactDebugCurrentFrame=re;function ve(Se){{for(var vt=arguments.length,$t=new Array(vt>1?vt-1:0),Ut=1;Ut<vt;Ut++)$t[Ut-1]=arguments[Ut];ot("warn",Se,$t)}}function Ke(Se){{for(var vt=arguments.length,$t=new Array(vt>1?vt-1:0),Ut=1;Ut<vt;Ut++)$t[Ut-1]=arguments[Ut];ot("error",Se,$t)}}function ot(Se,vt,$t){{var Ut=Ce.ReactDebugCurrentFrame,kr=Ut.getStackAddendum();kr!==""&&(vt+="%s",$t=$t.concat([kr]));var En=$t.map(function(ln){return""+ln});En.unshift("Warning: "+vt),Function.prototype.apply.call(console[Se],console,En)}}var $={};function lt(Se,vt){{var $t=Se.constructor,Ut=$t&&($t.displayName||$t.name)||"ReactClass",kr=Ut+"."+vt;if($[kr])return;Ke("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",vt,Ut),$[kr]=!0}}var Tt={isMounted:function(Se){return!1},enqueueForceUpdate:function(Se,vt,$t){lt(Se,"forceUpdate")},enqueueReplaceState:function(Se,vt,$t,Ut){lt(Se,"replaceState")},enqueueSetState:function(Se,vt,$t,Ut){lt(Se,"setState")}},Be={};Object.freeze(Be);function qe(Se,vt,$t){this.props=Se,this.context=vt,this.refs=Be,this.updater=$t||Tt}qe.prototype.isReactComponent={},qe.prototype.setState=function(Se,vt){if(!(typeof Se=="object"||typeof Se=="function"||Se==null))throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Se,vt,"setState")},qe.prototype.forceUpdate=function(Se){this.updater.enqueueForceUpdate(this,Se,"forceUpdate")};{var We={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Ge=function(Se,vt){Object.defineProperty(qe.prototype,Se,{get:function(){ve("%s(...) is deprecated in plain JavaScript React classes. %s",vt[0],vt[1])}})};for(var nt in We)We.hasOwnProperty(nt)&&Ge(nt,We[nt])}function St(){}St.prototype=qe.prototype;function Gt(Se,vt,$t){this.props=Se,this.context=vt,this.refs=Be,this.updater=$t||Tt}var Zt=Gt.prototype=new St;Zt.constructor=Gt,o(Zt,qe.prototype),Zt.isPureReactComponent=!0;function ir(){var Se={current:null};return Object.seal(Se),Se}function zt(Se,vt,$t){var Ut=vt.displayName||vt.name||"";return Se.displayName||(Ut!==""?$t+"("+Ut+")":$t)}function Qt(Se){return Se.displayName||"Context"}function Wt(Se){if(Se==null)return null;if(typeof Se.tag=="number"&&Ke("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof Se=="function")return Se.displayName||Se.name||null;if(typeof Se=="string")return Se;switch(Se){case n.Fragment:return"Fragment";case c:return"Portal";case n.Profiler:return"Profiler";case n.StrictMode:return"StrictMode";case n.Suspense:return"Suspense";case w:return"SuspenseList"}if(typeof Se=="object")switch(Se.$$typeof){case m:var vt=Se;return Qt(vt)+".Consumer";case d:var $t=Se;return Qt($t._context)+".Provider";case b:return zt(Se,Se.render,"ForwardRef");case A:return Wt(Se.type);case N:return Wt(Se._render);case I:{var Ut=Se,kr=Ut._payload,En=Ut._init;try{return Wt(En(kr))}catch{return null}}}return null}var yr=Object.prototype.hasOwnProperty,br={key:!0,ref:!0,__self:!0,__source:!0},Pt,Dr,Gr;Gr={};function rn(Se){if(yr.call(Se,"ref")){var vt=Object.getOwnPropertyDescriptor(Se,"ref").get;if(vt&&vt.isReactWarning)return!1}return Se.ref!==void 0}function yi(Se){if(yr.call(Se,"key")){var vt=Object.getOwnPropertyDescriptor(Se,"key").get;if(vt&&vt.isReactWarning)return!1}return Se.key!==void 0}function ra(Se,vt){var $t=function(){Pt||(Pt=!0,Ke("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",vt))};$t.isReactWarning=!0,Object.defineProperty(Se,"key",{get:$t,configurable:!0})}function na(Se,vt){var $t=function(){Dr||(Dr=!0,Ke("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",vt))};$t.isReactWarning=!0,Object.defineProperty(Se,"ref",{get:$t,configurable:!0})}function Co(Se){if(typeof Se.ref=="string"&&ce.current&&Se.__self&&ce.current.stateNode!==Se.__self){var vt=Wt(ce.current.type);Gr[vt]||(Ke('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',vt,Se.ref),Gr[vt]=!0)}}var Ta=function(Se,vt,$t,Ut,kr,En,ln){var an={$$typeof:l,type:Se,key:vt,ref:$t,props:ln,_owner:En};return an._store={},Object.defineProperty(an._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(an,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ut}),Object.defineProperty(an,"_source",{configurable:!1,enumerable:!1,writable:!1,value:kr}),Object.freeze&&(Object.freeze(an.props),Object.freeze(an)),an};function mo(Se,vt,$t){var Ut,kr={},En=null,ln=null,an=null,xi=null;if(vt!=null){rn(vt)&&(ln=vt.ref,Co(vt)),yi(vt)&&(En=""+vt.key),an=vt.__self===void 0?null:vt.__self,xi=vt.__source===void 0?null:vt.__source;for(Ut in vt)yr.call(vt,Ut)&&!br.hasOwnProperty(Ut)&&(kr[Ut]=vt[Ut])}var nn=arguments.length-2;if(nn===1)kr.children=$t;else if(nn>1){for(var ya=Array(nn),Na=0;Na<nn;Na++)ya[Na]=arguments[Na+2];Object.freeze&&Object.freeze(ya),kr.children=ya}if(Se&&Se.defaultProps){var ps=Se.defaultProps;for(Ut in ps)kr[Ut]===void 0&&(kr[Ut]=ps[Ut])}if(En||ln){var oi=typeof Se=="function"?Se.displayName||Se.name||"Unknown":Se;En&&ra(kr,oi),ln&&na(kr,oi)}return Ta(Se,En,ln,an,xi,ce.current,kr)}function ga(Se,vt){var $t=Ta(Se.type,vt,Se.ref,Se._self,Se._source,Se._owner,Se.props);return $t}function io(Se,vt,$t){if(Se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Se+".");var Ut,kr=o({},Se.props),En=Se.key,ln=Se.ref,an=Se._self,xi=Se._source,nn=Se._owner;if(vt!=null){rn(vt)&&(ln=vt.ref,nn=ce.current),yi(vt)&&(En=""+vt.key);var ya;Se.type&&Se.type.defaultProps&&(ya=Se.type.defaultProps);for(Ut in vt)yr.call(vt,Ut)&&!br.hasOwnProperty(Ut)&&(vt[Ut]===void 0&&ya!==void 0?kr[Ut]=ya[Ut]:kr[Ut]=vt[Ut])}var Na=arguments.length-2;if(Na===1)kr.children=$t;else if(Na>1){for(var ps=Array(Na),oi=0;oi<Na;oi++)ps[oi]=arguments[oi+2];kr.children=ps}return Ta(Se.type,En,ln,an,xi,nn,kr)}function Ea(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===l}var va=".",Qi=":";function xe(Se){var vt=/[=:]/g,$t={"=":"=0",":":"=2"},Ut=Se.replace(vt,function(kr){return $t[kr]});return"$"+Ut}var le=!1,de=/\/+/g;function $e(Se){return Se.replace(de,"$&/")}function Qe(Se,vt){return typeof Se=="object"&&Se!==null&&Se.key!=null?xe(""+Se.key):vt.toString(36)}function pt(Se,vt,$t,Ut,kr){var En=typeof Se;(En==="undefined"||En==="boolean")&&(Se=null);var ln=!1;if(Se===null)ln=!0;else switch(En){case"string":case"number":ln=!0;break;case"object":switch(Se.$$typeof){case l:case c:ln=!0}}if(ln){var an=Se,xi=kr(an),nn=Ut===""?va+Qe(an,0):Ut;if(Array.isArray(xi)){var ya="";nn!=null&&(ya=$e(nn)+"/"),pt(xi,vt,ya,"",function(Cc){return Cc})}else xi!=null&&(Ea(xi)&&(xi=ga(xi,$t+(xi.key&&(!an||an.key!==xi.key)?$e(""+xi.key)+"/":"")+nn)),vt.push(xi));return 1}var Na,ps,oi=0,xo=Ut===""?va:Ut+Qi;if(Array.isArray(Se))for(var $d=0;$d<Se.length;$d++)Na=Se[$d],ps=xo+Qe(Na,$d),oi+=pt(Na,vt,$t,ps,kr);else{var Wm=Y(Se);if(typeof Wm=="function"){var kb=Se;Wm===kb.entries&&(le||ve("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),le=!0);for(var IE=Wm.call(kb),Jv,VI=0;!(Jv=IE.next()).done;)Na=Jv.value,ps=xo+Qe(Na,VI++),oi+=pt(Na,vt,$t,ps,kr)}else if(En==="object"){var e0=""+Se;throw Error("Objects are not valid as a React child (found: "+(e0==="[object Object]"?"object with keys {"+Object.keys(Se).join(", ")+"}":e0)+"). If you meant to render a collection of children, use an array instead.")}}return oi}function Rt(Se,vt,$t){if(Se==null)return Se;var Ut=[],kr=0;return pt(Se,Ut,"","",function(En){return vt.call($t,En,kr++)}),Ut}function Rr(Se){var vt=0;return Rt(Se,function(){vt++}),vt}function tn(Se,vt,$t){Rt(Se,function(){vt.apply(this,arguments)},$t)}function Tn(Se){return Rt(Se,function(vt){return vt})||[]}function In(Se){if(!Ea(Se))throw Error("React.Children.only expected to receive a single React element child.");return Se}function wn(Se,vt){vt===void 0?vt=null:vt!==null&&typeof vt!="function"&&Ke("createContext: Expected the optional second argument to be a function. Instead received: %s",vt);var $t={$$typeof:m,_calculateChangedBits:vt,_currentValue:Se,_currentValue2:Se,_threadCount:0,Provider:null,Consumer:null};$t.Provider={$$typeof:d,_context:$t};var Ut=!1,kr=!1,En=!1;{var ln={$$typeof:m,_context:$t,_calculateChangedBits:$t._calculateChangedBits};Object.defineProperties(ln,{Provider:{get:function(){return kr||(kr=!0,Ke("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),$t.Provider},set:function(an){$t.Provider=an}},_currentValue:{get:function(){return $t._currentValue},set:function(an){$t._currentValue=an}},_currentValue2:{get:function(){return $t._currentValue2},set:function(an){$t._currentValue2=an}},_threadCount:{get:function(){return $t._threadCount},set:function(an){$t._threadCount=an}},Consumer:{get:function(){return Ut||(Ut=!0,Ke("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),$t.Consumer}},displayName:{get:function(){return $t.displayName},set:function(an){En||(ve("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",an),En=!0)}}}),$t.Consumer=ln}return $t._currentRenderer=null,$t._currentRenderer2=null,$t}var ha=-1,Bs=0,Fd=1,lh=2;function Ef(Se){if(Se._status===ha){var vt=Se._result,$t=vt(),Ut=Se;Ut._status=Bs,Ut._result=$t,$t.then(function(kr){if(Se._status===Bs){var En=kr.default;En===void 0&&Ke(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,kr);var ln=Se;ln._status=Fd,ln._result=En}},function(kr){if(Se._status===Bs){var En=Se;En._status=lh,En._result=kr}})}if(Se._status===Fd)return Se._result;throw Se._result}function Bd(Se){var vt={_status:-1,_result:Se},$t={$$typeof:I,_payload:vt,_init:Ef};{var Ut,kr;Object.defineProperties($t,{defaultProps:{configurable:!0,get:function(){return Ut},set:function(En){Ke("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ut=En,Object.defineProperty($t,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return kr},set:function(En){Ke("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),kr=En,Object.defineProperty($t,"propTypes",{enumerable:!0})}}})}return $t}function Sc(Se){Se!=null&&Se.$$typeof===A?Ke("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof Se!="function"?Ke("forwardRef requires a render function but was given %s.",Se===null?"null":typeof Se):Se.length!==0&&Se.length!==2&&Ke("forwardRef render functions accept exactly two parameters: props and ref. %s",Se.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),Se!=null&&(Se.defaultProps!=null||Se.propTypes!=null)&&Ke("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var vt={$$typeof:b,render:Se};{var $t;Object.defineProperty(vt,"displayName",{enumerable:!1,configurable:!0,get:function(){return $t},set:function(Ut){$t=Ut,Se.displayName==null&&(Se.displayName=Ut)}})}return vt}var uh=!1;function Ac(Se){return!!(typeof Se=="string"||typeof Se=="function"||Se===n.Fragment||Se===n.Profiler||Se===L||Se===n.StrictMode||Se===n.Suspense||Se===w||Se===z||uh||typeof Se=="object"&&Se!==null&&(Se.$$typeof===I||Se.$$typeof===A||Se.$$typeof===d||Se.$$typeof===m||Se.$$typeof===b||Se.$$typeof===D||Se.$$typeof===N||Se[0]===R))}function ht(Se,vt){Ac(Se)||Ke("memo: The first argument must be a component. Instead received: %s",Se===null?"null":typeof Se);var $t={$$typeof:A,type:Se,compare:vt===void 0?null:vt};{var Ut;Object.defineProperty($t,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ut},set:function(kr){Ut=kr,Se.displayName==null&&(Se.displayName=kr)}})}return $t}function rr(){var Se=q.current;if(Se===null)throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`);return Se}function Pr(Se,vt){var $t=rr();if(vt!==void 0&&Ke("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",vt,typeof vt=="number"&&Array.isArray(arguments[2])?`

Did you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks`:""),Se._context!==void 0){var Ut=Se._context;Ut.Consumer===Se?Ke("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Ut.Provider===Se&&Ke("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return $t.useContext(Se,vt)}function hn(Se){var vt=rr();return vt.useState(Se)}function fi(Se,vt,$t){var Ut=rr();return Ut.useReducer(Se,vt,$t)}function Ci(Se){var vt=rr();return vt.useRef(Se)}function Un(Se,vt){var $t=rr();return $t.useEffect(Se,vt)}function Gn(Se,vt){var $t=rr();return $t.useLayoutEffect(Se,vt)}function Kn(Se,vt){var $t=rr();return $t.useCallback(Se,vt)}function fa(Se,vt){var $t=rr();return $t.useMemo(Se,vt)}function Sa(Se,vt,$t){var Ut=rr();return Ut.useImperativeHandle(Se,vt,$t)}function Pi(Se,vt){{var $t=rr();return $t.useDebugValue(Se,vt)}}var Ho=0,Hd,Hs,xb,jv,Um,Wv,Xv;function Yv(){}Yv.__reactDisabledLog=!0;function Cu(){{if(Ho===0){Hd=console.log,Hs=console.info,xb=console.warn,jv=console.error,Um=console.group,Wv=console.groupCollapsed,Xv=console.groupEnd;var Se={configurable:!0,enumerable:!0,value:Yv,writable:!0};Object.defineProperties(console,{info:Se,log:Se,warn:Se,error:Se,group:Se,groupCollapsed:Se,groupEnd:Se})}Ho++}}function xu(){{if(Ho--,Ho===0){var Se={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:o({},Se,{value:Hd}),info:o({},Se,{value:Hs}),warn:o({},Se,{value:xb}),error:o({},Se,{value:jv}),group:o({},Se,{value:Um}),groupCollapsed:o({},Se,{value:Wv}),groupEnd:o({},Se,{value:Xv})})}Ho<0&&Ke("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Gm=Ce.ReactCurrentDispatcher,$m;function Vl(Se,vt,$t){{if($m===void 0)try{throw Error()}catch(kr){var Ut=kr.stack.trim().match(/\n( *(at )?)/);$m=Ut&&Ut[1]||""}return`
`+$m+Se}}var zm=!1,Sf;{var FI=typeof WeakMap=="function"?WeakMap:Map;Sf=new FI}function qv(Se,vt){if(!Se||zm)return"";{var $t=Sf.get(Se);if($t!==void 0)return $t}var Ut;zm=!0;var kr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var En;En=Gm.current,Gm.current=null,Cu();try{if(vt){var ln=function(){throw Error()};if(Object.defineProperty(ln.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ln,[])}catch(xo){Ut=xo}Reflect.construct(Se,[],ln)}else{try{ln.call()}catch(xo){Ut=xo}Se.call(ln.prototype)}}else{try{throw Error()}catch(xo){Ut=xo}Se()}}catch(xo){if(xo&&Ut&&typeof xo.stack=="string"){for(var an=xo.stack.split(`
`),xi=Ut.stack.split(`
`),nn=an.length-1,ya=xi.length-1;nn>=1&&ya>=0&&an[nn]!==xi[ya];)ya--;for(;nn>=1&&ya>=0;nn--,ya--)if(an[nn]!==xi[ya]){if(nn!==1||ya!==1)do if(nn--,ya--,ya<0||an[nn]!==xi[ya]){var Na=`
`+an[nn].replace(" at new "," at ");return typeof Se=="function"&&Sf.set(Se,Na),Na}while(nn>=1&&ya>=0);break}}}finally{zm=!1,Gm.current=En,xu(),Error.prepareStackTrace=kr}var ps=Se?Se.displayName||Se.name:"",oi=ps?Vl(ps):"";return typeof Se=="function"&&Sf.set(Se,oi),oi}function wE(Se,vt,$t){return qv(Se,!1)}function Vm(Se){var vt=Se.prototype;return!!(vt&&vt.isReactComponent)}function Zv(Se,vt,$t){if(Se==null)return"";if(typeof Se=="function")return qv(Se,Vm(Se));if(typeof Se=="string")return Vl(Se);switch(Se){case n.Suspense:return Vl("Suspense");case w:return Vl("SuspenseList")}if(typeof Se=="object")switch(Se.$$typeof){case b:return wE(Se.render);case A:return Zv(Se.type,vt,$t);case N:return wE(Se._render);case I:{var Ut=Se,kr=Ut._payload,En=Ut._init;try{return Zv(En(kr),vt,$t)}catch{}}}return""}var Kv={},CE=Ce.ReactDebugCurrentFrame;function jm(Se){if(Se){var vt=Se._owner,$t=Zv(Se.type,Se._source,vt?vt.type:null);CE.setExtraStackFrame($t)}else CE.setExtraStackFrame(null)}function BI(Se,vt,$t,Ut,kr){{var En=Function.call.bind(Object.prototype.hasOwnProperty);for(var ln in Se)if(En(Se,ln)){var an=void 0;try{if(typeof Se[ln]!="function"){var xi=Error((Ut||"React class")+": "+$t+" type `"+ln+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Se[ln]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw xi.name="Invariant Violation",xi}an=Se[ln](vt,ln,Ut,$t,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nn){an=nn}an&&!(an instanceof Error)&&(jm(kr),Ke("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ut||"React class",$t,ln,typeof an),jm(null)),an instanceof Error&&!(an.message in Kv)&&(Kv[an.message]=!0,jm(kr),Ke("Failed %s type: %s",$t,an.message),jm(null))}}}function Af(Se){if(Se){var vt=Se._owner,$t=Zv(Se.type,Se._source,vt?vt.type:null);F($t)}else F(null)}var Or;Or=!1;function Ib(){if(ce.current){var Se=Wt(ce.current.type);if(Se)return`

Check the render method of \``+Se+"`."}return""}function ds(Se){if(Se!==void 0){var vt=Se.fileName.replace(/^.*[\\\/]/,""),$t=Se.lineNumber;return`

Check your code at `+vt+":"+$t+"."}return""}function Ud(Se){return Se!=null?ds(Se.__source):""}var Gd={};function HI(Se){var vt=Ib();if(!vt){var $t=typeof Se=="string"?Se:Se.displayName||Se.name;$t&&(vt=`

Check the top-level render call using <`+$t+">.")}return vt}function es(Se,vt){if(!(!Se._store||Se._store.validated||Se.key!=null)){Se._store.validated=!0;var $t=HI(vt);if(!Gd[$t]){Gd[$t]=!0;var Ut="";Se&&Se._owner&&Se._owner!==ce.current&&(Ut=" It was passed a child from "+Wt(Se._owner.type)+"."),Af(Se),Ke('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',$t,Ut),Af(null)}}}function ao(Se,vt){if(typeof Se=="object"){if(Array.isArray(Se))for(var $t=0;$t<Se.length;$t++){var Ut=Se[$t];Ea(Ut)&&es(Ut,vt)}else if(Ea(Se))Se._store&&(Se._store.validated=!0);else if(Se){var kr=Y(Se);if(typeof kr=="function"&&kr!==Se.entries)for(var En=kr.call(Se),ln;!(ln=En.next()).done;)Ea(ln.value)&&es(ln.value,vt)}}}function jl(Se){{var vt=Se.type;if(vt==null||typeof vt=="string")return;var $t;if(typeof vt=="function")$t=vt.propTypes;else if(typeof vt=="object"&&(vt.$$typeof===b||vt.$$typeof===A))$t=vt.propTypes;else return;if($t){var Ut=Wt(vt);BI($t,Se.props,"prop",Ut,Se)}else if(vt.PropTypes!==void 0&&!Or){Or=!0;var kr=Wt(vt);Ke("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",kr||"Unknown")}typeof vt.getDefaultProps=="function"&&!vt.getDefaultProps.isReactClassApproved&&Ke("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function UI(Se){{for(var vt=Object.keys(Se.props),$t=0;$t<vt.length;$t++){var Ut=vt[$t];if(Ut!=="children"&&Ut!=="key"){Af(Se),Ke("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ut),Af(null);break}}Se.ref!==null&&(Af(Se),Ke("Invalid attribute `ref` supplied to `React.Fragment`."),Af(null))}}function Us(Se,vt,$t){var Ut=Ac(Se);if(!Ut){var kr="";(Se===void 0||typeof Se=="object"&&Se!==null&&Object.keys(Se).length===0)&&(kr+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var En=Ud(vt);En?kr+=En:kr+=Ib();var ln;Se===null?ln="null":Array.isArray(Se)?ln="array":Se!==void 0&&Se.$$typeof===l?(ln="<"+(Wt(Se.type)||"Unknown")+" />",kr=" Did you accidentally export a JSX literal instead of a component?"):ln=typeof Se,Ke("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ln,kr)}var an=mo.apply(this,arguments);if(an==null)return an;if(Ut)for(var xi=2;xi<arguments.length;xi++)ao(arguments[xi],Se);return Se===n.Fragment?UI(an):jl(an),an}var wc=!1;function GI(Se){var vt=Us.bind(null,Se);return vt.type=Se,wc||(wc=!0,ve("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(vt,"type",{enumerable:!1,get:function(){return ve("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:Se}),Se}}),vt}function Qv(Se,vt,$t){for(var Ut=io.apply(this,arguments),kr=2;kr<arguments.length;kr++)ao(arguments[kr],Ut.type);return jl(Ut),Ut}try{var Db=Object.freeze({})}catch{}var xE=Us,$I=Qv,zI=GI,Ob={map:Rt,forEach:tn,count:Rr,toArray:Tn,only:In};n.Children=Ob,n.Component=qe,n.PureComponent=Gt,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ce,n.cloneElement=$I,n.createContext=wn,n.createElement=xE,n.createFactory=zI,n.createRef=ir,n.forwardRef=Sc,n.isValidElement=Ea,n.lazy=Bd,n.memo=ht,n.useCallback=Kn,n.useContext=Pr,n.useDebugValue=Pi,n.useEffect=Un,n.useImperativeHandle=Sa,n.useLayoutEffect=Gn,n.useMemo=fa,n.useReducer=fi,n.useRef=Ci,n.useState=hn,n.version=i})()})(WTe);jTe.exports=WTe;var mr=jTe.exports;const oh=_f(mr),jve=Cnt({__proto__:null,default:oh},[mr]);/** @license React v17.0.2
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){var o=mr,i=KU,l=60103,c=60106;n.Fragment=60107;var d=60108,m=60114,b=60109,w=60110,A=60112,I=60113,N=60120,R=60115,D=60116,L=60121,z=60122,V=60117,te=60129,fe=60131;if(typeof Symbol=="function"&&Symbol.for){var Y=Symbol.for;l=Y("react.element"),c=Y("react.portal"),n.Fragment=Y("react.fragment"),d=Y("react.strict_mode"),m=Y("react.profiler"),b=Y("react.provider"),w=Y("react.context"),A=Y("react.forward_ref"),I=Y("react.suspense"),N=Y("react.suspense_list"),R=Y("react.memo"),D=Y("react.lazy"),L=Y("react.block"),z=Y("react.server.block"),V=Y("react.fundamental"),Y("react.scope"),Y("react.opaque.id"),te=Y("react.debug_trace_mode"),Y("react.offscreen"),fe=Y("react.legacy_hidden")}var q=typeof Symbol=="function"&&Symbol.iterator,K="@@iterator";function ce(ht){if(ht===null||typeof ht!="object")return null;var rr=q&&ht[q]||ht[K];return typeof rr=="function"?rr:null}var re=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ge(ht){{for(var rr=arguments.length,Pr=new Array(rr>1?rr-1:0),hn=1;hn<rr;hn++)Pr[hn-1]=arguments[hn];F("error",ht,Pr)}}function F(ht,rr,Pr){{var hn=re.ReactDebugCurrentFrame,fi=hn.getStackAddendum();fi!==""&&(rr+="%s",Pr=Pr.concat([fi]));var Ci=Pr.map(function(Un){return""+Un});Ci.unshift("Warning: "+rr),Function.prototype.apply.call(console[ht],console,Ci)}}var Te=!1;function Ce(ht){return!!(typeof ht=="string"||typeof ht=="function"||ht===n.Fragment||ht===m||ht===te||ht===d||ht===I||ht===N||ht===fe||Te||typeof ht=="object"&&ht!==null&&(ht.$$typeof===D||ht.$$typeof===R||ht.$$typeof===b||ht.$$typeof===w||ht.$$typeof===A||ht.$$typeof===V||ht.$$typeof===L||ht[0]===z))}function ve(ht,rr,Pr){var hn=rr.displayName||rr.name||"";return ht.displayName||(hn!==""?Pr+"("+hn+")":Pr)}function Ke(ht){return ht.displayName||"Context"}function ot(ht){if(ht==null)return null;if(typeof ht.tag=="number"&&ge("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht;switch(ht){case n.Fragment:return"Fragment";case c:return"Portal";case m:return"Profiler";case d:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if(typeof ht=="object")switch(ht.$$typeof){case w:var rr=ht;return Ke(rr)+".Consumer";case b:var Pr=ht;return Ke(Pr._context)+".Provider";case A:return ve(ht,ht.render,"ForwardRef");case R:return ot(ht.type);case L:return ot(ht._render);case D:{var hn=ht,fi=hn._payload,Ci=hn._init;try{return ot(Ci(fi))}catch{return null}}}return null}var $=0,lt,Tt,Be,qe,We,Ge,nt;function St(){}St.__reactDisabledLog=!0;function Gt(){{if($===0){lt=console.log,Tt=console.info,Be=console.warn,qe=console.error,We=console.group,Ge=console.groupCollapsed,nt=console.groupEnd;var ht={configurable:!0,enumerable:!0,value:St,writable:!0};Object.defineProperties(console,{info:ht,log:ht,warn:ht,error:ht,group:ht,groupCollapsed:ht,groupEnd:ht})}$++}}function Zt(){{if($--,$===0){var ht={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:i({},ht,{value:lt}),info:i({},ht,{value:Tt}),warn:i({},ht,{value:Be}),error:i({},ht,{value:qe}),group:i({},ht,{value:We}),groupCollapsed:i({},ht,{value:Ge}),groupEnd:i({},ht,{value:nt})})}$<0&&ge("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ir=re.ReactCurrentDispatcher,zt;function Qt(ht,rr,Pr){{if(zt===void 0)try{throw Error()}catch(fi){var hn=fi.stack.trim().match(/\n( *(at )?)/);zt=hn&&hn[1]||""}return`
`+zt+ht}}var Wt=!1,yr;{var br=typeof WeakMap=="function"?WeakMap:Map;yr=new br}function Pt(ht,rr){if(!ht||Wt)return"";{var Pr=yr.get(ht);if(Pr!==void 0)return Pr}var hn;Wt=!0;var fi=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ci;Ci=ir.current,ir.current=null,Gt();try{if(rr){var Un=function(){throw Error()};if(Object.defineProperty(Un.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Un,[])}catch(Hs){hn=Hs}Reflect.construct(ht,[],Un)}else{try{Un.call()}catch(Hs){hn=Hs}ht.call(Un.prototype)}}else{try{throw Error()}catch(Hs){hn=Hs}ht()}}catch(Hs){if(Hs&&hn&&typeof Hs.stack=="string"){for(var Gn=Hs.stack.split(`
`),Kn=hn.stack.split(`
`),fa=Gn.length-1,Sa=Kn.length-1;fa>=1&&Sa>=0&&Gn[fa]!==Kn[Sa];)Sa--;for(;fa>=1&&Sa>=0;fa--,Sa--)if(Gn[fa]!==Kn[Sa]){if(fa!==1||Sa!==1)do if(fa--,Sa--,Sa<0||Gn[fa]!==Kn[Sa]){var Pi=`
`+Gn[fa].replace(" at new "," at ");return typeof ht=="function"&&yr.set(ht,Pi),Pi}while(fa>=1&&Sa>=0);break}}}finally{Wt=!1,ir.current=Ci,Zt(),Error.prepareStackTrace=fi}var Ho=ht?ht.displayName||ht.name:"",Hd=Ho?Qt(Ho):"";return typeof ht=="function"&&yr.set(ht,Hd),Hd}function Dr(ht,rr,Pr){return Pt(ht,!1)}function Gr(ht){var rr=ht.prototype;return!!(rr&&rr.isReactComponent)}function rn(ht,rr,Pr){if(ht==null)return"";if(typeof ht=="function")return Pt(ht,Gr(ht));if(typeof ht=="string")return Qt(ht);switch(ht){case I:return Qt("Suspense");case N:return Qt("SuspenseList")}if(typeof ht=="object")switch(ht.$$typeof){case A:return Dr(ht.render);case R:return rn(ht.type,rr,Pr);case L:return Dr(ht._render);case D:{var hn=ht,fi=hn._payload,Ci=hn._init;try{return rn(Ci(fi),rr,Pr)}catch{}}}return""}var yi={},ra=re.ReactDebugCurrentFrame;function na(ht){if(ht){var rr=ht._owner,Pr=rn(ht.type,ht._source,rr?rr.type:null);ra.setExtraStackFrame(Pr)}else ra.setExtraStackFrame(null)}function Co(ht,rr,Pr,hn,fi){{var Ci=Function.call.bind(Object.prototype.hasOwnProperty);for(var Un in ht)if(Ci(ht,Un)){var Gn=void 0;try{if(typeof ht[Un]!="function"){var Kn=Error((hn||"React class")+": "+Pr+" type `"+Un+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ht[Un]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Kn.name="Invariant Violation",Kn}Gn=ht[Un](rr,Un,hn,Pr,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(fa){Gn=fa}Gn&&!(Gn instanceof Error)&&(na(fi),ge("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",hn||"React class",Pr,Un,typeof Gn),na(null)),Gn instanceof Error&&!(Gn.message in yi)&&(yi[Gn.message]=!0,na(fi),ge("Failed %s type: %s",Pr,Gn.message),na(null))}}}var Ta=re.ReactCurrentOwner,mo=Object.prototype.hasOwnProperty,ga={key:!0,ref:!0,__self:!0,__source:!0},io,Ea,va;va={};function Qi(ht){if(mo.call(ht,"ref")){var rr=Object.getOwnPropertyDescriptor(ht,"ref").get;if(rr&&rr.isReactWarning)return!1}return ht.ref!==void 0}function xe(ht){if(mo.call(ht,"key")){var rr=Object.getOwnPropertyDescriptor(ht,"key").get;if(rr&&rr.isReactWarning)return!1}return ht.key!==void 0}function le(ht,rr){if(typeof ht.ref=="string"&&Ta.current&&rr&&Ta.current.stateNode!==rr){var Pr=ot(Ta.current.type);va[Pr]||(ge('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ot(Ta.current.type),ht.ref),va[Pr]=!0)}}function de(ht,rr){{var Pr=function(){io||(io=!0,ge("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",rr))};Pr.isReactWarning=!0,Object.defineProperty(ht,"key",{get:Pr,configurable:!0})}}function $e(ht,rr){{var Pr=function(){Ea||(Ea=!0,ge("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",rr))};Pr.isReactWarning=!0,Object.defineProperty(ht,"ref",{get:Pr,configurable:!0})}}var Qe=function(ht,rr,Pr,hn,fi,Ci,Un){var Gn={$$typeof:l,type:ht,key:rr,ref:Pr,props:Un,_owner:Ci};return Gn._store={},Object.defineProperty(Gn._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Gn,"_self",{configurable:!1,enumerable:!1,writable:!1,value:hn}),Object.defineProperty(Gn,"_source",{configurable:!1,enumerable:!1,writable:!1,value:fi}),Object.freeze&&(Object.freeze(Gn.props),Object.freeze(Gn)),Gn};function pt(ht,rr,Pr,hn,fi){{var Ci,Un={},Gn=null,Kn=null;Pr!==void 0&&(Gn=""+Pr),xe(rr)&&(Gn=""+rr.key),Qi(rr)&&(Kn=rr.ref,le(rr,fi));for(Ci in rr)mo.call(rr,Ci)&&!ga.hasOwnProperty(Ci)&&(Un[Ci]=rr[Ci]);if(ht&&ht.defaultProps){var fa=ht.defaultProps;for(Ci in fa)Un[Ci]===void 0&&(Un[Ci]=fa[Ci])}if(Gn||Kn){var Sa=typeof ht=="function"?ht.displayName||ht.name||"Unknown":ht;Gn&&de(Un,Sa),Kn&&$e(Un,Sa)}return Qe(ht,Gn,Kn,fi,hn,Ta.current,Un)}}var Rt=re.ReactCurrentOwner,Rr=re.ReactDebugCurrentFrame;function tn(ht){if(ht){var rr=ht._owner,Pr=rn(ht.type,ht._source,rr?rr.type:null);Rr.setExtraStackFrame(Pr)}else Rr.setExtraStackFrame(null)}var Tn;Tn=!1;function In(ht){return typeof ht=="object"&&ht!==null&&ht.$$typeof===l}function wn(){{if(Rt.current){var ht=ot(Rt.current.type);if(ht)return`

Check the render method of \``+ht+"`."}return""}}function ha(ht){{if(ht!==void 0){var rr=ht.fileName.replace(/^.*[\\\/]/,""),Pr=ht.lineNumber;return`

Check your code at `+rr+":"+Pr+"."}return""}}var Bs={};function Fd(ht){{var rr=wn();if(!rr){var Pr=typeof ht=="string"?ht:ht.displayName||ht.name;Pr&&(rr=`

Check the top-level render call using <`+Pr+">.")}return rr}}function lh(ht,rr){{if(!ht._store||ht._store.validated||ht.key!=null)return;ht._store.validated=!0;var Pr=Fd(rr);if(Bs[Pr])return;Bs[Pr]=!0;var hn="";ht&&ht._owner&&ht._owner!==Rt.current&&(hn=" It was passed a child from "+ot(ht._owner.type)+"."),tn(ht),ge('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Pr,hn),tn(null)}}function Ef(ht,rr){{if(typeof ht!="object")return;if(Array.isArray(ht))for(var Pr=0;Pr<ht.length;Pr++){var hn=ht[Pr];In(hn)&&lh(hn,rr)}else if(In(ht))ht._store&&(ht._store.validated=!0);else if(ht){var fi=ce(ht);if(typeof fi=="function"&&fi!==ht.entries)for(var Ci=fi.call(ht),Un;!(Un=Ci.next()).done;)In(Un.value)&&lh(Un.value,rr)}}}function Bd(ht){{var rr=ht.type;if(rr==null||typeof rr=="string")return;var Pr;if(typeof rr=="function")Pr=rr.propTypes;else if(typeof rr=="object"&&(rr.$$typeof===A||rr.$$typeof===R))Pr=rr.propTypes;else return;if(Pr){var hn=ot(rr);Co(Pr,ht.props,"prop",hn,ht)}else if(rr.PropTypes!==void 0&&!Tn){Tn=!0;var fi=ot(rr);ge("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",fi||"Unknown")}typeof rr.getDefaultProps=="function"&&!rr.getDefaultProps.isReactClassApproved&&ge("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Sc(ht){{for(var rr=Object.keys(ht.props),Pr=0;Pr<rr.length;Pr++){var hn=rr[Pr];if(hn!=="children"&&hn!=="key"){tn(ht),ge("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",hn),tn(null);break}}ht.ref!==null&&(tn(ht),ge("Invalid attribute `ref` supplied to `React.Fragment`."),tn(null))}}function uh(ht,rr,Pr,hn,fi,Ci){{var Un=Ce(ht);if(!Un){var Gn="";(ht===void 0||typeof ht=="object"&&ht!==null&&Object.keys(ht).length===0)&&(Gn+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Kn=ha(fi);Kn?Gn+=Kn:Gn+=wn();var fa;ht===null?fa="null":Array.isArray(ht)?fa="array":ht!==void 0&&ht.$$typeof===l?(fa="<"+(ot(ht.type)||"Unknown")+" />",Gn=" Did you accidentally export a JSX literal instead of a component?"):fa=typeof ht,ge("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",fa,Gn)}var Sa=pt(ht,rr,Pr,fi,Ci);if(Sa==null)return Sa;if(Un){var Pi=rr.children;if(Pi!==void 0)if(hn)if(Array.isArray(Pi)){for(var Ho=0;Ho<Pi.length;Ho++)Ef(Pi[Ho],ht);Object.freeze&&Object.freeze(Pi)}else ge("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ef(Pi,ht)}return ht===n.Fragment?Sc(Sa):Bd(Sa),Sa}}var Ac=uh;n.jsxDEV=Ac})()})(VTe);zTe.exports=VTe;var Xt=zTe.exports,XTe={exports:{}},ef={},YTe={exports:{}},qTe={};/** @license React v0.20.2
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){var o=!1,i=!1,l,c,d,m,b=typeof performance=="object"&&typeof performance.now=="function";if(b){var w=performance;n.unstable_now=function(){return w.now()}}else{var A=Date,I=A.now();n.unstable_now=function(){return A.now()-I}}if(typeof window>"u"||typeof MessageChannel!="function"){var N=null,R=null,D=function(){if(N!==null)try{var Qe=n.unstable_now(),pt=!0;N(pt,Qe),N=null}catch(Rt){throw setTimeout(D,0),Rt}};l=function(Qe){N!==null?setTimeout(l,0,Qe):(N=Qe,setTimeout(D,0))},c=function(Qe,pt){R=setTimeout(Qe,pt)},d=function(){clearTimeout(R)},n.unstable_shouldYield=function(){return!1},m=n.unstable_forceFrameRate=function(){}}else{var L=window.setTimeout,z=window.clearTimeout;if(typeof console<"u"){var V=window.requestAnimationFrame,te=window.cancelAnimationFrame;typeof V!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof te!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var fe=!1,Y=null,q=-1,K=5,ce=0;n.unstable_shouldYield=function(){return n.unstable_now()>=ce},m=function(){},n.unstable_forceFrameRate=function(Qe){if(Qe<0||Qe>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Qe>0?K=Math.floor(1e3/Qe):K=5};var re=function(){if(Y!==null){var Qe=n.unstable_now();ce=Qe+K;var pt=!0;try{var Rt=Y(pt,Qe);Rt?F.postMessage(null):(fe=!1,Y=null)}catch(Rr){throw F.postMessage(null),Rr}}else fe=!1},ge=new MessageChannel,F=ge.port2;ge.port1.onmessage=re,l=function(Qe){Y=Qe,fe||(fe=!0,F.postMessage(null))},c=function(Qe,pt){q=L(function(){Qe(n.unstable_now())},pt)},d=function(){z(q),q=-1}}function Te(Qe,pt){var Rt=Qe.length;Qe.push(pt),Ke(Qe,pt,Rt)}function Ce(Qe){var pt=Qe[0];return pt===void 0?null:pt}function ve(Qe){var pt=Qe[0];if(pt!==void 0){var Rt=Qe.pop();return Rt!==pt&&(Qe[0]=Rt,ot(Qe,Rt,0)),pt}else return null}function Ke(Qe,pt,Rt){for(var Rr=Rt;;){var tn=Rr-1>>>1,Tn=Qe[tn];if(Tn!==void 0&&$(Tn,pt)>0)Qe[tn]=pt,Qe[Rr]=Tn,Rr=tn;else return}}function ot(Qe,pt,Rt){for(var Rr=Rt,tn=Qe.length;Rr<tn;){var Tn=(Rr+1)*2-1,In=Qe[Tn],wn=Tn+1,ha=Qe[wn];if(In!==void 0&&$(In,pt)<0)ha!==void 0&&$(ha,In)<0?(Qe[Rr]=ha,Qe[wn]=pt,Rr=wn):(Qe[Rr]=In,Qe[Tn]=pt,Rr=Tn);else if(ha!==void 0&&$(ha,pt)<0)Qe[Rr]=ha,Qe[wn]=pt,Rr=wn;else return}}function $(Qe,pt){var Rt=Qe.sortIndex-pt.sortIndex;return Rt!==0?Rt:Qe.id-pt.id}var lt=1,Tt=2,Be=3,qe=4,We=5;function Ge(Qe,pt){}var nt=1073741823,St=-1,Gt=250,Zt=5e3,ir=1e4,zt=nt,Qt=[],Wt=[],yr=1,br=null,Pt=Be,Dr=!1,Gr=!1,rn=!1;function yi(Qe){for(var pt=Ce(Wt);pt!==null;){if(pt.callback===null)ve(Wt);else if(pt.startTime<=Qe)ve(Wt),pt.sortIndex=pt.expirationTime,Te(Qt,pt);else return;pt=Ce(Wt)}}function ra(Qe){if(rn=!1,yi(Qe),!Gr)if(Ce(Qt)!==null)Gr=!0,l(na);else{var pt=Ce(Wt);pt!==null&&c(ra,pt.startTime-Qe)}}function na(Qe,pt){Gr=!1,rn&&(rn=!1,d()),Dr=!0;var Rt=Pt;try{var Rr;if(!i)return Co(Qe,pt)}finally{br=null,Pt=Rt,Dr=!1}}function Co(Qe,pt){var Rt=pt;for(yi(Rt),br=Ce(Qt);br!==null&&!o&&!(br.expirationTime>Rt&&(!Qe||n.unstable_shouldYield()));){var Rr=br.callback;if(typeof Rr=="function"){br.callback=null,Pt=br.priorityLevel;var tn=br.expirationTime<=Rt,Tn=Rr(tn);Rt=n.unstable_now(),typeof Tn=="function"?br.callback=Tn:br===Ce(Qt)&&ve(Qt),yi(Rt)}else ve(Qt);br=Ce(Qt)}if(br!==null)return!0;var In=Ce(Wt);return In!==null&&c(ra,In.startTime-Rt),!1}function Ta(Qe,pt){switch(Qe){case lt:case Tt:case Be:case qe:case We:break;default:Qe=Be}var Rt=Pt;Pt=Qe;try{return pt()}finally{Pt=Rt}}function mo(Qe){var pt;switch(Pt){case lt:case Tt:case Be:pt=Be;break;default:pt=Pt;break}var Rt=Pt;Pt=pt;try{return Qe()}finally{Pt=Rt}}function ga(Qe){var pt=Pt;return function(){var Rt=Pt;Pt=pt;try{return Qe.apply(this,arguments)}finally{Pt=Rt}}}function io(Qe,pt,Rt){var Rr=n.unstable_now(),tn;if(typeof Rt=="object"&&Rt!==null){var Tn=Rt.delay;typeof Tn=="number"&&Tn>0?tn=Rr+Tn:tn=Rr}else tn=Rr;var In;switch(Qe){case lt:In=St;break;case Tt:In=Gt;break;case We:In=zt;break;case qe:In=ir;break;case Be:default:In=Zt;break}var wn=tn+In,ha={id:yr++,callback:pt,priorityLevel:Qe,startTime:tn,expirationTime:wn,sortIndex:-1};return tn>Rr?(ha.sortIndex=tn,Te(Wt,ha),Ce(Qt)===null&&ha===Ce(Wt)&&(rn?d():rn=!0,c(ra,tn-Rr))):(ha.sortIndex=wn,Te(Qt,ha),!Gr&&!Dr&&(Gr=!0,l(na))),ha}function Ea(){}function va(){!Gr&&!Dr&&(Gr=!0,l(na))}function Qi(){return Ce(Qt)}function xe(Qe){Qe.callback=null}function le(){return Pt}var de=m,$e=null;n.unstable_IdlePriority=We,n.unstable_ImmediatePriority=lt,n.unstable_LowPriority=qe,n.unstable_NormalPriority=Be,n.unstable_Profiling=$e,n.unstable_UserBlockingPriority=Tt,n.unstable_cancelCallback=xe,n.unstable_continueExecution=va,n.unstable_getCurrentPriorityLevel=le,n.unstable_getFirstCallbackNode=Qi,n.unstable_next=mo,n.unstable_pauseExecution=Ea,n.unstable_requestPaint=de,n.unstable_runWithPriority=Ta,n.unstable_scheduleCallback=io,n.unstable_wrapCallback=ga})()})(qTe);YTe.exports=qTe;var Rnt=YTe.exports,ZTe={exports:{}},KTe={};/** @license React v0.20.2
 * scheduler-tracing.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){var o=0,i=0,l=0;n.__interactionsRef=null,n.__subscriberRef=null,n.__interactionsRef={current:new Set},n.__subscriberRef={current:null};function c(fe){var Y=n.__interactionsRef.current;n.__interactionsRef.current=new Set;try{return fe()}finally{n.__interactionsRef.current=Y}}function d(){return n.__interactionsRef.current}function m(){return++l}function b(fe,Y,q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o,ce={__count:1,id:i++,name:fe,timestamp:Y},re=n.__interactionsRef.current,ge=new Set(re);ge.add(ce),n.__interactionsRef.current=ge;var F=n.__subscriberRef.current,Te;try{F!==null&&F.onInteractionTraced(ce)}finally{try{F!==null&&F.onWorkStarted(ge,K)}finally{try{Te=q()}finally{n.__interactionsRef.current=re;try{F!==null&&F.onWorkStopped(ge,K)}finally{ce.__count--,F!==null&&ce.__count===0&&F.onInteractionScheduledWorkCompleted(ce)}}}}return Te}function w(fe){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,q=n.__interactionsRef.current,K=n.__subscriberRef.current;K!==null&&K.onWorkScheduled(q,Y),q.forEach(function(ge){ge.__count++});var ce=!1;function re(){var ge=n.__interactionsRef.current;n.__interactionsRef.current=q,K=n.__subscriberRef.current;try{var F;try{K!==null&&K.onWorkStarted(q,Y)}finally{try{F=fe.apply(void 0,arguments)}finally{n.__interactionsRef.current=ge,K!==null&&K.onWorkStopped(q,Y)}}return F}finally{ce||(ce=!0,q.forEach(function(Te){Te.__count--,K!==null&&Te.__count===0&&K.onInteractionScheduledWorkCompleted(Te)}))}}return re.cancel=function(){K=n.__subscriberRef.current;try{K!==null&&K.onWorkCanceled(q,Y)}finally{q.forEach(function(F){F.__count--,K&&F.__count===0&&K.onInteractionScheduledWorkCompleted(F)})}},re}var A=null;A=new Set;function I(fe){A.add(fe),A.size===1&&(n.__subscriberRef.current={onInteractionScheduledWorkCompleted:D,onInteractionTraced:R,onWorkCanceled:te,onWorkScheduled:L,onWorkStarted:z,onWorkStopped:V})}function N(fe){A.delete(fe),A.size===0&&(n.__subscriberRef.current=null)}function R(fe){var Y=!1,q=null;if(A.forEach(function(K){try{K.onInteractionTraced(fe)}catch(ce){Y||(Y=!0,q=ce)}}),Y)throw q}function D(fe){var Y=!1,q=null;if(A.forEach(function(K){try{K.onInteractionScheduledWorkCompleted(fe)}catch(ce){Y||(Y=!0,q=ce)}}),Y)throw q}function L(fe,Y){var q=!1,K=null;if(A.forEach(function(ce){try{ce.onWorkScheduled(fe,Y)}catch(re){q||(q=!0,K=re)}}),q)throw K}function z(fe,Y){var q=!1,K=null;if(A.forEach(function(ce){try{ce.onWorkStarted(fe,Y)}catch(re){q||(q=!0,K=re)}}),q)throw K}function V(fe,Y){var q=!1,K=null;if(A.forEach(function(ce){try{ce.onWorkStopped(fe,Y)}catch(re){q||(q=!0,K=re)}}),q)throw K}function te(fe,Y){var q=!1,K=null;if(A.forEach(function(ce){try{ce.onWorkCanceled(fe,Y)}catch(re){q||(q=!0,K=re)}}),q)throw K}n.unstable_clear=c,n.unstable_getCurrent=d,n.unstable_getThreadID=m,n.unstable_subscribe=I,n.unstable_trace=b,n.unstable_unsubscribe=N,n.unstable_wrap=w})()})(KTe);ZTe.exports=KTe;var Pnt=ZTe.exports;/** @license React v17.0.2
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=mr,o=KU,i=Rnt,l=Pnt,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function d(y){{for(var _=arguments.length,C=new Array(_>1?_-1:0),k=1;k<_;k++)C[k-1]=arguments[k];b("warn",y,C)}}function m(y){{for(var _=arguments.length,C=new Array(_>1?_-1:0),k=1;k<_;k++)C[k-1]=arguments[k];b("error",y,C)}}function b(y,_,C){{var k=c.ReactDebugCurrentFrame,H=k.getStackAddendum();H!==""&&(_+="%s",C=C.concat([H]));var W=C.map(function(ie){return""+ie});W.unshift("Warning: "+_),Function.prototype.apply.call(console[y],console,W)}}if(!n)throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var w=0,A=1,I=2,N=3,R=4,D=5,L=6,z=7,V=8,te=9,fe=10,Y=11,q=12,K=13,ce=14,re=15,ge=16,F=17,Te=18,Ce=19,ve=20,Ke=21,ot=22,$=23,lt=24,Tt=!0,Be=!1,qe=!1,We=!1,Ge=new Set,nt={},St={};function Gt(y,_){Zt(y,_),Zt(y+"Capture",_)}function Zt(y,_){nt[y]&&m("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",y),nt[y]=_;{var C=y.toLowerCase();St[C]=y,y==="onDoubleClick"&&(St.ondblclick=y)}for(var k=0;k<_.length;k++)Ge.add(_[k])}var ir=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zt=0,Qt=1,Wt=2,yr=3,br=4,Pt=5,Dr=6,Gr=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",rn=Gr+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",yi="data-reactroot",ra=new RegExp("^["+Gr+"]["+rn+"]*$"),na=Object.prototype.hasOwnProperty,Co={},Ta={};function mo(y){return na.call(Ta,y)?!0:na.call(Co,y)?!1:ra.test(y)?(Ta[y]=!0,!0):(Co[y]=!0,m("Invalid attribute name: `%s`",y),!1)}function ga(y,_,C){return _!==null?_.type===zt:C?!1:y.length>2&&(y[0]==="o"||y[0]==="O")&&(y[1]==="n"||y[1]==="N")}function io(y,_,C,k){if(C!==null&&C.type===zt)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":{if(k)return!1;if(C!==null)return!C.acceptsBooleans;var H=y.toLowerCase().slice(0,5);return H!=="data-"&&H!=="aria-"}default:return!1}}function Ea(y,_,C,k){if(_===null||typeof _>"u"||io(y,_,C,k))return!0;if(k)return!1;if(C!==null)switch(C.type){case yr:return!_;case br:return _===!1;case Pt:return isNaN(_);case Dr:return isNaN(_)||_<1}return!1}function va(y){return xe.hasOwnProperty(y)?xe[y]:null}function Qi(y,_,C,k,H,W,ie){this.acceptsBooleans=_===Wt||_===yr||_===br,this.attributeName=k,this.attributeNamespace=H,this.mustUseProperty=C,this.propertyName=y,this.type=_,this.sanitizeURL=W,this.removeEmptyString=ie}var xe={},le=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];le.forEach(function(y){xe[y]=new Qi(y,zt,!1,y,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var _=y[0],C=y[1];xe[_]=new Qi(_,Qt,!1,C,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(y){xe[y]=new Qi(y,Wt,!1,y.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){xe[y]=new Qi(y,Wt,!1,y,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(y){xe[y]=new Qi(y,yr,!1,y.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(y){xe[y]=new Qi(y,yr,!0,y,null,!1,!1)}),["capture","download"].forEach(function(y){xe[y]=new Qi(y,br,!1,y,null,!1,!1)}),["cols","rows","size","span"].forEach(function(y){xe[y]=new Qi(y,Dr,!1,y,null,!1,!1)}),["rowSpan","start"].forEach(function(y){xe[y]=new Qi(y,Pt,!1,y.toLowerCase(),null,!1,!1)});var de=/[\-\:]([a-z])/g,$e=function(y){return y[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(y){var _=y.replace(de,$e);xe[_]=new Qi(_,Qt,!1,y,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(y){var _=y.replace(de,$e);xe[_]=new Qi(_,Qt,!1,y,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(y){var _=y.replace(de,$e);xe[_]=new Qi(_,Qt,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(y){xe[y]=new Qi(y,Qt,!1,y.toLowerCase(),null,!1,!1)});var Qe="xlinkHref";xe[Qe]=new Qi("xlinkHref",Qt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(y){xe[y]=new Qi(y,Qt,!1,y.toLowerCase(),null,!0,!0)});var pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Rt=!1;function Rr(y){!Rt&&pt.test(y)&&(Rt=!0,m("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(y)))}function tn(y,_,C,k){if(k.mustUseProperty){var H=k.propertyName;return y[H]}else{k.sanitizeURL&&Rr(""+C);var W=k.attributeName,ie=null;if(k.type===br){if(y.hasAttribute(W)){var me=y.getAttribute(W);return me===""?!0:Ea(_,C,k,!1)?me:me===""+C?C:me}}else if(y.hasAttribute(W)){if(Ea(_,C,k,!1))return y.getAttribute(W);if(k.type===yr)return C;ie=y.getAttribute(W)}return Ea(_,C,k,!1)?ie===null?C:ie:ie===""+C?C:ie}}function Tn(y,_,C){{if(!mo(_))return;if(J$(C))return C;if(!y.hasAttribute(_))return C===void 0?void 0:null;var k=y.getAttribute(_);return k===""+C?C:k}}function In(y,_,C,k){var H=va(_);if(!ga(_,H,k)){if(Ea(_,C,H,k)&&(C=null),k||H===null){if(mo(_)){var W=_;C===null?y.removeAttribute(W):y.setAttribute(W,""+C)}return}var ie=H.mustUseProperty;if(ie){var me=H.propertyName;if(C===null){var Ae=H.type;y[me]=Ae===yr?!1:""}else y[me]=C;return}var je=H.attributeName,Je=H.attributeNamespace;if(C===null)y.removeAttribute(je);else{var Nt=H.type,ft;Nt===yr||Nt===br&&C===!0?ft="":(ft=""+C,H.sanitizeURL&&Rr(ft.toString())),Je?y.setAttributeNS(Je,je,ft):y.setAttribute(je,ft)}}}var wn=60103,ha=60106,Bs=60107,Fd=60108,lh=60114,Ef=60109,Bd=60110,Sc=60112,uh=60113,Ac=60120,ht=60115,rr=60116,Pr=60121,hn=60119,fi=60128,Ci=60129,Un=60130,Gn=60131;if(typeof Symbol=="function"&&Symbol.for){var Kn=Symbol.for;wn=Kn("react.element"),ha=Kn("react.portal"),Bs=Kn("react.fragment"),Fd=Kn("react.strict_mode"),lh=Kn("react.profiler"),Ef=Kn("react.provider"),Bd=Kn("react.context"),Sc=Kn("react.forward_ref"),uh=Kn("react.suspense"),Ac=Kn("react.suspense_list"),ht=Kn("react.memo"),rr=Kn("react.lazy"),Pr=Kn("react.block"),Kn("react.server.block"),Kn("react.fundamental"),hn=Kn("react.scope"),fi=Kn("react.opaque.id"),Ci=Kn("react.debug_trace_mode"),Un=Kn("react.offscreen"),Gn=Kn("react.legacy_hidden")}var fa=typeof Symbol=="function"&&Symbol.iterator,Sa="@@iterator";function Pi(y){if(y===null||typeof y!="object")return null;var _=fa&&y[fa]||y[Sa];return typeof _=="function"?_:null}var Ho=0,Hd,Hs,xb,jv,Um,Wv,Xv;function Yv(){}Yv.__reactDisabledLog=!0;function Cu(){{if(Ho===0){Hd=console.log,Hs=console.info,xb=console.warn,jv=console.error,Um=console.group,Wv=console.groupCollapsed,Xv=console.groupEnd;var y={configurable:!0,enumerable:!0,value:Yv,writable:!0};Object.defineProperties(console,{info:y,log:y,warn:y,error:y,group:y,groupCollapsed:y,groupEnd:y})}Ho++}}function xu(){{if(Ho--,Ho===0){var y={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:o({},y,{value:Hd}),info:o({},y,{value:Hs}),warn:o({},y,{value:xb}),error:o({},y,{value:jv}),group:o({},y,{value:Um}),groupCollapsed:o({},y,{value:Wv}),groupEnd:o({},y,{value:Xv})})}Ho<0&&m("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Gm=c.ReactCurrentDispatcher,$m;function Vl(y,_,C){{if($m===void 0)try{throw Error()}catch(H){var k=H.stack.trim().match(/\n( *(at )?)/);$m=k&&k[1]||""}return`
`+$m+y}}var zm=!1,Sf;{var FI=typeof WeakMap=="function"?WeakMap:Map;Sf=new FI}function qv(y,_){if(!y||zm)return"";{var C=Sf.get(y);if(C!==void 0)return C}var k;zm=!0;var H=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var W;W=Gm.current,Gm.current=null,Cu();try{if(_){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Kt){k=Kt}Reflect.construct(y,[],ie)}else{try{ie.call()}catch(Kt){k=Kt}y.call(ie.prototype)}}else{try{throw Error()}catch(Kt){k=Kt}y()}}catch(Kt){if(Kt&&k&&typeof Kt.stack=="string"){for(var me=Kt.stack.split(`
`),Ae=k.stack.split(`
`),je=me.length-1,Je=Ae.length-1;je>=1&&Je>=0&&me[je]!==Ae[Je];)Je--;for(;je>=1&&Je>=0;je--,Je--)if(me[je]!==Ae[Je]){if(je!==1||Je!==1)do if(je--,Je--,Je<0||me[je]!==Ae[Je]){var Nt=`
`+me[je].replace(" at new "," at ");return typeof y=="function"&&Sf.set(y,Nt),Nt}while(je>=1&&Je>=0);break}}}finally{zm=!1,Gm.current=W,xu(),Error.prepareStackTrace=H}var ft=y?y.displayName||y.name:"",Lt=ft?Vl(ft):"";return typeof y=="function"&&Sf.set(y,Lt),Lt}function wE(y,_,C){return qv(y,!0)}function Vm(y,_,C){return qv(y,!1)}function Zv(y){var _=y.prototype;return!!(_&&_.isReactComponent)}function Kv(y,_,C){if(y==null)return"";if(typeof y=="function")return qv(y,Zv(y));if(typeof y=="string")return Vl(y);switch(y){case uh:return Vl("Suspense");case Ac:return Vl("SuspenseList")}if(typeof y=="object")switch(y.$$typeof){case Sc:return Vm(y.render);case ht:return Kv(y.type,_,C);case Pr:return Vm(y._render);case rr:{var k=y,H=k._payload,W=k._init;try{return Kv(W(H),_,C)}catch{}}}return""}function CE(y){switch(y._debugOwner&&y._debugOwner.type,y._debugSource,y.tag){case D:return Vl(y.type);case ge:return Vl("Lazy");case K:return Vl("Suspense");case Ce:return Vl("SuspenseList");case w:case I:case re:return Vm(y.type);case Y:return Vm(y.type.render);case ot:return Vm(y.type._render);case A:return wE(y.type);default:return""}}function jm(y){try{var _="",C=y;do _+=CE(C),C=C.return;while(C);return _}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function BI(y,_,C){var k=_.displayName||_.name||"";return y.displayName||(k!==""?C+"("+k+")":C)}function Af(y){return y.displayName||"Context"}function Or(y){if(y==null)return null;if(typeof y.tag=="number"&&m("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case Bs:return"Fragment";case ha:return"Portal";case lh:return"Profiler";case Fd:return"StrictMode";case uh:return"Suspense";case Ac:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case Bd:var _=y;return Af(_)+".Consumer";case Ef:var C=y;return Af(C._context)+".Provider";case Sc:return BI(y,y.render,"ForwardRef");case ht:return Or(y.type);case Pr:return Or(y._render);case rr:{var k=y,H=k._payload,W=k._init;try{return Or(W(H))}catch{return null}}}return null}var Ib=c.ReactDebugCurrentFrame,ds=null,Ud=!1;function Gd(){{if(ds===null)return null;var y=ds._debugOwner;if(y!==null&&typeof y<"u")return Or(y.type)}return null}function HI(){return ds===null?"":jm(ds)}function es(){Ib.getCurrentStack=null,ds=null,Ud=!1}function ao(y){Ib.getCurrentStack=HI,ds=y,Ud=!1}function jl(y){Ud=y}function UI(){return Ud}function Us(y){return""+y}function wc(y){switch(typeof y){case"boolean":case"number":case"object":case"string":case"undefined":return y;default:return""}}var GI={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Qv(y,_){GI[_.type]||_.onChange||_.onInput||_.readOnly||_.disabled||_.value==null||m("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),_.onChange||_.readOnly||_.disabled||_.checked==null||m("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Db(y){var _=y.type,C=y.nodeName;return C&&C.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function xE(y){return y._valueTracker}function $I(y){y._valueTracker=null}function zI(y){var _="";return y&&(Db(y)?_=y.checked?"true":"false":_=y.value),_}function Ob(y){var _=Db(y)?"checked":"value",C=Object.getOwnPropertyDescriptor(y.constructor.prototype,_),k=""+y[_];if(!(y.hasOwnProperty(_)||typeof C>"u"||typeof C.get!="function"||typeof C.set!="function")){var H=C.get,W=C.set;Object.defineProperty(y,_,{configurable:!0,get:function(){return H.call(this)},set:function(me){k=""+me,W.call(this,me)}}),Object.defineProperty(y,_,{enumerable:C.enumerable});var ie={getValue:function(){return k},setValue:function(me){k=""+me},stopTracking:function(){$I(y),delete y[_]}};return ie}}function Se(y){xE(y)||(y._valueTracker=Ob(y))}function vt(y){if(!y)return!1;var _=xE(y);if(!_)return!0;var C=_.getValue(),k=zI(y);return k!==C?(_.setValue(k),!0):!1}function $t(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}var Ut=!1,kr=!1,En=!1,ln=!1;function an(y){var _=y.type==="checkbox"||y.type==="radio";return _?y.checked!=null:y.value!=null}function xi(y,_){var C=y,k=_.checked,H=o({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??C._wrapperState.initialChecked});return H}function nn(y,_){Qv("input",_),_.checked!==void 0&&_.defaultChecked!==void 0&&!kr&&(m("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Gd()||"A component",_.type),kr=!0),_.value!==void 0&&_.defaultValue!==void 0&&!Ut&&(m("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Gd()||"A component",_.type),Ut=!0);var C=y,k=_.defaultValue==null?"":_.defaultValue;C._wrapperState={initialChecked:_.checked!=null?_.checked:_.defaultChecked,initialValue:wc(_.value!=null?_.value:k),controlled:an(_)}}function ya(y,_){var C=y,k=_.checked;k!=null&&In(C,"checked",k,!1)}function Na(y,_){var C=y;{var k=an(_);!C._wrapperState.controlled&&k&&!ln&&(m("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ln=!0),C._wrapperState.controlled&&!k&&!En&&(m("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),En=!0)}ya(y,_);var H=wc(_.value),W=_.type;if(H!=null)W==="number"?(H===0&&C.value===""||C.value!=H)&&(C.value=Us(H)):C.value!==Us(H)&&(C.value=Us(H));else if(W==="submit"||W==="reset"){C.removeAttribute("value");return}_.hasOwnProperty("value")?$d(C,_.type,H):_.hasOwnProperty("defaultValue")&&$d(C,_.type,wc(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(C.defaultChecked=!!_.defaultChecked)}function ps(y,_,C){var k=y;if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var H=_.type,W=H==="submit"||H==="reset";if(W&&(_.value===void 0||_.value===null))return;var ie=Us(k._wrapperState.initialValue);C||ie!==k.value&&(k.value=ie),k.defaultValue=ie}var me=k.name;me!==""&&(k.name=""),k.defaultChecked=!k.defaultChecked,k.defaultChecked=!!k._wrapperState.initialChecked,me!==""&&(k.name=me)}function oi(y,_){var C=y;Na(C,_),xo(C,_)}function xo(y,_){var C=_.name;if(_.type==="radio"&&C!=null){for(var k=y;k.parentNode;)k=k.parentNode;for(var H=k.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),W=0;W<H.length;W++){var ie=H[W];if(!(ie===y||ie.form!==y.form)){var me=I0(ie);if(!me)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");vt(ie),Na(ie,me)}}}}function $d(y,_,C){(_!=="number"||$t(y.ownerDocument)!==y)&&(C==null?y.defaultValue=Us(y._wrapperState.initialValue):y.defaultValue!==Us(C)&&(y.defaultValue=Us(C)))}var Wm=!1,kb=!1;function IE(y){var _="";return n.Children.forEach(y,function(C){C!=null&&(_+=C)}),_}function Jv(y,_){typeof _.children=="object"&&_.children!==null&&n.Children.forEach(_.children,function(C){C!=null&&(typeof C=="string"||typeof C=="number"||typeof C.type=="string"&&(kb||(kb=!0,m("Only strings and numbers are supported as <option> children."))))}),_.selected!=null&&!Wm&&(m("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Wm=!0)}function VI(y,_){_.value!=null&&y.setAttribute("value",Us(wc(_.value)))}function e0(y,_){var C=o({children:void 0},_),k=IE(_.children);return k&&(C.children=k),C}var Cc;Cc=!1;function Rb(){var y=Gd();return y?`

Check the render method of \``+y+"`.":""}var QM=["value","defaultValue"];function U9(y){{Qv("select",y);for(var _=0;_<QM.length;_++){var C=QM[_];if(y[C]!=null){var k=Array.isArray(y[C]);y.multiple&&!k?m("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",C,Rb()):!y.multiple&&k&&m("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",C,Rb())}}}}function t0(y,_,C,k){var H=y.options;if(_){for(var W=C,ie={},me=0;me<W.length;me++)ie["$"+W[me]]=!0;for(var Ae=0;Ae<H.length;Ae++){var je=ie.hasOwnProperty("$"+H[Ae].value);H[Ae].selected!==je&&(H[Ae].selected=je),je&&k&&(H[Ae].defaultSelected=!0)}}else{for(var Je=Us(wc(C)),Nt=null,ft=0;ft<H.length;ft++){if(H[ft].value===Je){H[ft].selected=!0,k&&(H[ft].defaultSelected=!0);return}Nt===null&&!H[ft].disabled&&(Nt=H[ft])}Nt!==null&&(Nt.selected=!0)}}function jI(y,_){return o({},_,{value:void 0})}function JM(y,_){var C=y;U9(_),C._wrapperState={wasMultiple:!!_.multiple},_.value!==void 0&&_.defaultValue!==void 0&&!Cc&&(m("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Cc=!0)}function G9(y,_){var C=y;C.multiple=!!_.multiple;var k=_.value;k!=null?t0(C,!!_.multiple,k,!1):_.defaultValue!=null&&t0(C,!!_.multiple,_.defaultValue,!0)}function $9(y,_){var C=y,k=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!_.multiple;var H=_.value;H!=null?t0(C,!!_.multiple,H,!1):k!==!!_.multiple&&(_.defaultValue!=null?t0(C,!!_.multiple,_.defaultValue,!0):t0(C,!!_.multiple,_.multiple?[]:"",!1))}function WI(y,_){var C=y,k=_.value;k!=null&&t0(C,!!_.multiple,k,!1)}var DE=!1;function r0(y,_){var C=y;if(_.dangerouslySetInnerHTML!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var k=o({},_,{value:void 0,defaultValue:void 0,children:Us(C._wrapperState.initialValue)});return k}function go(y,_){var C=y;Qv("textarea",_),_.value!==void 0&&_.defaultValue!==void 0&&!DE&&(m("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Gd()||"A component"),DE=!0);var k=_.value;if(k==null){var H=_.children,W=_.defaultValue;if(H!=null){m("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(W!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(H)){if(!(H.length<=1))throw Error("<textarea> can only have at most one child.");H=H[0]}W=H}}W==null&&(W=""),k=W}C._wrapperState={initialValue:wc(k)}}function eL(y,_){var C=y,k=wc(_.value),H=wc(_.defaultValue);if(k!=null){var W=Us(k);W!==C.value&&(C.value=W),_.defaultValue==null&&C.defaultValue!==W&&(C.defaultValue=W)}H!=null&&(C.defaultValue=Us(H))}function tL(y,_){var C=y,k=C.textContent;k===C._wrapperState.initialValue&&k!==""&&k!==null&&(C.value=k)}function OE(y,_){eL(y,_)}var kE="http://www.w3.org/1999/xhtml",RE="http://www.w3.org/1998/Math/MathML",PE="http://www.w3.org/2000/svg",XI={html:kE,mathml:RE,svg:PE};function NE(y){switch(y){case"svg":return PE;case"math":return RE;default:return kE}}function zd(y,_){return y==null||y===kE?NE(_):y===PE&&_==="foreignObject"?kE:y}var rL=function(y){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,C,k,H){MSApp.execUnsafeLocalFunction(function(){return y(_,C,k,H)})}:y},ME,YI=rL(function(y,_){if(y.namespaceURI===XI.svg&&!("innerHTML"in y)){ME=ME||document.createElement("div"),ME.innerHTML="<svg>"+_.valueOf().toString()+"</svg>";for(var C=ME.firstChild;y.firstChild;)y.removeChild(y.firstChild);for(;C.firstChild;)y.appendChild(C.firstChild);return}y.innerHTML=_}),Iu=1,wf=3,Wl=8,Cf=9,Xm=11,Pb=function(y,_){if(_){var C=y.firstChild;if(C&&C===y.lastChild&&C.nodeType===wf){C.nodeValue=_;return}}y.textContent=_},qI={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Nb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function z9(y,_){return y+_.charAt(0).toUpperCase()+_.substring(1)}var V9=["Webkit","ms","Moz","O"];Object.keys(Nb).forEach(function(y){V9.forEach(function(_){Nb[z9(_,y)]=Nb[y]})});function n0(y,_,C){var k=_==null||typeof _=="boolean"||_==="";return k?"":!C&&typeof _=="number"&&_!==0&&!(Nb.hasOwnProperty(y)&&Nb[y])?_+"px":(""+_).trim()}var ZI=/([A-Z])/g,KI=/^ms-/;function QI(y){return y.replace(ZI,"-$1").toLowerCase().replace(KI,"-ms-")}var Vd=function(){};{var Mb=/^(?:webkit|moz|o)[A-Z]/,LE=/^-ms-/,nL=/-(.)/g,JI=/;\s*$/,Ym={},Lb={},Fb=!1,FE=!1,Bb=function(y){return y.replace(nL,function(_,C){return C.toUpperCase()})},Hb=function(y){Ym.hasOwnProperty(y)&&Ym[y]||(Ym[y]=!0,m("Unsupported style property %s. Did you mean %s?",y,Bb(y.replace(LE,"ms-"))))},iL=function(y){Ym.hasOwnProperty(y)&&Ym[y]||(Ym[y]=!0,m("Unsupported vendor-prefixed style property %s. Did you mean %s?",y,y.charAt(0).toUpperCase()+y.slice(1)))},j9=function(y,_){Lb.hasOwnProperty(_)&&Lb[_]||(Lb[_]=!0,m(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,y,_.replace(JI,"")))},W9=function(y,_){Fb||(Fb=!0,m("`NaN` is an invalid value for the `%s` css style property.",y))},aL=function(y,_){FE||(FE=!0,m("`Infinity` is an invalid value for the `%s` css style property.",y))};Vd=function(y,_){y.indexOf("-")>-1?Hb(y):Mb.test(y)?iL(y):JI.test(_)&&j9(y,_),typeof _=="number"&&(isNaN(_)?W9(y,_):isFinite(_)||aL(y,_))}}var eD=Vd;function tD(y){{var _="",C="";for(var k in y)if(y.hasOwnProperty(k)){var H=y[k];if(H!=null){var W=k.indexOf("--")===0;_+=C+(W?k:QI(k))+":",_+=n0(k,H,W),C=";"}}return _||null}}function oL(y,_){var C=y.style;for(var k in _)if(_.hasOwnProperty(k)){var H=k.indexOf("--")===0;H||eD(k,_[k]);var W=n0(k,_[k],H);k==="float"&&(k="cssFloat"),H?C.setProperty(k,W):C[k]=W}}function rD(y){return y==null||typeof y=="boolean"||y===""}function nD(y){var _={};for(var C in y)for(var k=qI[C]||[C],H=0;H<k.length;H++)_[k[H]]=C;return _}function X9(y,_){{if(!_)return;var C=nD(y),k=nD(_),H={};for(var W in C){var ie=C[W],me=k[W];if(me&&ie!==me){var Ae=ie+","+me;if(H[Ae])continue;H[Ae]=!0,m("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",rD(y[ie])?"Removing":"Updating",ie,me)}}}}var Y9={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Gs=o({menuitem:!0},Y9),q9="__html";function BE(y,_){if(_){if(Gs[y]&&!(_.children==null&&_.dangerouslySetInnerHTML==null))throw Error(y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(!(typeof _.dangerouslySetInnerHTML=="object"&&q9 in _.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!_.suppressContentEditableWarning&&_.contentEditable&&_.children!=null&&m("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),!(_.style==null||typeof _.style=="object"))throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function qm(y,_){if(y.indexOf("-")===-1)return typeof _.is=="string";switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HE={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},sL={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},i0={},lL=new RegExp("^(aria)-["+rn+"]*$"),uL=new RegExp("^(aria)[A-Z]["+rn+"]*$"),cL=Object.prototype.hasOwnProperty;function Z9(y,_){{if(cL.call(i0,_)&&i0[_])return!0;if(uL.test(_)){var C="aria-"+_.slice(4).toLowerCase(),k=sL.hasOwnProperty(C)?C:null;if(k==null)return m("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",_),i0[_]=!0,!0;if(_!==k)return m("Invalid ARIA attribute `%s`. Did you mean `%s`?",_,k),i0[_]=!0,!0}if(lL.test(_)){var H=_.toLowerCase(),W=sL.hasOwnProperty(H)?H:null;if(W==null)return i0[_]=!0,!1;if(_!==W)return m("Unknown ARIA attribute `%s`. Did you mean `%s`?",_,W),i0[_]=!0,!0}}return!0}function K9(y,_){{var C=[];for(var k in _){var H=Z9(y,k);H||C.push(k)}var W=C.map(function(ie){return"`"+ie+"`"}).join(", ");C.length===1?m("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,y):C.length>1&&m("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,y)}}function Q9(y,_){qm(y,_)||K9(y,_)}var hL=!1;function J9(y,_){{if(y!=="input"&&y!=="textarea"&&y!=="select")return;_!=null&&_.value===null&&!hL&&(hL=!0,y==="select"&&_.multiple?m("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",y):m("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",y))}}var fL=function(){};{var $s={},eG=Object.prototype.hasOwnProperty,dL=/^on./,tG=/^on[^A-Z]/,rG=new RegExp("^(aria)-["+rn+"]*$"),nG=new RegExp("^(aria)[A-Z]["+rn+"]*$");fL=function(y,_,C,k){if(eG.call($s,_)&&$s[_])return!0;var H=_.toLowerCase();if(H==="onfocusin"||H==="onfocusout")return m("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),$s[_]=!0,!0;if(k!=null){var W=k.registrationNameDependencies,ie=k.possibleRegistrationNames;if(W.hasOwnProperty(_))return!0;var me=ie.hasOwnProperty(H)?ie[H]:null;if(me!=null)return m("Invalid event handler property `%s`. Did you mean `%s`?",_,me),$s[_]=!0,!0;if(dL.test(_))return m("Unknown event handler property `%s`. It will be ignored.",_),$s[_]=!0,!0}else if(dL.test(_))return tG.test(_)&&m("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",_),$s[_]=!0,!0;if(rG.test(_)||nG.test(_))return!0;if(H==="innerhtml")return m("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),$s[_]=!0,!0;if(H==="aria")return m("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),$s[_]=!0,!0;if(H==="is"&&C!==null&&C!==void 0&&typeof C!="string")return m("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof C),$s[_]=!0,!0;if(typeof C=="number"&&isNaN(C))return m("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",_),$s[_]=!0,!0;var Ae=va(_),je=Ae!==null&&Ae.type===zt;if(HE.hasOwnProperty(H)){var Je=HE[H];if(Je!==_)return m("Invalid DOM property `%s`. Did you mean `%s`?",_,Je),$s[_]=!0,!0}else if(!je&&_!==H)return m("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",_,H),$s[_]=!0,!0;return typeof C=="boolean"&&io(_,C,Ae,!1)?(C?m('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',C,_,_,C,_):m('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',C,_,_,C,_,_,_),$s[_]=!0,!0):je?!0:io(_,C,Ae,!1)?($s[_]=!0,!1):((C==="false"||C==="true")&&Ae!==null&&Ae.type===yr&&(m("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",C,_,C==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',_,C),$s[_]=!0),!0)}}var pL=function(y,_,C){{var k=[];for(var H in _){var W=fL(y,H,_[H],C);W||k.push(H)}var ie=k.map(function(me){return"`"+me+"`"}).join(", ");k.length===1?m("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",ie,y):k.length>1&&m("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",ie,y)}};function iG(y,_,C){qm(y,_)||pL(y,_,C)}var mL=1,UE=2,ms=4,ch=16,iD=mL|UE|ms;function Ub(y){var _=y.target||y.srcElement||window;return _.correspondingUseElement&&(_=_.correspondingUseElement),_.nodeType===wf?_.parentNode:_}var Zm=null,Km=null,a0=null;function Qm(y){var _=$f(y);if(_){if(typeof Zm!="function")throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var C=_.stateNode;if(C){var k=I0(C);Zm(_.stateNode,_.type,k)}}}function Gb(y){Zm=y}function xf(y){Km?a0?a0.push(y):a0=[y]:Km=y}function Jm(){return Km!==null||a0!==null}function eg(){if(Km){var y=Km,_=a0;if(Km=null,a0=null,Qm(y),_)for(var C=0;C<_.length;C++)Qm(_[C])}}var jd=function(y,_){return y(_)},o0=function(y,_,C,k,H){return y(_,C,k,H)},Du=function(){},gL=jd,Wd=!1,aD=!1;function oD(){var y=Jm();y&&(Du(),eg())}function aG(y,_){if(Wd)return y(_);Wd=!0;try{return jd(y,_)}finally{Wd=!1,oD()}}function oG(y,_,C){if(aD)return y(_,C);aD=!0;try{return gL(y,_,C)}finally{aD=!1,oD()}}function sG(y,_,C,k,H){var W=Wd;Wd=!0;try{return o0(y,_,C,k,H)}finally{Wd=W,Wd||oD()}}function vL(y){Wd||Du()}function yL(y,_,C,k){jd=y,o0=_,Du=C,gL=k}function lG(y){return y==="button"||y==="input"||y==="select"||y==="textarea"}function bL(y,_,C){switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(C.disabled&&lG(_));default:return!1}}function Ma(y,_){var C=y.stateNode;if(C===null)return null;var k=I0(C);if(k===null)return null;var H=k[_];if(bL(_,y.type,k))return null;if(!(!H||typeof H=="function"))throw Error("Expected `"+_+"` listener to be a function, instead got a value of `"+typeof H+"` type.");return H}var GE=!1;if(ir)try{var Xd={};Object.defineProperty(Xd,"passive",{get:function(){GE=!0}}),window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{GE=!1}function $E(y,_,C,k,H,W,ie,me,Ae){var je=Array.prototype.slice.call(arguments,3);try{_.apply(C,je)}catch(Je){this.onError(Je)}}var tg=$E;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Io=document.createElement("react");tg=function(_,C,k,H,W,ie,me,Ae,je){if(!(typeof document<"u"))throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var Je=document.createEvent("Event"),Nt=!1,ft=!0,Lt=window.event,Kt=Object.getOwnPropertyDescriptor(window,"event");function wr(){Io.removeEventListener(Yt,Fn,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Lt)}var Qr=Array.prototype.slice.call(arguments,3);function Fn(){Nt=!0,wr(),C.apply(k,Qr),ft=!1}var vn,li=!1,Di=!1;function Bt(Ot){if(vn=Ot.error,li=!0,vn===null&&Ot.colno===0&&Ot.lineno===0&&(Di=!0),Ot.defaultPrevented&&vn!=null&&typeof vn=="object")try{vn._suppressLogging=!0}catch{}}var Yt="react-"+(_||"invokeguardedcallback");if(window.addEventListener("error",Bt),Io.addEventListener(Yt,Fn,!1),Je.initEvent(Yt,!1,!1),Io.dispatchEvent(Je),Kt&&Object.defineProperty(window,"event",Kt),Nt&&ft&&(li?Di&&(vn=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):vn=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(vn)),window.removeEventListener("error",Bt),!Nt)return wr(),$E.apply(this,arguments)}}var _L=tg,rg=!1,s0=null,$b=!1,zE=null,TL={onError:function(y){rg=!0,s0=y}};function Do(y,_,C,k,H,W,ie,me,Ae){rg=!1,s0=null,_L.apply(TL,arguments)}function sD(y,_,C,k,H,W,ie,me,Ae){if(Do.apply(this,arguments),rg){var je=Xl();$b||($b=!0,zE=je)}}function EL(){if($b){var y=zE;throw $b=!1,zE=null,y}}function hh(){return rg}function Xl(){if(rg){var y=s0;return rg=!1,s0=null,y}else throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function ng(y){return y._reactInternals}function SL(y){return y._reactInternals!==void 0}function AL(y,_){y._reactInternals=_}var Aa=0,Yl=1,Wa=2,ia=4,wL=6,If=8,zb=16,Ou=32,aa=64,l0=128,Df=256,ig=512,u0=8192,Of=1024,CL=1028,fh=932,xL=2047,c0=2048,xc=4096,Vb=16384,VE=c.ReactCurrentOwner;function Ic(y){var _=y,C=y;if(y.alternate)for(;_.return;)_=_.return;else{var k=_;do _=k,(_.flags&(Wa|Of))!==Aa&&(C=_.return),k=_.return;while(k)}return _.tag===N?C:null}function lD(y){if(y.tag===K){var _=y.memoizedState;if(_===null){var C=y.alternate;C!==null&&(_=C.memoizedState)}if(_!==null)return _.dehydrated}return null}function uD(y){return y.tag===N?y.stateNode.containerInfo:null}function IL(y){return Ic(y)===y}function uG(y){{var _=VE.current;if(_!==null&&_.tag===A){var C=_,k=C.stateNode;k._warnedAboutRefsInRender||m("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Or(C.type)||"A component"),k._warnedAboutRefsInRender=!0}}var H=ng(y);return H?Ic(H)===H:!1}function cD(y){if(Ic(y)!==y)throw Error("Unable to find node on an unmounted component.")}function Yd(y){var _=y.alternate;if(!_){var C=Ic(y);if(C===null)throw Error("Unable to find node on an unmounted component.");return C!==y?null:y}for(var k=y,H=_;;){var W=k.return;if(W===null)break;var ie=W.alternate;if(ie===null){var me=W.return;if(me!==null){k=H=me;continue}break}if(W.child===ie.child){for(var Ae=W.child;Ae;){if(Ae===k)return cD(W),y;if(Ae===H)return cD(W),_;Ae=Ae.sibling}throw Error("Unable to find node on an unmounted component.")}if(k.return!==H.return)k=W,H=ie;else{for(var je=!1,Je=W.child;Je;){if(Je===k){je=!0,k=W,H=ie;break}if(Je===H){je=!0,H=W,k=ie;break}Je=Je.sibling}if(!je){for(Je=ie.child;Je;){if(Je===k){je=!0,k=ie,H=W;break}if(Je===H){je=!0,H=ie,k=W;break}Je=Je.sibling}if(!je)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(k.alternate!==H)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(k.tag!==N)throw Error("Unable to find node on an unmounted component.");return k.stateNode.current===k?y:_}function DL(y){var _=Yd(y);if(!_)return null;for(var C=_;;){if(C.tag===D||C.tag===L)return C;if(C.child){C.child.return=C,C=C.child;continue}if(C===_)return null;for(;!C.sibling;){if(!C.return||C.return===_)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}function hD(y){var _=Yd(y);if(!_)return null;for(var C=_;;){if(C.tag===D||C.tag===L||Be)return C;if(C.child&&C.tag!==R){C.child.return=C,C=C.child;continue}if(C===_)return null;for(;!C.sibling;){if(!C.return||C.return===_)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}function OL(y,_){for(var C=_,k=y.alternate;C!==null;){if(C===y||C===k)return!0;C=C.return}return!1}var kL;function cG(y){kL=y}var jE;function h0(y){jE=y}var RL;function hG(y){RL=y}var PL;function fG(y){PL=y}var ul=!1,kf=[],dh=null,ph=null,qd=null,jb=new Map,ag=new Map,Dc=[];function fD(){return kf.length>0}var NL=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function WE(y){return NL.indexOf(y)>-1}function dD(y,_,C,k,H){return{blockedOn:y,domEventName:_,eventSystemFlags:C|ch,nativeEvent:H,targetContainers:[k]}}function Wb(y,_,C,k,H){var W=dD(y,_,C,k,H);kf.push(W)}function ML(y,_){switch(y){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":qd=null;break;case"pointerover":case"pointerout":{var C=_.pointerId;jb.delete(C);break}case"gotpointercapture":case"lostpointercapture":{var k=_.pointerId;ag.delete(k);break}}}function Xb(y,_,C,k,H,W){if(y===null||y.nativeEvent!==W){var ie=dD(_,C,k,H,W);if(_!==null){var me=$f(_);me!==null&&jE(me)}return ie}y.eventSystemFlags|=k;var Ae=y.targetContainers;return H!==null&&Ae.indexOf(H)===-1&&Ae.push(H),y}function LL(y,_,C,k,H){switch(_){case"focusin":{var W=H;return dh=Xb(dh,y,_,C,k,W),!0}case"dragenter":{var ie=H;return ph=Xb(ph,y,_,C,k,ie),!0}case"mouseover":{var me=H;return qd=Xb(qd,y,_,C,k,me),!0}case"pointerover":{var Ae=H,je=Ae.pointerId;return jb.set(je,Xb(jb.get(je)||null,y,_,C,k,Ae)),!0}case"gotpointercapture":{var Je=H,Nt=Je.pointerId;return ag.set(Nt,Xb(ag.get(Nt)||null,y,_,C,k,Je)),!0}}return!1}function FL(y){var _=ip(y.target);if(_!==null){var C=Ic(_);if(C!==null){var k=C.tag;if(k===K){var H=lD(C);if(H!==null){y.blockedOn=H,PL(y.lanePriority,function(){i.unstable_runWithPriority(y.priority,function(){RL(C)})});return}}else if(k===N){var W=C.stateNode;if(W.hydrate){y.blockedOn=uD(C);return}}}}y.blockedOn=null}function Yb(y){if(y.blockedOn!==null)return!1;for(var _=y.targetContainers;_.length>0;){var C=_[0],k=sS(y.domEventName,y.eventSystemFlags,C,y.nativeEvent);if(k!==null){var H=$f(k);return H!==null&&jE(H),y.blockedOn=k,!1}_.shift()}return!0}function BL(y,_,C){Yb(y)&&C.delete(_)}function HL(){for(ul=!1;kf.length>0;){var y=kf[0];if(y.blockedOn!==null){var _=$f(y.blockedOn);_!==null&&kL(_);break}for(var C=y.targetContainers;C.length>0;){var k=C[0],H=sS(y.domEventName,y.eventSystemFlags,k,y.nativeEvent);if(H!==null){y.blockedOn=H;break}C.shift()}y.blockedOn===null&&kf.shift()}dh!==null&&Yb(dh)&&(dh=null),ph!==null&&Yb(ph)&&(ph=null),qd!==null&&Yb(qd)&&(qd=null),jb.forEach(BL),ag.forEach(BL)}function qb(y,_){y.blockedOn===_&&(y.blockedOn=null,ul||(ul=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,HL)))}function UL(y){if(kf.length>0){qb(kf[0],y);for(var _=1;_<kf.length;_++){var C=kf[_];C.blockedOn===y&&(C.blockedOn=null)}}dh!==null&&qb(dh,y),ph!==null&&qb(ph,y),qd!==null&&qb(qd,y);var k=function(me){return qb(me,y)};jb.forEach(k),ag.forEach(k);for(var H=0;H<Dc.length;H++){var W=Dc[H];W.blockedOn===y&&(W.blockedOn=null)}for(;Dc.length>0;){var ie=Dc[0];if(ie.blockedOn!==null)break;FL(ie),ie.blockedOn===null&&Dc.shift()}}var pD=0,GL=1,mD=2;function og(y,_){var C={};return C[y.toLowerCase()]=_.toLowerCase(),C["Webkit"+y]="webkit"+_,C["Moz"+y]="moz"+_,C}var sg={animationend:og("Animation","AnimationEnd"),animationiteration:og("Animation","AnimationIteration"),animationstart:og("Animation","AnimationStart"),transitionend:og("Transition","TransitionEnd")},ts={},XE={};ir&&(XE=document.createElement("div").style,"AnimationEvent"in window||(delete sg.animationend.animation,delete sg.animationiteration.animation,delete sg.animationstart.animation),"TransitionEvent"in window||delete sg.transitionend.transition);function YE(y){if(ts[y])return ts[y];if(!sg[y])return y;var _=sg[y];for(var C in _)if(_.hasOwnProperty(C)&&C in XE)return ts[y]=_[C];return y}var $L=YE("animationend"),zL=YE("animationiteration"),f0=YE("animationstart"),Zb=YE("transitionend"),qE=new Map,gD=new Map,ZE=["cancel","cancel","click","click","close","close","contextmenu","contextMenu","copy","copy","cut","cut","auxclick","auxClick","dblclick","doubleClick","dragend","dragEnd","dragstart","dragStart","drop","drop","focusin","focus","focusout","blur","input","input","invalid","invalid","keydown","keyDown","keypress","keyPress","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","paste","paste","pause","pause","play","play","pointercancel","pointerCancel","pointerdown","pointerDown","pointerup","pointerUp","ratechange","rateChange","reset","reset","seeked","seeked","submit","submit","touchcancel","touchCancel","touchend","touchEnd","touchstart","touchStart","volumechange","volumeChange"],d0=["change","selectionchange","textInput","compositionstart","compositionend","compositionupdate"],dG=["drag","drag","dragenter","dragEnter","dragexit","dragExit","dragleave","dragLeave","dragover","dragOver","mousemove","mouseMove","mouseout","mouseOut","mouseover","mouseOver","pointermove","pointerMove","pointerout","pointerOut","pointerover","pointerOver","scroll","scroll","toggle","toggle","touchmove","touchMove","wheel","wheel"],pG=["abort","abort",$L,"animationEnd",zL,"animationIteration",f0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Zb,"transitionEnd","waiting","waiting"];function vD(y,_){for(var C=0;C<y.length;C+=2){var k=y[C],H=y[C+1],W=H[0].toUpperCase()+H.slice(1),ie="on"+W;gD.set(k,_),qE.set(k,ie),Gt(ie,[k])}}function p0(y,_){for(var C=0;C<y.length;C++)gD.set(y[C],_)}function KE(y){var _=gD.get(y);return _===void 0?mD:_}function mG(){vD(ZE,pD),vD(dG,GL),vD(pG,mD),p0(d0,pD)}var VL=i.unstable_now;if(!(l.__interactionsRef!=null&&l.__interactionsRef.current!=null))throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var jL=99,yD=98,bD=97,WL=96,_D=95,XL=90;VL();var lg=15,ug=14,cl=13,mh=12,TD=11,cg=10,hg=9,Zd=8,YL=7,Kb=6,gh=5,Rn=4,ED=3,Qb=2,SD=1,Kd=0,gG=31,nr=0,hl=0,Ji=1,Jb=2,QE=4,m0=24,Rf=32,AD=192,wD=256,e1=3584,CD=4096,fg=4186112,JE=62914560,g0=33554432,t1=67108864,eS=134217727,qL=134217728,tS=805306368,vh=1073741824,La=-1;function xD(y){}var oa=Zd;function dg(y){if((Ji&y)!==nr)return oa=lg,Ji;if((Jb&y)!==nr)return oa=ug,Jb;if((QE&y)!==nr)return oa=cl,QE;var _=m0&y;if(_!==nr)return oa=mh,_;if((y&Rf)!==nr)return oa=TD,Rf;var C=AD&y;if(C!==nr)return oa=cg,C;if((y&wD)!==nr)return oa=hg,wD;var k=e1&y;if(k!==nr)return oa=Zd,k;if((y&CD)!==nr)return oa=YL,CD;var H=fg&y;if(H!==nr)return oa=Kb,H;var W=JE&y;if(W!==nr)return oa=gh,W;if(y&t1)return oa=Rn,t1;if((y&qL)!==nr)return oa=ED,qL;var ie=tS&y;return ie!==nr?(oa=Qb,ie):(vh&y)!==nr?(oa=SD,vh):(m("Should have found matching lanes. This is a bug in React."),oa=Zd,y)}function ID(y){switch(y){case jL:return lg;case yD:return cg;case bD:case WL:return Zd;case _D:return Qb;default:return Kd}}function DD(y){switch(y){case lg:case ug:return jL;case cl:case mh:case TD:case cg:return yD;case hg:case Zd:case YL:case Kb:case Rn:case gh:return bD;case ED:case Qb:case SD:return _D;case Kd:return XL;default:throw Error("Invalid update priority: "+y+". This is a bug in React.")}}function Fa(y,_){var C=y.pendingLanes;if(C===nr)return oa=Kd,nr;var k=nr,H=Kd,W=y.expiredLanes,ie=y.suspendedLanes,me=y.pingedLanes;if(W!==nr)k=W,H=oa=lg;else{var Ae=C&eS;if(Ae!==nr){var je=Ae&~ie;if(je!==nr)k=dg(je),H=oa;else{var Je=Ae&me;Je!==nr&&(k=dg(Je),H=oa)}}else{var Nt=C&~ie;Nt!==nr?(k=dg(Nt),H=oa):me!==nr&&(k=dg(me),H=oa)}}if(k===nr)return nr;if(k=C&r1(k),_!==nr&&_!==k&&(_&ie)===nr){dg(_);var ft=oa;if(H<=ft)return _;oa=H}var Lt=y.entangledLanes;if(Lt!==nr)for(var Kt=y.entanglements,wr=k&Lt;wr>0;){var Qr=Qd(wr),Fn=1<<Qr;k|=Kt[Qr],wr&=~Fn}return k}function rS(y,_){for(var C=y.eventTimes,k=La;_>0;){var H=Qd(_),W=1<<H,ie=C[H];ie>k&&(k=ie),_&=~W}return k}function Pf(y,_){dg(y);var C=oa;return C>=cg?_+250:C>=Kb?_+5e3:La}function ku(y,_){for(var C=y.pendingLanes,k=y.suspendedLanes,H=y.pingedLanes,W=y.expirationTimes,ie=C;ie>0;){var me=Qd(ie),Ae=1<<me,je=W[me];je===La?((Ae&k)===nr||(Ae&H)!==nr)&&(W[me]=Pf(Ae,_)):je<=_&&(y.expiredLanes|=Ae),ie&=~Ae}}function yh(y){var _=y.pendingLanes&~vh;return _!==nr?_:_&vh?vh:nr}function Nf(){return oa}function nS(y){return(y&eS)!==nr}function OD(y){return(y&JE)===y}function kD(y){return(y&fg)===y}function bh(y,_){switch(y){case Kd:break;case lg:return Ji;case ug:return Jb;case mh:{var C=Uo(m0&~_);return C===hl?bh(cg,_):C}case cg:{var k=Uo(AD&~_);return k===hl?bh(Zd,_):k}case Zd:{var H=Uo(e1&~_);return H===hl&&(H=Uo(fg&~_),H===hl&&(H=Uo(e1))),H}case Kb:case gh:break;case Qb:var W=Uo(tS&~_);return W===hl&&(W=Uo(tS)),W}throw Error("Invalid update priority: "+y+". This is a bug in React.")}function RD(y,_){var C=Uo(fg&~_);return C===hl&&(C=Uo(fg&~y),C===hl&&(C=Uo(fg))),C}function PD(y){var _=Uo(JE&~y);return _===hl&&(_=Uo(JE)),_}function ND(y){return y&-y}function MD(y){var _=31-oS(y);return _<0?nr:1<<_}function r1(y){return(MD(y)<<1)-1}function Uo(y){return ND(y)}function Qd(y){return 31-oS(y)}function pg(y){return Qd(y)}function Oo(y,_){return(y&_)!==nr}function _h(y,_){return(y&_)===_}function Ni(y,_){return y|_}function iS(y,_){return y&~_}function n1(y){return y}function vG(y,_){return y!==hl&&y<_?y:_}function LD(y){for(var _=[],C=0;C<gG;C++)_.push(y);return _}function Th(y,_,C){y.pendingLanes|=_;var k=_-1;y.suspendedLanes&=k,y.pingedLanes&=k;var H=y.eventTimes,W=pg(_);H[W]=C}function aS(y,_){y.suspendedLanes|=_,y.pingedLanes&=~_;for(var C=y.expirationTimes,k=_;k>0;){var H=Qd(k),W=1<<H;C[H]=La,k&=~W}}function i1(y,_,C){y.pingedLanes|=y.suspendedLanes&_}function yG(y){y.expiredLanes|=m0&y.pendingLanes}function bG(y){return(y&m0)!==nr}function mg(y,_){y.mutableReadLanes|=_&y.pendingLanes}function _G(y,_){var C=y.pendingLanes&~_;y.pendingLanes=_,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=_,y.mutableReadLanes&=_,y.entangledLanes&=_;for(var k=y.entanglements,H=y.eventTimes,W=y.expirationTimes,ie=C;ie>0;){var me=Qd(ie),Ae=1<<me;k[me]=nr,H[me]=La,W[me]=La,ie&=~Ae}}function TG(y,_){y.entangledLanes|=_;for(var C=y.entanglements,k=_;k>0;){var H=Qd(k),W=1<<H;C[H]|=_,k&=~W}}var oS=Math.clz32?Math.clz32:Lf,FD=Math.log,Mf=Math.LN2;function Lf(y){return y===0?32:31-(FD(y)/Mf|0)|0}var ZL=i.unstable_UserBlockingPriority,EG=i.unstable_runWithPriority,BD=!0;function KL(y){BD=!!y}function SG(){return BD}function HD(y,_,C){var k=KE(_),H;switch(k){case pD:H=UD;break;case GL:H=a1;break;case mD:default:H=GD;break}return H.bind(null,_,C,y)}function UD(y,_,C,k){vL(k.timeStamp),sG(GD,y,_,C,k)}function a1(y,_,C,k){EG(ZL,GD.bind(null,y,_,C,k))}function GD(y,_,C,k){if(BD){var H=!0;if(H=(_&ms)===0,H&&fD()&&WE(y)){Wb(null,y,_,C,k);return}var W=sS(y,_,C,k);if(W===null){H&&ML(y,k);return}if(H){if(WE(y)){Wb(W,y,_,C,k);return}if(LL(W,y,_,C,k))return;ML(y,k)}p1(y,_,k,null,C)}}function sS(y,_,C,k){var H=Ub(k),W=ip(H);if(W!==null){var ie=Ic(W);if(ie===null)W=null;else{var me=ie.tag;if(me===K){var Ae=lD(ie);if(Ae!==null)return Ae;W=null}else if(me===N){var je=ie.stateNode;if(je.hydrate)return uD(ie);W=null}else ie!==W&&(W=null)}}return p1(y,_,k,W,C),null}function Go(y,_,C){return y.addEventListener(_,C,!1),C}function AG(y,_,C){return y.addEventListener(_,C,!0),C}function wG(y,_,C,k){return y.addEventListener(_,C,{capture:!0,passive:k}),C}function Ii(y,_,C,k){return y.addEventListener(_,C,{passive:k}),C}var o1=null,gg=null,Ff=null;function CG(y){return o1=y,gg=JL(),!0}function xG(){o1=null,gg=null,Ff=null}function QL(){if(Ff)return Ff;var y,_=gg,C=_.length,k,H=JL(),W=H.length;for(y=0;y<C&&_[y]===H[y];y++);var ie=C-y;for(k=1;k<=ie&&_[C-k]===H[W-k];k++);var me=k>1?1-k:void 0;return Ff=H.slice(y,me),Ff}function JL(){return"value"in o1?o1.value:o1.textContent}function lS(y){var _,C=y.keyCode;return"charCode"in y?(_=y.charCode,_===0&&C===13&&(_=13)):_=C,_===10&&(_=13),_>=32||_===13?_:0}function s1(){return!0}function $D(){return!1}function ql(y){function _(C,k,H,W,ie){this._reactName=C,this._targetInst=H,this.type=k,this.nativeEvent=W,this.target=ie,this.currentTarget=null;for(var me in y)if(y.hasOwnProperty(me)){var Ae=y[me];Ae?this[me]=Ae(W):this[me]=W[me]}var je=W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1;return je?this.isDefaultPrevented=s1:this.isDefaultPrevented=$D,this.isPropagationStopped=$D,this}return o(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=s1)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=s1)},persist:function(){},isPersistent:s1}),_}var v0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zD=ql(v0),y0=o({},v0,{view:0,detail:0}),IG=ql(y0),uS,VD,l1;function DG(y){y!==l1&&(l1&&y.type==="mousemove"?(uS=y.screenX-l1.screenX,VD=y.screenY-l1.screenY):(uS=0,VD=0),l1=y)}var cS=o({},y0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WD,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(DG(y),uS)},movementY:function(y){return"movementY"in y?y.movementY:VD}}),e5=ql(cS),OG=o({},cS,{dataTransfer:0}),kG=ql(OG),t5=o({},y0,{relatedTarget:0}),jD=ql(t5),RG=o({},v0,{animationName:0,elapsedTime:0,pseudoElement:0}),PG=ql(RG),r5=o({},v0,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),NG=ql(r5),MG=o({},v0,{data:0}),n5=ql(MG),LG=n5,FG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function i5(y){if(y.key){var _=FG[y.key]||y.key;if(_!=="Unidentified")return _}if(y.type==="keypress"){var C=lS(y);return C===13?"Enter":String.fromCharCode(C)}return y.type==="keydown"||y.type==="keyup"?BG[y.keyCode]||"Unidentified":""}var HG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UG(y){var _=this,C=_.nativeEvent;if(C.getModifierState)return C.getModifierState(y);var k=HG[y];return k?!!C[k]:!1}function WD(y){return UG}var GG=o({},y0,{key:i5,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WD,charCode:function(y){return y.type==="keypress"?lS(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?lS(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),$G=ql(GG),zG=o({},cS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a5=ql(zG),VG=o({},y0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WD}),o5=ql(VG),jG=o({},v0,{propertyName:0,elapsedTime:0,pseudoElement:0}),WG=ql(jG),XG=o({},cS,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),s5=ql(XG),YG=[9,13,27,32],l5=229,XD=ir&&"CompositionEvent"in window,u1=null;ir&&"documentMode"in document&&(u1=document.documentMode);var qG=ir&&"TextEvent"in window&&!u1,u5=ir&&(!XD||u1&&u1>8&&u1<=11),YD=32,c5=String.fromCharCode(YD);function ZG(){Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Gt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Gt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var h5=!1;function KG(y){return(y.ctrlKey||y.altKey||y.metaKey)&&!(y.ctrlKey&&y.altKey)}function QG(y){switch(y){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function JG(y,_){return y==="keydown"&&_.keyCode===l5}function f5(y,_){switch(y){case"keyup":return YG.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==l5;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d5(y){var _=y.detail;return typeof _=="object"&&"data"in _?_.data:null}function qD(y){return y.locale==="ko"}var vg=!1;function p5(y,_,C,k,H){var W,ie;if(XD?W=QG(_):vg?f5(_,k)&&(W="onCompositionEnd"):JG(_,k)&&(W="onCompositionStart"),!W)return null;u5&&!qD(k)&&(!vg&&W==="onCompositionStart"?vg=CG(H):W==="onCompositionEnd"&&vg&&(ie=QL()));var me=di(C,W);if(me.length>0){var Ae=new n5(W,_,null,k,H);if(y.push({event:Ae,listeners:me}),ie)Ae.data=ie;else{var je=d5(k);je!==null&&(Ae.data=je)}}}function b0(y,_){switch(y){case"compositionend":return d5(_);case"keypress":var C=_.which;return C!==YD?null:(h5=!0,c5);case"textInput":var k=_.data;return k===c5&&h5?null:k;default:return null}}function m5(y,_){if(vg){if(y==="compositionend"||!XD&&f5(y,_)){var C=QL();return xG(),vg=!1,C}return null}switch(y){case"paste":return null;case"keypress":if(!KG(_)){if(_.char&&_.char.length>1)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return u5&&!qD(_)?null:_.data;default:return null}}function g5(y,_,C,k,H){var W;if(qG?W=b0(_,k):W=m5(_,k),!W)return null;var ie=di(C,"onBeforeInput");if(ie.length>0){var me=new LG("onBeforeInput","beforeinput",null,k,H);y.push({event:me,listeners:ie}),me.data=W}}function e$(y,_,C,k,H,W,ie){p5(y,_,C,k,H),g5(y,_,C,k,H)}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v5(y){var _=y&&y.nodeName&&y.nodeName.toLowerCase();return _==="input"?!!t$[y.type]:_==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function ZD(y){if(!ir)return!1;var _="on"+y,C=_ in document;if(!C){var k=document.createElement("div");k.setAttribute(_,"return;"),C=typeof k[_]=="function"}return C}function r$(){Gt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function y5(y,_,C,k){xf(k);var H=di(_,"onChange");if(H.length>0){var W=new zD("onChange","change",null,C,k);y.push({event:W,listeners:H})}}var Jd=null,Ru=null;function b5(y){var _=y.nodeName&&y.nodeName.toLowerCase();return _==="select"||_==="input"&&y.type==="file"}function _5(y){var _=[];y5(_,Ru,y,Ub(y)),aG(T5,_)}function T5(y){k5(y,0)}function _0(y){var _=x0(y);if(vt(_))return y}function n$(y,_){if(y==="change")return _}var KD=!1;ir&&(KD=ZD("input")&&(!document.documentMode||document.documentMode>9));function hS(y,_){Jd=y,Ru=_,Jd.attachEvent("onpropertychange",JD)}function QD(){Jd&&(Jd.detachEvent("onpropertychange",JD),Jd=null,Ru=null)}function JD(y){y.propertyName==="value"&&_0(Ru)&&_5(y)}function E5(y,_,C){y==="focusin"?(QD(),hS(_,C)):y==="focusout"&&QD()}function eO(y,_){if(y==="selectionchange"||y==="keyup"||y==="keydown")return _0(Ru)}function i$(y){var _=y.nodeName;return _&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")}function a$(y,_){if(y==="click")return _0(_)}function S5(y,_){if(y==="input"||y==="change")return _0(_)}function c1(y){var _=y._wrapperState;!_||!_.controlled||y.type!=="number"||$d(y,"number",y.value)}function fS(y,_,C,k,H,W,ie){var me=C?x0(C):window,Ae,je;if(b5(me)?Ae=n$:v5(me)?KD?Ae=S5:(Ae=eO,je=E5):i$(me)&&(Ae=a$),Ae){var Je=Ae(_,C);if(Je){y5(y,Je,k,H);return}}je&&je(_,me,C),_==="focusout"&&c1(me)}function o$(){Zt("onMouseEnter",["mouseout","mouseover"]),Zt("onMouseLeave",["mouseout","mouseover"]),Zt("onPointerEnter",["pointerout","pointerover"]),Zt("onPointerLeave",["pointerout","pointerover"])}function A5(y,_,C,k,H,W,ie){var me=_==="mouseover"||_==="pointerover",Ae=_==="mouseout"||_==="pointerout";if(me&&!(W&ch)){var je=k.relatedTarget||k.fromElement;if(je&&(ip(je)||Tg(je)))return}if(!(!Ae&&!me)){var Je;if(H.window===H)Je=H;else{var Nt=H.ownerDocument;Nt?Je=Nt.defaultView||Nt.parentWindow:Je=window}var ft,Lt;if(Ae){var Kt=k.relatedTarget||k.toElement;if(ft=C,Lt=Kt?ip(Kt):null,Lt!==null){var wr=Ic(Lt);(Lt!==wr||Lt.tag!==D&&Lt.tag!==L)&&(Lt=null)}}else ft=null,Lt=C;if(ft!==Lt){var Qr=e5,Fn="onMouseLeave",vn="onMouseEnter",li="mouse";(_==="pointerout"||_==="pointerover")&&(Qr=a5,Fn="onPointerLeave",vn="onPointerEnter",li="pointer");var Di=ft==null?Je:x0(ft),Bt=Lt==null?Je:x0(Lt),Yt=new Qr(Fn,li+"leave",ft,k,H);Yt.target=Di,Yt.relatedTarget=Bt;var Ot=null,dr=ip(H);if(dr===C){var xr=new Qr(vn,li+"enter",Lt,k,H);xr.target=Bt,xr.relatedTarget=Di,Ot=xr}_$(y,Yt,Ot,ft,Lt)}}}function s$(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var zs=typeof Object.is=="function"?Object.is:s$,rs=Object.prototype.hasOwnProperty;function yg(y,_){if(zs(y,_))return!0;if(typeof y!="object"||y===null||typeof _!="object"||_===null)return!1;var C=Object.keys(y),k=Object.keys(_);if(C.length!==k.length)return!1;for(var H=0;H<C.length;H++)if(!rs.call(_,C[H])||!zs(y[C[H]],_[C[H]]))return!1;return!0}function h1(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function w5(y){for(;y;){if(y.nextSibling)return y.nextSibling;y=y.parentNode}}function dS(y,_){for(var C=h1(y),k=0,H=0;C;){if(C.nodeType===wf){if(H=k+C.textContent.length,k<=_&&H>=_)return{node:C,offset:_-k};k=H}C=h1(w5(C))}}function tO(y){var _=y.ownerDocument,C=_&&_.defaultView||window,k=C.getSelection&&C.getSelection();if(!k||k.rangeCount===0)return null;var H=k.anchorNode,W=k.anchorOffset,ie=k.focusNode,me=k.focusOffset;try{H.nodeType,ie.nodeType}catch{return null}return rO(y,H,W,ie,me)}function rO(y,_,C,k,H){var W=0,ie=-1,me=-1,Ae=0,je=0,Je=y,Nt=null;e:for(;;){for(var ft=null;Je===_&&(C===0||Je.nodeType===wf)&&(ie=W+C),Je===k&&(H===0||Je.nodeType===wf)&&(me=W+H),Je.nodeType===wf&&(W+=Je.nodeValue.length),(ft=Je.firstChild)!==null;)Nt=Je,Je=ft;for(;;){if(Je===y)break e;if(Nt===_&&++Ae===C&&(ie=W),Nt===k&&++je===H&&(me=W),(ft=Je.nextSibling)!==null)break;Je=Nt,Nt=Je.parentNode}Je=ft}return ie===-1||me===-1?null:{start:ie,end:me}}function l$(y,_){var C=y.ownerDocument||document,k=C&&C.defaultView||window;if(k.getSelection){var H=k.getSelection(),W=y.textContent.length,ie=Math.min(_.start,W),me=_.end===void 0?ie:Math.min(_.end,W);if(!H.extend&&ie>me){var Ae=me;me=ie,ie=Ae}var je=dS(y,ie),Je=dS(y,me);if(je&&Je){if(H.rangeCount===1&&H.anchorNode===je.node&&H.anchorOffset===je.offset&&H.focusNode===Je.node&&H.focusOffset===Je.offset)return;var Nt=C.createRange();Nt.setStart(je.node,je.offset),H.removeAllRanges(),ie>me?(H.addRange(Nt),H.extend(Je.node,Je.offset)):(Nt.setEnd(Je.node,Je.offset),H.addRange(Nt))}}}function nO(y){return y&&y.nodeType===wf}function C5(y,_){return!y||!_?!1:y===_?!0:nO(y)?!1:nO(_)?C5(y,_.parentNode):"contains"in y?y.contains(_):y.compareDocumentPosition?!!(y.compareDocumentPosition(_)&16):!1}function u$(y){return y&&y.ownerDocument&&C5(y.ownerDocument.documentElement,y)}function c$(y){try{return typeof y.contentWindow.location.href=="string"}catch{return!1}}function iO(){for(var y=window,_=$t();_ instanceof y.HTMLIFrameElement;){if(c$(_))y=_.contentWindow;else return _;_=$t(y.document)}return _}function aO(y){var _=y&&y.nodeName&&y.nodeName.toLowerCase();return _&&(_==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||_==="textarea"||y.contentEditable==="true")}function h$(){var y=iO();return{focusedElem:y,selectionRange:aO(y)?f$(y):null}}function x5(y){var _=iO(),C=y.focusedElem,k=y.selectionRange;if(_!==C&&u$(C)){k!==null&&aO(C)&&d$(C,k);for(var H=[],W=C;W=W.parentNode;)W.nodeType===Iu&&H.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof C.focus=="function"&&C.focus();for(var ie=0;ie<H.length;ie++){var me=H[ie];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}}function f$(y){var _;return"selectionStart"in y?_={start:y.selectionStart,end:y.selectionEnd}:_=tO(y),_||{start:0,end:0}}function d$(y,_){var C=_.start,k=_.end;k===void 0&&(k=C),"selectionStart"in y?(y.selectionStart=C,y.selectionEnd=Math.min(k,y.value.length)):l$(y,_)}var ep=ir&&"documentMode"in document&&document.documentMode<=11;function p$(){Gt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Bf=null,$o=null,vo=null,zo=!1;function gs(y){if("selectionStart"in y&&aO(y))return{start:y.selectionStart,end:y.selectionEnd};var _=y.ownerDocument&&y.ownerDocument.defaultView||window,C=_.getSelection();return{anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}}function m$(y){return y.window===y?y.document:y.nodeType===Cf?y:y.ownerDocument}function I5(y,_,C){var k=m$(C);if(!(zo||Bf==null||Bf!==$t(k))){var H=gs(Bf);if(!vo||!yg(vo,H)){vo=H;var W=di($o,"onSelect");if(W.length>0){var ie=new zD("onSelect","select",null,_,C);y.push({event:ie,listeners:W}),ie.target=Bf}}}}function g$(y,_,C,k,H,W,ie){var me=C?x0(C):window;switch(_){case"focusin":(v5(me)||me.contentEditable==="true")&&(Bf=me,$o=C,vo=null);break;case"focusout":Bf=null,$o=null,vo=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,I5(y,k,H);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":I5(y,k,H)}}function v$(y,_,C,k,H,W,ie){var me=qE.get(_);if(me!==void 0){var Ae=zD,je=_;switch(_){case"keypress":if(lS(k)===0)return;case"keydown":case"keyup":Ae=$G;break;case"focusin":je="focus",Ae=jD;break;case"focusout":je="blur",Ae=jD;break;case"beforeblur":case"afterblur":Ae=jD;break;case"click":if(k.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=e5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=kG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=o5;break;case $L:case zL:case f0:Ae=PG;break;case Zb:Ae=WG;break;case"scroll":Ae=IG;break;case"wheel":Ae=s5;break;case"copy":case"cut":case"paste":Ae=NG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=a5;break}var Je=(W&ms)!==0;{var Nt=!Je&&_==="scroll",ft=lO(C,me,k.type,Je,Nt);if(ft.length>0){var Lt=new Ae(me,je,null,k,H);y.push({event:Lt,listeners:ft})}}}}mG(),o$(),r$(),p$(),ZG();function oO(y,_,C,k,H,W,ie){v$(y,_,C,k,H,W);var me=(W&iD)===0;me&&(A5(y,_,C,k,H,W),fS(y,_,C,k,H),g$(y,_,C,k,H),e$(y,_,C,k,H))}var f1=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],D5=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(f1));function O5(y,_,C){var k=y.type||"unknown-event";y.currentTarget=C,sD(k,_,void 0,y),y.currentTarget=null}function y$(y,_,C){var k;if(C)for(var H=_.length-1;H>=0;H--){var W=_[H],ie=W.instance,me=W.currentTarget,Ae=W.listener;if(ie!==k&&y.isPropagationStopped())return;O5(y,Ae,me),k=ie}else for(var je=0;je<_.length;je++){var Je=_[je],Nt=Je.instance,ft=Je.currentTarget,Lt=Je.listener;if(Nt!==k&&y.isPropagationStopped())return;O5(y,Lt,ft),k=Nt}}function k5(y,_){for(var C=(_&ms)!==0,k=0;k<y.length;k++){var H=y[k],W=H.event,ie=H.listeners;y$(W,ie,C)}EL()}function pre(y,_,C,k,H){var W=Ub(C),ie=[];oO(ie,y,k,C,W,_),k5(ie,_)}function wa(y,_){var C=!1,k=e3(_),H=mS(y,C);k.has(H)||(Yn(_,y,UE,C),k.add(H))}var d1="_reactListening"+Math.random().toString(36).slice(2);function pS(y){{if(y[d1])return;y[d1]=!0,Ge.forEach(function(_){D5.has(_)||R5(_,!1,y,null),R5(_,!0,y,null)})}}function R5(y,_,C,k){var H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,W=C;if(y==="selectionchange"&&C.nodeType!==Cf&&(W=C.ownerDocument),k!==null&&!_&&D5.has(y)){if(y!=="scroll")return;H|=UE,W=k}var ie=e3(W),me=mS(y,_);ie.has(me)||(_&&(H|=ms),Yn(W,y,H,_),ie.add(me))}function Yn(y,_,C,k,H){var W=HD(y,_,C),ie=void 0;GE&&(_==="touchstart"||_==="touchmove"||_==="wheel")&&(ie=!0),y=y,k?ie!==void 0?wG(y,_,W,ie):AG(y,_,W):ie!==void 0?Ii(y,_,W,ie):Go(y,_,W)}function sO(y,_){return y===_||y.nodeType===Wl&&y.parentNode===_}function p1(y,_,C,k,H){var W=k;if(!(_&mL)&&!(_&UE)){var ie=H;if(k!==null){var me=k;e:for(;;){if(me===null)return;var Ae=me.tag;if(Ae===N||Ae===R){var je=me.stateNode.containerInfo;if(sO(je,ie))break;if(Ae===R)for(var Je=me.return;Je!==null;){var Nt=Je.tag;if(Nt===N||Nt===R){var ft=Je.stateNode.containerInfo;if(sO(ft,ie))return}Je=Je.return}for(;je!==null;){var Lt=ip(je);if(Lt===null)return;var Kt=Lt.tag;if(Kt===D||Kt===L){me=W=Lt;continue e}je=je.parentNode}}me=me.return}}}oG(function(){return pre(y,_,C,W)})}function Eh(y,_,C){return{instance:y,listener:_,currentTarget:C}}function lO(y,_,C,k,H){for(var W=_!==null?_+"Capture":null,ie=k?W:_,me=[],Ae=y,je=null;Ae!==null;){var Je=Ae,Nt=Je.stateNode,ft=Je.tag;if(ft===D&&Nt!==null&&(je=Nt,ie!==null)){var Lt=Ma(Ae,ie);Lt!=null&&me.push(Eh(Ae,Lt,je))}if(H)break;Ae=Ae.return}return me}function di(y,_){for(var C=_+"Capture",k=[],H=y;H!==null;){var W=H,ie=W.stateNode,me=W.tag;if(me===D&&ie!==null){var Ae=ie,je=Ma(H,C);je!=null&&k.unshift(Eh(H,je,Ae));var Je=Ma(H,_);Je!=null&&k.push(Eh(H,Je,Ae))}H=H.return}return k}function T0(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==D);return y||null}function b$(y,_){for(var C=y,k=_,H=0,W=C;W;W=T0(W))H++;for(var ie=0,me=k;me;me=T0(me))ie++;for(;H-ie>0;)C=T0(C),H--;for(;ie-H>0;)k=T0(k),ie--;for(var Ae=H;Ae--;){if(C===k||k!==null&&C===k.alternate)return C;C=T0(C),k=T0(k)}return null}function P5(y,_,C,k,H){for(var W=_._reactName,ie=[],me=C;me!==null&&me!==k;){var Ae=me,je=Ae.alternate,Je=Ae.stateNode,Nt=Ae.tag;if(je!==null&&je===k)break;if(Nt===D&&Je!==null){var ft=Je;if(H){var Lt=Ma(me,W);Lt!=null&&ie.unshift(Eh(me,Lt,ft))}else if(!H){var Kt=Ma(me,W);Kt!=null&&ie.push(Eh(me,Kt,ft))}}me=me.return}ie.length!==0&&y.push({event:_,listeners:ie})}function _$(y,_,C,k,H){var W=k&&H?b$(k,H):null;k!==null&&P5(y,_,k,W,!1),H!==null&&C!==null&&P5(y,C,H,W,!0)}function mS(y,_){return y+"__"+(_?"capture":"bubble")}var Vs=!1,tp="dangerouslySetInnerHTML",gS="suppressContentEditableWarning",Sh="suppressHydrationWarning",N5="autoFocus",Ah="children",rp="style",vS="__html",np=XI.html,yS,E0,m1,Hf,S0,bS,A0,_S,g1,M5;{yS={dialog:!0,webview:!0},m1=function(y,_){Q9(y,_),J9(y,_),iG(y,_,{registrationNameDependencies:nt,possibleRegistrationNames:St})},_S=ir&&!document.documentMode;var T$=/\r\n?/g,uO=/\u0000|\uFFFD/g;g1=function(y){var _=typeof y=="string"?y:""+y;return _.replace(T$,`
`).replace(uO,"")},Hf=function(y,_){if(!Vs){var C=g1(_),k=g1(y);k!==C&&(Vs=!0,m('Text content did not match. Server: "%s" Client: "%s"',k,C))}},S0=function(y,_,C){if(!Vs){var k=g1(C),H=g1(_);H!==k&&(Vs=!0,m("Prop `%s` did not match. Server: %s Client: %s",y,JSON.stringify(H),JSON.stringify(k)))}},bS=function(y){if(!Vs){Vs=!0;var _=[];y.forEach(function(C){_.push(C)}),m("Extra attributes from the server: %s",_)}},A0=function(y,_){_===!1?m("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",y,y,y):m("Expected `%s` listener to be a function, instead got a value of `%s` type.",y,typeof _)},M5=function(y,_){var C=y.namespaceURI===np?y.ownerDocument.createElement(y.tagName):y.ownerDocument.createElementNS(y.namespaceURI,y.tagName);return C.innerHTML=_,C.innerHTML}}function cO(y){return y.nodeType===Cf?y:y.ownerDocument}function L5(){}function TS(y){y.onclick=L5}function E$(y,_,C,k,H){for(var W in k)if(k.hasOwnProperty(W)){var ie=k[W];if(W===rp)ie&&Object.freeze(ie),oL(_,ie);else if(W===tp){var me=ie?ie[vS]:void 0;me!=null&&YI(_,me)}else if(W===Ah)if(typeof ie=="string"){var Ae=y!=="textarea"||ie!=="";Ae&&Pb(_,ie)}else typeof ie=="number"&&Pb(_,""+ie);else W===gS||W===Sh||W===N5||(nt.hasOwnProperty(W)?ie!=null&&(typeof ie!="function"&&A0(W,ie),W==="onScroll"&&wa("scroll",_)):ie!=null&&In(_,W,ie,H))}}function S$(y,_,C,k){for(var H=0;H<_.length;H+=2){var W=_[H],ie=_[H+1];W===rp?oL(y,ie):W===tp?YI(y,ie):W===Ah?Pb(y,ie):In(y,W,ie,k)}}function mre(y,_,C,k){var H,W=cO(C),ie,me=k;if(me===np&&(me=NE(y)),me===np){if(H=qm(y,_),!H&&y!==y.toLowerCase()&&m("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",y),y==="script"){var Ae=W.createElement("div");Ae.innerHTML="<script><\/script>";var je=Ae.firstChild;ie=Ae.removeChild(je)}else if(typeof _.is=="string")ie=W.createElement(y,{is:_.is});else if(ie=W.createElement(y),y==="select"){var Je=ie;_.multiple?Je.multiple=!0:_.size&&(Je.size=_.size)}}else ie=W.createElementNS(me,y);return me===np&&!H&&Object.prototype.toString.call(ie)==="[object HTMLUnknownElement]"&&!Object.prototype.hasOwnProperty.call(yS,y)&&(yS[y]=!0,m("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",y)),ie}function hO(y,_){return cO(_).createTextNode(y)}function F5(y,_,C,k){var H=qm(_,C);m1(_,C);var W;switch(_){case"dialog":wa("cancel",y),wa("close",y),W=C;break;case"iframe":case"object":case"embed":wa("load",y),W=C;break;case"video":case"audio":for(var ie=0;ie<f1.length;ie++)wa(f1[ie],y);W=C;break;case"source":wa("error",y),W=C;break;case"img":case"image":case"link":wa("error",y),wa("load",y),W=C;break;case"details":wa("toggle",y),W=C;break;case"input":nn(y,C),W=xi(y,C),wa("invalid",y);break;case"option":Jv(y,C),W=e0(y,C);break;case"select":JM(y,C),W=jI(y,C),wa("invalid",y);break;case"textarea":go(y,C),W=r0(y,C),wa("invalid",y);break;default:W=C}switch(BE(_,W),E$(_,y,k,W,H),_){case"input":Se(y),ps(y,C,!1);break;case"textarea":Se(y),tL(y);break;case"option":VI(y,C);break;case"select":G9(y,C);break;default:typeof W.onClick=="function"&&TS(y);break}}function ES(y,_,C,k,H){m1(_,k);var W=null,ie,me;switch(_){case"input":ie=xi(y,C),me=xi(y,k),W=[];break;case"option":ie=e0(y,C),me=e0(y,k),W=[];break;case"select":ie=jI(y,C),me=jI(y,k),W=[];break;case"textarea":ie=r0(y,C),me=r0(y,k),W=[];break;default:ie=C,me=k,typeof ie.onClick!="function"&&typeof me.onClick=="function"&&TS(y);break}BE(_,me);var Ae,je,Je=null;for(Ae in ie)if(!(me.hasOwnProperty(Ae)||!ie.hasOwnProperty(Ae)||ie[Ae]==null))if(Ae===rp){var Nt=ie[Ae];for(je in Nt)Nt.hasOwnProperty(je)&&(Je||(Je={}),Je[je]="")}else Ae===tp||Ae===Ah||Ae===gS||Ae===Sh||Ae===N5||(nt.hasOwnProperty(Ae)?W||(W=[]):(W=W||[]).push(Ae,null));for(Ae in me){var ft=me[Ae],Lt=ie!=null?ie[Ae]:void 0;if(!(!me.hasOwnProperty(Ae)||ft===Lt||ft==null&&Lt==null))if(Ae===rp)if(ft&&Object.freeze(ft),Lt){for(je in Lt)Lt.hasOwnProperty(je)&&(!ft||!ft.hasOwnProperty(je))&&(Je||(Je={}),Je[je]="");for(je in ft)ft.hasOwnProperty(je)&&Lt[je]!==ft[je]&&(Je||(Je={}),Je[je]=ft[je])}else Je||(W||(W=[]),W.push(Ae,Je)),Je=ft;else if(Ae===tp){var Kt=ft?ft[vS]:void 0,wr=Lt?Lt[vS]:void 0;Kt!=null&&wr!==Kt&&(W=W||[]).push(Ae,Kt)}else Ae===Ah?(typeof ft=="string"||typeof ft=="number")&&(W=W||[]).push(Ae,""+ft):Ae===gS||Ae===Sh||(nt.hasOwnProperty(Ae)?(ft!=null&&(typeof ft!="function"&&A0(Ae,ft),Ae==="onScroll"&&wa("scroll",y)),!W&&Lt!==ft&&(W=[])):typeof ft=="object"&&ft!==null&&ft.$$typeof===fi?ft.toString():(W=W||[]).push(Ae,ft))}return Je&&(X9(Je,me[rp]),(W=W||[]).push(rp,Je)),W}function v1(y,_,C,k,H){C==="input"&&H.type==="radio"&&H.name!=null&&ya(y,H);var W=qm(C,k),ie=qm(C,H);switch(S$(y,_,W,ie),C){case"input":Na(y,H);break;case"textarea":eL(y,H);break;case"select":$9(y,H);break}}function SS(y){{var _=y.toLowerCase();return HE.hasOwnProperty(_)&&HE[_]||null}}function B5(y,_,C,k,H){var W,ie;switch(E0=C[Sh]===!0,W=qm(_,C),m1(_,C),_){case"dialog":wa("cancel",y),wa("close",y);break;case"iframe":case"object":case"embed":wa("load",y);break;case"video":case"audio":for(var me=0;me<f1.length;me++)wa(f1[me],y);break;case"source":wa("error",y);break;case"img":case"image":case"link":wa("error",y),wa("load",y);break;case"details":wa("toggle",y);break;case"input":nn(y,C),wa("invalid",y);break;case"option":Jv(y,C);break;case"select":JM(y,C),wa("invalid",y);break;case"textarea":go(y,C),wa("invalid",y);break}BE(_,C);{ie=new Set;for(var Ae=y.attributes,je=0;je<Ae.length;je++){var Je=Ae[je].name.toLowerCase();switch(Je){case"data-reactroot":break;case"value":break;case"checked":break;case"selected":break;default:ie.add(Ae[je].name)}}}var Nt=null;for(var ft in C)if(C.hasOwnProperty(ft)){var Lt=C[ft];if(ft===Ah)typeof Lt=="string"?y.textContent!==Lt&&(E0||Hf(y.textContent,Lt),Nt=[Ah,Lt]):typeof Lt=="number"&&y.textContent!==""+Lt&&(E0||Hf(y.textContent,Lt),Nt=[Ah,""+Lt]);else if(nt.hasOwnProperty(ft))Lt!=null&&(typeof Lt!="function"&&A0(ft,Lt),ft==="onScroll"&&wa("scroll",y));else if(typeof W=="boolean"){var Kt=void 0,wr=va(ft);if(!E0){if(!(ft===gS||ft===Sh||ft==="value"||ft==="checked"||ft==="selected")){if(ft===tp){var Qr=y.innerHTML,Fn=Lt?Lt[vS]:void 0;if(Fn!=null){var vn=M5(y,Fn);vn!==Qr&&S0(ft,Qr,vn)}}else if(ft===rp){if(ie.delete(ft),_S){var li=tD(Lt);Kt=y.getAttribute("style"),li!==Kt&&S0(ft,Kt,li)}}else if(W)ie.delete(ft.toLowerCase()),Kt=Tn(y,ft,Lt),Lt!==Kt&&S0(ft,Kt,Lt);else if(!ga(ft,wr,W)&&!Ea(ft,Lt,wr,W)){var Di=!1;if(wr!==null)ie.delete(wr.attributeName),Kt=tn(y,ft,Lt,wr);else{var Bt=k;if(Bt===np&&(Bt=NE(_)),Bt===np)ie.delete(ft.toLowerCase());else{var Yt=SS(ft);Yt!==null&&Yt!==ft&&(Di=!0,ie.delete(Yt)),ie.delete(ft)}Kt=Tn(y,ft,Lt)}Lt!==Kt&&!Di&&S0(ft,Kt,Lt)}}}}}switch(ie.size>0&&!E0&&bS(ie),_){case"input":Se(y),ps(y,C,!0);break;case"textarea":Se(y),tL(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&TS(y);break}return Nt}function H5(y,_){var C=y.nodeValue!==_;return C}function si(y,_){Hf(y.nodeValue,_)}function A$(y,_){{if(Vs)return;Vs=!0,m("Did not expect server HTML to contain a <%s> in <%s>.",_.nodeName.toLowerCase(),y.nodeName.toLowerCase())}}function U5(y,_){{if(Vs)return;Vs=!0,m('Did not expect server HTML to contain the text node "%s" in <%s>.',_.nodeValue,y.nodeName.toLowerCase())}}function Ba(y,_,C){{if(Vs)return;Vs=!0,m("Expected server HTML to contain a matching <%s> in <%s>.",_,y.nodeName.toLowerCase())}}function Oc(y,_){{if(_===""||Vs)return;Vs=!0,m('Expected server HTML to contain a matching text node for "%s" in <%s>.',_,y.nodeName.toLowerCase())}}function w$(y,_,C){switch(_){case"input":oi(y,C);return;case"textarea":OE(y,C);return;case"select":WI(y,C);return}}var y1=function(){},b1=function(){};{var C$=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],G5=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],bg=G5.concat(["button"]),fO=["dd","dt","li","option","optgroup","p","rp","rt"],dO={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};b1=function(y,_){var C=o({},y||dO),k={tag:_};return G5.indexOf(_)!==-1&&(C.aTagInScope=null,C.buttonTagInScope=null,C.nobrTagInScope=null),bg.indexOf(_)!==-1&&(C.pTagInButtonScope=null),C$.indexOf(_)!==-1&&_!=="address"&&_!=="div"&&_!=="p"&&(C.listItemTagAutoclosing=null,C.dlItemTagAutoclosing=null),C.current=k,_==="form"&&(C.formTag=k),_==="a"&&(C.aTagInScope=k),_==="button"&&(C.buttonTagInScope=k),_==="nobr"&&(C.nobrTagInScope=k),_==="p"&&(C.pTagInButtonScope=k),_==="li"&&(C.listItemTagAutoclosing=k),(_==="dd"||_==="dt")&&(C.dlItemTagAutoclosing=k),C};var $5=function(y,_){switch(_){case"select":return y==="option"||y==="optgroup"||y==="#text";case"optgroup":return y==="option"||y==="#text";case"option":return y==="#text";case"tr":return y==="th"||y==="td"||y==="style"||y==="script"||y==="template";case"tbody":case"thead":case"tfoot":return y==="tr"||y==="style"||y==="script"||y==="template";case"colgroup":return y==="col"||y==="template";case"table":return y==="caption"||y==="colgroup"||y==="tbody"||y==="tfoot"||y==="thead"||y==="style"||y==="script"||y==="template";case"head":return y==="base"||y==="basefont"||y==="bgsound"||y==="link"||y==="meta"||y==="title"||y==="noscript"||y==="noframes"||y==="style"||y==="script"||y==="template";case"html":return y==="head"||y==="body"||y==="frameset";case"frameset":return y==="frame";case"#document":return y==="html"}switch(y){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return _!=="h1"&&_!=="h2"&&_!=="h3"&&_!=="h4"&&_!=="h5"&&_!=="h6";case"rp":case"rt":return fO.indexOf(_)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return _==null}return!0},x$=function(y,_){switch(y){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return _.pTagInButtonScope;case"form":return _.formTag||_.pTagInButtonScope;case"li":return _.listItemTagAutoclosing;case"dd":case"dt":return _.dlItemTagAutoclosing;case"button":return _.buttonTagInScope;case"a":return _.aTagInScope;case"nobr":return _.nobrTagInScope}return null},z5={};y1=function(y,_,C){C=C||dO;var k=C.current,H=k&&k.tag;_!=null&&(y!=null&&m("validateDOMNesting: when childText is passed, childTag should be null"),y="#text");var W=$5(y,H)?null:k,ie=W?null:x$(y,C),me=W||ie;if(me){var Ae=me.tag,je=!!W+"|"+y+"|"+Ae;if(!z5[je]){z5[je]=!0;var Je=y,Nt="";if(y==="#text"?/\S/.test(_)?Je="Text nodes":(Je="Whitespace text nodes",Nt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):Je="<"+y+">",W){var ft="";Ae==="table"&&y==="tr"&&(ft+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),m("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",Je,Ae,Nt,ft)}else m("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",Je,Ae)}}}}var w0;w0="suppressHydrationWarning";var AS="$",fl="/$",wS="$?",CS="$!",I$="style",xS=null,IS=null;function pO(y,_){switch(y){case"button":case"input":case"select":case"textarea":return!!_.autoFocus}return!1}function DS(y){var _,C,k=y.nodeType;switch(k){case Cf:case Xm:{_=k===Cf?"#document":"#fragment";var H=y.documentElement;C=H?H.namespaceURI:zd(null,"");break}default:{var W=k===Wl?y.parentNode:y,ie=W.namespaceURI||null;_=W.tagName,C=zd(ie,_);break}}{var me=_.toLowerCase(),Ae=b1(null,me);return{namespace:C,ancestorInfo:Ae}}}function V5(y,_,C){{var k=y,H=zd(k.namespace,_),W=b1(k.ancestorInfo,_);return{namespace:H,ancestorInfo:W}}}function gre(y){return y}function D$(y){xS=SG(),IS=h$();var _=null;return KL(!1),_}function O$(y){x5(IS),KL(xS),xS=null,IS=null}function k$(y,_,C,k,H){var W;{var ie=k;if(y1(y,null,ie.ancestorInfo),typeof _.children=="string"||typeof _.children=="number"){var me=""+_.children,Ae=b1(ie.ancestorInfo,y);y1(null,me,Ae)}W=ie.namespace}var je=mre(y,_,C,W);return js(H,je),SO(je,_),je}function R$(y,_){y.appendChild(_)}function P$(y,_,C,k,H){return F5(y,_,C,k),pO(_,C)}function N$(y,_,C,k,H,W){{var ie=W;if(typeof k.children!=typeof C.children&&(typeof k.children=="string"||typeof k.children=="number")){var me=""+k.children,Ae=b1(ie.ancestorInfo,_);y1(null,me,Ae)}}return ES(y,_,C,k)}function mO(y,_){return y==="textarea"||y==="option"||y==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}function M$(y,_,C,k){{var H=C;y1(null,y,H.ancestorInfo)}var W=hO(y,_);return js(k,W),W}var j5=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,vO=-1;function L$(y,_,C,k){pO(_,C)&&y.focus()}function F$(y,_,C,k,H,W){SO(y,H),v1(y,_,C,k,H)}function W5(y){Pb(y,"")}function X5(y,_,C){y.nodeValue=C}function Y5(y,_){y.appendChild(_)}function wh(y,_){var C;y.nodeType===Wl?(C=y.parentNode,C.insertBefore(_,y)):(C=y,C.appendChild(_));var k=y._reactRootContainer;k==null&&C.onclick===null&&TS(C)}function Zl(y,_,C){y.insertBefore(_,C)}function C0(y,_,C){y.nodeType===Wl?y.parentNode.insertBefore(_,C):y.insertBefore(_,C)}function B$(y,_){y.removeChild(_)}function H$(y,_){y.nodeType===Wl?y.parentNode.removeChild(_):y.removeChild(_)}function U$(y){y=y;var _=y.style;typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"}function G$(y){y.nodeValue=""}function z$(y,_){y=y;var C=_[I$],k=C!=null&&C.hasOwnProperty("display")?C.display:null;y.style.display=n0("display",k)}function V$(y,_){y.nodeValue=_}function yO(y){if(y.nodeType===Iu)y.textContent="";else if(y.nodeType===Cf){var _=y.body;_!=null&&(_.textContent="")}}function j$(y,_,C){return y.nodeType!==Iu||_.toLowerCase()!==y.nodeName.toLowerCase()?null:y}function bO(y,_){return _===""||y.nodeType!==wf?null:y}function OS(y){return y.data===wS}function kS(y){return y.data===CS}function q5(y){for(;y!=null;y=y.nextSibling){var _=y.nodeType;if(_===Iu||_===wf)break}return y}function _g(y){return q5(y.nextSibling)}function RS(y){return q5(y.firstChild)}function Kl(y,_,C,k,H,W){js(W,y),SO(y,C);var ie;{var me=H;ie=me.namespace}return B5(y,_,C,ie)}function W$(y,_,C){return js(C,y),H5(y,_)}function vs(y){for(var _=y.nextSibling,C=0;_;){if(_.nodeType===Wl){var k=_.data;if(k===fl){if(C===0)return _g(_);C--}else(k===AS||k===CS||k===wS)&&C++}_=_.nextSibling}return null}function Uf(y){for(var _=y.previousSibling,C=0;_;){if(_.nodeType===Wl){var k=_.data;if(k===AS||k===CS||k===wS){if(C===0)return _;C--}else k===fl&&C++}_=_.previousSibling}return null}function _O(y){UL(y)}function _1(y){UL(y)}function TO(y,_,C){si(_,C)}function Z5(y,_,C,k,H){_[w0]!==!0&&si(k,H)}function X$(y,_){_.nodeType===Iu?A$(y,_):_.nodeType===Wl||U5(y,_)}function K5(y,_,C,k){_[w0]!==!0&&(k.nodeType===Iu?A$(C,k):k.nodeType===Wl||U5(C,k))}function Y$(y,_,C){Ba(y,_)}function q$(y,_){Oc(y,_)}function Q5(y,_,C,k,H){_[w0]!==!0&&Ba(C,k)}function Z$(y,_,C,k){_[w0]!==!0&&Oc(C,k)}function K$(y,_,C){_[w0]}var Q$=0;function J5(y){var _="r:"+(Q$++).toString(36);return{toString:function(){return y(),_},valueOf:function(){return y(),_}}}function J$(y){return y!==null&&typeof y=="object"&&y.$$typeof===fi}function e7(y){return{$$typeof:fi,toString:y,valueOf:y}}function EO(y){pS(y)}var PS=Math.random().toString(36).slice(2),T1="__reactFiber$"+PS,ns="__reactProps$"+PS,E1="__reactContainer$"+PS,S1="__reactEvents$"+PS;function js(y,_){_[T1]=y}function kc(y,_){_[E1]=y}function Gf(y){y[E1]=null}function Tg(y){return!!y[E1]}function ip(y){var _=y[T1];if(_)return _;for(var C=y.parentNode;C;){if(_=C[E1]||C[T1],_){var k=_.alternate;if(_.child!==null||k!==null&&k.child!==null)for(var H=Uf(y);H!==null;){var W=H[T1];if(W)return W;H=Uf(H)}return _}y=C,C=y.parentNode}return null}function $f(y){var _=y[T1]||y[E1];return _&&(_.tag===D||_.tag===L||_.tag===K||_.tag===N)?_:null}function x0(y){if(y.tag===D||y.tag===L)return y.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function I0(y){return y[ns]||null}function SO(y,_){y[ns]=_}function e3(y){var _=y[S1];return _===void 0&&(_=y[S1]=new Set),_}var AO={},wO=c.ReactDebugCurrentFrame;function NS(y){if(y){var _=y._owner,C=Kv(y.type,y._source,_?_.type:null);wO.setExtraStackFrame(C)}else wO.setExtraStackFrame(null)}function Rc(y,_,C,k,H){{var W=Function.call.bind(Object.prototype.hasOwnProperty);for(var ie in y)if(W(y,ie)){var me=void 0;try{if(typeof y[ie]!="function"){var Ae=Error((k||"React class")+": "+C+" type `"+ie+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof y[ie]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ae.name="Invariant Violation",Ae}me=y[ie](_,ie,k,C,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(je){me=je}me&&!(me instanceof Error)&&(NS(H),m("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",k||"React class",C,ie,typeof me),NS(null)),me instanceof Error&&!(me.message in AO)&&(AO[me.message]=!0,NS(H),m("Failed %s type: %s",C,me.message),NS(null))}}}var Eg=[],jn;jn=[];var zf=-1;function ap(y){return{current:y}}function Vo(y,_){if(zf<0){m("Unexpected pop.");return}_!==jn[zf]&&m("Unexpected Fiber popped."),y.current=Eg[zf],Eg[zf]=null,jn[zf]=null,zf--}function ys(y,_,C){zf++,Eg[zf]=y.current,jn[zf]=C,y.current=_}var CO;CO={};var Ql={};Object.freeze(Ql);var Vf=ap(Ql),Pu=ap(!1),MS=Ql;function Sg(y,_,C){return C&&Ws(_)?MS:Vf.current}function t3(y,_,C){{var k=y.stateNode;k.__reactInternalMemoizedUnmaskedChildContext=_,k.__reactInternalMemoizedMaskedChildContext=C}}function op(y,_){{var C=y.type,k=C.contextTypes;if(!k)return Ql;var H=y.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===_)return H.__reactInternalMemoizedMaskedChildContext;var W={};for(var ie in k)W[ie]=_[ie];{var me=Or(C)||"Unknown";Rc(k,W,"context",me)}return H&&t3(y,_,W),W}}function LS(){return Pu.current}function Ws(y){{var _=y.childContextTypes;return _!=null}}function D0(y){Vo(Pu,y),Vo(Vf,y)}function O0(y){Vo(Pu,y),Vo(Vf,y)}function FS(y,_,C){{if(Vf.current!==Ql)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");ys(Vf,_,y),ys(Pu,C,y)}}function r3(y,_,C){{var k=y.stateNode,H=_.childContextTypes;if(typeof k.getChildContext!="function"){{var W=Or(_)||"Unknown";CO[W]||(CO[W]=!0,m("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",W,W))}return C}var ie=k.getChildContext();for(var me in ie)if(!(me in H))throw Error((Or(_)||"Unknown")+'.getChildContext(): key "'+me+'" is not defined in childContextTypes.');{var Ae=Or(_)||"Unknown";Rc(H,ie,"child context",Ae)}return o({},C,ie)}}function BS(y){{var _=y.stateNode,C=_&&_.__reactInternalMemoizedMergedChildContext||Ql;return MS=Vf.current,ys(Vf,C,y),ys(Pu,Pu.current,y),!0}}function n3(y,_,C){{var k=y.stateNode;if(!k)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(C){var H=r3(y,_,MS);k.__reactInternalMemoizedMergedChildContext=H,Vo(Pu,y),Vo(Vf,y),ys(Vf,H,y),ys(Pu,C,y)}else Vo(Pu,y),ys(Pu,C,y)}}function i3(y){{if(!(IL(y)&&y.tag===A))throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var _=y;do{switch(_.tag){case N:return _.stateNode.context;case A:{var C=_.type;if(Ws(C))return _.stateNode.__reactInternalMemoizedMergedChildContext;break}}_=_.return}while(_!==null);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var HS=0,a3=1,US=2,A1=null,Jl=null,k0=!1,o3=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function t7(y){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled)return!0;if(!_.supportsFiber)return m("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{A1=_.inject(y),Jl=_}catch(C){m("React instrumentation encountered an error: %s.",C)}return!0}function GS(y,_){if(Jl&&typeof Jl.onScheduleFiberRoot=="function")try{Jl.onScheduleFiberRoot(A1,y,_)}catch(C){k0||(k0=!0,m("React instrumentation encountered an error: %s",C))}}function s3(y,_){if(Jl&&typeof Jl.onCommitFiberRoot=="function")try{var C=(y.current.flags&aa)===aa;Tt&&Jl.onCommitFiberRoot(A1,y,_,C)}catch(k){k0||(k0=!0,m("React instrumentation encountered an error: %s",k))}}function r7(y){if(Jl&&typeof Jl.onCommitFiberUnmount=="function")try{Jl.onCommitFiberUnmount(A1,y)}catch(_){k0||(k0=!0,m("React instrumentation encountered an error: %s",_))}}var n7=i.unstable_runWithPriority,Ag=i.unstable_scheduleCallback,l3=i.unstable_cancelCallback,ba=i.unstable_shouldYield,u3=i.unstable_requestPaint,xO=i.unstable_now,$S=i.unstable_getCurrentPriorityLevel,zS=i.unstable_ImmediatePriority,c3=i.unstable_UserBlockingPriority,VS=i.unstable_NormalPriority,h3=i.unstable_LowPriority,IO=i.unstable_IdlePriority;if(!(l.__interactionsRef!=null&&l.__interactionsRef.current!=null))throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var f3={},dl=99,sp=98,jf=97,lp=96,d3=95,sa=90,i7=ba,p3=u3!==void 0?u3:function(){},Wf=null,jS=null,ki=!1,m3=xO(),is=m3<1e4?xO:function(){return xO()-m3};function Ch(){switch($S()){case zS:return dl;case c3:return sp;case VS:return jf;case h3:return lp;case IO:return d3;default:throw Error("Unknown priority level.")}}function g3(y){switch(y){case dl:return zS;case sp:return c3;case jf:return VS;case lp:return h3;case d3:return IO;default:throw Error("Unknown priority level.")}}function wg(y,_){var C=g3(y);return n7(C,_)}function up(y,_,C){var k=g3(y);return Ag(k,_,C)}function WS(y){return Wf===null?(Wf=[y],jS=Ag(zS,cp)):Wf.push(y),f3}function v3(y){y!==f3&&l3(y)}function Nu(){if(jS!==null){var y=jS;jS=null,l3(y)}cp()}function cp(){if(!ki&&Wf!==null){ki=!0;var y=0;try{var _=!0,C=Wf;wg(dl,function(){for(;y<C.length;y++){var k=C[y];do k=k(_);while(k!==null)}}),Wf=null}catch(k){throw Wf!==null&&(Wf=Wf.slice(y+1)),Ag(zS,Nu),k}finally{ki=!1}}}var w1="17.0.2",Ca=0,Xa=1,pl=2,Xf=4,ml=8,a7=16,y3=c.ReactCurrentBatchConfig,o7=0;function Cg(){return y3.transition}var Pc={recordUnsafeLifecycleWarnings:function(y,_){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(y,_){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var DO=function(y){for(var _=null,C=y;C!==null;)C.mode&Xa&&(_=C),C=C.return;return _},Mu=function(y){var _=[];return y.forEach(function(C){_.push(C)}),_.sort().join(", ")},Nc=[],C1=[],x1=[],hp=[],I1=[],D1=[],fp=new Set;Pc.recordUnsafeLifecycleWarnings=function(y,_){fp.has(y.type)||(typeof _.componentWillMount=="function"&&_.componentWillMount.__suppressDeprecationWarning!==!0&&Nc.push(y),y.mode&Xa&&typeof _.UNSAFE_componentWillMount=="function"&&C1.push(y),typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&x1.push(y),y.mode&Xa&&typeof _.UNSAFE_componentWillReceiveProps=="function"&&hp.push(y),typeof _.componentWillUpdate=="function"&&_.componentWillUpdate.__suppressDeprecationWarning!==!0&&I1.push(y),y.mode&Xa&&typeof _.UNSAFE_componentWillUpdate=="function"&&D1.push(y))},Pc.flushPendingUnsafeLifecycleWarnings=function(){var y=new Set;Nc.length>0&&(Nc.forEach(function(ft){y.add(Or(ft.type)||"Component"),fp.add(ft.type)}),Nc=[]);var _=new Set;C1.length>0&&(C1.forEach(function(ft){_.add(Or(ft.type)||"Component"),fp.add(ft.type)}),C1=[]);var C=new Set;x1.length>0&&(x1.forEach(function(ft){C.add(Or(ft.type)||"Component"),fp.add(ft.type)}),x1=[]);var k=new Set;hp.length>0&&(hp.forEach(function(ft){k.add(Or(ft.type)||"Component"),fp.add(ft.type)}),hp=[]);var H=new Set;I1.length>0&&(I1.forEach(function(ft){H.add(Or(ft.type)||"Component"),fp.add(ft.type)}),I1=[]);var W=new Set;if(D1.length>0&&(D1.forEach(function(ft){W.add(Or(ft.type)||"Component"),fp.add(ft.type)}),D1=[]),_.size>0){var ie=Mu(_);m(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,ie)}if(k.size>0){var me=Mu(k);m(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,me)}if(W.size>0){var Ae=Mu(W);m(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,Ae)}if(y.size>0){var je=Mu(y);d(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,je)}if(C.size>0){var Je=Mu(C);d(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Je)}if(H.size>0){var Nt=Mu(H);d(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Nt)}};var XS=new Map,OO=new Set;Pc.recordLegacyContextWarning=function(y,_){var C=DO(y);if(C===null){m("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!OO.has(y.type)){var k=XS.get(C);(y.type.contextTypes!=null||y.type.childContextTypes!=null||_!==null&&typeof _.getChildContext=="function")&&(k===void 0&&(k=[],XS.set(C,k)),k.push(y))}},Pc.flushLegacyContextWarning=function(){XS.forEach(function(y,_){if(y.length!==0){var C=y[0],k=new Set;y.forEach(function(W){k.add(Or(W.type)||"Component"),OO.add(W.type)});var H=Mu(k);try{ao(C),m(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,H)}finally{es()}}})},Pc.discardPendingWarnings=function(){Nc=[],C1=[],x1=[],hp=[],I1=[],D1=[],XS=new Map}}function eu(y,_){if(y&&y.defaultProps){var C=o({},_),k=y.defaultProps;for(var H in k)C[H]===void 0&&(C[H]=k[H]);return C}return _}var R0=1073741823,kO=ap(null),RO;RO={};var P0=null,N0=null,YS=null,qS=!1;function ZS(){P0=null,N0=null,YS=null,qS=!1}function KS(){qS=!0}function b3(){qS=!1}function _3(y,_){var C=y.type._context;ys(kO,C._currentValue,y),C._currentValue=_,C._currentRenderer!==void 0&&C._currentRenderer!==null&&C._currentRenderer!==RO&&m("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),C._currentRenderer=RO}function QS(y){var _=kO.current;Vo(kO,y);var C=y.type._context;C._currentValue=_}function s7(y,_,C){if(zs(C,_))return 0;var k=typeof y._calculateChangedBits=="function"?y._calculateChangedBits(C,_):R0;return(k&R0)!==k&&m("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",k),k|0}function T3(y,_){for(var C=y;C!==null;){var k=C.alternate;if(!_h(C.childLanes,_))C.childLanes=Ni(C.childLanes,_),k!==null&&(k.childLanes=Ni(k.childLanes,_));else if(k!==null&&!_h(k.childLanes,_))k.childLanes=Ni(k.childLanes,_);else break;C=C.return}}function l7(y,_,C,k){var H=y.child;for(H!==null&&(H.return=y);H!==null;){var W=void 0,ie=H.dependencies;if(ie!==null){W=H.child;for(var me=ie.firstContext;me!==null;){if(me.context===_&&me.observedBits&C){if(H.tag===A){var Ae=pp(La,Uo(k));Ae.tag=Lu,Yf(H,Ae)}H.lanes=Ni(H.lanes,k);var je=H.alternate;je!==null&&(je.lanes=Ni(je.lanes,k)),T3(H.return,k),ie.lanes=Ni(ie.lanes,k);break}me=me.next}}else H.tag===fe?W=H.type===y.type?null:H.child:W=H.child;if(W!==null)W.return=H;else for(W=H;W!==null;){if(W===y){W=null;break}var Je=W.sibling;if(Je!==null){Je.return=W.return,W=Je;break}W=W.return}H=W}}function dp(y,_){P0=y,N0=null,YS=null;var C=y.dependencies;if(C!==null){var k=C.firstContext;k!==null&&(Oo(C.lanes,_)&&Ok(),C.firstContext=null)}}function oo(y,_){if(qS&&m("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),YS!==y){if(!(_===!1||_===0)){var C;typeof _!="number"||_===R0?(YS=y,C=R0):C=_;var k={context:y,observedBits:C,next:null};if(N0===null){if(P0===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");N0=k,P0.dependencies={lanes:nr,firstContext:k,responders:null}}else N0=N0.next=k}}return y._currentValue}var O1=0,k1=1,Lu=2,PO=3,JS=!1,NO,eA;NO=!1,eA=null;function R1(y){var _={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null};y.updateQueue=_}function E3(y,_){var C=_.updateQueue,k=y.updateQueue;if(C===k){var H={baseState:k.baseState,firstBaseUpdate:k.firstBaseUpdate,lastBaseUpdate:k.lastBaseUpdate,shared:k.shared,effects:k.effects};_.updateQueue=H}}function pp(y,_){var C={eventTime:y,lane:_,tag:O1,payload:null,callback:null,next:null};return C}function Yf(y,_){var C=y.updateQueue;if(C!==null){var k=C.shared,H=k.pending;H===null?_.next=_:(_.next=H.next,H.next=_),k.pending=_,eA===k&&!NO&&(m("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),NO=!0)}}function MO(y,_){var C=y.updateQueue,k=y.alternate;if(k!==null){var H=k.updateQueue;if(C===H){var W=null,ie=null,me=C.firstBaseUpdate;if(me!==null){var Ae=me;do{var je={eventTime:Ae.eventTime,lane:Ae.lane,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null};ie===null?W=ie=je:(ie.next=je,ie=je),Ae=Ae.next}while(Ae!==null);ie===null?W=ie=_:(ie.next=_,ie=_)}else W=ie=_;C={baseState:H.baseState,firstBaseUpdate:W,lastBaseUpdate:ie,shared:H.shared,effects:H.effects},y.updateQueue=C;return}}var Je=C.lastBaseUpdate;Je===null?C.firstBaseUpdate=_:Je.next=_,C.lastBaseUpdate=_}function u7(y,_,C,k,H,W){switch(C.tag){case k1:{var ie=C.payload;if(typeof ie=="function"){KS();var me=ie.call(W,k,H);{if(y.mode&Xa){Cu();try{ie.call(W,k,H)}finally{xu()}}b3()}return me}return ie}case PO:y.flags=y.flags&~xc|aa;case O1:{var Ae=C.payload,je;if(typeof Ae=="function"){KS(),je=Ae.call(W,k,H);{if(y.mode&Xa){Cu();try{Ae.call(W,k,H)}finally{xu()}}b3()}}else je=Ae;return je==null?k:o({},k,je)}case Lu:return JS=!0,k}return k}function P1(y,_,C,k){var H=y.updateQueue;JS=!1,eA=H.shared;var W=H.firstBaseUpdate,ie=H.lastBaseUpdate,me=H.shared.pending;if(me!==null){H.shared.pending=null;var Ae=me,je=Ae.next;Ae.next=null,ie===null?W=je:ie.next=je,ie=Ae;var Je=y.alternate;if(Je!==null){var Nt=Je.updateQueue,ft=Nt.lastBaseUpdate;ft!==ie&&(ft===null?Nt.firstBaseUpdate=je:ft.next=je,Nt.lastBaseUpdate=Ae)}}if(W!==null){var Lt=H.baseState,Kt=nr,wr=null,Qr=null,Fn=null,vn=W;do{var li=vn.lane,Di=vn.eventTime;if(_h(k,li)){if(Fn!==null){var Yt={eventTime:Di,lane:hl,tag:vn.tag,payload:vn.payload,callback:vn.callback,next:null};Fn=Fn.next=Yt}Lt=u7(y,H,vn,Lt,_,C);var Ot=vn.callback;if(Ot!==null){y.flags|=Ou;var dr=H.effects;dr===null?H.effects=[vn]:dr.push(vn)}}else{var Bt={eventTime:Di,lane:li,tag:vn.tag,payload:vn.payload,callback:vn.callback,next:null};Fn===null?(Qr=Fn=Bt,wr=Lt):Fn=Fn.next=Bt,Kt=Ni(Kt,li)}if(vn=vn.next,vn===null){if(me=H.shared.pending,me===null)break;var xr=me,zr=xr.next;xr.next=null,vn=zr,H.lastBaseUpdate=xr,H.shared.pending=null}}while(!0);Fn===null&&(wr=Lt),H.baseState=wr,H.firstBaseUpdate=Qr,H.lastBaseUpdate=Fn,nR(Kt),y.lanes=Kt,y.memoizedState=Lt}eA=null}function S3(y,_){if(typeof y!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+y);y.call(_)}function N1(){JS=!1}function tA(){return JS}function LO(y,_,C){var k=_.effects;if(_.effects=null,k!==null)for(var H=0;H<k.length;H++){var W=k[H],ie=W.callback;ie!==null&&(W.callback=null,S3(ie,C))}}var FO={},A3=Array.isArray,w3=new n.Component().refs,BO,M1,L1,rA,nA,Mc,F1,HO,Fu,UO;{BO=new Set,M1=new Set,L1=new Set,rA=new Set,HO=new Set,nA=new Set,Fu=new Set,UO=new Set;var C3=new Set;F1=function(y,_){if(!(y===null||typeof y=="function")){var C=_+"_"+y;C3.has(C)||(C3.add(C),m("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",_,y))}},Mc=function(y,_){if(_===void 0){var C=Or(y)||"Component";nA.has(C)||(nA.add(C),m("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",C))}},Object.defineProperty(FO,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(FO)}function iA(y,_,C,k){var H=y.memoizedState;if(y.mode&Xa){Cu();try{C(k,H)}finally{xu()}}var W=C(k,H);Mc(_,W);var ie=W==null?H:o({},H,W);if(y.memoizedState=ie,y.lanes===nr){var me=y.updateQueue;me.baseState=ie}}var aA={isMounted:uG,enqueueSetState:function(y,_,C){var k=ng(y),H=bl(),W=Lh(k),ie=pp(H,W);ie.payload=_,C!=null&&(F1(C,"setState"),ie.callback=C),Yf(k,ie),yo(k,W,H)},enqueueReplaceState:function(y,_,C){var k=ng(y),H=bl(),W=Lh(k),ie=pp(H,W);ie.tag=k1,ie.payload=_,C!=null&&(F1(C,"replaceState"),ie.callback=C),Yf(k,ie),yo(k,W,H)},enqueueForceUpdate:function(y,_){var C=ng(y),k=bl(),H=Lh(C),W=pp(k,H);W.tag=Lu,_!=null&&(F1(_,"forceUpdate"),W.callback=_),Yf(C,W),yo(C,H,k)}};function oA(y,_,C,k,H,W,ie){var me=y.stateNode;if(typeof me.shouldComponentUpdate=="function"){if(y.mode&Xa){Cu();try{me.shouldComponentUpdate(k,W,ie)}finally{xu()}}var Ae=me.shouldComponentUpdate(k,W,ie);return Ae===void 0&&m("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Or(_)||"Component"),Ae}return _.prototype&&_.prototype.isPureReactComponent?!yg(C,k)||!yg(H,W):!0}function x3(y,_,C){var k=y.stateNode;{var H=Or(_)||"Component",W=k.render;W||(_.prototype&&typeof _.prototype.render=="function"?m("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",H):m("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",H)),k.getInitialState&&!k.getInitialState.isReactClassApproved&&!k.state&&m("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",H),k.getDefaultProps&&!k.getDefaultProps.isReactClassApproved&&m("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",H),k.propTypes&&m("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",H),k.contextType&&m("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",H),k.contextTypes&&m("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",H),_.contextType&&_.contextTypes&&!Fu.has(_)&&(Fu.add(_),m("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",H)),typeof k.componentShouldUpdate=="function"&&m("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",H),_.prototype&&_.prototype.isPureReactComponent&&typeof k.shouldComponentUpdate<"u"&&m("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Or(_)||"A pure component"),typeof k.componentDidUnmount=="function"&&m("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",H),typeof k.componentDidReceiveProps=="function"&&m("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",H),typeof k.componentWillRecieveProps=="function"&&m("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",H),typeof k.UNSAFE_componentWillRecieveProps=="function"&&m("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",H);var ie=k.props!==C;k.props!==void 0&&ie&&m("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",H,H),k.defaultProps&&m("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",H,H),typeof k.getSnapshotBeforeUpdate=="function"&&typeof k.componentDidUpdate!="function"&&!L1.has(_)&&(L1.add(_),m("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Or(_))),typeof k.getDerivedStateFromProps=="function"&&m("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",H),typeof k.getDerivedStateFromError=="function"&&m("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",H),typeof _.getSnapshotBeforeUpdate=="function"&&m("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",H);var me=k.state;me&&(typeof me!="object"||A3(me))&&m("%s.state: must be set to an object or null",H),typeof k.getChildContext=="function"&&typeof _.childContextTypes!="object"&&m("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",H)}}function sA(y,_){_.updater=aA,y.stateNode=_,AL(_,y),_._reactInternalInstance=FO}function GO(y,_,C){var k=!1,H=Ql,W=Ql,ie=_.contextType;if("contextType"in _){var me=ie===null||ie!==void 0&&ie.$$typeof===Bd&&ie._context===void 0;if(!me&&!UO.has(_)){UO.add(_);var Ae="";ie===void 0?Ae=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof ie!="object"?Ae=" However, it is set to a "+typeof ie+".":ie.$$typeof===Ef?Ae=" Did you accidentally pass the Context.Provider instead?":ie._context!==void 0?Ae=" Did you accidentally pass the Context.Consumer instead?":Ae=" However, it is set to an object with keys {"+Object.keys(ie).join(", ")+"}.",m("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Or(_)||"Component",Ae)}}if(typeof ie=="object"&&ie!==null)W=oo(ie);else{H=Sg(y,_,!0);var je=_.contextTypes;k=je!=null,W=k?op(y,H):Ql}if(y.mode&Xa){Cu();try{new _(C,W)}finally{xu()}}var Je=new _(C,W),Nt=y.memoizedState=Je.state!==null&&Je.state!==void 0?Je.state:null;sA(y,Je);{if(typeof _.getDerivedStateFromProps=="function"&&Nt===null){var ft=Or(_)||"Component";M1.has(ft)||(M1.add(ft),m("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",ft,Je.state===null?"null":"undefined",ft))}if(typeof _.getDerivedStateFromProps=="function"||typeof Je.getSnapshotBeforeUpdate=="function"){var Lt=null,Kt=null,wr=null;if(typeof Je.componentWillMount=="function"&&Je.componentWillMount.__suppressDeprecationWarning!==!0?Lt="componentWillMount":typeof Je.UNSAFE_componentWillMount=="function"&&(Lt="UNSAFE_componentWillMount"),typeof Je.componentWillReceiveProps=="function"&&Je.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Kt="componentWillReceiveProps":typeof Je.UNSAFE_componentWillReceiveProps=="function"&&(Kt="UNSAFE_componentWillReceiveProps"),typeof Je.componentWillUpdate=="function"&&Je.componentWillUpdate.__suppressDeprecationWarning!==!0?wr="componentWillUpdate":typeof Je.UNSAFE_componentWillUpdate=="function"&&(wr="UNSAFE_componentWillUpdate"),Lt!==null||Kt!==null||wr!==null){var Qr=Or(_)||"Component",Fn=typeof _.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";rA.has(Qr)||(rA.add(Qr),m(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Qr,Fn,Lt!==null?`
  `+Lt:"",Kt!==null?`
  `+Kt:"",wr!==null?`
  `+wr:""))}}}return k&&t3(y,H,W),Je}function I3(y,_){var C=_.state;typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&(m("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Or(y.type)||"Component"),aA.enqueueReplaceState(_,_.state,null))}function D3(y,_,C,k){var H=_.state;if(typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(C,k),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(C,k),_.state!==H){{var W=Or(y.type)||"Component";BO.has(W)||(BO.add(W),m("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W))}aA.enqueueReplaceState(_,_.state,null)}}function lA(y,_,C,k){x3(y,_,C);var H=y.stateNode;H.props=C,H.state=y.memoizedState,H.refs=w3,R1(y);var W=_.contextType;if(typeof W=="object"&&W!==null)H.context=oo(W);else{var ie=Sg(y,_,!0);H.context=op(y,ie)}{if(H.state===C){var me=Or(_)||"Component";HO.has(me)||(HO.add(me),m("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",me))}y.mode&Xa&&Pc.recordLegacyContextWarning(y,H),Pc.recordUnsafeLifecycleWarnings(y,H)}P1(y,C,H,k),H.state=y.memoizedState;var Ae=_.getDerivedStateFromProps;typeof Ae=="function"&&(iA(y,_,Ae,C),H.state=y.memoizedState),typeof _.getDerivedStateFromProps!="function"&&typeof H.getSnapshotBeforeUpdate!="function"&&(typeof H.UNSAFE_componentWillMount=="function"||typeof H.componentWillMount=="function")&&(I3(y,H),P1(y,C,H,k),H.state=y.memoizedState),typeof H.componentDidMount=="function"&&(y.flags|=ia)}function uA(y,_,C,k){var H=y.stateNode,W=y.memoizedProps;H.props=W;var ie=H.context,me=_.contextType,Ae=Ql;if(typeof me=="object"&&me!==null)Ae=oo(me);else{var je=Sg(y,_,!0);Ae=op(y,je)}var Je=_.getDerivedStateFromProps,Nt=typeof Je=="function"||typeof H.getSnapshotBeforeUpdate=="function";!Nt&&(typeof H.UNSAFE_componentWillReceiveProps=="function"||typeof H.componentWillReceiveProps=="function")&&(W!==C||ie!==Ae)&&D3(y,H,C,Ae),N1();var ft=y.memoizedState,Lt=H.state=ft;if(P1(y,C,H,k),Lt=y.memoizedState,W===C&&ft===Lt&&!LS()&&!tA())return typeof H.componentDidMount=="function"&&(y.flags|=ia),!1;typeof Je=="function"&&(iA(y,_,Je,C),Lt=y.memoizedState);var Kt=tA()||oA(y,_,W,C,ft,Lt,Ae);return Kt?(!Nt&&(typeof H.UNSAFE_componentWillMount=="function"||typeof H.componentWillMount=="function")&&(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(y.flags|=ia)):(typeof H.componentDidMount=="function"&&(y.flags|=ia),y.memoizedProps=C,y.memoizedState=Lt),H.props=C,H.state=Lt,H.context=Ae,Kt}function cA(y,_,C,k,H){var W=_.stateNode;E3(y,_);var ie=_.memoizedProps,me=_.type===_.elementType?ie:eu(_.type,ie);W.props=me;var Ae=_.pendingProps,je=W.context,Je=C.contextType,Nt=Ql;if(typeof Je=="object"&&Je!==null)Nt=oo(Je);else{var ft=Sg(_,C,!0);Nt=op(_,ft)}var Lt=C.getDerivedStateFromProps,Kt=typeof Lt=="function"||typeof W.getSnapshotBeforeUpdate=="function";!Kt&&(typeof W.UNSAFE_componentWillReceiveProps=="function"||typeof W.componentWillReceiveProps=="function")&&(ie!==Ae||je!==Nt)&&D3(_,W,k,Nt),N1();var wr=_.memoizedState,Qr=W.state=wr;if(P1(_,k,W,H),Qr=_.memoizedState,ie===Ae&&wr===Qr&&!LS()&&!tA())return typeof W.componentDidUpdate=="function"&&(ie!==y.memoizedProps||wr!==y.memoizedState)&&(_.flags|=ia),typeof W.getSnapshotBeforeUpdate=="function"&&(ie!==y.memoizedProps||wr!==y.memoizedState)&&(_.flags|=Df),!1;typeof Lt=="function"&&(iA(_,C,Lt,k),Qr=_.memoizedState);var Fn=tA()||oA(_,C,me,k,wr,Qr,Nt);return Fn?(!Kt&&(typeof W.UNSAFE_componentWillUpdate=="function"||typeof W.componentWillUpdate=="function")&&(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(k,Qr,Nt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(k,Qr,Nt)),typeof W.componentDidUpdate=="function"&&(_.flags|=ia),typeof W.getSnapshotBeforeUpdate=="function"&&(_.flags|=Df)):(typeof W.componentDidUpdate=="function"&&(ie!==y.memoizedProps||wr!==y.memoizedState)&&(_.flags|=ia),typeof W.getSnapshotBeforeUpdate=="function"&&(ie!==y.memoizedProps||wr!==y.memoizedState)&&(_.flags|=Df),_.memoizedProps=k,_.memoizedState=Qr),W.props=k,W.state=Qr,W.context=Nt,Fn}var xg,mn,Pn,$O,mp,B1=function(y,_){};xg=!1,mn=!1,Pn={},$O={},mp={},B1=function(y,_){if(!(y===null||typeof y!="object")&&!(!y._store||y._store.validated||y.key!=null)){if(typeof y._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");y._store.validated=!0;var C=Or(_.type)||"Component";$O[C]||($O[C]=!0,m('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var hA=Array.isArray;function H1(y,_,C){var k=C.ref;if(k!==null&&typeof k!="function"&&typeof k!="object"){if((y.mode&Xa||We)&&!(C._owner&&C._self&&C._owner.stateNode!==C._self)){var H=Or(y.type)||"Component";Pn[H]||(m('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',k),Pn[H]=!0)}if(C._owner){var W=C._owner,ie;if(W){var me=W;if(me.tag!==A)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");ie=me.stateNode}if(!ie)throw Error("Missing owner for string ref "+k+". This error is likely caused by a bug in React. Please file an issue.");var Ae=""+k;if(_!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===Ae)return _.ref;var je=function(Je){var Nt=ie.refs;Nt===w3&&(Nt=ie.refs={}),Je===null?delete Nt[Ae]:Nt[Ae]=Je};return je._stringRef=Ae,je}else{if(typeof k!="string")throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!C._owner)throw Error("Element ref was specified as a string ("+k+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return k}function U1(y,_){if(y.type!=="textarea")throw Error("Objects are not valid as a React child (found: "+(Object.prototype.toString.call(_)==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}function M0(y){{var _=Or(y.type)||"Component";if(mp[_])return;mp[_]=!0,m("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function Ig(y){function _(Bt,Yt){if(y){var Ot=Bt.lastEffect;Ot!==null?(Ot.nextEffect=Yt,Bt.lastEffect=Yt):Bt.firstEffect=Bt.lastEffect=Yt,Yt.nextEffect=null,Yt.flags=If}}function C(Bt,Yt){if(!y)return null;for(var Ot=Yt;Ot!==null;)_(Bt,Ot),Ot=Ot.sibling;return null}function k(Bt,Yt){for(var Ot=new Map,dr=Yt;dr!==null;)dr.key!==null?Ot.set(dr.key,dr):Ot.set(dr.index,dr),dr=dr.sibling;return Ot}function H(Bt,Yt){var Ot=Yg(Bt,Yt);return Ot.index=0,Ot.sibling=null,Ot}function W(Bt,Yt,Ot){if(Bt.index=Ot,!y)return Yt;var dr=Bt.alternate;if(dr!==null){var xr=dr.index;return xr<Yt?(Bt.flags=Wa,Yt):xr}else return Bt.flags=Wa,Yt}function ie(Bt){return y&&Bt.alternate===null&&(Bt.flags=Wa),Bt}function me(Bt,Yt,Ot,dr){if(Yt===null||Yt.tag!==L){var xr=yw(Ot,Bt.mode,dr);return xr.return=Bt,xr}else{var zr=H(Yt,Ot);return zr.return=Bt,zr}}function Ae(Bt,Yt,Ot,dr){if(Yt!==null&&(Yt.elementType===Ot.type||b_(Yt,Ot))){var xr=H(Yt,Ot.props);return xr.ref=H1(Bt,Yt,Ot),xr.return=Bt,xr._debugSource=Ot._source,xr._debugOwner=Ot._owner,xr}var zr=gR(Ot,Bt.mode,dr);return zr.ref=H1(Bt,Yt,Ot),zr.return=Bt,zr}function je(Bt,Yt,Ot,dr){if(Yt===null||Yt.tag!==R||Yt.stateNode.containerInfo!==Ot.containerInfo||Yt.stateNode.implementation!==Ot.implementation){var xr=ly(Ot,Bt.mode,dr);return xr.return=Bt,xr}else{var zr=H(Yt,Ot.children||[]);return zr.return=Bt,zr}}function Je(Bt,Yt,Ot,dr,xr){if(Yt===null||Yt.tag!==z){var zr=qg(Ot,Bt.mode,dr,xr);return zr.return=Bt,zr}else{var ni=H(Yt,Ot);return ni.return=Bt,ni}}function Nt(Bt,Yt,Ot){if(typeof Yt=="string"||typeof Yt=="number"){var dr=yw(""+Yt,Bt.mode,Ot);return dr.return=Bt,dr}if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case wn:{var xr=gR(Yt,Bt.mode,Ot);return xr.ref=H1(Bt,null,Yt),xr.return=Bt,xr}case ha:{var zr=ly(Yt,Bt.mode,Ot);return zr.return=Bt,zr}}if(hA(Yt)||Pi(Yt)){var ni=qg(Yt,Bt.mode,Ot,null);return ni.return=Bt,ni}U1(Bt,Yt)}return typeof Yt=="function"&&M0(Bt),null}function ft(Bt,Yt,Ot,dr){var xr=Yt!==null?Yt.key:null;if(typeof Ot=="string"||typeof Ot=="number")return xr!==null?null:me(Bt,Yt,""+Ot,dr);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case wn:return Ot.key===xr?Ot.type===Bs?Je(Bt,Yt,Ot.props.children,dr,xr):Ae(Bt,Yt,Ot,dr):null;case ha:return Ot.key===xr?je(Bt,Yt,Ot,dr):null}if(hA(Ot)||Pi(Ot))return xr!==null?null:Je(Bt,Yt,Ot,dr,null);U1(Bt,Ot)}return typeof Ot=="function"&&M0(Bt),null}function Lt(Bt,Yt,Ot,dr,xr){if(typeof dr=="string"||typeof dr=="number"){var zr=Bt.get(Ot)||null;return me(Yt,zr,""+dr,xr)}if(typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case wn:{var ni=Bt.get(dr.key===null?Ot:dr.key)||null;return dr.type===Bs?Je(Yt,ni,dr.props.children,xr,dr.key):Ae(Yt,ni,dr,xr)}case ha:{var da=Bt.get(dr.key===null?Ot:dr.key)||null;return je(Yt,da,dr,xr)}}if(hA(dr)||Pi(dr)){var xa=Bt.get(Ot)||null;return Je(Yt,xa,dr,xr,null)}U1(Yt,dr)}return typeof dr=="function"&&M0(Yt),null}function Kt(Bt,Yt,Ot){{if(typeof Bt!="object"||Bt===null)return Yt;switch(Bt.$$typeof){case wn:case ha:B1(Bt,Ot);var dr=Bt.key;if(typeof dr!="string")break;if(Yt===null){Yt=new Set,Yt.add(dr);break}if(!Yt.has(dr)){Yt.add(dr);break}m("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",dr);break}}return Yt}function wr(Bt,Yt,Ot,dr){for(var xr=null,zr=0;zr<Ot.length;zr++){var ni=Ot[zr];xr=Kt(ni,xr,Bt)}for(var da=null,xa=null,Mi=Yt,yn=0,Oi=0,pa=null;Mi!==null&&Oi<Ot.length;Oi++){Mi.index>Oi?(pa=Mi,Mi=null):pa=Mi.sibling;var bo=ft(Bt,Mi,Ot[Oi],dr);if(bo===null){Mi===null&&(Mi=pa);break}y&&Mi&&bo.alternate===null&&_(Bt,Mi),yn=W(bo,yn,Oi),xa===null?da=bo:xa.sibling=bo,xa=bo,Mi=pa}if(Oi===Ot.length)return C(Bt,Mi),da;if(Mi===null){for(;Oi<Ot.length;Oi++){var Ya=Nt(Bt,Ot[Oi],dr);Ya!==null&&(yn=W(Ya,yn,Oi),xa===null?da=Ya:xa.sibling=Ya,xa=Ya)}return da}for(var Uh=k(Bt,Mi);Oi<Ot.length;Oi++){var lo=Lt(Uh,Bt,Oi,Ot[Oi],dr);lo!==null&&(y&&lo.alternate!==null&&Uh.delete(lo.key===null?Oi:lo.key),yn=W(lo,yn,Oi),xa===null?da=lo:xa.sibling=lo,xa=lo)}return y&&Uh.forEach(function(Gh){return _(Bt,Gh)}),da}function Qr(Bt,Yt,Ot,dr){var xr=Pi(Ot);if(typeof xr!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ot[Symbol.toStringTag]==="Generator"&&(mn||m("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),mn=!0),Ot.entries===xr&&(xg||m("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xg=!0);var zr=xr.call(Ot);if(zr)for(var ni=null,da=zr.next();!da.done;da=zr.next()){var xa=da.value;ni=Kt(xa,ni,Bt)}}var Mi=xr.call(Ot);if(Mi==null)throw Error("An iterable object provided no iterator.");for(var yn=null,Oi=null,pa=Yt,bo=0,Ya=0,Uh=null,lo=Mi.next();pa!==null&&!lo.done;Ya++,lo=Mi.next()){pa.index>Ya?(Uh=pa,pa=null):Uh=pa.sibling;var Gh=ft(Bt,pa,lo.value,dr);if(Gh===null){pa===null&&(pa=Uh);break}y&&pa&&Gh.alternate===null&&_(Bt,pa),bo=W(Gh,bo,Ya),Oi===null?yn=Gh:Oi.sibling=Gh,Oi=Gh,pa=Uh}if(lo.done)return C(Bt,pa),yn;if(pa===null){for(;!lo.done;Ya++,lo=Mi.next()){var Kg=Nt(Bt,lo.value,dr);Kg!==null&&(bo=W(Kg,bo,Ya),Oi===null?yn=Kg:Oi.sibling=Kg,Oi=Kg)}return yn}for(var ww=k(Bt,pa);!lo.done;Ya++,lo=Mi.next()){var Hp=Lt(ww,Bt,Ya,lo.value,dr);Hp!==null&&(y&&Hp.alternate!==null&&ww.delete(Hp.key===null?Ya:Hp.key),bo=W(Hp,bo,Ya),Oi===null?yn=Hp:Oi.sibling=Hp,Oi=Hp)}return y&&ww.forEach(function(Sz){return _(Bt,Sz)}),yn}function Fn(Bt,Yt,Ot,dr){if(Yt!==null&&Yt.tag===L){C(Bt,Yt.sibling);var xr=H(Yt,Ot);return xr.return=Bt,xr}C(Bt,Yt);var zr=yw(Ot,Bt.mode,dr);return zr.return=Bt,zr}function vn(Bt,Yt,Ot,dr){for(var xr=Ot.key,zr=Yt;zr!==null;){if(zr.key===xr){switch(zr.tag){case z:{if(Ot.type===Bs){C(Bt,zr.sibling);var ni=H(zr,Ot.props.children);return ni.return=Bt,ni._debugSource=Ot._source,ni._debugOwner=Ot._owner,ni}break}case ot:default:{if(zr.elementType===Ot.type||b_(zr,Ot)){C(Bt,zr.sibling);var da=H(zr,Ot.props);return da.ref=H1(Bt,zr,Ot),da.return=Bt,da._debugSource=Ot._source,da._debugOwner=Ot._owner,da}break}}C(Bt,zr);break}else _(Bt,zr);zr=zr.sibling}if(Ot.type===Bs){var xa=qg(Ot.props.children,Bt.mode,dr,Ot.key);return xa.return=Bt,xa}else{var Mi=gR(Ot,Bt.mode,dr);return Mi.ref=H1(Bt,Yt,Ot),Mi.return=Bt,Mi}}function li(Bt,Yt,Ot,dr){for(var xr=Ot.key,zr=Yt;zr!==null;){if(zr.key===xr)if(zr.tag===R&&zr.stateNode.containerInfo===Ot.containerInfo&&zr.stateNode.implementation===Ot.implementation){C(Bt,zr.sibling);var ni=H(zr,Ot.children||[]);return ni.return=Bt,ni}else{C(Bt,zr);break}else _(Bt,zr);zr=zr.sibling}var da=ly(Ot,Bt.mode,dr);return da.return=Bt,da}function Di(Bt,Yt,Ot,dr){var xr=typeof Ot=="object"&&Ot!==null&&Ot.type===Bs&&Ot.key===null;xr&&(Ot=Ot.props.children);var zr=typeof Ot=="object"&&Ot!==null;if(zr)switch(Ot.$$typeof){case wn:return ie(vn(Bt,Yt,Ot,dr));case ha:return ie(li(Bt,Yt,Ot,dr))}if(typeof Ot=="string"||typeof Ot=="number")return ie(Fn(Bt,Yt,""+Ot,dr));if(hA(Ot))return wr(Bt,Yt,Ot,dr);if(Pi(Ot))return Qr(Bt,Yt,Ot,dr);if(zr&&U1(Bt,Ot),typeof Ot=="function"&&M0(Bt),typeof Ot>"u"&&!xr)switch(Bt.tag){case A:{var ni=Bt.stateNode;if(ni.render._isMockFunction)break}case ot:case w:case Y:case re:throw Error((Or(Bt.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return C(Bt,Yt)}return Di}var Dg=Ig(!0),G1=Ig(!1);function fA(y,_){if(!(y===null||_.child===y.child))throw Error("Resuming work not yet implemented.");if(_.child!==null){var C=_.child,k=Yg(C,C.pendingProps);for(_.child=k,k.return=_;C.sibling!==null;)C=C.sibling,k=k.sibling=Yg(C,C.pendingProps),k.return=_;k.sibling=null}}function zO(y,_){for(var C=y.child;C!==null;)sz(C,_),C=C.sibling}var $1={},gp=ap($1),z1=ap($1),dA=ap($1);function Bu(y){if(y===$1)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return y}function O3(){var y=Bu(dA.current);return y}function vp(y,_){ys(dA,_,y),ys(z1,y,y),ys(gp,$1,y);var C=DS(_);Vo(gp,y),ys(gp,C,y)}function xh(y){Vo(gp,y),Vo(z1,y),Vo(dA,y)}function Og(){var y=Bu(gp.current);return y}function VO(y){Bu(dA.current);var _=Bu(gp.current),C=V5(_,y.type);_!==C&&(ys(z1,y,y),ys(gp,C,y))}function L0(y){z1.current===y&&(Vo(gp,y),Vo(z1,y))}var V1=0,j1=1,qf=1,yp=2,Xs=ap(V1);function W1(y,_){return(y&_)!==0}function kg(y){return y&j1}function jO(y,_){return y&j1|_}function pA(y,_){return y|_}function bp(y,_){ys(Xs,_,y)}function F0(y){Vo(Xs,y)}function k3(y,_){var C=y.memoizedState;if(C!==null)return C.dehydrated!==null;var k=y.memoizedProps;return k.fallback===void 0?!1:k.unstable_avoidThisFallback!==!0?!0:!_}function mA(y){for(var _=y;_!==null;){if(_.tag===K){var C=_.memoizedState;if(C!==null){var k=C.dehydrated;if(k===null||OS(k)||kS(k))return _}}else if(_.tag===Ce&&_.memoizedProps.revealOrder!==void 0){var H=(_.flags&aa)!==Aa;if(H)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===y)return null;for(;_.sibling===null;){if(_.return===null||_.return===y)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var WO=0,_p=1,Rg=2,X1=4,Hu=null,Tp=null,Zf=!1;function XO(y){var _=y.stateNode.containerInfo;return Tp=RS(_),Hu=y,Zf=!0,!0}function Y1(y,_){switch(y.tag){case N:X$(y.stateNode.containerInfo,_);break;case D:K5(y.type,y.memoizedProps,y.stateNode,_);break}var C=__();C.stateNode=_,C.return=y,C.flags=If,y.lastEffect!==null?(y.lastEffect.nextEffect=C,y.lastEffect=C):y.firstEffect=y.lastEffect=C}function YO(y,_){switch(_.flags=_.flags&~Of|Wa,y.tag){case N:{var C=y.stateNode.containerInfo;switch(_.tag){case D:var k=_.type;_.pendingProps,Y$(C,k);break;case L:var H=_.pendingProps;q$(C,H);break}break}case D:{var W=y.type,ie=y.memoizedProps,me=y.stateNode;switch(_.tag){case D:var Ae=_.type;_.pendingProps,Q5(W,ie,me,Ae);break;case L:var je=_.pendingProps;Z$(W,ie,me,je);break;case K:K$(W,ie);break}break}default:return}}function gA(y,_){switch(y.tag){case D:{var C=y.type;y.pendingProps;var k=j$(_,C);return k!==null?(y.stateNode=k,!0):!1}case L:{var H=y.pendingProps,W=bO(_,H);return W!==null?(y.stateNode=W,!0):!1}case K:return!1;default:return!1}}function B0(y){if(Zf){var _=Tp;if(!_){YO(Hu,y),Zf=!1,Hu=y;return}var C=_;if(!gA(y,_)){if(_=_g(C),!_||!gA(y,_)){YO(Hu,y),Zf=!1,Hu=y;return}Y1(Hu,C)}Hu=y,Tp=RS(_)}}function vA(y,_,C){var k=y.stateNode,H=Kl(k,y.type,y.memoizedProps,_,C,y);return y.updateQueue=H,H!==null}function qO(y){var _=y.stateNode,C=y.memoizedProps,k=W$(_,C,y);if(k){var H=Hu;if(H!==null)switch(H.tag){case N:{var W=H.stateNode.containerInfo;TO(W,_,C);break}case D:{var ie=H.type,me=H.memoizedProps,Ae=H.stateNode;Z5(ie,me,Ae,_,C);break}}}return k}function Ih(y){var _=y.memoizedState,C=_!==null?_.dehydrated:null;if(!C)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return vs(C)}function Uu(y){for(var _=y.return;_!==null&&_.tag!==D&&_.tag!==N&&_.tag!==K;)_=_.return;Hu=_}function yA(y){if(y!==Hu)return!1;if(!Zf)return Uu(y),Zf=!0,!1;var _=y.type;if(y.tag!==D||_!=="head"&&_!=="body"&&!mO(_,y.memoizedProps))for(var C=Tp;C;)Y1(y,C),C=_g(C);return Uu(y),y.tag===K?Tp=Ih(y):Tp=Hu?_g(y.stateNode):null,!0}function q1(){Hu=null,Tp=null,Zf=!1}function ZO(){return Zf}var Z1=[],KO;KO={};function c7(y){Z1.push(y)}function K1(){for(var y=0;y<Z1.length;y++){var _=Z1[y];_._workInProgressVersionPrimary=null}Z1.length=0}function R3(y){return y._workInProgressVersionPrimary}function P3(y,_){y._workInProgressVersionPrimary=_,Z1.push(y)}function h7(y){y._currentPrimaryRenderer==null?y._currentPrimaryRenderer=KO:y._currentPrimaryRenderer!==KO&&m("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.")}var Nr=c.ReactCurrentDispatcher,Gu=c.ReactCurrentBatchConfig,QO,JO;JO={},QO=new Set;var Q1=nr,la=null,bs=null,jo=null,bA=!1,J1=!1,f7=25,ar=null,$u=null,Ep=-1,ek=!1;function ea(){{var y=ar;$u===null?$u=[y]:$u.push(y)}}function Br(){{var y=ar;$u!==null&&(Ep++,$u[Ep]!==y&&d7(y))}}function e_(y){y!=null&&!Array.isArray(y)&&m("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",ar,typeof y)}function d7(y){{var _=Or(la.type);if(!QO.has(_)&&(QO.add(_),$u!==null)){for(var C="",k=30,H=0;H<=Ep;H++){for(var W=$u[H],ie=H===Ep?y:W,me=H+1+". "+W;me.length<k;)me+=" ";me+=ie+`
`,C+=me}m(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,_,C)}}}function gl(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function tk(y,_){if(ek)return!1;if(_===null)return m("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",ar),!1;y.length!==_.length&&m(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,ar,"["+_.join(", ")+"]","["+y.join(", ")+"]");for(var C=0;C<_.length&&C<y.length;C++)if(!zs(y[C],_[C]))return!1;return!0}function H0(y,_,C,k,H,W){Q1=W,la=_,$u=y!==null?y._debugHookTypes:null,Ep=-1,ek=y!==null&&y.type!==_.type,_.memoizedState=null,_.updateQueue=null,_.lanes=nr,y!==null&&y.memoizedState!==null?Nr.current=mk:$u!==null?Nr.current=Oh:Nr.current=$3;var ie=C(k,H);if(J1){var me=0;do{if(J1=!1,!(me<f7))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");me+=1,ek=!1,bs=null,jo=null,_.updateQueue=null,Ep=-1,Nr.current=gk,ie=C(k,H)}while(J1)}Nr.current=Fg,_._debugHookTypes=$u;var Ae=bs!==null&&bs.next!==null;if(Q1=nr,la=null,bs=null,jo=null,ar=null,$u=null,Ep=-1,bA=!1,Ae)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return ie}function N3(y,_,C){_.updateQueue=y.updateQueue,_.flags&=~(ig|ia),y.lanes=iS(y.lanes,C)}function M3(){if(Nr.current=Fg,bA){for(var y=la.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}bA=!1}Q1=nr,la=null,bs=null,jo=null,$u=null,Ep=-1,ar=null,Kf=!1,J1=!1}function Pg(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jo===null?la.memoizedState=jo=y:jo=jo.next=y,jo}function Ng(){var y;if(bs===null){var _=la.alternate;_!==null?y=_.memoizedState:y=null}else y=bs.next;var C;if(jo===null?C=la.memoizedState:C=jo.next,C!==null)jo=C,C=jo.next,bs=y;else{if(y===null)throw Error("Rendered more hooks than during the previous render.");bs=y;var k={memoizedState:bs.memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null};jo===null?la.memoizedState=jo=k:jo=jo.next=k}return jo}function p7(){return{lastEffect:null}}function _A(y,_){return typeof _=="function"?_(y):_}function rk(y,_,C){var k=Pg(),H;C!==void 0?H=C(_):H=_,k.memoizedState=k.baseState=H;var W=k.queue={pending:null,dispatch:null,lastRenderedReducer:y,lastRenderedState:H},ie=W.dispatch=$0.bind(null,la,W);return[k.memoizedState,ie]}function nk(y,_,C){var k=Ng(),H=k.queue;if(H===null)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");H.lastRenderedReducer=y;var W=bs,ie=W.baseQueue,me=H.pending;if(me!==null){if(ie!==null){var Ae=ie.next,je=me.next;ie.next=je,me.next=Ae}W.baseQueue!==ie&&m("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),W.baseQueue=ie=me,H.pending=null}if(ie!==null){var Je=ie.next,Nt=W.baseState,ft=null,Lt=null,Kt=null,wr=Je;do{var Qr=wr.lane;if(_h(Q1,Qr)){if(Kt!==null){var vn={lane:hl,action:wr.action,eagerReducer:wr.eagerReducer,eagerState:wr.eagerState,next:null};Kt=Kt.next=vn}if(wr.eagerReducer===y)Nt=wr.eagerState;else{var li=wr.action;Nt=y(Nt,li)}}else{var Fn={lane:Qr,action:wr.action,eagerReducer:wr.eagerReducer,eagerState:wr.eagerState,next:null};Kt===null?(Lt=Kt=Fn,ft=Nt):Kt=Kt.next=Fn,la.lanes=Ni(la.lanes,Qr),nR(Qr)}wr=wr.next}while(wr!==null&&wr!==Je);Kt===null?ft=Nt:Kt.next=Lt,zs(Nt,k.memoizedState)||Ok(),k.memoizedState=Nt,k.baseState=ft,k.baseQueue=Kt,H.lastRenderedState=Nt}var Di=H.dispatch;return[k.memoizedState,Di]}function ik(y,_,C){var k=Ng(),H=k.queue;if(H===null)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");H.lastRenderedReducer=y;var W=H.dispatch,ie=H.pending,me=k.memoizedState;if(ie!==null){H.pending=null;var Ae=ie.next,je=Ae;do{var Je=je.action;me=y(me,Je),je=je.next}while(je!==Ae);zs(me,k.memoizedState)||Ok(),k.memoizedState=me,k.baseQueue===null&&(k.baseState=me),H.lastRenderedState=me}return[me,W]}function L3(y,_,C){h7(_);var k=_._getVersion,H=k(_._source),W=!1,ie=R3(_);if(ie!==null?W=ie===H:(W=_h(Q1,y.mutableReadLanes),W&&P3(_,H)),W){var me=C(_._source);return typeof me=="function"&&m("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),me}else throw c7(_),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function ak(y,_,C,k){var H=Kk();if(H===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var W=_._getVersion,ie=W(_._source),me=Nr.current,Ae=me.useState(function(){return L3(H,_,C)}),je=Ae[0],Je=Ae[1],Nt=je,ft=jo,Lt=y.memoizedState,Kt=Lt.refs,wr=Kt.getSnapshot,Qr=Lt.source,Fn=Lt.subscribe,vn=la;if(y.memoizedState={refs:Kt,source:_,subscribe:k},me.useEffect(function(){Kt.getSnapshot=C,Kt.setSnapshot=Je;var Di=W(_._source);if(!zs(ie,Di)){var Bt=C(_._source);if(typeof Bt=="function"&&m("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),!zs(Nt,Bt)){Je(Bt);var Yt=Lh(vn);mg(H,Yt)}TG(H,H.mutableReadLanes)}},[C,_,k]),me.useEffect(function(){var Di=function(){var Yt=Kt.getSnapshot,Ot=Kt.setSnapshot;try{Ot(Yt(_._source));var dr=Lh(vn);mg(H,dr)}catch(xr){Ot(function(){throw xr})}},Bt=k(_._source,Di);return typeof Bt!="function"&&m("Mutable source subscribe function must return an unsubscribe function."),Bt},[_,k]),!zs(wr,C)||!zs(Qr,_)||!zs(Fn,k)){var li={pending:null,dispatch:null,lastRenderedReducer:_A,lastRenderedState:Nt};li.dispatch=Je=$0.bind(null,la,li),ft.queue=li,ft.baseQueue=null,Nt=L3(H,_,C),ft.memoizedState=ft.baseState=Nt}return Nt}function ok(y,_,C){var k=Pg();return k.memoizedState={refs:{getSnapshot:_,setSnapshot:null},source:y,subscribe:C},ak(k,y,_,C)}function TA(y,_,C){var k=Ng();return ak(k,y,_,C)}function Mg(y){var _=Pg();typeof y=="function"&&(y=y()),_.memoizedState=_.baseState=y;var C=_.queue={pending:null,dispatch:null,lastRenderedReducer:_A,lastRenderedState:y},k=C.dispatch=$0.bind(null,la,C);return[_.memoizedState,k]}function t_(y){return nk(_A)}function r_(y){return ik(_A)}function EA(y,_,C,k){var H={tag:y,create:_,destroy:C,deps:k,next:null},W=la.updateQueue;if(W===null)W=p7(),la.updateQueue=W,W.lastEffect=H.next=H;else{var ie=W.lastEffect;if(ie===null)W.lastEffect=H.next=H;else{var me=ie.next;ie.next=H,H.next=me,W.lastEffect=H}}return H}function SA(y){var _=Pg(),C={current:y};return Object.seal(C),_.memoizedState=C,C}function U0(y){var _=Ng();return _.memoizedState}function sk(y,_,C,k){var H=Pg(),W=k===void 0?null:k;la.flags|=y,H.memoizedState=EA(_p|_,C,void 0,W)}function lk(y,_,C,k){var H=Ng(),W=k===void 0?null:k,ie=void 0;if(bs!==null){var me=bs.memoizedState;if(ie=me.destroy,W!==null){var Ae=me.deps;if(tk(W,Ae)){EA(_,C,ie,W);return}}}la.flags|=y,H.memoizedState=EA(_p|_,C,ie,W)}function AA(y,_){return typeof jest<"u"&&Lr(la),sk(ia|ig,X1,y,_)}function G0(y,_){return typeof jest<"u"&&Lr(la),lk(ia|ig,X1,y,_)}function uk(y,_){return sk(ia,Rg,y,_)}function wA(y,_){return lk(ia,Rg,y,_)}function F3(y,_){if(typeof _=="function"){var C=_,k=y();return C(k),function(){C(null)}}else if(_!=null){var H=_;H.hasOwnProperty("current")||m("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(H).join(", ")+"}");var W=y();return H.current=W,function(){H.current=null}}}function ck(y,_,C){typeof _!="function"&&m("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",_!==null?typeof _:"null");var k=C!=null?C.concat([y]):null;return sk(ia,Rg,F3.bind(null,_,y),k)}function zu(y,_,C){typeof _!="function"&&m("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",_!==null?typeof _:"null");var k=C!=null?C.concat([y]):null;return lk(ia,Rg,F3.bind(null,_,y),k)}function B3(y,_){}var Dh=B3;function hk(y,_){var C=Pg(),k=_===void 0?null:_;return C.memoizedState=[y,k],y}function CA(y,_){var C=Ng(),k=_===void 0?null:_,H=C.memoizedState;if(H!==null&&k!==null){var W=H[1];if(tk(k,W))return H[0]}return C.memoizedState=[y,k],y}function fk(y,_){var C=Pg(),k=_===void 0?null:_,H=y();return C.memoizedState=[H,k],H}function xA(y,_){var C=Ng(),k=_===void 0?null:_,H=C.memoizedState;if(H!==null&&k!==null){var W=H[1];if(tk(k,W))return H[0]}var ie=y();return C.memoizedState=[ie,k],ie}function n_(y){var _=Mg(y),C=_[0],k=_[1];return AA(function(){var H=Gu.transition;Gu.transition=1;try{k(y)}finally{Gu.transition=H}},[y]),C}function H3(y){var _=t_(),C=_[0],k=_[1];return G0(function(){var H=Gu.transition;Gu.transition=1;try{k(y)}finally{Gu.transition=H}},[y]),C}function U3(y){var _=r_(),C=_[0],k=_[1];return G0(function(){var H=Gu.transition;Gu.transition=1;try{k(y)}finally{Gu.transition=H}},[y]),C}function dk(y,_){var C=Ch();wg(C<sp?sp:C,function(){y(!0)}),wg(C>jf?jf:C,function(){var k=Gu.transition;Gu.transition=1;try{y(!1),_()}finally{Gu.transition=k}})}function IA(){var y=Mg(!1),_=y[0],C=y[1],k=dk.bind(null,C);return SA(k),[k,_]}function DA(){var y=t_(),_=y[0],C=U0(),k=C.current;return[k,_]}function Lg(){var y=r_(),_=y[0],C=U0(),k=C.current;return[k,_]}var Kf=!1;function G3(){return Kf}function as(y){{var _=Or(y.type)||"Unknown";UI()&&!JO[_]&&(m("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly."),JO[_]=!0)}}function Wo(){var y=J5.bind(null,as.bind(null,la));if(ZO()){var _=!1,C=la,k=function(){throw _||(_=!0,Kf=!0,W(y()),Kf=!1,as(C)),Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.")},H=e7(k),W=Mg(H)[1];return(la.mode&pl)===Ca&&(la.flags|=ia|ig,EA(_p|X1,function(){W(y())},void 0,null)),H}else{var ie=y();return Mg(ie),ie}}function pk(){var y=t_()[0];return y}function OA(){var y=r_()[0];return y}function $0(y,_,C){typeof arguments[3]=="function"&&m("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var k=bl(),H=Lh(y),W={lane:H,action:C,eagerReducer:null,eagerState:null,next:null},ie=_.pending;ie===null?W.next=W:(W.next=ie.next,ie.next=W),_.pending=W;var me=y.alternate;if(y===la||me!==null&&me===la)J1=bA=!0;else{if(y.lanes===nr&&(me===null||me.lanes===nr)){var Ae=_.lastRenderedReducer;if(Ae!==null){var je;je=Nr.current,Nr.current=Lc;try{var Je=_.lastRenderedState,Nt=Ae(Je,C);if(W.eagerReducer=Ae,W.eagerState=Nt,zs(Nt,Je))return}catch{}finally{Nr.current=je}}}typeof jest<"u"&&(J7(y),xF(y)),yo(y,H,k)}}var Fg={readContext:oo,useCallback:gl,useContext:gl,useEffect:gl,useImperativeHandle:gl,useLayoutEffect:gl,useMemo:gl,useReducer:gl,useRef:gl,useState:gl,useDebugValue:gl,useDeferredValue:gl,useTransition:gl,useMutableSource:gl,useOpaqueIdentifier:gl,unstable_isNewReconciler:qe},$3=null,Oh=null,mk=null,gk=null,kh=null,Lc=null,Sp=null;{var vk=function(){m("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},$n=function(){m("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};$3={readContext:function(y,_){return oo(y,_)},useCallback:function(y,_){return ar="useCallback",ea(),e_(_),hk(y,_)},useContext:function(y,_){return ar="useContext",ea(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",ea(),e_(_),AA(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",ea(),e_(C),ck(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",ea(),e_(_),uk(y,_)},useMemo:function(y,_){ar="useMemo",ea(),e_(_);var C=Nr.current;Nr.current=kh;try{return fk(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",ea();var k=Nr.current;Nr.current=kh;try{return rk(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",ea(),SA(y)},useState:function(y){ar="useState",ea();var _=Nr.current;Nr.current=kh;try{return Mg(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",ea(),void 0},useDeferredValue:function(y){return ar="useDeferredValue",ea(),n_(y)},useTransition:function(){return ar="useTransition",ea(),IA()},useMutableSource:function(y,_,C){return ar="useMutableSource",ea(),ok(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",ea(),Wo()},unstable_isNewReconciler:qe},Oh={readContext:function(y,_){return oo(y,_)},useCallback:function(y,_){return ar="useCallback",Br(),hk(y,_)},useContext:function(y,_){return ar="useContext",Br(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",Br(),AA(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",Br(),ck(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",Br(),uk(y,_)},useMemo:function(y,_){ar="useMemo",Br();var C=Nr.current;Nr.current=kh;try{return fk(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",Br();var k=Nr.current;Nr.current=kh;try{return rk(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",Br(),SA(y)},useState:function(y){ar="useState",Br();var _=Nr.current;Nr.current=kh;try{return Mg(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",Br(),void 0},useDeferredValue:function(y){return ar="useDeferredValue",Br(),n_(y)},useTransition:function(){return ar="useTransition",Br(),IA()},useMutableSource:function(y,_,C){return ar="useMutableSource",Br(),ok(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",Br(),Wo()},unstable_isNewReconciler:qe},mk={readContext:function(y,_){return oo(y,_)},useCallback:function(y,_){return ar="useCallback",Br(),CA(y,_)},useContext:function(y,_){return ar="useContext",Br(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",Br(),G0(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",Br(),zu(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",Br(),wA(y,_)},useMemo:function(y,_){ar="useMemo",Br();var C=Nr.current;Nr.current=Lc;try{return xA(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",Br();var k=Nr.current;Nr.current=Lc;try{return nk(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",Br(),U0()},useState:function(y){ar="useState",Br();var _=Nr.current;Nr.current=Lc;try{return t_(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",Br(),Dh()},useDeferredValue:function(y){return ar="useDeferredValue",Br(),H3(y)},useTransition:function(){return ar="useTransition",Br(),DA()},useMutableSource:function(y,_,C){return ar="useMutableSource",Br(),TA(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",Br(),pk()},unstable_isNewReconciler:qe},gk={readContext:function(y,_){return oo(y,_)},useCallback:function(y,_){return ar="useCallback",Br(),CA(y,_)},useContext:function(y,_){return ar="useContext",Br(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",Br(),G0(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",Br(),zu(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",Br(),wA(y,_)},useMemo:function(y,_){ar="useMemo",Br();var C=Nr.current;Nr.current=Sp;try{return xA(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",Br();var k=Nr.current;Nr.current=Sp;try{return ik(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",Br(),U0()},useState:function(y){ar="useState",Br();var _=Nr.current;Nr.current=Sp;try{return r_(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",Br(),Dh()},useDeferredValue:function(y){return ar="useDeferredValue",Br(),U3(y)},useTransition:function(){return ar="useTransition",Br(),Lg()},useMutableSource:function(y,_,C){return ar="useMutableSource",Br(),TA(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",Br(),OA()},unstable_isNewReconciler:qe},kh={readContext:function(y,_){return vk(),oo(y,_)},useCallback:function(y,_){return ar="useCallback",$n(),ea(),hk(y,_)},useContext:function(y,_){return ar="useContext",$n(),ea(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",$n(),ea(),AA(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",$n(),ea(),ck(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",$n(),ea(),uk(y,_)},useMemo:function(y,_){ar="useMemo",$n(),ea();var C=Nr.current;Nr.current=kh;try{return fk(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",$n(),ea();var k=Nr.current;Nr.current=kh;try{return rk(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",$n(),ea(),SA(y)},useState:function(y){ar="useState",$n(),ea();var _=Nr.current;Nr.current=kh;try{return Mg(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",$n(),ea(),void 0},useDeferredValue:function(y){return ar="useDeferredValue",$n(),ea(),n_(y)},useTransition:function(){return ar="useTransition",$n(),ea(),IA()},useMutableSource:function(y,_,C){return ar="useMutableSource",$n(),ea(),ok(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",$n(),ea(),Wo()},unstable_isNewReconciler:qe},Lc={readContext:function(y,_){return vk(),oo(y,_)},useCallback:function(y,_){return ar="useCallback",$n(),Br(),CA(y,_)},useContext:function(y,_){return ar="useContext",$n(),Br(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",$n(),Br(),G0(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",$n(),Br(),zu(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",$n(),Br(),wA(y,_)},useMemo:function(y,_){ar="useMemo",$n(),Br();var C=Nr.current;Nr.current=Lc;try{return xA(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",$n(),Br();var k=Nr.current;Nr.current=Lc;try{return nk(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",$n(),Br(),U0()},useState:function(y){ar="useState",$n(),Br();var _=Nr.current;Nr.current=Lc;try{return t_(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",$n(),Br(),Dh()},useDeferredValue:function(y){return ar="useDeferredValue",$n(),Br(),H3(y)},useTransition:function(){return ar="useTransition",$n(),Br(),DA()},useMutableSource:function(y,_,C){return ar="useMutableSource",$n(),Br(),TA(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",$n(),Br(),pk()},unstable_isNewReconciler:qe},Sp={readContext:function(y,_){return vk(),oo(y,_)},useCallback:function(y,_){return ar="useCallback",$n(),Br(),CA(y,_)},useContext:function(y,_){return ar="useContext",$n(),Br(),oo(y,_)},useEffect:function(y,_){return ar="useEffect",$n(),Br(),G0(y,_)},useImperativeHandle:function(y,_,C){return ar="useImperativeHandle",$n(),Br(),zu(y,_,C)},useLayoutEffect:function(y,_){return ar="useLayoutEffect",$n(),Br(),wA(y,_)},useMemo:function(y,_){ar="useMemo",$n(),Br();var C=Nr.current;Nr.current=Lc;try{return xA(y,_)}finally{Nr.current=C}},useReducer:function(y,_,C){ar="useReducer",$n(),Br();var k=Nr.current;Nr.current=Lc;try{return ik(y,_,C)}finally{Nr.current=k}},useRef:function(y){return ar="useRef",$n(),Br(),U0()},useState:function(y){ar="useState",$n(),Br();var _=Nr.current;Nr.current=Lc;try{return r_(y)}finally{Nr.current=_}},useDebugValue:function(y,_){return ar="useDebugValue",$n(),Br(),Dh()},useDeferredValue:function(y){return ar="useDeferredValue",$n(),Br(),U3(y)},useTransition:function(){return ar="useTransition",$n(),Br(),Lg()},useMutableSource:function(y,_,C){return ar="useMutableSource",$n(),Br(),TA(y,_,C)},useOpaqueIdentifier:function(){return ar="useOpaqueIdentifier",$n(),Br(),OA()},unstable_isNewReconciler:qe}}var kA=i.unstable_now,RA=0,i_=-1;function m7(){return RA}function a_(){RA=kA()}function Bg(y){i_=kA(),y.actualStartTime<0&&(y.actualStartTime=kA())}function PA(y){i_=-1}function z0(y,_){if(i_>=0){var C=kA()-i_;y.actualDuration+=C,_&&(y.selfBaseDuration=C),i_=-1}}function yk(y){for(var _=y.child;_;)y.actualDuration+=_.actualDuration,_=_.sibling}var Qf=c.ReactCurrentOwner,Rh=!1,bk,Hg,NA,_k,MA,Vu,Tk,o_;bk={},Hg={},NA={},_k={},MA={},Vu=!1,Tk={},o_={};function Vn(y,_,C,k){y===null?_.child=G1(_,null,C,k):_.child=Dg(_,y.child,C,k)}function Ek(y,_,C,k){_.child=Dg(_,y.child,null,k),_.child=Dg(_,null,C,k)}function V0(y,_,C,k,H){if(_.type!==_.elementType){var W=C.propTypes;W&&Rc(W,k,"prop",Or(C))}var ie=C.render,me=_.ref,Ae;dp(_,H);{if(Qf.current=_,jl(!0),Ae=H0(y,_,ie,k,me,H),_.mode&Xa){Cu();try{Ae=H0(y,_,ie,k,me,H)}finally{xu()}}jl(!1)}return y!==null&&!Rh?(N3(y,_,H),Ph(y,_,H)):(_.flags|=Yl,Vn(y,_,Ae,H),_.child)}function Sk(y,_,C,k,H,W){if(y===null){var ie=C.type;if(az(ie)&&C.compare===null&&C.defaultProps===void 0){var me=ie;return me=Mp(ie),_.tag=re,_.type=me,LA(_,ie),j0(y,_,me,k,H,W)}{var Ae=ie.propTypes;Ae&&Rc(Ae,k,"prop",Or(ie))}var je=mR(C.type,null,k,_,_.mode,W);return je.ref=_.ref,je.return=_,_.child=je,je}{var Je=C.type,Nt=Je.propTypes;Nt&&Rc(Nt,k,"prop",Or(Je))}var ft=y.child;if(!Oo(H,W)){var Lt=ft.memoizedProps,Kt=C.compare;if(Kt=Kt!==null?Kt:yg,Kt(Lt,k)&&y.ref===_.ref)return Ph(y,_,W)}_.flags|=Yl;var wr=Yg(ft,k);return wr.ref=_.ref,wr.return=_,_.child=wr,wr}function j0(y,_,C,k,H,W){if(_.type!==_.elementType){var ie=_.elementType;if(ie.$$typeof===rr){var me=ie,Ae=me._payload,je=me._init;try{ie=je(Ae)}catch{ie=null}var Je=ie&&ie.propTypes;Je&&Rc(Je,k,"prop",Or(ie))}}if(y!==null){var Nt=y.memoizedProps;if(yg(Nt,k)&&y.ref===_.ref&&_.type===y.type)if(Rh=!1,Oo(W,H))(y.flags&Vb)!==Aa&&(Rh=!0);else return _.lanes=y.lanes,Ph(y,_,W)}return Jf(y,_,C,k,W)}function ei(y,_,C){var k=_.pendingProps,H=k.children,W=y!==null?y.memoizedState:null;if(k.mode==="hidden"||k.mode==="unstable-defer-without-hiding")if((_.mode&Xf)===Ca){var ie={baseLanes:nr};_.memoizedState=ie,iw(_,C)}else if(Oo(C,vh)){var Je={baseLanes:nr};_.memoizedState=Je;var Nt=W!==null?W.baseLanes:C;iw(_,Nt)}else{var me;if(W!==null){var Ae=W.baseLanes;me=Ni(Ae,C)}else me=C;oy(vh),_.lanes=_.childLanes=vh;var je={baseLanes:me};return _.memoizedState=je,iw(_,me),null}else{var ft;W!==null?(ft=Ni(W.baseLanes,C),_.memoizedState=null):ft=C,iw(_,ft)}return Vn(y,_,H,C),_.child}var Ak=ei;function s_(y,_,C){var k=_.pendingProps;return Vn(y,_,k,C),_.child}function wk(y,_,C){var k=_.pendingProps.children;return Vn(y,_,k,C),_.child}function Ck(y,_,C){{_.flags|=ia;var k=_.stateNode;k.effectDuration=0,k.passiveEffectDuration=0}var H=_.pendingProps,W=H.children;return Vn(y,_,W,C),_.child}function z3(y,_){var C=_.ref;(y===null&&C!==null||y!==null&&y.ref!==C)&&(_.flags|=l0)}function Jf(y,_,C,k,H){if(_.type!==_.elementType){var W=C.propTypes;W&&Rc(W,k,"prop",Or(C))}var ie;{var me=Sg(_,C,!0);ie=op(_,me)}var Ae;dp(_,H);{if(Qf.current=_,jl(!0),Ae=H0(y,_,C,k,ie,H),_.mode&Xa){Cu();try{Ae=H0(y,_,C,k,ie,H)}finally{xu()}}jl(!1)}return y!==null&&!Rh?(N3(y,_,H),Ph(y,_,H)):(_.flags|=Yl,Vn(y,_,Ae,H),_.child)}function V3(y,_,C,k,H){if(_.type!==_.elementType){var W=C.propTypes;W&&Rc(W,k,"prop",Or(C))}var ie;Ws(C)?(ie=!0,BS(_)):ie=!1,dp(_,H);var me=_.stateNode,Ae;me===null?(y!==null&&(y.alternate=null,_.alternate=null,_.flags|=Wa),GO(_,C,k),lA(_,C,k,H),Ae=!0):y===null?Ae=uA(_,C,k,H):Ae=cA(y,_,C,k,H);var je=xk(y,_,C,Ae,ie,H);{var Je=_.stateNode;Ae&&Je.props!==k&&(Vu||m("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Or(_.type)||"a component"),Vu=!0)}return je}function xk(y,_,C,k,H,W){z3(y,_);var ie=(_.flags&aa)!==Aa;if(!k&&!ie)return H&&n3(_,C,!1),Ph(y,_,W);var me=_.stateNode;Qf.current=_;var Ae;if(ie&&typeof C.getDerivedStateFromError!="function")Ae=null,PA();else{if(jl(!0),Ae=me.render(),_.mode&Xa){Cu();try{me.render()}finally{xu()}}jl(!1)}return _.flags|=Yl,y!==null&&ie?Ek(y,_,Ae,W):Vn(y,_,Ae,W),_.memoizedState=me.state,H&&n3(_,C,!0),_.child}function j3(y){var _=y.stateNode;_.pendingContext?FS(y,_.pendingContext,_.pendingContext!==_.context):_.context&&FS(y,_.context,!1),vp(y,_.containerInfo)}function g7(y,_,C){j3(_);var k=_.updateQueue;if(!(y!==null&&k!==null))throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var H=_.pendingProps,W=_.memoizedState,ie=W!==null?W.element:null;E3(y,_),P1(_,H,null,C);var me=_.memoizedState,Ae=me.element;if(Ae===ie)return q1(),Ph(y,_,C);var je=_.stateNode;if(je.hydrate&&XO(_)){{var Je=je.mutableSourceEagerHydrationData;if(Je!=null)for(var Nt=0;Nt<Je.length;Nt+=2){var ft=Je[Nt],Lt=Je[Nt+1];P3(ft,Lt)}}var Kt=G1(_,null,Ae,C);_.child=Kt;for(var wr=Kt;wr;)wr.flags=wr.flags&~Wa|Of,wr=wr.sibling}else Vn(y,_,Ae,C),q1();return _.child}function v7(y,_,C){VO(_),y===null&&B0(_);var k=_.type,H=_.pendingProps,W=y!==null?y.memoizedProps:null,ie=H.children,me=mO(k,H);return me?ie=null:W!==null&&mO(k,W)&&(_.flags|=zb),z3(y,_),Vn(y,_,ie,C),_.child}function y7(y,_){return y===null&&B0(_),null}function b7(y,_,C,k,H){y!==null&&(y.alternate=null,_.alternate=null,_.flags|=Wa);var W=_.pendingProps,ie=C,me=ie._payload,Ae=ie._init,je=Ae(me);_.type=je;var Je=_.tag=oz(je),Nt=eu(je,W),ft;switch(Je){case w:return LA(_,je),_.type=je=Mp(je),ft=Jf(null,_,je,Nt,H),ft;case A:return _.type=je=lR(je),ft=V3(null,_,je,Nt,H),ft;case Y:return _.type=je=uR(je),ft=V0(null,_,je,Nt,H),ft;case ce:{if(_.type!==_.elementType){var Lt=je.propTypes;Lt&&Rc(Lt,Nt,"prop",Or(je))}return ft=Sk(null,_,je,eu(je.type,Nt),k,H),ft}}var Kt="";throw je!==null&&typeof je=="object"&&je.$$typeof===rr&&(Kt=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+je+". Lazy element type must resolve to a class or function."+Kt)}function W3(y,_,C,k,H){y!==null&&(y.alternate=null,_.alternate=null,_.flags|=Wa),_.tag=A;var W;return Ws(C)?(W=!0,BS(_)):W=!1,dp(_,H),GO(_,C,k),lA(_,C,k,H),xk(null,_,C,!0,W,H)}function W0(y,_,C,k){y!==null&&(y.alternate=null,_.alternate=null,_.flags|=Wa);var H=_.pendingProps,W;{var ie=Sg(_,C,!1);W=op(_,ie)}dp(_,k);var me;{if(C.prototype&&typeof C.prototype.render=="function"){var Ae=Or(C)||"Unknown";bk[Ae]||(m("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",Ae,Ae),bk[Ae]=!0)}_.mode&Xa&&Pc.recordLegacyContextWarning(_,null),jl(!0),Qf.current=_,me=H0(null,_,C,H,W,k),jl(!1)}if(_.flags|=Yl,typeof me=="object"&&me!==null&&typeof me.render=="function"&&me.$$typeof===void 0){var je=Or(C)||"Unknown";Hg[je]||(m("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",je,je,je),Hg[je]=!0)}if(typeof me=="object"&&me!==null&&typeof me.render=="function"&&me.$$typeof===void 0){{var Je=Or(C)||"Unknown";Hg[Je]||(m("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Je,Je,Je),Hg[Je]=!0)}_.tag=A,_.memoizedState=null,_.updateQueue=null;var Nt=!1;Ws(C)?(Nt=!0,BS(_)):Nt=!1,_.memoizedState=me.state!==null&&me.state!==void 0?me.state:null,R1(_);var ft=C.getDerivedStateFromProps;return typeof ft=="function"&&iA(_,C,ft,H),sA(_,me),lA(_,C,H,k),xk(null,_,C,!0,Nt,k)}else{if(_.tag=w,_.mode&Xa){Cu();try{me=H0(null,_,C,H,W,k)}finally{xu()}}return Vn(null,_,me,k),LA(_,C),_.child}}function LA(y,_){{if(_&&_.childContextTypes&&m("%s(...): childContextTypes cannot be defined on a function component.",_.displayName||_.name||"Component"),y.ref!==null){var C="",k=Gd();k&&(C+=`

Check the render method of \``+k+"`.");var H=k||y._debugID||"",W=y._debugSource;W&&(H=W.fileName+":"+W.lineNumber),MA[H]||(MA[H]=!0,m("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",C))}if(typeof _.getDerivedStateFromProps=="function"){var ie=Or(_)||"Unknown";_k[ie]||(m("%s: Function components do not support getDerivedStateFromProps.",ie),_k[ie]=!0)}if(typeof _.contextType=="object"&&_.contextType!==null){var me=Or(_)||"Unknown";NA[me]||(m("%s: Function components do not support contextType.",me),NA[me]=!0)}}}var Ug={dehydrated:null,retryLane:hl};function Gg(y){return{baseLanes:y}}function FA(y,_){return{baseLanes:Ni(y.baseLanes,_)}}function l_(y,_,C,k){if(_!==null){var H=_.memoizedState;if(H===null)return!1}return W1(y,yp)}function Ik(y,_){return iS(y.childLanes,_)}function $g(y,_,C){var k=_.pendingProps;ER(_)&&(_.flags|=aa);var H=Xs.current,W=!1,ie=(_.flags&aa)!==Aa;if(ie||l_(H,y)?(W=!0,_.flags&=~aa):(y===null||y.memoizedState!==null)&&k.fallback!==void 0&&k.unstable_avoidThisFallback!==!0&&(H=pA(H,qf)),H=kg(H),bp(_,H),y===null){k.fallback!==void 0&&B0(_);var me=k.children,Ae=k.fallback;if(W){var je=BA(_,me,Ae,C),Je=_.child;return Je.memoizedState=Gg(C),_.memoizedState=Ug,je}else if(typeof k.unstable_expectedLoadTime=="number"){var Nt=BA(_,me,Ae,C),ft=_.child;return ft.memoizedState=Gg(C),_.memoizedState=Ug,_.lanes=g0,oy(g0),Nt}else return _7(_,me,C)}else{var Lt=y.memoizedState;if(Lt!==null)if(W){var Kt=k.fallback,wr=k.children,Qr=X3(y,_,wr,Kt,C),Fn=_.child,vn=y.child.memoizedState;return Fn.memoizedState=vn===null?Gg(C):FA(vn,C),Fn.childLanes=Ik(y,C),_.memoizedState=Ug,Qr}else{var li=k.children,Di=X0(y,_,li,C);return _.memoizedState=null,Di}else if(W){var Bt=k.fallback,Yt=k.children,Ot=X3(y,_,Yt,Bt,C),dr=_.child,xr=y.child.memoizedState;return dr.memoizedState=xr===null?Gg(C):FA(xr,C),dr.childLanes=Ik(y,C),_.memoizedState=Ug,Ot}else{var zr=k.children,ni=X0(y,_,zr,C);return _.memoizedState=null,ni}}}function _7(y,_,C){var k=y.mode,H={mode:"visible",children:_},W=vw(H,k,C,null);return W.return=y,y.child=W,W}function BA(y,_,C,k){var H=y.mode,W=y.child,ie={mode:"hidden",children:_},me,Ae;return(H&pl)===Ca&&W!==null?(me=W,me.childLanes=nr,me.pendingProps=ie,y.mode&ml&&(me.actualDuration=0,me.actualStartTime=-1,me.selfBaseDuration=0,me.treeBaseDuration=0),Ae=qg(C,H,k,null)):(me=vw(ie,H,nr,null),Ae=qg(C,H,k,null)),me.return=y,Ae.return=y,me.sibling=Ae,y.child=me,Ae}function HA(y,_){return Yg(y,_)}function X0(y,_,C,k){var H=y.child,W=H.sibling,ie=HA(H,{mode:"visible",children:C});return(_.mode&pl)===Ca&&(ie.lanes=k),ie.return=_,ie.sibling=null,W!==null&&(W.nextEffect=null,W.flags=If,_.firstEffect=_.lastEffect=W),_.child=ie,ie}function X3(y,_,C,k,H){var W=_.mode,ie=y.child,me=ie.sibling,Ae={mode:"hidden",children:C},je;if((W&pl)===Ca&&_.child!==ie){var Je=_.child;je=Je,je.childLanes=nr,je.pendingProps=Ae,_.mode&ml&&(je.actualDuration=0,je.actualStartTime=-1,je.selfBaseDuration=ie.selfBaseDuration,je.treeBaseDuration=ie.treeBaseDuration);var Nt=je.lastEffect;Nt!==null?(_.firstEffect=je.firstEffect,_.lastEffect=Nt,Nt.nextEffect=null):_.firstEffect=_.lastEffect=null}else je=HA(ie,Ae);var ft;return me!==null?ft=Yg(me,k):(ft=qg(k,W,H,null),ft.flags|=Wa),ft.return=_,je.return=_,je.sibling=ft,_.child=je,ft}function u_(y,_){y.lanes=Ni(y.lanes,_);var C=y.alternate;C!==null&&(C.lanes=Ni(C.lanes,_)),T3(y.return,_)}function T7(y,_,C){for(var k=_;k!==null;){if(k.tag===K){var H=k.memoizedState;H!==null&&u_(k,C)}else if(k.tag===Ce)u_(k,C);else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)return;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function Y3(y){for(var _=y,C=null;_!==null;){var k=_.alternate;k!==null&&mA(k)===null&&(C=_),_=_.sibling}return C}function E7(y){if(y!==void 0&&y!=="forwards"&&y!=="backwards"&&y!=="together"&&!Tk[y])if(Tk[y]=!0,typeof y=="string")switch(y.toLowerCase()){case"together":case"forwards":case"backwards":{m('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',y,y.toLowerCase());break}case"forward":case"backward":{m('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',y,y.toLowerCase());break}default:m('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',y);break}else m('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',y)}function S7(y,_){y!==void 0&&!o_[y]&&(y!=="collapsed"&&y!=="hidden"?(o_[y]=!0,m('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',y)):_!=="forwards"&&_!=="backwards"&&(o_[y]=!0,m('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',y)))}function Dk(y,_){{var C=Array.isArray(y),k=!C&&typeof Pi(y)=="function";if(C||k){var H=C?"array":"iterable";return m("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",H,_,H),!1}}return!0}function A7(y,_){if((_==="forwards"||_==="backwards")&&y!==void 0&&y!==null&&y!==!1)if(Array.isArray(y)){for(var C=0;C<y.length;C++)if(!Dk(y[C],C))return}else{var k=Pi(y);if(typeof k=="function"){var H=k.call(y);if(H)for(var W=H.next(),ie=0;!W.done;W=H.next()){if(!Dk(W.value,ie))return;ie++}}else m('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',_)}}function ed(y,_,C,k,H,W){var ie=y.memoizedState;ie===null?y.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:k,tail:C,tailMode:H,lastEffect:W}:(ie.isBackwards=_,ie.rendering=null,ie.renderingStartTime=0,ie.last=k,ie.tail=C,ie.tailMode=H,ie.lastEffect=W)}function Ap(y,_,C){var k=_.pendingProps,H=k.revealOrder,W=k.tail,ie=k.children;E7(H),S7(W,H),A7(ie,H),Vn(y,_,ie,C);var me=Xs.current,Ae=W1(me,yp);if(Ae)me=jO(me,yp),_.flags|=aa;else{var je=y!==null&&(y.flags&aa)!==Aa;je&&T7(_,_.child,C),me=kg(me)}if(bp(_,me),(_.mode&pl)===Ca)_.memoizedState=null;else switch(H){case"forwards":{var Je=Y3(_.child),Nt;Je===null?(Nt=_.child,_.child=null):(Nt=Je.sibling,Je.sibling=null),ed(_,!1,Nt,Je,W,_.lastEffect);break}case"backwards":{var ft=null,Lt=_.child;for(_.child=null;Lt!==null;){var Kt=Lt.alternate;if(Kt!==null&&mA(Kt)===null){_.child=Lt;break}var wr=Lt.sibling;Lt.sibling=ft,ft=Lt,Lt=wr}ed(_,!0,ft,null,W,_.lastEffect);break}case"together":{ed(_,!1,null,null,void 0,_.lastEffect);break}default:_.memoizedState=null}return _.child}function w7(y,_,C){vp(_,_.stateNode.containerInfo);var k=_.pendingProps;return y===null?_.child=Dg(_,null,k,C):Vn(y,_,k,C),_.child}var UA=!1;function q3(y,_,C){var k=_.type,H=k._context,W=_.pendingProps,ie=_.memoizedProps,me=W.value;{"value"in W||UA||(UA=!0,m("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var Ae=_.type.propTypes;Ae&&Rc(Ae,W,"prop","Context.Provider")}if(_3(_,me),ie!==null){var je=ie.value,Je=s7(H,me,je);if(Je===0){if(ie.children===W.children&&!LS())return Ph(y,_,C)}else l7(_,H,Je,C)}var Nt=W.children;return Vn(y,_,Nt,C),_.child}var Z3=!1;function C7(y,_,C){var k=_.type;k._context===void 0?k!==k.Consumer&&(Z3||(Z3=!0,m("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):k=k._context;var H=_.pendingProps,W=H.children;typeof W!="function"&&m("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),dp(_,C);var ie=oo(k,H.unstable_observedBits),me;return Qf.current=_,jl(!0),me=W(ie),jl(!1),_.flags|=Yl,Vn(y,_,me,C),_.child}function Ok(){Rh=!0}function Ph(y,_,C){return y!==null&&(_.dependencies=y.dependencies),PA(),nR(_.lanes),Oo(C,_.childLanes)?(fA(y,_),_.child):null}function K3(y,_,C){{var k=_.return;if(k===null)throw new Error("Cannot swap the root fiber.");if(y.alternate=null,_.alternate=null,C.index=_.index,C.sibling=_.sibling,C.return=_.return,C.ref=_.ref,_===k.child)k.child=C;else{var H=k.child;if(H===null)throw new Error("Expected parent to have a child.");for(;H.sibling!==_;)if(H=H.sibling,H===null)throw new Error("Expected to find the previous sibling.");H.sibling=C}var W=k.lastEffect;return W!==null?(W.nextEffect=y,k.lastEffect=y):k.firstEffect=k.lastEffect=y,y.nextEffect=null,y.flags=If,C.flags|=Wa,C}}function Q3(y,_,C){var k=_.lanes;if(_._debugNeedsRemount&&y!==null)return K3(y,_,mR(_.type,_.key,_.pendingProps,_._debugOwner||null,_.mode,_.lanes));if(y!==null){var H=y.memoizedProps,W=_.pendingProps;if(H!==W||LS()||_.type!==y.type)Rh=!0;else if(Oo(C,k))(y.flags&Vb)!==Aa?Rh=!0:Rh=!1;else{switch(Rh=!1,_.tag){case N:j3(_),q1();break;case D:VO(_);break;case A:{var ie=_.type;Ws(ie)&&BS(_);break}case R:vp(_,_.stateNode.containerInfo);break;case fe:{var me=_.memoizedProps.value;_3(_,me);break}case q:{var Ae=Oo(C,_.childLanes);Ae&&(_.flags|=ia);var je=_.stateNode;je.effectDuration=0,je.passiveEffectDuration=0}break;case K:{var Je=_.memoizedState;if(Je!==null){var Nt=_.child,ft=Nt.childLanes;if(Oo(C,ft))return $g(y,_,C);bp(_,kg(Xs.current));var Lt=Ph(y,_,C);return Lt!==null?Lt.sibling:null}else bp(_,kg(Xs.current));break}case Ce:{var Kt=(y.flags&aa)!==Aa,wr=Oo(C,_.childLanes);if(Kt){if(wr)return Ap(y,_,C);_.flags|=aa}var Qr=_.memoizedState;if(Qr!==null&&(Qr.rendering=null,Qr.tail=null,Qr.lastEffect=null),bp(_,Xs.current),wr)break;return null}case $:case lt:return _.lanes=nr,ei(y,_,C)}return Ph(y,_,C)}}else Rh=!1;switch(_.lanes=nr,_.tag){case I:return W0(y,_,_.type,C);case ge:{var Fn=_.elementType;return b7(y,_,Fn,k,C)}case w:{var vn=_.type,li=_.pendingProps,Di=_.elementType===vn?li:eu(vn,li);return Jf(y,_,vn,Di,C)}case A:{var Bt=_.type,Yt=_.pendingProps,Ot=_.elementType===Bt?Yt:eu(Bt,Yt);return V3(y,_,Bt,Ot,C)}case N:return g7(y,_,C);case D:return v7(y,_,C);case L:return y7(y,_);case K:return $g(y,_,C);case R:return w7(y,_,C);case Y:{var dr=_.type,xr=_.pendingProps,zr=_.elementType===dr?xr:eu(dr,xr);return V0(y,_,dr,zr,C)}case z:return s_(y,_,C);case V:return wk(y,_,C);case q:return Ck(y,_,C);case fe:return q3(y,_,C);case te:return C7(y,_,C);case ce:{var ni=_.type,da=_.pendingProps,xa=eu(ni,da);if(_.type!==_.elementType){var Mi=ni.propTypes;Mi&&Rc(Mi,xa,"prop",Or(ni))}return xa=eu(ni.type,xa),Sk(y,_,ni,xa,k,C)}case re:return j0(y,_,_.type,_.pendingProps,k,C);case F:{var yn=_.type,Oi=_.pendingProps,pa=_.elementType===yn?Oi:eu(yn,Oi);return W3(y,_,yn,pa,C)}case Ce:return Ap(y,_,C);case ve:break;case Ke:break;case ot:break;case $:return ei(y,_,C);case lt:return Ak(y,_,C)}throw Error("Unknown unit of work tag ("+_.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Y0(y){y.flags|=ia}function J3(y){y.flags|=l0}var eF,kk,Rk,tF;eF=function(y,_,C,k){for(var H=_.child;H!==null;){if(H.tag===D||H.tag===L)R$(y,H.stateNode);else if(H.tag!==R){if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===_)return;for(;H.sibling===null;){if(H.return===null||H.return===_)return;H=H.return}H.sibling.return=H.return,H=H.sibling}},kk=function(y){},Rk=function(y,_,C,k,H){var W=y.memoizedProps;if(W!==k){var ie=_.stateNode,me=Og(),Ae=N$(ie,C,W,k,H,me);_.updateQueue=Ae,Ae&&Y0(_)}},tF=function(y,_,C,k){C!==k&&Y0(_)};function q0(y,_){if(!ZO())switch(y.tailMode){case"hidden":{for(var C=y.tail,k=null;C!==null;)C.alternate!==null&&(k=C),C=C.sibling;k===null?y.tail=null:k.sibling=null;break}case"collapsed":{for(var H=y.tail,W=null;H!==null;)H.alternate!==null&&(W=H),H=H.sibling;W===null?!_&&y.tail!==null?y.tail.sibling=null:y.tail=null:W.sibling=null;break}}}function Pk(y,_,C){var k=_.pendingProps;switch(_.tag){case I:case ge:case re:case w:case Y:case z:case V:case q:case te:case ce:return null;case A:{var H=_.type;return Ws(H)&&D0(_),null}case N:{xh(_),O0(_),K1();var W=_.stateNode;if(W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),y===null||y.child===null){var ie=yA(_);ie?Y0(_):W.hydrate||(_.flags|=Df)}return kk(_),null}case D:{L0(_);var me=O3(),Ae=_.type;if(y!==null&&_.stateNode!=null)Rk(y,_,Ae,k,me),y.ref!==_.ref&&J3(_);else{if(!k){if(_.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}var je=Og(),Je=yA(_);if(Je)vA(_,me,je)&&Y0(_);else{var Nt=k$(Ae,k,me,je,_);eF(Nt,_,!1,!1),_.stateNode=Nt,P$(Nt,Ae,k,me)&&Y0(_)}_.ref!==null&&J3(_)}return null}case L:{var ft=k;if(y&&_.stateNode!=null){var Lt=y.memoizedProps;tF(y,_,Lt,ft)}else{if(typeof ft!="string"&&_.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Kt=O3(),wr=Og(),Qr=yA(_);Qr?qO(_)&&Y0(_):_.stateNode=M$(ft,Kt,wr,_)}return null}case K:{F0(_);var Fn=_.memoizedState;if((_.flags&aa)!==Aa)return _.lanes=C,(_.mode&ml)!==Ca&&yk(_),_;var vn=Fn!==null,li=!1;if(y===null)_.memoizedProps.fallback!==void 0&&yA(_);else{var Di=y.memoizedState;li=Di!==null}if(vn&&!li&&(_.mode&pl)!==Ca){var Bt=y===null&&_.memoizedProps.unstable_avoidThisFallback!==!0;Bt||W1(Xs.current,qf)?P7():N7()}return(vn||li)&&(_.flags|=ia),null}case R:return xh(_),kk(_),y===null&&EO(_.stateNode.containerInfo),null;case fe:return QS(_),null;case F:{var Yt=_.type;return Ws(Yt)&&D0(_),null}case Ce:{F0(_);var Ot=_.memoizedState;if(Ot===null)return null;var dr=(_.flags&aa)!==Aa,xr=Ot.rendering;if(xr===null)if(dr)q0(Ot,!1);else{var zr=L7()&&(y===null||(y.flags&aa)===Aa);if(!zr)for(var ni=_.child;ni!==null;){var da=mA(ni);if(da!==null){dr=!0,_.flags|=aa,q0(Ot,!1);var xa=da.updateQueue;return xa!==null&&(_.updateQueue=xa,_.flags|=ia),Ot.lastEffect===null&&(_.firstEffect=null),_.lastEffect=Ot.lastEffect,zO(_,C),bp(_,jO(Xs.current,yp)),_.child}ni=ni.sibling}Ot.tail!==null&&is()>$i()&&(_.flags|=aa,dr=!0,q0(Ot,!1),_.lanes=g0,oy(g0))}else{if(!dr){var Mi=mA(xr);if(Mi!==null){_.flags|=aa,dr=!0;var yn=Mi.updateQueue;if(yn!==null&&(_.updateQueue=yn,_.flags|=ia),q0(Ot,!0),Ot.tail===null&&Ot.tailMode==="hidden"&&!xr.alternate&&!ZO()){var Oi=_.lastEffect=Ot.lastEffect;return Oi!==null&&(Oi.nextEffect=null),null}}else is()*2-Ot.renderingStartTime>$i()&&C!==vh&&(_.flags|=aa,dr=!0,q0(Ot,!1),_.lanes=g0,oy(g0))}if(Ot.isBackwards)xr.sibling=_.child,_.child=xr;else{var pa=Ot.last;pa!==null?pa.sibling=xr:_.child=xr,Ot.last=xr}}if(Ot.tail!==null){var bo=Ot.tail;Ot.rendering=bo,Ot.tail=bo.sibling,Ot.lastEffect=_.lastEffect,Ot.renderingStartTime=is(),bo.sibling=null;var Ya=Xs.current;return dr?Ya=jO(Ya,yp):Ya=kg(Ya),bp(_,Ya),bo}return null}case ve:break;case Ke:break;case ot:break;case $:case lt:{if(rR(_),y!==null){var Uh=_.memoizedState,lo=y.memoizedState,Gh=lo!==null,Kg=Uh!==null;Gh!==Kg&&k.mode!=="unstable-defer-without-hiding"&&(_.flags|=ia)}return null}}throw Error("Unknown unit of work tag ("+_.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ko(y,_){switch(y.tag){case A:{var C=y.type;Ws(C)&&D0(y);var k=y.flags;return k&xc?(y.flags=k&~xc|aa,(y.mode&ml)!==Ca&&yk(y),y):null}case N:{xh(y),O0(y),K1();var H=y.flags;if((H&aa)!==Aa)throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return y.flags=H&~xc|aa,y}case D:return L0(y),null;case K:{F0(y);var W=y.flags;return W&xc?(y.flags=W&~xc|aa,(y.mode&ml)!==Ca&&yk(y),y):null}case Ce:return F0(y),null;case R:return xh(y),null;case fe:return QS(y),null;case $:case lt:return rR(y),null;default:return null}}function Nk(y){switch(y.tag){case A:{var _=y.type.childContextTypes;_!=null&&D0(y);break}case N:{xh(y),O0(y),K1();break}case D:{L0(y);break}case R:xh(y);break;case K:F0(y);break;case Ce:F0(y);break;case fe:QS(y);break;case $:case lt:rR(y);break}}function Mk(y,_){return{value:y,source:_,stack:jm(_)}}function rF(y,_){return!0}function Lk(y,_){try{var C=rF(y,_);if(C===!1)return;var k=_.value,H=_.source,W=_.stack,ie=W!==null?W:"";if(k!=null&&k._suppressLogging){if(y.tag===A)return;console.error(k)}var me=H?Or(H.type):null,Ae=me?"The above error occurred in the <"+me+"> component:":"The above error occurred in one of your React components:",je,Je=Or(y.type);Je?je="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+Je+"."):je=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;var Nt=Ae+`
`+ie+`

`+(""+je);console.error(Nt)}catch(ft){setTimeout(function(){throw ft})}}var GA=typeof WeakMap=="function"?WeakMap:Map;function nF(y,_,C){var k=pp(La,C);k.tag=PO,k.payload={element:null};var H=_.value;return k.callback=function(){lw(H),Lk(y,_)},k}function iF(y,_,C){var k=pp(La,C);k.tag=PO;var H=y.type.getDerivedStateFromError;if(typeof H=="function"){var W=_.value;k.payload=function(){return Lk(y,_),H(W)}}var ie=y.stateNode;return ie!==null&&typeof ie.componentDidCatch=="function"?k.callback=function(){kF(y),typeof H!="function"&&(V7(this),Lk(y,_));var Ae=_.value,je=_.stack;this.componentDidCatch(Ae,{componentStack:je!==null?je:""}),typeof H!="function"&&(Oo(y.lanes,Ji)||m("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Or(y.type)||"Unknown"))}:k.callback=function(){kF(y)},k}function x7(y,_,C){var k=y.pingCache,H;if(k===null?(k=y.pingCache=new GA,H=new Set,k.set(_,H)):(H=k.get(_),H===void 0&&(H=new Set,k.set(_,H))),!H.has(C)){H.add(C);var W=j7.bind(null,y,_,C);_.then(W,W)}}function $A(y,_,C,k,H){if(C.flags|=c0,C.firstEffect=C.lastEffect=null,k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=k;if((C.mode&pl)===Ca){var ie=C.alternate;ie?(C.updateQueue=ie.updateQueue,C.memoizedState=ie.memoizedState,C.lanes=ie.lanes):(C.updateQueue=null,C.memoizedState=null)}var me=W1(Xs.current,qf),Ae=_;do{if(Ae.tag===K&&k3(Ae,me)){var je=Ae.updateQueue;if(je===null){var Je=new Set;Je.add(W),Ae.updateQueue=Je}else je.add(W);if((Ae.mode&pl)===Ca){if(Ae.flags|=aa,C.flags|=Vb,C.flags&=~(fh|c0),C.tag===A){var Nt=C.alternate;if(Nt===null)C.tag=F;else{var ft=pp(La,Ji);ft.tag=Lu,Yf(C,ft)}}C.lanes=Ni(C.lanes,Ji);return}x7(y,W,H),Ae.flags|=xc,Ae.lanes=H;return}Ae=Ae.return}while(Ae!==null);k=new Error((Or(C.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}M7(),k=Mk(k,C);var Lt=_;do{switch(Lt.tag){case N:{var Kt=k;Lt.flags|=xc;var wr=Uo(H);Lt.lanes=Ni(Lt.lanes,wr);var Qr=nF(Lt,Kt,wr);MO(Lt,Qr);return}case A:var Fn=k,vn=Lt.type,li=Lt.stateNode;if((Lt.flags&aa)===Aa&&(typeof vn.getDerivedStateFromError=="function"||li!==null&&typeof li.componentDidCatch=="function"&&!g_(li))){Lt.flags|=xc;var Di=Uo(H);Lt.lanes=Ni(Lt.lanes,Di);var Bt=iF(Lt,Fn,Di);MO(Lt,Bt);return}break}Lt=Lt.return}while(Lt!==null)}var Fk=null;Fk=new Set;var wp=typeof WeakSet=="function"?WeakSet:Set,c_=function(y,_){_.props=y.memoizedProps,_.state=y.memoizedState,_.componentWillUnmount()};function h_(y,_){if(Do(null,c_,null,y,_),hh()){var C=Xl();ru(y,C)}}function Bk(y){var _=y.ref;if(_!==null)if(typeof _=="function"){if(Do(null,_,null,null),hh()){var C=Xl();ru(y,C)}}else _.current=null}function aF(y,_){if(Do(null,_,null),hh()){var C=Xl();ru(y,C)}}function oF(y,_){switch(_.tag){case w:case Y:case re:case ot:return;case A:{if(_.flags&Df&&y!==null){var C=y.memoizedProps,k=y.memoizedState,H=_.stateNode;_.type===_.elementType&&!Vu&&(H.props!==_.memoizedProps&&m("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Or(_.type)||"instance"),H.state!==_.memoizedState&&m("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Or(_.type)||"instance"));var W=H.getSnapshotBeforeUpdate(_.elementType===_.type?C:eu(_.type,C),k);{var ie=Fk;W===void 0&&!ie.has(_.type)&&(ie.add(_.type),m("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Or(_.type)))}H.__reactInternalSnapshotBeforeUpdate=W}return}case N:{if(_.flags&Df){var me=_.stateNode;yO(me.containerInfo)}return}case D:case L:case R:case F:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function zA(y,_){var C=_.updateQueue,k=C!==null?C.lastEffect:null;if(k!==null){var H=k.next,W=H;do{if((W.tag&y)===y){var ie=W.destroy;W.destroy=void 0,ie!==void 0&&ie()}W=W.next}while(W!==H)}}function ju(y,_){var C=_.updateQueue,k=C!==null?C.lastEffect:null;if(k!==null){var H=k.next,W=H;do{if((W.tag&y)===y){var ie=W.create;W.destroy=ie();{var me=W.destroy;if(me!==void 0&&typeof me!="function"){var Ae=void 0;me===null?Ae=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof me.then=="function"?Ae=`

It looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

useEffect(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:Ae=" You returned: "+me,m("An effect function must not return anything besides a function, which is used for clean-up.%s",Ae)}}}W=W.next}while(W!==H)}}function Hk(y){var _=y.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var k=C.next,H=k;do{var W=H,ie=W.next,me=W.tag;(me&X1)!==WO&&(me&_p)!==WO&&(SF(y,H),G7(y,H)),H=ie}while(H!==k)}}function VA(y,_,C,k){switch(C.tag){case w:case Y:case re:case ot:{ju(Rg|_p,C),Hk(C);return}case A:{var H=C.stateNode;if(C.flags&ia)if(_===null)C.type===C.elementType&&!Vu&&(H.props!==C.memoizedProps&&m("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Or(C.type)||"instance"),H.state!==C.memoizedState&&m("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Or(C.type)||"instance")),H.componentDidMount();else{var W=C.elementType===C.type?_.memoizedProps:eu(C.type,_.memoizedProps),ie=_.memoizedState;C.type===C.elementType&&!Vu&&(H.props!==C.memoizedProps&&m("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Or(C.type)||"instance"),H.state!==C.memoizedState&&m("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Or(C.type)||"instance")),H.componentDidUpdate(W,ie,H.__reactInternalSnapshotBeforeUpdate)}var me=C.updateQueue;me!==null&&(C.type===C.elementType&&!Vu&&(H.props!==C.memoizedProps&&m("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Or(C.type)||"instance"),H.state!==C.memoizedState&&m("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Or(C.type)||"instance")),LO(C,me,H));return}case N:{var Ae=C.updateQueue;if(Ae!==null){var je=null;if(C.child!==null)switch(C.child.tag){case D:je=C.child.stateNode;break;case A:je=C.child.stateNode;break}LO(C,Ae,je)}return}case D:{var Je=C.stateNode;if(_===null&&C.flags&ia){var Nt=C.type,ft=C.memoizedProps;L$(Je,Nt,ft)}return}case L:return;case R:return;case q:{{var Lt=C.memoizedProps;Lt.onCommit;var Kt=Lt.onRender;C.stateNode.effectDuration;var wr=m7();typeof Kt=="function"&&Kt(C.memoizedProps.id,_===null?"mount":"update",C.actualDuration,C.treeBaseDuration,C.actualStartTime,wr,y.memoizedInteractions)}return}case K:{yre(y,C);return}case Ce:case F:case ve:case Ke:case $:case lt:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Uk(y,_){for(var C=y;;){if(C.tag===D){var k=C.stateNode;_?U$(k):z$(C.stateNode,C.memoizedProps)}else if(C.tag===L){var H=C.stateNode;_?G$(H):V$(H,C.memoizedProps)}else if(!((C.tag===$||C.tag===lt)&&C.memoizedState!==null&&C!==y)){if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===y)return;for(;C.sibling===null;){if(C.return===null||C.return===y)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function f_(y){var _=y.ref;if(_!==null){var C=y.stateNode,k;switch(y.tag){case D:k=C;break;default:k=C}typeof _=="function"?_(k):(_.hasOwnProperty("current")||m("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Or(y.type)),_.current=k)}}function d_(y){var _=y.ref;_!==null&&(typeof _=="function"?_(null):_.current=null)}function Gk(y,_,C){switch(r7(_),_.tag){case w:case Y:case ce:case re:case ot:{var k=_.updateQueue;if(k!==null){var H=k.lastEffect;if(H!==null){var W=H.next,ie=W;do{var me=ie,Ae=me.destroy,je=me.tag;Ae!==void 0&&((je&X1)!==WO?SF(_,ie):aF(_,Ae)),ie=ie.next}while(ie!==W)}}return}case A:{Bk(_);var Je=_.stateNode;typeof Je.componentWillUnmount=="function"&&h_(_,Je);return}case D:{Bk(_);return}case R:{uF(y,_);return}case ve:return;case Te:return;case Ke:return}}function $k(y,_,C){for(var k=_;;){if(Gk(y,k),k.child!==null&&k.tag!==R){k.child.return=k,k=k.child;continue}if(k===_)return;for(;k.sibling===null;){if(k.return===null||k.return===_)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function zk(y){y.alternate=null,y.child=null,y.dependencies=null,y.firstEffect=null,y.lastEffect=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.return=null,y.updateQueue=null,y._debugOwner=null}function sF(y){for(var _=y.return;_!==null;){if(jA(_))return _;_=_.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function jA(y){return y.tag===D||y.tag===N||y.tag===R}function lF(y){var _=y;e:for(;;){for(;_.sibling===null;){if(_.return===null||jA(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==D&&_.tag!==L&&_.tag!==Te;){if(_.flags&Wa||_.child===null||_.tag===R)continue e;_.child.return=_,_=_.child}if(!(_.flags&Wa))return _.stateNode}}function Vk(y){var _=sF(y),C,k,H=_.stateNode;switch(_.tag){case D:C=H,k=!1;break;case N:C=H.containerInfo,k=!0;break;case R:C=H.containerInfo,k=!0;break;case ve:default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}_.flags&zb&&(W5(C),_.flags&=~zb);var W=lF(y);k?Z0(y,W,C):Gi(y,W,C)}function Z0(y,_,C){var k=y.tag,H=k===D||k===L;if(H||Be){var W=H?y.stateNode:y.stateNode.instance;_?C0(C,W,_):wh(C,W)}else if(k!==R){var ie=y.child;if(ie!==null){Z0(ie,_,C);for(var me=ie.sibling;me!==null;)Z0(me,_,C),me=me.sibling}}}function Gi(y,_,C){var k=y.tag,H=k===D||k===L;if(H||Be){var W=H?y.stateNode:y.stateNode.instance;_?Zl(C,W,_):Y5(C,W)}else if(k!==R){var ie=y.child;if(ie!==null){Gi(ie,_,C);for(var me=ie.sibling;me!==null;)Gi(me,_,C),me=me.sibling}}}function uF(y,_,C){for(var k=_,H=!1,W,ie;;){if(!H){var me=k.return;e:for(;;){if(me===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var Ae=me.stateNode;switch(me.tag){case D:W=Ae,ie=!1;break e;case N:W=Ae.containerInfo,ie=!0;break e;case R:W=Ae.containerInfo,ie=!0;break e}me=me.return}H=!0}if(k.tag===D||k.tag===L)$k(y,k),ie?H$(W,k.stateNode):B$(W,k.stateNode);else if(k.tag===R){if(k.child!==null){W=k.stateNode.containerInfo,ie=!0,k.child.return=k,k=k.child;continue}}else if(Gk(y,k),k.child!==null){k.child.return=k,k=k.child;continue}if(k===_)return;for(;k.sibling===null;){if(k.return===null||k.return===_)return;k=k.return,k.tag===R&&(H=!1)}k.sibling.return=k.return,k=k.sibling}}function or(y,_,C){uF(y,_);var k=_.alternate;zk(_),k!==null&&zk(k)}function vl(y,_){switch(_.tag){case w:case Y:case ce:case re:case ot:{zA(Rg|_p,_);return}case A:return;case D:{var C=_.stateNode;if(C!=null){var k=_.memoizedProps,H=y!==null?y.memoizedProps:k,W=_.type,ie=_.updateQueue;_.updateQueue=null,ie!==null&&F$(C,ie,W,H,k)}return}case L:{if(_.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var me=_.stateNode,Ae=_.memoizedProps,je=y!==null?y.memoizedProps:Ae;X5(me,je,Ae);return}case N:{{var Je=_.stateNode;Je.hydrate&&(Je.hydrate=!1,_O(Je.containerInfo))}return}case q:return;case K:{vre(_),I7(_);return}case Ce:{I7(_);return}case F:return;case ve:break;case Ke:break;case $:case lt:{var Nt=_.memoizedState,ft=Nt!==null;Uk(_,ft);return}}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function vre(y){var _=y.memoizedState;if(_!==null){R7();{var C=y.child;Uk(C,!0)}}}function yre(y,_){var C=_.memoizedState;if(C===null){var k=_.alternate;if(k!==null){var H=k.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&_1(W)}}}}function I7(y){var _=y.updateQueue;if(_!==null){y.updateQueue=null;var C=y.stateNode;C===null&&(C=y.stateNode=new wp),_.forEach(function(k){var H=W7.bind(null,y,k);C.has(k)||(k.__reactDoNotTraceInteractions!==!0&&(H=l.unstable_wrap(H)),C.add(k),k.then(H,H))})}}function bre(y,_){if(y!==null){var C=y.memoizedState;if(C===null||C.dehydrated!==null){var k=_.memoizedState;return k!==null&&k.dehydrated===null}}return!1}function _re(y){W5(y.stateNode)}if(typeof Symbol=="function"&&Symbol.for){var WA=Symbol.for;WA("selector.component"),WA("selector.has_pseudo_class"),WA("selector.role"),WA("selector.test_id"),WA("selector.text")}var Tre=[];function Ere(){Tre.forEach(function(y){return y()})}var Sre=Math.ceil,cF=c.ReactCurrentDispatcher,hF=c.ReactCurrentOwner,fF=c.IsSomeRendererActing,so=0,jk=1,Are=2,dF=4,Wk=8,Ha=16,Nh=32,XA=64,td=0,YA=1,qA=2,ZA=3,KA=4,QA=5,gn=so,_s=null,Ua=null,Ys=nr,Mh=nr,Xk=ap(nr),os=td,p_=null,zg=nr,JA=nr,Vg=nr,Cp=nr,Yk=null,ew=0,qk=500,xp=1/0,Zk=500;function Fc(){xp=is()+Zk}function $i(){return xp}var $r=null,Ip=!1,K0=null,jg=null,Bc=!1,Q0=null,Kr=sa,tw=nr,J0=[],ey=[],Hc=null,pF=50,Ts=0,yl=null,zi=50,Dp=0,Op=null,ty=La,rd=nr,rw=nr,ry=!1,m_=null,nw=!1;function Kk(){return _s}function bl(){return(gn&(Ha|Nh))!==so?is():(ty!==La||(ty=is()),ty)}function Lh(y){var _=y.mode;if((_&pl)===Ca)return Ji;if((_&Xf)===Ca)return Ch()===dl?Ji:Jb;rd===nr&&(rd=zg);var C=Cg()!==o7;if(C)return rw!==nr&&(rw=Yk!==null?Yk.pendingLanes:nr),RD(rd,rw);var k=Ch(),H;if((gn&dF)!==so&&k===sp)H=bh(mh,rd);else{var W=ID(k);H=bh(W,rd)}return H}function Qk(y){var _=y.mode;return(_&pl)===Ca?Ji:(_&Xf)===Ca?Ch()===dl?Ji:Jb:(rd===nr&&(rd=zg),PD(rd))}function yo(y,_,C){Y7(),Q7(y);var k=ny(y,_);if(k===null)return Z7(y),null;Th(k,_,C),k===_s&&(Vg=Ni(Vg,_),os===KA&&Ro(k,Ys));var H=Ch();_===Ji?(gn&Wk)!==so&&(gn&(Ha|Nh))===so?(Wu(k,_),Jk(k)):(tu(k,C),Wu(k,_),gn===so&&(Fc(),Nu())):((gn&dF)!==so&&(H===sp||H===dl)&&(Hc===null?Hc=new Set([k]):Hc.add(k)),tu(k,C),Wu(k,_)),Yk=k}function ny(y,_){y.lanes=Ni(y.lanes,_);var C=y.alternate;C!==null&&(C.lanes=Ni(C.lanes,_)),C===null&&(y.flags&(Wa|Of))!==Aa&&wF(y);for(var k=y,H=y.return;H!==null;)H.childLanes=Ni(H.childLanes,_),C=H.alternate,C!==null?C.childLanes=Ni(C.childLanes,_):(H.flags&(Wa|Of))!==Aa&&wF(y),k=H,H=H.return;if(k.tag===N){var W=k.stateNode;return W}else return null}function tu(y,_){var C=y.callbackNode;ku(y,_);var k=Fa(y,y===_s?Ys:nr),H=Nf();if(k===nr){C!==null&&(v3(C),y.callbackNode=null,y.callbackPriority=Kd);return}if(C!==null){var W=y.callbackPriority;if(W===H)return;v3(C)}var ie;if(H===lg)ie=WS(Jk.bind(null,y));else if(H===ug)ie=up(dl,Jk.bind(null,y));else{var me=DD(H);ie=up(me,mF.bind(null,y))}y.callbackPriority=H,y.callbackNode=ie}function mF(y){if(ty=La,rd=nr,rw=nr,(gn&(Ha|Nh))!==so)throw Error("Should not already be working.");var _=y.callbackNode,C=Fh();if(C&&y.callbackNode!==_)return null;var k=Fa(y,y===_s?Ys:nr);if(k===nr)return null;var H=B7(y,k);if(Oo(zg,Vg))iy(y,nr);else if(H!==td){if(H===qA&&(gn|=XA,y.hydrate&&(y.hydrate=!1,yO(y.containerInfo)),k=yh(y),k!==nr&&(H=Pp(y,k))),H===YA){var W=p_;throw iy(y,nr),Ro(y,k),tu(y,is()),W}var ie=y.current.alternate;y.finishedWork=ie,y.finishedLanes=k,gF(y,H,k)}return tu(y,is()),y.callbackNode===_?mF.bind(null,y):null}function gF(y,_,C){switch(_){case td:case YA:throw Error("Root did not complete. This is a bug in React.");case qA:{Wg(y);break}case ZA:{if(Ro(y,C),OD(C)&&!IF()){var k=ew+qk-is();if(k>10){var H=Fa(y,nr);if(H!==nr)break;var W=y.suspendedLanes;if(!_h(W,C)){bl(),i1(y,W);break}y.timeoutHandle=j5(Wg.bind(null,y),k);break}}Wg(y);break}case KA:{if(Ro(y,C),kD(C))break;{var ie=rS(y,C),me=ie,Ae=is()-me,je=X7(Ae)-Ae;if(je>10){y.timeoutHandle=j5(Wg.bind(null,y),je);break}}Wg(y);break}case QA:{Wg(y);break}default:throw Error("Unknown root exit status.")}}function Ro(y,_){_=iS(_,Cp),_=iS(_,Vg),aS(y,_)}function Jk(y){if((gn&(Ha|Nh))!==so)throw Error("Should not already be working.");Fh();var _,C;if(y===_s&&Oo(y.expiredLanes,Ys)?(_=Ys,C=Pp(y,_),Oo(zg,Vg)&&(_=Fa(y,_),C=Pp(y,_))):(_=Fa(y,nr),C=Pp(y,_)),y.tag!==HS&&C===qA&&(gn|=XA,y.hydrate&&(y.hydrate=!1,yO(y.containerInfo)),_=yh(y),_!==nr&&(C=Pp(y,_))),C===YA){var k=p_;throw iy(y,nr),Ro(y,_),tu(y,is()),k}var H=y.current.alternate;return y.finishedWork=H,y.finishedLanes=_,Wg(y),tu(y,is()),null}function D7(){if((gn&(jk|Ha|Nh))!==so){(gn&Ha)!==so&&m("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.");return}eR(),Fh()}function eR(){if(Hc!==null){var y=Hc;Hc=null,y.forEach(function(_){yG(_),tu(_,is())})}Nu()}function kp(y,_){var C=gn;gn|=jk;try{return y(_)}finally{gn=C,gn===so&&(Fc(),Nu())}}function O7(y,_){var C=gn;gn|=Are;try{return y(_)}finally{gn=C,gn===so&&(Fc(),Nu())}}function k7(y,_,C,k,H){var W=gn;gn|=dF;try{return wg(sp,y.bind(null,_,C,k,H))}finally{gn=W,gn===so&&(Fc(),Nu())}}function vF(y,_){var C=gn;gn&=~jk,gn|=Wk;try{return y(_)}finally{gn=C,gn===so&&(Fc(),Nu())}}function tR(y,_){var C=gn;if((C&(Ha|Nh))!==so)return m("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),y(_);gn|=jk;try{return y?wg(dl,y.bind(null,_)):void 0}finally{gn=C,Nu()}}function iw(y,_){ys(Xk,Mh,y),Mh=Ni(Mh,_),zg=Ni(zg,_)}function rR(y){Mh=Xk.current,Vo(Xk,y)}function iy(y,_){y.finishedWork=null,y.finishedLanes=nr;var C=y.timeoutHandle;if(C!==vO&&(y.timeoutHandle=vO,gO(C)),Ua!==null)for(var k=Ua.return;k!==null;)Nk(k),k=k.return;_s=y,Ua=Yg(y.current,null),Ys=Mh=zg=_,os=td,p_=null,JA=nr,Vg=nr,Cp=nr,Op=null,Pc.discardPendingWarnings()}function Rp(y,_){do{var C=Ua;try{if(ZS(),M3(),es(),hF.current=null,C===null||C.return===null){os=YA,p_=_,Ua=null;return}Tt&&C.mode&ml&&z0(C,!0),$A(y,C.return,C,_,Ys),U7(C)}catch(k){_=k,Ua===C&&C!==null?(C=C.return,Ua=C):C=Ua;continue}return}while(!0)}function yF(){var y=cF.current;return cF.current=Fg,y===null?Fg:y}function aw(y){cF.current=y}function ow(y){{var _=l.__interactionsRef.current;return l.__interactionsRef.current=y.memoizedInteractions,_}}function sw(y){l.__interactionsRef.current=y}function R7(){ew=is()}function nR(y){JA=Ni(y,JA)}function P7(){os===td&&(os=ZA)}function N7(){(os===td||os===ZA)&&(os=KA),_s!==null&&(nS(JA)||nS(Vg))&&Ro(_s,Ys)}function M7(){os!==QA&&(os=qA)}function L7(){return os===td}function Pp(y,_){var C=gn;gn|=Ha;var k=yF();(_s!==y||Ys!==_)&&(iy(y,_),fw(y,_));var H=ow(y);do try{F7();break}catch(W){Rp(y,W)}while(!0);if(ZS(),sw(H),gn=C,aw(k),Ua!==null)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return _s=null,Ys=nr,os}function F7(){for(;Ua!==null;)bF(Ua)}function B7(y,_){var C=gn;gn|=Ha;var k=yF();(_s!==y||Ys!==_)&&(Fc(),iy(y,_),fw(y,_));var H=ow(y);do try{H7();break}catch(W){Rp(y,W)}while(!0);return ZS(),sw(H),aw(k),gn=C,Ua!==null?td:(_s=null,Ys=nr,os)}function H7(){for(;Ua!==null&&!i7();)bF(Ua)}function bF(y){var _=y.alternate;ao(y);var C;(y.mode&ml)!==Ca?(Bg(y),C=aR(_,y,Mh),z0(y,!0)):C=aR(_,y,Mh),es(),y.memoizedProps=y.pendingProps,C===null?U7(y):Ua=C,hF.current=null}function U7(y){var _=y;do{var C=_.alternate,k=_.return;if((_.flags&c0)===Aa){ao(_);var H=void 0;if((_.mode&ml)===Ca?H=Pk(C,_,Mh):(Bg(_),H=Pk(C,_,Mh),z0(_,!1)),es(),H!==null){Ua=H;return}if(iR(_),k!==null&&(k.flags&c0)===Aa){k.firstEffect===null&&(k.firstEffect=_.firstEffect),_.lastEffect!==null&&(k.lastEffect!==null&&(k.lastEffect.nextEffect=_.firstEffect),k.lastEffect=_.lastEffect);var W=_.flags;W>Yl&&(k.lastEffect!==null?k.lastEffect.nextEffect=_:k.firstEffect=_,k.lastEffect=_)}}else{var ie=ko(_);if(ie!==null){ie.flags&=xL,Ua=ie;return}if((_.mode&ml)!==Ca){z0(_,!1);for(var me=_.actualDuration,Ae=_.child;Ae!==null;)me+=Ae.actualDuration,Ae=Ae.sibling;_.actualDuration=me}k!==null&&(k.firstEffect=k.lastEffect=null,k.flags|=c0)}var je=_.sibling;if(je!==null){Ua=je;return}_=k,Ua=_}while(_!==null);os===td&&(os=QA)}function iR(y){if(!((y.tag===lt||y.tag===$)&&y.memoizedState!==null&&!Oo(Mh,vh)&&(y.mode&Xf)!==nr)){var _=nr;if((y.mode&ml)!==Ca){for(var C=y.actualDuration,k=y.selfBaseDuration,H=y.alternate===null||y.child!==y.alternate.child,W=y.child;W!==null;)_=Ni(_,Ni(W.lanes,W.childLanes)),H&&(C+=W.actualDuration),k+=W.treeBaseDuration,W=W.sibling;var ie=y.tag===K&&y.memoizedState!==null;if(ie){var me=y.child;me!==null&&(k-=me.treeBaseDuration)}y.actualDuration=C,y.treeBaseDuration=k}else for(var Ae=y.child;Ae!==null;)_=Ni(_,Ni(Ae.lanes,Ae.childLanes)),Ae=Ae.sibling;y.childLanes=_}}function Wg(y){var _=Ch();return wg(dl,_F.bind(null,y,_)),null}function _F(y,_){do Fh();while(Q0!==null);if(q7(),(gn&(Ha|Nh))!==so)throw Error("Should not already be working.");var C=y.finishedWork,k=y.finishedLanes;if(C===null)return null;if(y.finishedWork=null,y.finishedLanes=nr,C===y.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");y.callbackNode=null;var H=Ni(C.lanes,C.childLanes);_G(y,H),Hc!==null&&!bG(H)&&Hc.has(y)&&Hc.delete(y),y===_s&&(_s=null,Ua=null,Ys=nr);var W;if(C.flags>Yl?C.lastEffect!==null?(C.lastEffect.nextEffect=C,W=C.firstEffect):W=C:W=C.firstEffect,W!==null){var ie=gn;gn|=Nh;var me=ow(y);hF.current=null,m_=D$(y.containerInfo),nw=!1,$r=W;do if(Do(null,TF,null),hh()){if($r===null)throw Error("Should be working on an effect.");var Ae=Xl();ru($r,Ae),$r=$r.nextEffect}while($r!==null);m_=null,a_(),$r=W;do if(Do(null,wre,null,y,_),hh()){if($r===null)throw Error("Should be working on an effect.");var je=Xl();ru($r,je),$r=$r.nextEffect}while($r!==null);O$(y.containerInfo),y.current=C,$r=W;do if(Do(null,EF,null,y,k),hh()){if($r===null)throw Error("Should be working on an effect.");var Je=Xl();ru($r,Je),$r=$r.nextEffect}while($r!==null);$r=null,p3(),sw(me),gn=ie}else y.current=C,a_();var Nt=Bc;if(Bc)Bc=!1,Q0=y,tw=k,Kr=_;else for($r=W;$r!==null;){var ft=$r.nextEffect;$r.nextEffect=null,$r.flags&If&&sR($r),$r=ft}if(H=y.pendingLanes,H!==nr){if(Op!==null){var Lt=Op;Op=null;for(var Kt=0;Kt<Lt.length;Kt++)Bh(y,Lt[Kt],y.memoizedInteractions)}Wu(y,H)}else jg=null;if(Nt||oR(y,k),H===Ji?y===yl?Ts++:(Ts=0,yl=y):Ts=0,s3(C.stateNode,_),Ere(),tu(y,is()),Ip){Ip=!1;var wr=K0;throw K0=null,wr}return(gn&Wk)!==so||Nu(),null}function TF(){for(;$r!==null;){var y=$r.alternate;!nw&&m_!==null&&(($r.flags&If)!==Aa?OL($r,m_)&&(nw=!0):$r.tag===K&&bre(y,$r)&&OL($r,m_)&&(nw=!0));var _=$r.flags;(_&Df)!==Aa&&(ao($r),oF(y,$r),es()),(_&ig)!==Aa&&(Bc||(Bc=!0,up(jf,function(){return Fh(),null}))),$r=$r.nextEffect}}function wre(y,_){for(;$r!==null;){ao($r);var C=$r.flags;if(C&zb&&_re($r),C&l0){var k=$r.alternate;k!==null&&d_(k)}var H=C&(Wa|ia|If|Of);switch(H){case Wa:{Vk($r),$r.flags&=~Wa;break}case wL:{Vk($r),$r.flags&=~Wa;var W=$r.alternate;vl(W,$r);break}case Of:{$r.flags&=~Of;break}case CL:{$r.flags&=~Of;var ie=$r.alternate;vl(ie,$r);break}case ia:{var me=$r.alternate;vl(me,$r);break}case If:{or(y,$r);break}}es(),$r=$r.nextEffect}}function EF(y,_){for(;$r!==null;){ao($r);var C=$r.flags;if(C&(ia|Ou)){var k=$r.alternate;VA(y,k,$r)}C&l0&&f_($r),es(),$r=$r.nextEffect}}function Fh(){if(Kr!==sa){var y=Kr>jf?jf:Kr;return Kr=sa,wg(y,z7)}return!1}function G7(y,_){J0.push(_,y),Bc||(Bc=!0,up(jf,function(){return Fh(),null}))}function SF(y,_){ey.push(_,y);{y.flags|=u0;var C=y.alternate;C!==null&&(C.flags|=u0)}Bc||(Bc=!0,up(jf,function(){return Fh(),null}))}function $7(y){var _=y.create;y.destroy=_()}function z7(){if(Q0===null)return!1;var y=Q0,_=tw;if(Q0=null,tw=nr,(gn&(Ha|Nh))!==so)throw Error("Cannot flush passive effects while already rendering.");ry=!0;var C=gn;gn|=Nh;var k=ow(y),H=ey;ey=[];for(var W=0;W<H.length;W+=2){var ie=H[W],me=H[W+1],Ae=ie.destroy;ie.destroy=void 0;{me.flags&=~u0;var je=me.alternate;je!==null&&(je.flags&=~u0)}if(typeof Ae=="function"){if(ao(me),Do(null,Ae,null),hh()){if(me===null)throw Error("Should be working on an effect.");var Je=Xl();ru(me,Je)}es()}}var Nt=J0;J0=[];for(var ft=0;ft<Nt.length;ft+=2){var Lt=Nt[ft],Kt=Nt[ft+1];{if(ao(Kt),Do(null,$7,null,Lt),hh()){if(Kt===null)throw Error("Should be working on an effect.");var wr=Xl();ru(Kt,wr)}es()}}for(var Qr=y.current.firstEffect;Qr!==null;){var Fn=Qr.nextEffect;Qr.nextEffect=null,Qr.flags&If&&sR(Qr),Qr=Fn}return sw(k),oR(y,_),ry=!1,gn=C,Nu(),Dp=Q0===null?0:Dp+1,!0}function g_(y){return jg!==null&&jg.has(y)}function V7(y){jg===null?jg=new Set([y]):jg.add(y)}function AF(y){Ip||(Ip=!0,K0=y)}var lw=AF;function ay(y,_,C){var k=Mk(C,_),H=nF(y,k,Ji);Yf(y,H);var W=bl(),ie=ny(y,Ji);ie!==null&&(Th(ie,Ji,W),tu(ie,W),Wu(ie,Ji))}function ru(y,_){if(y.tag===N){ay(y,y,_);return}for(var C=y.return;C!==null;){if(C.tag===N){ay(C,y,_);return}else if(C.tag===A){var k=C.type,H=C.stateNode;if(typeof k.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&!g_(H)){var W=Mk(_,y),ie=iF(C,W,Ji);Yf(C,ie);var me=bl(),Ae=ny(C,Ji);if(Ae!==null)Th(Ae,Ji,me),tu(Ae,me),Wu(Ae,Ji);else if(typeof H.componentDidCatch=="function"&&!g_(H))try{H.componentDidCatch(_,W)}catch{}return}}C=C.return}}function j7(y,_,C){var k=y.pingCache;k!==null&&k.delete(_);var H=bl();i1(y,C),_s===y&&_h(Ys,C)&&(os===KA||os===ZA&&OD(Ys)&&is()-ew<qk?iy(y,nr):Cp=Ni(Cp,C)),tu(y,H),Wu(y,C)}function v_(y,_){_===hl&&(_=Qk(y));var C=bl(),k=ny(y,_);k!==null&&(Th(k,_,C),tu(k,C),Wu(k,_))}function W7(y,_){var C=hl,k;k=y.stateNode,k!==null&&k.delete(_),v_(y,C)}function X7(y){return y<120?120:y<480?480:y<1080?1080:y<1920?1920:y<3e3?3e3:y<4320?4320:Sre(y/1960)*1960}function Y7(){if(Ts>pF)throw Ts=0,yl=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Dp>zi&&(Dp=0,m("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function q7(){Pc.flushLegacyContextWarning(),Pc.flushPendingUnsafeLifecycleWarnings()}var uw=null;function wF(y){{if((gn&Ha)!==so||!(y.mode&(pl|Xf)))return;var _=y.tag;if(_!==I&&_!==N&&_!==A&&_!==w&&_!==Y&&_!==ce&&_!==re&&_!==ot)return;var C=Or(y.type)||"ReactComponent";if(uw!==null){if(uw.has(C))return;uw.add(C)}else uw=new Set([C]);var k=ds;try{ao(y),m("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{k?ao(y):es()}}}var cw=null;function Z7(y){{var _=y.tag;if(_!==N&&_!==A&&_!==w&&_!==Y&&_!==ce&&_!==re&&_!==ot||(y.flags&u0)!==Aa)return;var C=Or(y.type)||"ReactComponent";if(cw!==null){if(cw.has(C))return;cw.add(C)}else cw=new Set([C]);if(!ry){var k=ds;try{ao(y),m("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.",_===A?"the componentWillUnmount method":"a useEffect cleanup function")}finally{k?ao(y):es()}}}}var aR;{var K7=null;aR=function(y,_,C){var k=bw(K7,_);try{return Q3(y,_,C)}catch(W){if(W!==null&&typeof W=="object"&&typeof W.then=="function")throw W;if(ZS(),M3(),Nk(_),bw(_,k),_.mode&ml&&Bg(_),Do(null,Q3,null,y,_,C),hh()){var H=Xl();throw H}else throw W}}}var CF=!1,hw;hw=new Set;function Q7(y){if(Ud&&(gn&Ha)!==so&&!G3())switch(y.tag){case w:case Y:case re:{var _=Ua&&Or(Ua.type)||"Unknown",C=_;if(!hw.has(C)){hw.add(C);var k=Or(y.type)||"Unknown";m("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",k,_,_)}break}case A:{CF||(m("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),CF=!0);break}}}var y_={current:!1};function J7(y){if(fF.current===!0&&y_.current!==!0){var _=ds;try{ao(y),m(`It looks like you're using the wrong act() around your test interactions.
Be sure to use the matching version of act() corresponding to your renderer:

// for react-dom:
import {act} from 'react-dom/test-utils';
// ...
act(() => ...);

// for react-test-renderer:
import TestRenderer from react-test-renderer';
const {act} = TestRenderer;
// ...
act(() => ...);`)}finally{_?ao(y):es()}}}function Lr(y){(y.mode&Xa)!==Ca&&fF.current===!1&&y_.current===!1&&m(`An update to %s ran an effect, but was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Or(y.type))}function ez(y){if(gn===so&&fF.current===!1&&y_.current===!1){var _=ds;try{ao(y),m(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Or(y.type))}finally{_?ao(y):es()}}}var xF=ez,_l=!1;function tz(y){_l===!1&&i.unstable_flushAllWithoutAsserting===void 0&&(y.mode&pl||y.mode&Xf)&&(_l=!0,m(`In Concurrent or Sync modes, the "scheduler" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: 
jest.mock('scheduler', () => require('scheduler/unstable_mock'));

For more info, visit https://reactjs.org/link/mock-scheduler`))}function Xg(y,_){return _*1e3+y.interactionThreadID}function oy(y){Op===null?Op=[y]:Op.push(y)}function Bh(y,_,C){if(C.size>0){var k=y.pendingInteractionMap,H=k.get(_);H!=null?C.forEach(function(me){H.has(me)||me.__count++,H.add(me)}):(k.set(_,new Set(C)),C.forEach(function(me){me.__count++}));var W=l.__subscriberRef.current;if(W!==null){var ie=Xg(y,_);W.onWorkScheduled(C,ie)}}}function Wu(y,_){Bh(y,_,l.__interactionsRef.current)}function fw(y,_){var C=new Set;if(y.pendingInteractionMap.forEach(function(W,ie){Oo(_,ie)&&W.forEach(function(me){return C.add(me)})}),y.memoizedInteractions=C,C.size>0){var k=l.__subscriberRef.current;if(k!==null){var H=Xg(y,_);try{k.onWorkStarted(C,H)}catch(W){up(dl,function(){throw W})}}}}function oR(y,_){var C=y.pendingLanes,k;try{if(k=l.__subscriberRef.current,k!==null&&y.memoizedInteractions.size>0){var H=Xg(y,_);k.onWorkStopped(y.memoizedInteractions,H)}}catch(ie){up(dl,function(){throw ie})}finally{var W=y.pendingInteractionMap;W.forEach(function(ie,me){Oo(C,me)||(W.delete(me),ie.forEach(function(Ae){if(Ae.__count--,k!==null&&Ae.__count===0)try{k.onInteractionScheduledWorkCompleted(Ae)}catch(je){up(dl,function(){throw je})}}))})}}function IF(){return DF>0}var DF=0;function sR(y){y.sibling=null,y.stateNode=null}var nu=null,Np=null,OF=function(y){nu=y};function Mp(y){{if(nu===null)return y;var _=nu(y);return _===void 0?y:_.current}}function lR(y){return Mp(y)}function uR(y){{if(nu===null)return y;var _=nu(y);if(_===void 0){if(y!=null&&typeof y.render=="function"){var C=Mp(y.render);if(y.render!==C){var k={$$typeof:Sc,render:C};return y.displayName!==void 0&&(k.displayName=y.displayName),k}}return y}return _.current}}function b_(y,_){{if(nu===null)return!1;var C=y.elementType,k=_.type,H=!1,W=typeof k=="object"&&k!==null?k.$$typeof:null;switch(y.tag){case A:{typeof k=="function"&&(H=!0);break}case w:{(typeof k=="function"||W===rr)&&(H=!0);break}case Y:{(W===Sc||W===rr)&&(H=!0);break}case ce:case re:{(W===ht||W===rr)&&(H=!0);break}default:return!1}if(H){var ie=nu(C);if(ie!==void 0&&ie===nu(k))return!0}return!1}}function kF(y){{if(nu===null||typeof WeakSet!="function")return;Np===null&&(Np=new WeakSet),Np.add(y)}}var rz=function(y,_){{if(nu===null)return;var C=_.staleFamilies,k=_.updatedFamilies;Fh(),tR(function(){dw(y.current,k,C)})}},cR=function(y,_){{if(y.context!==Ql)return;Fh(),tR(function(){uy(_,y,null,null)})}};function dw(y,_,C){{var k=y.alternate,H=y.child,W=y.sibling,ie=y.tag,me=y.type,Ae=null;switch(ie){case w:case re:case A:Ae=me;break;case Y:Ae=me.render;break}if(nu===null)throw new Error("Expected resolveFamily to be set during hot reload.");var je=!1,Je=!1;if(Ae!==null){var Nt=nu(Ae);Nt!==void 0&&(C.has(Nt)?Je=!0:_.has(Nt)&&(ie===A?Je=!0:je=!0))}Np!==null&&(Np.has(y)||k!==null&&Np.has(k))&&(Je=!0),Je&&(y._debugNeedsRemount=!0),(Je||je)&&yo(y,Ji,La),H!==null&&!Je&&dw(H,_,C),W!==null&&dw(W,_,C)}}var hR=function(y,_){{var C=new Set,k=new Set(_.map(function(H){return H.current}));return pw(y.current,k,C),C}};function pw(y,_,C){{var k=y.child,H=y.sibling,W=y.tag,ie=y.type,me=null;switch(W){case w:case re:case A:me=ie;break;case Y:me=ie.render;break}var Ae=!1;me!==null&&_.has(me)&&(Ae=!0),Ae?RF(y,C):k!==null&&pw(k,_,C),H!==null&&pw(H,_,C)}}function RF(y,_){{var C=fR(y,_);if(C)return;for(var k=y;;){switch(k.tag){case D:_.add(k.stateNode);return;case R:_.add(k.stateNode.containerInfo);return;case N:_.add(k.stateNode.containerInfo);return}if(k.return===null)throw new Error("Expected to reach root first.");k=k.return}}}function fR(y,_){for(var C=y,k=!1;;){if(C.tag===D)k=!0,_.add(C.stateNode);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===y)return k;for(;C.sibling===null;){if(C.return===null||C.return===y)return k;C=C.return}C.sibling.return=C.return,C=C.sibling}return!1}var dR;{dR=!1;try{var pR=Object.preventExtensions({})}catch{dR=!0}}var nz=1;function iz(y,_,C,k){this.tag=y,this.key=C,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=_,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=k,this.flags=Aa,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.lanes=nr,this.childLanes=nr,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugID=nz++,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!dR&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var iu=function(y,_,C,k){return new iz(y,_,C,k)};function mw(y){var _=y.prototype;return!!(_&&_.isReactComponent)}function az(y){return typeof y=="function"&&!mw(y)&&y.defaultProps===void 0}function oz(y){if(typeof y=="function")return mw(y)?A:w;if(y!=null){var _=y.$$typeof;if(_===Sc)return Y;if(_===ht)return ce}return I}function Yg(y,_){var C=y.alternate;C===null?(C=iu(y.tag,_,y.key,y.mode),C.elementType=y.elementType,C.type=y.type,C.stateNode=y.stateNode,C._debugID=y._debugID,C._debugSource=y._debugSource,C._debugOwner=y._debugOwner,C._debugHookTypes=y._debugHookTypes,C.alternate=y,y.alternate=C):(C.pendingProps=_,C.type=y.type,C.flags=Aa,C.nextEffect=null,C.firstEffect=null,C.lastEffect=null,C.actualDuration=0,C.actualStartTime=-1),C.childLanes=y.childLanes,C.lanes=y.lanes,C.child=y.child,C.memoizedProps=y.memoizedProps,C.memoizedState=y.memoizedState,C.updateQueue=y.updateQueue;var k=y.dependencies;switch(C.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},C.sibling=y.sibling,C.index=y.index,C.ref=y.ref,C.selfBaseDuration=y.selfBaseDuration,C.treeBaseDuration=y.treeBaseDuration,C._debugNeedsRemount=y._debugNeedsRemount,C.tag){case I:case w:case re:C.type=Mp(y.type);break;case A:C.type=lR(y.type);break;case Y:C.type=uR(y.type);break}return C}function sz(y,_){y.flags&=Wa,y.nextEffect=null,y.firstEffect=null,y.lastEffect=null;var C=y.alternate;if(C===null)y.childLanes=nr,y.lanes=_,y.child=null,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null,y.selfBaseDuration=0,y.treeBaseDuration=0;else{y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type;var k=C.dependencies;y.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},y.selfBaseDuration=C.selfBaseDuration,y.treeBaseDuration=C.treeBaseDuration}return y}function lz(y){var _;return y===US?_=Xf|pl|Xa:y===a3?_=pl|Xa:_=Ca,o3&&(_|=ml),iu(N,null,null,_)}function mR(y,_,C,k,H,W){var ie=I,me=y;if(typeof y=="function")mw(y)?(ie=A,me=lR(me)):me=Mp(me);else if(typeof y=="string")ie=D;else e:switch(y){case Bs:return qg(C.children,H,W,_);case Ci:ie=V,H|=a7;break;case Fd:ie=V,H|=Xa;break;case lh:return gw(C,H,W,_);case uh:return uz(C,H,W,_);case Ac:return sy(C,H,W,_);case Un:return vw(C,H,W,_);case Gn:return PF(C,H,W,_);case hn:default:{if(typeof y=="object"&&y!==null)switch(y.$$typeof){case Ef:ie=fe;break e;case Bd:ie=te;break e;case Sc:ie=Y,me=uR(me);break e;case ht:ie=ce;break e;case rr:ie=ge,me=null;break e;case Pr:ie=ot;break e}var Ae="";{(y===void 0||typeof y=="object"&&y!==null&&Object.keys(y).length===0)&&(Ae+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var je=k?Or(k.type):null;je&&(Ae+=`

Check the render method of \``+je+"`.")}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(y==null?y:typeof y)+"."+Ae)}}var Je=iu(ie,C,_,H);return Je.elementType=y,Je.type=me,Je.lanes=W,Je._debugOwner=k,Je}function gR(y,_,C){var k=null;k=y._owner;var H=y.type,W=y.key,ie=y.props,me=mR(H,W,ie,k,_,C);return me._debugSource=y._source,me._debugOwner=y._owner,me}function qg(y,_,C,k){var H=iu(z,y,k,_);return H.lanes=C,H}function gw(y,_,C,k){typeof y.id!="string"&&m('Profiler must specify an "id" as a prop');var H=iu(q,y,k,_|ml);return H.elementType=lh,H.type=lh,H.lanes=C,H.stateNode={effectDuration:0,passiveEffectDuration:0},H}function uz(y,_,C,k){var H=iu(K,y,k,_);return H.type=uh,H.elementType=uh,H.lanes=C,H}function sy(y,_,C,k){var H=iu(Ce,y,k,_);return H.type=Ac,H.elementType=Ac,H.lanes=C,H}function vw(y,_,C,k){var H=iu($,y,k,_);return H.type=Un,H.elementType=Un,H.lanes=C,H}function PF(y,_,C,k){var H=iu(lt,y,k,_);return H.type=Gn,H.elementType=Gn,H.lanes=C,H}function yw(y,_,C){var k=iu(L,y,null,_);return k.lanes=C,k}function __(){var y=iu(D,null,null,Ca);return y.elementType="DELETED",y.type="DELETED",y}function ly(y,_,C){var k=y.children!==null?y.children:[],H=iu(R,k,y.key,_);return H.lanes=C,H.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},H}function bw(y,_){return y===null&&(y=iu(I,null,null,Ca)),y.tag=_.tag,y.key=_.key,y.elementType=_.elementType,y.type=_.type,y.stateNode=_.stateNode,y.return=_.return,y.child=_.child,y.sibling=_.sibling,y.index=_.index,y.ref=_.ref,y.pendingProps=_.pendingProps,y.memoizedProps=_.memoizedProps,y.updateQueue=_.updateQueue,y.memoizedState=_.memoizedState,y.dependencies=_.dependencies,y.mode=_.mode,y.flags=_.flags,y.nextEffect=_.nextEffect,y.firstEffect=_.firstEffect,y.lastEffect=_.lastEffect,y.lanes=_.lanes,y.childLanes=_.childLanes,y.alternate=_.alternate,y.actualDuration=_.actualDuration,y.actualStartTime=_.actualStartTime,y.selfBaseDuration=_.selfBaseDuration,y.treeBaseDuration=_.treeBaseDuration,y._debugID=_._debugID,y._debugSource=_._debugSource,y._debugOwner=_._debugOwner,y._debugNeedsRemount=_._debugNeedsRemount,y._debugHookTypes=_._debugHookTypes,y}function cz(y,_,C){switch(this.tag=_,this.containerInfo=y,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=vO,this.context=null,this.pendingContext=null,this.hydrate=C,this.callbackNode=null,this.callbackPriority=Kd,this.eventTimes=LD(nr),this.expirationTimes=LD(La),this.pendingLanes=nr,this.suspendedLanes=nr,this.pingedLanes=nr,this.expiredLanes=nr,this.mutableReadLanes=nr,this.finishedLanes=nr,this.entangledLanes=nr,this.entanglements=LD(nr),this.mutableSourceEagerHydrationData=null,this.interactionThreadID=l.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map,_){case a3:this._debugRootType="createBlockingRoot()";break;case US:this._debugRootType="createRoot()";break;case HS:this._debugRootType="createLegacyRoot()";break}}function hz(y,_,C,k){var H=new cz(y,_,C),W=lz(_);return H.current=W,W.stateNode=H,R1(W),H}function fz(y,_){var C=_._getVersion,k=C(_._source);y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[_,k]:y.mutableSourceEagerHydrationData.push(_,k)}function dz(y,_,C){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:k==null?null:""+k,children:y,containerInfo:_,implementation:C}}var vR,Lp;vR=!1,Lp={};function yR(y){if(!y)return Ql;var _=ng(y),C=i3(_);if(_.tag===A){var k=_.type;if(Ws(k))return r3(_,k,C)}return C}function pz(y,_){{var C=ng(y);if(C===void 0)throw typeof y.render=="function"?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(y));var k=DL(C);if(k===null)return null;if(k.mode&Xa){var H=Or(C.type)||"Component";if(!Lp[H]){Lp[H]=!0;var W=ds;try{ao(k),C.mode&Xa?m("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",_,_,H):m("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",_,_,H)}finally{W?ao(W):es()}}}return k.stateNode}}function Po(y,_,C,k){return hz(y,_,C)}function uy(y,_,C,k){GS(_,y);var H=_.current,W=bl();typeof jest<"u"&&(tz(H),J7(H));var ie=Lh(H),me=yR(C);_.context===null?_.context=me:_.pendingContext=me,Ud&&ds!==null&&!vR&&(vR=!0,m(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Or(ds.type)||"Unknown"));var Ae=pp(W,ie);return Ae.payload={element:y},k=k===void 0?null:k,k!==null&&(typeof k!="function"&&m("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",k),Ae.callback=k),Yf(H,Ae),yo(H,ie,W),ie}function bR(y){var _=y.current;if(!_.child)return null;switch(_.child.tag){case D:return _.child.stateNode;default:return _.child.stateNode}}function NF(y,_){var C=y.memoizedState;C!==null&&C.dehydrated!==null&&(C.retryLane=vG(C.retryLane,_))}function _R(y,_){NF(y,_);var C=y.alternate;C&&NF(C,_)}function Zg(y){if(y.tag===K){var _=bl(),C=QE;yo(y,C,_),_R(y,C)}}function mz(y){if(y.tag===K){var _=bl(),C=t1;yo(y,C,_),_R(y,C)}}function Fp(y){if(y.tag===K){var _=bl(),C=Lh(y);yo(y,C,_),_R(y,C)}}function MF(y,_){try{return _()}finally{}}function TR(y){var _=hD(y);return _===null?null:_.tag===ve?_.stateNode.instance:_.stateNode}var LF=function(y){return!1};function ER(y){return LF(y)}var FF=null,Uc=null,T_=null,_w=null,E_=null,SR=null,Hh=null,AR=null;{var Tw=function(y,_,C){var k=_[C],H=Array.isArray(y)?y.slice():o({},y);return C+1===_.length?(Array.isArray(H)?H.splice(k,1):delete H[k],H):(H[k]=Tw(y[k],_,C+1),H)},wR=function(y,_){return Tw(y,_,0)},BF=function(y,_,C,k){var H=_[k],W=Array.isArray(y)?y.slice():o({},y);if(k+1===_.length){var ie=C[k];W[ie]=W[H],Array.isArray(W)?W.splice(H,1):delete W[H]}else W[H]=BF(y[H],_,C,k+1);return W},CR=function(y,_,C){if(_.length!==C.length){d("copyWithRename() expects paths of the same length");return}else for(var k=0;k<C.length-1;k++)if(_[k]!==C[k]){d("copyWithRename() expects paths to be the same except for the deepest key");return}return BF(y,_,C,0)},Ew=function(y,_,C,k){if(C>=_.length)return k;var H=_[C],W=Array.isArray(y)?y.slice():o({},y);return W[H]=Ew(y[H],_,C+1,k),W},S_=function(y,_,C){return Ew(y,_,0,C)},cy=function(y,_){for(var C=y.memoizedState;C!==null&&_>0;)C=C.next,_--;return C};FF=function(y,_,C,k){var H=cy(y,_);if(H!==null){var W=S_(H.memoizedState,C,k);H.memoizedState=W,H.baseState=W,y.memoizedProps=o({},y.memoizedProps),yo(y,Ji,La)}},Uc=function(y,_,C){var k=cy(y,_);if(k!==null){var H=wR(k.memoizedState,C);k.memoizedState=H,k.baseState=H,y.memoizedProps=o({},y.memoizedProps),yo(y,Ji,La)}},T_=function(y,_,C,k){var H=cy(y,_);if(H!==null){var W=CR(H.memoizedState,C,k);H.memoizedState=W,H.baseState=W,y.memoizedProps=o({},y.memoizedProps),yo(y,Ji,La)}},_w=function(y,_,C){y.pendingProps=S_(y.memoizedProps,_,C),y.alternate&&(y.alternate.pendingProps=y.pendingProps),yo(y,Ji,La)},E_=function(y,_){y.pendingProps=wR(y.memoizedProps,_),y.alternate&&(y.alternate.pendingProps=y.pendingProps),yo(y,Ji,La)},SR=function(y,_,C){y.pendingProps=CR(y.memoizedProps,_,C),y.alternate&&(y.alternate.pendingProps=y.pendingProps),yo(y,Ji,La)},Hh=function(y){yo(y,Ji,La)},AR=function(y){LF=y}}function xR(y){var _=DL(y);return _===null?null:_.stateNode}function IR(y){return null}function A_(){return ds}function hy(y){var _=y.findFiberByHostInstance,C=c.ReactCurrentDispatcher;return t7({bundleType:y.bundleType,version:y.version,rendererPackageName:y.rendererPackageName,rendererConfig:y.rendererConfig,overrideHookState:FF,overrideHookStateDeletePath:Uc,overrideHookStateRenamePath:T_,overrideProps:_w,overridePropsDeletePath:E_,overridePropsRenamePath:SR,setSuspenseHandler:AR,scheduleUpdate:Hh,currentDispatcherRef:C,findHostInstanceByFiber:xR,findFiberByHostInstance:_||IR,findHostInstancesForRefresh:hR,scheduleRefresh:rz,scheduleRoot:cR,setRefreshHandler:OF,getCurrentFiber:A_})}function fy(y,_,C){this._internalRoot=HF(y,_,C)}fy.prototype.render=function(y){var _=this._internalRoot;{typeof arguments[1]=="function"&&m("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var C=_.containerInfo;if(C.nodeType!==Wl){var k=TR(_.current);k&&k.parentNode!==C&&m("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}uy(y,_,null,null)},fy.prototype.unmount=function(){typeof arguments[0]=="function"&&m("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var y=this._internalRoot,_=y.containerInfo;uy(null,y,null,function(){Gf(_)})};function HF(y,_,C){var k=C!=null&&C.hydrate===!0;C!=null&&C.hydrationOptions;var H=C!=null&&C.hydrationOptions!=null&&C.hydrationOptions.mutableSources||null,W=Po(y,_,k);kc(W.current,y),y.nodeType;{var ie=y.nodeType===Wl?y.parentNode:y;pS(ie)}if(H)for(var me=0;me<H.length;me++){var Ae=H[me];fz(W,Ae)}return W}function gz(y,_){return new fy(y,HS,_)}function Bp(y){return!!(y&&(y.nodeType===Iu||y.nodeType===Cf||y.nodeType===Xm||y.nodeType===Wl&&y.nodeValue===" react-mount-point-unstable "))}var UF=c.ReactCurrentOwner,DR,Sw=!1;DR=function(y){if(y._reactRootContainer&&y.nodeType!==Wl){var _=TR(y._reactRootContainer._internalRoot.current);_&&_.parentNode!==y&&m("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var C=!!y._reactRootContainer,k=w_(y),H=!!(k&&$f(k));H&&!C&&m("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),y.nodeType===Iu&&y.tagName&&y.tagName.toUpperCase()==="BODY"&&m("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function w_(y){return y?y.nodeType===Cf?y.documentElement:y.firstChild:null}function vz(y){var _=w_(y);return!!(_&&_.nodeType===Iu&&_.hasAttribute(yi))}function yz(y,_){var C=_||vz(y);if(!C)for(var k=!1,H;H=y.lastChild;)!k&&H.nodeType===Iu&&H.hasAttribute(yi)&&(k=!0,m("render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),y.removeChild(H);return C&&!_&&!Sw&&(Sw=!0,d("render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v18. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.")),gz(y,C?{hydrate:!0}:void 0)}function bz(y,_){y!==null&&typeof y!="function"&&m("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",_,y)}function C_(y,_,C,k,H){DR(C),bz(H===void 0?null:H,"render");var W=C._reactRootContainer,ie;if(W){if(ie=W._internalRoot,typeof H=="function"){var Ae=H;H=function(){var je=bR(ie);Ae.call(je)}}uy(_,ie,y,H)}else{if(W=C._reactRootContainer=yz(C,k),ie=W._internalRoot,typeof H=="function"){var me=H;H=function(){var je=bR(ie);me.call(je)}}vF(function(){uy(_,ie,y,H)})}return bR(ie)}function Aw(y){{var _=UF.current;if(_!==null&&_.stateNode!==null){var C=_.stateNode._warnedAboutRefsInRender;C||m("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Or(_.type)||"A component"),_.stateNode._warnedAboutRefsInRender=!0}}return y==null?null:y.nodeType===Iu?y:pz(y,"findDOMNode")}function GF(y,_,C){if(!Bp(_))throw Error("Target container is not a DOM element.");{var k=Tg(_)&&_._reactRootContainer===void 0;k&&m("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?")}return C_(null,y,_,!0,C)}function $F(y,_,C){if(!Bp(_))throw Error("Target container is not a DOM element.");{var k=Tg(_)&&_._reactRootContainer===void 0;k&&m("You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return C_(null,y,_,!1,C)}function OR(y,_,C,k){if(!Bp(C))throw Error("Target container is not a DOM element.");if(!(y!=null&&SL(y)))throw Error("parentComponent must be a valid React Component");return C_(y,_,C,!1,k)}function zF(y){if(!Bp(y))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var _=Tg(y)&&y._reactRootContainer===void 0;_&&m("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(y._reactRootContainer){{var C=w_(y),k=C&&!$f(C);k&&m("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return vF(function(){C_(null,null,y,!1,function(){y._reactRootContainer=null,Gf(y)})}),!0}else{{var H=w_(y),W=!!(H&&$f(H)),ie=y.nodeType===Iu&&Bp(y.parentNode)&&!!y.parentNode._reactRootContainer;W&&m("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",ie?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}cG(Zg),h0(mz),hG(Fp),fG(MF);var VF=!1;(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&m("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Gb(w$),yL(kp,k7,D7,O7);function kR(y,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(_))throw Error("Target container is not a DOM element.");return dz(y,_,null,C)}function _z(y,_,C,k){return OR(y,_,C,k)}function RR(y,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return VF||(VF=!0,d('The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 18+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),kR(y,_,C)}var Tz={Events:[$f,x0,I0,xf,eg,Fh,y_]},Ez=hy({findFiberByHostInstance:ip,bundleType:1,version:w1,rendererPackageName:"react-dom"});if(!Ez&&ir&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var jF=window.location.protocol;/^(https?|file):$/.test(jF)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(jF==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tz,ef.createPortal=kR,ef.findDOMNode=Aw,ef.flushSync=tR,ef.hydrate=GF,ef.render=$F,ef.unmountComponentAtNode=zF,ef.unstable_batchedUpdates=kp,ef.unstable_createPortal=RR,ef.unstable_renderSubtreeIntoContainer=_z,ef.version=w1})();XTe.exports=ef;var hee=XTe.exports;const Nnt=_f(hee);var rU={exports:{}},QTe={};(function(n){(function(o){var i=o.Promise,l=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&function(){var F;return new i(function(Te){F=Te}),typeof F=="function"}();n?(n.Promise=l?i:ge,n.Polyfill=ge):l||(o.Promise=ge);var c="pending",d="sealed",m="fulfilled",b="rejected",w=function(){};function A(F){return Object.prototype.toString.call(F)==="[object Array]"}var I=typeof setImmediate<"u"?setImmediate:setTimeout,N=[],R;function D(){for(var F=0;F<N.length;F++)N[F][0](N[F][1]);N=[],R=!1}function L(F,Te){N.push([F,Te]),R||(R=!0,I(D,0))}function z(F,Te){function Ce(Ke){fe(Te,Ke)}function ve(Ke){q(Te,Ke)}try{F(Ce,ve)}catch(Ke){ve(Ke)}}function V(F){var Te=F.owner,Ce=Te.state_,ve=Te.data_,Ke=F[Ce],ot=F.then;if(typeof Ke=="function"){Ce=m;try{ve=Ke(ve)}catch($){q(ot,$)}}te(ot,ve)||(Ce===m&&fe(ot,ve),Ce===b&&q(ot,ve))}function te(F,Te){var Ce;try{if(F===Te)throw new TypeError("A promises callback cannot return that same promise.");if(Te&&(typeof Te=="function"||typeof Te=="object")){var ve=Te.then;if(typeof ve=="function")return ve.call(Te,function(Ke){Ce||(Ce=!0,Te!==Ke?fe(F,Ke):Y(F,Ke))},function(Ke){Ce||(Ce=!0,q(F,Ke))}),!0}}catch(Ke){return Ce||q(F,Ke),!0}return!1}function fe(F,Te){(F===Te||!te(F,Te))&&Y(F,Te)}function Y(F,Te){F.state_===c&&(F.state_=d,F.data_=Te,L(ce,F))}function q(F,Te){F.state_===c&&(F.state_=d,F.data_=Te,L(re,F))}function K(F){var Te=F.then_;F.then_=void 0;for(var Ce=0;Ce<Te.length;Ce++)V(Te[Ce])}function ce(F){F.state_=m,K(F)}function re(F){F.state_=b,K(F)}function ge(F){if(typeof F!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof ge))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],z(F,this)}ge.prototype={constructor:ge,state_:c,then_:null,data_:void 0,then:function(F,Te){var Ce={owner:this,then:new this.constructor(w),fulfilled:F,rejected:Te};return this.state_===m||this.state_===b?L(V,Ce):this.then_.push(Ce),Ce.then},catch:function(F){return this.then(null,F)}},ge.all=function(F){var Te=this;if(!A(F))throw new TypeError("You must pass an array to Promise.all().");return new Te(function(Ce,ve){var Ke=[],ot=0;function $(Be){return ot++,function(qe){Ke[Be]=qe,--ot||Ce(Ke)}}for(var lt=0,Tt;lt<F.length;lt++)Tt=F[lt],Tt&&typeof Tt.then=="function"?Tt.then($(lt),ve):Ke[lt]=Tt;ot||Ce(Ke)})},ge.race=function(F){var Te=this;if(!A(F))throw new TypeError("You must pass an array to Promise.race().");return new Te(function(Ce,ve){for(var Ke=0,ot;Ke<F.length;Ke++)ot=F[Ke],ot&&typeof ot.then=="function"?ot.then(Ce,ve):Ce(ot)})},ge.resolve=function(F){var Te=this;return F&&typeof F=="object"&&F.constructor===Te?F:new Te(function(Ce){Ce(F)})},ge.reject=function(F){var Te=this;return new Te(function(Ce,ve){ve(F)})}})(typeof window<"u"?window:typeof ih<"u"?ih:typeof self<"u"?self:ih)})(QTe);/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=QTe.Polyfill);Object.assign||(Object.assign=knt);var Mnt=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var Lnt=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-Lnt}}var aZ=Date.now(),Wve=["ms","moz","webkit","o"];for(var oZ=0;oZ<Wve.length&&!window.requestAnimationFrame;++oZ){var sZ=Wve[oZ];window.requestAnimationFrame=window[sZ+"RequestAnimationFrame"],window.cancelAnimationFrame=window[sZ+"CancelAnimationFrame"]||window[sZ+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(n){if(typeof n!="function")throw new TypeError(n+"is not a function");var o=Date.now(),i=Mnt+aZ-o;return i<0&&(i=0),aZ=o,window.setTimeout(function(){aZ=Date.now(),n(performance.now())},i)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){return clearTimeout(n)});Math.sign||(Math.sign=function(o){return o=Number(o),o===0||isNaN(o)?o:o>0?1:-1});Number.isInteger||(Number.isInteger=function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var lZ=/iPhone/i,Xve=/iPod/i,Yve=/iPad/i,qve=/\biOS-universal(?:.+)Mac\b/i,uZ=/\bAndroid(?:.+)Mobile\b/i,Zve=/Android/i,Ex=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,P8=/Silk/i,yv=/Windows Phone/i,Kve=/\bWindows(?:.+)ARM\b/i,Qve=/BlackBerry/i,Jve=/BB10/i,e0e=/Opera Mini/i,t0e=/\b(CriOS|Chrome)(?:.+)Mobile/i,r0e=/Mobile(?:.+)Firefox\b/i,n0e=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function Fnt(n){return function(o){return o.test(n)}}function Bnt(n){var o={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?o={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?o.userAgent=n:n&&n.userAgent&&(o={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var i=o.userAgent,l=i.split("[FBAN");typeof l[1]<"u"&&(i=l[0]),l=i.split("Twitter"),typeof l[1]<"u"&&(i=l[0]);var c=Fnt(i),d={apple:{phone:c(lZ)&&!c(yv),ipod:c(Xve),tablet:!c(lZ)&&(c(Yve)||n0e(o))&&!c(yv),universal:c(qve),device:(c(lZ)||c(Xve)||c(Yve)||c(qve)||n0e(o))&&!c(yv)},amazon:{phone:c(Ex),tablet:!c(Ex)&&c(P8),device:c(Ex)||c(P8)},android:{phone:!c(yv)&&c(Ex)||!c(yv)&&c(uZ),tablet:!c(yv)&&!c(Ex)&&!c(uZ)&&(c(P8)||c(Zve)),device:!c(yv)&&(c(Ex)||c(P8)||c(uZ)||c(Zve))||c(/\bokhttp\b/i)},windows:{phone:c(yv),tablet:c(Kve),device:c(yv)||c(Kve)},other:{blackberry:c(Qve),blackberry10:c(Jve),opera:c(e0e),firefox:c(r0e),chrome:c(t0e),device:c(Qve)||c(Jve)||c(e0e)||c(r0e)||c(t0e)},any:!1,phone:!1,tablet:!1};return d.any=d.apple.device||d.android.device||d.windows.device||d.other.device,d.phone=d.apple.phone||d.android.phone||d.windows.phone,d.tablet=d.apple.tablet||d.android.tablet||d.windows.tablet,d}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var sf=Bnt(window.navigator);function Hnt(n){var o=!0;if(sf.tablet||sf.phone){if(sf.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(i){var l=parseInt(i[1],10);l<11&&(o=!1)}}if(sf.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i){var l=parseInt(i[1],10);l<7&&(o=!1)}}}return o?n:4}function Unt(){return!sf.apple.device}var cn={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:Hnt(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:sf.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:Unt(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},JTe={exports:{}};(function(n){var o=Object.prototype.hasOwnProperty,i="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(i=!1));function c(w,A,I){this.fn=w,this.context=A,this.once=I||!1}function d(w,A,I,N,R){if(typeof I!="function")throw new TypeError("The listener must be a function");var D=new c(I,N||w,R),L=i?i+A:A;return w._events[L]?w._events[L].fn?w._events[L]=[w._events[L],D]:w._events[L].push(D):(w._events[L]=D,w._eventsCount++),w}function m(w,A){--w._eventsCount===0?w._events=new l:delete w._events[A]}function b(){this._events=new l,this._eventsCount=0}b.prototype.eventNames=function(){var A=[],I,N;if(this._eventsCount===0)return A;for(N in I=this._events)o.call(I,N)&&A.push(i?N.slice(1):N);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(I)):A},b.prototype.listeners=function(A){var I=i?i+A:A,N=this._events[I];if(!N)return[];if(N.fn)return[N.fn];for(var R=0,D=N.length,L=new Array(D);R<D;R++)L[R]=N[R].fn;return L},b.prototype.listenerCount=function(A){var I=i?i+A:A,N=this._events[I];return N?N.fn?1:N.length:0},b.prototype.emit=function(A,I,N,R,D,L){var z=i?i+A:A;if(!this._events[z])return!1;var V=this._events[z],te=arguments.length,fe,Y;if(V.fn){switch(V.once&&this.removeListener(A,V.fn,void 0,!0),te){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,I),!0;case 3:return V.fn.call(V.context,I,N),!0;case 4:return V.fn.call(V.context,I,N,R),!0;case 5:return V.fn.call(V.context,I,N,R,D),!0;case 6:return V.fn.call(V.context,I,N,R,D,L),!0}for(Y=1,fe=new Array(te-1);Y<te;Y++)fe[Y-1]=arguments[Y];V.fn.apply(V.context,fe)}else{var q=V.length,K;for(Y=0;Y<q;Y++)switch(V[Y].once&&this.removeListener(A,V[Y].fn,void 0,!0),te){case 1:V[Y].fn.call(V[Y].context);break;case 2:V[Y].fn.call(V[Y].context,I);break;case 3:V[Y].fn.call(V[Y].context,I,N);break;case 4:V[Y].fn.call(V[Y].context,I,N,R);break;default:if(!fe)for(K=1,fe=new Array(te-1);K<te;K++)fe[K-1]=arguments[K];V[Y].fn.apply(V[Y].context,fe)}}return!0},b.prototype.on=function(A,I,N){return d(this,A,I,N,!1)},b.prototype.once=function(A,I,N){return d(this,A,I,N,!0)},b.prototype.removeListener=function(A,I,N,R){var D=i?i+A:A;if(!this._events[D])return this;if(!I)return m(this,D),this;var L=this._events[D];if(L.fn)L.fn===I&&(!R||L.once)&&(!N||L.context===N)&&m(this,D);else{for(var z=0,V=[],te=L.length;z<te;z++)(L[z].fn!==I||R&&!L[z].once||N&&L[z].context!==N)&&V.push(L[z]);V.length?this._events[D]=V.length===1?V[0]:V:m(this,D)}return this},b.prototype.removeAllListeners=function(A){var I;return A?(I=i?i+A:A,this._events[I]&&m(this,I)):(this._events=new l,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=i,b.EventEmitter=b,n.exports=b})(JTe);var Gnt=JTe.exports;const EI=_f(Gnt);var fee={exports:{}};fee.exports=QU;fee.exports.default=QU;function QU(n,o,i){i=i||2;var l=o&&o.length,c=l?o[0]*i:n.length,d=eEe(n,0,c,i,!0),m=[];if(!d||d.next===d.prev)return m;var b,w,A,I,N,R,D;if(l&&(d=Wnt(n,o,d,i)),n.length>80*i){b=A=n[0],w=I=n[1];for(var L=i;L<c;L+=i)N=n[L],R=n[L+1],N<b&&(b=N),R<w&&(w=R),N>A&&(A=N),R>I&&(I=R);D=Math.max(A-b,I-w),D=D!==0?32767/D:0}return G2(d,m,i,b,w,D,0),m}function eEe(n,o,i,l,c){var d,m;if(c===oQ(n,o,i,l)>0)for(d=o;d<i;d+=l)m=i0e(d,n[d],n[d+1],m);else for(d=i-l;d>=o;d-=l)m=i0e(d,n[d],n[d+1],m);return m&&JU(m,m.next)&&(z2(m),m=m.next),m}function QT(n,o){if(!n)return n;o||(o=n);var i=n,l;do if(l=!1,!i.steiner&&(JU(i,i.next)||po(i.prev,i,i.next)===0)){if(z2(i),i=o=i.prev,i===i.next)break;l=!0}else i=i.next;while(l||i!==o);return o}function G2(n,o,i,l,c,d,m){if(n){!m&&d&&Knt(n,l,c,d);for(var b=n,w,A;n.prev!==n.next;){if(w=n.prev,A=n.next,d?znt(n,l,c,d):$nt(n)){o.push(w.i/i|0),o.push(n.i/i|0),o.push(A.i/i|0),z2(n),n=A.next,b=A.next;continue}if(n=A,n===b){m?m===1?(n=Vnt(QT(n),o,i),G2(n,o,i,l,c,d,2)):m===2&&jnt(n,o,i,l,c,d):G2(QT(n),o,i,l,c,d,1);break}}}}function $nt(n){var o=n.prev,i=n,l=n.next;if(po(o,i,l)>=0)return!1;for(var c=o.x,d=i.x,m=l.x,b=o.y,w=i.y,A=l.y,I=c<d?c<m?c:m:d<m?d:m,N=b<w?b<A?b:A:w<A?w:A,R=c>d?c>m?c:m:d>m?d:m,D=b>w?b>A?b:A:w>A?w:A,L=l.next;L!==o;){if(L.x>=I&&L.x<=R&&L.y>=N&&L.y<=D&&Fx(c,b,d,w,m,A,L.x,L.y)&&po(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function znt(n,o,i,l){var c=n.prev,d=n,m=n.next;if(po(c,d,m)>=0)return!1;for(var b=c.x,w=d.x,A=m.x,I=c.y,N=d.y,R=m.y,D=b<w?b<A?b:A:w<A?w:A,L=I<N?I<R?I:R:N<R?N:R,z=b>w?b>A?b:A:w>A?w:A,V=I>N?I>R?I:R:N>R?N:R,te=iQ(D,L,o,i,l),fe=iQ(z,V,o,i,l),Y=n.prevZ,q=n.nextZ;Y&&Y.z>=te&&q&&q.z<=fe;){if(Y.x>=D&&Y.x<=z&&Y.y>=L&&Y.y<=V&&Y!==c&&Y!==m&&Fx(b,I,w,N,A,R,Y.x,Y.y)&&po(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,q.x>=D&&q.x<=z&&q.y>=L&&q.y<=V&&q!==c&&q!==m&&Fx(b,I,w,N,A,R,q.x,q.y)&&po(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;Y&&Y.z>=te;){if(Y.x>=D&&Y.x<=z&&Y.y>=L&&Y.y<=V&&Y!==c&&Y!==m&&Fx(b,I,w,N,A,R,Y.x,Y.y)&&po(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;q&&q.z<=fe;){if(q.x>=D&&q.x<=z&&q.y>=L&&q.y<=V&&q!==c&&q!==m&&Fx(b,I,w,N,A,R,q.x,q.y)&&po(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function Vnt(n,o,i){var l=n;do{var c=l.prev,d=l.next.next;!JU(c,d)&&tEe(c,l,l.next,d)&&$2(c,d)&&$2(d,c)&&(o.push(c.i/i|0),o.push(l.i/i|0),o.push(d.i/i|0),z2(l),z2(l.next),l=n=d),l=l.next}while(l!==n);return QT(l)}function jnt(n,o,i,l,c,d){var m=n;do{for(var b=m.next.next;b!==m.prev;){if(m.i!==b.i&&eit(m,b)){var w=rEe(m,b);m=QT(m,m.next),w=QT(w,w.next),G2(m,o,i,l,c,d,0),G2(w,o,i,l,c,d,0);return}b=b.next}m=m.next}while(m!==n)}function Wnt(n,o,i,l){var c=[],d,m,b,w,A;for(d=0,m=o.length;d<m;d++)b=o[d]*l,w=d<m-1?o[d+1]*l:n.length,A=eEe(n,b,w,l,!1),A===A.next&&(A.steiner=!0),c.push(Jnt(A));for(c.sort(Xnt),d=0;d<c.length;d++)i=Ynt(c[d],i);return i}function Xnt(n,o){return n.x-o.x}function Ynt(n,o){var i=qnt(n,o);if(!i)return o;var l=rEe(i,n);return QT(l,l.next),QT(i,i.next)}function qnt(n,o){var i=o,l=n.x,c=n.y,d=-1/0,m;do{if(c<=i.y&&c>=i.next.y&&i.next.y!==i.y){var b=i.x+(c-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(b<=l&&b>d&&(d=b,m=i.x<i.next.x?i:i.next,b===l))return m}i=i.next}while(i!==o);if(!m)return null;var w=m,A=m.x,I=m.y,N=1/0,R;i=m;do l>=i.x&&i.x>=A&&l!==i.x&&Fx(c<I?l:d,c,A,I,c<I?d:l,c,i.x,i.y)&&(R=Math.abs(c-i.y)/(l-i.x),$2(i,n)&&(R<N||R===N&&(i.x>m.x||i.x===m.x&&Znt(m,i)))&&(m=i,N=R)),i=i.next;while(i!==w);return m}function Znt(n,o){return po(n.prev,n,o.prev)<0&&po(o.next,n,n.next)<0}function Knt(n,o,i,l){var c=n;do c.z===0&&(c.z=iQ(c.x,c.y,o,i,l)),c.prevZ=c.prev,c.nextZ=c.next,c=c.next;while(c!==n);c.prevZ.nextZ=null,c.prevZ=null,Qnt(c)}function Qnt(n){var o,i,l,c,d,m,b,w,A=1;do{for(i=n,n=null,d=null,m=0;i;){for(m++,l=i,b=0,o=0;o<A&&(b++,l=l.nextZ,!!l);o++);for(w=A;b>0||w>0&&l;)b!==0&&(w===0||!l||i.z<=l.z)?(c=i,i=i.nextZ,b--):(c=l,l=l.nextZ,w--),d?d.nextZ=c:n=c,c.prevZ=d,d=c;i=l}d.nextZ=null,A*=2}while(m>1);return n}function iQ(n,o,i,l,c){return n=(n-i)*c|0,o=(o-l)*c|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,n|o<<1}function Jnt(n){var o=n,i=n;do(o.x<i.x||o.x===i.x&&o.y<i.y)&&(i=o),o=o.next;while(o!==n);return i}function Fx(n,o,i,l,c,d,m,b){return(c-m)*(o-b)>=(n-m)*(d-b)&&(n-m)*(l-b)>=(i-m)*(o-b)&&(i-m)*(d-b)>=(c-m)*(l-b)}function eit(n,o){return n.next.i!==o.i&&n.prev.i!==o.i&&!tit(n,o)&&($2(n,o)&&$2(o,n)&&rit(n,o)&&(po(n.prev,n,o.prev)||po(n,o.prev,o))||JU(n,o)&&po(n.prev,n,n.next)>0&&po(o.prev,o,o.next)>0)}function po(n,o,i){return(o.y-n.y)*(i.x-o.x)-(o.x-n.x)*(i.y-o.y)}function JU(n,o){return n.x===o.x&&n.y===o.y}function tEe(n,o,i,l){var c=M8(po(n,o,i)),d=M8(po(n,o,l)),m=M8(po(i,l,n)),b=M8(po(i,l,o));return!!(c!==d&&m!==b||c===0&&N8(n,i,o)||d===0&&N8(n,l,o)||m===0&&N8(i,n,l)||b===0&&N8(i,o,l))}function N8(n,o,i){return o.x<=Math.max(n.x,i.x)&&o.x>=Math.min(n.x,i.x)&&o.y<=Math.max(n.y,i.y)&&o.y>=Math.min(n.y,i.y)}function M8(n){return n>0?1:n<0?-1:0}function tit(n,o){var i=n;do{if(i.i!==n.i&&i.next.i!==n.i&&i.i!==o.i&&i.next.i!==o.i&&tEe(i,i.next,n,o))return!0;i=i.next}while(i!==n);return!1}function $2(n,o){return po(n.prev,n,n.next)<0?po(n,o,n.next)>=0&&po(n,n.prev,o)>=0:po(n,o,n.prev)<0||po(n,n.next,o)<0}function rit(n,o){var i=n,l=!1,c=(n.x+o.x)/2,d=(n.y+o.y)/2;do i.y>d!=i.next.y>d&&i.next.y!==i.y&&c<(i.next.x-i.x)*(d-i.y)/(i.next.y-i.y)+i.x&&(l=!l),i=i.next;while(i!==n);return l}function rEe(n,o){var i=new aQ(n.i,n.x,n.y),l=new aQ(o.i,o.x,o.y),c=n.next,d=o.prev;return n.next=o,o.prev=n,i.next=c,c.prev=i,l.next=i,i.prev=l,d.next=l,l.prev=d,l}function i0e(n,o,i,l){var c=new aQ(n,o,i);return l?(c.next=l.next,c.prev=l,l.next.prev=c,l.next=c):(c.prev=c,c.next=c),c}function z2(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function aQ(n,o,i){this.i=n,this.x=o,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}QU.deviation=function(n,o,i,l){var c=o&&o.length,d=c?o[0]*i:n.length,m=Math.abs(oQ(n,0,d,i));if(c)for(var b=0,w=o.length;b<w;b++){var A=o[b]*i,I=b<w-1?o[b+1]*i:n.length;m-=Math.abs(oQ(n,A,I,i))}var N=0;for(b=0;b<l.length;b+=3){var R=l[b]*i,D=l[b+1]*i,L=l[b+2]*i;N+=Math.abs((n[R]-n[L])*(n[D+1]-n[R+1])-(n[R]-n[D])*(n[L+1]-n[R+1]))}return m===0&&N===0?0:Math.abs((N-m)/m)};function oQ(n,o,i,l){for(var c=0,d=o,m=i-l;d<i;d+=l)c+=(n[m]-n[d])*(n[d+1]+n[m+1]),m=d;return c}QU.flatten=function(n){for(var o=n[0][0].length,i={vertices:[],holes:[],dimensions:o},l=0,c=0;c<n.length;c++){for(var d=0;d<n[c].length;d++)for(var m=0;m<o;m++)i.vertices.push(n[c][d][m]);c>0&&(l+=n[c-1].length,i.holes.push(l))}return i};var nit=fee.exports;const dee=_f(nit);var mE={},nU={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */nU.exports;(function(n,o){(function(i){var l=o&&!o.nodeType&&o,c=n&&!n.nodeType&&n,d=typeof ih=="object"&&ih;(d.global===d||d.window===d||d.self===d)&&(i=d);var m,b=2147483647,w=36,A=1,I=26,N=38,R=700,D=72,L=128,z="-",V=/^xn--/,te=/[^\x20-\x7E]/,fe=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=w-A,K=Math.floor,ce=String.fromCharCode,re;function ge(We){throw new RangeError(Y[We])}function F(We,Ge){for(var nt=We.length,St=[];nt--;)St[nt]=Ge(We[nt]);return St}function Te(We,Ge){var nt=We.split("@"),St="";nt.length>1&&(St=nt[0]+"@",We=nt[1]),We=We.replace(fe,".");var Gt=We.split("."),Zt=F(Gt,Ge).join(".");return St+Zt}function Ce(We){for(var Ge=[],nt=0,St=We.length,Gt,Zt;nt<St;)Gt=We.charCodeAt(nt++),Gt>=55296&&Gt<=56319&&nt<St?(Zt=We.charCodeAt(nt++),(Zt&64512)==56320?Ge.push(((Gt&1023)<<10)+(Zt&1023)+65536):(Ge.push(Gt),nt--)):Ge.push(Gt);return Ge}function ve(We){return F(We,function(Ge){var nt="";return Ge>65535&&(Ge-=65536,nt+=ce(Ge>>>10&1023|55296),Ge=56320|Ge&1023),nt+=ce(Ge),nt}).join("")}function Ke(We){return We-48<10?We-22:We-65<26?We-65:We-97<26?We-97:w}function ot(We,Ge){return We+22+75*(We<26)-((Ge!=0)<<5)}function $(We,Ge,nt){var St=0;for(We=nt?K(We/R):We>>1,We+=K(We/Ge);We>q*I>>1;St+=w)We=K(We/q);return K(St+(q+1)*We/(We+N))}function lt(We){var Ge=[],nt=We.length,St,Gt=0,Zt=L,ir=D,zt,Qt,Wt,yr,br,Pt,Dr,Gr,rn;for(zt=We.lastIndexOf(z),zt<0&&(zt=0),Qt=0;Qt<zt;++Qt)We.charCodeAt(Qt)>=128&&ge("not-basic"),Ge.push(We.charCodeAt(Qt));for(Wt=zt>0?zt+1:0;Wt<nt;){for(yr=Gt,br=1,Pt=w;Wt>=nt&&ge("invalid-input"),Dr=Ke(We.charCodeAt(Wt++)),(Dr>=w||Dr>K((b-Gt)/br))&&ge("overflow"),Gt+=Dr*br,Gr=Pt<=ir?A:Pt>=ir+I?I:Pt-ir,!(Dr<Gr);Pt+=w)rn=w-Gr,br>K(b/rn)&&ge("overflow"),br*=rn;St=Ge.length+1,ir=$(Gt-yr,St,yr==0),K(Gt/St)>b-Zt&&ge("overflow"),Zt+=K(Gt/St),Gt%=St,Ge.splice(Gt++,0,Zt)}return ve(Ge)}function Tt(We){var Ge,nt,St,Gt,Zt,ir,zt,Qt,Wt,yr,br,Pt=[],Dr,Gr,rn,yi;for(We=Ce(We),Dr=We.length,Ge=L,nt=0,Zt=D,ir=0;ir<Dr;++ir)br=We[ir],br<128&&Pt.push(ce(br));for(St=Gt=Pt.length,Gt&&Pt.push(z);St<Dr;){for(zt=b,ir=0;ir<Dr;++ir)br=We[ir],br>=Ge&&br<zt&&(zt=br);for(Gr=St+1,zt-Ge>K((b-nt)/Gr)&&ge("overflow"),nt+=(zt-Ge)*Gr,Ge=zt,ir=0;ir<Dr;++ir)if(br=We[ir],br<Ge&&++nt>b&&ge("overflow"),br==Ge){for(Qt=nt,Wt=w;yr=Wt<=Zt?A:Wt>=Zt+I?I:Wt-Zt,!(Qt<yr);Wt+=w)yi=Qt-yr,rn=w-yr,Pt.push(ce(ot(yr+yi%rn,0))),Qt=K(yi/rn);Pt.push(ce(ot(Qt,0))),Zt=$(nt,Gr,St==Gt),nt=0,++St}++nt,++Ge}return Pt.join("")}function Be(We){return Te(We,function(Ge){return V.test(Ge)?lt(Ge.slice(4).toLowerCase()):Ge})}function qe(We){return Te(We,function(Ge){return te.test(Ge)?"xn--"+Tt(Ge):Ge})}if(m={version:"1.4.1",ucs2:{decode:Ce,encode:ve},decode:lt,encode:Tt,toASCII:qe,toUnicode:Be},l&&c)if(n.exports==l)c.exports=m;else for(re in m)m.hasOwnProperty(re)&&(l[re]=m[re]);else i.punycode=m})(ih)})(nU,nU.exports);var iit=nU.exports,ait=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},i=Symbol("test"),l=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var c=42;o[i]=c;for(i in o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var d=Object.getOwnPropertySymbols(o);if(d.length!==1||d[0]!==i||!Object.prototype.propertyIsEnumerable.call(o,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(o,i);if(m.value!==c||m.enumerable!==!0)return!1}return!0},a0e=typeof Symbol<"u"&&Symbol,oit=ait,sit=function(){return typeof a0e!="function"||typeof Symbol!="function"||typeof a0e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:oit()},o0e={foo:{}},lit=Object,uit=function(){return{__proto__:o0e}.foo===o0e.foo&&!({__proto__:null}instanceof lit)},cit="Function.prototype.bind called on incompatible ",cZ=Array.prototype.slice,hit=Object.prototype.toString,fit="[object Function]",dit=function(o){var i=this;if(typeof i!="function"||hit.call(i)!==fit)throw new TypeError(cit+i);for(var l=cZ.call(arguments,1),c,d=function(){if(this instanceof c){var I=i.apply(this,l.concat(cZ.call(arguments)));return Object(I)===I?I:this}else return i.apply(o,l.concat(cZ.call(arguments)))},m=Math.max(0,i.length-l.length),b=[],w=0;w<m;w++)b.push("$"+w);if(c=Function("binder","return function ("+b.join(",")+"){ return binder.apply(this,arguments); }")(d),i.prototype){var A=function(){};A.prototype=i.prototype,c.prototype=new A,A.prototype=null}return c},pit=dit,pee=Function.prototype.bind||pit,mit=pee,git=mit.call(Function.call,Object.prototype.hasOwnProperty),gi,Jx=SyntaxError,nEe=Function,$x=TypeError,hZ=function(n){try{return nEe('"use strict"; return ('+n+").constructor;")()}catch{}},XT=Object.getOwnPropertyDescriptor;if(XT)try{XT({},"")}catch{XT=null}var fZ=function(){throw new $x},vit=XT?function(){try{return arguments.callee,fZ}catch{try{return XT(arguments,"callee").get}catch{return fZ}}}():fZ,Sx=sit(),yit=uit(),Os=Object.getPrototypeOf||(yit?function(n){return n.__proto__}:null),Lx={},bit=typeof Uint8Array>"u"||!Os?gi:Os(Uint8Array),YT={"%AggregateError%":typeof AggregateError>"u"?gi:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?gi:ArrayBuffer,"%ArrayIteratorPrototype%":Sx&&Os?Os([][Symbol.iterator]()):gi,"%AsyncFromSyncIteratorPrototype%":gi,"%AsyncFunction%":Lx,"%AsyncGenerator%":Lx,"%AsyncGeneratorFunction%":Lx,"%AsyncIteratorPrototype%":Lx,"%Atomics%":typeof Atomics>"u"?gi:Atomics,"%BigInt%":typeof BigInt>"u"?gi:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?gi:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?gi:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?gi:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?gi:Float32Array,"%Float64Array%":typeof Float64Array>"u"?gi:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?gi:FinalizationRegistry,"%Function%":nEe,"%GeneratorFunction%":Lx,"%Int8Array%":typeof Int8Array>"u"?gi:Int8Array,"%Int16Array%":typeof Int16Array>"u"?gi:Int16Array,"%Int32Array%":typeof Int32Array>"u"?gi:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Sx&&Os?Os(Os([][Symbol.iterator]())):gi,"%JSON%":typeof JSON=="object"?JSON:gi,"%Map%":typeof Map>"u"?gi:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Sx||!Os?gi:Os(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?gi:Promise,"%Proxy%":typeof Proxy>"u"?gi:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?gi:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?gi:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Sx||!Os?gi:Os(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?gi:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Sx&&Os?Os(""[Symbol.iterator]()):gi,"%Symbol%":Sx?Symbol:gi,"%SyntaxError%":Jx,"%ThrowTypeError%":vit,"%TypedArray%":bit,"%TypeError%":$x,"%Uint8Array%":typeof Uint8Array>"u"?gi:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?gi:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?gi:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?gi:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?gi:WeakMap,"%WeakRef%":typeof WeakRef>"u"?gi:WeakRef,"%WeakSet%":typeof WeakSet>"u"?gi:WeakSet};if(Os)try{null.error}catch(n){var _it=Os(Os(n));YT["%Error.prototype%"]=_it}var Tit=function n(o){var i;if(o==="%AsyncFunction%")i=hZ("async function () {}");else if(o==="%GeneratorFunction%")i=hZ("function* () {}");else if(o==="%AsyncGeneratorFunction%")i=hZ("async function* () {}");else if(o==="%AsyncGenerator%"){var l=n("%AsyncGeneratorFunction%");l&&(i=l.prototype)}else if(o==="%AsyncIteratorPrototype%"){var c=n("%AsyncGenerator%");c&&Os&&(i=Os(c.prototype))}return YT[o]=i,i},s0e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},EM=pee,iU=git,Eit=EM.call(Function.call,Array.prototype.concat),Sit=EM.call(Function.apply,Array.prototype.splice),l0e=EM.call(Function.call,String.prototype.replace),aU=EM.call(Function.call,String.prototype.slice),Ait=EM.call(Function.call,RegExp.prototype.exec),wit=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Cit=/\\(\\)?/g,xit=function(o){var i=aU(o,0,1),l=aU(o,-1);if(i==="%"&&l!=="%")throw new Jx("invalid intrinsic syntax, expected closing `%`");if(l==="%"&&i!=="%")throw new Jx("invalid intrinsic syntax, expected opening `%`");var c=[];return l0e(o,wit,function(d,m,b,w){c[c.length]=b?l0e(w,Cit,"$1"):m||d}),c},Iit=function(o,i){var l=o,c;if(iU(s0e,l)&&(c=s0e[l],l="%"+c[0]+"%"),iU(YT,l)){var d=YT[l];if(d===Lx&&(d=Tit(l)),typeof d>"u"&&!i)throw new $x("intrinsic "+o+" exists, but is not available. Please file an issue!");return{alias:c,name:l,value:d}}throw new Jx("intrinsic "+o+" does not exist!")},mee=function(o,i){if(typeof o!="string"||o.length===0)throw new $x("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof i!="boolean")throw new $x('"allowMissing" argument must be a boolean');if(Ait(/^%?[^%]*%?$/,o)===null)throw new Jx("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var l=xit(o),c=l.length>0?l[0]:"",d=Iit("%"+c+"%",i),m=d.name,b=d.value,w=!1,A=d.alias;A&&(c=A[0],Sit(l,Eit([0,1],A)));for(var I=1,N=!0;I<l.length;I+=1){var R=l[I],D=aU(R,0,1),L=aU(R,-1);if((D==='"'||D==="'"||D==="`"||L==='"'||L==="'"||L==="`")&&D!==L)throw new Jx("property names with quotes must have matching quotes");if((R==="constructor"||!N)&&(w=!0),c+="."+R,m="%"+c+"%",iU(YT,m))b=YT[m];else if(b!=null){if(!(R in b)){if(!i)throw new $x("base intrinsic for "+o+" exists, but the property is not available.");return}if(XT&&I+1>=l.length){var z=XT(b,R);N=!!z,N&&"get"in z&&!("originalValue"in z.get)?b=z.get:b=b[R]}else N=iU(b,R),b=b[R];N&&!w&&(YT[m]=b)}}return b},iEe={exports:{}};(function(n){var o=pee,i=mee,l=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),d=i("%Reflect.apply%",!0)||o.call(c,l),m=i("%Object.getOwnPropertyDescriptor%",!0),b=i("%Object.defineProperty%",!0),w=i("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}n.exports=function(N){var R=d(o,c,arguments);if(m&&b){var D=m(R,"length");D.configurable&&b(R,"length",{value:1+w(0,N.length-(arguments.length-1))})}return R};var A=function(){return d(o,l,arguments)};b?b(n.exports,"apply",{value:A}):n.exports.apply=A})(iEe);var Dit=iEe.exports,aEe=mee,oEe=Dit,Oit=oEe(aEe("String.prototype.indexOf")),kit=function(o,i){var l=aEe(o,!!i);return typeof l=="function"&&Oit(o,".prototype.")>-1?oEe(l):l};const _2=new Proxy({},{get(n,o){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${o}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Rit=Object.freeze(Object.defineProperty({__proto__:null,default:_2},Symbol.toStringTag,{value:"Module"})),Pit=cee(Rit);var gee=typeof Map=="function"&&Map.prototype,dZ=Object.getOwnPropertyDescriptor&&gee?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oU=gee&&dZ&&typeof dZ.get=="function"?dZ.get:null,u0e=gee&&Map.prototype.forEach,vee=typeof Set=="function"&&Set.prototype,pZ=Object.getOwnPropertyDescriptor&&vee?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sU=vee&&pZ&&typeof pZ.get=="function"?pZ.get:null,c0e=vee&&Set.prototype.forEach,Nit=typeof WeakMap=="function"&&WeakMap.prototype,x2=Nit?WeakMap.prototype.has:null,Mit=typeof WeakSet=="function"&&WeakSet.prototype,I2=Mit?WeakSet.prototype.has:null,Lit=typeof WeakRef=="function"&&WeakRef.prototype,h0e=Lit?WeakRef.prototype.deref:null,Fit=Boolean.prototype.valueOf,Bit=Object.prototype.toString,Hit=Function.prototype.toString,Uit=String.prototype.match,yee=String.prototype.slice,hb=String.prototype.replace,Git=String.prototype.toUpperCase,f0e=String.prototype.toLowerCase,sEe=RegExp.prototype.test,d0e=Array.prototype.concat,vm=Array.prototype.join,$it=Array.prototype.slice,p0e=Math.floor,sQ=typeof BigInt=="function"?BigInt.prototype.valueOf:null,mZ=Object.getOwnPropertySymbols,lQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,eI=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Gl=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===eI||"symbol")?Symbol.toStringTag:null,lEe=Object.prototype.propertyIsEnumerable,m0e=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function g0e(n,o){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||sEe.call(/e/,o))return o;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var l=n<0?-p0e(-n):p0e(n);if(l!==n){var c=String(l),d=yee.call(o,c.length+1);return hb.call(c,i,"$&_")+"."+hb.call(hb.call(d,/([0-9]{3})/g,"$&_"),/_$/,"")}}return hb.call(o,i,"$&_")}var uQ=Pit,v0e=uQ.custom,y0e=cEe(v0e)?v0e:null,zit=function n(o,i,l,c){var d=i||{};if(sb(d,"quoteStyle")&&d.quoteStyle!=="single"&&d.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(sb(d,"maxStringLength")&&(typeof d.maxStringLength=="number"?d.maxStringLength<0&&d.maxStringLength!==1/0:d.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=sb(d,"customInspect")?d.customInspect:!0;if(typeof m!="boolean"&&m!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(sb(d,"indent")&&d.indent!==null&&d.indent!=="	"&&!(parseInt(d.indent,10)===d.indent&&d.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(sb(d,"numericSeparator")&&typeof d.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=d.numericSeparator;if(typeof o>"u")return"undefined";if(o===null)return"null";if(typeof o=="boolean")return o?"true":"false";if(typeof o=="string")return fEe(o,d);if(typeof o=="number"){if(o===0)return 1/0/o>0?"0":"-0";var w=String(o);return b?g0e(o,w):w}if(typeof o=="bigint"){var A=String(o)+"n";return b?g0e(o,A):A}var I=typeof d.depth>"u"?5:d.depth;if(typeof l>"u"&&(l=0),l>=I&&I>0&&typeof o=="object")return cQ(o)?"[Array]":"[Object]";var N=sat(d,l);if(typeof c>"u")c=[];else if(hEe(c,o)>=0)return"[Circular]";function R(Ke,ot,$){if(ot&&(c=$it.call(c),c.push(ot)),$){var lt={depth:d.depth};return sb(d,"quoteStyle")&&(lt.quoteStyle=d.quoteStyle),n(Ke,lt,l+1,c)}return n(Ke,d,l+1,c)}if(typeof o=="function"&&!b0e(o)){var D=Qit(o),L=L8(o,R);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(L.length>0?" { "+vm.call(L,", ")+" }":"")}if(cEe(o)){var z=eI?hb.call(String(o),/^(Symbol\(.*\))_[^)]*$/,"$1"):lQ.call(o);return typeof o=="object"&&!eI?a2(z):z}if(iat(o)){for(var V="<"+f0e.call(String(o.nodeName)),te=o.attributes||[],fe=0;fe<te.length;fe++)V+=" "+te[fe].name+"="+uEe(Vit(te[fe].value),"double",d);return V+=">",o.childNodes&&o.childNodes.length&&(V+="..."),V+="</"+f0e.call(String(o.nodeName))+">",V}if(cQ(o)){if(o.length===0)return"[]";var Y=L8(o,R);return N&&!oat(Y)?"["+hQ(Y,N)+"]":"[ "+vm.call(Y,", ")+" ]"}if(Wit(o)){var q=L8(o,R);return!("cause"in Error.prototype)&&"cause"in o&&!lEe.call(o,"cause")?"{ ["+String(o)+"] "+vm.call(d0e.call("[cause]: "+R(o.cause),q),", ")+" }":q.length===0?"["+String(o)+"]":"{ ["+String(o)+"] "+vm.call(q,", ")+" }"}if(typeof o=="object"&&m){if(y0e&&typeof o[y0e]=="function"&&uQ)return uQ(o,{depth:I-l});if(m!=="symbol"&&typeof o.inspect=="function")return o.inspect()}if(Jit(o)){var K=[];return u0e&&u0e.call(o,function(Ke,ot){K.push(R(ot,o,!0)+" => "+R(Ke,o))}),_0e("Map",oU.call(o),K,N)}if(rat(o)){var ce=[];return c0e&&c0e.call(o,function(Ke){ce.push(R(Ke,o))}),_0e("Set",sU.call(o),ce,N)}if(eat(o))return gZ("WeakMap");if(nat(o))return gZ("WeakSet");if(tat(o))return gZ("WeakRef");if(Yit(o))return a2(R(Number(o)));if(Zit(o))return a2(R(sQ.call(o)));if(qit(o))return a2(Fit.call(o));if(Xit(o))return a2(R(String(o)));if(!jit(o)&&!b0e(o)){var re=L8(o,R),ge=m0e?m0e(o)===Object.prototype:o instanceof Object||o.constructor===Object,F=o instanceof Object?"":"null prototype",Te=!ge&&Gl&&Object(o)===o&&Gl in o?yee.call(Ab(o),8,-1):F?"Object":"",Ce=ge||typeof o.constructor!="function"?"":o.constructor.name?o.constructor.name+" ":"",ve=Ce+(Te||F?"["+vm.call(d0e.call([],Te||[],F||[]),": ")+"] ":"");return re.length===0?ve+"{}":N?ve+"{"+hQ(re,N)+"}":ve+"{ "+vm.call(re,", ")+" }"}return String(o)};function uEe(n,o,i){var l=(i.quoteStyle||o)==="double"?'"':"'";return l+n+l}function Vit(n){return hb.call(String(n),/"/g,"&quot;")}function cQ(n){return Ab(n)==="[object Array]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function jit(n){return Ab(n)==="[object Date]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function b0e(n){return Ab(n)==="[object RegExp]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function Wit(n){return Ab(n)==="[object Error]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function Xit(n){return Ab(n)==="[object String]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function Yit(n){return Ab(n)==="[object Number]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function qit(n){return Ab(n)==="[object Boolean]"&&(!Gl||!(typeof n=="object"&&Gl in n))}function cEe(n){if(eI)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!lQ)return!1;try{return lQ.call(n),!0}catch{}return!1}function Zit(n){if(!n||typeof n!="object"||!sQ)return!1;try{return sQ.call(n),!0}catch{}return!1}var Kit=Object.prototype.hasOwnProperty||function(n){return n in this};function sb(n,o){return Kit.call(n,o)}function Ab(n){return Bit.call(n)}function Qit(n){if(n.name)return n.name;var o=Uit.call(Hit.call(n),/^function\s*([\w$]+)/);return o?o[1]:null}function hEe(n,o){if(n.indexOf)return n.indexOf(o);for(var i=0,l=n.length;i<l;i++)if(n[i]===o)return i;return-1}function Jit(n){if(!oU||!n||typeof n!="object")return!1;try{oU.call(n);try{sU.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function eat(n){if(!x2||!n||typeof n!="object")return!1;try{x2.call(n,x2);try{I2.call(n,I2)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function tat(n){if(!h0e||!n||typeof n!="object")return!1;try{return h0e.call(n),!0}catch{}return!1}function rat(n){if(!sU||!n||typeof n!="object")return!1;try{sU.call(n);try{oU.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function nat(n){if(!I2||!n||typeof n!="object")return!1;try{I2.call(n,I2);try{x2.call(n,x2)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function iat(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function fEe(n,o){if(n.length>o.maxStringLength){var i=n.length-o.maxStringLength,l="... "+i+" more character"+(i>1?"s":"");return fEe(yee.call(n,0,o.maxStringLength),o)+l}var c=hb.call(hb.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,aat);return uEe(c,"single",o)}function aat(n){var o=n.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[o];return i?"\\"+i:"\\x"+(o<16?"0":"")+Git.call(o.toString(16))}function a2(n){return"Object("+n+")"}function gZ(n){return n+" { ? }"}function _0e(n,o,i,l){var c=l?hQ(i,l):vm.call(i,", ");return n+" ("+o+") {"+c+"}"}function oat(n){for(var o=0;o<n.length;o++)if(hEe(n[o],`
`)>=0)return!1;return!0}function sat(n,o){var i;if(n.indent==="	")i="	";else if(typeof n.indent=="number"&&n.indent>0)i=vm.call(Array(n.indent+1)," ");else return null;return{base:i,prev:vm.call(Array(o+1),i)}}function hQ(n,o){if(n.length===0)return"";var i=`
`+o.prev+o.base;return i+vm.call(n,","+i)+`
`+o.prev}function L8(n,o){var i=cQ(n),l=[];if(i){l.length=n.length;for(var c=0;c<n.length;c++)l[c]=sb(n,c)?o(n[c],n):""}var d=typeof mZ=="function"?mZ(n):[],m;if(eI){m={};for(var b=0;b<d.length;b++)m["$"+d[b]]=d[b]}for(var w in n)sb(n,w)&&(i&&String(Number(w))===w&&w<n.length||eI&&m["$"+w]instanceof Symbol||(sEe.call(/[^\w$]/,w)?l.push(o(w,n)+": "+o(n[w],n)):l.push(w+": "+o(n[w],n))));if(typeof mZ=="function")for(var A=0;A<d.length;A++)lEe.call(n,d[A])&&l.push("["+o(d[A])+"]: "+o(n[d[A]],n));return l}var bee=mee,SI=kit,lat=zit,uat=bee("%TypeError%"),F8=bee("%WeakMap%",!0),B8=bee("%Map%",!0),cat=SI("WeakMap.prototype.get",!0),hat=SI("WeakMap.prototype.set",!0),fat=SI("WeakMap.prototype.has",!0),dat=SI("Map.prototype.get",!0),pat=SI("Map.prototype.set",!0),mat=SI("Map.prototype.has",!0),_ee=function(n,o){for(var i=n,l;(l=i.next)!==null;i=l)if(l.key===o)return i.next=l.next,l.next=n.next,n.next=l,l},gat=function(n,o){var i=_ee(n,o);return i&&i.value},vat=function(n,o,i){var l=_ee(n,o);l?l.value=i:n.next={key:o,next:n.next,value:i}},yat=function(n,o){return!!_ee(n,o)},bat=function(){var o,i,l,c={assert:function(d){if(!c.has(d))throw new uat("Side channel does not contain "+lat(d))},get:function(d){if(F8&&d&&(typeof d=="object"||typeof d=="function")){if(o)return cat(o,d)}else if(B8){if(i)return dat(i,d)}else if(l)return gat(l,d)},has:function(d){if(F8&&d&&(typeof d=="object"||typeof d=="function")){if(o)return fat(o,d)}else if(B8){if(i)return mat(i,d)}else if(l)return yat(l,d);return!1},set:function(d,m){F8&&d&&(typeof d=="object"||typeof d=="function")?(o||(o=new F8),hat(o,d,m)):B8?(i||(i=new B8),pat(i,d,m)):(l||(l={key:{},next:null}),vat(l,d,m))}};return c},_at=String.prototype.replace,Tat=/%20/g,vZ={RFC1738:"RFC1738",RFC3986:"RFC3986"},Tee={default:vZ.RFC3986,formatters:{RFC1738:function(n){return _at.call(n,Tat,"+")},RFC3986:function(n){return String(n)}},RFC1738:vZ.RFC1738,RFC3986:vZ.RFC3986},Eat=Tee,yZ=Object.prototype.hasOwnProperty,NT=Array.isArray,dm=function(){for(var n=[],o=0;o<256;++o)n.push("%"+((o<16?"0":"")+o.toString(16)).toUpperCase());return n}(),Sat=function(o){for(;o.length>1;){var i=o.pop(),l=i.obj[i.prop];if(NT(l)){for(var c=[],d=0;d<l.length;++d)typeof l[d]<"u"&&c.push(l[d]);i.obj[i.prop]=c}}},dEe=function(o,i){for(var l=i&&i.plainObjects?Object.create(null):{},c=0;c<o.length;++c)typeof o[c]<"u"&&(l[c]=o[c]);return l},Aat=function n(o,i,l){if(!i)return o;if(typeof i!="object"){if(NT(o))o.push(i);else if(o&&typeof o=="object")(l&&(l.plainObjects||l.allowPrototypes)||!yZ.call(Object.prototype,i))&&(o[i]=!0);else return[o,i];return o}if(!o||typeof o!="object")return[o].concat(i);var c=o;return NT(o)&&!NT(i)&&(c=dEe(o,l)),NT(o)&&NT(i)?(i.forEach(function(d,m){if(yZ.call(o,m)){var b=o[m];b&&typeof b=="object"&&d&&typeof d=="object"?o[m]=n(b,d,l):o.push(d)}else o[m]=d}),o):Object.keys(i).reduce(function(d,m){var b=i[m];return yZ.call(d,m)?d[m]=n(d[m],b,l):d[m]=b,d},c)},wat=function(o,i){return Object.keys(i).reduce(function(l,c){return l[c]=i[c],l},o)},Cat=function(n,o,i){var l=n.replace(/\+/g," ");if(i==="iso-8859-1")return l.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(l)}catch{return l}},xat=function(o,i,l,c,d){if(o.length===0)return o;var m=o;if(typeof o=="symbol"?m=Symbol.prototype.toString.call(o):typeof o!="string"&&(m=String(o)),l==="iso-8859-1")return escape(m).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var b="",w=0;w<m.length;++w){var A=m.charCodeAt(w);if(A===45||A===46||A===95||A===126||A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122||d===Eat.RFC1738&&(A===40||A===41)){b+=m.charAt(w);continue}if(A<128){b=b+dm[A];continue}if(A<2048){b=b+(dm[192|A>>6]+dm[128|A&63]);continue}if(A<55296||A>=57344){b=b+(dm[224|A>>12]+dm[128|A>>6&63]+dm[128|A&63]);continue}w+=1,A=65536+((A&1023)<<10|m.charCodeAt(w)&1023),b+=dm[240|A>>18]+dm[128|A>>12&63]+dm[128|A>>6&63]+dm[128|A&63]}return b},Iat=function(o){for(var i=[{obj:{o},prop:"o"}],l=[],c=0;c<i.length;++c)for(var d=i[c],m=d.obj[d.prop],b=Object.keys(m),w=0;w<b.length;++w){var A=b[w],I=m[A];typeof I=="object"&&I!==null&&l.indexOf(I)===-1&&(i.push({obj:m,prop:A}),l.push(I))}return Sat(i),o},Dat=function(o){return Object.prototype.toString.call(o)==="[object RegExp]"},Oat=function(o){return!o||typeof o!="object"?!1:!!(o.constructor&&o.constructor.isBuffer&&o.constructor.isBuffer(o))},kat=function(o,i){return[].concat(o,i)},Rat=function(o,i){if(NT(o)){for(var l=[],c=0;c<o.length;c+=1)l.push(i(o[c]));return l}return i(o)},pEe={arrayToObject:dEe,assign:wat,combine:kat,compact:Iat,decode:Cat,encode:xat,isBuffer:Oat,isRegExp:Dat,maybeMap:Rat,merge:Aat},mEe=bat,kH=pEe,D2=Tee,Pat=Object.prototype.hasOwnProperty,T0e={brackets:function(o){return o+"[]"},comma:"comma",indices:function(o,i){return o+"["+i+"]"},repeat:function(o){return o}},Sv=Array.isArray,Nat=Array.prototype.push,gEe=function(n,o){Nat.apply(n,Sv(o)?o:[o])},Mat=Date.prototype.toISOString,E0e=D2.default,Ul={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:kH.encode,encodeValuesOnly:!1,format:E0e,formatter:D2.formatters[E0e],indices:!1,serializeDate:function(o){return Mat.call(o)},skipNulls:!1,strictNullHandling:!1},Lat=function(o){return typeof o=="string"||typeof o=="number"||typeof o=="boolean"||typeof o=="symbol"||typeof o=="bigint"},bZ={},Fat=function n(o,i,l,c,d,m,b,w,A,I,N,R,D,L,z,V){for(var te=o,fe=V,Y=0,q=!1;(fe=fe.get(bZ))!==void 0&&!q;){var K=fe.get(o);if(Y+=1,typeof K<"u"){if(K===Y)throw new RangeError("Cyclic object value");q=!0}typeof fe.get(bZ)>"u"&&(Y=0)}if(typeof w=="function"?te=w(i,te):te instanceof Date?te=N(te):l==="comma"&&Sv(te)&&(te=kH.maybeMap(te,function(lt){return lt instanceof Date?N(lt):lt})),te===null){if(d)return b&&!L?b(i,Ul.encoder,z,"key",R):i;te=""}if(Lat(te)||kH.isBuffer(te)){if(b){var ce=L?i:b(i,Ul.encoder,z,"key",R);return[D(ce)+"="+D(b(te,Ul.encoder,z,"value",R))]}return[D(i)+"="+D(String(te))]}var re=[];if(typeof te>"u")return re;var ge;if(l==="comma"&&Sv(te))L&&b&&(te=kH.maybeMap(te,b)),ge=[{value:te.length>0?te.join(",")||null:void 0}];else if(Sv(w))ge=w;else{var F=Object.keys(te);ge=A?F.sort(A):F}for(var Te=c&&Sv(te)&&te.length===1?i+"[]":i,Ce=0;Ce<ge.length;++Ce){var ve=ge[Ce],Ke=typeof ve=="object"&&typeof ve.value<"u"?ve.value:te[ve];if(!(m&&Ke===null)){var ot=Sv(te)?typeof l=="function"?l(Te,ve):Te:Te+(I?"."+ve:"["+ve+"]");V.set(o,Y);var $=mEe();$.set(bZ,V),gEe(re,n(Ke,ot,l,c,d,m,l==="comma"&&L&&Sv(te)?null:b,w,A,I,N,R,D,L,z,$))}}return re},Bat=function(o){if(!o)return Ul;if(o.encoder!==null&&typeof o.encoder<"u"&&typeof o.encoder!="function")throw new TypeError("Encoder has to be a function.");var i=o.charset||Ul.charset;if(typeof o.charset<"u"&&o.charset!=="utf-8"&&o.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=D2.default;if(typeof o.format<"u"){if(!Pat.call(D2.formatters,o.format))throw new TypeError("Unknown format option provided.");l=o.format}var c=D2.formatters[l],d=Ul.filter;return(typeof o.filter=="function"||Sv(o.filter))&&(d=o.filter),{addQueryPrefix:typeof o.addQueryPrefix=="boolean"?o.addQueryPrefix:Ul.addQueryPrefix,allowDots:typeof o.allowDots>"u"?Ul.allowDots:!!o.allowDots,charset:i,charsetSentinel:typeof o.charsetSentinel=="boolean"?o.charsetSentinel:Ul.charsetSentinel,delimiter:typeof o.delimiter>"u"?Ul.delimiter:o.delimiter,encode:typeof o.encode=="boolean"?o.encode:Ul.encode,encoder:typeof o.encoder=="function"?o.encoder:Ul.encoder,encodeValuesOnly:typeof o.encodeValuesOnly=="boolean"?o.encodeValuesOnly:Ul.encodeValuesOnly,filter:d,format:l,formatter:c,serializeDate:typeof o.serializeDate=="function"?o.serializeDate:Ul.serializeDate,skipNulls:typeof o.skipNulls=="boolean"?o.skipNulls:Ul.skipNulls,sort:typeof o.sort=="function"?o.sort:null,strictNullHandling:typeof o.strictNullHandling=="boolean"?o.strictNullHandling:Ul.strictNullHandling}},Hat=function(n,o){var i=n,l=Bat(o),c,d;typeof l.filter=="function"?(d=l.filter,i=d("",i)):Sv(l.filter)&&(d=l.filter,c=d);var m=[];if(typeof i!="object"||i===null)return"";var b;o&&o.arrayFormat in T0e?b=o.arrayFormat:o&&"indices"in o?b=o.indices?"indices":"repeat":b="indices";var w=T0e[b];if(o&&"commaRoundTrip"in o&&typeof o.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=w==="comma"&&o&&o.commaRoundTrip;c||(c=Object.keys(i)),l.sort&&c.sort(l.sort);for(var I=mEe(),N=0;N<c.length;++N){var R=c[N];l.skipNulls&&i[R]===null||gEe(m,Fat(i[R],R,w,A,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,I))}var D=m.join(l.delimiter),L=l.addQueryPrefix===!0?"?":"";return l.charsetSentinel&&(l.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),D.length>0?L+D:""},tI=pEe,fQ=Object.prototype.hasOwnProperty,Uat=Array.isArray,Ds={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:tI.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Gat=function(n){return n.replace(/&#(\d+);/g,function(o,i){return String.fromCharCode(parseInt(i,10))})},vEe=function(n,o){return n&&typeof n=="string"&&o.comma&&n.indexOf(",")>-1?n.split(","):n},$at="utf8=%26%2310003%3B",zat="utf8=%E2%9C%93",Vat=function(o,i){var l={__proto__:null},c=i.ignoreQueryPrefix?o.replace(/^\?/,""):o,d=i.parameterLimit===1/0?void 0:i.parameterLimit,m=c.split(i.delimiter,d),b=-1,w,A=i.charset;if(i.charsetSentinel)for(w=0;w<m.length;++w)m[w].indexOf("utf8=")===0&&(m[w]===zat?A="utf-8":m[w]===$at&&(A="iso-8859-1"),b=w,w=m.length);for(w=0;w<m.length;++w)if(w!==b){var I=m[w],N=I.indexOf("]="),R=N===-1?I.indexOf("="):N+1,D,L;R===-1?(D=i.decoder(I,Ds.decoder,A,"key"),L=i.strictNullHandling?null:""):(D=i.decoder(I.slice(0,R),Ds.decoder,A,"key"),L=tI.maybeMap(vEe(I.slice(R+1),i),function(z){return i.decoder(z,Ds.decoder,A,"value")})),L&&i.interpretNumericEntities&&A==="iso-8859-1"&&(L=Gat(L)),I.indexOf("[]=")>-1&&(L=Uat(L)?[L]:L),fQ.call(l,D)?l[D]=tI.combine(l[D],L):l[D]=L}return l},jat=function(n,o,i,l){for(var c=l?o:vEe(o,i),d=n.length-1;d>=0;--d){var m,b=n[d];if(b==="[]"&&i.parseArrays)m=[].concat(c);else{m=i.plainObjects?Object.create(null):{};var w=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,A=parseInt(w,10);!i.parseArrays&&w===""?m={0:c}:!isNaN(A)&&b!==w&&String(A)===w&&A>=0&&i.parseArrays&&A<=i.arrayLimit?(m=[],m[A]=c):w!=="__proto__"&&(m[w]=c)}c=m}return c},Wat=function(o,i,l,c){if(o){var d=l.allowDots?o.replace(/\.([^.[]+)/g,"[$1]"):o,m=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,w=l.depth>0&&m.exec(d),A=w?d.slice(0,w.index):d,I=[];if(A){if(!l.plainObjects&&fQ.call(Object.prototype,A)&&!l.allowPrototypes)return;I.push(A)}for(var N=0;l.depth>0&&(w=b.exec(d))!==null&&N<l.depth;){if(N+=1,!l.plainObjects&&fQ.call(Object.prototype,w[1].slice(1,-1))&&!l.allowPrototypes)return;I.push(w[1])}return w&&I.push("["+d.slice(w.index)+"]"),jat(I,i,l,c)}},Xat=function(o){if(!o)return Ds;if(o.decoder!==null&&o.decoder!==void 0&&typeof o.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof o.charset<"u"&&o.charset!=="utf-8"&&o.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof o.charset>"u"?Ds.charset:o.charset;return{allowDots:typeof o.allowDots>"u"?Ds.allowDots:!!o.allowDots,allowPrototypes:typeof o.allowPrototypes=="boolean"?o.allowPrototypes:Ds.allowPrototypes,allowSparse:typeof o.allowSparse=="boolean"?o.allowSparse:Ds.allowSparse,arrayLimit:typeof o.arrayLimit=="number"?o.arrayLimit:Ds.arrayLimit,charset:i,charsetSentinel:typeof o.charsetSentinel=="boolean"?o.charsetSentinel:Ds.charsetSentinel,comma:typeof o.comma=="boolean"?o.comma:Ds.comma,decoder:typeof o.decoder=="function"?o.decoder:Ds.decoder,delimiter:typeof o.delimiter=="string"||tI.isRegExp(o.delimiter)?o.delimiter:Ds.delimiter,depth:typeof o.depth=="number"||o.depth===!1?+o.depth:Ds.depth,ignoreQueryPrefix:o.ignoreQueryPrefix===!0,interpretNumericEntities:typeof o.interpretNumericEntities=="boolean"?o.interpretNumericEntities:Ds.interpretNumericEntities,parameterLimit:typeof o.parameterLimit=="number"?o.parameterLimit:Ds.parameterLimit,parseArrays:o.parseArrays!==!1,plainObjects:typeof o.plainObjects=="boolean"?o.plainObjects:Ds.plainObjects,strictNullHandling:typeof o.strictNullHandling=="boolean"?o.strictNullHandling:Ds.strictNullHandling}},Yat=function(n,o){var i=Xat(o);if(n===""||n===null||typeof n>"u")return i.plainObjects?Object.create(null):{};for(var l=typeof n=="string"?Vat(n,i):n,c=i.plainObjects?Object.create(null):{},d=Object.keys(l),m=0;m<d.length;++m){var b=d[m],w=Wat(b,l[b],i,typeof n=="string");c=tI.merge(c,w,i)}return i.allowSparse===!0?c:tI.compact(c)},qat=Hat,Zat=Yat,Kat=Tee,Qat={formats:Kat,parse:Zat,stringify:qat},Jat=iit;function pf(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var eot=/^([a-z0-9.+-]+:)/i,tot=/:[0-9]*$/,rot=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,not=["<",">",'"',"`"," ","\r",`
`,"	"],iot=["{","}","|","\\","^","`"].concat(not),dQ=["'"].concat(iot),S0e=["%","/","?",";","#"].concat(dQ),A0e=["/","?","#"],aot=255,w0e=/^[+a-z0-9A-Z_-]{0,63}$/,oot=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,sot={javascript:!0,"javascript:":!0},pQ={javascript:!0,"javascript:":!0},zx={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},mQ=Qat;function SM(n,o,i){if(n&&typeof n=="object"&&n instanceof pf)return n;var l=new pf;return l.parse(n,o,i),l}pf.prototype.parse=function(n,o,i){if(typeof n!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var l=n.indexOf("?"),c=l!==-1&&l<n.indexOf("#")?"?":"#",d=n.split(c),m=/\\/g;d[0]=d[0].replace(m,"/"),n=d.join(c);var b=n;if(b=b.trim(),!i&&n.split("#").length===1){var w=rot.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],o?this.query=mQ.parse(this.search.substr(1)):this.query=this.search.substr(1)):o&&(this.search="",this.query={}),this}var A=eot.exec(b);if(A){A=A[0];var I=A.toLowerCase();this.protocol=I,b=b.substr(A.length)}if(i||A||b.match(/^\/\/[^@/]+@[^@/]+/)){var N=b.substr(0,2)==="//";N&&!(A&&pQ[A])&&(b=b.substr(2),this.slashes=!0)}if(!pQ[A]&&(N||A&&!zx[A])){for(var R=-1,D=0;D<A0e.length;D++){var L=b.indexOf(A0e[D]);L!==-1&&(R===-1||L<R)&&(R=L)}var z,V;R===-1?V=b.lastIndexOf("@"):V=b.lastIndexOf("@",R),V!==-1&&(z=b.slice(0,V),b=b.slice(V+1),this.auth=decodeURIComponent(z)),R=-1;for(var D=0;D<S0e.length;D++){var L=b.indexOf(S0e[D]);L!==-1&&(R===-1||L<R)&&(R=L)}R===-1&&(R=b.length),this.host=b.slice(0,R),b=b.slice(R),this.parseHost(),this.hostname=this.hostname||"";var te=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!te)for(var fe=this.hostname.split(/\./),D=0,Y=fe.length;D<Y;D++){var q=fe[D];if(q&&!q.match(w0e)){for(var K="",ce=0,re=q.length;ce<re;ce++)q.charCodeAt(ce)>127?K+="x":K+=q[ce];if(!K.match(w0e)){var ge=fe.slice(0,D),F=fe.slice(D+1),Te=q.match(oot);Te&&(ge.push(Te[1]),F.unshift(Te[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=ge.join(".");break}}}this.hostname.length>aot?this.hostname="":this.hostname=this.hostname.toLowerCase(),te||(this.hostname=Jat.toASCII(this.hostname));var Ce=this.port?":"+this.port:"",ve=this.hostname||"";this.host=ve+Ce,this.href+=this.host,te&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),b[0]!=="/"&&(b="/"+b))}if(!sot[I])for(var D=0,Y=dQ.length;D<Y;D++){var Ke=dQ[D];if(b.indexOf(Ke)!==-1){var ot=encodeURIComponent(Ke);ot===Ke&&(ot=escape(Ke)),b=b.split(Ke).join(ot)}}var $=b.indexOf("#");$!==-1&&(this.hash=b.substr($),b=b.slice(0,$));var lt=b.indexOf("?");if(lt!==-1?(this.search=b.substr(lt),this.query=b.substr(lt+1),o&&(this.query=mQ.parse(this.query)),b=b.slice(0,lt)):o&&(this.search="",this.query={}),b&&(this.pathname=b),zx[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ce=this.pathname||"",Tt=this.search||"";this.path=Ce+Tt}return this.href=this.format(),this};function lot(n){return typeof n=="string"&&(n=SM(n)),n instanceof pf?n.format():pf.prototype.format.call(n)}pf.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var o=this.protocol||"",i=this.pathname||"",l=this.hash||"",c=!1,d="";this.host?c=n+this.host:this.hostname&&(c=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(d=mQ.stringify(this.query));var m=this.search||d&&"?"+d||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||zx[o])&&c!==!1?(c="//"+(c||""),i&&i.charAt(0)!=="/"&&(i="/"+i)):c||(c=""),l&&l.charAt(0)!=="#"&&(l="#"+l),m&&m.charAt(0)!=="?"&&(m="?"+m),i=i.replace(/[?#]/g,function(b){return encodeURIComponent(b)}),m=m.replace("#","%23"),o+c+i+m+l};function uot(n,o){return SM(n,!1,!0).resolve(o)}pf.prototype.resolve=function(n){return this.resolveObject(SM(n,!1,!0)).format()};function cot(n,o){return n?SM(n,!1,!0).resolveObject(o):o}pf.prototype.resolveObject=function(n){if(typeof n=="string"){var o=new pf;o.parse(n,!1,!0),n=o}for(var i=new pf,l=Object.keys(this),c=0;c<l.length;c++){var d=l[c];i[d]=this[d]}if(i.hash=n.hash,n.href==="")return i.href=i.format(),i;if(n.slashes&&!n.protocol){for(var m=Object.keys(n),b=0;b<m.length;b++){var w=m[b];w!=="protocol"&&(i[w]=n[w])}return zx[i.protocol]&&i.hostname&&!i.pathname&&(i.pathname="/",i.path=i.pathname),i.href=i.format(),i}if(n.protocol&&n.protocol!==i.protocol){if(!zx[n.protocol]){for(var A=Object.keys(n),I=0;I<A.length;I++){var N=A[I];i[N]=n[N]}return i.href=i.format(),i}if(i.protocol=n.protocol,!n.host&&!pQ[n.protocol]){for(var Y=(n.pathname||"").split("/");Y.length&&!(n.host=Y.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),Y[0]!==""&&Y.unshift(""),Y.length<2&&Y.unshift(""),i.pathname=Y.join("/")}else i.pathname=n.pathname;if(i.search=n.search,i.query=n.query,i.host=n.host||"",i.auth=n.auth,i.hostname=n.hostname||n.host,i.port=n.port,i.pathname||i.search){var R=i.pathname||"",D=i.search||"";i.path=R+D}return i.slashes=i.slashes||n.slashes,i.href=i.format(),i}var L=i.pathname&&i.pathname.charAt(0)==="/",z=n.host||n.pathname&&n.pathname.charAt(0)==="/",V=z||L||i.host&&n.pathname,te=V,fe=i.pathname&&i.pathname.split("/")||[],Y=n.pathname&&n.pathname.split("/")||[],q=i.protocol&&!zx[i.protocol];if(q&&(i.hostname="",i.port=null,i.host&&(fe[0]===""?fe[0]=i.host:fe.unshift(i.host)),i.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(Y[0]===""?Y[0]=n.host:Y.unshift(n.host)),n.host=null),V=V&&(Y[0]===""||fe[0]==="")),z)i.host=n.host||n.host===""?n.host:i.host,i.hostname=n.hostname||n.hostname===""?n.hostname:i.hostname,i.search=n.search,i.query=n.query,fe=Y;else if(Y.length)fe||(fe=[]),fe.pop(),fe=fe.concat(Y),i.search=n.search,i.query=n.query;else if(n.search!=null){if(q){i.host=fe.shift(),i.hostname=i.host;var K=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;K&&(i.auth=K.shift(),i.hostname=K.shift(),i.host=i.hostname)}return i.search=n.search,i.query=n.query,(i.pathname!==null||i.search!==null)&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!fe.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var ce=fe.slice(-1)[0],re=(i.host||n.host||fe.length>1)&&(ce==="."||ce==="..")||ce==="",ge=0,F=fe.length;F>=0;F--)ce=fe[F],ce==="."?fe.splice(F,1):ce===".."?(fe.splice(F,1),ge++):ge&&(fe.splice(F,1),ge--);if(!V&&!te)for(;ge--;ge)fe.unshift("..");V&&fe[0]!==""&&(!fe[0]||fe[0].charAt(0)!=="/")&&fe.unshift(""),re&&fe.join("/").substr(-1)!=="/"&&fe.push("");var Te=fe[0]===""||fe[0]&&fe[0].charAt(0)==="/";if(q){i.hostname=Te?"":fe.length?fe.shift():"",i.host=i.hostname;var K=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;K&&(i.auth=K.shift(),i.hostname=K.shift(),i.host=i.hostname)}return V=V||i.host&&fe.length,V&&!Te&&fe.unshift(""),fe.length>0?i.pathname=fe.join("/"):(i.pathname=null,i.path=null),(i.pathname!==null||i.search!==null)&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=n.auth||i.auth,i.slashes=i.slashes||n.slashes,i.href=i.format(),i};pf.prototype.parseHost=function(){var n=this.host,o=tot.exec(n);o&&(o=o[0],o!==":"&&(this.port=o.substr(1)),n=n.substr(0,n.length-o.length)),n&&(this.hostname=n)};var hot=mE.parse=SM;mE.resolve=uot;mE.resolveObject=cot;mE.format=lot;mE.Url=pf;/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mm;(function(n){n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2"})(Mm||(Mm={}));var rI;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS"})(rI||(rI={}));var V2;(function(n){n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL"})(V2||(V2={}));var Sn;(function(n){n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR"})(Sn||(Sn={}));var lf;(function(n){n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(lf||(lf={}));var nI;(function(n){n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(nI||(nI={}));var vb;(function(n){n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(vb||(vb={}));var Zo;(function(n){n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.FLOAT=5126]="FLOAT",n[n.HALF_FLOAT=36193]="HALF_FLOAT"})(Zo||(Zo={}));var xm;(function(n){n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR"})(xm||(xm={}));var Pv;(function(n){n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Pv||(Pv={}));var iI;(function(n){n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON"})(iI||(iI={}));var Bv;(function(n){n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Bv||(Bv={}));var Ad;(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"})(Ad||(Ad={}));var lU;(function(n){n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL"})(lU||(lU={}));var xd;(function(n){n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp"})(xd||(xd={}));var uc;(function(n){n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE"})(uc||(uc={}));var JT;(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"})(JT||(JT={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.RETINA_PREFIX=/@([0-9\.]+)x/;cn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var gQ=!1,C0e="5.3.12";function fot(){gQ=!0}function yEe(n){var o;if(!gQ){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=[`
 %c %c %c PixiJS `+C0e+" -  "+n+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(o=window.console).log.apply(o,i)}else window.console&&window.console.log("PixiJS "+C0e+" - "+n+" - http://www.pixijs.com/");gQ=!0}}var _Z;function bEe(){return typeof _Z>"u"&&(_Z=function(){var o={stencil:!0,failIfMajorPerformanceCaveat:cn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var i=document.createElement("canvas"),l=i.getContext("webgl",o)||i.getContext("experimental-webgl",o),c=!!(l&&l.getContextAttributes().stencil);if(l){var d=l.getExtension("WEBGL_lose_context");d&&d.loseContext()}return l=null,c}catch{return!1}}()),_Z}function eE(n,o){return o===void 0&&(o=[]),o[0]=(n>>16&255)/255,o[1]=(n>>8&255)/255,o[2]=(n&255)/255,o}function Eee(n){var o=n.toString(16);return o="000000".substr(0,6-o.length)+o,"#"+o}function See(n){return typeof n=="string"&&n[0]==="#"&&(n=n.substr(1)),parseInt(n,16)}function dot(n){return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)}function pot(){for(var n=[],o=[],i=0;i<32;i++)n[i]=i,o[i]=i;n[Sn.NORMAL_NPM]=Sn.NORMAL,n[Sn.ADD_NPM]=Sn.ADD,n[Sn.SCREEN_NPM]=Sn.SCREEN,o[Sn.NORMAL]=Sn.NORMAL_NPM,o[Sn.ADD]=Sn.ADD_NPM,o[Sn.SCREEN]=Sn.SCREEN_NPM;var l=[];return l.push(o),l.push(n),l}var Aee=pot();function wee(n,o){return Aee[o?1:0][n]}function _Ee(n,o,i,l){return i=i||new Float32Array(4),l||l===void 0?(i[0]=n[0]*o,i[1]=n[1]*o,i[2]=n[2]*o):(i[0]=n[0],i[1]=n[1],i[2]=n[2]),i[3]=o,i}function e9(n,o){if(o===1)return(o*255<<24)+n;if(o===0)return 0;var i=n>>16&255,l=n>>8&255,c=n&255;return i=i*o+.5|0,l=l*o+.5|0,c=c*o+.5|0,(o*255<<24)+(i<<16)+(l<<8)+c}function Cee(n,o,i,l){return i=i||new Float32Array(4),i[0]=(n>>16&255)/255,i[1]=(n>>8&255)/255,i[2]=(n&255)/255,(l||l===void 0)&&(i[0]*=o,i[1]*=o,i[2]*=o),i[3]=o,i}function TEe(n,o){o===void 0&&(o=null);var i=n*6;if(o=o||new Uint16Array(i),o.length!==i)throw new Error("Out buffer length is incorrect, got "+o.length+" and expected "+i);for(var l=0,c=0;l<i;l+=6,c+=4)o[l+0]=c+0,o[l+1]=c+1,o[l+2]=c+2,o[l+3]=c+0,o[l+4]=c+2,o[l+5]=c+3;return o}function EEe(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}var mot={Float32Array,Uint32Array,Int32Array,Uint8Array};function got(n,o){for(var i=0,l=0,c={},d=0;d<n.length;d++)l+=o[d],i+=n[d].length;for(var m=new ArrayBuffer(i*4),b=null,w=0,d=0;d<n.length;d++){var A=o[d],I=n[d],N=EEe(I);c[N]||(c[N]=new mot[N](m)),b=c[N];for(var R=0;R<I.length;R++){var D=(R/A|0)*l+w,L=R%A;b[D+L]=I[R]}w+=A}return new Float32Array(m)}function j2(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function vQ(n){return!(n&n-1)&&!!n}function yQ(n){var o=(n>65535?1:0)<<4;n>>>=o;var i=(n>255?1:0)<<3;return n>>>=i,o|=i,i=(n>15?1:0)<<2,n>>>=i,o|=i,i=(n>3?1:0)<<1,n>>>=i,o|=i,o|n>>1}function qT(n,o,i){var l=n.length,c;if(!(o>=l||i===0)){i=o+i>l?l-o:i;var d=l-i;for(c=o;c<d;++c)n[c]=n[c+i];n.length=d}}function LT(n){return n===0?0:n<0?-1:1}var vot=0;function tE(){return++vot}var x0e={};function fr(n,o,i){if(i===void 0&&(i=3),!x0e[o]){var l=new Error().stack;typeof l>"u"?console.warn("PixiJS Deprecation Warning: ",o+`
Deprecated since v`+n):(l=l.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o+`
Deprecated since v`+n),console.warn(l),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",o+`
Deprecated since v`+n),console.warn(l))),x0e[o]=!0}}var bQ={},cc=Object.create(null),af=Object.create(null);function yot(){var n;for(n in cc)cc[n].destroy();for(n in af)af[n].destroy()}function bot(){var n;for(n in cc)delete cc[n];for(n in af)delete af[n]}var _Q=function(){function n(o,i,l){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=l||cn.RESOLUTION,this.resize(o,i)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(o,i){this.canvas.width=o*this.resolution,this.canvas.height=i*this.resolution},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(o){this.canvas.width=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(o){this.canvas.height=o},enumerable:!1,configurable:!0}),n}();function SEe(n){var o=n.width,i=n.height,l=n.getContext("2d"),c=l.getImageData(0,0,o,i),d=c.data,m=d.length,b={top:null,left:null,right:null,bottom:null},w=null,A,I,N;for(A=0;A<m;A+=4)d[A+3]!==0&&(I=A/4%o,N=~~(A/4/o),b.top===null&&(b.top=N),(b.left===null||I<b.left)&&(b.left=I),(b.right===null||b.right<I)&&(b.right=I+1),(b.bottom===null||b.bottom<N)&&(b.bottom=N));return b.top!==null&&(o=b.right-b.left,i=b.bottom-b.top+1,w=l.getImageData(b.left,b.top,o,i)),{height:i,width:o,data:w}}var AEe=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _ot(n){var o=AEe.exec(n);if(o)return{mediaType:o[1]?o[1].toLowerCase():void 0,subType:o[2]?o[2].toLowerCase():void 0,charset:o[3]?o[3].toLowerCase():void 0,encoding:o[4]?o[4].toLowerCase():void 0,data:o[5]}}var H8;function wEe(n,o){if(o===void 0&&(o=window.location),n.indexOf("data:")===0)return"";o=o||window.location,H8||(H8=document.createElement("a")),H8.href=n;var i=hot(H8.href),l=!i.port&&o.port===""||i.port===o.port;return i.hostname!==o.hostname||!l||i.protocol!==o.protocol?"anonymous":""}function W2(n,o){var i=cn.RETINA_PREFIX.exec(n);return i?parseFloat(i[1]):o!==void 0?o:1}const Tot=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:af,CanvasRenderTarget:_Q,DATA_URI:AEe,EventEmitter:EI,ProgramCache:bQ,TextureCache:cc,clearTextureCache:bot,correctBlendMode:wee,createIndicesForQuads:TEe,decomposeDataUri:_ot,deprecation:fr,destroyTextureCache:yot,determineCrossOrigin:wEe,earcut:dee,getBufferType:EEe,getResolutionOfUrl:W2,hex2rgb:eE,hex2string:Eee,interleaveTypedArrays:got,isMobile:sf,isPow2:vQ,isWebGLSupported:bEe,log2:yQ,nextPow2:j2,premultiplyBlendMode:Aee,premultiplyRgba:_Ee,premultiplyTint:e9,premultiplyTintToRgba:Cee,removeItems:qT,rgb2hex:dot,sayHello:yEe,sign:LT,skipHello:fot,string2hex:See,trimCanvas:SEe,uid:tE,url:mE},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aI=Math.PI*2,CEe=180/Math.PI,xEe=Math.PI/180,Ao;(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"})(Ao||(Ao={}));var Ki=function(){function n(o,i,l,c){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=0),this.x=Number(o),this.y=Number(i),this.width=Number(l),this.height=Number(c),this.type=Ao.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(o){return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this},n.prototype.copyTo=function(o){return o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o},n.prototype.contains=function(o,i){return this.width<=0||this.height<=0?!1:o>=this.x&&o<this.x+this.width&&i>=this.y&&i<this.y+this.height},n.prototype.pad=function(o,i){return o===void 0&&(o=0),i===void 0&&(i=o),this.x-=o,this.y-=i,this.width+=o*2,this.height+=i*2,this},n.prototype.fit=function(o){var i=Math.max(this.x,o.x),l=Math.min(this.x+this.width,o.x+o.width),c=Math.max(this.y,o.y),d=Math.min(this.y+this.height,o.y+o.height);return this.x=i,this.width=Math.max(l-i,0),this.y=c,this.height=Math.max(d-c,0),this},n.prototype.ceil=function(o,i){o===void 0&&(o=1),i===void 0&&(i=.001);var l=Math.ceil((this.x+this.width-i)*o)/o,c=Math.ceil((this.y+this.height-i)*o)/o;return this.x=Math.floor((this.x+i)*o)/o,this.y=Math.floor((this.y+i)*o)/o,this.width=l-this.x,this.height=c-this.y,this},n.prototype.enlarge=function(o){var i=Math.min(this.x,o.x),l=Math.max(this.x+this.width,o.x+o.width),c=Math.min(this.y,o.y),d=Math.max(this.y+this.height,o.y+o.height);return this.x=i,this.width=l-i,this.y=c,this.height=d-c,this},n}(),IEe=function(){function n(o,i,l){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),this.x=o,this.y=i,this.radius=l,this.type=Ao.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(o,i){if(this.radius<=0)return!1;var l=this.radius*this.radius,c=this.x-o,d=this.y-i;return c*=c,d*=d,c+d<=l},n.prototype.getBounds=function(){return new Ki(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},n}(),DEe=function(){function n(o,i,l,c){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=0),this.x=o,this.y=i,this.width=l,this.height=c,this.type=Ao.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(o,i){if(this.width<=0||this.height<=0)return!1;var l=(o-this.x)/this.width,c=(i-this.y)/this.height;return l*=l,c*=c,l+c<=1},n.prototype.getBounds=function(){return new Ki(this.x-this.width,this.y-this.height,this.width,this.height)},n}(),Vx=function(){function n(){for(var o=arguments,i=[],l=0;l<arguments.length;l++)i[l]=o[l];var c=Array.isArray(i[0])?i[0]:i;if(typeof c[0]!="number"){for(var d=[],m=0,b=c.length;m<b;m++)d.push(c[m].x,c[m].y);c=d}this.points=c,this.type=Ao.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var o=this.points.slice(),i=new n(o);return i.closeStroke=this.closeStroke,i},n.prototype.contains=function(o,i){for(var l=!1,c=this.points.length/2,d=0,m=c-1;d<c;m=d++){var b=this.points[d*2],w=this.points[d*2+1],A=this.points[m*2],I=this.points[m*2+1],N=w>i!=I>i&&o<(A-b)*((i-w)/(I-w))+b;N&&(l=!l)}return l},n}(),OEe=function(){function n(o,i,l,c,d){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=20),this.x=o,this.y=i,this.width=l,this.height=c,this.radius=d,this.type=Ao.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(o,i){if(this.width<=0||this.height<=0)return!1;if(o>=this.x&&o<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||o>=this.x+this.radius&&o<=this.x+this.width-this.radius)return!0;var l=o-(this.x+this.radius),c=i-(this.y+this.radius),d=this.radius*this.radius;if(l*l+c*c<=d||(l=o-(this.x+this.width-this.radius),l*l+c*c<=d)||(c=i-(this.y+this.height-this.radius),l*l+c*c<=d)||(l=o-(this.x+this.radius),l*l+c*c<=d))return!0}return!1},n}(),Ns=function(){function n(o,i){o===void 0&&(o=0),i===void 0&&(i=0),this.x=o,this.y=i}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(o){return this.set(o.x,o.y),this},n.prototype.copyTo=function(o){return o.set(this.x,this.y),o},n.prototype.equals=function(o){return o.x===this.x&&o.y===this.y},n.prototype.set=function(o,i){return o===void 0&&(o=0),i===void 0&&(i=o),this.x=o,this.y=i,this},n}(),FT=function(){function n(o,i,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this._x=l,this._y=c,this.cb=o,this.scope=i}return n.prototype.clone=function(o,i){return o===void 0&&(o=this.cb),i===void 0&&(i=this.scope),new n(o,i,this._x,this._y)},n.prototype.set=function(o,i){return o===void 0&&(o=0),i===void 0&&(i=o),(this._x!==o||this._y!==i)&&(this._x=o,this._y=i,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(o){return(this._x!==o.x||this._y!==o.y)&&(this._x=o.x,this._y=o.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(o){return o.set(this._x,this._y),o},n.prototype.equals=function(o){return o.x===this._x&&o.y===this._y},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(o){this._x!==o&&(this._x=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(o){this._y!==o&&(this._y=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),Ko=function(){function n(o,i,l,c,d,m){o===void 0&&(o=1),i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=1),d===void 0&&(d=0),m===void 0&&(m=0),this.array=null,this.a=o,this.b=i,this.c=l,this.d=c,this.tx=d,this.ty=m}return n.prototype.fromArray=function(o){this.a=o[0],this.b=o[1],this.c=o[3],this.d=o[4],this.tx=o[2],this.ty=o[5]},n.prototype.set=function(o,i,l,c,d,m){return this.a=o,this.b=i,this.c=l,this.d=c,this.tx=d,this.ty=m,this},n.prototype.toArray=function(o,i){this.array||(this.array=new Float32Array(9));var l=i||this.array;return o?(l[0]=this.a,l[1]=this.b,l[2]=0,l[3]=this.c,l[4]=this.d,l[5]=0,l[6]=this.tx,l[7]=this.ty,l[8]=1):(l[0]=this.a,l[1]=this.c,l[2]=this.tx,l[3]=this.b,l[4]=this.d,l[5]=this.ty,l[6]=0,l[7]=0,l[8]=1),l},n.prototype.apply=function(o,i){i=i||new Ns;var l=o.x,c=o.y;return i.x=this.a*l+this.c*c+this.tx,i.y=this.b*l+this.d*c+this.ty,i},n.prototype.applyInverse=function(o,i){i=i||new Ns;var l=1/(this.a*this.d+this.c*-this.b),c=o.x,d=o.y;return i.x=this.d*l*c+-this.c*l*d+(this.ty*this.c-this.tx*this.d)*l,i.y=this.a*l*d+-this.b*l*c+(-this.ty*this.a+this.tx*this.b)*l,i},n.prototype.translate=function(o,i){return this.tx+=o,this.ty+=i,this},n.prototype.scale=function(o,i){return this.a*=o,this.d*=i,this.c*=o,this.b*=i,this.tx*=o,this.ty*=i,this},n.prototype.rotate=function(o){var i=Math.cos(o),l=Math.sin(o),c=this.a,d=this.c,m=this.tx;return this.a=c*i-this.b*l,this.b=c*l+this.b*i,this.c=d*i-this.d*l,this.d=d*l+this.d*i,this.tx=m*i-this.ty*l,this.ty=m*l+this.ty*i,this},n.prototype.append=function(o){var i=this.a,l=this.b,c=this.c,d=this.d;return this.a=o.a*i+o.b*c,this.b=o.a*l+o.b*d,this.c=o.c*i+o.d*c,this.d=o.c*l+o.d*d,this.tx=o.tx*i+o.ty*c+this.tx,this.ty=o.tx*l+o.ty*d+this.ty,this},n.prototype.setTransform=function(o,i,l,c,d,m,b,w,A){return this.a=Math.cos(b+A)*d,this.b=Math.sin(b+A)*d,this.c=-Math.sin(b-w)*m,this.d=Math.cos(b-w)*m,this.tx=o-(l*this.a+c*this.c),this.ty=i-(l*this.b+c*this.d),this},n.prototype.prepend=function(o){var i=this.tx;if(o.a!==1||o.b!==0||o.c!==0||o.d!==1){var l=this.a,c=this.c;this.a=l*o.a+this.b*o.c,this.b=l*o.b+this.b*o.d,this.c=c*o.a+this.d*o.c,this.d=c*o.b+this.d*o.d}return this.tx=i*o.a+this.ty*o.c+o.tx,this.ty=i*o.b+this.ty*o.d+o.ty,this},n.prototype.decompose=function(o){var i=this.a,l=this.b,c=this.c,d=this.d,m=-Math.atan2(-c,d),b=Math.atan2(l,i),w=Math.abs(m+b);return w<1e-5||Math.abs(aI-w)<1e-5?(o.rotation=b,o.skew.x=o.skew.y=0):(o.rotation=0,o.skew.x=m,o.skew.y=b),o.scale.x=Math.sqrt(i*i+l*l),o.scale.y=Math.sqrt(c*c+d*d),o.position.x=this.tx,o.position.y=this.ty,o},n.prototype.invert=function(){var o=this.a,i=this.b,l=this.c,c=this.d,d=this.tx,m=o*c-i*l;return this.a=c/m,this.b=-i/m,this.c=-l/m,this.d=o/m,this.tx=(l*this.ty-c*d)/m,this.ty=-(o*this.ty-i*d)/m,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var o=new n;return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},n.prototype.copyTo=function(o){return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},n.prototype.copyFrom=function(o){return this.a=o.a,this.b=o.b,this.c=o.c,this.d=o.d,this.tx=o.tx,this.ty=o.ty,this},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),IT=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],DT=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],OT=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],kT=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],TQ=[],kEe=[],U8=Math.sign;function Eot(){for(var n=0;n<16;n++){var o=[];TQ.push(o);for(var i=0;i<16;i++)for(var l=U8(IT[n]*IT[i]+OT[n]*DT[i]),c=U8(DT[n]*IT[i]+kT[n]*DT[i]),d=U8(IT[n]*OT[i]+OT[n]*kT[i]),m=U8(DT[n]*OT[i]+kT[n]*kT[i]),b=0;b<16;b++)if(IT[b]===l&&DT[b]===c&&OT[b]===d&&kT[b]===m){o.push(b);break}}for(var n=0;n<16;n++){var w=new Ko;w.set(IT[n],DT[n],OT[n],kT[n],0,0),kEe.push(w)}}Eot();var no={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return IT[n]},uY:function(n){return DT[n]},vX:function(n){return OT[n]},vY:function(n){return kT[n]},inv:function(n){return n&8?n&15:-n&7},add:function(n,o){return TQ[n][o]},sub:function(n,o){return TQ[n][no.inv(o)]},rotate180:function(n){return n^4},isVertical:function(n){return(n&3)===2},byDirection:function(n,o){return Math.abs(n)*2<=Math.abs(o)?o>=0?no.S:no.N:Math.abs(o)*2<=Math.abs(n)?n>0?no.E:no.W:o>0?n>0?no.SE:no.SW:n>0?no.NE:no.NW},matrixAppendRotationInv:function(n,o,i,l){i===void 0&&(i=0),l===void 0&&(l=0);var c=kEe[no.inv(o)];c.tx=i,c.ty=l,n.append(c)}},xee=function(){function n(){this.worldTransform=new Ko,this.localTransform=new Ko,this.position=new FT(this.onChange,this,0,0),this.scale=new FT(this.onChange,this,1,1),this.pivot=new FT(this.onChange,this,0,0),this.skew=new FT(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.updateLocalTransform=function(){var o=this.localTransform;this._localID!==this._currentLocalID&&(o.a=this._cx*this.scale.x,o.b=this._sx*this.scale.x,o.c=this._cy*this.scale.y,o.d=this._sy*this.scale.y,o.tx=this.position.x-(this.pivot.x*o.a+this.pivot.y*o.c),o.ty=this.position.y-(this.pivot.x*o.b+this.pivot.y*o.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(o){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==o._worldID){var l=o.worldTransform,c=this.worldTransform;c.a=i.a*l.a+i.b*l.c,c.b=i.a*l.b+i.b*l.d,c.c=i.c*l.a+i.d*l.c,c.d=i.c*l.b+i.d*l.d,c.tx=i.tx*l.a+i.ty*l.c+l.tx,c.ty=i.tx*l.b+i.ty*l.d+l.ty,this._parentID=o._worldID,this._worldID++}},n.prototype.setFromMatrix=function(o){o.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(o){this._rotation!==o&&(this._rotation=o,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.SORTABLE_CHILDREN=!1;var X2=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(o){return this.minX>this.maxX||this.minY>this.maxY?Ki.EMPTY:(o=o||new Ki(0,0,1,1),o.x=this.minX,o.y=this.minY,o.width=this.maxX-this.minX,o.height=this.maxY-this.minY,o)},n.prototype.addPoint=function(o){this.minX=Math.min(this.minX,o.x),this.maxX=Math.max(this.maxX,o.x),this.minY=Math.min(this.minY,o.y),this.maxY=Math.max(this.maxY,o.y)},n.prototype.addQuad=function(o){var i=this.minX,l=this.minY,c=this.maxX,d=this.maxY,m=o[0],b=o[1];i=m<i?m:i,l=b<l?b:l,c=m>c?m:c,d=b>d?b:d,m=o[2],b=o[3],i=m<i?m:i,l=b<l?b:l,c=m>c?m:c,d=b>d?b:d,m=o[4],b=o[5],i=m<i?m:i,l=b<l?b:l,c=m>c?m:c,d=b>d?b:d,m=o[6],b=o[7],i=m<i?m:i,l=b<l?b:l,c=m>c?m:c,d=b>d?b:d,this.minX=i,this.minY=l,this.maxX=c,this.maxY=d},n.prototype.addFrame=function(o,i,l,c,d){this.addFrameMatrix(o.worldTransform,i,l,c,d)},n.prototype.addFrameMatrix=function(o,i,l,c,d){var m=o.a,b=o.b,w=o.c,A=o.d,I=o.tx,N=o.ty,R=this.minX,D=this.minY,L=this.maxX,z=this.maxY,V=m*i+w*l+I,te=b*i+A*l+N;R=V<R?V:R,D=te<D?te:D,L=V>L?V:L,z=te>z?te:z,V=m*c+w*l+I,te=b*c+A*l+N,R=V<R?V:R,D=te<D?te:D,L=V>L?V:L,z=te>z?te:z,V=m*i+w*d+I,te=b*i+A*d+N,R=V<R?V:R,D=te<D?te:D,L=V>L?V:L,z=te>z?te:z,V=m*c+w*d+I,te=b*c+A*d+N,R=V<R?V:R,D=te<D?te:D,L=V>L?V:L,z=te>z?te:z,this.minX=R,this.minY=D,this.maxX=L,this.maxY=z},n.prototype.addVertexData=function(o,i,l){for(var c=this.minX,d=this.minY,m=this.maxX,b=this.maxY,w=i;w<l;w+=2){var A=o[w],I=o[w+1];c=A<c?A:c,d=I<d?I:d,m=A>m?A:m,b=I>b?I:b}this.minX=c,this.minY=d,this.maxX=m,this.maxY=b},n.prototype.addVertices=function(o,i,l,c){this.addVerticesMatrix(o.worldTransform,i,l,c)},n.prototype.addVerticesMatrix=function(o,i,l,c,d,m){d===void 0&&(d=0),m===void 0&&(m=d);for(var b=o.a,w=o.b,A=o.c,I=o.d,N=o.tx,R=o.ty,D=this.minX,L=this.minY,z=this.maxX,V=this.maxY,te=l;te<c;te+=2){var fe=i[te],Y=i[te+1],q=b*fe+A*Y+N,K=I*Y+w*fe+R;D=Math.min(D,q-d),z=Math.max(z,q+d),L=Math.min(L,K-m),V=Math.max(V,K+m)}this.minX=D,this.minY=L,this.maxX=z,this.maxY=V},n.prototype.addBounds=function(o){var i=this.minX,l=this.minY,c=this.maxX,d=this.maxY;this.minX=o.minX<i?o.minX:i,this.minY=o.minY<l?o.minY:l,this.maxX=o.maxX>c?o.maxX:c,this.maxY=o.maxY>d?o.maxY:d},n.prototype.addBoundsMask=function(o,i){var l=o.minX>i.minX?o.minX:i.minX,c=o.minY>i.minY?o.minY:i.minY,d=o.maxX<i.maxX?o.maxX:i.maxX,m=o.maxY<i.maxY?o.maxY:i.maxY;if(l<=d&&c<=m){var b=this.minX,w=this.minY,A=this.maxX,I=this.maxY;this.minX=l<b?l:b,this.minY=c<w?c:w,this.maxX=d>A?d:A,this.maxY=m>I?m:I}},n.prototype.addBoundsMatrix=function(o,i){this.addFrameMatrix(i,o.minX,o.minY,o.maxX,o.maxY)},n.prototype.addBoundsArea=function(o,i){var l=o.minX>i.x?o.minX:i.x,c=o.minY>i.y?o.minY:i.y,d=o.maxX<i.x+i.width?o.maxX:i.x+i.width,m=o.maxY<i.y+i.height?o.maxY:i.y+i.height;if(l<=d&&c<=m){var b=this.minX,w=this.minY,A=this.maxX,I=this.maxY;this.minX=l<b?l:b,this.minY=c<w?c:w,this.maxX=d>A?d:A,this.maxY=m>I?m:I}},n.prototype.pad=function(o,i){o===void 0&&(o=0),i===void 0&&(i=o),this.isEmpty()||(this.minX-=o,this.maxX+=o,this.minY-=i,this.maxY+=i)},n.prototype.addFramePad=function(o,i,l,c,d,m){o-=d,i-=m,l+=d,c+=m,this.minX=this.minX<o?this.minX:o,this.maxX=this.maxX>l?this.maxX:l,this.minY=this.minY<i?this.minY:i,this.maxY=this.maxY>c?this.maxY:c},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var EQ=function(n,o){return EQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},EQ(n,o)};function Iee(n,o){EQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Qo=function(n){Iee(o,n);function o(){var i=n.call(this)||this;return i.tempDisplayObjectParent=null,i.transform=new xee,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i._lastSortedIndex=0,i._zIndex=0,i.filterArea=null,i.filters=null,i._enabledFilters=null,i._bounds=new X2,i._localBounds=null,i._boundsID=0,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i.isSprite=!1,i.isMask=!1,i}return o.mixin=function(i){for(var l=Object.keys(i),c=0;c<l.length;++c){var d=l[c];Object.defineProperty(o.prototype,d,Object.getOwnPropertyDescriptor(i,d))}},o.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},o.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},o.prototype.getBounds=function(i,l){return i||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),l||(this._boundsRect||(this._boundsRect=new Ki),l=this._boundsRect),this._bounds.getRectangle(l)},o.prototype.getLocalBounds=function(i){i||(this._localBoundsRect||(this._localBoundsRect=new Ki),i=this._localBoundsRect),this._localBounds||(this._localBounds=new X2);var l=this.transform,c=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var d=this._bounds,m=this._boundsID;this._bounds=this._localBounds;var b=this.getBounds(!1,i);return this.parent=c,this.transform=l,this._bounds=d,this._bounds.updateID+=this._boundsID-m,b},o.prototype.toGlobal=function(i,l,c){return c===void 0&&(c=!1),c||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(i,l)},o.prototype.toLocal=function(i,l,c,d){return l&&(i=l.toGlobal(i,c,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(i,c)},o.prototype.setParent=function(i){if(!i||!i.addChild)throw new Error("setParent: Argument must be a Container");return i.addChild(this),i},o.prototype.setTransform=function(i,l,c,d,m,b,w,A,I){return i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=1),d===void 0&&(d=1),m===void 0&&(m=0),b===void 0&&(b=0),w===void 0&&(w=0),A===void 0&&(A=0),I===void 0&&(I=0),this.position.x=i,this.position.y=l,this.scale.x=c||1,this.scale.y=d||1,this.rotation=m,this.skew.x=b,this.skew.y=w,this.pivot.x=A,this.pivot.y=I,this},o.prototype.destroy=function(i){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(o.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Dee),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),o.prototype.enableTempParent=function(){var i=this.parent;return this.parent=this._tempDisplayObjectParent,i},o.prototype.disableTempParent=function(i){this.parent=i},Object.defineProperty(o.prototype,"x",{get:function(){return this.position.x},set:function(i){this.transform.position.x=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this.position.y},set:function(i){this.transform.position.y=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"position",{get:function(){return this.transform.position},set:function(i){this.transform.position.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scale",{get:function(){return this.transform.scale},set:function(i){this.transform.scale.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(i){this.transform.pivot.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"skew",{get:function(){return this.transform.skew},set:function(i){this.transform.skew.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(i){this.transform.rotation=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"angle",{get:function(){return this.transform.rotation*CEe},set:function(i){this.transform.rotation=i*xEe},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"zIndex",{get:function(){return this._zIndex},set:function(i){this._zIndex=i,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldVisible",{get:function(){var i=this;do{if(!i.visible)return!1;i=i.parent}while(i);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mask",{get:function(){return this._mask},set:function(i){if(this._mask){var l=this._mask.maskObject||this._mask;l.renderable=!0,l.isMask=!1}if(this._mask=i,this._mask){var l=this._mask.maskObject||this._mask;l.renderable=!1,l.isMask=!0}},enumerable:!1,configurable:!0}),o}(EI),Dee=function(n){Iee(o,n);function o(){var i=n!==null&&n.apply(this,arguments)||this;return i.sortDirty=null,i}return o}(Qo);Qo.prototype.displayObjectUpdateTransform=Qo.prototype.updateTransform;function Sot(n,o){return n.zIndex===o.zIndex?n._lastSortedIndex-o._lastSortedIndex:n.zIndex-o.zIndex}var Rd=function(n){Iee(o,n);function o(){var i=n.call(this)||this;return i.children=[],i.sortableChildren=cn.SORTABLE_CHILDREN,i.sortDirty=!1,i}return o.prototype.onChildrenChange=function(i){},o.prototype.addChild=function(){for(var i=arguments,l=[],c=0;c<arguments.length;c++)l[c]=i[c];if(l.length>1)for(var d=0;d<l.length;d++)this.addChild(l[d]);else{var m=l[0];m.parent&&m.parent.removeChild(m),m.parent=this,this.sortDirty=!0,m.transform._parentID=-1,this.children.push(m),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",m,this,this.children.length-1),m.emit("added",this)}return l[0]},o.prototype.addChildAt=function(i,l){if(l<0||l>this.children.length)throw new Error(i+"addChildAt: The index "+l+" supplied is out of bounds "+this.children.length);return i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.splice(l,0,i),this._boundsID++,this.onChildrenChange(l),i.emit("added",this),this.emit("childAdded",i,this,l),i},o.prototype.swapChildren=function(i,l){if(i!==l){var c=this.getChildIndex(i),d=this.getChildIndex(l);this.children[c]=l,this.children[d]=i,this.onChildrenChange(c<d?c:d)}},o.prototype.getChildIndex=function(i){var l=this.children.indexOf(i);if(l===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return l},o.prototype.setChildIndex=function(i,l){if(l<0||l>=this.children.length)throw new Error("The index "+l+" supplied is out of bounds "+this.children.length);var c=this.getChildIndex(i);qT(this.children,c,1),this.children.splice(l,0,i),this.onChildrenChange(l)},o.prototype.getChildAt=function(i){if(i<0||i>=this.children.length)throw new Error("getChildAt: Index ("+i+") does not exist.");return this.children[i]},o.prototype.removeChild=function(){for(var i=arguments,l=[],c=0;c<arguments.length;c++)l[c]=i[c];if(l.length>1)for(var d=0;d<l.length;d++)this.removeChild(l[d]);else{var m=l[0],b=this.children.indexOf(m);if(b===-1)return null;m.parent=null,m.transform._parentID=-1,qT(this.children,b,1),this._boundsID++,this.onChildrenChange(b),m.emit("removed",this),this.emit("childRemoved",m,this,b)}return l[0]},o.prototype.removeChildAt=function(i){var l=this.getChildAt(i);return l.parent=null,l.transform._parentID=-1,qT(this.children,i,1),this._boundsID++,this.onChildrenChange(i),l.emit("removed",this),this.emit("childRemoved",l,this,i),l},o.prototype.removeChildren=function(i,l){i===void 0&&(i=0),l===void 0&&(l=this.children.length);var c=i,d=l,m=d-c,b;if(m>0&&m<=d){b=this.children.splice(c,m);for(var w=0;w<b.length;++w)b[w].parent=null,b[w].transform&&(b[w].transform._parentID=-1);this._boundsID++,this.onChildrenChange(i);for(var w=0;w<b.length;++w)b[w].emit("removed",this),this.emit("childRemoved",b[w],this,w);return b}else if(m===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},o.prototype.sortChildren=function(){for(var i=!1,l=0,c=this.children.length;l<c;++l){var d=this.children[l];d._lastSortedIndex=l,!i&&d.zIndex!==0&&(i=!0)}i&&this.children.length>1&&this.children.sort(Sot),this.sortDirty=!1},o.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,l=this.children.length;i<l;++i){var c=this.children[i];c.visible&&c.updateTransform()}},o.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var i=0;i<this.children.length;i++){var l=this.children[i];if(!(!l.visible||!l.renderable))if(l.calculateBounds(),l._mask){var c=l._mask.maskObject||l._mask;c.calculateBounds(),this._bounds.addBoundsMask(l._bounds,c._bounds)}else l.filterArea?this._bounds.addBoundsArea(l._bounds,l.filterArea):this._bounds.addBounds(l._bounds)}this._bounds.updateID=this._boundsID},o.prototype.getLocalBounds=function(i,l){l===void 0&&(l=!1);var c=n.prototype.getLocalBounds.call(this,i);if(!l)for(var d=0,m=this.children.length;d<m;++d){var b=this.children[d];b.visible&&b.updateTransform()}return c},o.prototype._calculateBounds=function(){},o.prototype.render=function(i){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(i);else{this._render(i);for(var l=0,c=this.children.length;l<c;++l)this.children[l].render(i)}},o.prototype.renderAdvanced=function(i){i.batch.flush();var l=this.filters,c=this._mask;if(l){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<l.length;d++)l[d].enabled&&this._enabledFilters.push(l[d]);this._enabledFilters.length&&i.filter.push(this,this._enabledFilters)}c&&i.mask.push(this,this._mask),this._render(i);for(var d=0,m=this.children.length;d<m;d++)this.children[d].render(i);i.batch.flush(),c&&i.mask.pop(this),l&&this._enabledFilters&&this._enabledFilters.length&&i.filter.pop()},o.prototype._render=function(i){},o.prototype.destroy=function(i){n.prototype.destroy.call(this),this.sortDirty=!1;var l=typeof i=="boolean"?i:i&&i.children,c=this.removeChildren(0,this.children.length);if(l)for(var d=0;d<c.length;++d)c[d].destroy(i)},Object.defineProperty(o.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(i){var l=this.getLocalBounds().width;l!==0?this.scale.x=i/l:this.scale.x=1,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(i){var l=this.getLocalBounds().height;l!==0?this.scale.y=i/l:this.scale.y=1,this._height=i},enumerable:!1,configurable:!0}),o}(Qo);Rd.prototype.containerUpdateTransform=Rd.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var REe={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Qo.mixin(REe);var Aot=9,G8=100,wot=0,Cot=0,I0e=2,D0e=1,xot=-1e3,Iot=-1e3,Dot=2,PEe=function(){function n(o){this._hookDiv=null,(sf.tablet||sf.phone)&&this.createTouchHook();var i=document.createElement("div");i.style.width=G8+"px",i.style.height=G8+"px",i.style.position="absolute",i.style.top=wot+"px",i.style.left=Cot+"px",i.style.zIndex=I0e.toString(),this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=o,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var o=this,i=document.createElement("button");i.style.width=D0e+"px",i.style.height=D0e+"px",i.style.position="absolute",i.style.top=xot+"px",i.style.left=Iot+"px",i.style.zIndex=Dot.toString(),i.style.backgroundColor="#FF0000",i.title="select to enable accessability for this content",i.addEventListener("focus",function(){o._isMobileAccessibility=!0,o.activate(),o.destroyTouchHook()}),document.body.appendChild(i),this._hookDiv=i},n.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},n.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(o){if(!(!o.visible||!o.accessibleChildren)){o.accessible&&o.interactive&&(o._accessibleActive||this.addChild(o),o.renderId=this.renderId);for(var i=o.children,l=0;l<i.length;l++)this.updateAccessibleObjects(i[l])}},n.prototype.update=function(){var o=performance.now();if(!(sf.android.device&&o<this.androidUpdateCount)&&(this.androidUpdateCount=o+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var i=this.renderer.view.getBoundingClientRect(),l=this.renderer.resolution,c=i.width/this.renderer.width*l,d=i.height/this.renderer.height*l,m=this.div;m.style.left=i.left+"px",m.style.top=i.top+"px",m.style.width=this.renderer.width+"px",m.style.height=this.renderer.height+"px";for(var b=0;b<this.children.length;b++){var w=this.children[b];if(w.renderId!==this.renderId)w._accessibleActive=!1,qT(this.children,b,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,b--;else{m=w._accessibleDiv;var A=w.hitArea,I=w.worldTransform;w.hitArea?(m.style.left=(I.tx+A.x*I.a)*c+"px",m.style.top=(I.ty+A.y*I.d)*d+"px",m.style.width=A.width*I.a*c+"px",m.style.height=A.height*I.d*d+"px"):(A=w.getBounds(),this.capHitArea(A),m.style.left=A.x*c+"px",m.style.top=A.y*d+"px",m.style.width=A.width*c+"px",m.style.height=A.height*d+"px",m.title!==w.accessibleTitle&&w.accessibleTitle!==null&&(m.title=w.accessibleTitle),m.getAttribute("aria-label")!==w.accessibleHint&&w.accessibleHint!==null&&m.setAttribute("aria-label",w.accessibleHint)),(w.accessibleTitle!==m.title||w.tabIndex!==m.tabIndex)&&(m.title=w.accessibleTitle,m.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}},n.prototype.updateDebugHTML=function(o){o.innerHTML="type: "+o.type+"</br> title : "+o.title+"</br> tabIndex: "+o.tabIndex},n.prototype.capHitArea=function(o){o.x<0&&(o.width+=o.x,o.x=0),o.y<0&&(o.height+=o.y,o.y=0),o.x+o.width>this.renderer.width&&(o.width=this.renderer.width-o.x),o.y+o.height>this.renderer.height&&(o.height=this.renderer.height-o.y)},n.prototype.addChild=function(o){var i=this.pool.pop();i||(i=document.createElement("button"),i.style.width=G8+"px",i.style.height=G8+"px",i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=I0e.toString(),i.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),i.style.pointerEvents=o.accessiblePointerEvents,i.type=o.accessibleType,o.accessibleTitle&&o.accessibleTitle!==null?i.title=o.accessibleTitle:(!o.accessibleHint||o.accessibleHint===null)&&(i.title="displayObject "+o.tabIndex),o.accessibleHint&&o.accessibleHint!==null&&i.setAttribute("aria-label",o.accessibleHint),this.debug&&this.updateDebugHTML(i),o._accessibleActive=!0,o._accessibleDiv=i,i.displayObject=o,this.children.push(o),this.div.appendChild(o._accessibleDiv),o._accessibleDiv.tabIndex=o.tabIndex},n.prototype._onClick=function(o){var i=this.renderer.plugins.interaction;i.dispatchEvent(o.target.displayObject,"click",i.eventData),i.dispatchEvent(o.target.displayObject,"pointertap",i.eventData),i.dispatchEvent(o.target.displayObject,"tap",i.eventData)},n.prototype._onFocus=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","assertive");var i=this.renderer.plugins.interaction;i.dispatchEvent(o.target.displayObject,"mouseover",i.eventData)},n.prototype._onFocusOut=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","polite");var i=this.renderer.plugins.interaction;i.dispatchEvent(o.target.displayObject,"mouseout",i.eventData)},n.prototype._onKeyDown=function(o){o.keyCode===Aot&&this.activate()},n.prototype._onMouseMove=function(o){o.movementX===0&&o.movementY===0||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.TARGET_FPMS=.06;var Lm;(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"})(Lm||(Lm={}));var TZ=function(){function n(o,i,l,c){i===void 0&&(i=null),l===void 0&&(l=0),c===void 0&&(c=!1),this.fn=o,this.context=i,this.priority=l,this.once=c,this.next=null,this.previous=null,this._destroyed=!1}return n.prototype.match=function(o,i){return i===void 0&&(i=null),this.fn===o&&this.context===i},n.prototype.emit=function(o){this.fn&&(this.context?this.fn.call(this.context,o):this.fn(o));var i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i},n.prototype.connect=function(o){this.previous=o,o.next&&(o.next.previous=this),this.next=o.next,o.next=this},n.prototype.destroy=function(o){o===void 0&&(o=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var i=this.next;return this.next=o?null:i,this.previous=null,i},n}(),Ps=function(){function n(){var o=this;this._head=new TZ(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/cn.TARGET_FPMS,this.elapsedMS=1/cn.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(i){o._requestId=null,o.started&&(o.update(i),o.started&&o._requestId===null&&o._head.next&&(o._requestId=requestAnimationFrame(o._tick)))}}return n.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(o,i,l){return l===void 0&&(l=Lm.NORMAL),this._addListener(new TZ(o,i,l))},n.prototype.addOnce=function(o,i,l){return l===void 0&&(l=Lm.NORMAL),this._addListener(new TZ(o,i,l,!0))},n.prototype._addListener=function(o){var i=this._head.next,l=this._head;if(!i)o.connect(l);else{for(;i;){if(o.priority>i.priority){o.connect(l);break}l=i,i=i.next}o.previous||o.connect(l)}return this._startIfPossible(),this},n.prototype.remove=function(o,i){for(var l=this._head.next;l;)l.match(o,i)?l=l.destroy():l=l.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var o=0,i=this._head;i=i.next;)o++;return o},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var o=this._head.next;o;)o=o.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(o){o===void 0&&(o=performance.now());var i;if(o>this.lastTime){if(i=this.elapsedMS=o-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var l=o-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=o-l%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*cn.TARGET_FPMS;for(var c=this._head,d=c.next;d;)d=d.emit(this.deltaTime);c.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=o},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(o){var i=Math.min(this.maxFPS,o),l=Math.min(Math.max(0,i)/1e3,cn.TARGET_FPMS);this._maxElapsedMS=1/l},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(o){if(o===0)this._minElapsedMS=0;else{var i=Math.max(this.minFPS,o);this._minElapsedMS=1/(i/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var o=n._shared=new n;o.autoStart=!0,o._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var o=n._system=new n;o.autoStart=!0,o._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),NEe=function(){function n(){}return n.init=function(o){var i=this;o=Object.assign({autoStart:!0,sharedTicker:!1},o),Object.defineProperty(this,"ticker",{set:function(l){this._ticker&&this._ticker.remove(this.render,this),this._ticker=l,l&&l.add(this.render,this,Lm.LOW)},get:function(){return this._ticker}}),this.stop=function(){i._ticker.stop()},this.start=function(){i._ticker.start()},this._ticker=null,this.ticker=o.sharedTicker?Ps.shared:new Ps,o.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var o=this._ticker;this.ticker=null,o.destroy()}},n}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SQ=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ns,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(o,i,l){return o.worldTransform.applyInverse(l||this.global,i)},n.prototype.copyEvent=function(o){"isPrimary"in o&&o.isPrimary&&(this.isPrimary=!0),this.button="button"in o&&o.button;var i="buttons"in o&&o.buttons;this.buttons=Number.isInteger(i)?i:"which"in o&&o.which,this.width="width"in o&&o.width,this.height="height"in o&&o.height,this.tiltX="tiltX"in o&&o.tiltX,this.tiltY="tiltY"in o&&o.tiltY,this.pointerType="pointerType"in o&&o.pointerType,this.pressure="pressure"in o&&o.pressure,this.rotationAngle="rotationAngle"in o&&o.rotationAngle,this.twist="twist"in o&&o.twist||0,this.tangentialPressure="tangentialPressure"in o&&o.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var AQ=function(n,o){return AQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},AQ(n,o)};function Oot(n,o){AQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var MEe=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),RH=function(){function n(o){this._pointerId=o,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(o,i){i?this._flags=this._flags|o:this._flags=this._flags&~o},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(o){this._flags=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return(this._flags&n.FLAGS.OVER)!==0},set:function(o){this._doSet(n.FLAGS.OVER,o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return(this._flags&n.FLAGS.RIGHT_DOWN)!==0},set:function(o){this._doSet(n.FLAGS.RIGHT_DOWN,o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return(this._flags&n.FLAGS.LEFT_DOWN)!==0},set:function(o){this._doSet(n.FLAGS.LEFT_DOWN,o)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),kot=function(){function n(){this._tempPoint=new Ns}return n.prototype.recursiveFindHit=function(o,i,l,c,d){if(!i||!i.visible)return!1;var m=o.data.global;d=i.interactive||d;var b=!1,w=d,A=!0;if(i.hitArea?(c&&(i.worldTransform.applyInverse(m,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?b=!0:(c=!1,A=!1)),w=!1):i._mask&&c&&(i._mask.containsPoint&&i._mask.containsPoint(m)||(c=!1)),A&&i.interactiveChildren&&i.children)for(var I=i.children,N=I.length-1;N>=0;N--){var R=I[N],D=this.recursiveFindHit(o,R,l,c,w);if(D){if(!R.parent)continue;w=!1,D&&(o.target&&(c=!1),b=!0)}}return d&&(c&&!o.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(m)&&(b=!0),i.interactive&&(b&&!o.target&&(o.target=i),l&&l(o,i,!!b))),b},n.prototype.findHit=function(o,i,l,c){this.recursiveFindHit(o,i,l,c,!1)},n}(),LEe={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(n){n?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Qo.mixin(LEe);var $8=1,z8={target:null,data:{global:null}},FEe=function(n){Oot(o,n);function o(i,l){var c=n.call(this)||this;return l=l||{},c.renderer=i,c.autoPreventDefault=l.autoPreventDefault!==void 0?l.autoPreventDefault:!0,c.interactionFrequency=l.interactionFrequency||10,c.mouse=new SQ,c.mouse.identifier=$8,c.mouse.global.set(-999999),c.activeInteractionData={},c.activeInteractionData[$8]=c.mouse,c.interactionDataPool=[],c.eventData=new MEe,c.interactionDOMElement=null,c.moveWhenInside=!1,c.eventsAdded=!1,c.tickerAdded=!1,c.mouseOverRenderer=!1,c.supportsTouchEvents="ontouchstart"in window,c.supportsPointerEvents=!!window.PointerEvent,c.onPointerUp=c.onPointerUp.bind(c),c.processPointerUp=c.processPointerUp.bind(c),c.onPointerCancel=c.onPointerCancel.bind(c),c.processPointerCancel=c.processPointerCancel.bind(c),c.onPointerDown=c.onPointerDown.bind(c),c.processPointerDown=c.processPointerDown.bind(c),c.onPointerMove=c.onPointerMove.bind(c),c.processPointerMove=c.processPointerMove.bind(c),c.onPointerOut=c.onPointerOut.bind(c),c.processPointerOverOut=c.processPointerOverOut.bind(c),c.onPointerOver=c.onPointerOver.bind(c),c.cursorStyles={default:"inherit",pointer:"pointer"},c.currentCursorMode=null,c.cursor=null,c.resolution=1,c.delayedEvents=[],c.search=new kot,c._tempDisplayObject=new Dee,c._useSystemTicker=l.useSystemTicker!==void 0?l.useSystemTicker:!0,c.setTargetElement(c.renderer.view,c.renderer.resolution),c}return Object.defineProperty(o.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(i){this._useSystemTicker=i,i?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),o.prototype.hitTest=function(i,l){return z8.target=null,z8.data.global=i,l||(l=this.lastObjectRendered),this.processInteractive(z8,l,null,!0),z8.target},o.prototype.setTargetElement=function(i,l){l===void 0&&(l=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=i,this.resolution=l,this.addEvents(),this.addTickerListener()},o.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ps.system.add(this.tickerUpdate,this,Lm.INTERACTION),this.tickerAdded=!0)},o.prototype.removeTickerListener=function(){this.tickerAdded&&(Ps.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},o.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var i=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(i.msContentZooming="none",i.msTouchAction="none"):this.supportsPointerEvents&&(i.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},o.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var i=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(i.msContentZooming="",i.msTouchAction=""):this.supportsPointerEvents&&(i.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},o.prototype.tickerUpdate=function(i){this._deltaTime+=i,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},o.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var i in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var l=this.activeInteractionData[i];if(l.originalEvent&&l.pointerType!=="touch"){var c=this.configureInteractionEventForDOMEvent(this.eventData,l.originalEvent,l);this.processInteractive(c,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},o.prototype.setCursorMode=function(i){if(i=i||"default",this.currentCursorMode!==i){this.currentCursorMode=i;var l=this.cursorStyles[i];if(l)switch(typeof l){case"string":this.interactionDOMElement.style.cursor=l;break;case"function":l(i);break;case"object":Object.assign(this.interactionDOMElement.style,l);break}else typeof i=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,i)&&(this.interactionDOMElement.style.cursor=i)}},o.prototype.dispatchEvent=function(i,l,c){(!c.stopPropagationHint||i===c.stopsPropagatingAt)&&(c.currentTarget=i,c.type=l,i.emit(l,c),i[l]&&i[l](c))},o.prototype.delayDispatchEvent=function(i,l,c){this.delayedEvents.push({displayObject:i,eventString:l,eventData:c})},o.prototype.mapPositionToPoint=function(i,l,c){var d;this.interactionDOMElement.parentElement?d=this.interactionDOMElement.getBoundingClientRect():d={x:0,y:0,width:0,height:0};var m=1/this.resolution;i.x=(l-d.left)*(this.interactionDOMElement.width/d.width)*m,i.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*m},o.prototype.processInteractive=function(i,l,c,d){var m=this.search.findHit(i,l,c,d),b=this.delayedEvents;if(!b.length)return m;i.stopPropagationHint=!1;var w=b.length;this.delayedEvents=[];for(var A=0;A<w;A++){var I=b[A],N=I.displayObject,R=I.eventString,D=I.eventData;D.stopsPropagatingAt===N&&(D.stopPropagationHint=!0),this.dispatchEvent(N,R,D)}return m},o.prototype.onPointerDown=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var l=this.normalizeToPointerData(i);if(this.autoPreventDefault&&l[0].isNormalized){var c=i.cancelable||!("cancelable"in i);c&&i.preventDefault()}for(var d=l.length,m=0;m<d;m++){var b=l[m],w=this.getInteractionDataForPointerId(b),A=this.configureInteractionEventForDOMEvent(this.eventData,b,w);if(A.data.originalEvent=i,this.processInteractive(A,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",A),b.pointerType==="touch")this.emit("touchstart",A);else if(b.pointerType==="mouse"||b.pointerType==="pen"){var I=b.button===2;this.emit(I?"rightdown":"mousedown",this.eventData)}}}},o.prototype.processPointerDown=function(i,l,c){var d=i.data,m=i.data.identifier;if(c){if(l.trackedPointers[m]||(l.trackedPointers[m]=new RH(m)),this.dispatchEvent(l,"pointerdown",i),d.pointerType==="touch")this.dispatchEvent(l,"touchstart",i);else if(d.pointerType==="mouse"||d.pointerType==="pen"){var b=d.button===2;b?l.trackedPointers[m].rightDown=!0:l.trackedPointers[m].leftDown=!0,this.dispatchEvent(l,b?"rightdown":"mousedown",i)}}},o.prototype.onPointerComplete=function(i,l,c){for(var d=this.normalizeToPointerData(i),m=d.length,b=i.target!==this.interactionDOMElement?"outside":"",w=0;w<m;w++){var A=d[w],I=this.getInteractionDataForPointerId(A),N=this.configureInteractionEventForDOMEvent(this.eventData,A,I);if(N.data.originalEvent=i,this.processInteractive(N,this.lastObjectRendered,c,l||!b),this.emit(l?"pointercancel":"pointerup"+b,N),A.pointerType==="mouse"||A.pointerType==="pen"){var R=A.button===2;this.emit(R?"rightup"+b:"mouseup"+b,N)}else A.pointerType==="touch"&&(this.emit(l?"touchcancel":"touchend"+b,N),this.releaseInteractionDataForPointerId(A.pointerId))}},o.prototype.onPointerCancel=function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!0,this.processPointerCancel)},o.prototype.processPointerCancel=function(i,l){var c=i.data,d=i.data.identifier;l.trackedPointers[d]!==void 0&&(delete l.trackedPointers[d],this.dispatchEvent(l,"pointercancel",i),c.pointerType==="touch"&&this.dispatchEvent(l,"touchcancel",i))},o.prototype.onPointerUp=function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!1,this.processPointerUp)},o.prototype.processPointerUp=function(i,l,c){var d=i.data,m=i.data.identifier,b=l.trackedPointers[m],w=d.pointerType==="touch",A=d.pointerType==="mouse"||d.pointerType==="pen",I=!1;if(A){var N=d.button===2,R=RH.FLAGS,D=N?R.RIGHT_DOWN:R.LEFT_DOWN,L=b!==void 0&&b.flags&D;c?(this.dispatchEvent(l,N?"rightup":"mouseup",i),L&&(this.dispatchEvent(l,N?"rightclick":"click",i),I=!0)):L&&this.dispatchEvent(l,N?"rightupoutside":"mouseupoutside",i),b&&(N?b.rightDown=!1:b.leftDown=!1)}c?(this.dispatchEvent(l,"pointerup",i),w&&this.dispatchEvent(l,"touchend",i),b&&((!A||I)&&this.dispatchEvent(l,"pointertap",i),w&&(this.dispatchEvent(l,"tap",i),b.over=!1))):b&&(this.dispatchEvent(l,"pointerupoutside",i),w&&this.dispatchEvent(l,"touchendoutside",i)),b&&b.none&&delete l.trackedPointers[m]},o.prototype.onPointerMove=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var l=this.normalizeToPointerData(i);(l[0].pointerType==="mouse"||l[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var c=l.length,d=0;d<c;d++){var m=l[d],b=this.getInteractionDataForPointerId(m),w=this.configureInteractionEventForDOMEvent(this.eventData,m,b);w.data.originalEvent=i,this.processInteractive(w,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",w),m.pointerType==="touch"&&this.emit("touchmove",w),(m.pointerType==="mouse"||m.pointerType==="pen")&&this.emit("mousemove",w)}l[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},o.prototype.processPointerMove=function(i,l,c){var d=i.data,m=d.pointerType==="touch",b=d.pointerType==="mouse"||d.pointerType==="pen";b&&this.processPointerOverOut(i,l,c),(!this.moveWhenInside||c)&&(this.dispatchEvent(l,"pointermove",i),m&&this.dispatchEvent(l,"touchmove",i),b&&this.dispatchEvent(l,"mousemove",i))},o.prototype.onPointerOut=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var l=this.normalizeToPointerData(i),c=l[0];c.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var d=this.getInteractionDataForPointerId(c),m=this.configureInteractionEventForDOMEvent(this.eventData,c,d);m.data.originalEvent=c,this.processInteractive(m,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",m),c.pointerType==="mouse"||c.pointerType==="pen"?this.emit("mouseout",m):this.releaseInteractionDataForPointerId(d.identifier)}},o.prototype.processPointerOverOut=function(i,l,c){var d=i.data,m=i.data.identifier,b=d.pointerType==="mouse"||d.pointerType==="pen",w=l.trackedPointers[m];c&&!w&&(w=l.trackedPointers[m]=new RH(m)),w!==void 0&&(c&&this.mouseOverRenderer?(w.over||(w.over=!0,this.delayDispatchEvent(l,"pointerover",i),b&&this.delayDispatchEvent(l,"mouseover",i)),b&&this.cursor===null&&(this.cursor=l.cursor)):w.over&&(w.over=!1,this.dispatchEvent(l,"pointerout",this.eventData),b&&this.dispatchEvent(l,"mouseout",i),w.none&&delete l.trackedPointers[m]))},o.prototype.onPointerOver=function(i){var l=this.normalizeToPointerData(i),c=l[0],d=this.getInteractionDataForPointerId(c),m=this.configureInteractionEventForDOMEvent(this.eventData,c,d);m.data.originalEvent=c,c.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",m),(c.pointerType==="mouse"||c.pointerType==="pen")&&this.emit("mouseover",m)},o.prototype.getInteractionDataForPointerId=function(i){var l=i.pointerId,c;return l===$8||i.pointerType==="mouse"?c=this.mouse:this.activeInteractionData[l]?c=this.activeInteractionData[l]:(c=this.interactionDataPool.pop()||new SQ,c.identifier=l,this.activeInteractionData[l]=c),c.copyEvent(i),c},o.prototype.releaseInteractionDataForPointerId=function(i){var l=this.activeInteractionData[i];l&&(delete this.activeInteractionData[i],l.reset(),this.interactionDataPool.push(l))},o.prototype.configureInteractionEventForDOMEvent=function(i,l,c){return i.data=c,this.mapPositionToPoint(c.global,l.clientX,l.clientY),l.pointerType==="touch"&&(l.globalX=c.global.x,l.globalY=c.global.y),c.originalEvent=l,i.reset(),i},o.prototype.normalizeToPointerData=function(i){var l=[];if(this.supportsTouchEvents&&i instanceof TouchEvent)for(var c=0,d=i.changedTouches.length;c<d;c++){var m=i.changedTouches[c];typeof m.button>"u"&&(m.button=i.touches.length?1:0),typeof m.buttons>"u"&&(m.buttons=i.touches.length?1:0),typeof m.isPrimary>"u"&&(m.isPrimary=i.touches.length===1&&i.type==="touchstart"),typeof m.width>"u"&&(m.width=m.radiusX||1),typeof m.height>"u"&&(m.height=m.radiusY||1),typeof m.tiltX>"u"&&(m.tiltX=0),typeof m.tiltY>"u"&&(m.tiltY=0),typeof m.pointerType>"u"&&(m.pointerType="touch"),typeof m.pointerId>"u"&&(m.pointerId=m.identifier||0),typeof m.pressure>"u"&&(m.pressure=m.force||.5),typeof m.twist>"u"&&(m.twist=0),typeof m.tangentialPressure>"u"&&(m.tangentialPressure=0),typeof m.layerX>"u"&&(m.layerX=m.offsetX=m.clientX),typeof m.layerY>"u"&&(m.layerY=m.offsetY=m.clientY),m.isNormalized=!0,l.push(m)}else if(i instanceof MouseEvent&&(!this.supportsPointerEvents||!(i instanceof window.PointerEvent))){var b=i;typeof b.isPrimary>"u"&&(b.isPrimary=!0),typeof b.width>"u"&&(b.width=1),typeof b.height>"u"&&(b.height=1),typeof b.tiltX>"u"&&(b.tiltX=0),typeof b.tiltY>"u"&&(b.tiltY=0),typeof b.pointerType>"u"&&(b.pointerType="mouse"),typeof b.pointerId>"u"&&(b.pointerId=$8),typeof b.pressure>"u"&&(b.pressure=.5),typeof b.twist>"u"&&(b.twist=0),typeof b.tangentialPressure>"u"&&(b.tangentialPressure=0),b.isNormalized=!0,l.push(b)}else l.push(i);return l},o.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},o}(EI);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ol=function(){function n(o){this.items=[],this._name=o,this._aliasCount=0}return n.prototype.emit=function(o,i,l,c,d,m,b,w){if(arguments.length>8)throw new Error("max arguments reached");var A=this,I=A.name,N=A.items;this._aliasCount++;for(var R=0,D=N.length;R<D;R++)N[R][I](o,i,l,c,d,m,b,w);return N===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(o){return o[this._name]&&(this.ensureNonAliasedItems(),this.remove(o),this.items.push(o)),this},n.prototype.remove=function(o){var i=this.items.indexOf(o);return i!==-1&&(this.ensureNonAliasedItems(),this.items.splice(i,1)),this},n.prototype.contains=function(o){return this.items.indexOf(o)!==-1},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(ol.prototype,{dispatch:{value:ol.prototype.emit},run:{value:ol.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.PREFER_ENV=sf.any?Mm.WEBGL:Mm.WEBGL2;cn.STRICT_TEXTURE_CACHE=!1;var uU=[];function Oee(n,o){if(!n)return null;var i="";if(typeof n=="string"){var l=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);l&&(i=l[1].toLowerCase())}for(var c=uU.length-1;c>=0;--c){var d=uU[c];if(d.test&&d.test(n,i))return new d(n,o)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wQ=function(n,o){return wQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},wQ(n,o)};function ri(n,o){wQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var oI=function(){function n(o,i){o===void 0&&(o=0),i===void 0&&(i=0),this._width=o,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new ol("setRealSize"),this.onUpdate=new ol("update"),this.onError=new ol("onError")}return n.prototype.bind=function(o){this.onResize.add(o),this.onUpdate.add(o),this.onError.add(o),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(o){this.onResize.remove(o),this.onUpdate.remove(o),this.onError.remove(o)},n.prototype.resize=function(o,i){(o!==this._width||i!==this._height)&&(this._width=o,this._height=i,this.onResize.emit(o,i))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(o,i,l){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(o,i){return!1},n}(),t9=function(n){ri(o,n);function o(i,l){var c=this,d=l||{},m=d.width,b=d.height;if(!m||!b)throw new Error("BufferResource width or height invalid");return c=n.call(this,m,b)||this,c.data=i,c}return o.prototype.upload=function(i,l,c){var d=i.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===Bv.UNPACK),c.width===l.width&&c.height===l.height?d.texSubImage2D(l.target,0,0,0,l.width,l.height,l.format,l.type,this.data):(c.width=l.width,c.height=l.height,d.texImage2D(l.target,0,c.internalFormat,l.width,l.height,0,l.format,c.type,this.data)),!0},o.prototype.dispose=function(){this.data=null},o.test=function(i){return i instanceof Float32Array||i instanceof Uint8Array||i instanceof Uint32Array},o}(oI),Rot={scaleMode:xm.NEAREST,format:nI.RGBA,alphaMode:Bv.NPM},Va=function(n){ri(o,n);function o(i,l){i===void 0&&(i=null),l===void 0&&(l=null);var c=n.call(this)||this;l=l||{};var d=l.alphaMode,m=l.mipmap,b=l.anisotropicLevel,w=l.scaleMode,A=l.width,I=l.height,N=l.wrapMode,R=l.format,D=l.type,L=l.target,z=l.resolution,V=l.resourceOptions;return i&&!(i instanceof oI)&&(i=Oee(i,V),i.internal=!0),c.width=A||0,c.height=I||0,c.resolution=z||cn.RESOLUTION,c.mipmap=m!==void 0?m:cn.MIPMAP_TEXTURES,c.anisotropicLevel=b!==void 0?b:cn.ANISOTROPIC_LEVEL,c.wrapMode=N||cn.WRAP_MODE,c.scaleMode=w!==void 0?w:cn.SCALE_MODE,c.format=R||nI.RGBA,c.type=D||Zo.UNSIGNED_BYTE,c.target=L||vb.TEXTURE_2D,c.alphaMode=d!==void 0?d:Bv.UNPACK,l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),c.uid=tE(),c.touched=0,c.isPowerOfTwo=!1,c._refreshPOT(),c._glTextures={},c.dirtyId=0,c.dirtyStyleId=0,c.cacheId=null,c.valid=A>0&&I>0,c.textureCacheIds=[],c.destroyed=!1,c.resource=null,c._batchEnabled=0,c._batchLocation=0,c.parentTextureArray=null,c.setResource(i),c}return Object.defineProperty(o.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),o.prototype.setStyle=function(i,l){var c;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,c=!0),l!==void 0&&l!==this.mipmap&&(this.mipmap=l,c=!0),c&&this.dirtyStyleId++,this},o.prototype.setSize=function(i,l,c){return this.resolution=c||this.resolution,this.width=i,this.height=l,this._refreshPOT(),this.update(),this},o.prototype.setRealSize=function(i,l,c){return this.resolution=c||this.resolution,this.width=i/this.resolution,this.height=l/this.resolution,this._refreshPOT(),this.update(),this},o.prototype._refreshPOT=function(){this.isPowerOfTwo=vQ(this.realWidth)&&vQ(this.realHeight)},o.prototype.setResolution=function(i){var l=this.resolution;return l===i?this:(this.resolution=i,this.valid&&(this.width=this.width*l/i,this.height=this.height*l/i,this.emit("update",this)),this._refreshPOT(),this)},o.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},o.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},o.prototype.onError=function(i){this.emit("error",this,i)},o.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete af[this.cacheId],delete cc[this.cacheId],this.cacheId=null),this.dispose(),o.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},o.prototype.dispose=function(){this.emit("dispose",this)},o.prototype.castToBaseTexture=function(){return this},o.from=function(i,l,c){c===void 0&&(c=cn.STRICT_TEXTURE_CACHE);var d=typeof i=="string",m=null;d?m=i:(i._pixiId||(i._pixiId="pixiid_"+tE()),m=i._pixiId);var b=af[m];if(d&&c&&!b)throw new Error('The cacheId "'+m+'" does not exist in BaseTextureCache.');return b||(b=new o(i,l),b.cacheId=m,o.addToCache(b,m)),b},o.fromBuffer=function(i,l,c,d){i=i||new Float32Array(l*c*4);var m=new t9(i,{width:l,height:c}),b=i instanceof Float32Array?Zo.FLOAT:Zo.UNSIGNED_BYTE;return new o(m,Object.assign(Rot,d||{width:l,height:c,type:b}))},o.addToCache=function(i,l){l&&(i.textureCacheIds.indexOf(l)===-1&&i.textureCacheIds.push(l),af[l]&&console.warn("BaseTexture added to the cache with an id ["+l+"] that already had an entry"),af[l]=i)},o.removeFromCache=function(i){if(typeof i=="string"){var l=af[i];if(l){var c=l.textureCacheIds.indexOf(i);return c>-1&&l.textureCacheIds.splice(c,1),delete af[i],l}}else if(i&&i.textureCacheIds){for(var d=0;d<i.textureCacheIds.length;++d)delete af[i.textureCacheIds[d]];return i.textureCacheIds.length=0,i}return null},o._globalBatch=0,o}(EI),kee=function(n){ri(o,n);function o(i,l){var c=this,d=l||{},m=d.width,b=d.height;c=n.call(this,m,b)||this,c.items=[],c.itemDirtyIds=[];for(var w=0;w<i;w++){var A=new Va;c.items.push(A),c.itemDirtyIds.push(-2)}return c.length=i,c._load=null,c.baseTexture=null,c}return o.prototype.initFromArray=function(i,l){for(var c=0;c<this.length;c++)i[c]&&(i[c].castToBaseTexture?this.addBaseTextureAt(i[c].castToBaseTexture(),c):i[c]instanceof oI?this.addResourceAt(i[c],c):this.addResourceAt(Oee(i[c],l),c))},o.prototype.dispose=function(){for(var i=0,l=this.length;i<l;i++)this.items[i].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},o.prototype.addResourceAt=function(i,l){if(!this.items[l])throw new Error("Index "+l+" is out of bounds");return i.valid&&!this.valid&&this.resize(i.width,i.height),this.items[l].setResource(i),this},o.prototype.bind=function(i){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,i);for(var l=0;l<this.length;l++)this.items[l].parentTextureArray=i,this.items[l].on("update",i.update,i)},o.prototype.unbind=function(i){n.prototype.unbind.call(this,i);for(var l=0;l<this.length;l++)this.items[l].parentTextureArray=null,this.items[l].off("update",i.update,i)},o.prototype.load=function(){var i=this;if(this._load)return this._load;var l=this.items.map(function(d){return d.resource}).filter(function(d){return d}),c=l.map(function(d){return d.load()});return this._load=Promise.all(c).then(function(){var d=i.items[0],m=d.realWidth,b=d.realHeight;return i.resize(m,b),Promise.resolve(i)}),this._load},o}(oI),BEe=function(n){ri(o,n);function o(i,l){var c=this,d=l||{},m=d.width,b=d.height,w,A;return Array.isArray(i)?(w=i,A=i.length):A=i,c=n.call(this,A,{width:m,height:b})||this,w&&c.initFromArray(w,l),c}return o.prototype.addBaseTextureAt=function(i,l){if(i.resource)this.addResourceAt(i.resource,l);else throw new Error("ArrayResource does not support RenderTexture");return this},o.prototype.bind=function(i){n.prototype.bind.call(this,i),i.target=vb.TEXTURE_2D_ARRAY},o.prototype.upload=function(i,l,c){var d=this,m=d.length,b=d.itemDirtyIds,w=d.items,A=i.gl;c.dirtyId<0&&A.texImage3D(A.TEXTURE_2D_ARRAY,0,l.format,this._width,this._height,m,0,l.format,l.type,null);for(var I=0;I<m;I++){var N=w[I];b[I]<N.dirtyId&&(b[I]=N.dirtyId,N.valid&&A.texSubImage3D(A.TEXTURE_2D_ARRAY,0,0,0,I,N.resource.width,N.resource.height,1,l.format,l.type,N.resource.source))}return!0},o}(kee),Hv=function(n){ri(o,n);function o(i){var l=this,c=i,d=c.naturalWidth||c.videoWidth||c.width,m=c.naturalHeight||c.videoHeight||c.height;return l=n.call(this,d,m)||this,l.source=i,l.noSubImage=!1,l}return o.crossOrigin=function(i,l,c){c===void 0&&l.indexOf("data:")!==0?i.crossOrigin=wEe(l):c!==!1&&(i.crossOrigin=typeof c=="string"?c:"anonymous")},o.prototype.upload=function(i,l,c,d){var m=i.gl,b=l.realWidth,w=l.realHeight;return d=d||this.source,m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===Bv.UNPACK),!this.noSubImage&&l.target===m.TEXTURE_2D&&c.width===b&&c.height===w?m.texSubImage2D(m.TEXTURE_2D,0,0,0,l.format,l.type,d):(c.width=b,c.height=w,m.texImage2D(l.target,0,l.format,l.format,l.type,d)),!0},o.prototype.update=function(){if(!this.destroyed){var i=this.source,l=i.naturalWidth||i.videoWidth||i.width,c=i.naturalHeight||i.videoHeight||i.height;this.resize(l,c),n.prototype.update.call(this)}},o.prototype.dispose=function(){this.source=null},o}(oI),Ree=function(n){ri(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.test=function(i){var l=window.OffscreenCanvas;return l&&i instanceof l?!0:i instanceof HTMLCanvasElement},o}(Hv),HEe=function(n){ri(o,n);function o(i,l){var c=this,d=l||{},m=d.width,b=d.height,w=d.autoLoad,A=d.linkBaseTexture;if(i&&i.length!==o.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");c=n.call(this,6,{width:m,height:b})||this;for(var I=0;I<o.SIDES;I++)c.items[I].target=vb.TEXTURE_CUBE_MAP_POSITIVE_X+I;return c.linkBaseTexture=A!==!1,i&&c.initFromArray(i,l),w!==!1&&c.load(),c}return o.prototype.bind=function(i){n.prototype.bind.call(this,i),i.target=vb.TEXTURE_CUBE_MAP},o.prototype.addBaseTextureAt=function(i,l,c){if(c===void 0&&(c=this.linkBaseTexture),!this.items[l])throw new Error("Index "+l+" is out of bounds");if(!this.linkBaseTexture||i.parentTextureArray||Object.keys(i._glTextures).length>0)if(i.resource)this.addResourceAt(i.resource,l);else throw new Error("CubeResource does not support copying of renderTexture.");else i.target=vb.TEXTURE_CUBE_MAP_POSITIVE_X+l,i.parentTextureArray=this.baseTexture,this.items[l]=i;return i.valid&&!this.valid&&this.resize(i.realWidth,i.realHeight),this.items[l]=i,this},o.prototype.upload=function(i,l,c){for(var d=this.itemDirtyIds,m=0;m<o.SIDES;m++){var b=this.items[m];d[m]<b.dirtyId&&(b.valid&&b.resource?(b.resource.upload(i,b,c),d[m]=b.dirtyId):d[m]<-1&&(i.gl.texImage2D(b.target,0,c.internalFormat,l.realWidth,l.realHeight,0,l.format,c.type,null),d[m]=-1))}return!0},o.test=function(i){return Array.isArray(i)&&i.length===o.SIDES},o.SIDES=6,o}(kee),Pee=function(n){ri(o,n);function o(i,l){var c=this;if(l=l||{},!(i instanceof HTMLImageElement)){var d=new Image;Hv.crossOrigin(d,i,l.crossorigin),d.src=i,i=d}return c=n.call(this,i)||this,!i.complete&&c._width&&c._height&&(c._width=0,c._height=0),c.url=i.src,c._process=null,c.preserveBitmap=!1,c.createBitmap=(l.createBitmap!==void 0?l.createBitmap:cn.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,c.alphaMode=typeof l.alphaMode=="number"?l.alphaMode:null,l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),c.bitmap=null,c._load=null,l.autoLoad!==!1&&c.load(),c}return o.prototype.load=function(i){var l=this;return this._load?this._load:(i!==void 0&&(this.createBitmap=i),this._load=new Promise(function(c,d){var m=l.source;l.url=m.src;var b=function(){l.destroyed||(m.onload=null,m.onerror=null,l.resize(m.width,m.height),l._load=null,l.createBitmap?c(l.process()):c(l))};m.complete&&m.src?b():(m.onload=b,m.onerror=function(w){d(w),l.onError.emit(w)})}),this._load)},o.prototype.process=function(){var i=this,l=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(l,0,0,l.width,l.height,{premultiplyAlpha:this.alphaMode===Bv.UNPACK?"premultiply":"none"}).then(function(c){return i.destroyed?Promise.reject():(i.bitmap=c,i.update(),i._process=null,Promise.resolve(i))}),this._process)},o.prototype.upload=function(i,l,c){if(typeof this.alphaMode=="number"&&(l.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,i,l,c);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,i,l,c,this.bitmap),!this.preserveBitmap){var d=!0,m=l._glTextures;for(var b in m){var w=m[b];if(w!==c&&w.dirtyId!==l.dirtyId){d=!1;break}}d&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},o.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},o.test=function(i){return typeof i=="string"||i instanceof HTMLImageElement},o}(Hv),UEe=function(n){ri(o,n);function o(i,l){var c=this;return l=l||{},c=n.call(this,document.createElement("canvas"))||this,c._width=0,c._height=0,c.svg=i,c.scale=l.scale||1,c._overrideWidth=l.width,c._overrideHeight=l.height,c._resolve=null,c._crossorigin=l.crossorigin,c._load=null,l.autoLoad!==!1&&c.load(),c}return o.prototype.load=function(){var i=this;return this._load?this._load:(this._load=new Promise(function(l){if(i._resolve=function(){i.resize(i.source.width,i.source.height),l(i)},/^\<svg/.test(i.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");i.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i.svg)))}i._loadSvg()}),this._load)},o.prototype._loadSvg=function(){var i=this,l=new Image;Hv.crossOrigin(l,this.svg,this._crossorigin),l.src=this.svg,l.onerror=function(c){i._resolve&&(l.onerror=null,i.onError.emit(c))},l.onload=function(){if(i._resolve){var c=l.width,d=l.height;if(!c||!d)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var m=c*i.scale,b=d*i.scale;(i._overrideWidth||i._overrideHeight)&&(m=i._overrideWidth||i._overrideHeight/d*c,b=i._overrideHeight||i._overrideWidth/c*d),m=Math.round(m),b=Math.round(b);var w=i.source;w.width=m,w.height=b,w._pixiId="canvas_"+tE(),w.getContext("2d").drawImage(l,0,0,c,d,0,0,m,b),i._resolve(),i._resolve=null}}},o.getSize=function(i){var l=o.SVG_SIZE.exec(i),c={};return l&&(c[l[1]]=Math.round(parseFloat(l[3])),c[l[5]]=Math.round(parseFloat(l[7]))),c},o.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},o.test=function(i,l){return l==="svg"||typeof i=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(i)||typeof i=="string"&&i.indexOf("<svg")===0},o.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,o}(Hv),GEe=function(n){ri(o,n);function o(i,l){var c=this;if(l=l||{},!(i instanceof HTMLVideoElement)){var d=document.createElement("video");d.setAttribute("preload","auto"),d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),typeof i=="string"&&(i=[i]);var m=i[0].src||i[0];Hv.crossOrigin(d,m,l.crossorigin);for(var b=0;b<i.length;++b){var w=document.createElement("source"),A=i[b],I=A.src,N=A.mime;I=I||i[b];var R=I.split("?").shift().toLowerCase(),D=R.substr(R.lastIndexOf(".")+1);N=N||o.MIME_TYPES[D]||"video/"+D,w.src=I,w.type=N,d.appendChild(w)}i=d}return c=n.call(this,i)||this,c.noSubImage=!0,c._autoUpdate=!0,c._isConnectedToTicker=!1,c._updateFPS=l.updateFPS||0,c._msToNextUpdate=0,c.autoPlay=l.autoPlay!==!1,c._load=null,c._resolve=null,c._onCanPlay=c._onCanPlay.bind(c),c._onError=c._onError.bind(c),l.autoLoad!==!1&&c.load(),c}return o.prototype.update=function(i){if(!this.destroyed){var l=Ps.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-l),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},o.prototype.load=function(){var i=this;if(this._load)return this._load;var l=this.source;return(l.readyState===l.HAVE_ENOUGH_DATA||l.readyState===l.HAVE_FUTURE_DATA)&&l.width&&l.height&&(l.complete=!0),l.addEventListener("play",this._onPlayStart.bind(this)),l.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(l.addEventListener("canplay",this._onCanPlay),l.addEventListener("canplaythrough",this._onCanPlay),l.addEventListener("error",this._onError,!0)),this._load=new Promise(function(c){i.valid?c(i):(i._resolve=c,l.load())}),this._load},o.prototype._onError=function(i){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(i)},o.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},o.prototype._isSourceReady=function(){var i=this.source;return i.readyState===3||i.readyState===4},o.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0)},o.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1)},o.prototype._onCanPlay=function(){var i=this.source;i.removeEventListener("canplay",this._onCanPlay),i.removeEventListener("canplaythrough",this._onCanPlay);var l=this.valid;this.resize(i.videoWidth,i.videoHeight),!l&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&i.play()},o.prototype.dispose=function(){this._isConnectedToTicker&&Ps.shared.remove(this.update,this);var i=this.source;i&&(i.removeEventListener("error",this._onError,!0),i.pause(),i.src="",i.load()),n.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(i){i!==this._updateFPS&&(this._updateFPS=i)},enumerable:!1,configurable:!0}),o.test=function(i,l){return i instanceof HTMLVideoElement||o.TYPES.indexOf(l)>-1},o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},o}(Hv),$Ee=function(n){ri(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.test=function(i){return!!window.createImageBitmap&&i instanceof ImageBitmap},o}(Hv);uU.push(Pee,$Ee,Ree,GEe,UEe,t9,HEe,BEe);var Pot={Resource:oI,BaseImageResource:Hv,INSTALLED:uU,autoDetectResource:Oee,AbstractMultiResource:kee,ArrayResource:BEe,BufferResource:t9,CanvasResource:Ree,CubeResource:HEe,ImageResource:Pee,SVGResource:UEe,VideoResource:GEe,ImageBitmapResource:$Ee},bc=function(){function n(o){this.renderer=o}return n.prototype.destroy=function(){this.renderer=null},n}(),Not=function(n){ri(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.prototype.upload=function(i,l,c){var d=i.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.alphaMode===Bv.UNPACK),c.width===l.width&&c.height===l.height?d.texSubImage2D(l.target,0,0,0,l.width,l.height,l.format,l.type,this.data):(c.width=l.width,c.height=l.height,d.texImage2D(l.target,0,i.context.webGLVersion===1?d.DEPTH_COMPONENT:d.DEPTH_COMPONENT16,l.width,l.height,0,l.format,l.type,this.data)),!0},o}(t9),cU=function(){function n(o,i){this.width=Math.ceil(o||100),this.height=Math.ceil(i||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ol("disposeFramebuffer"),this.multisample=JT.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(o,i){return o===void 0&&(o=0),this.colorTextures[o]=i||new Va(null,{scaleMode:xm.NEAREST,resolution:1,mipmap:iI.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(o){return this.depthTexture=o||new Va(new Not(null,{width:this.width,height:this.height}),{scaleMode:xm.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:iI.OFF,format:nI.DEPTH_COMPONENT,type:Zo.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(o,i){if(o=Math.ceil(o),i=Math.ceil(i),!(o===this.width&&i===this.height)){this.width=o,this.height=i,this.dirtyId++,this.dirtySize++;for(var l=0;l<this.colorTextures.length;l++){var c=this.colorTextures[l],d=c.resolution;c.setSize(o/d,i/d)}if(this.depthTexture){var d=this.depthTexture.resolution;this.depthTexture.setSize(o/d,i/d)}}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),O2=function(n){ri(o,n);function o(i){var l=this;if(typeof i=="number"){var c=arguments[0],d=arguments[1],m=arguments[2],b=arguments[3];i={width:c,height:d,scaleMode:m,resolution:b}}l=n.call(this,null,i)||this;var w=i||{},A=w.width,I=w.height;return l.mipmap=0,l.width=Math.ceil(A)||100,l.height=Math.ceil(I)||100,l.valid=!0,l.clearColor=[0,0,0,0],l.framebuffer=new cU(l.width*l.resolution,l.height*l.resolution).addColorTexture(0,l),l.maskStack=[],l.filterStack=[{}],l}return o.prototype.resize=function(i,l){i=Math.ceil(i),l=Math.ceil(l),this.framebuffer.resize(i*this.resolution,l*this.resolution)},o.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},o}(Va),Nee=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(o,i,l){var c=i.width,d=i.height;if(l){var m=o.width/2/c,b=o.height/2/d,w=o.x/c+m,A=o.y/d+b;l=no.add(l,no.NW),this.x0=w+m*no.uX(l),this.y0=A+b*no.uY(l),l=no.add(l,2),this.x1=w+m*no.uX(l),this.y1=A+b*no.uY(l),l=no.add(l,2),this.x2=w+m*no.uX(l),this.y2=A+b*no.uY(l),l=no.add(l,2),this.x3=w+m*no.uX(l),this.y3=A+b*no.uY(l)}else this.x0=o.x/c,this.y0=o.y/d,this.x1=(o.x+o.width)/c,this.y1=o.y/d,this.x2=(o.x+o.width)/c,this.y2=(o.y+o.height)/d,this.x3=o.x/c,this.y3=(o.y+o.height)/d;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n}(),O0e=new Nee,zn=function(n){ri(o,n);function o(i,l,c,d,m,b){var w=n.call(this)||this;if(w.noFrame=!1,l||(w.noFrame=!0,l=new Ki(0,0,1,1)),i instanceof o&&(i=i.baseTexture),w.baseTexture=i,w._frame=l,w.trim=d,w.valid=!1,w._uvs=O0e,w.uvMatrix=null,w.orig=c||l,w._rotate=Number(m||0),m===!0)w._rotate=2;else if(w._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.defaultAnchor=b?new Ns(b.x,b.y):new Ns(0,0),w._updateID=0,w.textureCacheIds=[],i.valid?w.noFrame?i.valid&&w.onBaseTextureUpdated(i):w.frame=l:i.once("loaded",w.onBaseTextureUpdated,w),w.noFrame&&i.on("update",w.onBaseTextureUpdated,w),w}return o.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},o.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},o.prototype.destroy=function(i){if(this.baseTexture){if(i){var l=this.baseTexture;l&&l.url&&cc[l.url]&&o.removeFromCache(l.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,o.removeFromCache(this),this.textureCacheIds=null},o.prototype.clone=function(){return new o(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},o.prototype.updateUvs=function(){this._uvs===O0e&&(this._uvs=new Nee),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},o.from=function(i,l,c){l===void 0&&(l={}),c===void 0&&(c=cn.STRICT_TEXTURE_CACHE);var d=typeof i=="string",m=null;d?m=i:(i._pixiId||(i._pixiId="pixiid_"+tE()),m=i._pixiId);var b=cc[m];if(d&&c&&!b)throw new Error('The cacheId "'+m+'" does not exist in TextureCache.');return b||(l.resolution||(l.resolution=W2(i)),b=new o(new Va(i,l)),b.baseTexture.cacheId=m,Va.addToCache(b.baseTexture,m),o.addToCache(b,m)),b},o.fromURL=function(i,l){var c=Object.assign({autoLoad:!1},l==null?void 0:l.resourceOptions),d=o.from(i,Object.assign({resourceOptions:c},l),!1),m=d.baseTexture.resource;return d.baseTexture.valid?Promise.resolve(d):m.load().then(function(){return Promise.resolve(d)})},o.fromBuffer=function(i,l,c,d){return new o(Va.fromBuffer(i,l,c,d))},o.fromLoader=function(i,l,c){var d=new Pee(i);d.url=l;var m=new Va(d,{scaleMode:cn.SCALE_MODE,resolution:W2(l)}),b=new o(m);return c||(c=l),Va.addToCache(b.baseTexture,c),o.addToCache(b,c),c!==l&&(Va.addToCache(b.baseTexture,l),o.addToCache(b,l)),b},o.addToCache=function(i,l){l&&(i.textureCacheIds.indexOf(l)===-1&&i.textureCacheIds.push(l),cc[l]&&console.warn("Texture added to the cache with an id ["+l+"] that already had an entry"),cc[l]=i)},o.removeFromCache=function(i){if(typeof i=="string"){var l=cc[i];if(l){var c=l.textureCacheIds.indexOf(i);return c>-1&&l.textureCacheIds.splice(c,1),delete cc[i],l}}else if(i&&i.textureCacheIds){for(var d=0;d<i.textureCacheIds.length;++d)cc[i.textureCacheIds[d]]===i&&delete cc[i.textureCacheIds[d]];return i.textureCacheIds.length=0,i}return null},Object.defineProperty(o.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frame",{get:function(){return this._frame},set:function(i){this._frame=i,this.noFrame=!1;var l=i.x,c=i.y,d=i.width,m=i.height,b=l+d>this.baseTexture.width,w=c+m>this.baseTexture.height;if(b||w){var A=b&&w?"and":"or",I="X: "+l+" + "+d+" = "+(l+d)+" > "+this.baseTexture.width,N="Y: "+c+" + "+m+" = "+(c+m)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(I+" "+A+" "+N))}this.valid=d&&m&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=i),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotate",{get:function(){return this._rotate},set:function(i){this._rotate=i,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),o.prototype.castToBaseTexture=function(){return this.baseTexture},o}(EI);function Mot(){var n=document.createElement("canvas");n.width=16,n.height=16;var o=n.getContext("2d");return o.fillStyle="white",o.fillRect(0,0,16,16),new zn(new Va(new Ree(n)))}function r9(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}zn.EMPTY=new zn(new Va);r9(zn.EMPTY);r9(zn.EMPTY.baseTexture);zn.WHITE=Mot();r9(zn.WHITE);r9(zn.WHITE.baseTexture);var rE=function(n){ri(o,n);function o(i,l){var c=this,d=null;if(!(i instanceof O2)){var m=arguments[1],b=arguments[2],w=arguments[3],A=arguments[4];console.warn("Please use RenderTexture.create("+m+", "+b+") instead of the ctor directly."),d=arguments[0],l=null,i=new O2({width:m,height:b,scaleMode:w,resolution:A})}return c=n.call(this,i,l)||this,c.legacyRenderer=d,c.valid=!0,c.filterFrame=null,c.filterPoolKey=null,c.updateUvs(),c}return Object.defineProperty(o.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),o.prototype.resize=function(i,l,c){c===void 0&&(c=!0),i=Math.ceil(i),l=Math.ceil(l),this.valid=i>0&&l>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=l,c&&this.baseTexture.resize(i,l),this.updateUvs()},o.prototype.setResolution=function(i){var l=this.baseTexture;l.resolution!==i&&(l.setResolution(i),this.resize(l.width,l.height,!1))},o.create=function(i){return typeof i=="number"&&(i={width:i,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new o(new O2(i))},o}(zn),zEe=function(){function n(o){this.texturePool={},this.textureOptions=o||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(o,i){var l=new O2(Object.assign({width:o,height:i,resolution:1},this.textureOptions));return new rE(l)},n.prototype.getOptimalTexture=function(o,i,l){l===void 0&&(l=1);var c=n.SCREEN_KEY;o*=l,i*=l,(!this.enableFullScreen||o!==this._pixelsWidth||i!==this._pixelsHeight)&&(o=j2(o),i=j2(i),c=(o&65535)<<16|i&65535),this.texturePool[c]||(this.texturePool[c]=[]);var d=this.texturePool[c].pop();return d||(d=this.createTexture(o,i)),d.filterPoolKey=c,d.setResolution(l),d},n.prototype.getFilterTexture=function(o,i){var l=this.getOptimalTexture(o.width,o.height,i||o.resolution);return l.filterFrame=o.filterFrame,l},n.prototype.returnTexture=function(o){var i=o.filterPoolKey;o.filterFrame=null,this.texturePool[i].push(o)},n.prototype.returnFilterTexture=function(o){this.returnTexture(o)},n.prototype.clear=function(o){if(o=o!==!1,o)for(var i in this.texturePool){var l=this.texturePool[i];if(l)for(var c=0;c<l.length;c++)l[c].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(o){if(!(o.width===this._pixelsWidth&&o.height===this._pixelsHeight)){var i=n.SCREEN_KEY,l=this.texturePool[i];if(this.enableFullScreen=o.width>0&&o.height>0,l)for(var c=0;c<l.length;c++)l[c].destroy(!0);this.texturePool[i]=[],this._pixelsWidth=o.width,this._pixelsHeight=o.height}},n.SCREEN_KEY="screen",n}(),CQ=function(){function n(o,i,l,c,d,m,b){i===void 0&&(i=0),l===void 0&&(l=!1),c===void 0&&(c=5126),this.buffer=o,this.size=i,this.normalized=l,this.type=c,this.stride=d,this.start=m,this.instance=b}return n.prototype.destroy=function(){this.buffer=null},n.from=function(o,i,l,c,d){return new n(o,i,l,c,d)},n}(),Lot=0,Rs=function(){function n(o,i,l){i===void 0&&(i=!0),l===void 0&&(l=!1),this.data=o||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=l,this.static=i,this.id=Lot++,this.disposeRunner=new ol("disposeBuffer")}return n.prototype.update=function(o){this.data=o||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},n.from=function(o){return o instanceof Array&&(o=new Float32Array(o)),new n(o)},n}();function VEe(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}var Fot={Float32Array,Uint32Array,Int32Array,Uint8Array};function Bot(n,o){for(var i=0,l=0,c={},d=0;d<n.length;d++)l+=o[d],i+=n[d].length;for(var m=new ArrayBuffer(i*4),b=null,w=0,d=0;d<n.length;d++){var A=o[d],I=n[d],N=VEe(I);c[N]||(c[N]=new Fot[N](m)),b=c[N];for(var R=0;R<I.length;R++){var D=(R/A|0)*l+w,L=R%A;b[D+L]=I[R]}w+=A}return new Float32Array(m)}var k0e={5126:4,5123:2,5121:1},Hot=0,Uot={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},AI=function(){function n(o,i){o===void 0&&(o=[]),i===void 0&&(i={}),this.buffers=o,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=Hot++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ol("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(o,i,l,c,d,m,b,w){if(l===void 0&&(l=0),c===void 0&&(c=!1),w===void 0&&(w=!1),!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof Rs||(i instanceof Array&&(i=new Float32Array(i)),i=new Rs(i));var A=o.split("|");if(A.length>1){for(var I=0;I<A.length;I++)this.addAttribute(A[I],i,l,c,d);return this}var N=this.buffers.indexOf(i);return N===-1&&(this.buffers.push(i),N=this.buffers.length-1),this.attributes[o]=new CQ(N,l,c,d,m,b,w),this.instanced=this.instanced||w,this},n.prototype.getAttribute=function(o){return this.attributes[o]},n.prototype.getBuffer=function(o){return this.buffers[this.getAttribute(o).buffer]},n.prototype.addIndex=function(o){return o instanceof Rs||(o instanceof Array&&(o=new Uint16Array(o)),o=new Rs(o)),o.index=!0,this.indexBuffer=o,this.buffers.indexOf(o)===-1&&this.buffers.push(o),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var o=[],i=[],l=new Rs,c;for(c in this.attributes){var d=this.attributes[c],m=this.buffers[d.buffer];o.push(m.data),i.push(d.size*k0e[d.type]/4),d.buffer=0}for(l.data=Bot(o,i),c=0;c<this.buffers.length;c++)this.buffers[c]!==this.indexBuffer&&this.buffers[c].destroy();return this.buffers=[l],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var o in this.attributes){var i=this.attributes[o],l=this.buffers[i.buffer];return l.data.length/(i.stride/4||i.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var o=new n,i=0;i<this.buffers.length;i++)o.buffers[i]=new Rs(this.buffers[i].data.slice(0));for(var i in this.attributes){var l=this.attributes[i];o.attributes[i]=new CQ(l.buffer,l.size,l.normalized,l.type,l.stride,l.start,l.instance)}return this.indexBuffer&&(o.indexBuffer=o.buffers[this.buffers.indexOf(this.indexBuffer)],o.indexBuffer.index=!0),o},n.merge=function(o){for(var i=new n,l=[],c=[],d=[],m,b=0;b<o.length;b++){m=o[b];for(var w=0;w<m.buffers.length;w++)c[w]=c[w]||0,c[w]+=m.buffers[w].data.length,d[w]=0}for(var b=0;b<m.buffers.length;b++)l[b]=new Uot[VEe(m.buffers[b].data)](c[b]),i.buffers[b]=new Rs(l[b]);for(var b=0;b<o.length;b++){m=o[b];for(var w=0;w<m.buffers.length;w++)l[w].set(m.buffers[w].data,d[w]),d[w]+=m.buffers[w].data.length}if(i.attributes=m.attributes,m.indexBuffer){i.indexBuffer=i.buffers[m.buffers.indexOf(m.indexBuffer)],i.indexBuffer.index=!0;for(var A=0,I=0,N=0,R=0,b=0;b<m.buffers.length;b++)if(m.buffers[b]!==m.indexBuffer){R=b;break}for(var b in m.attributes){var D=m.attributes[b];(D.buffer|0)===R&&(I+=D.size*k0e[D.type]/4)}for(var b=0;b<o.length;b++){for(var L=o[b].indexBuffer.data,w=0;w<L.length;w++)i.indexBuffer.data[w+N]+=A;A+=m.buffers[R].data.length/I,N+=L.length}}return i},n}(),jEe=function(n){ri(o,n);function o(){var i=n.call(this)||this;return i.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),i}return o}(AI),Mee=function(n){ri(o,n);function o(){var i=n.call(this)||this;return i.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),i.uvs=new Float32Array([0,0,1,0,1,1,0,1]),i.vertexBuffer=new Rs(i.vertices),i.uvBuffer=new Rs(i.uvs),i.addAttribute("aVertexPosition",i.vertexBuffer).addAttribute("aTextureCoord",i.uvBuffer).addIndex([0,1,2,0,2,3]),i}return o.prototype.map=function(i,l){var c=0,d=0;return this.uvs[0]=c,this.uvs[1]=d,this.uvs[2]=c+l.width/i.width,this.uvs[3]=d,this.uvs[4]=c+l.width/i.width,this.uvs[5]=d+l.height/i.height,this.uvs[6]=c,this.uvs[7]=d+l.height/i.height,c=l.x,d=l.y,this.vertices[0]=c,this.vertices[1]=d,this.vertices[2]=c+l.width,this.vertices[3]=d,this.vertices[4]=c+l.width,this.vertices[5]=d+l.height,this.vertices[6]=c,this.vertices[7]=d+l.height,this.invalidate(),this},o.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},o}(AI),Got=0,yb=function(){function n(o,i){this.uniforms=o,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Got++,this.static=!!i}return n.prototype.update=function(){this.dirtyId++},n.prototype.add=function(o,i,l){this.uniforms[o]=new n(i,l)},n.from=function(o,i){return new n(o,i)},n}(),WEe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Ki,this.destinationFrame=new Ki,this.filters=[]}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),XEe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.defaultFilterStack=[{}],l.texturePool=new zEe,l.texturePool.setScreenSize(i.view),l.statePool=[],l.quad=new jEe,l.quadUv=new Mee,l.tempRect=new Ki,l.activeState={},l.globalUniforms=new yb({outputFrame:l.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),l.forceClear=!1,l.useMaxPadding=!1,l}return o.prototype.push=function(i,l){for(var c=this.renderer,d=this.defaultFilterStack,m=this.statePool.pop()||new WEe,b=l[0].resolution,w=l[0].padding,A=l[0].autoFit,I=l[0].legacy,N=1;N<l.length;N++){var R=l[N];b=Math.min(b,R.resolution),w=this.useMaxPadding?Math.max(w,R.padding):w+R.padding,A=A&&R.autoFit,I=I||R.legacy}d.length===1&&(this.defaultFilterStack[0].renderTexture=c.renderTexture.current),d.push(m),m.resolution=b,m.legacy=I,m.target=i,m.sourceFrame.copyFrom(i.filterArea||i.getBounds(!0)),m.sourceFrame.pad(w),A&&m.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),m.sourceFrame.ceil(b),m.renderTexture=this.getOptimalFilterTexture(m.sourceFrame.width,m.sourceFrame.height,b),m.filters=l,m.destinationFrame.width=m.renderTexture.width,m.destinationFrame.height=m.renderTexture.height;var D=this.tempRect;D.width=m.sourceFrame.width,D.height=m.sourceFrame.height,m.renderTexture.filterFrame=m.sourceFrame,c.renderTexture.bind(m.renderTexture,m.sourceFrame,D),c.renderTexture.clear()},o.prototype.pop=function(){var i=this.defaultFilterStack,l=i.pop(),c=l.filters;this.activeState=l;var d=this.globalUniforms.uniforms;d.outputFrame=l.sourceFrame,d.resolution=l.resolution;var m=d.inputSize,b=d.inputPixel,w=d.inputClamp;if(m[0]=l.destinationFrame.width,m[1]=l.destinationFrame.height,m[2]=1/m[0],m[3]=1/m[1],b[0]=m[0]*l.resolution,b[1]=m[1]*l.resolution,b[2]=1/b[0],b[3]=1/b[1],w[0]=.5*b[2],w[1]=.5*b[3],w[2]=l.sourceFrame.width*m[2]-.5*b[2],w[3]=l.sourceFrame.height*m[3]-.5*b[3],l.legacy){var A=d.filterArea;A[0]=l.destinationFrame.width,A[1]=l.destinationFrame.height,A[2]=l.sourceFrame.x,A[3]=l.sourceFrame.y,d.filterClamp=d.inputClamp}this.globalUniforms.update();var I=i[i.length-1];if(l.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),c.length===1)c[0].apply(this,l.renderTexture,I.renderTexture,Ad.BLEND,l),this.returnFilterTexture(l.renderTexture);else{var N=l.renderTexture,R=this.getOptimalFilterTexture(N.width,N.height,l.resolution);R.filterFrame=N.filterFrame;var D=0;for(D=0;D<c.length-1;++D){c[D].apply(this,N,R,Ad.CLEAR,l);var L=N;N=R,R=L}c[D].apply(this,N,I.renderTexture,Ad.BLEND,l),this.returnFilterTexture(N),this.returnFilterTexture(R)}l.clear(),this.statePool.push(l)},o.prototype.bindAndClear=function(i,l){if(l===void 0&&(l=Ad.CLEAR),i&&i.filterFrame){var c=this.tempRect;c.width=i.filterFrame.width,c.height=i.filterFrame.height,this.renderer.renderTexture.bind(i,i.filterFrame,c)}else this.renderer.renderTexture.bind(i);typeof l=="boolean"&&(l=l?Ad.CLEAR:Ad.BLEND,fr("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(l===Ad.CLEAR||l===Ad.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},o.prototype.applyFilter=function(i,l,c,d){var m=this.renderer;this.bindAndClear(c,d),i.uniforms.uSampler=l,i.uniforms.filterGlobals=this.globalUniforms,m.state.set(i.state),m.shader.bind(i),i.legacy?(this.quadUv.map(l._frame,l.filterFrame),m.geometry.bind(this.quadUv),m.geometry.draw(lf.TRIANGLES)):(m.geometry.bind(this.quad),m.geometry.draw(lf.TRIANGLE_STRIP))},o.prototype.calculateSpriteMatrix=function(i,l){var c=this.activeState,d=c.sourceFrame,m=c.destinationFrame,b=l._texture.orig,w=i.set(m.width,0,0,m.height,d.x,d.y),A=l.worldTransform.copyTo(Ko.TEMP_MATRIX);return A.invert(),w.prepend(A),w.scale(1/b.width,1/b.height),w.translate(l.anchor.x,l.anchor.y),w},o.prototype.destroy=function(){this.texturePool.clear(!1)},o.prototype.getOptimalFilterTexture=function(i,l,c){return c===void 0&&(c=1),this.texturePool.getOptimalTexture(i,l,c)},o.prototype.getFilterTexture=function(i,l){if(typeof i=="number"){var c=i;i=l,l=c}i=i||this.activeState.renderTexture;var d=this.texturePool.getOptimalTexture(i.width,i.height,l||i.resolution);return d.filterFrame=i.filterFrame,d},o.prototype.returnFilterTexture=function(i){this.texturePool.returnTexture(i)},o.prototype.emptyPool=function(){this.texturePool.clear(!0)},o.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},o}(bc),AM=function(){function n(o){this.renderer=o}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(o){},n}(),YEe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.emptyRenderer=new AM(i),l.currentRenderer=l.emptyRenderer,l}return o.prototype.setObjectRenderer=function(i){this.currentRenderer!==i&&(this.currentRenderer.stop(),this.currentRenderer=i,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.copyBoundTextures=function(i,l){for(var c=this.renderer.texture.boundTextures,d=l-1;d>=0;--d)i[d]=c[d]||null,i[d]&&(i[d]._batchLocation=d)},o.prototype.boundArray=function(i,l,c,d){for(var m=i.elements,b=i.ids,w=i.count,A=0,I=0;I<w;I++){var N=m[I],R=N._batchLocation;if(R>=0&&R<d&&l[R]===N){b[I]=R;continue}for(;A<d;){var D=l[A];if(D&&D._batchEnabled===c&&D._batchLocation===A){A++;continue}b[I]=A,N._batchLocation=A,l[A]=N;break}}},o}(bc),R0e=0,qEe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.webGLVersion=1,l.extensions={},l.supports={uint32Indices:!1},l.handleContextLost=l.handleContextLost.bind(l),l.handleContextRestored=l.handleContextRestored.bind(l),i.view.addEventListener("webglcontextlost",l.handleContextLost,!1),i.view.addEventListener("webglcontextrestored",l.handleContextRestored,!1),l}return Object.defineProperty(o.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),o.prototype.contextChange=function(i){this.gl=i,this.renderer.gl=i,this.renderer.CONTEXT_UID=R0e++,i.isContextLost()&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").restoreContext()},o.prototype.initFromContext=function(i){this.gl=i,this.validateContext(i),this.renderer.gl=i,this.renderer.CONTEXT_UID=R0e++,this.renderer.runners.contextChange.emit(i)},o.prototype.initFromOptions=function(i){var l=this.createContext(this.renderer.view,i);this.initFromContext(l)},o.prototype.createContext=function(i,l){var c;if(cn.PREFER_ENV>=Mm.WEBGL2&&(c=i.getContext("webgl2",l)),c)this.webGLVersion=2;else if(this.webGLVersion=1,c=i.getContext("webgl",l)||i.getContext("experimental-webgl",l),!c)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=c,this.getExtensions(),this.gl},o.prototype.getExtensions=function(){var i=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:i.getExtension("WEBGL_draw_buffers"),depthTexture:i.getExtension("WEBGL_depth_texture"),loseContext:i.getExtension("WEBGL_lose_context"),vertexArrayObject:i.getExtension("OES_vertex_array_object")||i.getExtension("MOZ_OES_vertex_array_object")||i.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:i.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:i.getExtension("OES_element_index_uint"),floatTexture:i.getExtension("OES_texture_float"),floatTextureLinear:i.getExtension("OES_texture_float_linear"),textureHalfFloat:i.getExtension("OES_texture_half_float"),textureHalfFloatLinear:i.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:i.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:i.getExtension("EXT_color_buffer_float"),floatTextureLinear:i.getExtension("OES_texture_float_linear")})},o.prototype.handleContextLost=function(i){i.preventDefault()},o.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},o.prototype.destroy=function(){var i=this.renderer.view;i.removeEventListener("webglcontextlost",this.handleContextLost),i.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},o.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},o.prototype.validateContext=function(i){var l=i.getContextAttributes(),c="WebGL2RenderingContext"in window&&i instanceof window.WebGL2RenderingContext;c&&(this.webGLVersion=2),l.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var d=c||!!i.getExtension("OES_element_index_uint");this.supports.uint32Indices=d,d||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},o}(bc),ZEe=function(){function n(o){this.framebuffer=o,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=JT.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return n}(),$ot=new Ki,KEe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.managedFramebuffers=[],l.unknownFramebuffer=new cU(10,10),l.msaaSamples=null,l}return o.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ki,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var l=this.renderer.context.extensions.drawBuffers,c=this.renderer.context.extensions.depthTexture;cn.PREFER_ENV===Mm.WEBGL_LEGACY&&(l=null,c=null),l?i.drawBuffers=function(d){return l.drawBuffersWEBGL(d)}:(this.hasMRT=!1,i.drawBuffers=function(){}),c||(this.writeDepthTexture=!1)}else this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},o.prototype.bind=function(i,l){var c=this.gl;if(i){var d=i.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(i);this.current!==i&&(this.current=i,c.bindFramebuffer(c.FRAMEBUFFER,d.framebuffer)),d.dirtyId!==i.dirtyId&&(d.dirtyId=i.dirtyId,d.dirtyFormat!==i.dirtyFormat?(d.dirtyFormat=i.dirtyFormat,this.updateFramebuffer(i)):d.dirtySize!==i.dirtySize&&(d.dirtySize=i.dirtySize,this.resizeFramebuffer(i)));for(var m=0;m<i.colorTextures.length;m++){var b=i.colorTextures[m];this.renderer.texture.unbind(b.parentTextureArray||b)}i.depthTexture&&this.renderer.texture.unbind(i.depthTexture),l?this.setViewport(l.x,l.y,l.width,l.height):this.setViewport(0,0,i.width,i.height)}else this.current&&(this.current=null,c.bindFramebuffer(c.FRAMEBUFFER,null)),l?this.setViewport(l.x,l.y,l.width,l.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},o.prototype.setViewport=function(i,l,c,d){var m=this.viewport;(m.width!==c||m.height!==d||m.x!==i||m.y!==l)&&(m.x=i,m.y=l,m.width=c,m.height=d,this.gl.viewport(i,l,c,d))},Object.defineProperty(o.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),o.prototype.clear=function(i,l,c,d,m){m===void 0&&(m=V2.COLOR|V2.DEPTH);var b=this.gl;b.clearColor(i,l,c,d),b.clear(m)},o.prototype.initFramebuffer=function(i){var l=this.gl,c=new ZEe(l.createFramebuffer());return c.multisample=this.detectSamples(i.multisample),i.glFramebuffers[this.CONTEXT_UID]=c,this.managedFramebuffers.push(i),i.disposeRunner.add(this),c},o.prototype.resizeFramebuffer=function(i){var l=this.gl,c=i.glFramebuffers[this.CONTEXT_UID];c.stencil&&(l.bindRenderbuffer(l.RENDERBUFFER,c.stencil),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,i.width,i.height));for(var d=i.colorTextures,m=0;m<d.length;m++)this.renderer.texture.bind(d[m],0);i.depthTexture&&this.renderer.texture.bind(i.depthTexture,0)},o.prototype.updateFramebuffer=function(i){var l=this.gl,c=i.glFramebuffers[this.CONTEXT_UID],d=i.colorTextures,m=d.length;l.drawBuffers||(m=Math.min(m,1)),c.multisample>1&&(c.msaaBuffer=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,c.msaaBuffer),l.renderbufferStorageMultisample(l.RENDERBUFFER,c.multisample,l.RGBA8,i.width,i.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.RENDERBUFFER,c.msaaBuffer));for(var b=[],w=0;w<m;w++)if(!(w===0&&c.multisample>1)){var A=i.colorTextures[w],I=A.parentTextureArray||A;this.renderer.texture.bind(I,0),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+w,A.target,I._glTextures[this.CONTEXT_UID].texture,0),b.push(l.COLOR_ATTACHMENT0+w)}if(b.length>1&&l.drawBuffers(b),i.depthTexture){var N=this.writeDepthTexture;if(N){var R=i.depthTexture;this.renderer.texture.bind(R,0),l.framebufferTexture2D(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.TEXTURE_2D,R._glTextures[this.CONTEXT_UID].texture,0)}}!c.stencil&&(i.stencil||i.depth)&&(c.stencil=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,c.stencil),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,i.width,i.height),i.depthTexture||l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,c.stencil))},o.prototype.detectSamples=function(i){var l=this.msaaSamples,c=JT.NONE;if(i<=1||l===null)return c;for(var d=0;d<l.length;d++)if(l[d]<=i){c=l[d];break}return c===1&&(c=JT.NONE),c},o.prototype.blit=function(i,l,c){var d=this,m=d.current,b=d.renderer,w=d.gl,A=d.CONTEXT_UID;if(b.context.webGLVersion===2&&m){var I=m.glFramebuffers[A];if(I){if(!i){if(I.multisample<=1)return;I.blitFramebuffer||(I.blitFramebuffer=new cU(m.width,m.height),I.blitFramebuffer.addColorTexture(0,m.colorTextures[0])),i=I.blitFramebuffer,i.width=m.width,i.height=m.height}l||(l=$ot,l.width=m.width,l.height=m.height),c||(c=l);var N=l.width===c.width&&l.height===c.height;this.bind(i),w.bindFramebuffer(w.READ_FRAMEBUFFER,I.framebuffer),w.blitFramebuffer(l.x,l.y,l.width,l.height,c.x,c.y,c.width,c.height,w.COLOR_BUFFER_BIT,N?w.NEAREST:w.LINEAR)}}},o.prototype.disposeFramebuffer=function(i,l){var c=i.glFramebuffers[this.CONTEXT_UID],d=this.gl;if(c){delete i.glFramebuffers[this.CONTEXT_UID];var m=this.managedFramebuffers.indexOf(i);m>=0&&this.managedFramebuffers.splice(m,1),i.disposeRunner.remove(this),l||(d.deleteFramebuffer(c.framebuffer),c.stencil&&d.deleteRenderbuffer(c.stencil))}},o.prototype.disposeAll=function(i){var l=this.managedFramebuffers;this.managedFramebuffers=[];for(var c=0;c<l.length;c++)this.disposeFramebuffer(l[c],i)},o.prototype.forceStencil=function(){var i=this.current;if(i){var l=i.glFramebuffers[this.CONTEXT_UID];if(!(!l||l.stencil)){i.enableStencil();var c=i.width,d=i.height,m=this.gl,b=m.createRenderbuffer();m.bindRenderbuffer(m.RENDERBUFFER,b),m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,c,d),l.stencil=b,m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,b)}}},o.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ki},o}(bc),zot=function(){function n(o){this.buffer=o||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return n}(),EZ={5126:4,5123:2,5121:1},QEe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l._activeGeometry=null,l._activeVao=null,l.hasVao=!0,l.hasInstance=!0,l.canUseUInt32ElementIndex=!1,l.managedGeometries={},l.managedBuffers={},l}return o.prototype.contextChange=function(){this.disposeAll(!0);var i=this.gl=this.renderer.gl,l=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,l.webGLVersion!==2){var c=this.renderer.context.extensions.vertexArrayObject;cn.PREFER_ENV===Mm.WEBGL_LEGACY&&(c=null),c?(i.createVertexArray=function(){return c.createVertexArrayOES()},i.bindVertexArray=function(m){return c.bindVertexArrayOES(m)},i.deleteVertexArray=function(m){return c.deleteVertexArrayOES(m)}):(this.hasVao=!1,i.createVertexArray=function(){return null},i.bindVertexArray=function(){return null},i.deleteVertexArray=function(){return null})}if(l.webGLVersion!==2){var d=i.getExtension("ANGLE_instanced_arrays");d?(i.vertexAttribDivisor=function(m,b){return d.vertexAttribDivisorANGLE(m,b)},i.drawElementsInstanced=function(m,b,w,A,I){return d.drawElementsInstancedANGLE(m,b,w,A,I)},i.drawArraysInstanced=function(m,b,w,A){return d.drawArraysInstancedANGLE(m,b,w,A)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=l.webGLVersion===2||!!l.extensions.uint32ElementIndex},o.prototype.bind=function(i,l){l=l||this.renderer.shader.shader;var c=this.gl,d=i.glVertexArrayObjects[this.CONTEXT_UID],m=!1;d||(this.managedGeometries[i.id]=i,i.disposeRunner.add(this),i.glVertexArrayObjects[this.CONTEXT_UID]=d={},m=!0);var b=d[l.program.id]||this.initGeometryVao(i,l.program,m);this._activeGeometry=i,this._activeVao!==b&&(this._activeVao=b,this.hasVao?c.bindVertexArray(b):this.activateVao(i,l.program)),this.updateBuffers()},o.prototype.reset=function(){this.unbind()},o.prototype.updateBuffers=function(){for(var i=this._activeGeometry,l=this.gl,c=0;c<i.buffers.length;c++){var d=i.buffers[c],m=d._glBuffers[this.CONTEXT_UID];if(d._updateID!==m.updateID){m.updateID=d._updateID;var b=d.index?l.ELEMENT_ARRAY_BUFFER:l.ARRAY_BUFFER;if(l.bindBuffer(b,m.buffer),this._boundBuffer=m,m.byteLength>=d.data.byteLength)l.bufferSubData(b,0,d.data);else{var w=d.static?l.STATIC_DRAW:l.DYNAMIC_DRAW;m.byteLength=d.data.byteLength,l.bufferData(b,d.data,w)}}}},o.prototype.checkCompatibility=function(i,l){var c=i.attributes,d=l.attributeData;for(var m in d)if(!c[m])throw new Error('shader and geometry incompatible, geometry missing the "'+m+'" attribute')},o.prototype.getSignature=function(i,l){var c=i.attributes,d=l.attributeData,m=["g",i.id];for(var b in c)d[b]&&m.push(b);return m.join("-")},o.prototype.initGeometryVao=function(i,l,c){c===void 0&&(c=!0),this.checkCompatibility(i,l);var d=this.gl,m=this.CONTEXT_UID,b=this.getSignature(i,l),w=i.glVertexArrayObjects[this.CONTEXT_UID],A=w[b];if(A)return w[l.id]=A,A;var I=i.buffers,N=i.attributes,R={},D={};for(var L in I)R[L]=0,D[L]=0;for(var L in N)!N[L].size&&l.attributeData[L]?N[L].size=l.attributeData[L].size:N[L].size||console.warn("PIXI Geometry attribute '"+L+"' size cannot be determined (likely the bound shader does not have the attribute)"),R[N[L].buffer]+=N[L].size*EZ[N[L].type];for(var L in N){var z=N[L],V=z.size;z.stride===void 0&&(R[z.buffer]===V*EZ[z.type]?z.stride=0:z.stride=R[z.buffer]),z.start===void 0&&(z.start=D[z.buffer],D[z.buffer]+=V*EZ[z.type])}A=d.createVertexArray(),d.bindVertexArray(A);for(var te=0;te<I.length;te++){var fe=I[te];fe._glBuffers[m]||(fe._glBuffers[m]=new zot(d.createBuffer()),this.managedBuffers[fe.id]=fe,fe.disposeRunner.add(this)),c&&fe._glBuffers[m].refCount++}return this.activateVao(i,l),this._activeVao=A,w[l.id]=A,w[b]=A,A},o.prototype.disposeBuffer=function(i,l){if(this.managedBuffers[i.id]){delete this.managedBuffers[i.id];var c=i._glBuffers[this.CONTEXT_UID],d=this.gl;i.disposeRunner.remove(this),c&&(l||d.deleteBuffer(c.buffer),delete i._glBuffers[this.CONTEXT_UID])}},o.prototype.disposeGeometry=function(i,l){if(this.managedGeometries[i.id]){delete this.managedGeometries[i.id];var c=i.glVertexArrayObjects[this.CONTEXT_UID],d=this.gl,m=i.buffers;if(i.disposeRunner.remove(this),!!c){for(var b=0;b<m.length;b++){var w=m[b]._glBuffers[this.CONTEXT_UID];w.refCount--,w.refCount===0&&!l&&this.disposeBuffer(m[b],l)}if(!l){for(var A in c)if(A[0]==="g"){var I=c[A];this._activeVao===I&&this.unbind(),d.deleteVertexArray(I)}}delete i.glVertexArrayObjects[this.CONTEXT_UID]}}},o.prototype.disposeAll=function(i){for(var l=Object.keys(this.managedGeometries),c=0;c<l.length;c++)this.disposeGeometry(this.managedGeometries[l[c]],i);l=Object.keys(this.managedBuffers);for(var c=0;c<l.length;c++)this.disposeBuffer(this.managedBuffers[l[c]],i)},o.prototype.activateVao=function(i,l){var c=this.gl,d=this.CONTEXT_UID,m=i.buffers,b=i.attributes;i.indexBuffer&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,i.indexBuffer._glBuffers[d].buffer);var w=null;for(var A in b){var I=b[A],N=m[I.buffer],R=N._glBuffers[d];if(l.attributeData[A]){w!==R&&(c.bindBuffer(c.ARRAY_BUFFER,R.buffer),w=R);var D=l.attributeData[A].location;if(c.enableVertexAttribArray(D),c.vertexAttribPointer(D,I.size,I.type||c.FLOAT,I.normalized,I.stride,I.start),I.instance)if(this.hasInstance)c.vertexAttribDivisor(D,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},o.prototype.draw=function(i,l,c,d){var m=this.gl,b=this._activeGeometry;if(b.indexBuffer){var w=b.indexBuffer.data.BYTES_PER_ELEMENT,A=w===2?m.UNSIGNED_SHORT:m.UNSIGNED_INT;w===2||w===4&&this.canUseUInt32ElementIndex?b.instanced?m.drawElementsInstanced(i,l||b.indexBuffer.data.length,A,(c||0)*w,d||1):m.drawElements(i,l||b.indexBuffer.data.length,A,(c||0)*w):console.warn("unsupported index buffer type: uint32")}else b.instanced?m.drawArraysInstanced(i,c,l||b.getSize(),d||1):m.drawArrays(i,c,l||b.getSize());return this},o.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},o}(bc),JEe=function(){function n(o){o===void 0&&(o=null),this.type=uc.NONE,this.autoDetect=!0,this.maskObject=o||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=uc.NONE,this.autoDetect=!0),this._target=null},n.prototype.copyCountersOrReset=function(o){o?(this._stencilCounter=o._stencilCounter,this._scissorCounter=o._scissorCounter,this._scissorRect=o._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function P0e(n,o,i){var l=n.createShader(o);return n.shaderSource(l,i),n.compileShader(l),l}function eSe(n,o,i,l){var c=P0e(n,n.VERTEX_SHADER,o),d=P0e(n,n.FRAGMENT_SHADER,i),m=n.createProgram();if(n.attachShader(m,c),n.attachShader(m,d),l)for(var b in l)n.bindAttribLocation(m,l[b],b);return n.linkProgram(m),n.getProgramParameter(m,n.LINK_STATUS)||(n.getShaderParameter(c,n.COMPILE_STATUS)||(console.warn(o),console.error(n.getShaderInfoLog(c))),n.getShaderParameter(d,n.COMPILE_STATUS)||(console.warn(i),console.error(n.getShaderInfoLog(d))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",n.getProgramParameter(m,n.VALIDATE_STATUS)),console.error("gl.getError()",n.getError()),n.getProgramInfoLog(m)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(m)),n.deleteProgram(m),m=null),n.deleteShader(c),n.deleteShader(d),m}function SZ(n){for(var o=new Array(n),i=0;i<o.length;i++)o[i]=!1;return o}function tSe(n,o){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*o);case"vec3":return new Float32Array(3*o);case"vec4":return new Float32Array(4*o);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*o);case"ivec3":return new Int32Array(3*o);case"ivec4":return new Int32Array(4*o);case"bool":return!1;case"bvec2":return SZ(2*o);case"bvec3":return SZ(3*o);case"bvec4":return SZ(4*o);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var rSe={},o2=rSe;function nSe(){if(o2===rSe||o2&&o2.isContextLost()){var n=document.createElement("canvas"),o=void 0;cn.PREFER_ENV>=Mm.WEBGL2&&(o=n.getContext("webgl2",{})),o||(o=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),o?o.getExtension("WEBGL_draw_buffers"):o=null),o2=o}return o2}var V8;function Vot(){if(!V8){V8=xd.MEDIUM;var n=nSe();if(n&&n.getShaderPrecisionFormat){var o=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);V8=o.precision?xd.HIGH:xd.MEDIUM}}return V8}function N0e(n,o,i){if(n.substring(0,9)!=="precision"){var l=o;return o===xd.HIGH&&i!==xd.HIGH&&(l=xd.MEDIUM),"precision "+l+` float;
`+n}else if(i!==xd.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}var jot={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Wot(n){return jot[n]}var j8=null,M0e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function L0e(n,o){if(!j8){var i=Object.keys(M0e);j8={};for(var l=0;l<i.length;++l){var c=i[l];j8[n[c]]=M0e[c]}}return j8[o]}var PH=[{test:function(n){return n.type==="float"&&n.size===1},code:function(n){return`
            if(uv["`+n+'"] !== ud["'+n+`"].value)
            {
                ud["`+n+'"].value = uv["'+n+`"]
                gl.uniform1f(ud["`+n+'"].location, uv["'+n+`"])
            }
            `}},{test:function(n){return(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray},code:function(n){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+n+`"], t);

            if(ud["`+n+`"].value !== t)
            {
                ud["`+n+`"].value = t;
                gl.uniform1i(ud["`+n+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(n,o){return n.type==="mat3"&&n.size===1&&o.a!==void 0},code:function(n){return`
            gl.uniformMatrix3fv(ud["`+n+'"].location, false, uv["'+n+`"].toArray(true));
            `}},{test:function(n,o){return n.type==="vec2"&&n.size===1&&o.x!==void 0},code:function(n){return`
                cv = ud["`+n+`"].value;
                v = uv["`+n+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+n+`"].location, v.x, v.y);
                }`}},{test:function(n){return n.type==="vec2"&&n.size===1},code:function(n){return`
                cv = ud["`+n+`"].value;
                v = uv["`+n+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+n+`"].location, v[0], v[1]);
                }
            `}},{test:function(n,o){return n.type==="vec4"&&n.size===1&&o.width!==void 0},code:function(n){return`
                cv = ud["`+n+`"].value;
                v = uv["`+n+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+n+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(n){return n.type==="vec4"&&n.size===1},code:function(n){return`
                cv = ud["`+n+`"].value;
                v = uv["`+n+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+n+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Xot={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Yot={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function qot(n,o){var i=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var l in n.uniforms){var c=o[l];if(!c){n.uniforms[l].group&&i.push(`
                    renderer.shader.syncUniformGroup(uv["`+l+`"], syncData);
                `);continue}for(var d=n.uniforms[l],m=!1,b=0;b<PH.length;b++)if(PH[b].test(c,d)){i.push(PH[b].code(l,d)),m=!0;break}if(!m){var w=c.size===1?Xot:Yot,A=w[c.type].replace("location",'ud["'+l+'"].location');i.push(`
            cv = ud["`+l+`"].value;
            v = uv["`+l+`"];
            `+A+";")}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}var Zot=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Kot(n){for(var o="",i=0;i<n;++i)i>0&&(o+=`
else `),i<n-1&&(o+="if(test == "+i+".0){}");return o}function iSe(n,o){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=o.createShader(o.FRAGMENT_SHADER);;){var l=Zot.replace(/%forloop%/gi,Kot(n));if(o.shaderSource(i,l),o.compileShader(i),!o.getShaderParameter(i,o.COMPILE_STATUS))n=n/2|0;else break}return n}var s2;function Qot(){if(typeof s2=="boolean")return s2;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");s2=n({a:"b"},"a","b")===!0}catch{s2=!1}return s2}var Jot=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,est=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,tst=0,W8={},wM=function(){function n(o,i,l){l===void 0&&(l="pixi-shader"),this.id=tst++,this.vertexSrc=o||n.defaultVertexSrc,this.fragmentSrc=i||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(l=l.replace(/\s+/g,"-"),W8[l]?(W8[l]++,l+="-"+W8[l]):W8[l]=1,this.vertexSrc="#define SHADER_NAME "+l+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+l+`
`+this.fragmentSrc,this.vertexSrc=N0e(this.vertexSrc,cn.PRECISION_VERTEX,xd.HIGH),this.fragmentSrc=N0e(this.fragmentSrc,cn.PRECISION_FRAGMENT,Vot())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return n.prototype.extractData=function(o,i){var l=nSe();if(l){var c=eSe(l,o,i);this.attributeData=this.getAttributeData(c,l),this.uniformData=this.getUniformData(c,l),l.deleteProgram(c)}else this.uniformData={},this.attributeData={}},n.prototype.getAttributeData=function(o,i){for(var l={},c=[],d=i.getProgramParameter(o,i.ACTIVE_ATTRIBUTES),m=0;m<d;m++){var b=i.getActiveAttrib(o,m),w=L0e(i,b.type),A={type:w,name:b.name,size:Wot(w),location:0};l[b.name]=A,c.push(A)}c.sort(function(I,N){return I.name>N.name?1:-1});for(var m=0;m<c.length;m++)c[m].location=m;return l},n.prototype.getUniformData=function(o,i){for(var l={},c=i.getProgramParameter(o,i.ACTIVE_UNIFORMS),d=0;d<c;d++){var m=i.getActiveUniform(o,d),b=m.name.replace(/\[.*?\]$/,""),w=m.name.match(/\[.*?\]$/),A=L0e(i,m.type);l[b]={type:A,size:m.size,isArray:w,value:tSe(A,m.size)}}return l},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return est},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return Jot},enumerable:!1,configurable:!0}),n.from=function(o,i,l){var c=o+i,d=bQ[c];return d||(bQ[c]=d=new n(o,i,l)),d},n}(),Sb=function(){function n(o,i){this.program=o,i?i instanceof yb?this.uniformGroup=i:this.uniformGroup=new yb(i):this.uniformGroup=new yb({});for(var l in o.uniformData)this.uniformGroup.uniforms[l]instanceof Array&&(this.uniformGroup.uniforms[l]=new Float32Array(this.uniformGroup.uniforms[l]))}return n.prototype.checkUniformExists=function(o,i){if(i.uniforms[o])return!0;for(var l in i.uniforms){var c=i.uniforms[l];if(c.group&&this.checkUniformExists(o,c))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(o,i,l){var c=wM.from(o,i);return new n(c,l)},n}(),AZ=0,wZ=1,CZ=2,xZ=3,IZ=4,wb=function(){function n(){this.data=0,this.blendMode=Sn.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(this.data&1<<AZ)},set:function(o){!!(this.data&1<<AZ)!==o&&(this.data^=1<<AZ)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(this.data&1<<wZ)},set:function(o){!!(this.data&1<<wZ)!==o&&(this.data^=1<<wZ)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(this.data&1<<CZ)},set:function(o){!!(this.data&1<<CZ)!==o&&(this.data^=1<<CZ)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(this.data&1<<xZ)},set:function(o){!!(this.data&1<<xZ)!==o&&(this.data^=1<<xZ)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<IZ)},set:function(o){!!(this.data&1<<IZ)!==o&&(this.data^=1<<IZ)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(o){this.blend=o!==Sn.NONE,this._blendMode=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(o){this.offsets=!!o,this._polygonOffset=o},enumerable:!1,configurable:!0}),n.for2d=function(){var o=new n;return o.depthTest=!1,o.blend=!0,o},n}(),rst=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,nst=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Gv=function(n){ri(o,n);function o(i,l,c){var d=this,m=wM.from(i||o.defaultVertexSrc,l||o.defaultFragmentSrc);return d=n.call(this,m,c)||this,d.padding=0,d.resolution=cn.FILTER_RESOLUTION,d.enabled=!0,d.autoFit=!0,d.legacy=!!d.program.attributeData.aTextureCoord,d.state=new wb,d}return o.prototype.apply=function(i,l,c,d,m){i.applyFilter(this,l,c,d)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultVertexSrc",{get:function(){return rst},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultFragmentSrc",{get:function(){return nst},enumerable:!1,configurable:!0}),o}(Sb),ist=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,ast=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,F0e=new Ko,n9=function(){function n(o,i){this._texture=o,this.mapCoord=new Ko,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(o){this._texture=o,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(o,i){i===void 0&&(i=o);for(var l=this.mapCoord,c=0;c<o.length;c+=2){var d=o[c],m=o[c+1];i[c]=d*l.a+m*l.c+l.tx,i[c+1]=d*l.b+m*l.d+l.ty}return i},n.prototype.update=function(o){var i=this._texture;if(!i||!i.valid||!o&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;var l=i._uvs;this.mapCoord.set(l.x1-l.x0,l.y1-l.y0,l.x3-l.x0,l.y3-l.y0,l.x0,l.y0);var c=i.orig,d=i.trim;d&&(F0e.set(c.width/d.width,0,0,c.height/d.height,-d.x/d.width,-d.y/d.height),this.mapCoord.append(F0e));var m=i.baseTexture,b=this.uClampFrame,w=this.clampMargin/m.resolution,A=this.clampOffset;return b[0]=(i._frame.x+w+A)/m.width,b[1]=(i._frame.y+w+A)/m.height,b[2]=(i._frame.x+i._frame.width-w+A)/m.width,b[3]=(i._frame.y+i._frame.height-w+A)/m.height,this.uClampOffset[0]=A/m.realWidth,this.uClampOffset[1]=A/m.realHeight,this.isSimple=i._frame.width===m.width&&i._frame.height===m.height&&i.rotate===0,!0},n}(),aSe=function(n){ri(o,n);function o(i){var l=this,c=new Ko;return l=n.call(this,ist,ast)||this,i.renderable=!1,l.maskSprite=i,l.maskMatrix=c,l}return o.prototype.apply=function(i,l,c,d){var m=this.maskSprite,b=m._texture;b.valid&&(b.uvMatrix||(b.uvMatrix=new n9(b,0)),b.uvMatrix.update(),this.uniforms.npmAlpha=b.baseTexture.alphaMode?0:1,this.uniforms.mask=b,this.uniforms.otherMatrix=i.calculateSpriteMatrix(this.maskMatrix,m).prepend(b.uvMatrix.mapCoord),this.uniforms.alpha=m.worldAlpha,this.uniforms.maskClamp=b.uvMatrix.uClampFrame,i.applyFilter(this,l,c,d))},o}(Gv),oSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.enableScissor=!1,l.alphaMaskPool=[],l.maskDataPool=[],l.maskStack=[],l.alphaMaskIndex=0,l}return o.prototype.setMaskStack=function(i){this.maskStack=i,this.renderer.scissor.setMaskStack(i),this.renderer.stencil.setMaskStack(i)},o.prototype.push=function(i,l){var c=l;if(!c.isMaskData){var d=this.maskDataPool.pop()||new JEe;d.pooled=!0,d.maskObject=l,c=d}switch(c.autoDetect&&this.detect(c),c.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),c._target=i,c.type){case uc.SCISSOR:this.maskStack.push(c),this.renderer.scissor.push(c);break;case uc.STENCIL:this.maskStack.push(c),this.renderer.stencil.push(c);break;case uc.SPRITE:c.copyCountersOrReset(null),this.pushSpriteMask(c),this.maskStack.push(c);break}},o.prototype.pop=function(i){var l=this.maskStack.pop();if(!(!l||l._target!==i)){switch(l.type){case uc.SCISSOR:this.renderer.scissor.pop();break;case uc.STENCIL:this.renderer.stencil.pop(l.maskObject);break;case uc.SPRITE:this.popSpriteMask();break}l.reset(),l.pooled&&this.maskDataPool.push(l)}},o.prototype.detect=function(i){var l=i.maskObject;if(l.isSprite){i.type=uc.SPRITE;return}if(i.type=uc.STENCIL,this.enableScissor&&l.isFastRect&&l.isFastRect()){var c=l.worldTransform,d=Math.atan2(c.b,c.a),m=Math.atan2(c.d,c.c);d=Math.round(d*(180/Math.PI)*100),m=Math.round(m*(180/Math.PI)*100)-d,d=(d%9e3+9e3)%9e3,m=(m%18e3+18e3)%18e3,d===0&&m===9e3&&(i.type=uc.SCISSOR)}},o.prototype.pushSpriteMask=function(i){var l=i.maskObject,c=i._target,d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new aSe(l)]),d[0].resolution=this.renderer.resolution,d[0].maskSprite=l;var m=c.filterArea;c.filterArea=l.getBounds(!0),this.renderer.filter.push(c,d),c.filterArea=m,this.alphaMaskIndex++},o.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},o}(bc),sSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.maskStack=[],l.glConst=0,l}return o.prototype.getStackLength=function(){return this.maskStack.length},o.prototype.setMaskStack=function(i){var l=this.renderer.gl,c=this.getStackLength();this.maskStack=i;var d=this.getStackLength();d!==c&&(d===0?l.disable(this.glConst):(l.enable(this.glConst),this._useCurrent()))},o.prototype._useCurrent=function(){},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.maskStack=null},o}(bc),lSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.glConst=WebGLRenderingContext.SCISSOR_TEST,l}return o.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._scissorCounter:0},o.prototype.push=function(i){var l=i.maskObject;l.renderable=!0;var c=i._scissorRect,d=l.getBounds(!0),m=this.renderer.gl;l.renderable=!1,c?d.fit(c):m.enable(m.SCISSOR_TEST),i._scissorCounter++,i._scissorRect=d,this._useCurrent()},o.prototype.pop=function(){var i=this.renderer.gl;this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},o.prototype._useCurrent=function(){var i=this.maskStack[this.maskStack.length-1]._scissorRect,l=this.renderer.renderTexture.current,c=this.renderer.projection,d=c.transform,m=c.sourceFrame,b=c.destinationFrame,w=l?l.resolution:this.renderer.resolution,A=(i.x-m.x)*w+b.x,I=(i.y-m.y)*w+b.y,N=i.width*w,R=i.height*w;d&&(A+=d.tx*w,I+=d.ty*w),l||(I=this.renderer.height-R-I),this.renderer.gl.scissor(A,I,N,R)},o}(sSe),uSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.glConst=WebGLRenderingContext.STENCIL_TEST,l}return o.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._stencilCounter:0},o.prototype.push=function(i){var l=i.maskObject,c=this.renderer.gl,d=i._stencilCounter;d===0&&(this.renderer.framebuffer.forceStencil(),c.enable(c.STENCIL_TEST)),i._stencilCounter++,c.colorMask(!1,!1,!1,!1),c.stencilFunc(c.EQUAL,d,this._getBitwiseMask()),c.stencilOp(c.KEEP,c.KEEP,c.INCR),l.renderable=!0,l.render(this.renderer),this.renderer.batch.flush(),l.renderable=!1,this._useCurrent()},o.prototype.pop=function(i){var l=this.renderer.gl;this.getStackLength()===0?(l.disable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),l.clearStencil(0)):(l.colorMask(!1,!1,!1,!1),l.stencilOp(l.KEEP,l.KEEP,l.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},o.prototype._useCurrent=function(){var i=this.renderer.gl;i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.EQUAL,this.getStackLength(),this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)},o.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},o}(sSe),cSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.destinationFrame=null,l.sourceFrame=null,l.defaultFrame=null,l.projectionMatrix=new Ko,l.transform=null,l}return o.prototype.update=function(i,l,c,d){this.destinationFrame=i||this.destinationFrame||this.defaultFrame,this.sourceFrame=l||this.sourceFrame||i,this.calculateProjection(this.destinationFrame,this.sourceFrame,c,d),this.transform&&this.projectionMatrix.append(this.transform);var m=this.renderer;m.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,m.globalUniforms.update(),m.shader.shader&&m.shader.syncUniformGroup(m.shader.shader.uniforms.globals)},o.prototype.calculateProjection=function(i,l,c,d){var m=this.projectionMatrix,b=d?-1:1;m.identity(),m.a=1/l.width*2,m.d=b*(1/l.height*2),m.tx=-1-l.x*m.a,m.ty=-b-l.y*m.d},o.prototype.setTransform=function(i){},o}(bc),TT=new Ki,l2=new Ki,u2=new Ki,hSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.clearColor=i._backgroundColorRgba,l.defaultMaskStack=[],l.current=null,l.sourceFrame=new Ki,l.destinationFrame=new Ki,l}return o.prototype.bind=function(i,l,c){i===void 0&&(i=null);var d=this.renderer;this.current=i;var m,b,w;i?(m=i.baseTexture,w=m.resolution,l||(TT.width=i.frame.width,TT.height=i.frame.height,l=TT),c||(l2.x=i.frame.x,l2.y=i.frame.y,l2.width=l.width,l2.height=l.height,c=l2),b=m.framebuffer):(w=d.resolution,l||(TT.width=d.screen.width,TT.height=d.screen.height,l=TT),c||(c=TT,c.width=l.width,c.height=l.height)),u2.x=c.x*w,u2.y=c.y*w,u2.width=c.width*w,u2.height=c.height*w,this.renderer.framebuffer.bind(b,u2),this.renderer.projection.update(c,l,w,!b),i?this.renderer.mask.setMaskStack(m.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(l),this.destinationFrame.copyFrom(c)},o.prototype.clear=function(i,l){this.current?i=i||this.current.baseTexture.clearColor:i=i||this.clearColor,this.renderer.framebuffer.clear(i[0],i[1],i[2],i[3],l)},o.prototype.resize=function(){this.bind(null)},o.prototype.reset=function(){this.bind(null)},o}(bc),ost=function(){function n(){}return n}(),fSe=function(){function n(o,i){this.program=o,this.uniformData=i,this.uniformGroups={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},n}(),sst=0,B0e={textureCount:0},dSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.destroyed=!1,l.systemCheck(),l.gl=null,l.shader=null,l.program=null,l.cache={},l.id=sst++,l}return o.prototype.systemCheck=function(){if(!Qot())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},o.prototype.contextChange=function(i){this.gl=i,this.reset()},o.prototype.bind=function(i,l){i.uniforms.globals=this.renderer.globalUniforms;var c=i.program,d=c.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(i);return this.shader=i,this.program!==c&&(this.program=c,this.gl.useProgram(d.program)),l||(B0e.textureCount=0,this.syncUniformGroup(i.uniformGroup,B0e)),d},o.prototype.setUniforms=function(i){var l=this.shader.program,c=l.glPrograms[this.renderer.CONTEXT_UID];l.syncUniforms(c.uniformData,i,this.renderer)},o.prototype.syncUniformGroup=function(i,l){var c=this.getglProgram();(!i.static||i.dirtyId!==c.uniformGroups[i.id])&&(c.uniformGroups[i.id]=i.dirtyId,this.syncUniforms(i,c,l))},o.prototype.syncUniforms=function(i,l,c){var d=i.syncUniforms[this.shader.program.id]||this.createSyncGroups(i);d(l.uniformData,i.uniforms,this.renderer,c)},o.prototype.createSyncGroups=function(i){var l=this.getSignature(i,this.shader.program.uniformData);return this.cache[l]||(this.cache[l]=qot(i,this.shader.program.uniformData)),i.syncUniforms[this.shader.program.id]=this.cache[l],i.syncUniforms[this.shader.program.id]},o.prototype.getSignature=function(i,l){var c=i.uniforms,d=[];for(var m in c)d.push(m),l[m]&&d.push(l[m].type);return d.join("-")},o.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},o.prototype.generateShader=function(i){var l=this.gl,c=i.program,d={};for(var m in c.attributeData)d[m]=c.attributeData[m].location;var b=eSe(l,c.vertexSrc,c.fragmentSrc,d),w={};for(var m in c.uniformData){var A=c.uniformData[m];w[m]={location:l.getUniformLocation(b,m),value:tSe(A.type,A.size)}}var I=new fSe(b,w);return c.glPrograms[this.renderer.CONTEXT_UID]=I,I},o.prototype.reset=function(){this.program=null,this.shader=null},o.prototype.destroy=function(){this.destroyed=!0},o}(bc);function lst(n,o){return o===void 0&&(o=[]),o[Sn.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.ADD]=[n.ONE,n.ONE],o[Sn.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.NONE]=[0,0],o[Sn.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],o[Sn.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],o[Sn.SRC_IN]=[n.DST_ALPHA,n.ZERO],o[Sn.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],o[Sn.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],o[Sn.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],o[Sn.DST_IN]=[n.ZERO,n.SRC_ALPHA],o[Sn.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],o[Sn.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],o[Sn.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],o[Sn.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],o}var ust=0,cst=1,hst=2,fst=3,dst=4,pSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.gl=null,l.stateId=0,l.polygonOffset=0,l.blendMode=Sn.NONE,l._blendEq=!1,l.map=[],l.map[ust]=l.setBlend,l.map[cst]=l.setOffset,l.map[hst]=l.setCullFace,l.map[fst]=l.setDepthTest,l.map[dst]=l.setFrontFace,l.checks=[],l.defaultState=new wb,l.defaultState.blend=!0,l}return o.prototype.contextChange=function(i){this.gl=i,this.blendModes=lst(i),this.set(this.defaultState),this.reset()},o.prototype.set=function(i){if(i=i||this.defaultState,this.stateId!==i.data){for(var l=this.stateId^i.data,c=0;l;)l&1&&this.map[c].call(this,!!(i.data&1<<c)),l=l>>1,c++;this.stateId=i.data}for(var c=0;c<this.checks.length;c++)this.checks[c](this,i)},o.prototype.forceState=function(i){i=i||this.defaultState;for(var l=0;l<this.map.length;l++)this.map[l].call(this,!!(i.data&1<<l));for(var l=0;l<this.checks.length;l++)this.checks[l](this,i);this.stateId=i.data},o.prototype.setBlend=function(i){this.updateCheck(o.checkBlendMode,i),this.gl[i?"enable":"disable"](this.gl.BLEND)},o.prototype.setOffset=function(i){this.updateCheck(o.checkPolygonOffset,i),this.gl[i?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},o.prototype.setDepthTest=function(i){this.gl[i?"enable":"disable"](this.gl.DEPTH_TEST)},o.prototype.setCullFace=function(i){this.gl[i?"enable":"disable"](this.gl.CULL_FACE)},o.prototype.setFrontFace=function(i){this.gl.frontFace(this.gl[i?"CW":"CCW"])},o.prototype.setBlendMode=function(i){if(i!==this.blendMode){this.blendMode=i;var l=this.blendModes[i],c=this.gl;l.length===2?c.blendFunc(l[0],l[1]):c.blendFuncSeparate(l[0],l[1],l[2],l[3]),l.length===6?(this._blendEq=!0,c.blendEquationSeparate(l[4],l[5])):this._blendEq&&(this._blendEq=!1,c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD))}},o.prototype.setPolygonOffset=function(i,l){this.gl.polygonOffset(i,l)},o.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},o.prototype.updateCheck=function(i,l){var c=this.checks.indexOf(i);l&&c===-1?this.checks.push(i):!l&&c!==-1&&this.checks.splice(c,1)},o.checkBlendMode=function(i,l){i.setBlendMode(l.blendMode)},o.checkPolygonOffset=function(i,l){i.setPolygonOffset(1,l.polygonOffset)},o}(bc),mSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.count=0,l.checkCount=0,l.maxIdle=cn.GC_MAX_IDLE,l.checkCountMax=cn.GC_MAX_CHECK_COUNT,l.mode=cn.GC_MODE,l}return o.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==lU.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},o.prototype.run=function(){for(var i=this.renderer.texture,l=i.managedTextures,c=!1,d=0;d<l.length;d++){var m=l[d];!m.framebuffer&&this.count-m.touched>this.maxIdle&&(i.destroyTexture(m,!0),l[d]=null,c=!0)}if(c){for(var b=0,d=0;d<l.length;d++)l[d]!==null&&(l[b++]=l[d]);l.length=b}},o.prototype.unload=function(i){var l=this.renderer.texture,c=i._texture;c&&!c.framebuffer&&l.destroyTexture(c);for(var d=i.children.length-1;d>=0;d--)this.unload(i.children[d])},o}(bc),NH=function(){function n(o){this.texture=o,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return n}(),gSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.boundTextures=[],l.currentLocation=-1,l.managedTextures=[],l._unknownBoundTextures=!1,l.unknownTexture=new Va,l}return o.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var l=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=l;for(var c=0;c<l;c++)this.boundTextures[c]=null;this.emptyTextures={};var d=new NH(i.createTexture());i.bindTexture(i.TEXTURE_2D,d.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[i.TEXTURE_2D]=d,this.emptyTextures[i.TEXTURE_CUBE_MAP]=new NH(i.createTexture()),i.bindTexture(i.TEXTURE_CUBE_MAP,this.emptyTextures[i.TEXTURE_CUBE_MAP].texture);for(var c=0;c<6;c++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MIN_FILTER,i.LINEAR);for(var c=0;c<this.boundTextures.length;c++)this.bind(null,c)},o.prototype.bind=function(i,l){l===void 0&&(l=0);var c=this.gl;if(i){if(i=i.castToBaseTexture(),i.parentTextureArray)return;if(i.valid){i.touched=this.renderer.textureGC.count;var d=i._glTextures[this.CONTEXT_UID]||this.initTexture(i);this.boundTextures[l]!==i&&(this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),c.bindTexture(i.target,d.texture)),d.dirtyId!==i.dirtyId&&(this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),this.updateTexture(i)),this.boundTextures[l]=i}}else this.currentLocation!==l&&(this.currentLocation=l,c.activeTexture(c.TEXTURE0+l)),c.bindTexture(c.TEXTURE_2D,this.emptyTextures[c.TEXTURE_2D].texture),this.boundTextures[l]=null},o.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]=this.unknownTexture},o.prototype.unbind=function(i){var l=this,c=l.gl,d=l.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var m=0;m<d.length;m++)d[m]===this.unknownTexture&&this.bind(null,m)}for(var m=0;m<d.length;m++)d[m]===i&&(this.currentLocation!==m&&(c.activeTexture(c.TEXTURE0+m),this.currentLocation=m),c.bindTexture(i.target,this.emptyTextures[i.target].texture),d[m]=null)},o.prototype.initTexture=function(i){var l=new NH(this.gl.createTexture());return l.dirtyId=-1,i._glTextures[this.CONTEXT_UID]=l,this.managedTextures.push(i),i.on("dispose",this.destroyTexture,this),l},o.prototype.initTextureType=function(i,l){if(l.internalFormat=i.format,l.type=i.type,this.webGLVersion===2){var c=this.renderer.gl;i.type===c.FLOAT&&i.format===c.RGBA&&(l.internalFormat=c.RGBA32F),i.type===Zo.HALF_FLOAT&&(l.type=c.HALF_FLOAT),l.type===c.HALF_FLOAT&&i.format===c.RGBA&&(l.internalFormat=c.RGBA16F)}},o.prototype.updateTexture=function(i){var l=i._glTextures[this.CONTEXT_UID];if(l){var c=this.renderer;if(this.initTextureType(i,l),!(i.resource&&i.resource.upload(c,i,l))){var d=i.realWidth,m=i.realHeight,b=c.gl;(l.width!==d||l.height!==m||l.dirtyId<0)&&(l.width=d,l.height=m,b.texImage2D(i.target,0,l.internalFormat,d,m,0,i.format,l.type,null))}i.dirtyStyleId!==l.dirtyStyleId&&this.updateTextureStyle(i),l.dirtyId=i.dirtyId}},o.prototype.destroyTexture=function(i,l){var c=this.gl;if(i=i.castToBaseTexture(),i._glTextures[this.CONTEXT_UID]&&(this.unbind(i),c.deleteTexture(i._glTextures[this.CONTEXT_UID].texture),i.off("dispose",this.destroyTexture,this),delete i._glTextures[this.CONTEXT_UID],!l)){var d=this.managedTextures.indexOf(i);d!==-1&&qT(this.managedTextures,d,1)}},o.prototype.updateTextureStyle=function(i){var l=i._glTextures[this.CONTEXT_UID];l&&((i.mipmap===iI.POW2||this.webGLVersion!==2)&&!i.isPowerOfTwo?l.mipmap=!1:l.mipmap=i.mipmap>=1,this.webGLVersion!==2&&!i.isPowerOfTwo?l.wrapMode=Pv.CLAMP:l.wrapMode=i.wrapMode,i.resource&&i.resource.style(this.renderer,i,l)||this.setStyle(i,l),l.dirtyStyleId=i.dirtyStyleId)},o.prototype.setStyle=function(i,l){var c=this.gl;if(l.mipmap&&c.generateMipmap(i.target),c.texParameteri(i.target,c.TEXTURE_WRAP_S,l.wrapMode),c.texParameteri(i.target,c.TEXTURE_WRAP_T,l.wrapMode),l.mipmap){c.texParameteri(i.target,c.TEXTURE_MIN_FILTER,i.scaleMode===xm.LINEAR?c.LINEAR_MIPMAP_LINEAR:c.NEAREST_MIPMAP_NEAREST);var d=this.renderer.context.extensions.anisotropicFiltering;if(d&&i.anisotropicLevel>0&&i.scaleMode===xm.LINEAR){var m=Math.min(i.anisotropicLevel,c.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT));c.texParameterf(i.target,d.TEXTURE_MAX_ANISOTROPY_EXT,m)}}else c.texParameteri(i.target,c.TEXTURE_MIN_FILTER,i.scaleMode===xm.LINEAR?c.LINEAR:c.NEAREST);c.texParameteri(i.target,c.TEXTURE_MAG_FILTER,i.scaleMode===xm.LINEAR?c.LINEAR:c.NEAREST)},o}(bc),pst={FilterSystem:XEe,BatchSystem:YEe,ContextSystem:qEe,FramebufferSystem:KEe,GeometrySystem:QEe,MaskSystem:oSe,ScissorSystem:lSe,StencilSystem:uSe,ProjectionSystem:cSe,RenderTextureSystem:hSe,ShaderSystem:dSe,StateSystem:pSe,TextureGCSystem:mSe,TextureSystem:gSe},DZ=new Ko,vSe=function(n){ri(o,n);function o(i,l){i===void 0&&(i=rI.UNKNOWN);var c=n.call(this)||this;return l=Object.assign({},cn.RENDER_OPTIONS,l),l.roundPixels&&(cn.ROUND_PIXELS=l.roundPixels,fr("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),c.options=l,c.type=i,c.screen=new Ki(0,0,l.width,l.height),c.view=l.view||document.createElement("canvas"),c.resolution=l.resolution||cn.RESOLUTION,c.transparent=l.transparent,c.autoDensity=l.autoDensity||l.autoResize||!1,c.preserveDrawingBuffer=l.preserveDrawingBuffer,c.clearBeforeRender=l.clearBeforeRender,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=l.backgroundColor||c._backgroundColor,c._lastObjectRendered=null,c.plugins={},c}return o.prototype.initPlugins=function(i){for(var l in i)this.plugins[l]=new i[l](this)},Object.defineProperty(o.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),o.prototype.resize=function(i,l){this.screen.width=i,this.screen.height=l,this.view.width=i*this.resolution,this.view.height=l*this.resolution,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=l+"px"),this.emit("resize",i,l)},o.prototype.generateTexture=function(i,l,c,d){d=d||i.getLocalBounds(null,!0),d.width===0&&(d.width=1),d.height===0&&(d.height=1);var m=rE.create({width:d.width|0,height:d.height|0,scaleMode:l,resolution:c});return DZ.tx=-d.x,DZ.ty=-d.y,this.render(i,m,!1,DZ,!!i.parent),m},o.prototype.destroy=function(i){for(var l in this.plugins)this.plugins[l].destroy(),this.plugins[l]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var c=this;c.plugins=null,c.type=rI.UNKNOWN,c.view=null,c.screen=null,c._tempDisplayObjectParent=null,c.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(o.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._backgroundColorString=Eee(i),eE(i,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),o}(EI),$v=function(n){ri(o,n);function o(i){var l=n.call(this,rI.WEBGL,i)||this;return i=l.options,l.gl=null,l.CONTEXT_UID=0,l.runners={destroy:new ol("destroy"),contextChange:new ol("contextChange"),reset:new ol("reset"),update:new ol("update"),postrender:new ol("postrender"),prerender:new ol("prerender"),resize:new ol("resize")},l.globalUniforms=new yb({projectionMatrix:new Ko},!0),l.addSystem(oSe,"mask").addSystem(qEe,"context").addSystem(pSe,"state").addSystem(dSe,"shader").addSystem(gSe,"texture").addSystem(QEe,"geometry").addSystem(KEe,"framebuffer").addSystem(lSe,"scissor").addSystem(uSe,"stencil").addSystem(cSe,"projection").addSystem(mSe,"textureGC").addSystem(XEe,"filter").addSystem(hSe,"renderTexture").addSystem(YEe,"batch"),l.initPlugins(o.__plugins),i.context?l.context.initFromContext(i.context):l.context.initFromOptions({alpha:!!l.transparent,antialias:i.antialias,premultipliedAlpha:l.transparent&&l.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:l.options.powerPreference}),l.renderingToScreen=!0,yEe(l.context.webGLVersion===2?"WebGL 2":"WebGL 1"),l.resize(l.options.width,l.options.height),l}return o.create=function(i){if(bEe())return new o(i);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},o.prototype.addSystem=function(i,l){l||(l=i.name);var c=new i(this);if(this[l])throw new Error('Whoops! The name "'+l+'" is already in use');this[l]=c;for(var d in this.runners)this.runners[d].add(c);return this},o.prototype.render=function(i,l,c,d,m){if(this.renderingToScreen=!l,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=d,!this.context.isLost){if(l||(this._lastObjectRendered=i),!m){var b=i.enableTempParent();i.updateTransform(),i.disableTempParent(b)}this.renderTexture.bind(l),this.batch.currentRenderer.start(),(c!==void 0?c:this.clearBeforeRender)&&this.renderTexture.clear(),i.render(this),this.batch.currentRenderer.flush(),l&&l.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},o.prototype.resize=function(i,l){n.prototype.resize.call(this,i,l),this.runners.resize.emit(i,l)},o.prototype.reset=function(){return this.runners.reset.emit(),this},o.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},o.prototype.destroy=function(i){this.runners.destroy.emit();for(var l in this.runners)this.runners[l].destroy();n.prototype.destroy.call(this,i),this.gl=null},o.registerPlugin=function(i,l){o.__plugins=o.__plugins||{},o.__plugins[i]=l},o}(vSe);function ySe(n){return $v.create(n)}var bSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Lee=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,hU=function(){function n(){this.texArray=null,this.blend=0,this.type=lf.TRIANGLES,this.start=0,this.size=0,this.data=null}return n}(),fU=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var o=0;o<this.count;o++)this.elements[o]=null;this.count=0},n}(),_Se=function(){function n(o){this.rawBinaryData=new ArrayBuffer(o),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(o){return this[o+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(o){switch(o){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(o+" isn't a valid view type")}},n}(),TSe=function(n){ri(o,n);function o(i){var l=n.call(this,i)||this;return l.shaderGenerator=null,l.geometryClass=null,l.vertexSize=null,l.state=wb.for2d(),l.size=cn.SPRITE_BATCH_SIZE*4,l._vertexCount=0,l._indexCount=0,l._bufferedElements=[],l._bufferedTextures=[],l._bufferSize=0,l._shader=null,l._packedGeometries=[],l._packedGeometryPoolSize=2,l._flushId=0,l._aBuffers={},l._iBuffers={},l.MAX_TEXTURES=1,l.renderer.on("prerender",l.onPrerender,l),i.runners.contextChange.add(l),l._dcIndex=0,l._aIndex=0,l._iIndex=0,l._attributeBuffer=null,l._indexBuffer=null,l._tempBoundTextures=[],l}return o.prototype.contextChange=function(){var i=this.renderer.gl;cn.PREFER_ENV===Mm.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),cn.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=iSe(this.MAX_TEXTURES,i)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var l=0;l<this._packedGeometryPoolSize;l++)this._packedGeometries[l]=new this.geometryClass;this.initFlushBuffers()},o.prototype.initFlushBuffers=function(){for(var i=o._drawCallPool,l=o._textureArrayPool,c=this.size/4,d=Math.floor(c/this.MAX_TEXTURES)+1;i.length<c;)i.push(new hU);for(;l.length<d;)l.push(new fU);for(var m=0;m<this.MAX_TEXTURES;m++)this._tempBoundTextures[m]=null},o.prototype.onPrerender=function(){this._flushId=0},o.prototype.render=function(i){i._texture.valid&&(this._vertexCount+i.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=i.vertexData.length/2,this._indexCount+=i.indices.length,this._bufferedTextures[this._bufferSize]=i._texture.baseTexture,this._bufferedElements[this._bufferSize++]=i)},o.prototype.buildTexturesAndDrawCalls=function(){var i=this,l=i._bufferedTextures,c=i.MAX_TEXTURES,d=o._textureArrayPool,m=this.renderer.batch,b=this._tempBoundTextures,w=this.renderer.textureGC.count,A=++Va._globalBatch,I=0,N=d[0],R=0;m.copyBoundTextures(b,c);for(var D=0;D<this._bufferSize;++D){var L=l[D];l[D]=null,L._batchEnabled!==A&&(N.count>=c&&(m.boundArray(N,b,A,c),this.buildDrawCalls(N,R,D),R=D,N=d[++I],++A),L._batchEnabled=A,L.touched=w,N.elements[N.count++]=L)}N.count>0&&(m.boundArray(N,b,A,c),this.buildDrawCalls(N,R,this._bufferSize),++I,++A);for(var D=0;D<b.length;D++)b[D]=null;Va._globalBatch=A},o.prototype.buildDrawCalls=function(i,l,c){var d=this,m=d._bufferedElements,b=d._attributeBuffer,w=d._indexBuffer,A=d.vertexSize,I=o._drawCallPool,N=this._dcIndex,R=this._aIndex,D=this._iIndex,L=I[N];L.start=this._iIndex,L.texArray=i;for(var z=l;z<c;++z){var V=m[z],te=V._texture.baseTexture,fe=Aee[te.alphaMode?1:0][V.blendMode];m[z]=null,l<z&&L.blend!==fe&&(L.size=D-L.start,l=z,L=I[++N],L.texArray=i,L.start=D),this.packInterleavedGeometry(V,b,w,R,D),R+=V.vertexData.length/2*A,D+=V.indices.length,L.blend=fe}l<c&&(L.size=D-L.start,++N),this._dcIndex=N,this._aIndex=R,this._iIndex=D},o.prototype.bindAndClearTexArray=function(i){for(var l=this.renderer.texture,c=0;c<i.count;c++)l.bind(i.elements[c],i.ids[c]),i.elements[c]=null;i.count=0},o.prototype.updateGeometry=function(){var i=this,l=i._packedGeometries,c=i._attributeBuffer,d=i._indexBuffer;cn.CAN_UPLOAD_SAME_BUFFER?(l[this._flushId]._buffer.update(c.rawBinaryData),l[this._flushId]._indexBuffer.update(d),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,l[this._flushId]=new this.geometryClass),l[this._flushId]._buffer.update(c.rawBinaryData),l[this._flushId]._indexBuffer.update(d),this.renderer.geometry.bind(l[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},o.prototype.drawBatches=function(){for(var i=this._dcIndex,l=this.renderer,c=l.gl,d=l.state,m=o._drawCallPool,b=null,w=0;w<i;w++){var A=m[w],I=A.texArray,N=A.type,R=A.size,D=A.start,L=A.blend;b!==I&&(b=I,this.bindAndClearTexArray(I)),this.state.blendMode=L,d.set(this.state),c.drawElements(N,R,c.UNSIGNED_SHORT,D*2)}},o.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},o.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),cn.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]&&this._packedGeometries[i].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},o.prototype.getAttributeBuffer=function(i){var l=j2(Math.ceil(i/8)),c=yQ(l),d=l*8;this._aBuffers.length<=c&&(this._iBuffers.length=c+1);var m=this._aBuffers[d];return m||(this._aBuffers[d]=m=new _Se(d*this.vertexSize*4)),m},o.prototype.getIndexBuffer=function(i){var l=j2(Math.ceil(i/12)),c=yQ(l),d=l*12;this._iBuffers.length<=c&&(this._iBuffers.length=c+1);var m=this._iBuffers[c];return m||(this._iBuffers[c]=m=new Uint16Array(d)),m},o.prototype.packInterleavedGeometry=function(i,l,c,d,m){for(var b=l.uint32View,w=l.float32View,A=d/this.vertexSize,I=i.uvs,N=i.indices,R=i.vertexData,D=i._texture.baseTexture._batchLocation,L=Math.min(i.worldAlpha,1),z=L<1&&i._texture.baseTexture.alphaMode?e9(i._tintRGB,L):i._tintRGB+(L*255<<24),V=0;V<R.length;V+=2)w[d++]=R[V],w[d++]=R[V+1],w[d++]=I[V],w[d++]=I[V+1],b[d++]=z,w[d++]=D;for(var V=0;V<N.length;V++)c[m++]=A+N[V]},o._drawCallPool=[],o._textureArrayPool=[],o}(AM),ESe=function(){function n(o,i){if(this.vertexSrc=o,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},i.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(i.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(o){if(!this.programCache[o]){for(var i=new Int32Array(o),l=0;l<o;l++)i[l]=l;this.defaultGroupCache[o]=yb.from({uSamplers:i},!0);var c=this.fragTemplate;c=c.replace(/%count%/gi,""+o),c=c.replace(/%forloop%/gi,this.generateSampleSrc(o)),this.programCache[o]=new wM(this.vertexSrc,c)}var d={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ko,default:this.defaultGroupCache[o]};return new Sb(this.programCache[o],d)},n.prototype.generateSampleSrc=function(o){var i="";i+=`
`,i+=`
`;for(var l=0;l<o;l++)l>0&&(i+=`
else `),l<o-1&&(i+="if(vTextureId < "+l+".5)"),i+=`
{`,i+=`
	color = texture2D(uSamplers[`+l+"], vTextureCoord);",i+=`
}`;return i+=`
`,i+=`
`,i},n}(),Fee=function(n){ri(o,n);function o(i){i===void 0&&(i=!1);var l=n.call(this)||this;return l._buffer=new Rs(null,i,!1),l._indexBuffer=new Rs(null,i,!0),l.addAttribute("aVertexPosition",l._buffer,2,!1,Zo.FLOAT).addAttribute("aTextureCoord",l._buffer,2,!1,Zo.FLOAT).addAttribute("aColor",l._buffer,4,!0,Zo.UNSIGNED_BYTE).addAttribute("aTextureId",l._buffer,1,!0,Zo.FLOAT).addIndex(l._indexBuffer),l}return o}(AI),H0e=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,U0e=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,SSe=function(){function n(){}return n.create=function(o){var i=Object.assign({vertex:H0e,fragment:U0e,geometryClass:Fee,vertexSize:6},o),l=i.vertex,c=i.fragment,d=i.vertexSize,m=i.geometryClass;return function(b){ri(w,b);function w(A){var I=b.call(this,A)||this;return I.shaderGenerator=new ESe(l,c),I.geometryClass=m,I.vertexSize=d,I}return w}(TSe)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return H0e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return U0e},enumerable:!1,configurable:!0}),n}(),ASe=SSe.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var CM=function(){function n(o){var i=this;o=Object.assign({forceCanvas:!1},o),this.renderer=ySe(o),this.stage=new Rd,n._plugins.forEach(function(l){l.init.call(i,o)})}return n.registerPlugin=function(o){n._plugins.push(o)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(o,i){var l=this,c=n._plugins.slice(0);c.reverse(),c.forEach(function(d){d.destroy.call(l)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(o),this.renderer=null},n}();CM._plugins=[];var mst=function(){function n(){}return n.init=function(o){var i=this;Object.defineProperty(this,"resizeTo",{set:function(l){window.removeEventListener("resize",this.queueResize),this._resizeTo=l,l&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){if(i._resizeTo){i.cancelResize();var l,c;if(i._resizeTo===window)l=window.innerWidth,c=window.innerHeight;else{var d=i._resizeTo,m=d.clientWidth,b=d.clientHeight;l=m,c=b}i.renderer.resize(l,c)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=o.resizeTo||null},n.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();CM.registerPlugin(mst);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G0e=new Ki,$0e=4,wSe=function(){function n(o){this.renderer=o,o.extract=this}return n.prototype.image=function(o,i,l){var c=new Image;return c.src=this.base64(o,i,l),c},n.prototype.base64=function(o,i,l){return this.canvas(o).toDataURL(i,l)},n.prototype.canvas=function(o){var i=this.renderer,l,c,d=!1,m,b=!1;o&&(o instanceof rE?m=o:(m=this.renderer.generateTexture(o),b=!0)),m?(l=m.baseTexture.resolution,c=m.frame,d=!1,i.renderTexture.bind(m)):(l=this.renderer.resolution,d=!0,c=G0e,c.width=this.renderer.width,c.height=this.renderer.height,i.renderTexture.bind(null));var w=Math.floor(c.width*l+1e-4),A=Math.floor(c.height*l+1e-4),I=new _Q(w,A,1),N=new Uint8Array($0e*w*A),R=i.gl;R.readPixels(c.x*l,c.y*l,w,A,R.RGBA,R.UNSIGNED_BYTE,N);var D=I.context.getImageData(0,0,w,A);if(n.arrayPostDivide(N,D.data),I.context.putImageData(D,0,0),d){var L=new _Q(I.width,I.height,1);L.context.scale(1,-1),L.context.drawImage(I.canvas,0,-A),I.destroy(),I=L}return b&&m.destroy(!0),I.canvas},n.prototype.pixels=function(o){var i=this.renderer,l,c,d,m=!1;o&&(o instanceof rE?d=o:(d=this.renderer.generateTexture(o),m=!0)),d?(l=d.baseTexture.resolution,c=d.frame,i.renderTexture.bind(d)):(l=i.resolution,c=G0e,c.width=i.width,c.height=i.height,i.renderTexture.bind(null));var b=c.width*l,w=c.height*l,A=new Uint8Array($0e*b*w),I=i.gl;return I.readPixels(c.x*l,c.y*l,b,w,I.RGBA,I.UNSIGNED_BYTE,A),m&&d.destroy(!0),n.arrayPostDivide(A,A),A},n.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},n.arrayPostDivide=function(o,i){for(var l=0;l<o.length;l+=4){var c=i[l+3]=o[l+3];c!==0?(i[l]=Math.round(Math.min(o[l]*255/c,255)),i[l+1]=Math.round(Math.min(o[l+1]*255/c,255)),i[l+2]=Math.round(Math.min(o[l+2]*255/c,255))):(i[l]=o[l],i[l+1]=o[l+1],i[l+2]=o[l+2])}},n}(),gst=(n,o={})=>{if(!n)return;const i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},l=i.parser[o.strictMode?"strict":"loose"].exec(n),c={};let d=14;for(;d--;)c[i.key[d]]=l[d]||"";return c[i.q.name]={},c[i.key[12]].replace(i.q.parser,function(m,b,w){b&&(c[i.q.name][b]=w)}),c};const CSe=_f(gst);class X8{constructor(o,i=!1,l){this._fn=o,this._once=i,this._thisArg=l,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function z0e(n,o){return n._head?(n._tail._next=o,o._prev=n._tail,n._tail=o):(n._head=o,n._tail=o),o._owner=n,o}class xv{constructor(){this._head=this._tail=void 0}handlers(o=!1){let i=this._head;if(o)return!!i;const l=[];for(;i;)l.push(i),i=i._next;return l}has(o){if(!(o instanceof X8))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return o._owner===this}dispatch(){let o=this._head;if(!o)return!1;for(;o;)o._once&&this.detach(o),o._fn.apply(o._thisArg,arguments),o=o._next;return!0}add(o,i=null){if(typeof o!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return z0e(this,new X8(o,!1,i))}once(o,i=null){if(typeof o!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return z0e(this,new X8(o,!0,i))}detach(o){if(!(o instanceof X8))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return o._owner!==this?this:(o._prev&&(o._prev._next=o._next),o._next&&(o._next._prev=o._prev),o===this._head?(this._head=o._next,o._next===null&&(this._tail=null)):o===this._tail&&(this._tail=o._prev,this._tail._next=null),o._owner=null,this)}detachAll(){let o=this._head;if(!o)return this;for(this._head=this._tail=null;o;)o._owner=null,o=o._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function ET(){}function V0e(n,o,i,l){var c=0,d=n.length;(function m(b){if(b||c===d){i&&i(b);return}l?setTimeout(function(){o(n[c++],m)},1):o(n[c++],m)})()}function vst(n){return function(){if(n===null)throw new Error("Callback was already called.");var i=n;n=null,i.apply(this,arguments)}}function yst(n,o){if(o==null)o=1;else if(o===0)throw new Error("Concurrency must not be zero");var i=0,l={_tasks:[],concurrency:o,saturated:ET,unsaturated:ET,buffer:o/4,empty:ET,drain:ET,error:ET,started:!1,paused:!1,push:function(b,w){c(b,!1,w)},kill:function(){i=0,l.drain=ET,l.started=!1,l._tasks=[]},unshift:function(b,w){c(b,!0,w)},process:function(){for(;!l.paused&&i<l.concurrency&&l._tasks.length;){var b=l._tasks.shift();l._tasks.length===0&&l.empty(),i+=1,i===l.concurrency&&l.saturated(),n(b.data,vst(d(b)))}},length:function(){return l._tasks.length},running:function(){return i},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused!==!0&&(l.paused=!0)},resume:function(){if(l.paused!==!1){l.paused=!1;for(var b=1;b<=l.concurrency;b++)l.process()}}};function c(m,b,w){if(w!=null&&typeof w!="function")throw new Error("task callback must be a function");if(l.started=!0,m==null&&l.idle()){setTimeout(function(){return l.drain()},1);return}var A={data:m,callback:typeof w=="function"?w:ET};b?l._tasks.unshift(A):l._tasks.push(A),setTimeout(function(){return l.process()},1)}function d(m){return function(){i-=1,m.callback.apply(m,arguments),arguments[0]!=null&&l.error(arguments[0],m.data),i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}return l}var OZ={};function bst(n,o){var i=this;OZ[n.url]?(n.data=OZ[n.url],n.complete()):n.onComplete.once(function(){return OZ[i.url]=i.data}),o()}function j0e(n,o){for(var i=0;i<o.length;i++){var l=o[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function xSe(n,o,i){return o&&j0e(n.prototype,o),i&&j0e(n,i),n}var _st=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Y8=null,Tst=0,W0e=200,Est=204,Sst=1223,Ast=2;function wst(){}var Cn=function(){n.setExtensionLoadType=function(l,c){X0e(n._loadTypeMap,l,c)},n.setExtensionXhrType=function(l,c){X0e(n._xhrTypeMap,l,c)};function n(i,l,c){if(typeof i!="string"||typeof l!="string")throw new Error("Both name and url are required for constructing a resource.");c=c||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,l.indexOf("data:")===0),this.name=i,this.url=l,this.extension=this._getExtension(),this.data=null,this.crossOrigin=c.crossOrigin===!0?"anonymous":c.crossOrigin,this.timeout=c.timeout||0,this.loadType=c.loadType||this._determineLoadType(),this.xhrType=c.xhrType,this.metadata=c.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=wst,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new xv,this.onProgress=new xv,this.onComplete=new xv,this.onAfterMiddleware=new xv}var o=n.prototype;return o.complete=function(){this._clearEvents(),this._finish()},o.abort=function(l){if(!this.error){if(this.error=new Error(l),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},o.load=function(l){var c=this;if(!this.isLoading){if(this.isComplete){l&&setTimeout(function(){return l(c)},1);return}else l&&this.onComplete.once(l);switch(this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;case n.LOAD_TYPE.XHR:default:_st&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},o._hasFlag=function(l){return(this._flags&l)!==0},o._setFlag=function(l,c){this._flags=c?this._flags|l:this._flags&~l},o._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},o._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o._loadElement=function(l){this.metadata.loadElement?this.data=this.metadata.loadElement:l==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(l),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o._loadSourceElement=function(l){if(this.metadata.loadElement?this.data=this.metadata.loadElement:l==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(l),this.data===null){this.abort("Unsupported element: "+l);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var c=this.metadata.mimeType,d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(l,this.url[d],Array.isArray(c)?c[d]:c));else{var m=this.metadata.mimeType;this.data.appendChild(this._createSource(l,this.url,Array.isArray(m)?m[0]:m))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var l=this.xhr=new XMLHttpRequest;l.open("GET",this.url,!0),l.timeout=this.timeout,this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?l.responseType=n.XHR_RESPONSE_TYPE.TEXT:l.responseType=this.xhrType,l.addEventListener("error",this._boundXhrOnError,!1),l.addEventListener("timeout",this._boundXhrOnTimeout,!1),l.addEventListener("abort",this._boundXhrOnAbort,!1),l.addEventListener("progress",this._boundOnProgress,!1),l.addEventListener("load",this._boundXhrOnLoad,!1),l.send()},o._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var l=this.xhr=new XDomainRequest;l.timeout=this.timeout||5e3,l.onerror=this._boundXhrOnError,l.ontimeout=this._boundXhrOnTimeout,l.onprogress=this._boundOnProgress,l.onload=this._boundXhrOnLoad,l.open("GET",this.url,!0),setTimeout(function(){return l.send()},1)},o._createSource=function(l,c,d){d||(d=l+"/"+this._getExtension(c));var m=document.createElement("source");return m.src=c,m.type=d,m},o._onError=function(l){this.abort("Failed to load element using: "+l.target.nodeName)},o._onProgress=function(l){l&&l.lengthComputable&&this.onProgress.dispatch(this,l.loaded/l.total)},o._onTimeout=function(){this.abort("Load timed out.")},o._xhrOnError=function(){var l=this.xhr;this.abort(kZ(l)+" Request failed. Status: "+l.status+', text: "'+l.statusText+'"')},o._xhrOnTimeout=function(){var l=this.xhr;this.abort(kZ(l)+" Request timed out.")},o._xhrOnAbort=function(){var l=this.xhr;this.abort(kZ(l)+" Request was aborted by the user.")},o._xhrOnLoad=function(){var l=this.xhr,c="",d=typeof l.status>"u"?W0e:l.status;(l.responseType===""||l.responseType==="text"||typeof l.responseType>"u")&&(c=l.responseText),d===Tst&&(c.length>0||l.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?d=W0e:d===Sst&&(d=Est);var m=d/100|0;if(m===Ast)if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=n.TYPE.JSON}catch(A){this.abort("Error trying to parse loaded json: "+A);return}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var b=new DOMParser;this.data=b.parseFromString(c,"text/xml")}else{var w=document.createElement("div");w.innerHTML=c,this.data=w}this.type=n.TYPE.XML}catch(A){this.abort("Error trying to parse loaded xml: "+A);return}else this.data=l.response||c;else{this.abort("["+l.status+"] "+l.statusText+": "+l.responseURL);return}this.complete()},o._determineCrossOrigin=function(l,c){if(l.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";c=c||window.location,Y8||(Y8=document.createElement("a")),Y8.href=l,l=CSe(Y8.href,{strictMode:!0});var d=!l.port&&c.port===""||l.port===c.port,m=l.protocol?l.protocol+":":"";return l.host!==c.hostname||!d||m!==c.protocol?"anonymous":""},o._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},o._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},o._getExtension=function(){var l=this.url,c="";if(this.isDataUrl){var d=l.indexOf("/");c=l.substring(d+1,l.indexOf(";",d))}else{var m=l.indexOf("?"),b=l.indexOf("#"),w=Math.min(m>-1?m:l.length,b>-1?b:l.length);l=l.substring(0,w),c=l.substring(l.lastIndexOf(".")+1)}return c.toLowerCase()},o._getMimeFromXhrType=function(l){switch(l){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";case n.XHR_RESPONSE_TYPE.DEFAULT:case n.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},xSe(n,[{key:"isDataUrl",get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)}}]),n}();Cn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};Cn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Cn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Cn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Cn._loadTypeMap={gif:Cn.LOAD_TYPE.IMAGE,png:Cn.LOAD_TYPE.IMAGE,bmp:Cn.LOAD_TYPE.IMAGE,jpg:Cn.LOAD_TYPE.IMAGE,jpeg:Cn.LOAD_TYPE.IMAGE,tif:Cn.LOAD_TYPE.IMAGE,tiff:Cn.LOAD_TYPE.IMAGE,webp:Cn.LOAD_TYPE.IMAGE,tga:Cn.LOAD_TYPE.IMAGE,svg:Cn.LOAD_TYPE.IMAGE,"svg+xml":Cn.LOAD_TYPE.IMAGE,mp3:Cn.LOAD_TYPE.AUDIO,ogg:Cn.LOAD_TYPE.AUDIO,wav:Cn.LOAD_TYPE.AUDIO,mp4:Cn.LOAD_TYPE.VIDEO,webm:Cn.LOAD_TYPE.VIDEO};Cn._xhrTypeMap={xhtml:Cn.XHR_RESPONSE_TYPE.DOCUMENT,html:Cn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Cn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Cn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Cn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Cn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Cn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Cn.XHR_RESPONSE_TYPE.BLOB,png:Cn.XHR_RESPONSE_TYPE.BLOB,bmp:Cn.XHR_RESPONSE_TYPE.BLOB,jpg:Cn.XHR_RESPONSE_TYPE.BLOB,jpeg:Cn.XHR_RESPONSE_TYPE.BLOB,tif:Cn.XHR_RESPONSE_TYPE.BLOB,tiff:Cn.XHR_RESPONSE_TYPE.BLOB,webp:Cn.XHR_RESPONSE_TYPE.BLOB,tga:Cn.XHR_RESPONSE_TYPE.BLOB,json:Cn.XHR_RESPONSE_TYPE.JSON,text:Cn.XHR_RESPONSE_TYPE.TEXT,txt:Cn.XHR_RESPONSE_TYPE.TEXT,ttf:Cn.XHR_RESPONSE_TYPE.BUFFER,otf:Cn.XHR_RESPONSE_TYPE.BUFFER};Cn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function X0e(n,o,i){o&&o.indexOf(".")===0&&(o=o.substring(1)),o&&(n[o]=i)}function kZ(n){return n.toString().replace("object ","")}var Cst="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function xst(n){for(var o="",i=0;i<n.length;){for(var l=[0,0,0],c=[0,0,0,0],d=0;d<l.length;++d)i<n.length?l[d]=n.charCodeAt(i++)&255:l[d]=0;c[0]=l[0]>>2,c[1]=(l[0]&3)<<4|l[1]>>4,c[2]=(l[1]&15)<<2|l[2]>>6,c[3]=l[2]&63;var m=i-(n.length-1);switch(m){case 2:c[3]=64,c[2]=64;break;case 1:c[3]=64;break}for(var b=0;b<c.length;++b)o+=Cst.charAt(c[b])}return o}var Y0e=window.URL||window.webkitURL;function Ist(n,o){if(!n.data){o();return}if(n.xhr&&n.xhrType===Cn.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof n.data=="string"){var i=n.xhr.getResponseHeader("content-type");if(i&&i.indexOf("image")===0){n.data=new Image,n.data.src="data:"+i+";base64,"+xst(n.xhr.responseText),n.type=Cn.TYPE.IMAGE,n.data.onload=function(){n.data.onload=null,o()};return}}else if(n.data.type.indexOf("image")===0){var l=Y0e.createObjectURL(n.data);n.blob=n.data,n.data=new Image,n.data.src=l,n.type=Cn.TYPE.IMAGE,n.data.onload=function(){Y0e.revokeObjectURL(l),n.data.onload=null,o()};return}}o()}var Dst={caching:bst,parsing:Ist},RZ=100,Ost=/(#[\w-]+)?$/,Nv=function(){function n(i,l){var c=this;i===void 0&&(i=""),l===void 0&&(l=10),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(b,w){return c._loadResource(b,w)},this._queue=yst(this._boundLoadResource,l),this._queue.pause(),this.resources={},this.onProgress=new xv,this.onError=new xv,this.onLoad=new xv,this.onStart=new xv,this.onComplete=new xv;for(var d=0;d<n._defaultBeforeMiddleware.length;++d)this.pre(n._defaultBeforeMiddleware[d]);for(var m=0;m<n._defaultAfterMiddleware.length;++m)this.use(n._defaultAfterMiddleware[m])}var o=n.prototype;return o.add=function(l,c,d,m){if(Array.isArray(l)){for(var b=0;b<l.length;++b)this.add(l[b]);return this}if(typeof l=="object"&&(m=c||l.callback||l.onComplete,d=l,c=l.url,l=l.name||l.key||l.url),typeof c!="string"&&(m=d,d=c,c=l),typeof c!="string")throw new Error("No url passed to add resource to loader.");if(typeof d=="function"&&(m=d,d=null),this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[l])throw new Error('Resource named "'+l+'" already exists.');if(c=this._prepareUrl(c),this.resources[l]=new Cn(l,c,d),typeof m=="function"&&this.resources[l].onAfterMiddleware.once(m),this.loading){for(var w=d.parentResource,A=[],I=0;I<w.children.length;++I)w.children[I].isComplete||A.push(w.children[I]);var N=w.progressChunk*(A.length+1),R=N/(A.length+2);w.children.push(this.resources[l]),w.progressChunk=R;for(var D=0;D<A.length;++D)A[D].progressChunk=R;this.resources[l].progressChunk=R}return this._queue.push(this.resources[l]),this},o.pre=function(l){return this._beforeMiddleware.push(l),this},o.use=function(l){return this._afterMiddleware.push(l),this},o.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var l in this.resources){var c=this.resources[l];c._onLoadBinding&&c._onLoadBinding.detach(),c.isLoading&&c.abort()}return this.resources={},this},o.load=function(l){if(typeof l=="function"&&this.onComplete.once(l),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var c=this._queue._tasks.length,d=RZ/c,m=0;m<this._queue._tasks.length;++m)this._queue._tasks[m].data.progressChunk=d;this._onStart(),this._queue.resume()}return this},o._prepareUrl=function(l){var c=CSe(l,{strictMode:!0}),d;if(c.protocol||!c.path||l.indexOf("//")===0?d=l:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&l.charAt(0)!=="/"?d=this.baseUrl+"/"+l:d=this.baseUrl+l,this.defaultQueryString){var m=Ost.exec(d)[0];d=d.substr(0,d.length-m.length),d.indexOf("?")!==-1?d+="&"+this.defaultQueryString:d+="?"+this.defaultQueryString,d+=m}return d},o._loadResource=function(l,c){var d=this;l._dequeue=c,V0e(this._beforeMiddleware,function(m,b){m.call(d,l,function(){b(l.isComplete?{}:null)})},function(){l.isComplete?d._onLoad(l):(l._onLoadBinding=l.onComplete.once(d._onLoad,d),l.load())},!0)},o._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},o._onComplete=function(){this.progress=RZ,this.loading=!1,this.onComplete.dispatch(this,this.resources)},o._onLoad=function(l){var c=this;l._onLoadBinding=null,this._resourcesParsing.push(l),l._dequeue(),V0e(this._afterMiddleware,function(d,m){d.call(c,l,m)},function(){l.onAfterMiddleware.dispatch(l),c.progress=Math.min(RZ,c.progress+l.progressChunk),c.onProgress.dispatch(c,l),l.error?c.onError.dispatch(l.error,c,l):c.onLoad.dispatch(c,l),c._resourcesParsing.splice(c._resourcesParsing.indexOf(l),1),c._queue.idle()&&c._resourcesParsing.length===0&&c._onComplete()},!0)},xSe(n,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(l){this._queue.concurrency=l}}]),n}();Nv._defaultBeforeMiddleware=[];Nv._defaultAfterMiddleware=[];Nv.pre=function(o){return Nv._defaultBeforeMiddleware.push(o),Nv};Nv.use=function(o){return Nv._defaultAfterMiddleware.push(o),Nv};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var k2=Cn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xQ=function(n,o){return xQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},xQ(n,o)};function kst(n,o){xQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var ISe=function(){function n(){}return n.use=function(o,i){o.data&&o.type===Cn.TYPE.IMAGE&&(o.texture=zn.fromLoader(o.data,o.url,o.name)),i()},n}(),nE=function(n){kst(o,n);function o(i,l){for(var c=n.call(this,i,l)||this,d=0;d<o._plugins.length;++d){var m=o._plugins[d],b=m.pre,w=m.use;b&&c.pre(b),w&&c.use(w)}return c._protected=!1,c}return o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(o,"shared",{get:function(){var i=o._shared;return i||(i=new o,i._protected=!0,o._shared=i),i},enumerable:!1,configurable:!0}),o.registerPlugin=function(i){return o._plugins.push(i),i.add&&i.add(),o},o._plugins=[],o}(Nv);nE.registerPlugin({use:Dst.parsing});nE.registerPlugin(ISe);var DSe=function(){function n(){}return n.init=function(o){o=Object.assign({sharedLoader:!1},o),this.loader=o.sharedLoader?nE.shared:new nE},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IQ=function(n,o){return IQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},IQ(n,o)};function OSe(n,o){IQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Rst=function(n){OSe(o,n);function o(i,l,c,d){i===void 0&&(i=1500),c===void 0&&(c=16384),d===void 0&&(d=!1);var m=n.call(this)||this,b=16384;return c>b&&(c=b),m._properties=[!1,!0,!1,!1,!1],m._maxSize=i,m._batchSize=c,m._buffers=null,m._bufferUpdateIDs=[],m._updateID=0,m.interactiveChildren=!1,m.blendMode=Sn.NORMAL,m.autoResize=d,m.roundPixels=!0,m.baseTexture=null,m.setProperties(l),m._tint=0,m.tintRgb=new Float32Array(4),m.tint=16777215,m}return o.prototype.setProperties=function(i){i&&(this._properties[0]="vertices"in i||"scale"in i?!!i.vertices||!!i.scale:this._properties[0],this._properties[1]="position"in i?!!i.position:this._properties[1],this._properties[2]="rotation"in i?!!i.rotation:this._properties[2],this._properties[3]="uvs"in i?!!i.uvs:this._properties[3],this._properties[4]="tint"in i||"alpha"in i?!!i.tint||!!i.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i,eE(i,this.tintRgb)},enumerable:!1,configurable:!0}),o.prototype.render=function(i){var l=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return l.onChildrenChange(0)})),i.batch.setObjectRenderer(i.plugins.particle),i.plugins.particle.render(this))},o.prototype.onChildrenChange=function(i){for(var l=Math.floor(i/this._batchSize);this._bufferUpdateIDs.length<l;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[l]=++this._updateID},o.prototype.dispose=function(){if(this._buffers){for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._buffers=null}},o.prototype.destroy=function(i){n.prototype.destroy.call(this,i),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},o}(Rd),q0e=function(){function n(o,i,l){this.geometry=new AI,this.indexBuffer=null,this.size=l,this.dynamicProperties=[],this.staticProperties=[];for(var c=0;c<o.length;++c){var d=o[c];d={attributeName:d.attributeName,size:d.size,uploadFunction:d.uploadFunction,type:d.type||Zo.FLOAT,offset:d.offset},i[c]?this.dynamicProperties.push(d):this.staticProperties.push(d)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var o=this.geometry,i=0;this.indexBuffer=new Rs(TEe(this.size),!0,!0),o.addIndex(this.indexBuffer),this.dynamicStride=0;for(var l=0;l<this.dynamicProperties.length;++l){var c=this.dynamicProperties[l];c.offset=i,i+=c.size,this.dynamicStride+=c.size}var d=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(d),this.dynamicDataUint32=new Uint32Array(d),this.dynamicBuffer=new Rs(this.dynamicData,!1,!1);var m=0;this.staticStride=0;for(var l=0;l<this.staticProperties.length;++l){var c=this.staticProperties[l];c.offset=m,m+=c.size,this.staticStride+=c.size}var b=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(b),this.staticDataUint32=new Uint32Array(b),this.staticBuffer=new Rs(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var c=this.dynamicProperties[l];o.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===Zo.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(var l=0;l<this.staticProperties.length;++l){var c=this.staticProperties[l];o.addAttribute(c.attributeName,this.staticBuffer,0,c.type===Zo.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}},n.prototype.uploadDynamic=function(o,i,l){for(var c=0;c<this.dynamicProperties.length;c++){var d=this.dynamicProperties[c];d.uploadFunction(o,i,l,d.type===Zo.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,d.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(o,i,l){for(var c=0;c<this.staticProperties.length;c++){var d=this.staticProperties[c];d.uploadFunction(o,i,l,d.type===Zo.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,d.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),Pst=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Nst=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,kSe=function(n){OSe(o,n);function o(i){var l=n.call(this,i)||this;return l.shader=null,l.properties=null,l.tempMatrix=new Ko,l.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:l.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:l.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:l.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:l.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Zo.UNSIGNED_BYTE,uploadFunction:l.uploadTint,offset:0}],l.shader=Sb.from(Nst,Pst,{}),l.state=wb.for2d(),l}return o.prototype.render=function(i){var l=i.children,c=i._maxSize,d=i._batchSize,m=this.renderer,b=l.length;if(b!==0){b>c&&!i.autoResize&&(b=c);var w=i._buffers;w||(w=i._buffers=this.generateBuffers(i));var A=l[0]._texture.baseTexture;this.state.blendMode=wee(i.blendMode,A.alphaMode),m.state.set(this.state);var I=m.gl,N=i.worldTransform.copyTo(this.tempMatrix);N.prepend(m.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=N.toArray(!0),this.shader.uniforms.uColor=_Ee(i.tintRgb,i.worldAlpha,this.shader.uniforms.uColor,A.alphaMode),this.shader.uniforms.uSampler=A,this.renderer.shader.bind(this.shader);for(var R=!1,D=0,L=0;D<b;D+=d,L+=1){var z=b-D;z>d&&(z=d),L>=w.length&&w.push(this._generateOneMoreBuffer(i));var V=w[L];V.uploadDynamic(l,D,z);var te=i._bufferUpdateIDs[L]||0;R=R||V._updateID<te,R&&(V._updateID=i._updateID,V.uploadStatic(l,D,z)),m.geometry.bind(V.geometry),I.drawElements(I.TRIANGLES,z*6,I.UNSIGNED_SHORT,0)}}},o.prototype.generateBuffers=function(i){for(var l=[],c=i._maxSize,d=i._batchSize,m=i._properties,b=0;b<c;b+=d)l.push(new q0e(this.properties,m,d));return l},o.prototype._generateOneMoreBuffer=function(i){var l=i._batchSize,c=i._properties;return new q0e(this.properties,c,l)},o.prototype.uploadVertices=function(i,l,c,d,m,b){for(var w=0,A=0,I=0,N=0,R=0;R<c;++R){var D=i[l+R],L=D._texture,z=D.scale.x,V=D.scale.y,te=L.trim,fe=L.orig;te?(A=te.x-D.anchor.x*fe.width,w=A+te.width,N=te.y-D.anchor.y*fe.height,I=N+te.height):(w=fe.width*(1-D.anchor.x),A=fe.width*-D.anchor.x,I=fe.height*(1-D.anchor.y),N=fe.height*-D.anchor.y),d[b]=A*z,d[b+1]=N*V,d[b+m]=w*z,d[b+m+1]=N*V,d[b+m*2]=w*z,d[b+m*2+1]=I*V,d[b+m*3]=A*z,d[b+m*3+1]=I*V,b+=m*4}},o.prototype.uploadPosition=function(i,l,c,d,m,b){for(var w=0;w<c;w++){var A=i[l+w].position;d[b]=A.x,d[b+1]=A.y,d[b+m]=A.x,d[b+m+1]=A.y,d[b+m*2]=A.x,d[b+m*2+1]=A.y,d[b+m*3]=A.x,d[b+m*3+1]=A.y,b+=m*4}},o.prototype.uploadRotation=function(i,l,c,d,m,b){for(var w=0;w<c;w++){var A=i[l+w].rotation;d[b]=A,d[b+m]=A,d[b+m*2]=A,d[b+m*3]=A,b+=m*4}},o.prototype.uploadUvs=function(i,l,c,d,m,b){for(var w=0;w<c;++w){var A=i[l+w]._texture._uvs;A?(d[b]=A.x0,d[b+1]=A.y0,d[b+m]=A.x1,d[b+m+1]=A.y1,d[b+m*2]=A.x2,d[b+m*2+1]=A.y2,d[b+m*3]=A.x3,d[b+m*3+1]=A.y3,b+=m*4):(d[b]=0,d[b+1]=0,d[b+m]=0,d[b+m+1]=0,d[b+m*2]=0,d[b+m*2+1]=0,d[b+m*3]=0,d[b+m*3+1]=0,b+=m*4)}},o.prototype.uploadTint=function(i,l,c,d,m,b){for(var w=0;w<c;++w){var A=i[l+w],I=A._texture.baseTexture.alphaMode>0,N=A.alpha,R=N<1&&I?e9(A._tintRGB,N):A._tintRGB+(N*255<<24);d[b]=R,d[b+m]=R,d[b+m*2]=R,d[b+m*3]=R,b+=m*4}},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},o}(AM);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Iv;(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"})(Iv||(Iv={}));var Dv;(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"})(Dv||(Dv={}));var sI={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,o){if(o===void 0&&(o=20),!this.adaptive||!n||isNaN(n))return o;var i=Math.ceil(n/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},Bee=function(){function n(){this.color=16777215,this.alpha=1,this.texture=zn.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var o=new n;return o.color=this.color,o.alpha=this.alpha,o.texture=this.texture,o.matrix=this.matrix,o.visible=this.visible,o},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=zn.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DQ=function(n,o){return DQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},DQ(n,o)};function i9(n,o){DQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Hee={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,o){var i=n.points,l=n.holes,c=o.points,d=o.indices;if(i.length>=6){for(var m=[],b=0;b<l.length;b++){var w=l[b];m.push(i.length/2),i=i.concat(w.points)}var A=dee(i,m,2);if(!A)return;for(var I=c.length/2,b=0;b<A.length;b+=3)d.push(A[b]+I),d.push(A[b+1]+I),d.push(A[b+2]+I);for(var b=0;b<i.length;b++)c.push(i[b])}}},OQ={build:function(n){var o=n.shape,i=n.points,l=o.x,c=o.y,d,m;if(i.length=0,n.type===Ao.CIRC)d=o.radius,m=o.radius;else{var b=n.shape;d=b.width,m=b.height}if(!(d===0||m===0)){var w=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(d+m));w/=2.3;for(var A=Math.PI*2/w,I=0;I<w-.5;I++)i.push(l+Math.sin(-A*I)*d,c+Math.cos(-A*I)*m);i.push(i[0],i[1])}},triangulate:function(n,o){var i=n.points,l=o.points,c=o.indices,d=l.length/2,m=d,b=n.shape,w=n.matrix,A=b.x,I=b.y;l.push(n.matrix?w.a*A+w.c*I+w.tx:A,n.matrix?w.b*A+w.d*I+w.ty:I);for(var N=0;N<i.length;N+=2)l.push(i[N],i[N+1]),c.push(d++,m,d)}},RSe={build:function(n){var o=n.shape,i=o.x,l=o.y,c=o.width,d=o.height,m=n.points;m.length=0,m.push(i,l,i+c,l,i+c,l+d,i,l+d)},triangulate:function(n,o){var i=n.points,l=o.points,c=l.length/2;l.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),o.indices.push(c,c+1,c+2,c+1,c+2,c+3)}};function Ax(n,o,i){var l=o-n;return n+l*i}function q8(n,o,i,l,c,d,m){m===void 0&&(m=[]);for(var b=20,w=m,A=0,I=0,N=0,R=0,D=0,L=0,z=0,V=0;z<=b;++z)V=z/b,A=Ax(n,i,V),I=Ax(o,l,V),N=Ax(i,c,V),R=Ax(l,d,V),D=Ax(A,N,V),L=Ax(I,R,V),w.push(D,L);return w}var PSe={build:function(n){var o=n.shape,i=n.points,l=o.x,c=o.y,d=o.width,m=o.height,b=Math.max(0,Math.min(o.radius,Math.min(d,m)/2));i.length=0,b?(q8(l,c+b,l,c,l+b,c,i),q8(l+d-b,c,l+d,c,l+d,c+b,i),q8(l+d,c+m-b,l+d,c+m,l+d-b,c+m,i),q8(l+b,c+m,l,c+m,l,c+m-b,i)):i.push(l,c,l+d,c,l+d,c+m,l,c+m)},triangulate:function(n,o){for(var i=n.points,l=o.points,c=o.indices,d=l.length/2,m=dee(i,null,2),b=0,w=m.length;b<w;b+=3)c.push(m[b]+d),c.push(m[b+1]+d),c.push(m[b+2]+d);for(var b=0,w=i.length;b<w;b++)l.push(i[b],i[++b])}};function Z0e(n,o,i,l,c,d,m,b){var w=n-i*c,A=o-l*c,I=n+i*d,N=o+l*d,R,D;m?(R=l,D=-i):(R=-l,D=i);var L=w+R,z=A+D,V=I+R,te=N+D;return b.push(L,z),b.push(V,te),2}function wx(n,o,i,l,c,d,m,b){var w=i-n,A=l-o,I=Math.atan2(w,A),N=Math.atan2(c-n,d-o);b&&I<N?I+=Math.PI*2:!b&&I>N&&(N+=Math.PI*2);var R=I,D=N-I,L=Math.abs(D),z=Math.sqrt(w*w+A*A),V=(15*L*Math.sqrt(z)/Math.PI>>0)+1,te=D/V;if(R+=te,b){m.push(n,o),m.push(i,l);for(var fe=1,Y=R;fe<V;fe++,Y+=te)m.push(n,o),m.push(n+Math.sin(Y)*z,o+Math.cos(Y)*z);m.push(n,o),m.push(c,d)}else{m.push(i,l),m.push(n,o);for(var fe=1,Y=R;fe<V;fe++,Y+=te)m.push(n+Math.sin(Y)*z,o+Math.cos(Y)*z),m.push(n,o);m.push(c,d),m.push(n,o)}return V*2}function Mst(n,o){var i=n.shape,l=n.points||i.points.slice(),c=o.closePointEps;if(l.length!==0){var d=n.lineStyle,m=new Ns(l[0],l[1]),b=new Ns(l[l.length-2],l[l.length-1]),w=i.type!==Ao.POLY||i.closeStroke,A=Math.abs(m.x-b.x)<c&&Math.abs(m.y-b.y)<c;if(w){l=l.slice(),A&&(l.pop(),l.pop(),b.set(l[l.length-2],l[l.length-1]));var I=(m.x+b.x)*.5,N=(b.y+m.y)*.5;l.unshift(I,N),l.push(I,N)}var R=o.points,D=l.length/2,L=l.length,z=R.length/2,V=d.width/2,te=V*V,fe=d.miterLimit*d.miterLimit,Y=l[0],q=l[1],K=l[2],ce=l[3],re=0,ge=0,F=-(q-ce),Te=Y-K,Ce=0,ve=0,Ke=Math.sqrt(F*F+Te*Te);F/=Ke,Te/=Ke,F*=V,Te*=V;var ot=d.alignment,$=(1-ot)*2,lt=ot*2;w||(d.cap===Dv.ROUND?L+=wx(Y-F*($-lt)*.5,q-Te*($-lt)*.5,Y-F*$,q-Te*$,Y+F*lt,q+Te*lt,R,!0)+2:d.cap===Dv.SQUARE&&(L+=Z0e(Y,q,F,Te,$,lt,!0,R))),R.push(Y-F*$,q-Te*$),R.push(Y+F*lt,q+Te*lt);for(var Tt=1;Tt<D-1;++Tt){Y=l[(Tt-1)*2],q=l[(Tt-1)*2+1],K=l[Tt*2],ce=l[Tt*2+1],re=l[(Tt+1)*2],ge=l[(Tt+1)*2+1],F=-(q-ce),Te=Y-K,Ke=Math.sqrt(F*F+Te*Te),F/=Ke,Te/=Ke,F*=V,Te*=V,Ce=-(ce-ge),ve=K-re,Ke=Math.sqrt(Ce*Ce+ve*ve),Ce/=Ke,ve/=Ke,Ce*=V,ve*=V;var Be=K-Y,qe=q-ce,We=K-re,Ge=ge-ce,nt=qe*We-Ge*Be,St=nt<0;if(Math.abs(nt)<.1){R.push(K-F*$,ce-Te*$),R.push(K+F*lt,ce+Te*lt);continue}var Gt=(-F+Y)*(-Te+ce)-(-F+K)*(-Te+q),Zt=(-Ce+re)*(-ve+ce)-(-Ce+K)*(-ve+ge),ir=(Be*Zt-We*Gt)/nt,zt=(Ge*Gt-qe*Zt)/nt,Qt=(ir-K)*(ir-K)+(zt-ce)*(zt-ce),Wt=K+(ir-K)*$,yr=ce+(zt-ce)*$,br=K-(ir-K)*lt,Pt=ce-(zt-ce)*lt,Dr=Math.min(Be*Be+qe*qe,We*We+Ge*Ge),Gr=St?$:lt,rn=Dr+Gr*Gr*te,yi=Qt<=rn;yi?d.join===Iv.BEVEL||Qt/te>fe?(St?(R.push(Wt,yr),R.push(K+F*lt,ce+Te*lt),R.push(Wt,yr),R.push(K+Ce*lt,ce+ve*lt)):(R.push(K-F*$,ce-Te*$),R.push(br,Pt),R.push(K-Ce*$,ce-ve*$),R.push(br,Pt)),L+=2):d.join===Iv.ROUND?St?(R.push(Wt,yr),R.push(K+F*lt,ce+Te*lt),L+=wx(K,ce,K+F*lt,ce+Te*lt,K+Ce*lt,ce+ve*lt,R,!0)+4,R.push(Wt,yr),R.push(K+Ce*lt,ce+ve*lt)):(R.push(K-F*$,ce-Te*$),R.push(br,Pt),L+=wx(K,ce,K-F*$,ce-Te*$,K-Ce*$,ce-ve*$,R,!1)+4,R.push(K-Ce*$,ce-ve*$),R.push(br,Pt)):(R.push(Wt,yr),R.push(br,Pt)):(R.push(K-F*$,ce-Te*$),R.push(K+F*lt,ce+Te*lt),d.join===Iv.BEVEL||Qt/te>fe||(d.join===Iv.ROUND?St?L+=wx(K,ce,K+F*lt,ce+Te*lt,K+Ce*lt,ce+ve*lt,R,!0)+2:L+=wx(K,ce,K-F*$,ce-Te*$,K-Ce*$,ce-ve*$,R,!1)+2:(St?(R.push(br,Pt),R.push(br,Pt)):(R.push(Wt,yr),R.push(Wt,yr)),L+=2)),R.push(K-Ce*$,ce-ve*$),R.push(K+Ce*lt,ce+ve*lt),L+=2)}Y=l[(D-2)*2],q=l[(D-2)*2+1],K=l[(D-1)*2],ce=l[(D-1)*2+1],F=-(q-ce),Te=Y-K,Ke=Math.sqrt(F*F+Te*Te),F/=Ke,Te/=Ke,F*=V,Te*=V,R.push(K-F*$,ce-Te*$),R.push(K+F*lt,ce+Te*lt),w||(d.cap===Dv.ROUND?L+=wx(K-F*($-lt)*.5,ce-Te*($-lt)*.5,K-F*$,ce-Te*$,K+F*lt,ce+Te*lt,R,!1)+2:d.cap===Dv.SQUARE&&(L+=Z0e(K,ce,F,Te,$,lt,!1,R)));for(var ra=o.indices,na=sI.epsilon*sI.epsilon,Tt=z;Tt<L+z-2;++Tt)Y=R[Tt*2],q=R[Tt*2+1],K=R[(Tt+1)*2],ce=R[(Tt+1)*2+1],re=R[(Tt+2)*2],ge=R[(Tt+2)*2+1],!(Math.abs(Y*(ce-ge)+K*(ge-q)+re*(q-ce))<na)&&ra.push(Tt,Tt+1,Tt+2)}}function Lst(n,o){var i=0,l=n.shape,c=n.points||l.points,d=l.type!==Ao.POLY||l.closeStroke;if(c.length!==0){var m=o.points,b=o.indices,w=c.length/2,A=m.length/2,I=A;for(m.push(c[0],c[1]),i=1;i<w;i++)m.push(c[i*2],c[i*2+1]),b.push(I,I+1),I++;d&&b.push(I,A)}}function kQ(n,o){n.lineStyle.native?Lst(n,o):Mst(n,o)}var NSe=function(n){i9(o,n);function o(i,l,c,d,m,b){b===void 0&&(b=0);var w=this;m=m||d/2;for(var A=-1*Math.PI/2+b,I=c*2,N=aI/I,R=[],D=0;D<I;D++){var L=D%2?m:d,z=D*N+A;R.push(i+L*Math.cos(z),l+L*Math.sin(z))}return w=n.call(this,R)||this,w}return o}(Vx),RQ=function(){function n(){}return n.curveTo=function(o,i,l,c,d,m){var b=m[m.length-2],w=m[m.length-1],A=w-i,I=b-o,N=c-i,R=l-o,D=Math.abs(A*R-I*N);if(D<1e-8||d===0)return(m[m.length-2]!==o||m[m.length-1]!==i)&&m.push(o,i),null;var L=A*A+I*I,z=N*N+R*R,V=A*N+I*R,te=d*Math.sqrt(L)/D,fe=d*Math.sqrt(z)/D,Y=te*V/L,q=fe*V/z,K=te*R+fe*I,ce=te*N+fe*A,re=I*(fe+Y),ge=A*(fe+Y),F=R*(te+q),Te=N*(te+q),Ce=Math.atan2(ge-ce,re-K),ve=Math.atan2(Te-ce,F-K);return{cx:K+o,cy:ce+i,radius:d,startAngle:Ce,endAngle:ve,anticlockwise:I*N>R*A}},n.arc=function(o,i,l,c,d,m,b,w,A){for(var I=b-m,N=sI._segmentsCount(Math.abs(I)*d,Math.ceil(Math.abs(I)/aI)*40),R=I/(N*2),D=R*2,L=Math.cos(R),z=Math.sin(R),V=N-1,te=V%1/V,fe=0;fe<=V;++fe){var Y=fe+te*fe,q=R+m+D*Y,K=Math.cos(q),ce=-Math.sin(q);A.push((L*K+z*ce)*d+l,(L*-ce+z*K)*d+c)}},n}(),MSe=function(){function n(){}return n.curveLength=function(o,i,l,c,d,m,b,w){for(var A=10,I=0,N=0,R=0,D=0,L=0,z=0,V=0,te=0,fe=0,Y=0,q=0,K=o,ce=i,re=1;re<=A;++re)N=re/A,R=N*N,D=R*N,L=1-N,z=L*L,V=z*L,te=V*o+3*z*N*l+3*L*R*d+D*b,fe=V*i+3*z*N*c+3*L*R*m+D*w,Y=K-te,q=ce-fe,K=te,ce=fe,I+=Math.sqrt(Y*Y+q*q);return I},n.curveTo=function(o,i,l,c,d,m,b){var w=b[b.length-2],A=b[b.length-1];b.length-=2;var I=sI._segmentsCount(n.curveLength(w,A,o,i,l,c,d,m)),N=0,R=0,D=0,L=0,z=0;b.push(w,A);for(var V=1,te=0;V<=I;++V)te=V/I,N=1-te,R=N*N,D=R*N,L=te*te,z=L*te,b.push(D*w+3*R*te*o+3*N*L*l+z*d,D*A+3*R*te*i+3*N*L*c+z*m)},n}(),LSe=function(){function n(){}return n.curveLength=function(o,i,l,c,d,m){var b=o-2*l+d,w=i-2*c+m,A=2*l-2*o,I=2*c-2*i,N=4*(b*b+w*w),R=4*(b*A+w*I),D=A*A+I*I,L=2*Math.sqrt(N+R+D),z=Math.sqrt(N),V=2*N*z,te=2*Math.sqrt(D),fe=R/z;return(V*L+z*R*(L-te)+(4*D*N-R*R)*Math.log((2*z+fe+L)/(fe+te)))/(4*V)},n.curveTo=function(o,i,l,c,d){for(var m=d[d.length-2],b=d[d.length-1],w=sI._segmentsCount(n.curveLength(m,b,o,i,l,c)),A=0,I=0,N=1;N<=w;++N){var R=N/w;A=m+(o-m)*R,I=b+(i-b)*R,d.push(A+(o+(l-o)*R-A)*R,I+(i+(c-i)*R-I)*R)}},n}(),FSe=function(){function n(){this.reset()}return n.prototype.begin=function(o,i,l){this.reset(),this.style=o,this.start=i,this.attribStart=l},n.prototype.end=function(o,i){this.attribSize=i-this.attribStart,this.size=o-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),ST,MH=(ST={},ST[Ao.POLY]=Hee,ST[Ao.CIRC]=OQ,ST[Ao.ELIP]=OQ,ST[Ao.RECT]=RSe,ST[Ao.RREC]=PSe,ST),PQ=[],T2=[],Fst={buildPoly:Hee,buildCircle:OQ,buildRectangle:RSe,buildRoundedRectangle:PSe,FILL_COMMANDS:MH,BATCH_POOL:PQ,DRAW_CALL_POOL:T2,buildLine:kQ,Star:NSe,ArcUtils:RQ,BezierUtils:MSe,QuadraticUtils:LSe,BatchPart:FSe},NQ=function(){function n(o,i,l,c){i===void 0&&(i=null),l===void 0&&(l=null),c===void 0&&(c=null),this.shape=o,this.lineStyle=l,this.fillStyle=i,this.matrix=c,this.type=o.type,this.points=[],this.holes=[]}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),Cx=new Ns,Bst=new X2,BSe=function(n){i9(o,n);function o(){var i=n.call(this)||this;return i.uvsFloat32=null,i.indicesUint16=null,i.points=[],i.colors=[],i.uvs=[],i.indices=[],i.textureIds=[],i.graphicsData=[],i.dirty=0,i.batchDirty=-1,i.cacheDirty=-1,i.clearDirty=0,i.drawCalls=[],i.batches=[],i.shapeIndex=0,i._bounds=new X2,i.boundsDirty=-1,i.boundsPadding=0,i.batchable=!1,i.indicesUint16=null,i.uvsFloat32=null,i.closePointEps=1e-4,i}return Object.defineProperty(o.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),o.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),T2.push(this.drawCalls[i]);this.drawCalls.length=0;for(var i=0;i<this.batches.length;i++){var l=this.batches[i];l.reset(),PQ.push(l)}this.batches.length=0},o.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},o.prototype.drawShape=function(i,l,c,d){l===void 0&&(l=null),c===void 0&&(c=null),d===void 0&&(d=null);var m=new NQ(i,l,c,d);return this.graphicsData.push(m),this.dirty++,this},o.prototype.drawHole=function(i,l){if(l===void 0&&(l=null),!this.graphicsData.length)return null;var c=new NQ(i,null,null,l),d=this.graphicsData[this.graphicsData.length-1];return c.lineStyle=d.lineStyle,d.holes.push(c),this.dirty++,this},o.prototype.destroy=function(){n.prototype.destroy.call(this);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},o.prototype.containsPoint=function(i){for(var l=this.graphicsData,c=0;c<l.length;++c){var d=l[c];if(d.fillStyle.visible&&d.shape&&(d.matrix?d.matrix.applyInverse(i,Cx):Cx.copyFrom(i),d.shape.contains(Cx.x,Cx.y))){var m=!1;if(d.holes)for(var b=0;b<d.holes.length;b++){var w=d.holes[b];if(w.shape.contains(Cx.x,Cx.y)){m=!0;break}}if(!m)return!0}}return!1},o.prototype.updateBatches=function(i){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var l=this.uvs,c=this.graphicsData,d=null,m=null;this.batches.length>0&&(d=this.batches[this.batches.length-1],m=d.style);for(var b=this.shapeIndex;b<c.length;b++){this.shapeIndex++;var w=c[b],A=w.fillStyle,I=w.lineStyle,N=MH[w.type];N.build(w),w.matrix&&this.transformPoints(w.points,w.matrix);for(var R=0;R<2;R++){var D=R===0?A:I;if(D.visible){var L=D.texture.baseTexture,z=this.indices.length,V=this.points.length/2;L.wrapMode=Pv.REPEAT,R===0?this.processFill(w):this.processLine(w);var te=this.points.length/2-V;te!==0&&(d&&!this._compareStyles(m,D)&&(d.end(z,V),d=null),d||(d=PQ.pop()||new FSe,d.begin(D,z,V),this.batches.push(d),m=D),this.addUvs(this.points,l,D.texture,V,te,D.matrix))}}}var fe=this.indices.length,Y=this.points.length/2;if(d&&d.end(fe,Y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var q=Y>65535&&i;this.indicesUint16=q?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},o.prototype._compareStyles=function(i,l){return!(!i||!l||i.texture.baseTexture!==l.texture.baseTexture||i.color+i.alpha!==l.color+l.alpha||!!i.native!=!!l.native)},o.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var i=0,l=this.graphicsData.length;i<l;i++){var c=this.graphicsData[i],d=c.fillStyle,m=c.lineStyle;if(d&&!d.texture.baseTexture.valid||m&&!m.texture.baseTexture.valid)return!1}return!0},o.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var i=this.batches,l=0,c=i.length;l<c;l++)for(var d=i[l],m=0;m<d.size;m++){var b=d.start+m;this.indicesUint16[b]=this.indicesUint16[b]-d.attribStart}},o.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var i=this.batches,l=0;l<i.length;l++)if(i[l].style.native)return!1;return this.points.length<o.BATCHABLE_SIZE*2},o.prototype.buildDrawCalls=function(){for(var i=++Va._globalBatch,l=0;l<this.drawCalls.length;l++)this.drawCalls[l].texArray.clear(),T2.push(this.drawCalls[l]);this.drawCalls.length=0;var c=this.colors,d=this.textureIds,m=T2.pop();m||(m=new hU,m.texArray=new fU),m.texArray.count=0,m.start=0,m.size=0,m.type=lf.TRIANGLES;var b=0,w=null,A=0,I=!1,N=lf.TRIANGLES,R=0;this.drawCalls.push(m);for(var l=0;l<this.batches.length;l++){var D=this.batches[l],L=8,z=D.style,V=z.texture.baseTexture;I!==!!z.native&&(I=!!z.native,N=I?lf.LINES:lf.TRIANGLES,w=null,b=L,i++),w!==V&&(w=V,V._batchEnabled!==i&&(b===L&&(i++,b=0,m.size>0&&(m=T2.pop(),m||(m=new hU,m.texArray=new fU),this.drawCalls.push(m)),m.start=R,m.size=0,m.texArray.count=0,m.type=N),V.touched=1,V._batchEnabled=i,V._batchLocation=b,V.wrapMode=10497,m.texArray.elements[m.texArray.count++]=V,b++)),m.size+=D.size,R+=D.size,A=V._batchLocation,this.addColors(c,z.color,z.alpha,D.attribSize,D.attribStart),this.addTextureIds(d,A,D.attribSize,D.attribStart)}Va._globalBatch=i,this.packAttributes()},o.prototype.packAttributes=function(){for(var i=this.points,l=this.uvs,c=this.colors,d=this.textureIds,m=new ArrayBuffer(i.length*3*4),b=new Float32Array(m),w=new Uint32Array(m),A=0,I=0;I<i.length/2;I++)b[A++]=i[I*2],b[A++]=i[I*2+1],b[A++]=l[I*2],b[A++]=l[I*2+1],w[A++]=c[I],b[A++]=d[I];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},o.prototype.processFill=function(i){if(i.holes.length)this.processHoles(i.holes),Hee.triangulate(i,this);else{var l=MH[i.type];l.triangulate(i,this)}},o.prototype.processLine=function(i){kQ(i,this);for(var l=0;l<i.holes.length;l++)kQ(i.holes[l],this)},o.prototype.processHoles=function(i){for(var l=0;l<i.length;l++){var c=i[l],d=MH[c.type];d.build(c),c.matrix&&this.transformPoints(c.points,c.matrix)}},o.prototype.calculateBounds=function(){var i=this._bounds,l=Bst,c=Ko.IDENTITY;this._bounds.clear(),l.clear();for(var d=0;d<this.graphicsData.length;d++){var m=this.graphicsData[d],b=m.shape,w=m.type,A=m.lineStyle,I=m.matrix||Ko.IDENTITY,N=0;if(A&&A.visible){var R=A.alignment;N=A.width,w===Ao.POLY?N=N*(.5+Math.abs(.5-R)):N=N*Math.max(0,R)}if(c!==I&&(l.isEmpty()||(i.addBoundsMatrix(l,c),l.clear()),c=I),w===Ao.RECT||w===Ao.RREC){var D=b;l.addFramePad(D.x,D.y,D.x+D.width,D.y+D.height,N,N)}else if(w===Ao.CIRC){var L=b;l.addFramePad(L.x,L.y,L.x,L.y,L.radius+N,L.radius+N)}else if(w===Ao.ELIP){var z=b;l.addFramePad(z.x,z.y,z.x,z.y,z.width+N,z.height+N)}else{var V=b;i.addVerticesMatrix(c,V.points,0,V.points.length,N,N)}}l.isEmpty()||i.addBoundsMatrix(l,c),i.pad(this.boundsPadding,this.boundsPadding)},o.prototype.transformPoints=function(i,l){for(var c=0;c<i.length/2;c++){var d=i[c*2],m=i[c*2+1];i[c*2]=l.a*d+l.c*m+l.tx,i[c*2+1]=l.b*d+l.d*m+l.ty}},o.prototype.addColors=function(i,l,c,d,m){m===void 0&&(m=0);var b=(l>>16)+(l&65280)+((l&255)<<16),w=e9(b,c);i.length=Math.max(i.length,m+d);for(var A=0;A<d;A++)i[m+A]=w},o.prototype.addTextureIds=function(i,l,c,d){d===void 0&&(d=0),i.length=Math.max(i.length,d+c);for(var m=0;m<c;m++)i[d+m]=l},o.prototype.addUvs=function(i,l,c,d,m,b){b===void 0&&(b=null);for(var w=0,A=l.length,I=c.frame;w<m;){var N=i[(d+w)*2],R=i[(d+w)*2+1];if(b){var D=b.a*N+b.c*R+b.tx;R=b.b*N+b.d*R+b.ty,N=D}w++,l.push(N/I.width,R/I.height)}var L=c.baseTexture;(I.width<L.width||I.height<L.height)&&this.adjustUvs(l,c,A,m)},o.prototype.adjustUvs=function(i,l,c,d){for(var m=l.baseTexture,b=1e-6,w=c+d*2,A=l.frame,I=A.width/m.width,N=A.height/m.height,R=A.x/A.width,D=A.y/A.height,L=Math.floor(i[c]+b),z=Math.floor(i[c+1]+b),V=c+2;V<w;V+=2)L=Math.min(L,Math.floor(i[V]+b)),z=Math.min(z,Math.floor(i[V+1]+b));R-=L,D-=z;for(var V=c;V<w;V+=2)i[V]=(i[V]+R)*I,i[V+1]=(i[V+1]+D)*N},o.BATCHABLE_SIZE=100,o}(Fee),HSe=function(n){i9(o,n);function o(){var i=n!==null&&n.apply(this,arguments)||this;return i.width=0,i.alignment=.5,i.native=!1,i.cap=Dv.BUTT,i.join=Iv.MITER,i.miterLimit=10,i}return o.prototype.clone=function(){var i=new o;return i.color=this.color,i.alpha=this.alpha,i.texture=this.texture,i.matrix=this.matrix,i.visible=this.visible,i.width=this.width,i.alignment=this.alignment,i.native=this.native,i.cap=this.cap,i.join=this.join,i.miterLimit=this.miterLimit,i},o.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},o}(Bee),Hst=new Float32Array(3),PZ={},Uee=function(n){i9(o,n);function o(i){i===void 0&&(i=null);var l=n.call(this)||this;return l._geometry=i||new BSe,l._geometry.refCount++,l.shader=null,l.state=wb.for2d(),l._fillStyle=new Bee,l._lineStyle=new HSe,l._matrix=null,l._holeMode=!1,l.currentPath=null,l.batches=[],l.batchTint=-1,l.batchDirty=-1,l.vertexData=null,l.pluginName="batch",l._transformID=-1,l.tint=16777215,l.blendMode=Sn.NORMAL,l}return Object.defineProperty(o.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return this.finishPoly(),new o(this._geometry)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),o.prototype.lineStyle=function(i){if(i===void 0&&(i=null),typeof i=="number"){var l=arguments;i={width:l[0]||0,color:l[1]||0,alpha:l[2]!==void 0?l[2]:1,alignment:l[3]!==void 0?l[3]:.5,native:!!l[4]}}return this.lineTextureStyle(i)},o.prototype.lineTextureStyle=function(i){if(typeof i=="number"){fr("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var l=arguments,c=l[0],d=l[1],m=l[2],b=l[3],w=l[4],A=l[5],I=l[6];i={width:c,texture:d,color:m,alpha:b,matrix:w,alignment:A,native:I},Object.keys(i).forEach(function(R){return i[R]===void 0&&delete i[R]})}i=Object.assign({width:0,texture:zn.WHITE,color:i&&i.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Dv.BUTT,join:Iv.MITER,miterLimit:10},i),this.currentPath&&this.startPoly();var N=i.width>0&&i.alpha>0;return N?(i.matrix&&(i.matrix=i.matrix.clone(),i.matrix.invert()),Object.assign(this._lineStyle,{visible:N},i)):this._lineStyle.reset(),this},o.prototype.startPoly=function(){if(this.currentPath){var i=this.currentPath.points,l=this.currentPath.points.length;l>2&&(this.drawShape(this.currentPath),this.currentPath=new Vx,this.currentPath.closeStroke=!1,this.currentPath.points.push(i[l-2],i[l-1]))}else this.currentPath=new Vx,this.currentPath.closeStroke=!1},o.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},o.prototype.moveTo=function(i,l){return this.startPoly(),this.currentPath.points[0]=i,this.currentPath.points[1]=l,this},o.prototype.lineTo=function(i,l){this.currentPath||this.moveTo(0,0);var c=this.currentPath.points,d=c[c.length-2],m=c[c.length-1];return(d!==i||m!==l)&&c.push(i,l),this},o.prototype._initCurve=function(i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[i,l]):this.moveTo(i,l)},o.prototype.quadraticCurveTo=function(i,l,c,d){this._initCurve();var m=this.currentPath.points;return m.length===0&&this.moveTo(0,0),LSe.curveTo(i,l,c,d,m),this},o.prototype.bezierCurveTo=function(i,l,c,d,m,b){return this._initCurve(),MSe.curveTo(i,l,c,d,m,b,this.currentPath.points),this},o.prototype.arcTo=function(i,l,c,d,m){this._initCurve(i,l);var b=this.currentPath.points,w=RQ.curveTo(i,l,c,d,m,b);if(w){var A=w.cx,I=w.cy,N=w.radius,R=w.startAngle,D=w.endAngle,L=w.anticlockwise;this.arc(A,I,N,R,D,L)}return this},o.prototype.arc=function(i,l,c,d,m,b){if(b===void 0&&(b=!1),d===m)return this;!b&&m<=d?m+=aI:b&&d<=m&&(d+=aI);var w=m-d;if(w===0)return this;var A=i+Math.cos(d)*c,I=l+Math.sin(d)*c,N=this._geometry.closePointEps,R=this.currentPath?this.currentPath.points:null;if(R){var D=Math.abs(R[R.length-2]-A),L=Math.abs(R[R.length-1]-I);D<N&&L<N||R.push(A,I)}else this.moveTo(A,I),R=this.currentPath.points;return RQ.arc(A,I,i,l,c,d,m,b,R),this},o.prototype.beginFill=function(i,l){return i===void 0&&(i=0),l===void 0&&(l=1),this.beginTextureFill({texture:zn.WHITE,color:i,alpha:l})},o.prototype.beginTextureFill=function(i){if(i instanceof zn){fr("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var l=arguments,c=l[0],d=l[1],m=l[2],b=l[3];i={texture:c,color:d,alpha:m,matrix:b},Object.keys(i).forEach(function(A){return i[A]===void 0&&delete i[A]})}i=Object.assign({texture:zn.WHITE,color:16777215,alpha:1,matrix:null},i),this.currentPath&&this.startPoly();var w=i.alpha>0;return w?(i.matrix&&(i.matrix=i.matrix.clone(),i.matrix.invert()),Object.assign(this._fillStyle,{visible:w},i)):this._fillStyle.reset(),this},o.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},o.prototype.drawRect=function(i,l,c,d){return this.drawShape(new Ki(i,l,c,d))},o.prototype.drawRoundedRect=function(i,l,c,d,m){return this.drawShape(new OEe(i,l,c,d,m))},o.prototype.drawCircle=function(i,l,c){return this.drawShape(new IEe(i,l,c))},o.prototype.drawEllipse=function(i,l,c,d){return this.drawShape(new DEe(i,l,c,d))},o.prototype.drawPolygon=function(){for(var i=arguments,l=[],c=0;c<arguments.length;c++)l[c]=i[c];var d,m=!0,b=l[0];b.points?(m=b.closeStroke,d=b.points):Array.isArray(l[0])?d=l[0]:d=l;var w=new Vx(d);return w.closeStroke=m,this.drawShape(w),this},o.prototype.drawShape=function(i){return this._holeMode?this._geometry.drawHole(i,this._matrix):this._geometry.drawShape(i,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},o.prototype.drawStar=function(i,l,c,d,m,b){return b===void 0&&(b=0),this.drawPolygon(new NSe(i,l,c,d,m,b))},o.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},o.prototype.isFastRect=function(){var i=this._geometry.graphicsData;return i.length===1&&i[0].shape.type===Ao.RECT&&!(i[0].lineStyle.visible&&i[0].lineStyle.width)},o.prototype._render=function(i){this.finishPoly();var l=this._geometry,c=i.context.supports.uint32Indices;l.updateBatches(c),l.batchable?(this.batchDirty!==l.batchDirty&&this._populateBatches(),this._renderBatched(i)):(i.batch.flush(),this._renderDirect(i))},o.prototype._populateBatches=function(){var i=this._geometry,l=this.blendMode,c=i.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=i.batchDirty,this.batches.length=c,this.vertexData=new Float32Array(i.points);for(var d=0;d<c;d++){var m=i.batches[d],b=m.style.color,w=new Float32Array(this.vertexData.buffer,m.attribStart*4*2,m.attribSize*2),A=new Float32Array(i.uvsFloat32.buffer,m.attribStart*4*2,m.attribSize*2),I=new Uint16Array(i.indicesUint16.buffer,m.start*2,m.size),N={vertexData:w,blendMode:l,indices:I,uvs:A,_batchRGB:eE(b),_tintRGB:b,_texture:m.style.texture,alpha:m.style.alpha,worldAlpha:1};this.batches[d]=N}},o.prototype._renderBatched=function(i){if(this.batches.length){i.batch.setObjectRenderer(i.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var l=0,c=this.batches.length;l<c;l++){var d=this.batches[l];d.worldAlpha=this.worldAlpha*d.alpha,i.plugins[this.pluginName].render(d)}}},o.prototype._renderDirect=function(i){var l=this._resolveDirectShader(i),c=this._geometry,d=this.tint,m=this.worldAlpha,b=l.uniforms,w=c.drawCalls;b.translationMatrix=this.transform.worldTransform,b.tint[0]=(d>>16&255)/255*m,b.tint[1]=(d>>8&255)/255*m,b.tint[2]=(d&255)/255*m,b.tint[3]=m,i.shader.bind(l),i.geometry.bind(c,l),i.state.set(this.state);for(var A=0,I=w.length;A<I;A++)this._renderDrawCallDirect(i,c.drawCalls[A])},o.prototype._renderDrawCallDirect=function(i,l){for(var c=l.texArray,d=l.type,m=l.size,b=l.start,w=c.count,A=0;A<w;A++)i.texture.bind(c.elements[A],A);i.geometry.draw(d,m,b)},o.prototype._resolveDirectShader=function(i){var l=this.shader,c=this.pluginName;if(!l){if(!PZ[c]){for(var d=i.plugins.batch.MAX_TEXTURES,m=new Int32Array(d),b=0;b<d;b++)m[b]=b;var w={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ko,default:yb.from({uSamplers:m},!0)},A=i.plugins[c]._shader.program;PZ[c]=new Sb(A,w)}l=PZ[c]}return l},o.prototype._calculateBounds=function(){this.finishPoly();var i=this._geometry;if(i.graphicsData.length){var l=i.bounds,c=l.minX,d=l.minY,m=l.maxX,b=l.maxY;this._bounds.addFrame(this.transform,c,d,m,b)}},o.prototype.containsPoint=function(i){return this.worldTransform.applyInverse(i,o._TEMP_POINT),this._geometry.containsPoint(o._TEMP_POINT)},o.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var i=eE(this.tint,Hst),l=0;l<this.batches.length;l++){var c=this.batches[l],d=c._batchRGB,m=i[0]*d[0]*255,b=i[1]*d[1]*255,w=i[2]*d[2]*255,A=(m<<16)+(b<<8)+(w|0);c._tintRGB=(A>>16)+(A&65280)+((A&255)<<16)}}},o.prototype.calculateVertices=function(){var i=this.transform._worldID;if(this._transformID!==i){this._transformID=i;for(var l=this.transform.worldTransform,c=l.a,d=l.b,m=l.c,b=l.d,w=l.tx,A=l.ty,I=this._geometry.points,N=this.vertexData,R=0,D=0;D<I.length;D+=2){var L=I[D],z=I[D+1];N[R++]=c*L+m*z+w,N[R++]=b*z+d*L+A}}},o.prototype.closePath=function(){var i=this.currentPath;return i&&(i.closeStroke=!0),this},o.prototype.setMatrix=function(i){return this._matrix=i,this},o.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},o.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},o.prototype.destroy=function(i){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,i)},o._TEMP_POINT=new Ns,o}(Rd);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MQ=function(n,o){return MQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},MQ(n,o)};function Ust(n,o){MQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var c2=new Ns,Gst=new Uint16Array([0,1,2,0,2,3]),wI=function(n){Ust(o,n);function o(i){var l=n.call(this)||this;return l._anchor=new FT(l._onAnchorUpdate,l,i?i.defaultAnchor.x:0,i?i.defaultAnchor.y:0),l._texture=null,l._width=0,l._height=0,l._tint=null,l._tintRGB=null,l.tint=16777215,l.blendMode=Sn.NORMAL,l._cachedTint=16777215,l.uvs=null,l.texture=i||zn.EMPTY,l.vertexData=new Float32Array(8),l.vertexTrimmedData=null,l._transformID=-1,l._textureID=-1,l._transformTrimmedID=-1,l._textureTrimmedID=-1,l.indices=Gst,l.pluginName="batch",l.isSprite=!0,l._roundPixels=cn.ROUND_PIXELS,l}return o.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=LT(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=LT(this.scale.y)*this._height/this._texture.orig.height)},o.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},o.prototype.calculateVertices=function(){var i=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===i._updateID)){this._textureID!==i._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=i._updateID;var l=this.transform.worldTransform,c=l.a,d=l.b,m=l.c,b=l.d,w=l.tx,A=l.ty,I=this.vertexData,N=i.trim,R=i.orig,D=this._anchor,L=0,z=0,V=0,te=0;if(N?(z=N.x-D._x*R.width,L=z+N.width,te=N.y-D._y*R.height,V=te+N.height):(z=-D._x*R.width,L=z+R.width,te=-D._y*R.height,V=te+R.height),I[0]=c*z+m*te+w,I[1]=b*te+d*z+A,I[2]=c*L+m*te+w,I[3]=b*te+d*L+A,I[4]=c*L+m*V+w,I[5]=b*V+d*L+A,I[6]=c*z+m*V+w,I[7]=b*V+d*z+A,this._roundPixels)for(var fe=cn.RESOLUTION,Y=0;Y<I.length;++Y)I[Y]=Math.round((I[Y]*fe|0)/fe)}},o.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this._texture,l=this.vertexTrimmedData,c=i.orig,d=this._anchor,m=this.transform.worldTransform,b=m.a,w=m.b,A=m.c,I=m.d,N=m.tx,R=m.ty,D=-d._x*c.width,L=D+c.width,z=-d._y*c.height,V=z+c.height;l[0]=b*D+A*z+N,l[1]=I*z+w*D+R,l[2]=b*L+A*z+N,l[3]=I*z+w*L+R,l[4]=b*L+A*V+N,l[5]=I*V+w*L+R,l[6]=b*D+A*V+N,l[7]=I*V+w*D+R},o.prototype._render=function(i){this.calculateVertices(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this)},o.prototype._calculateBounds=function(){var i=this._texture.trim,l=this._texture.orig;!i||i.width===l.width&&i.height===l.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},o.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new Ki),i=this._localBoundsRect),this._bounds.getRectangle(i)):n.prototype.getLocalBounds.call(this,i)},o.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,c2);var l=this._texture.orig.width,c=this._texture.orig.height,d=-l*this.anchor.x,m=0;return c2.x>=d&&c2.x<d+l&&(m=-c*this.anchor.y,c2.y>=m&&c2.y<m+c)},o.prototype.destroy=function(i){n.prototype.destroy.call(this,i),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var l=typeof i=="boolean"?i:i&&i.texture;if(l){var c=typeof i=="boolean"?i:i&&i.baseTexture;this._texture.destroy(!!c)}this._texture=null},o.from=function(i,l){var c=i instanceof zn?i:zn.from(i,l);return new o(c)},Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){this._roundPixels!==i&&(this._transformID=-1),this._roundPixels=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(i){var l=LT(this.scale.x)||1;this.scale.x=l*i/this._texture.orig.width,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(i){var l=LT(this.scale.y)||1;this.scale.y=l*i/this._texture.orig.height,this._height=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(i){this._anchor.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i,this._tintRGB=(i>>16)+(i&65280)+((i&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(i){this._texture!==i&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=i||zn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,i&&(i.baseTexture.valid?this._onTextureUpdate():i.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),o}(Rd);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var LQ=function(n,o){return LQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},LQ(n,o)};function $st(n,o){LQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var lI;(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(lI||(lI={}));var NZ={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:lI.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},zst=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],iE=function(){function n(o){this.styleID=0,this.reset(),LZ(this,o,o)}return n.prototype.clone=function(){var o={};return LZ(o,this,NZ),new n(o)},n.prototype.reset=function(){LZ(this,NZ,NZ)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(o){this._align!==o&&(this._align=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(o){this._breakWords!==o&&(this._breakWords=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(o){this._dropShadow!==o&&(this._dropShadow=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(o){this._dropShadowAlpha!==o&&(this._dropShadowAlpha=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(o){this._dropShadowAngle!==o&&(this._dropShadowAngle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(o){this._dropShadowBlur!==o&&(this._dropShadowBlur=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(o){var i=MZ(o);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(o){this._dropShadowDistance!==o&&(this._dropShadowDistance=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(o){var i=MZ(o);this._fill!==i&&(this._fill=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(o){this._fillGradientType!==o&&(this._fillGradientType=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(o){Vst(this._fillGradientStops,o)||(this._fillGradientStops=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(o){this.fontFamily!==o&&(this._fontFamily=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize!==o&&(this._fontSize=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle!==o&&(this._fontStyle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(o){this._fontVariant!==o&&(this._fontVariant=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(o){this._fontWeight!==o&&(this._fontWeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(o){this._letterSpacing!==o&&(this._letterSpacing=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(o){this._lineHeight!==o&&(this._lineHeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(o){this._leading!==o&&(this._leading=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(o){this._lineJoin!==o&&(this._lineJoin=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(o){this._miterLimit!==o&&(this._miterLimit=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(o){this._padding!==o&&(this._padding=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(o){var i=MZ(o);this._stroke!==i&&(this._stroke=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(o){this._strokeThickness!==o&&(this._strokeThickness=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(o){this._textBaseline!==o&&(this._textBaseline=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(o){this._trim!==o&&(this._trim=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(o){this._whiteSpace!==o&&(this._whiteSpace=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(o){this._wordWrap!==o&&(this._wordWrap=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(o){this._wordWrapWidth!==o&&(this._wordWrapWidth=o,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var o=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(var l=i.length-1;l>=0;l--){var c=i[l].trim();!/([\"\'])[^\'\"]+\1/.test(c)&&zst.indexOf(c)<0&&(c='"'+c+'"'),i[l]=c}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+o+" "+i.join(",")},n}();function K0e(n){return typeof n=="number"?Eee(n):(typeof n=="string"&&n.indexOf("0x")===0&&(n=n.replace("0x","#")),n)}function MZ(n){if(Array.isArray(n)){for(var o=0;o<n.length;++o)n[o]=K0e(n[o]);return n}else return K0e(n)}function Vst(n,o){if(!Array.isArray(n)||!Array.isArray(o)||n.length!==o.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!==o[i])return!1;return!0}function LZ(n,o,i){for(var l in i)Array.isArray(o[l])?n[l]=o[l].slice():n[l]=o[l]}var Tf=function(){function n(o,i,l,c,d,m,b,w,A){this.text=o,this.style=i,this.width=l,this.height=c,this.lines=d,this.lineWidths=m,this.lineHeight=b,this.maxLineWidth=w,this.fontProperties=A}return n.measureText=function(o,i,l,c){c===void 0&&(c=n._canvas),l=l??i.wordWrap;var d=i.toFontString(),m=n.measureFont(d);m.fontSize===0&&(m.fontSize=i.fontSize,m.ascent=i.fontSize);var b=c.getContext("2d");b.font=d;for(var w=l?n.wordWrap(o,i,c):o,A=w.split(/(?:\r\n|\r|\n)/),I=new Array(A.length),N=0,R=0;R<A.length;R++){var D=b.measureText(A[R]).width+(A[R].length-1)*i.letterSpacing;I[R]=D,N=Math.max(N,D)}var L=N+i.strokeThickness;i.dropShadow&&(L+=i.dropShadowDistance);var z=i.lineHeight||m.fontSize+i.strokeThickness,V=Math.max(z,m.fontSize+i.strokeThickness)+(A.length-1)*(z+i.leading);return i.dropShadow&&(V+=i.dropShadowDistance),new n(o,i,L,V,A,I,z+i.leading,N,m)},n.wordWrap=function(o,i,l){l===void 0&&(l=n._canvas);for(var c=l.getContext("2d"),d=0,m="",b="",w=Object.create(null),A=i.letterSpacing,I=i.whiteSpace,N=n.collapseSpaces(I),R=n.collapseNewlines(I),D=!N,L=i.wordWrapWidth+A,z=n.tokenize(o),V=0;V<z.length;V++){var te=z[V];if(n.isNewline(te)){if(!R){b+=n.addLine(m),D=!N,m="",d=0;continue}te=" "}if(N){var fe=n.isBreakingSpace(te),Y=n.isBreakingSpace(m[m.length-1]);if(fe&&Y)continue}var q=n.getFromCache(te,A,w,c);if(q>L)if(m!==""&&(b+=n.addLine(m),m="",d=0),n.canBreakWords(te,i.breakWords))for(var K=n.wordWrapSplit(te),ce=0;ce<K.length;ce++){for(var re=K[ce],ge=1;K[ce+ge];){var F=K[ce+ge],Te=re[re.length-1];if(!n.canBreakChars(Te,F,te,ce,i.breakWords))re+=F;else break;ge++}ce+=re.length-1;var Ce=n.getFromCache(re,A,w,c);Ce+d>L&&(b+=n.addLine(m),D=!1,m="",d=0),m+=re,d+=Ce}else{m.length>0&&(b+=n.addLine(m),m="",d=0);var ve=V===z.length-1;b+=n.addLine(te,!ve),D=!1,m="",d=0}else q+d>L&&(D=!1,b+=n.addLine(m),m="",d=0),(m.length>0||!n.isBreakingSpace(te)||D)&&(m+=te,d+=q)}return b+=n.addLine(m,!1),b},n.addLine=function(o,i){return i===void 0&&(i=!0),o=n.trimRight(o),o=i?o+`
`:o,o},n.getFromCache=function(o,i,l,c){var d=l[o];if(typeof d!="number"){var m=o.length*i;d=c.measureText(o).width+m,l[o]=d}return d},n.collapseSpaces=function(o){return o==="normal"||o==="pre-line"},n.collapseNewlines=function(o){return o==="normal"},n.trimRight=function(o){if(typeof o!="string")return"";for(var i=o.length-1;i>=0;i--){var l=o[i];if(!n.isBreakingSpace(l))break;o=o.slice(0,-1)}return o},n.isNewline=function(o){return typeof o!="string"?!1:n._newlines.indexOf(o.charCodeAt(0))>=0},n.isBreakingSpace=function(o){return typeof o!="string"?!1:n._breakingSpaces.indexOf(o.charCodeAt(0))>=0},n.tokenize=function(o){var i=[],l="";if(typeof o!="string")return i;for(var c=0;c<o.length;c++){var d=o[c];if(n.isBreakingSpace(d)||n.isNewline(d)){l!==""&&(i.push(l),l=""),i.push(d);continue}l+=d}return l!==""&&i.push(l),i},n.canBreakWords=function(o,i){return i},n.canBreakChars=function(o,i,l,c,d){return!0},n.wordWrapSplit=function(o){return o.split("")},n.measureFont=function(o){if(n._fonts[o])return n._fonts[o];var i={ascent:0,descent:0,fontSize:0},l=n._canvas,c=n._context;c.font=o;var d=n.METRICS_STRING+n.BASELINE_SYMBOL,m=Math.ceil(c.measureText(d).width),b=Math.ceil(c.measureText(n.BASELINE_SYMBOL).width),w=2*b;b=b*n.BASELINE_MULTIPLIER|0,l.width=m,l.height=w,c.fillStyle="#f00",c.fillRect(0,0,m,w),c.font=o,c.textBaseline="alphabetic",c.fillStyle="#000",c.fillText(d,0,b);var A=c.getImageData(0,0,m,w).data,I=A.length,N=m*4,R=0,D=0,L=!1;for(R=0;R<b;++R){for(var z=0;z<N;z+=4)if(A[D+z]!==255){L=!0;break}if(!L)D+=N;else break}for(i.ascent=b-R,D=I-N,L=!1,R=w;R>b;--R){for(var z=0;z<N;z+=4)if(A[D+z]!==255){L=!0;break}if(!L)D-=N;else break}return i.descent=R-b,i.fontSize=i.ascent+i.descent,n._fonts[o]=i,i},n.clearMetrics=function(o){o===void 0&&(o=""),o?delete n._fonts[o]:n._fonts={}},n}(),dU=function(){try{var n=new OffscreenCanvas(0,0),o=n.getContext("2d");return o&&o.measureText?n:document.createElement("canvas")}catch{return document.createElement("canvas")}}();dU.width=dU.height=10;Tf._canvas=dU;Tf._context=dU.getContext("2d");Tf._fonts={};Tf.METRICS_STRING="|q";Tf.BASELINE_SYMBOL="M";Tf.BASELINE_MULTIPLIER=1.4;Tf._newlines=[10,13];Tf._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var jst={texture:!0,children:!1,baseTexture:!0},Gee=function(n){$st(o,n);function o(i,l,c){var d=this,m=!1;c||(c=document.createElement("canvas"),m=!0),c.width=3,c.height=3;var b=zn.from(c);return b.orig=new Ki,b.trim=new Ki,d=n.call(this,b)||this,d._ownCanvas=m,d.canvas=c,d.context=d.canvas.getContext("2d"),d._resolution=cn.RESOLUTION,d._autoResolution=!0,d._text=null,d._style=null,d._styleListener=null,d._font="",d.text=i,d.style=l,d.localStyleID=-1,d}return o.prototype.updateText=function(i){var l=this._style;if(this.localStyleID!==l.styleID&&(this.dirty=!0,this.localStyleID=l.styleID),!(!this.dirty&&i)){this._font=this._style.toFontString();var c=this.context,d=Tf.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),m=d.width,b=d.height,w=d.lines,A=d.lineHeight,I=d.lineWidths,N=d.maxLineWidth,R=d.fontProperties;this.canvas.width=Math.ceil((Math.max(1,m)+l.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,b)+l.padding*2)*this._resolution),c.scale(this._resolution,this._resolution),c.clearRect(0,0,this.canvas.width,this.canvas.height),c.font=this._font,c.lineWidth=l.strokeThickness,c.textBaseline=l.textBaseline,c.lineJoin=l.lineJoin,c.miterLimit=l.miterLimit;for(var D,L,z=l.dropShadow?2:1,V=0;V<z;++V){var te=l.dropShadow&&V===0,fe=te?Math.ceil(Math.max(1,b)+l.padding*2):0,Y=fe*this._resolution;if(te){c.fillStyle="black",c.strokeStyle="black";var q=l.dropShadowColor,K=eE(typeof q=="number"?q:See(q)),ce=l.dropShadowBlur*this._resolution,re=l.dropShadowDistance*this._resolution;c.shadowColor="rgba("+K[0]*255+","+K[1]*255+","+K[2]*255+","+l.dropShadowAlpha+")",c.shadowBlur=ce,c.shadowOffsetX=Math.cos(l.dropShadowAngle)*re,c.shadowOffsetY=Math.sin(l.dropShadowAngle)*re+Y}else c.fillStyle=this._generateFillStyle(l,w,d),c.strokeStyle=l.stroke,c.shadowColor="black",c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0;for(var ge=0;ge<w.length;ge++)D=l.strokeThickness/2,L=l.strokeThickness/2+ge*A+R.ascent,l.align==="right"?D+=N-I[ge]:l.align==="center"&&(D+=(N-I[ge])/2),l.stroke&&l.strokeThickness&&this.drawLetterSpacing(w[ge],D+l.padding,L+l.padding-fe,!0),l.fill&&this.drawLetterSpacing(w[ge],D+l.padding,L+l.padding-fe)}this.updateTexture()}},o.prototype.drawLetterSpacing=function(i,l,c,d){d===void 0&&(d=!1);var m=this._style,b=m.letterSpacing;if(b===0){d?this.context.strokeText(i,l,c):this.context.fillText(i,l,c);return}for(var w=l,A=Array.from?Array.from(i):i.split(""),I=this.context.measureText(i).width,N=0,R=0;R<A.length;++R){var D=A[R];d?this.context.strokeText(D,w,c):this.context.fillText(D,w,c),N=this.context.measureText(i.substring(R+1)).width,w+=I-N+b,I=N}},o.prototype.updateTexture=function(){var i=this.canvas;if(this._style.trim){var l=SEe(i);l.data&&(i.width=l.width,i.height=l.height,this.context.putImageData(l.data,0,0))}var c=this._texture,d=this._style,m=d.trim?0:d.padding,b=c.baseTexture;c.trim.width=c._frame.width=Math.ceil(i.width/this._resolution),c.trim.height=c._frame.height=Math.ceil(i.height/this._resolution),c.trim.x=-m,c.trim.y=-m,c.orig.width=c._frame.width-m*2,c.orig.height=c._frame.height-m*2,this._onTextureUpdate(),b.setRealSize(i.width,i.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},o.prototype._render=function(i){this._autoResolution&&this._resolution!==i.resolution&&(this._resolution=i.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,i)},o.prototype.getLocalBounds=function(i){return this.updateText(!0),n.prototype.getLocalBounds.call(this,i)},o.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},o.prototype._generateFillStyle=function(i,l,c){var d=i.fill;if(Array.isArray(d)){if(d.length===1)return d[0]}else return d;var m,b=i.dropShadow?i.dropShadowDistance:0,w=i.padding||0,A=Math.ceil(this.canvas.width/this._resolution)-b-w*2,I=Math.ceil(this.canvas.height/this._resolution)-b-w*2,N=d.slice(),R=i.fillGradientStops.slice();if(!R.length)for(var D=N.length+1,L=1;L<D;++L)R.push(L/D);if(N.unshift(d[0]),R.unshift(0),N.push(d[d.length-1]),R.push(1),i.fillGradientType===lI.LINEAR_VERTICAL){m=this.context.createLinearGradient(A/2,w,A/2,I+w);for(var z=0,V=c.fontProperties.fontSize+i.strokeThickness,te=V/I,L=0;L<l.length;L++)for(var fe=c.lineHeight*L,Y=0;Y<N.length;Y++){var q=0;typeof R[Y]=="number"?q=R[Y]:q=Y/N.length;var K=fe/I+q*te,ce=Math.max(z,K);ce=Math.min(ce,1),m.addColorStop(ce,N[Y]),z=ce}}else{m=this.context.createLinearGradient(w,I/2,A+w,I/2);for(var re=N.length+1,ge=1,L=0;L<N.length;L++){var F=void 0;typeof R[L]=="number"?F=R[L]:F=ge/re,m.addColorStop(F,N[L]),ge++}}return m},o.prototype.destroy=function(i){typeof i=="boolean"&&(i={children:i}),i=Object.assign({},jst,i),n.prototype.destroy.call(this,i),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(o.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(i){this.updateText(!0);var l=LT(this.scale.x)||1;this.scale.x=l*i/this._texture.orig.width,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(i){this.updateText(!0);var l=LT(this.scale.y)||1;this.scale.y=l*i/this._texture.orig.height,this._height=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"style",{get:function(){return this._style},set:function(i){i=i||{},i instanceof iE?this._style=i:this._style=new iE(i),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(i){i=String(i??""),this._text!==i&&(this._text=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"resolution",{get:function(){return this._resolution},set:function(i){this._autoResolution=!1,this._resolution!==i&&(this._resolution=i,this.dirty=!0)},enumerable:!1,configurable:!0}),o}(wI);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var FQ=function(n,o){return FQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},FQ(n,o)};function Wst(n,o){FQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var USe=function(){function n(o){this.maxItemsPerFrame=o,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function Xst(n,o){var i=!1;if(n&&n._textures&&n._textures.length){for(var l=0;l<n._textures.length;l++)if(n._textures[l]instanceof zn){var c=n._textures[l].baseTexture;o.indexOf(c)===-1&&(o.push(c),i=!0)}}return i}function Yst(n,o){if(n.baseTexture instanceof Va){var i=n.baseTexture;return o.indexOf(i)===-1&&o.push(i),!0}return!1}function qst(n,o){if(n._texture&&n._texture instanceof zn){var i=n._texture.baseTexture;return o.indexOf(i)===-1&&o.push(i),!0}return!1}function Zst(n,o){return o instanceof Gee?(o.updateText(!0),!0):!1}function Kst(n,o){if(o instanceof iE){var i=o.toFontString();return Tf.measureFont(i),!0}return!1}function Qst(n,o){if(n instanceof Gee){o.indexOf(n.style)===-1&&o.push(n.style),o.indexOf(n)===-1&&o.push(n);var i=n._texture.baseTexture;return o.indexOf(i)===-1&&o.push(i),!0}return!1}function Jst(n,o){return n instanceof iE?(o.indexOf(n)===-1&&o.push(n),!0):!1}var GSe=function(){function n(o){var i=this;this.limiter=new USe(cn.UPLOADS_PER_FRAME),this.renderer=o,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(Qst),this.registerFindHook(Jst),this.registerFindHook(Xst),this.registerFindHook(Yst),this.registerFindHook(qst),this.registerUploadHook(Zst),this.registerUploadHook(Kst)}return n.prototype.upload=function(o,i){typeof o=="function"&&(i=o,o=null),o&&this.add(o),this.queue.length?(i&&this.completes.push(i),this.ticking||(this.ticking=!0,Ps.system.addOnce(this.tick,this,Lm.UTILITY))):i&&i()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var o=this.queue[0],i=!1;if(o&&!o._destroyed){for(var l=0,c=this.uploadHooks.length;l<c;l++)if(this.uploadHooks[l](this.uploadHookHelper,o)){this.queue.shift(),i=!0;break}}i||this.queue.shift()}if(this.queue.length)Ps.system.addOnce(this.tick,this,Lm.UTILITY);else{this.ticking=!1;var d=this.completes.slice(0);this.completes.length=0;for(var l=0,c=d.length;l<c;l++)d[l]()}},n.prototype.registerFindHook=function(o){return o&&this.addHooks.push(o),this},n.prototype.registerUploadHook=function(o){return o&&this.uploadHooks.push(o),this},n.prototype.add=function(o){for(var i=0,l=this.addHooks.length;i<l&&!this.addHooks[i](o,this.queue);i++);if(o instanceof Rd)for(var i=o.children.length-1;i>=0;i--)this.add(o.children[i]);return this},n.prototype.destroy=function(){this.ticking&&Ps.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function $Se(n,o){return o instanceof Va?(o._glTextures[n.CONTEXT_UID]||n.texture.bind(o),!0):!1}function elt(n,o){if(!(o instanceof Uee))return!1;var i=o.geometry;o.finishPoly(),i.updateBatches();for(var l=i.batches,c=0;c<l.length;c++){var d=l[c].style.texture;d&&$Se(n,d.baseTexture)}return i.batchable||n.geometry.bind(i,o._resolveDirectShader(n)),!0}function tlt(n,o){return n instanceof Uee?(o.push(n),!0):!1}var zSe=function(n){Wst(o,n);function o(i){var l=n.call(this,i)||this;return l.uploadHookHelper=l.renderer,l.registerFindHook(tlt),l.registerUploadHook($Se),l.registerUploadHook(elt),l}return o}(GSe),rlt=function(){function n(o){this.maxMilliseconds=o,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}();/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var VSe=function(){function n(o,i,l){l===void 0&&(l=null),this._texture=o instanceof zn?o:null,this.baseTexture=o instanceof Va?o:this._texture.baseTexture,this.textures={},this.animations={},this.data=i;var c=this.baseTexture.resource;this.resolution=this._updateResolution(l||(c?c.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(o){o===void 0&&(o=null);var i=this.data.meta.scale,l=W2(o,null);return l===null&&(l=i!==void 0?parseFloat(i):1),l!==1&&this.baseTexture.setResolution(l),l},n.prototype.parse=function(o){this._batchIndex=0,this._callback=o,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(o){for(var i=o,l=n.BATCH_SIZE;i-o<l&&i<this._frameKeys.length;){var c=this._frameKeys[i],d=this._frames[c],m=d.frame;if(m){var b=null,w=null,A=d.trimmed!==!1&&d.sourceSize?d.sourceSize:d.frame,I=new Ki(0,0,Math.floor(A.w)/this.resolution,Math.floor(A.h)/this.resolution);d.rotated?b=new Ki(Math.floor(m.x)/this.resolution,Math.floor(m.y)/this.resolution,Math.floor(m.h)/this.resolution,Math.floor(m.w)/this.resolution):b=new Ki(Math.floor(m.x)/this.resolution,Math.floor(m.y)/this.resolution,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution),d.trimmed!==!1&&d.spriteSourceSize&&(w=new Ki(Math.floor(d.spriteSourceSize.x)/this.resolution,Math.floor(d.spriteSourceSize.y)/this.resolution,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution)),this.textures[c]=new zn(this.baseTexture,b,I,w,d.rotated?2:0,d.anchor),zn.addToCache(this.textures[c],c)}i++}},n.prototype._processAnimations=function(){var o=this.data.animations||{};for(var i in o){this.animations[i]=[];for(var l=0;l<o[i].length;l++){var c=o[i][l];this.animations[i].push(this.textures[c])}}},n.prototype._parseComplete=function(){var o=this._callback;this._callback=null,this._batchIndex=0,o.call(this,this.textures)},n.prototype._nextBatch=function(){var o=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){o._batchIndex*n.BATCH_SIZE<o._frameKeys.length?o._nextBatch():(o._processAnimations(),o._parseComplete())},0)},n.prototype.destroy=function(o){var i;o===void 0&&(o=!1);for(var l in this.textures)this.textures[l].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,o&&((i=this._texture)===null||i===void 0||i.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),jSe=function(){function n(){}return n.use=function(o,i){var l=this,c=o.name+"_image";if(!o.data||o.type!==k2.TYPE.JSON||!o.data.frames||l.resources[c]){i();return}var d={crossOrigin:o.crossOrigin,metadata:o.metadata.imageMetadata,parentResource:o},m=n.getResourcePath(o,l.baseUrl);l.add(c,m,d,function(w){if(w.error){i(w.error);return}var A=new VSe(w.texture,o.data,o.url);A.parse(function(){o.spritesheet=A,o.textures=A.textures,i()})})},n.getResourcePath=function(o,i){return o.isDataUrl?o.data.meta.image:mE.resolve(o.url.replace(i,""),o.data.meta.image)},n}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BQ=function(n,o){return BQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},BQ(n,o)};function WSe(n,o){BQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var h2=new Ns,nlt=function(n){WSe(o,n);function o(i,l,c){l===void 0&&(l=100),c===void 0&&(c=100);var d=n.call(this,i)||this;return d.tileTransform=new xee,d._width=l,d._height=c,d.uvMatrix=d.texture.uvMatrix||new n9(i),d.pluginName="tilingSprite",d.uvRespectAnchor=!1,d}return Object.defineProperty(o.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(i){this.uvMatrix.clampMargin=i,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(i){this.tileTransform.scale.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(i){this.tileTransform.position.copyFrom(i)},enumerable:!1,configurable:!0}),o.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},o.prototype._render=function(i){var l=this._texture;!l||!l.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this))},o.prototype._calculateBounds=function(){var i=this._width*-this._anchor._x,l=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,i,l,c,d)},o.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new Ki),i=this._localBoundsRect),this._bounds.getRectangle(i)):n.prototype.getLocalBounds.call(this,i)},o.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,h2);var l=this._width,c=this._height,d=-l*this.anchor._x;if(h2.x>=d&&h2.x<d+l){var m=-c*this.anchor._y;if(h2.y>=m&&h2.y<m+c)return!0}return!1},o.prototype.destroy=function(i){n.prototype.destroy.call(this,i),this.tileTransform=null,this.uvMatrix=null},o.from=function(i,l){return typeof l=="number"&&(fr("5.3.0","TilingSprite.from use options instead of width and height args"),l={width:l,height:arguments[2]}),new o(zn.from(i,l),l.width,l.height)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(i){this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(i){this._height=i},enumerable:!1,configurable:!0}),o}(wI),Q0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ilt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,alt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Z8=new Ko,XSe=function(n){WSe(o,n);function o(i){var l=n.call(this,i)||this,c={globals:l.renderer.globalUniforms};return l.shader=Sb.from(Q0e,ilt,c),l.simpleShader=Sb.from(Q0e,alt,c),l.quad=new Mee,l.state=wb.for2d(),l}return o.prototype.render=function(i){var l=this.renderer,c=this.quad,d=c.vertices;d[0]=d[6]=i._width*-i.anchor.x,d[1]=d[3]=i._height*-i.anchor.y,d[2]=d[4]=i._width*(1-i.anchor.x),d[5]=d[7]=i._height*(1-i.anchor.y),i.uvRespectAnchor&&(d=c.uvs,d[0]=d[6]=-i.anchor.x,d[1]=d[3]=-i.anchor.y,d[2]=d[4]=1-i.anchor.x,d[5]=d[7]=1-i.anchor.y),c.invalidate();var m=i._texture,b=m.baseTexture,w=i.tileTransform.localTransform,A=i.uvMatrix,I=b.isPowerOfTwo&&m.frame.width===b.width&&m.frame.height===b.height;I&&(b._glTextures[l.CONTEXT_UID]?I=b.wrapMode!==Pv.CLAMP:b.wrapMode===Pv.CLAMP&&(b.wrapMode=Pv.REPEAT));var N=I?this.simpleShader:this.shader,R=m.width,D=m.height,L=i._width,z=i._height;Z8.set(w.a*R/L,w.b*R/z,w.c*D/L,w.d*D/z,w.tx/L,w.ty/z),Z8.invert(),I?Z8.prepend(A.mapCoord):(N.uniforms.uMapCoord=A.mapCoord.toArray(!0),N.uniforms.uClampFrame=A.uClampFrame,N.uniforms.uClampOffset=A.uClampOffset),N.uniforms.uTransform=Z8.toArray(!0),N.uniforms.uColor=Cee(i.tint,i.worldAlpha,N.uniforms.uColor,b.alphaMode),N.uniforms.translationMatrix=i.transform.worldTransform.toArray(!0),N.uniforms.uSampler=m,l.shader.bind(N),l.geometry.bind(c),this.state.blendMode=wee(i.blendMode,b.alphaMode),l.state.set(this.state),l.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},o}(AM);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var HQ=function(n,o){return HQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},HQ(n,o)};function $ee(n,o){HQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var YSe=function(){function n(o,i){this.uvBuffer=o,this.uvMatrix=i,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(o){if(!(!o&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var i=this.uvBuffer.data;(!this.data||this.data.length!==i.length)&&(this.data=new Float32Array(i.length)),this.uvMatrix.multiplyUvs(i,this.data),this._updateID++}},n}(),FZ=new Ns,J0e=new Vx,uI=function(n){$ee(o,n);function o(i,l,c,d){d===void 0&&(d=lf.TRIANGLES);var m=n.call(this)||this;return m.geometry=i,i.refCount++,m.shader=l,m.state=c||wb.for2d(),m.drawMode=d,m.start=0,m.size=0,m.uvs=null,m.indices=null,m.vertexData=new Float32Array(1),m.vertexDirty=0,m._transformID=-1,m._roundPixels=cn.ROUND_PIXELS,m.batchUvs=null,m}return Object.defineProperty(o.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"material",{get:function(){return this.shader},set:function(i){this.shader=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){this._roundPixels!==i&&(this._transformID=-1),this._roundPixels=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this.shader.tint},set:function(i){this.shader.tint=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this.shader.texture},set:function(i){this.shader.texture=i},enumerable:!1,configurable:!0}),o.prototype._render=function(i){var l=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===lf.TRIANGLES&&l.length<o.BATCHABLE_SIZE*2?this._renderToBatch(i):this._renderDefault(i)},o.prototype._renderDefault=function(i){var l=this.shader;l.alpha=this.worldAlpha,l.update&&l.update(),i.batch.flush(),l.program.uniformData.translationMatrix&&(l.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),i.shader.bind(l),i.state.set(this.state),i.geometry.bind(this.geometry,l),i.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},o.prototype._renderToBatch=function(i){var l=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=l.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var c=this.material.pluginName;i.batch.setObjectRenderer(i.plugins[c]),i.plugins[c].render(this)},o.prototype.calculateVertices=function(){var i=this.geometry,l=i.buffers[0].data;if(!(i.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==l.length&&(this.vertexData=new Float32Array(l.length));for(var c=this.transform.worldTransform,d=c.a,m=c.b,b=c.c,w=c.d,A=c.tx,I=c.ty,N=this.vertexData,R=0;R<N.length/2;R++){var D=l[R*2],L=l[R*2+1];N[R*2]=d*D+b*L+A,N[R*2+1]=m*D+w*L+I}if(this._roundPixels)for(var z=cn.RESOLUTION,R=0;R<N.length;++R)N[R]=Math.round((N[R]*z|0)/z);this.vertexDirty=i.vertexDirtyId}},o.prototype.calculateUvs=function(){var i=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=i.data:(this.batchUvs||(this.batchUvs=new YSe(i,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},o.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},o.prototype.containsPoint=function(i){if(!this.getBounds().contains(i.x,i.y))return!1;this.worldTransform.applyInverse(i,FZ);for(var l=this.geometry.getBuffer("aVertexPosition").data,c=J0e.points,d=this.geometry.getIndex().data,m=d.length,b=this.drawMode===4?3:1,w=0;w+2<m;w+=b){var A=d[w]*2,I=d[w+1]*2,N=d[w+2]*2;if(c[0]=l[A],c[1]=l[A+1],c[2]=l[I],c[3]=l[I+1],c[4]=l[N],c[5]=l[N+1],J0e.contains(FZ.x,FZ.y))return!0}return!1},o.prototype.destroy=function(i){n.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},o.BATCHABLE_SIZE=100,o}(Rd),olt=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,slt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,xM=function(n){$ee(o,n);function o(i,l){var c=this,d={uSampler:i,alpha:1,uTextureMatrix:Ko.IDENTITY,uColor:new Float32Array([1,1,1,1])};return l=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},l),l.uniforms&&Object.assign(d,l.uniforms),c=n.call(this,l.program||wM.from(slt,olt),d)||this,c._colorDirty=!1,c.uvMatrix=new n9(i),c.batchable=l.program===void 0,c.pluginName=l.pluginName,c.tint=l.tint,c.alpha=l.alpha,c}return Object.defineProperty(o.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(i){this.uniforms.uSampler!==i&&(this.uniforms.uSampler=i,this.uvMatrix.texture=i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this._alpha},set:function(i){i!==this._alpha&&(this._alpha=i,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(i){i!==this._tint&&(this._tint=i,this._tintRGB=(i>>16)+(i&65280)+((i&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),o.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var i=this.texture.baseTexture;Cee(this._tint,this._alpha,this.uniforms.uColor,i.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},o}(Sb),IM=function(n){$ee(o,n);function o(i,l,c){var d=n.call(this)||this,m=new Rs(i),b=new Rs(l,!0),w=new Rs(c,!0,!0);return d.addAttribute("aVertexPosition",m,2,!1,Zo.FLOAT).addAttribute("aTextureCoord",b,2,!1,Zo.FLOAT).addIndex(w),d._updateId=-1,d}return Object.defineProperty(o.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),o}(AI);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UQ=function(n,o){return UQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},UQ(n,o)};function llt(n,o){UQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Y2=function(){function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return n}(),ult=function(){function n(){}return n.test=function(o){return typeof o=="string"&&o.indexOf("info face=")===0},n.parse=function(o){var i=o.match(/^[a-z]+\s+.+$/gm),l={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var c in i){var d=i[c].match(/^[a-z]+/gm)[0],m=i[c].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),b={};for(var w in m){var A=m[w].split("="),I=A[0],N=A[1].replace(/"/gm,""),R=parseFloat(N),D=isNaN(R)?N:R;b[I]=D}l[d].push(b)}var L=new Y2;return l.info.forEach(function(z){return L.info.push({face:z.face,size:parseInt(z.size,10)})}),l.common.forEach(function(z){return L.common.push({lineHeight:parseInt(z.lineHeight,10)})}),l.page.forEach(function(z){return L.page.push({id:parseInt(z.id,10),file:z.file})}),l.char.forEach(function(z){return L.char.push({id:parseInt(z.id,10),page:parseInt(z.page,10),x:parseInt(z.x,10),y:parseInt(z.y,10),width:parseInt(z.width,10),height:parseInt(z.height,10),xoffset:parseInt(z.xoffset,10),yoffset:parseInt(z.yoffset,10),xadvance:parseInt(z.xadvance,10)})}),l.kerning.forEach(function(z){return L.kerning.push({first:parseInt(z.first,10),second:parseInt(z.second,10),amount:parseInt(z.amount,10)})}),L},n}(),GQ=function(){function n(){}return n.test=function(o){return o instanceof XMLDocument&&o.getElementsByTagName("page").length&&o.getElementsByTagName("info")[0].getAttribute("face")!==null},n.parse=function(o){for(var i=new Y2,l=o.getElementsByTagName("info"),c=o.getElementsByTagName("common"),d=o.getElementsByTagName("page"),m=o.getElementsByTagName("char"),b=o.getElementsByTagName("kerning"),w=0;w<l.length;w++)i.info.push({face:l[w].getAttribute("face"),size:parseInt(l[w].getAttribute("size"),10)});for(var w=0;w<c.length;w++)i.common.push({lineHeight:parseInt(c[w].getAttribute("lineHeight"),10)});for(var w=0;w<d.length;w++)i.page.push({id:parseInt(d[w].getAttribute("id"),10)||0,file:d[w].getAttribute("file")});for(var w=0;w<m.length;w++){var A=m[w];i.char.push({id:parseInt(A.getAttribute("id"),10),page:parseInt(A.getAttribute("page"),10)||0,x:parseInt(A.getAttribute("x"),10),y:parseInt(A.getAttribute("y"),10),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10),xoffset:parseInt(A.getAttribute("xoffset"),10),yoffset:parseInt(A.getAttribute("yoffset"),10),xadvance:parseInt(A.getAttribute("xadvance"),10)})}for(var w=0;w<b.length;w++)i.kerning.push({first:parseInt(b[w].getAttribute("first"),10),second:parseInt(b[w].getAttribute("second"),10),amount:parseInt(b[w].getAttribute("amount"),10)});return i},n}(),clt=function(){function n(){}return n.test=function(o){if(typeof o=="string"&&o.indexOf("<font>")>-1){var i=new self.DOMParser().parseFromString(o,"text/xml");return GQ.test(i)}return!1},n.parse=function(o){var i=new window.DOMParser().parseFromString(o,"text/xml");return GQ.parse(i)},n}(),BZ=[ult,GQ,clt];function qSe(n){for(var o=0;o<BZ.length;o++)if(BZ[o].test(n))return BZ[o];return null}function hlt(n,o,i,l,c,d){var m=i.fill;if(Array.isArray(m)){if(m.length===1)return m[0]}else return m;var b,w=i.dropShadow?i.dropShadowDistance:0,A=i.padding||0,I=Math.ceil(n.width/l)-w-A*2,N=Math.ceil(n.height/l)-w-A*2,R=m.slice(),D=i.fillGradientStops.slice();if(!D.length)for(var L=R.length+1,z=1;z<L;++z)D.push(z/L);if(R.unshift(m[0]),D.unshift(0),R.push(m[m.length-1]),D.push(1),i.fillGradientType===lI.LINEAR_VERTICAL){b=o.createLinearGradient(I/2,A,I/2,N+A);for(var V=0,te=d.fontProperties.fontSize+i.strokeThickness,fe=te/N,z=0;z<c.length;z++)for(var Y=d.lineHeight*z,q=0;q<R.length;q++){var K=0;typeof D[q]=="number"?K=D[q]:K=q/R.length;var ce=Y/N+K*fe,re=Math.max(V,ce);re=Math.min(re,1),b.addColorStop(re,R[q]),V=re}}else{b=o.createLinearGradient(A,N/2,I+A,N/2);for(var ge=R.length+1,F=1,z=0;z<R.length;z++){var Te=void 0;typeof D[z]=="number"?Te=D[z]:Te=F/ge,b.addColorStop(Te,R[z]),F++}}return b}function flt(n,o,i,l,c,d,m){var b=i.text,w=i.fontProperties;o.translate(l,c),o.scale(d,d);var A=m.strokeThickness/2,I=-(m.strokeThickness/2);if(o.font=m.toFontString(),o.lineWidth=m.strokeThickness,o.textBaseline=m.textBaseline,o.lineJoin=m.lineJoin,o.miterLimit=m.miterLimit,o.fillStyle=hlt(n,o,m,d,[b],i),o.strokeStyle=m.stroke,m.dropShadow){var N=m.dropShadowColor,R=eE(typeof N=="number"?N:See(N)),D=m.dropShadowBlur*d,L=m.dropShadowDistance*d;o.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+m.dropShadowAlpha+")",o.shadowBlur=D,o.shadowOffsetX=Math.cos(m.dropShadowAngle)*L,o.shadowOffsetY=Math.sin(m.dropShadowAngle)*L}else o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;m.stroke&&m.strokeThickness&&o.strokeText(b,A,I+i.lineHeight-w.descent),m.fill&&o.fillText(b,A,I+i.lineHeight-w.descent),o.setTransform(1,0,0,1,0,0),o.fillStyle="rgba(0, 0, 0, 0)"}function dlt(n){typeof n=="string"&&(n=[n]);for(var o=[],i=0,l=n.length;i<l;i++){var c=n[i];if(Array.isArray(c)){if(c.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+c.length+".");var d=c[0].charCodeAt(0),m=c[1].charCodeAt(0);if(m<d)throw new Error("[BitmapFont]: Invalid character range.");for(var b=d,w=m;b<=w;b++)o.push(String.fromCharCode(b))}else o.push.apply(o,c.split(""))}if(o.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return o}var lb=function(){function n(o,i,l){var c=o.info[0],d=o.common[0],m=o.page[0],b=W2(m.file),w={};this._ownsTextures=l,this.font=c.face,this.size=c.size,this.lineHeight=d.lineHeight/b,this.chars={},this.pageTextures=w;for(var A=0;A<o.page.length;A++){var I=o.page[A],N=I.id,R=I.file;w[N]=i instanceof Array?i[A]:i[R]}for(var A=0;A<o.char.length;A++){var D=o.char[A],N=D.id,L=D.page,z=o.char[A],V=z.x,te=z.y,fe=z.width,Y=z.height,q=z.xoffset,K=z.yoffset,ce=z.xadvance;V/=b,te/=b,fe/=b,Y/=b,q/=b,K/=b,ce/=b;var re=new Ki(V+w[L].frame.x/b,te+w[L].frame.y/b,fe,Y);this.chars[N]={xOffset:q,yOffset:K,xAdvance:ce,kerning:{},texture:new zn(w[L].baseTexture,re),page:L}}for(var A=0;A<o.kerning.length;A++){var ge=o.kerning[A],F=ge.first,Te=ge.second,Ce=ge.amount;F/=b,Te/=b,Ce/=b,this.chars[Te]&&(this.chars[Te].kerning[F]=Ce)}}return n.prototype.destroy=function(){for(var o in this.chars)this.chars[o].texture.destroy(),this.chars[o].texture=null;for(var o in this.pageTextures)this._ownsTextures&&this.pageTextures[o].destroy(!0),this.pageTextures[o]=null;this.chars=null,this.pageTextures=null},n.install=function(o,i,l){var c;if(o instanceof Y2)c=o;else{var d=qSe(o);if(!d)throw new Error("Unrecognized data format for font.");c=d.parse(o)}i instanceof zn&&(i=[i]);var m=new n(c,i,l);return n.available[m.font]=m,m},n.uninstall=function(o){var i=n.available[o];if(!i)throw new Error("No font found named '"+o+"'");i.destroy(),delete n.available[o]},n.from=function(o,i,l){if(!o)throw new Error("[BitmapFont] Property `name` is required.");var c=Object.assign({},n.defaultOptions,l),d=c.chars,m=c.padding,b=c.resolution,w=c.textureWidth,A=c.textureHeight,I=dlt(d),N=i instanceof iE?i:new iE(i),R=w,D=new Y2;D.info[0]={face:N.fontFamily,size:N.fontSize},D.common[0]={lineHeight:N.fontSize};for(var L=0,z=0,V,te,fe,Y=0,q=[],K=0;K<I.length;K++){V||(V=document.createElement("canvas"),V.width=w,V.height=A,te=V.getContext("2d"),fe=new Va(V,{resolution:b}),q.push(new zn(fe)),D.page.push({id:q.length-1,file:""}));var ce=Tf.measureText(I[K],N,!1,V),re=ce.width,ge=Math.ceil(ce.height),F=Math.ceil((N.fontStyle==="italic"?2:1)*re);if(z>=A-ge*b){if(z===0)throw new Error("[BitmapFont] textureHeight "+A+"px is "+("too small for "+N.fontSize+"px fonts"));--K,V=null,te=null,fe=null,z=0,L=0,Y=0;continue}if(Y=Math.max(ge+ce.fontProperties.descent,Y),F*b+L>=R){--K,z+=Y*b,z=Math.ceil(z),L=0,Y=0;continue}flt(V,te,ce,L,z,b,N);var Te=ce.text.charCodeAt(0);D.char.push({id:Te,page:q.length-1,x:L/b,y:z/b,width:F,height:ge,xoffset:0,yoffset:0,xadvance:Math.ceil(re-(N.dropShadow?N.dropShadowDistance:0)-(N.stroke?N.strokeThickness:0))}),L+=(F+2*m)*b,L=Math.ceil(L)}var Ce=new n(D,q,!0);return n.available[o]!==void 0&&n.uninstall(o),n.available[o]=Ce,Ce},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),eye=[],tye=[],plt=function(n){llt(o,n);function o(i,l){l===void 0&&(l={});var c=n.call(this)||this;c._tint=16777215,l.font&&(fr("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),c._upgradeStyle(l));var d=Object.assign({},o.styleDefaults,l),m=d.align,b=d.tint,w=d.maxWidth,A=d.letterSpacing,I=d.fontName,N=d.fontSize;if(!lb.available[I])throw new Error('Missing BitmapFont "'+I+'"');return c._activePagesMeshData=[],c._textWidth=0,c._textHeight=0,c._align=m,c._tint=b,c._fontName=I,c._fontSize=N||lb.available[I].size,c._text=i,c._maxWidth=w,c._maxLineHeight=0,c._letterSpacing=A,c._anchor=new FT(function(){c.dirty=!0},c,0,0),c._roundPixels=cn.ROUND_PIXELS,c.dirty=!0,c._textureCache={},c}return o.prototype.updateText=function(){for(var i,l=lb.available[this._fontName],c=this._fontSize/l.size,d=new Ns,m=[],b=[],w=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",A=w.length,I=this._maxWidth*l.size/this._fontSize,N=null,R=0,D=0,L=0,z=-1,V=0,te=0,fe=0,Y=0;Y<A;Y++){var q=w.charCodeAt(Y),K=w.charAt(Y);if(/(?:\s)/.test(K)&&(z=Y,V=R),K==="\r"||K===`
`){b.push(R),D=Math.max(D,R),++L,++te,d.x=0,d.y+=l.lineHeight,N=null;continue}var ce=l.chars[q];if(ce){N&&ce.kerning[N]&&(d.x+=ce.kerning[N]);var re=tye.pop()||{texture:zn.EMPTY,line:0,charCode:0,position:new Ns};re.texture=ce.texture,re.line=L,re.charCode=q,re.position.x=d.x+ce.xOffset+this._letterSpacing/2,re.position.y=d.y+ce.yOffset,m.push(re),d.x+=ce.xAdvance+this._letterSpacing,R=d.x,fe=Math.max(fe,ce.yOffset+ce.texture.height),N=q,z!==-1&&I>0&&d.x>I&&(++te,qT(m,1+z-te,1+Y-z),Y=z,z=-1,b.push(V),D=Math.max(D,V),L++,d.x=0,d.y+=l.lineHeight,N=null)}}var ge=w.charAt(w.length-1);ge!=="\r"&&ge!==`
`&&(/(?:\s)/.test(ge)&&(R=V),b.push(R),D=Math.max(D,R));for(var F=[],Y=0;Y<=L;Y++){var Te=0;this._align==="right"?Te=D-b[Y]:this._align==="center"&&(Te=(D-b[Y])/2),F.push(Te)}for(var Ce=m.length,ve={},Ke=[],ot=this._activePagesMeshData,Y=0;Y<ot.length;Y++)eye.push(ot[Y]);for(var Y=0;Y<Ce;Y++){var $=m[Y].texture,lt=$.baseTexture.uid;if(!ve[lt]){var Tt=eye.pop();if(!Tt){var Be=new IM,qe=new xM(zn.EMPTY),We=new uI(Be,qe);Tt={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:We,vertices:null,uvs:null,indices:null}}Tt.index=0,Tt.indexCount=0,Tt.vertexCount=0,Tt.uvsCount=0,Tt.total=0;var Ge=this._textureCache;Ge[lt]=Ge[lt]||new zn($.baseTexture),Tt.mesh.texture=Ge[lt],Tt.mesh.tint=this._tint,Ke.push(Tt),ve[lt]=Tt}ve[lt].total++}for(var Y=0;Y<ot.length;Y++)Ke.indexOf(ot[Y])===-1&&this.removeChild(ot[Y].mesh);for(var Y=0;Y<Ke.length;Y++)Ke[Y].mesh.parent!==this&&this.addChild(Ke[Y].mesh);this._activePagesMeshData=Ke;for(var Y in ve){var Tt=ve[Y],nt=Tt.total;if(!(((i=Tt.indices)===null||i===void 0?void 0:i.length)>6*nt)||Tt.vertices.length<uI.BATCHABLE_SIZE*2)Tt.vertices=new Float32Array(4*2*nt),Tt.uvs=new Float32Array(4*2*nt),Tt.indices=new Uint16Array(6*nt);else for(var St=Tt.total,Gt=Tt.vertices,Zt=St*4*2;Zt<Gt.length;Zt++)Gt[Zt]=0;Tt.mesh.size=6*nt}for(var Y=0;Y<Ce;Y++){var K=m[Y],ir=K.position.x+F[K.line];this._roundPixels&&(ir=Math.round(ir));var zt=ir*c,Qt=K.position.y*c,$=K.texture,Wt=ve[$.baseTexture.uid],yr=$.frame,br=$._uvs,Pt=Wt.index++;Wt.indices[Pt*6+0]=0+Pt*4,Wt.indices[Pt*6+1]=1+Pt*4,Wt.indices[Pt*6+2]=2+Pt*4,Wt.indices[Pt*6+3]=0+Pt*4,Wt.indices[Pt*6+4]=2+Pt*4,Wt.indices[Pt*6+5]=3+Pt*4,Wt.vertices[Pt*8+0]=zt,Wt.vertices[Pt*8+1]=Qt,Wt.vertices[Pt*8+2]=zt+yr.width*c,Wt.vertices[Pt*8+3]=Qt,Wt.vertices[Pt*8+4]=zt+yr.width*c,Wt.vertices[Pt*8+5]=Qt+yr.height*c,Wt.vertices[Pt*8+6]=zt,Wt.vertices[Pt*8+7]=Qt+yr.height*c,Wt.uvs[Pt*8+0]=br.x0,Wt.uvs[Pt*8+1]=br.y0,Wt.uvs[Pt*8+2]=br.x1,Wt.uvs[Pt*8+3]=br.y1,Wt.uvs[Pt*8+4]=br.x2,Wt.uvs[Pt*8+5]=br.y2,Wt.uvs[Pt*8+6]=br.x3,Wt.uvs[Pt*8+7]=br.y3}this._textWidth=D*c,this._textHeight=(d.y+l.lineHeight)*c;for(var Y in ve){var Tt=ve[Y];if(this.anchor.x!==0||this.anchor.y!==0)for(var Dr=0,Gr=this._textWidth*this.anchor.x,rn=this._textHeight*this.anchor.y,yi=0;yi<Tt.total;yi++)Tt.vertices[Dr++]-=Gr,Tt.vertices[Dr++]-=rn,Tt.vertices[Dr++]-=Gr,Tt.vertices[Dr++]-=rn,Tt.vertices[Dr++]-=Gr,Tt.vertices[Dr++]-=rn,Tt.vertices[Dr++]-=Gr,Tt.vertices[Dr++]-=rn;this._maxLineHeight=fe*c;var ra=Tt.mesh.geometry.getBuffer("aVertexPosition"),na=Tt.mesh.geometry.getBuffer("aTextureCoord"),Co=Tt.mesh.geometry.getIndex();ra.data=Tt.vertices,na.data=Tt.uvs,Co.data=Tt.indices,ra.update(),na.update(),Co.update()}for(var Y=0;Y<m.length;Y++)tye.push(m[Y])},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(i){if(this._tint!==i){this._tint=i;for(var l=0;l<this._activePagesMeshData.length;l++)this._activePagesMeshData[l].mesh.tint=i}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontName",{get:function(){return this._fontName},set:function(i){if(!lb.available[i])throw new Error('Missing BitmapFont "'+i+'"');this._fontName!==i&&(this._fontName=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(i){typeof i=="number"?this._anchor.set(i):this._anchor.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(i){i=String(i??""),this._text!==i&&(this._text=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(i){this._maxWidth!==i&&(this._maxWidth=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){i!==this._roundPixels&&(this._roundPixels=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),o.prototype._upgradeStyle=function(i){if(typeof i.font=="string"){var l=i.font.split(" ");i.fontName=l.length===1?l[0]:l.slice(1).join(" "),l.length>=2&&(i.fontSize=parseInt(l[0],10))}else i.fontName=i.font.name,i.fontSize=typeof i.font.size=="number"?i.font.size:parseInt(i.font.size,10)},o.prototype.destroy=function(i){var l=this._textureCache;for(var c in l){var d=l[c];d.destroy(),delete l[c]}this._textureCache=null,n.prototype.destroy.call(this,i)},o.registerFont=function(i,l){return fr("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),lb.install(i,l)},Object.defineProperty(o,"fonts",{get:function(){return fr("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),lb.available},enumerable:!1,configurable:!0}),o.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},o}(Rd),ZSe=function(){function n(){}return n.add=function(){k2.setExtensionXhrType("fnt",k2.XHR_RESPONSE_TYPE.TEXT)},n.use=function(o,i){var l=qSe(o.data);if(!l){i();return}for(var c=n.getBaseUrl(this,o),d=l.parse(o.data),m={},b=function(z){m[z.metadata.pageFile]=z.texture,Object.keys(m).length===d.page.length&&(o.bitmapFont=lb.install(d,m,!0),i())},w=0;w<d.page.length;++w){var A=d.page[w].file,I=c+A,N=!1;for(var R in this.resources){var D=this.resources[R];if(D.url===I){D.metadata.pageFile=A,D.texture?b(D):D.onAfterMiddleware.add(b),N=!0;break}}if(!N){var L={crossOrigin:o.crossOrigin,loadType:k2.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:A},o.metadata.imageMetadata),parentResource:o};this.add(I,L,b)}}},n.getBaseUrl=function(o,i){var l=i.isDataUrl?"":n.dirname(i.url);return i.isDataUrl&&(l==="."&&(l=""),o.baseUrl&&l&&o.baseUrl.charAt(o.baseUrl.length-1)==="/"&&(l+="/")),l=l.replace(o.baseUrl,""),l&&l.charAt(l.length-1)!=="/"&&(l+="/"),l},n.dirname=function(o){var i=o.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return i===o?".":i===""?"/":i},n}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $Q=function(n,o){return $Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},$Q(n,o)};function mlt(n,o){$Q(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var glt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,vlt=function(n){mlt(o,n);function o(i){i===void 0&&(i=1);var l=n.call(this,bSe,glt,{uAlpha:1})||this;return l.alpha=i,l}return Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(i){this.uniforms.uAlpha=i},enumerable:!1,configurable:!0}),o}(Gv);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zQ=function(n,o){return zQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},zQ(n,o)};function KSe(n,o){zQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var ylt=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function blt(n,o){var i=Math.ceil(n/2),l=ylt,c="",d;o?d="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":d="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var m=0;m<n;m++){var b=d.replace("%index%",m.toString());b=b.replace("%sampleIndex%",m-(i-1)+".0"),c+=b,c+=`
`}return l=l.replace("%blur%",c),l=l.replace("%size%",n.toString()),l}var _lt={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Tlt=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Elt(n){for(var o=_lt[n],i=o.length,l=Tlt,c="",d="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",m,b=0;b<n;b++){var w=d.replace("%index%",b.toString());m=b,b>=i&&(m=n-b-1),w=w.replace("%value%",o[m].toString()),c+=w,c+=`
`}return l=l.replace("%blur%",c),l=l.replace("%size%",n.toString()),l}var rye;(function(n){n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2"})(rye||(rye={}));var nye;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS"})(nye||(nye={}));var iye;(function(n){n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL"})(iye||(iye={}));var aye;(function(n){n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR"})(aye||(aye={}));var oye;(function(n){n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(oye||(oye={}));var sye;(function(n){n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(sye||(sye={}));var lye;(function(n){n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(lye||(lye={}));var uye;(function(n){n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.FLOAT=5126]="FLOAT",n[n.HALF_FLOAT=36193]="HALF_FLOAT"})(uye||(uye={}));var cye;(function(n){n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR"})(cye||(cye={}));var hye;(function(n){n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(hye||(hye={}));var fye;(function(n){n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON"})(fye||(fye={}));var dye;(function(n){n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(dye||(dye={}));var q2;(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"})(q2||(q2={}));var pye;(function(n){n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL"})(pye||(pye={}));var mye;(function(n){n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp"})(mye||(mye={}));var gye;(function(n){n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE"})(gye||(gye={}));var vye;(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"})(vye||(vye={}));var VQ=function(n){KSe(o,n);function o(i,l,c,d,m){l===void 0&&(l=8),c===void 0&&(c=4),d===void 0&&(d=cn.FILTER_RESOLUTION),m===void 0&&(m=5);var b=this,w=blt(m,i),A=Elt(m);return b=n.call(this,w,A)||this,b.horizontal=i,b.resolution=d,b._quality=0,b.quality=c,b.blur=l,b}return o.prototype.apply=function(i,l,c,d){if(c?this.horizontal?this.uniforms.strength=1/c.width*(c.width/l.width):this.uniforms.strength=1/c.height*(c.height/l.height):this.horizontal?this.uniforms.strength=1/i.renderer.width*(i.renderer.width/l.width):this.uniforms.strength=1/i.renderer.height*(i.renderer.height/l.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)i.applyFilter(this,l,c,d);else{var m=i.getFilterTexture(),b=i.renderer,w=l,A=m;this.state.blend=!1,i.applyFilter(this,w,A,q2.CLEAR);for(var I=1;I<this.passes-1;I++){i.bindAndClear(w,q2.BLIT),this.uniforms.uSampler=A;var N=A;A=w,w=N,b.shader.bind(this),b.geometry.draw(5)}this.state.blend=!0,i.applyFilter(this,A,c,d),i.returnFilterTexture(m)}},Object.defineProperty(o.prototype,"blur",{get:function(){return this.strength},set:function(i){this.padding=1+Math.abs(i)*2,this.strength=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this._quality},set:function(i){this._quality=i,this.passes=i},enumerable:!1,configurable:!0}),o}(Gv),Slt=function(n){KSe(o,n);function o(i,l,c,d){i===void 0&&(i=8),l===void 0&&(l=4),c===void 0&&(c=cn.FILTER_RESOLUTION),d===void 0&&(d=5);var m=n.call(this)||this;return m.blurXFilter=new VQ(!0,i,l,c,d),m.blurYFilter=new VQ(!1,i,l,c,d),m.resolution=c,m.quality=l,m.blur=i,m.repeatEdgePixels=!1,m}return o.prototype.apply=function(i,l,c,d){var m=Math.abs(this.blurXFilter.strength),b=Math.abs(this.blurYFilter.strength);if(m&&b){var w=i.getFilterTexture();this.blurXFilter.apply(i,l,w,q2.CLEAR),this.blurYFilter.apply(i,w,c,d),i.returnFilterTexture(w)}else b?this.blurYFilter.apply(i,l,c,d):this.blurXFilter.apply(i,l,c,d)},o.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(o.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(i){this.blurXFilter.blur=this.blurYFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(i){this.blurXFilter.quality=this.blurYFilter.quality=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(i){this.blurXFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(i){this.blurYFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(i){this.blurYFilter.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(i){this._repeatEdgePixels=i,this.updatePadding()},enumerable:!1,configurable:!0}),o}(Gv);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jQ=function(n,o){return jQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},jQ(n,o)};function Alt(n,o){jQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var wlt=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,WQ=function(n){Alt(o,n);function o(){var i=this,l={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return i=n.call(this,Lee,wlt,l)||this,i.alpha=1,i}return o.prototype._loadMatrix=function(i,l){l===void 0&&(l=!1);var c=i;l&&(this._multiply(c,this.uniforms.m,i),c=this._colorMatrix(c)),this.uniforms.m=c},o.prototype._multiply=function(i,l,c){return i[0]=l[0]*c[0]+l[1]*c[5]+l[2]*c[10]+l[3]*c[15],i[1]=l[0]*c[1]+l[1]*c[6]+l[2]*c[11]+l[3]*c[16],i[2]=l[0]*c[2]+l[1]*c[7]+l[2]*c[12]+l[3]*c[17],i[3]=l[0]*c[3]+l[1]*c[8]+l[2]*c[13]+l[3]*c[18],i[4]=l[0]*c[4]+l[1]*c[9]+l[2]*c[14]+l[3]*c[19]+l[4],i[5]=l[5]*c[0]+l[6]*c[5]+l[7]*c[10]+l[8]*c[15],i[6]=l[5]*c[1]+l[6]*c[6]+l[7]*c[11]+l[8]*c[16],i[7]=l[5]*c[2]+l[6]*c[7]+l[7]*c[12]+l[8]*c[17],i[8]=l[5]*c[3]+l[6]*c[8]+l[7]*c[13]+l[8]*c[18],i[9]=l[5]*c[4]+l[6]*c[9]+l[7]*c[14]+l[8]*c[19]+l[9],i[10]=l[10]*c[0]+l[11]*c[5]+l[12]*c[10]+l[13]*c[15],i[11]=l[10]*c[1]+l[11]*c[6]+l[12]*c[11]+l[13]*c[16],i[12]=l[10]*c[2]+l[11]*c[7]+l[12]*c[12]+l[13]*c[17],i[13]=l[10]*c[3]+l[11]*c[8]+l[12]*c[13]+l[13]*c[18],i[14]=l[10]*c[4]+l[11]*c[9]+l[12]*c[14]+l[13]*c[19]+l[14],i[15]=l[15]*c[0]+l[16]*c[5]+l[17]*c[10]+l[18]*c[15],i[16]=l[15]*c[1]+l[16]*c[6]+l[17]*c[11]+l[18]*c[16],i[17]=l[15]*c[2]+l[16]*c[7]+l[17]*c[12]+l[18]*c[17],i[18]=l[15]*c[3]+l[16]*c[8]+l[17]*c[13]+l[18]*c[18],i[19]=l[15]*c[4]+l[16]*c[9]+l[17]*c[14]+l[18]*c[19]+l[19],i},o.prototype._colorMatrix=function(i){var l=new Float32Array(i);return l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,l},o.prototype.brightness=function(i,l){var c=[i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(c,l)},o.prototype.greyscale=function(i,l){var c=[i,i,i,0,0,i,i,i,0,0,i,i,i,0,0,0,0,0,1,0];this._loadMatrix(c,l)},o.prototype.blackAndWhite=function(i){var l=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.hue=function(i,l){i=(i||0)/180*Math.PI;var c=Math.cos(i),d=Math.sin(i),m=Math.sqrt,b=1/3,w=m(b),A=c+(1-c)*b,I=b*(1-c)-w*d,N=b*(1-c)+w*d,R=b*(1-c)+w*d,D=c+b*(1-c),L=b*(1-c)-w*d,z=b*(1-c)-w*d,V=b*(1-c)+w*d,te=c+b*(1-c),fe=[A,I,N,0,0,R,D,L,0,0,z,V,te,0,0,0,0,0,1,0];this._loadMatrix(fe,l)},o.prototype.contrast=function(i,l){var c=(i||0)+1,d=-.5*(c-1),m=[c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0];this._loadMatrix(m,l)},o.prototype.saturate=function(i,l){i===void 0&&(i=0);var c=i*2/3+1,d=(c-1)*-.5,m=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(m,l)},o.prototype.desaturate=function(){this.saturate(-1)},o.prototype.negative=function(i){var l=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.sepia=function(i){var l=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.technicolor=function(i){var l=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.polaroid=function(i){var l=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.toBGR=function(i){var l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.kodachrome=function(i){var l=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.browni=function(i){var l=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.vintage=function(i){var l=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.colorTone=function(i,l,c,d,m){i=i||.2,l=l||.15,c=c||16770432,d=d||3375104;var b=(c>>16&255)/255,w=(c>>8&255)/255,A=(c&255)/255,I=(d>>16&255)/255,N=(d>>8&255)/255,R=(d&255)/255,D=[.3,.59,.11,0,0,b,w,A,i,0,I,N,R,l,0,b-I,w-N,A-R,0,0];this._loadMatrix(D,m)},o.prototype.night=function(i,l){i=i||.1;var c=[i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0];this._loadMatrix(c,l)},o.prototype.predator=function(i,l){var c=[11.224130630493164*i,-4.794486999511719*i,-2.8746118545532227*i,0*i,.40342438220977783*i,-3.6330697536468506*i,9.193157196044922*i,-2.951810836791992*i,0*i,-1.316135048866272*i,-3.2184197902679443*i,-4.2375030517578125*i,7.476448059082031*i,0*i,.8044459223747253*i,0,0,0,1,0];this._loadMatrix(c,l)},o.prototype.lsd=function(i){var l=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(l,i)},o.prototype.reset=function(){var i=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(i,!1)},Object.defineProperty(o.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(i){this.uniforms.m=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(i){this.uniforms.uAlpha=i},enumerable:!1,configurable:!0}),o}(Gv);WQ.prototype.grayscale=WQ.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XQ=function(n,o){return XQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},XQ(n,o)};function Clt(n,o){XQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var xlt=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Ilt=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Dlt=function(n){Clt(o,n);function o(i,l){var c=this,d=new Ko;return i.renderable=!1,c=n.call(this,Ilt,xlt,{mapSampler:i._texture,filterMatrix:d,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,c.maskSprite=i,c.maskMatrix=d,l==null&&(l=20),c.scale=new Ns(l,l),c}return o.prototype.apply=function(i,l,c,d){this.uniforms.filterMatrix=i.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var m=this.maskSprite.worldTransform,b=Math.sqrt(m.a*m.a+m.b*m.b),w=Math.sqrt(m.c*m.c+m.d*m.d);b!==0&&w!==0&&(this.uniforms.rotation[0]=m.a/b,this.uniforms.rotation[1]=m.b/b,this.uniforms.rotation[2]=m.c/w,this.uniforms.rotation[3]=m.d/w),i.applyFilter(this,l,c,d)},Object.defineProperty(o.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(i){this.uniforms.mapSampler=i},enumerable:!1,configurable:!0}),o}(Gv);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YQ=function(n,o){return YQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},YQ(n,o)};function Olt(n,o){YQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var klt=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Rlt=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Plt=function(n){Olt(o,n);function o(){return n.call(this,klt,Rlt)||this}return o}(Gv);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qQ=function(n,o){return qQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},qQ(n,o)};function Nlt(n,o){qQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Mlt=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Llt=function(n){Nlt(o,n);function o(i,l){i===void 0&&(i=.5),l===void 0&&(l=Math.random());var c=n.call(this,Lee,Mlt,{uNoise:0,uSeed:0})||this;return c.noise=i,c.seed=l,c}return Object.defineProperty(o.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(i){this.uniforms.uNoise=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(i){this.uniforms.uSeed=i},enumerable:!1,configurable:!0}),o}(Gv);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var QSe=new Ko;Qo.prototype._cacheAsBitmap=!1;Qo.prototype._cacheData=null;var Flt=function(){function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return n}();Object.defineProperties(Qo.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){if(this._cacheAsBitmap!==n){this._cacheAsBitmap=n;var o;n?(this._cacheData||(this._cacheData=new Flt),o=this._cacheData,o.originalRender=this.render,o.originalRenderCanvas=this.renderCanvas,o.originalUpdateTransform=this.updateTransform,o.originalCalculateBounds=this.calculateBounds,o.originalGetLocalBounds=this.getLocalBounds,o.originalDestroy=this.destroy,o.originalContainsPoint=this.containsPoint,o.originalMask=this._mask,o.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(o=this._cacheData,o.sprite&&this._destroyCachedDisplayObject(),this.render=o.originalRender,this.renderCanvas=o.originalRenderCanvas,this.calculateBounds=o.originalCalculateBounds,this.getLocalBounds=o.originalGetLocalBounds,this.destroy=o.originalDestroy,this.updateTransform=o.originalUpdateTransform,this.containsPoint=o.originalContainsPoint,this._mask=o.originalMask,this.filterArea=o.originalFilterArea)}}}});Qo.prototype._renderCached=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(o),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(o))};Qo.prototype._initCachedDisplayObject=function(o){if(!(this._cacheData&&this._cacheData.sprite)){var i=this.alpha;this.alpha=1,o.batch.flush();var l=this.getLocalBounds(null,!0).clone();if(this.filters){var c=this.filters[0].padding;l.pad(c)}l.ceil(cn.RESOLUTION);var d=o.renderTexture.current,m=o.renderTexture.sourceFrame.clone(),b=o.renderTexture.destinationFrame.clone(),w=o.projection.transform,A=rE.create({width:l.width,height:l.height}),I="cacheAsBitmap_"+tE();this._cacheData.textureCacheId=I,Va.addToCache(A.baseTexture,I),zn.addToCache(A,I);var N=this.transform.localTransform.copyTo(QSe).invert().translate(-l.x,-l.y);this.render=this._cacheData.originalRender,o.render(this,A,!0,N,!1),o.projection.transform=w,o.renderTexture.bind(d,m,b),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var R=new wI(A);R.transform.worldTransform=this.transform.worldTransform,R.anchor.x=-(l.x/l.width),R.anchor.y=-(l.y/l.height),R.alpha=i,R._bounds=this._bounds,this._cacheData.sprite=R,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=R.containsPoint.bind(R)}};Qo.prototype._renderCachedCanvas=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(o),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(o))};Qo.prototype._initCachedDisplayObjectCanvas=function(o){if(!(this._cacheData&&this._cacheData.sprite)){var i=this.getLocalBounds(null,!0),l=this.alpha;this.alpha=1;var c=o.context,d=o._projTransform;i.ceil(cn.RESOLUTION);var m=rE.create({width:i.width,height:i.height}),b="cacheAsBitmap_"+tE();this._cacheData.textureCacheId=b,Va.addToCache(m.baseTexture,b),zn.addToCache(m,b);var w=QSe;this.transform.localTransform.copyTo(w),w.invert(),w.tx-=i.x,w.ty-=i.y,this.renderCanvas=this._cacheData.originalRenderCanvas,o.render(this,m,!0,w,!1),o.context=c,o._projTransform=d,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var A=new wI(m);A.transform.worldTransform=this.transform.worldTransform,A.anchor.x=-(i.x/i.width),A.anchor.y=-(i.y/i.height),A.alpha=l,A._bounds=this._bounds,this._cacheData.sprite=A,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=o._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=A.containsPoint.bind(A)}};Qo.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Qo.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Qo.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Va.removeFromCache(this._cacheData.textureCacheId),zn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Qo.prototype._cacheAsBitmapDestroy=function(o){this.cacheAsBitmap=!1,this.destroy(o)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Qo.prototype.name=null;Rd.prototype.getChildByName=function(o,i){for(var l=0,c=this.children.length;l<c;l++)if(this.children[l].name===o)return this.children[l];if(i)for(var l=0,c=this.children.length;l<c;l++){var d=this.children[l];if(d.getChildByName){var m=this.children[l].getChildByName(o,!0);if(m)return m}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Qo.prototype.getGlobalPosition=function(o,i){return o===void 0&&(o=new Ns),i===void 0&&(i=!1),this.parent?this.parent.toGlobal(this.position,o,i):(o.x=this.position.x,o.y=this.position.y),o};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ZQ=function(n,o){return ZQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},ZQ(n,o)};function CI(n,o){ZQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var JSe=function(n){CI(o,n);function o(i,l,c,d){i===void 0&&(i=100),l===void 0&&(l=100),c===void 0&&(c=10),d===void 0&&(d=10);var m=n.call(this)||this;return m.segWidth=c,m.segHeight=d,m.width=i,m.height=l,m.build(),m}return o.prototype.build=function(){for(var i=this.segWidth*this.segHeight,l=[],c=[],d=[],m=this.segWidth-1,b=this.segHeight-1,w=this.width/m,A=this.height/b,I=0;I<i;I++){var N=I%this.segWidth,R=I/this.segWidth|0;l.push(N*w,R*A),c.push(N/m,R/b)}for(var D=m*b,I=0;I<D;I++){var L=I%m,z=I/m|0,V=z*this.segWidth+L,te=z*this.segWidth+L+1,fe=(z+1)*this.segWidth+L,Y=(z+1)*this.segWidth+L+1;d.push(V,te,fe,te,Y,fe)}this.buffers[0].data=new Float32Array(l),this.buffers[1].data=new Float32Array(c),this.indexBuffer.data=new Uint16Array(d),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},o}(IM),eAe=function(n){CI(o,n);function o(i,l,c){i===void 0&&(i=200),c===void 0&&(c=0);var d=n.call(this,new Float32Array(l.length*4),new Float32Array(l.length*4),new Uint16Array((l.length-1)*6))||this;return d.points=l,d._width=i,d.textureScale=c,d.build(),d}return Object.defineProperty(o.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),o.prototype.build=function(){var i=this.points;if(i){var l=this.getBuffer("aVertexPosition"),c=this.getBuffer("aTextureCoord"),d=this.getIndex();if(!(i.length<1)){l.data.length/4!==i.length&&(l.data=new Float32Array(i.length*4),c.data=new Float32Array(i.length*4),d.data=new Uint16Array((i.length-1)*6));var m=c.data,b=d.data;m[0]=0,m[1]=0,m[2]=0,m[3]=1;for(var w=0,A=i[0],I=this._width*this.textureScale,N=i.length,R=0;R<N;R++){var D=R*4;if(this.textureScale>0){var L=A.x-i[R].x,z=A.y-i[R].y,V=Math.sqrt(L*L+z*z);A=i[R],w+=V/I}else w=R/(N-1);m[D]=w,m[D+1]=0,m[D+2]=w,m[D+3]=1}for(var te=0,R=0;R<N-1;R++){var D=R*2;b[te++]=D,b[te++]=D+1,b[te++]=D+2,b[te++]=D+2,b[te++]=D+1,b[te++]=D+3}c.update(),d.update(),this.updateVertices()}}},o.prototype.updateVertices=function(){var i=this.points;if(!(i.length<1)){for(var l=i[0],c,d=0,m=0,b=this.buffers[0].data,w=i.length,A=0;A<w;A++){var I=i[A],N=A*4;A<i.length-1?c=i[A+1]:c=I,m=-(c.x-l.x),d=c.y-l.y;var R=Math.sqrt(d*d+m*m),D=this.textureScale>0?this.textureScale*this._width/2:this._width/2;d/=R,m/=R,d*=D,m*=D,b[N]=I.x+d,b[N+1]=I.y+m,b[N+2]=I.x-d,b[N+3]=I.y-m,l=I}this.buffers[0].update()}},o.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},o}(IM),Blt=function(n){CI(o,n);function o(i,l,c){c===void 0&&(c=0);var d=this,m=new eAe(i.height,l,c),b=new xM(i);return c>0&&(i.baseTexture.wrapMode=Pv.REPEAT),d=n.call(this,m,b)||this,d.autoUpdate=!0,d}return o.prototype._render=function(i){var l=this.geometry;(this.autoUpdate||l._width!==this.shader.texture.height)&&(l._width=this.shader.texture.height,l.update()),n.prototype._render.call(this,i)},o}(uI),tAe=function(n){CI(o,n);function o(i,l,c){var d=this,m=new JSe(i.width,i.height,l,c),b=new xM(zn.WHITE);return d=n.call(this,m,b)||this,d.texture=i,d}return o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var i=this.geometry;i.width=this.shader.texture.width,i.height=this.shader.texture.height,i.build()},Object.defineProperty(o.prototype,"texture",{get:function(){return this.shader.texture},set:function(i){this.shader.texture!==i&&(this.shader.texture=i,this._textureID=-1,i.baseTexture.valid?this.textureUpdated():i.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),o.prototype._render=function(i){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,i)},o.prototype.destroy=function(i){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,i)},o}(uI),Hlt=function(n){CI(o,n);function o(i,l,c,d,m){i===void 0&&(i=zn.EMPTY);var b=this,w=new IM(l,c,d);w.getBuffer("aVertexPosition").static=!1;var A=new xM(i);return b=n.call(this,w,A,null,m)||this,b.autoUpdate=!0,b}return Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(i){this.geometry.getBuffer("aVertexPosition").data=i},enumerable:!1,configurable:!0}),o.prototype._render=function(i){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,i)},o}(uI),K8=10,Ult=function(n){CI(o,n);function o(i,l,c,d,m){l===void 0&&(l=K8),c===void 0&&(c=K8),d===void 0&&(d=K8),m===void 0&&(m=K8);var b=n.call(this,zn.WHITE,4,4)||this;return b._origWidth=i.orig.width,b._origHeight=i.orig.height,b._width=b._origWidth,b._height=b._origHeight,b._leftWidth=l,b._rightWidth=d,b._topHeight=c,b._bottomHeight=m,b.texture=i,b}return o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(i){this.geometry.getBuffer("aVertexPosition").data=i},enumerable:!1,configurable:!0}),o.prototype.updateHorizontalVertices=function(){var i=this.vertices,l=this._getMinScale();i[9]=i[11]=i[13]=i[15]=this._topHeight*l,i[17]=i[19]=i[21]=i[23]=this._height-this._bottomHeight*l,i[25]=i[27]=i[29]=i[31]=this._height},o.prototype.updateVerticalVertices=function(){var i=this.vertices,l=this._getMinScale();i[2]=i[10]=i[18]=i[26]=this._leftWidth*l,i[4]=i[12]=i[20]=i[28]=this._width-this._rightWidth*l,i[6]=i[14]=i[22]=i[30]=this._width},o.prototype._getMinScale=function(){var i=this._leftWidth+this._rightWidth,l=this._width>i?1:this._width/i,c=this._topHeight+this._bottomHeight,d=this._height>c?1:this._height/c,m=Math.min(l,d);return m},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(i){this._width=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(i){this._height=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(i){this._leftWidth=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(i){this._rightWidth=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"topHeight",{get:function(){return this._topHeight},set:function(i){this._topHeight=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(i){this._bottomHeight=i,this._refresh()},enumerable:!1,configurable:!0}),o.prototype._refresh=function(){var i=this.texture,l=this.geometry.buffers[1].data;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var c=1/this._origWidth,d=1/this._origHeight;l[0]=l[8]=l[16]=l[24]=0,l[1]=l[3]=l[5]=l[7]=0,l[6]=l[14]=l[22]=l[30]=1,l[25]=l[27]=l[29]=l[31]=1,l[2]=l[10]=l[18]=l[26]=c*this._leftWidth,l[4]=l[12]=l[20]=l[28]=1-c*this._rightWidth,l[9]=l[11]=l[13]=l[15]=d*this._topHeight,l[17]=l[19]=l[21]=l[23]=1-d*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},o}(tAe);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KQ=function(n,o){return KQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},KQ(n,o)};function Glt(n,o){KQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var $lt=function(n){Glt(o,n);function o(i,l){l===void 0&&(l=!0);var c=n.call(this,i[0]instanceof zn?i[0]:i[0].texture)||this;return c._textures=null,c._durations=null,c._autoUpdate=l,c._isConnectedToTicker=!1,c.animationSpeed=1,c.loop=!0,c.updateAnchor=!1,c.onComplete=null,c.onFrameChange=null,c.onLoop=null,c._currentTime=0,c._playing=!1,c._previousFrame=null,c.textures=i,c}return o.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1))},o.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ps.shared.add(this.update,this,Lm.HIGH),this._isConnectedToTicker=!0))},o.prototype.gotoAndStop=function(i){this.stop();var l=this.currentFrame;this._currentTime=i,l!==this.currentFrame&&this.updateTexture()},o.prototype.gotoAndPlay=function(i){var l=this.currentFrame;this._currentTime=i,l!==this.currentFrame&&this.updateTexture(),this.play()},o.prototype.update=function(i){if(this._playing){var l=this.animationSpeed*i,c=this.currentFrame;if(this._durations!==null){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=l/60*1e3;d<0;)this._currentTime--,d+=this._durations[this.currentFrame];var m=Math.sign(this.animationSpeed*i);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*m,this._currentTime+=m;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=l;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())}},o.prototype.updateTexture=function(){var i=this.currentFrame;this._previousFrame!==i&&(this._previousFrame=i,this._texture=this._textures[i],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},o.prototype.destroy=function(i){this.stop(),n.prototype.destroy.call(this,i),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},o.fromFrames=function(i){for(var l=[],c=0;c<i.length;++c)l.push(zn.from(i[c]));return new o(l)},o.fromImages=function(i){for(var l=[],c=0;c<i.length;++c)l.push(zn.from(i[c]));return new o(l)},Object.defineProperty(o.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textures",{get:function(){return this._textures},set:function(i){if(i[0]instanceof zn)this._textures=i,this._durations=null;else{this._textures=[],this._durations=[];for(var l=0;l<i.length;l++)this._textures.push(i[l].texture),this._durations.push(i[l].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentFrame",{get:function(){var i=Math.floor(this._currentTime)%this._textures.length;return i<0&&(i+=this._textures.length),i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),o}(wI);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var QQ=function(n,o){return QQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)l.hasOwnProperty(c)&&(i[c]=l[c])},QQ(n,o)};function yye(n,o){QQ(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Fr="5.0.0";function zlt(){var n=this;Object.defineProperties(n,{SVG_SIZE:{get:function(){return fr(Fr,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),n.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return fr(Fr,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),n.Transform}},TransformBase:{get:function(){return fr(Fr,"PIXI.TransformBase class has been removed, use PIXI.Transform"),n.Transform}},TRANSFORM_MODE:{get:function(){return fr(Fr,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return fr(Fr,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),n.Renderer}},CanvasRenderTarget:{get:function(){return fr(Fr,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),n.utils.CanvasRenderTarget}},loader:{get:function(){return fr(Fr,"PIXI.loader instance has moved to PIXI.Loader.shared"),n.Loader.shared}},FilterManager:{get:function(){return fr(Fr,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),n.systems.FilterSystem}},CanvasTinter:{get:function(){return fr("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),n.canvasUtils}},GroupD8:{get:function(){return fr("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),n.groupD8}}}),n.accessibility={},Object.defineProperties(n.accessibility,{AccessibilityManager:{get:function(){return fr("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),n.AccessibilityManager}}}),n.interaction={},Object.defineProperties(n.interaction,{InteractionManager:{get:function(){return fr("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),n.InteractionManager}},InteractionData:{get:function(){return fr("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),n.InteractionData}},InteractionEvent:{get:function(){return fr("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),n.InteractionEvent}}}),n.prepare={},Object.defineProperties(n.prepare,{BasePrepare:{get:function(){return fr("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),n.BasePrepare}},Prepare:{get:function(){return fr("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),n.Prepare}},CanvasPrepare:{get:function(){return fr("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),n.CanvasPrepare}}}),n.extract={},Object.defineProperties(n.extract,{Extract:{get:function(){return fr("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),n.Extract}},CanvasExtract:{get:function(){return fr("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),n.CanvasExtract}}}),n.extras={},Object.defineProperties(n.extras,{TilingSprite:{get:function(){return fr(Fr,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),n.TilingSprite}},TilingSpriteRenderer:{get:function(){return fr(Fr,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),n.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return fr(Fr,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),n.AnimatedSprite}},BitmapText:{get:function(){return fr(Fr,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),n.BitmapText}}}),n.TilingSprite.fromFrame=function(R,D,L){return fr("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),n.TilingSprite.from(R,{width:D,height:L})},n.TilingSprite.fromImage=function(R,D,L,z){return z===void 0&&(z={}),fr("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),z&&typeof z!="object"&&(z={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),z.width=D,z.height=L,n.TilingSprite.from(R,z)},Object.defineProperties(n.utils,{getSvgSize:{get:function(){return fr(Fr,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),n.resources.SVGResource.getSize}}}),n.mesh={},Object.defineProperties(n.mesh,{Mesh:{get:function(){return fr(Fr,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),n.SimpleMesh}},NineSlicePlane:{get:function(){return fr(Fr,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),n.NineSlicePlane}},Plane:{get:function(){return fr(Fr,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),n.SimplePlane}},Rope:{get:function(){return fr(Fr,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),n.SimpleRope}},RawMesh:{get:function(){return fr(Fr,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),n.Mesh}},CanvasMeshRenderer:{get:function(){return fr(Fr,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),n.CanvasMeshRenderer}},MeshRenderer:{get:function(){return fr(Fr,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),n.MeshRenderer}}}),n.particles={},Object.defineProperties(n.particles,{ParticleContainer:{get:function(){return fr(Fr,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),n.ParticleContainer}},ParticleRenderer:{get:function(){return fr(Fr,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),n.ParticleRenderer}}}),n.ticker={},Object.defineProperties(n.ticker,{Ticker:{get:function(){return fr(Fr,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),n.Ticker}},shared:{get:function(){return fr(Fr,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),n.Ticker.shared}}}),n.loaders={},Object.defineProperties(n.loaders,{Loader:{get:function(){return fr(Fr,"PIXI.loaders.Loader class has moved to PIXI.Loader"),n.Loader}},Resource:{get:function(){return fr(Fr,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),n.LoaderResource}},bitmapFontParser:{get:function(){return fr(Fr,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),n.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){fr(Fr,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return fr(Fr,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),n.SpritesheetLoader.use}},getResourcePath:{get:function(){return fr(Fr,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),n.SpritesheetLoader.getResourcePath}}}),n.Loader.addPixiMiddleware=function(R){return fr(Fr,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),n.loaders.Loader.registerPlugin({use:R()})};var o=function(N){return"on"+N.charAt(0).toUpperCase()+N.slice(1)};Object.assign(n.Loader.prototype,{on:function(N){var R=o(N);fr(Fr,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+R+".add")},once:function(N){var R=o(N);fr(Fr,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+R+".once")},off:function(N){var R=o(N);fr(Fr,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+R+".detach")}}),Object.defineProperty(n.extract,"WebGLExtract",{get:function(){return fr(Fr,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),n.Extract}}),Object.defineProperty(n.prepare,"WebGLPrepare",{get:function(){return fr(Fr,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),n.Prepare}}),n.Container.prototype._renderWebGL=function(R){fr(Fr,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(R)},n.Container.prototype.renderWebGL=function(R){fr(Fr,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(R)},n.DisplayObject.prototype.renderWebGL=function(R){fr(Fr,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(R)},n.Container.prototype.renderAdvancedWebGL=function(R){fr(Fr,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(R)},Object.defineProperties(n.settings,{TRANSFORM_MODE:{get:function(){return fr(Fr,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){fr(Fr,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var i=n.BaseTexture;i.prototype.loadSource=function(R){fr(Fr,"PIXI.BaseTexture.loadSource method has been deprecated");var D=n.resources.autoDetectResource(R);D.internal=!0,this.setResource(D),this.update()};var l=!1;Object.defineProperties(i.prototype,{hasLoaded:{get:function(){return fr(Fr,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var N;return fr(Fr,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(N=this.resource)===null||N===void 0?void 0:N.url},set:function(N){fr(Fr,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=N)}},source:{get:function(){return fr(Fr,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(N){fr(Fr,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=N)}},premultiplyAlpha:{get:function(){return fr("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(N){fr("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(N)}},_id:{get:function(){return l||(fr("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),l=!0),this._batchLocation},set:function(N){this._batchLocation=N}}}),i.fromImage=function(R,D,L,z){fr(Fr,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var V={scale:z,crossorigin:D};return i.from(R,{scaleMode:L,resourceOptions:V})},i.fromCanvas=function(R,D){return fr(Fr,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),i.from(R,{scaleMode:D})},i.fromSVG=function(R,D,L,z){fr(Fr,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var V={scale:z,crossorigin:D};return i.from(R,{scaleMode:L,resourceOptions:V})},Object.defineProperties(n.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return fr("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(N){fr("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(N)}}}),n.Point.prototype.copy=function(R){return fr(Fr,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(R)},n.ObservablePoint.prototype.copy=function(R){return fr(Fr,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(R)},n.Rectangle.prototype.copy=function(R){return fr(Fr,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(R)},n.Matrix.prototype.copy=function(R){return fr(Fr,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(R)},n.systems.StateSystem.prototype.setState=function(R){return fr("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(R)},Object.assign(n.systems.FilterSystem.prototype,{getRenderTarget:function(N,R){return fr(Fr,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,R)},returnRenderTarget:function(N){fr(Fr,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(N)},calculateScreenSpaceMatrix:function(N){fr(Fr,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var R=N.identity(),D=this.activeState,L=D.sourceFrame,z=D.destinationFrame;return R.translate(L.x/z.width,L.y/z.height),R.scale(z.width,z.height),R},calculateNormalizedScreenSpaceMatrix:function(N){fr(Fr,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var R=this.activeState,D=R.sourceFrame,L=R.destinationFrame,z=N.identity();z.translate(D.x/L.width,D.y/L.height);var V=L.width/D.width,te=L.height/D.height;return z.scale(V,te),z}}),Object.defineProperties(n.RenderTexture.prototype,{sourceFrame:{get:function(){return fr(Fr,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return fr(Fr,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var c=function(N){yye(R,N);function R(D,L,z,V){var te=this;return fr(Fr,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),te=N.call(this,!0,D,L,z,V)||this,te}return R}(n.filters.BlurFilterPass),d=function(N){yye(R,N);function R(D,L,z,V){var te=this;return fr(Fr,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),te=N.call(this,!1,D,L,z,V)||this,te}return R}(n.filters.BlurFilterPass);Object.assign(n.filters,{BlurXFilter:c,BlurYFilter:d});var m=n.Sprite,b=n.Texture,w=n.Graphics;w.prototype.generateCanvasTexture||(w.prototype.generateCanvasTexture=function(){fr(Fr,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(w.prototype,"graphicsData",{get:function(){return fr(Fr,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function A(N,R,D,L){return fr(Fr,"PIXI.Sprite."+N+" method is deprecated, use PIXI.Sprite.from"),m.from(R,{resourceOptions:{scale:L,crossorigin:D}})}m.fromImage=A.bind(null,"fromImage"),m.fromSVG=A.bind(null,"fromSVG"),m.fromCanvas=A.bind(null,"fromCanvas"),m.fromVideo=A.bind(null,"fromVideo"),m.fromFrame=A.bind(null,"fromFrame");function I(N,R,D,L){return fr(Fr,"PIXI.Texture."+N+" method is deprecated, use PIXI.Texture.from"),b.from(R,{resourceOptions:{scale:L,crossorigin:D}})}b.fromImage=I.bind(null,"fromImage"),b.fromSVG=I.bind(null,"fromSVG"),b.fromCanvas=I.bind(null,"fromCanvas"),b.fromVideo=I.bind(null,"fromVideo"),b.fromFrame=I.bind(null,"fromFrame"),Object.defineProperty(n.AbstractRenderer.prototype,"autoResize",{get:function(){return fr(Fr,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(N){fr(Fr,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=N}}),Object.defineProperty(n.Renderer.prototype,"textureManager",{get:function(){return fr(Fr,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),n.utils.mixins={mixin:function(){fr(Fr,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){fr(Fr,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){fr(Fr,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(n.BitmapText.prototype,"font",{get:function(){return fr("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(N){if(fr("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!N){var R={font:N};this._upgradeStyle(R),R.fontSize=R.fontSize||n.BitmapFont.available[R.fontName].size,this._fontName=R.fontName,this._fontSize=R.fontSize,this.dirty=!0}}})}$v.registerPlugin("accessibility",PEe);$v.registerPlugin("extract",wSe);$v.registerPlugin("interaction",FEe);$v.registerPlugin("particle",kSe);$v.registerPlugin("prepare",zSe);$v.registerPlugin("batch",ASe);$v.registerPlugin("tilingSprite",XSe);nE.registerPlugin(ZSe);nE.registerPlugin(jSe);CM.registerPlugin(NEe);CM.registerPlugin(DSe);var Vlt="5.3.12",jlt={AlphaFilter:vlt,BlurFilter:Slt,BlurFilterPass:VQ,ColorMatrixFilter:WQ,DisplacementFilter:Dlt,FXAAFilter:Plt,NoiseFilter:Llt};const Wlt=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Bv},AbstractBatchRenderer:TSe,AbstractRenderer:vSe,AccessibilityManager:PEe,AnimatedSprite:$lt,AppLoaderPlugin:DSe,Application:CM,Attribute:CQ,get BLEND_MODES(){return Sn},get BUFFER_BITS(){return V2},BasePrepare:GSe,BaseRenderTexture:O2,BaseTexture:Va,BatchDrawCall:hU,BatchGeometry:Fee,BatchPluginFactory:SSe,BatchRenderer:ASe,BatchShaderGenerator:ESe,BatchTextureArray:fU,BitmapFont:lb,BitmapFontData:Y2,BitmapFontLoader:ZSe,BitmapText:plt,Bounds:X2,Buffer:Rs,get CLEAR_MODES(){return Ad},Circle:IEe,Container:Rd,CountLimiter:USe,DEG_TO_RAD:xEe,get DRAW_MODES(){return lf},DisplayObject:Qo,get ENV(){return Mm},Ellipse:DEe,Extract:wSe,get FORMATS(){return nI},FillStyle:Bee,Filter:Gv,FilterState:WEe,Framebuffer:cU,get GC_MODES(){return lU},GLFramebuffer:ZEe,GLProgram:fSe,GLTexture:NH,GRAPHICS_CURVES:sI,Geometry:AI,Graphics:Uee,GraphicsData:NQ,GraphicsGeometry:BSe,IGLUniformData:ost,InteractionData:SQ,InteractionEvent:MEe,InteractionManager:FEe,InteractionTrackingData:RH,get LINE_CAP(){return Dv},get LINE_JOIN(){return Iv},LineStyle:HSe,Loader:nE,LoaderResource:k2,get MASK_TYPES(){return uc},get MIPMAP_MODES(){return iI},get MSAA_QUALITY(){return JT},MaskData:JEe,Matrix:Ko,Mesh:uI,MeshBatchUvs:YSe,MeshGeometry:IM,MeshMaterial:xM,NineSlicePlane:Ult,ObjectRenderer:AM,ObservablePoint:FT,PI_2:aI,get PRECISION(){return xd},ParticleContainer:Rst,ParticleRenderer:kSe,PlaneGeometry:JSe,Point:Ns,Polygon:Vx,Prepare:zSe,Program:wM,Quad:jEe,QuadUv:Mee,RAD_TO_DEG:CEe,get RENDERER_TYPE(){return rI},Rectangle:Ki,RenderTexture:rE,RenderTexturePool:zEe,Renderer:$v,RopeGeometry:eAe,RoundedRectangle:OEe,Runner:ol,get SCALE_MODES(){return xm},get SHAPES(){return Ao},Shader:Sb,SimpleMesh:Hlt,SimplePlane:tAe,SimpleRope:Blt,Sprite:wI,SpriteMaskFilter:aSe,Spritesheet:VSe,SpritesheetLoader:jSe,State:wb,System:bc,get TARGETS(){return vb},get TEXT_GRADIENT(){return lI},get TYPES(){return Zo},TemporaryDisplayObject:Dee,Text:Gee,TextMetrics:Tf,TextStyle:iE,Texture:zn,TextureLoader:ISe,TextureMatrix:n9,TextureUvs:Nee,Ticker:Ps,TickerPlugin:NEe,TilingSprite:nlt,TilingSpriteRenderer:XSe,TimeLimiter:rlt,Transform:xee,get UPDATE_PRIORITY(){return Lm},UniformGroup:yb,VERSION:Vlt,ViewableBuffer:_Se,get WRAP_MODES(){return Pv},accessibleTarget:REe,autoDetectRenderer:ySe,checkMaxIfStatementsInShader:iSe,defaultFilterVertex:Lee,defaultVertex:bSe,filters:jlt,graphicsUtils:Fst,groupD8:no,interactiveTarget:LEe,isMobile:sf,resources:Pot,settings:cn,systems:pst,uniformParsers:PH,useDeprecated:zlt,utils:Tot},Symbol.toStringTag,{value:"Module"})),Xlt=cee(Wlt);rU.exports;(function(n,o){function i(){return typeof Reflect<"u"&&Reflect.get?i=Reflect.get.bind():i=function(q,K,ce){var re=l(q,K);if(re){var ge=Object.getOwnPropertyDescriptor(re,K);return ge.get?ge.get.call(arguments.length<3?q:ce):ge.value}},i.apply(this,arguments)}function l(Y,q){for(;!Object.prototype.hasOwnProperty.call(Y,q)&&(Y=D(Y),Y!==null););return Y}function c(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(q&&q.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),q&&R(Y,q)}function d(Y){var q=I();return function(){var ce=D(Y),re;if(q){var ge=D(this).constructor;re=Reflect.construct(ce,arguments,ge)}else re=ce.apply(this,arguments);return m(this,re)}}function m(Y,q){if(q&&(typeof q=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(Y)}function b(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function w(Y){var q=typeof Map=="function"?new Map:void 0;return w=function(ce){if(ce===null||!N(ce))return ce;if(typeof ce!="function")throw new TypeError("Super expression must either be null or a function");if(typeof q<"u"){if(q.has(ce))return q.get(ce);q.set(ce,re)}function re(){return A(ce,arguments,D(this).constructor)}return re.prototype=Object.create(ce.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),R(re,ce)},w(Y)}function A(Y,q,K){return I()?A=Reflect.construct.bind():A=function(re,ge,F){var Te=[null];Te.push.apply(Te,ge);var Ce=Function.bind.apply(re,Te),ve=new Ce;return F&&R(ve,F.prototype),ve},A.apply(null,arguments)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(Y){return Function.toString.call(Y).indexOf("[native code]")!==-1}function R(Y,q){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,re){return ce.__proto__=re,ce},R(Y,q)}function D(Y){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},D(Y)}function L(Y,q){if(!(Y instanceof q))throw new TypeError("Cannot call a class as a function")}function z(Y,q){for(var K=0;K<q.length;K++){var ce=q[K];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Y,te(ce.key),ce)}}function V(Y,q,K){return q&&z(Y.prototype,q),K&&z(Y,K),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function te(Y){var q=fe(Y,"string");return typeof q=="symbol"?q:String(q)}function fe(Y,q){if(typeof Y!="object"||Y===null)return Y;var K=Y[Symbol.toPrimitive];if(K!==void 0){var ce=K.call(Y,q||"default");if(typeof ce!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(Y)}(function(Y,q){q(o,mr,hee,Xlt)})(ih,function(Y,q,K,ce){const re=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function ge(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const F=re(q),Te=re(K),Ce=ge(ce);var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ot(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var $={exports:{}},lt,Tt;function Be(){if(Tt)return lt;Tt=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lt=e,lt}var qe,We;function Ge(){if(We)return qe;We=1;var e=Be();function t(){}function r(){}return r.resetWarningCache=t,qe=function(){function s(h,f,g,v,p,E){if(E!==e){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function a(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return u.PropTypes=u,u},qe}$.exports=Ge()();var nt="http://www.w3.org/1999/xhtml";const St={svg:"http://www.w3.org/2000/svg",xhtml:nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),St.hasOwnProperty(t)?{space:St[t],local:e}:e}function Zt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===nt&&t.documentElement.namespaceURI===nt?t.createElement(e):t.createElementNS(r,e)}}function ir(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zt(e){var t=Gt(e);return(t.local?ir:Zt)(t)}function Qt(){}function Wt(e){return e==null?Qt:function(){return this.querySelector(e)}}function yr(e){typeof e!="function"&&(e=Wt(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var u=t[a],h=u.length,f=s[a]=new Array(h),g,v,p=0;p<h;++p)(g=u[p])&&(v=e.call(g,g.__data__,p,u))&&("__data__"in g&&(v.__data__=g.__data__),f[p]=v);return new Se(s,this._parents)}function br(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pt(){return[]}function Dr(e){return e==null?Pt:function(){return this.querySelectorAll(e)}}function Gr(e){return function(){var t=e.apply(this,arguments);return t==null?[]:br(t)}}function rn(e){typeof e=="function"?e=Gr(e):e=Dr(e);for(var t=this._groups,r=t.length,s=[],a=[],u=0;u<r;++u)for(var h=t[u],f=h.length,g,v=0;v<f;++v)(g=h[v])&&(s.push(e.call(g,g.__data__,v,h)),a.push(g));return new Se(s,a)}function yi(e){return function(){return this.matches(e)}}function ra(e){return function(t){return t.matches(e)}}var na=Array.prototype.find;function Co(e){return function(){return na.call(this.children,e)}}function Ta(){return this.firstElementChild}function mo(e){return this.select(e==null?Ta:Co(typeof e=="function"?e:ra(e)))}var ga=Array.prototype.filter;function io(){return this.children}function Ea(e){return function(){return ga.call(this.children,e)}}function va(e){return this.selectAll(e==null?io:Ea(typeof e=="function"?e:ra(e)))}function Qi(e){typeof e!="function"&&(e=yi(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var u=t[a],h=u.length,f=s[a]=[],g,v=0;v<h;++v)(g=u[v])&&e.call(g,g.__data__,v,u)&&f.push(g);return new Se(s,this._parents)}function xe(e){return new Array(e.length)}function le(){return new Se(this._enter||this._groups.map(xe),this._parents)}function de(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}de.prototype={constructor:de,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $e(e){return function(){return e}}function Qe(e,t,r,s,a,u){for(var h=0,f,g=t.length,v=u.length;h<v;++h)(f=t[h])?(f.__data__=u[h],s[h]=f):r[h]=new de(e,u[h]);for(;h<g;++h)(f=t[h])&&(a[h]=f)}function pt(e,t,r,s,a,u,h){var f,g,v=new Map,p=t.length,E=u.length,T=new Array(p),S;for(f=0;f<p;++f)(g=t[f])&&(T[f]=S=h.call(g,g.__data__,f,t)+"",v.has(S)?a[f]=g:v.set(S,g));for(f=0;f<E;++f)S=h.call(e,u[f],f,u)+"",(g=v.get(S))?(s[f]=g,g.__data__=u[f],v.delete(S)):r[f]=new de(e,u[f]);for(f=0;f<p;++f)(g=t[f])&&v.get(T[f])===g&&(a[f]=g)}function Rt(e){return e.__data__}function Rr(e,t){if(!arguments.length)return Array.from(this,Rt);var r=t?pt:Qe,s=this._parents,a=this._groups;typeof e!="function"&&(e=$e(e));for(var u=a.length,h=new Array(u),f=new Array(u),g=new Array(u),v=0;v<u;++v){var p=s[v],E=a[v],T=E.length,S=br(e.call(p,p&&p.__data__,v,s)),x=S.length,O=f[v]=new Array(x),P=h[v]=new Array(x),M=g[v]=new Array(T);r(p,E,O,P,M,S,t);for(var G=0,B=0,U,j;G<x;++G)if(U=O[G]){for(G>=B&&(B=G+1);!(j=P[B])&&++B<x;);U._next=j||null}}return h=new Se(h,s),h._enter=f,h._exit=g,h}function tn(){return new Se(this._exit||this._groups.map(xe),this._parents)}function Tn(e,t,r){var s=this.enter(),a=this,u=this.exit();return s=typeof e=="function"?e(s):s.append(e+""),t!=null&&(a=t(a)),r==null?u.remove():r(u),s&&a?s.merge(a).order():a}function In(e){if(!(e instanceof Se))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,s=t.length,a=r.length,u=Math.min(s,a),h=new Array(s),f=0;f<u;++f)for(var g=t[f],v=r[f],p=g.length,E=h[f]=new Array(p),T,S=0;S<p;++S)(T=g[S]||v[S])&&(E[S]=T);for(;f<s;++f)h[f]=t[f];return new Se(h,this._parents)}function wn(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var s=e[t],a=s.length-1,u=s[a],h;--a>=0;)(h=s[a])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function ha(e){e||(e=Bs);function t(E,T){return E&&T?e(E.__data__,T.__data__):!E-!T}for(var r=this._groups,s=r.length,a=new Array(s),u=0;u<s;++u){for(var h=r[u],f=h.length,g=a[u]=new Array(f),v,p=0;p<f;++p)(v=h[p])&&(g[p]=v);g.sort(t)}return new Se(a,this._parents).order()}function Bs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fd(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lh(){return Array.from(this)}function Ef(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,u=s.length;a<u;++a){var h=s[a];if(h)return h}return null}function Bd(){let e=0;for(const t of this)++e;return e}function Sc(){return!this.node()}function uh(e){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var a=t[r],u=0,h=a.length,f;u<h;++u)(f=a[u])&&e.call(f,f.__data__,u,a);return this}function Ac(e){return function(){this.removeAttribute(e)}}function ht(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rr(e,t){return function(){this.setAttribute(e,t)}}function Pr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hn(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function fi(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ci(e,t){var r=Gt(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((t==null?r.local?ht:Ac:typeof t=="function"?r.local?fi:hn:r.local?Pr:rr)(r,t))}function Un(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gn(e){return function(){this.style.removeProperty(e)}}function Kn(e,t,r){return function(){this.style.setProperty(e,t,r)}}function fa(e,t,r){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function Sa(e,t,r){return arguments.length>1?this.each((t==null?Gn:typeof t=="function"?fa:Kn)(e,t,r??"")):Pi(this.node(),e)}function Pi(e,t){return e.style.getPropertyValue(t)||Un(e).getComputedStyle(e,null).getPropertyValue(t)}function Ho(e){return function(){delete this[e]}}function Hd(e,t){return function(){this[e]=t}}function Hs(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function xb(e,t){return arguments.length>1?this.each((t==null?Ho:typeof t=="function"?Hs:Hd)(e,t)):this.node()[e]}function jv(e){return e.trim().split(/^|\s+/)}function Um(e){return e.classList||new Wv(e)}function Wv(e){this._node=e,this._names=jv(e.getAttribute("class")||"")}Wv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xv(e,t){for(var r=Um(e),s=-1,a=t.length;++s<a;)r.add(t[s])}function Yv(e,t){for(var r=Um(e),s=-1,a=t.length;++s<a;)r.remove(t[s])}function Cu(e){return function(){Xv(this,e)}}function xu(e){return function(){Yv(this,e)}}function Gm(e,t){return function(){(t.apply(this,arguments)?Xv:Yv)(this,e)}}function $m(e,t){var r=jv(e+"");if(arguments.length<2){for(var s=Um(this.node()),a=-1,u=r.length;++a<u;)if(!s.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?Gm:t?Cu:xu)(r,t))}function Vl(){this.textContent=""}function zm(e){return function(){this.textContent=e}}function Sf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function FI(e){return arguments.length?this.each(e==null?Vl:(typeof e=="function"?Sf:zm)(e)):this.node().textContent}function qv(){this.innerHTML=""}function wE(e){return function(){this.innerHTML=e}}function Vm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zv(e){return arguments.length?this.each(e==null?qv:(typeof e=="function"?Vm:wE)(e)):this.node().innerHTML}function Kv(){this.nextSibling&&this.parentNode.appendChild(this)}function CE(){return this.each(Kv)}function jm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BI(){return this.each(jm)}function Af(e){var t=typeof e=="function"?e:zt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Or(){return null}function Ib(e,t){var r=typeof e=="function"?e:zt(e),s=t==null?Or:typeof t=="function"?t:Wt(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function ds(){var e=this.parentNode;e&&e.removeChild(this)}function Ud(){return this.each(ds)}function Gd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function es(e){return this.select(e?HI:Gd)}function ao(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jl(e){return function(t){e.call(this,t,this.__data__)}}function UI(e){return e.trim().split(/^|\s+/).map(function(t){var r="",s=t.indexOf(".");return s>=0&&(r=t.slice(s+1),t=t.slice(0,s)),{type:t,name:r}})}function Us(e){return function(){var t=this.__on;if(t){for(var r=0,s=-1,a=t.length,u;r<a;++r)u=t[r],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function wc(e,t,r){return function(){var s=this.__on,a,u=jl(t);if(s){for(var h=0,f=s.length;h<f;++h)if((a=s[h]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=r),a.value=t;return}}this.addEventListener(e.type,u,r),a={type:e.type,name:e.name,value:t,listener:u,options:r},s?s.push(a):this.__on=[a]}}function GI(e,t,r){var s=UI(e+""),a,u=s.length,h;if(arguments.length<2){var f=this.node().__on;if(f){for(var g=0,v=f.length,p;g<v;++g)for(a=0,p=f[g];a<u;++a)if((h=s[a]).type===p.type&&h.name===p.name)return p.value}return}for(f=t?wc:Us,a=0;a<u;++a)this.each(f(s[a],t,r));return this}function Qv(e,t,r){var s=Un(e),a=s.CustomEvent;typeof a=="function"?a=new a(t,r):(a=s.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Db(e,t){return function(){return Qv(this,e,t)}}function xE(e,t){return function(){return Qv(this,e,t.apply(this,arguments))}}function $I(e,t){return this.each((typeof t=="function"?xE:Db)(e,t))}function*zI(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,u=s.length,h;a<u;++a)(h=s[a])&&(yield h)}var Ob=[null];function Se(e,t){this._groups=e,this._parents=t}function vt(){return new Se([[document.documentElement]],Ob)}function $t(){return this}Se.prototype=vt.prototype={constructor:Se,select:yr,selectAll:rn,selectChild:mo,selectChildren:va,filter:Qi,data:Rr,enter:le,exit:tn,join:Tn,merge:In,selection:$t,order:wn,sort:ha,call:Fd,nodes:lh,node:Ef,size:Bd,empty:Sc,each:uh,attr:Ci,style:Sa,property:xb,classed:$m,text:FI,html:Zv,raise:CE,lower:BI,append:Af,insert:Ib,remove:Ud,clone:es,datum:ao,on:GI,dispatch:$I,[Symbol.iterator]:zI};function Ut(e){return typeof e=="string"?new Se([[document.querySelector(e)]],[document.documentElement]):new Se([[e]],Ob)}function kr(e){return Ut(zt(e).call(document.documentElement))}var En=0;function ln(){return new an}function an(){this._="@"+(++En).toString(36)}an.prototype=ln.prototype={constructor:an,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function xi(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nn(e,t){if(e=xi(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function ya(e,t){return e.target&&(e=xi(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>nn(r,t))}function Na(e){return typeof e=="string"?new Se([document.querySelectorAll(e)],[document.documentElement]):new Se([e==null?[]:br(e)],Ob)}const ps=Object.freeze(Object.defineProperty({__proto__:null,create:kr,creator:zt,local:ln,matcher:yi,namespace:Gt,namespaces:St,pointer:nn,pointers:ya,select:Ut,selectAll:Na,selection:vt,selector:Wt,selectorAll:Dr,style:Pi,window:Un},Symbol.toStringTag,{value:"Module"}));function oi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xo(e){let t=e,r=e;e.length===1&&(t=(h,f)=>e(h)-f,r=$d(e));function s(h,f,g,v){for(g==null&&(g=0),v==null&&(v=h.length);g<v;){const p=g+v>>>1;r(h[p],f)<0?g=p+1:v=p}return g}function a(h,f,g,v){for(g==null&&(g=0),v==null&&(v=h.length);g<v;){const p=g+v>>>1;r(h[p],f)>0?v=p:g=p+1}return g}function u(h,f,g,v){g==null&&(g=0),v==null&&(v=h.length);const p=s(h,f,g,v-1);return p>g&&t(h[p-1],f)>-t(h[p],f)?p-1:p}return{left:s,center:u,right:a}}function $d(e){return(t,r)=>oi(e(t),r)}function Wm(e){return e===null?NaN:+e}function*kb(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(s=+s)>=s&&(yield s)}}const IE=xo(oi),Jv=IE.right,VI=IE.left,e0=xo(Wm).center,Cc=Jv;function Rb(e,t){let r=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&++r;else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&++r}return r}function QM(e){return e.length|0}function U9(e){return!(e>0)}function t0(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function jI(e){return t=>e(...t)}function JM(...e){const t=typeof e[e.length-1]=="function"&&jI(e.pop());e=e.map(t0);const r=e.map(QM),s=e.length-1,a=new Array(s+1).fill(0),u=[];if(s<0||r.some(U9))return u;for(;;){u.push(a.map((f,g)=>e[g][f]));let h=s;for(;++a[h]===r[h];){if(h===0)return t?u.map(t):u;a[h--]=0}}}function G9(e,t){var r=0,s=0;return Float64Array.from(e,t===void 0?a=>r+=+a||0:a=>r+=+t(a,s++,e)||0)}function $9(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function WI(e,t){let r=0,s,a=0,u=0;if(t===void 0)for(let h of e)h!=null&&(h=+h)>=h&&(s=h-a,a+=s/++r,u+=s*(h-a));else{let h=-1;for(let f of e)(f=t(f,++h,e))!=null&&(f=+f)>=f&&(s=f-a,a+=s/++r,u+=s*(f-a))}if(r>1)return u/(r-1)}function DE(e,t){const r=WI(e,t);return r&&Math.sqrt(r)}function r0(e,t){let r,s;if(t===void 0)for(const a of e)a!=null&&(r===void 0?a>=a&&(r=s=a):(r>a&&(r=a),s<a&&(s=a)));else{let a=-1;for(let u of e)(u=t(u,++a,e))!=null&&(r===void 0?u>=u&&(r=s=u):(r>u&&(r=u),s<u&&(s=u)))}return[r,s]}let go=function(){function e(){L(this,e),this._partials=new Float64Array(32),this._n=0}return V(e,[{key:"add",value:function(r){const s=this._partials;let a=0;for(let u=0;u<this._n&&u<32;u++){const h=s[u],f=r+h,g=Math.abs(r)<Math.abs(h)?r-(f-h):h-(f-r);g&&(s[a++]=g),r=f}return s[a]=r,this._n=a+1,this}},{key:"valueOf",value:function(){const r=this._partials;let s=this._n,a,u,h,f=0;if(s>0){for(f=r[--s];s>0&&(a=f,u=r[--s],f=a+u,h=u-(f-a),!h););s>0&&(h<0&&r[s-1]<0||h>0&&r[s-1]>0)&&(u=h*2,a=f+u,u==a-f&&(f=a))}return f}}]),e}();function eL(e,t){const r=new go;if(t===void 0)for(let s of e)(s=+s)&&r.add(s);else{let s=-1;for(let a of e)(a=+t(a,++s,e))&&r.add(a)}return+r}function tL(e,t){const r=new go;let s=-1;return Float64Array.from(e,t===void 0?a=>r.add(+a||0):a=>r.add(+t(a,++s,e)||0))}let OE=function(e){c(r,e);var t=d(r);function r(s,a=NE){var u;if(L(this,r),u=t.call(this),Object.defineProperties(b(u),{_intern:{value:new Map},_key:{value:a}}),s!=null)for(const[h,f]of s)u.set(h,f);return u}return V(r,[{key:"get",value:function(a){return i(D(r.prototype),"get",this).call(this,RE(this,a))}},{key:"has",value:function(a){return i(D(r.prototype),"has",this).call(this,RE(this,a))}},{key:"set",value:function(a,u){return i(D(r.prototype),"set",this).call(this,PE(this,a),u)}},{key:"delete",value:function(a){return i(D(r.prototype),"delete",this).call(this,XI(this,a))}}]),r}(w(Map)),kE=function(e){c(r,e);var t=d(r);function r(s,a=NE){var u;if(L(this,r),u=t.call(this),Object.defineProperties(b(u),{_intern:{value:new Map},_key:{value:a}}),s!=null)for(const h of s)u.add(h);return u}return V(r,[{key:"has",value:function(a){return i(D(r.prototype),"has",this).call(this,RE(this,a))}},{key:"add",value:function(a){return i(D(r.prototype),"add",this).call(this,PE(this,a))}},{key:"delete",value:function(a){return i(D(r.prototype),"delete",this).call(this,XI(this,a))}}]),r}(w(Set));function RE({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function PE({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function XI({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(r),e.delete(s)),r}function NE(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zd(e){return e}function rL(e,...t){return Xm(e,zd,zd,t)}function ME(e,...t){return Xm(e,Array.from,zd,t)}function YI(e,t,...r){return Xm(e,zd,t,r)}function Iu(e,t,...r){return Xm(e,Array.from,t,r)}function wf(e,...t){return Xm(e,zd,Cf,t)}function Wl(e,...t){return Xm(e,Array.from,Cf,t)}function Cf(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Xm(e,t,r,s){return function a(u,h){if(h>=s.length)return r(u);const f=new OE,g=s[h++];let v=-1;for(const p of u){const E=g(p,++v,u),T=f.get(E);T?T.push(p):f.set(E,[p])}for(const[p,E]of f)f.set(p,a(E,h));return t(f)}(e,0)}function Pb(e,t){return Array.from(t,r=>e[r])}function qI(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=oi]=t;if(r.length===1||t.length>1){const s=Uint32Array.from(e,(a,u)=>u);return t.length>1?(t=t.map(a=>e.map(a)),s.sort((a,u)=>{for(const h of t){const f=oi(h[a],h[u]);if(f)return f}})):(r=e.map(r),s.sort((a,u)=>oi(r[a],r[u]))),Pb(e,s)}return e.sort(r)}function Nb(e,t,r){return(t.length===1?qI(YI(e,t,r),([s,a],[u,h])=>oi(a,h)||oi(s,u)):qI(rL(e,r),([s,a],[u,h])=>t(a,h)||oi(s,u))).map(([s])=>s)}var z9=Array.prototype,V9=z9.slice;function n0(e){return function(){return e}}var ZI=Math.sqrt(50),KI=Math.sqrt(10),QI=Math.sqrt(2);function Vd(e,t,r){var s,a=-1,u,h,f;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((s=t<e)&&(u=e,e=t,t=u),(f=Mb(e,t,r))===0||!isFinite(f))return[];if(f>0){let g=Math.round(e/f),v=Math.round(t/f);for(g*f<e&&++g,v*f>t&&--v,h=new Array(u=v-g+1);++a<u;)h[a]=(g+a)*f}else{f=-f;let g=Math.round(e*f),v=Math.round(t*f);for(g/f<e&&++g,v/f>t&&--v,h=new Array(u=v-g+1);++a<u;)h[a]=(g+a)/f}return s&&h.reverse(),h}function Mb(e,t,r){var s=(t-e)/Math.max(0,r),a=Math.floor(Math.log(s)/Math.LN10),u=s/Math.pow(10,a);return a>=0?(u>=ZI?10:u>=KI?5:u>=QI?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(u>=ZI?10:u>=KI?5:u>=QI?2:1)}function LE(e,t,r){var s=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/a;return u>=ZI?a*=10:u>=KI?a*=5:u>=QI&&(a*=2),t<e?-a:a}function nL(e,t,r){let s;for(;;){const a=Mb(e,t,r);if(a===s||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),s=a}}function JI(e){return Math.ceil(Math.log(Rb(e))/Math.LN2)+1}function Ym(){var e=zd,t=r0,r=JI;function s(a){Array.isArray(a)||(a=Array.from(a));var u,h=a.length,f,g=new Array(h);for(u=0;u<h;++u)g[u]=e(a[u],u,a);var v=t(g),p=v[0],E=v[1],T=r(g,p,E);if(!Array.isArray(T)){const P=E,M=+T;if(t===r0&&([p,E]=nL(p,E,M)),T=Vd(p,E,M),T[T.length-1]>=E)if(P>=E&&t===r0){const G=Mb(p,E,M);isFinite(G)&&(G>0?E=(Math.floor(E/G)+1)*G:G<0&&(E=(Math.ceil(E*-G)+1)/-G))}else T.pop()}for(var S=T.length;T[0]<=p;)T.shift(),--S;for(;T[S-1]>E;)T.pop(),--S;var x=new Array(S+1),O;for(u=0;u<=S;++u)O=x[u]=[],O.x0=u>0?T[u-1]:p,O.x1=u<S?T[u]:E;for(u=0;u<h;++u)f=g[u],p<=f&&f<=E&&x[Cc(T,f,0,S)].push(a[u]);return x}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:n0(a),s):e},s.domain=function(a){return arguments.length?(t=typeof a=="function"?a:n0([a[0],a[1]]),s):t},s.thresholds=function(a){return arguments.length?(r=typeof a=="function"?a:Array.isArray(a)?n0(V9.call(a)):n0(a),s):r},s}function Lb(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Fb(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function FE(e,t,r=0,s=e.length-1,a=oi){for(;s>r;){if(s-r>600){const g=s-r+1,v=t-r+1,p=Math.log(g),E=.5*Math.exp(2*p/3),T=.5*Math.sqrt(p*E*(g-E)/g)*(v-g/2<0?-1:1),S=Math.max(r,Math.floor(t-v*E/g+T)),x=Math.min(s,Math.floor(t+(g-v)*E/g+T));FE(e,t,S,x,a)}const u=e[t];let h=r,f=s;for(Bb(e,r,t),a(e[s],u)>0&&Bb(e,r,s);h<f;){for(Bb(e,h,f),++h,--f;a(e[h],u)<0;)++h;for(;a(e[f],u)>0;)--f}a(e[r],u)===0?Bb(e,r,f):(++f,Bb(e,f,s)),f<=t&&(r=f+1),t<=f&&(s=f-1)}return e}function Bb(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function Hb(e,t,r){if(e=Float64Array.from(kb(e,r)),!!(s=e.length)){if((t=+t)<=0||s<2)return Fb(e);if(t>=1)return Lb(e);var s,a=(s-1)*t,u=Math.floor(a),h=Lb(FE(e,u).subarray(0,u+1)),f=Fb(e.subarray(u+1));return h+(f-h)*(a-u)}}function iL(e,t,r=Wm){if(s=e.length){if((t=+t)<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,u=Math.floor(a),h=+r(e[u],u,e),f=+r(e[u+1],u+1,e);return h+(f-h)*(a-u)}}function j9(e,t,r){return Math.ceil((r-t)/(2*(Hb(e,.75)-Hb(e,.25))*Math.pow(Rb(e),-1/3)))}function W9(e,t,r){return Math.ceil((r-t)/(3.5*DE(e)*Math.pow(Rb(e),-1/3)))}function aL(e,t){let r,s=-1,a=-1;if(t===void 0)for(const u of e)++a,u!=null&&(r<u||r===void 0&&u>=u)&&(r=u,s=a);else for(let u of e)(u=t(u,++a,e))!=null&&(r<u||r===void 0&&u>=u)&&(r=u,s=a);return s}function eD(e,t){let r=0,s=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++r,s+=a);else{let a=-1;for(let u of e)(u=t(u,++a,e))!=null&&(u=+u)>=u&&(++r,s+=u)}if(r)return s/r}function tD(e,t){return Hb(e,.5,t)}function*oL(e){for(const t of e)yield*t}function rD(e){return Array.from(oL(e))}function nD(e,t){let r,s=-1,a=-1;if(t===void 0)for(const u of e)++a,u!=null&&(r>u||r===void 0&&u>=u)&&(r=u,s=a);else for(let u of e)(u=t(u,++a,e))!=null&&(r>u||r===void 0&&u>=u)&&(r=u,s=a);return s}function X9(e,t=Y9){const r=[];let s,a=!1;for(const u of e)a&&r.push(t(s,u)),s=u,a=!0;return r}function Y9(e,t){return[e,t]}function Gs(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,u=new Array(a);++s<a;)u[s]=e+s*r;return u}function q9(e,t=oi){let r,s=!1;if(t.length===1){let a;for(const u of e){const h=t(u);(s?oi(h,a)<0:oi(h,h)===0)&&(r=u,a=h,s=!0)}}else for(const a of e)(s?t(a,r)<0:t(a,a)===0)&&(r=a,s=!0);return r}function BE(e,t=oi){if(t.length===1)return nD(e,t);let r,s=-1,a=-1;for(const u of e)++a,(s<0?t(u,u)===0:t(u,r)<0)&&(r=u,s=a);return s}function qm(e,t=oi){let r,s=!1;if(t.length===1){let a;for(const u of e){const h=t(u);(s?oi(h,a)>0:oi(h,h)===0)&&(r=u,a=h,s=!0)}}else for(const a of e)(s?t(a,r)>0:t(a,a)===0)&&(r=a,s=!0);return r}function HE(e,t=oi){if(t.length===1)return aL(e,t);let r,s=-1,a=-1;for(const u of e)++a,(s<0?t(u,u)===0:t(u,r)>0)&&(r=u,s=a);return s}function sL(e,t){const r=BE(e,t);return r<0?void 0:r}const i0=lL(Math.random);function lL(e){return function(r,s=0,a=r.length){let u=a-(s=+s);for(;u;){const h=e()*u--|0,f=r[u+s];r[u+s]=r[h+s],r[h+s]=f}return r}}function uL(e,t){let r=0;if(t===void 0)for(let s of e)(s=+s)&&(r+=s);else{let s=-1;for(let a of e)(a=+t(a,++s,e))&&(r+=a)}return r}function cL(e){if(!(u=e.length))return[];for(var t=-1,r=Fb(e,Z9),s=new Array(r);++t<r;)for(var a=-1,u,h=s[t]=new Array(u);++a<u;)h[a]=e[a][t];return s}function Z9(e){return e.length}function K9(){return cL(arguments)}function Q9(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const s of e)if(!t(s,++r,e))return!1;return!0}function hL(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const s of e)if(t(s,++r,e))return!0;return!1}function J9(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const r=[];let s=-1;for(const a of e)t(a,++s,e)&&r.push(a);return r}function fL(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,s)=>t(r,s,e))}function $s(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");const s=e[Symbol.iterator]();let a,u,h=-1;if(arguments.length<3){if({done:a,value:r}=s.next(),a)return;++h}for(;{done:a,value:u}=s.next(),!a;)r=t(r,u,++h,e);return r}function eG(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function dL(e,...t){e=new Set(e);for(const r of t)for(const s of r)e.delete(s);return e}function tG(e,t){const r=t[Symbol.iterator](),s=new Set;for(const a of e){if(s.has(a))return!1;let u,h;for(;({value:u,done:h}=r.next())&&!h;){if(Object.is(a,u))return!1;s.add(u)}}return!0}function rG(e){return e instanceof Set?e:new Set(e)}function nG(e,...t){e=new Set(e),t=t.map(rG);e:for(const r of e)for(const s of t)if(!s.has(r)){e.delete(r);continue e}return e}function pL(e,t){const r=e[Symbol.iterator](),s=new Set;for(const a of t){if(s.has(a))continue;let u,h;for(;{value:u,done:h}=r.next();){if(h)return!1;if(s.add(u),Object.is(a,u))break}}return!0}function iG(e,t){return pL(t,e)}function mL(...e){const t=new Set;for(const r of e)for(const s of r)t.add(s);return t}const UE=Object.freeze(Object.defineProperty({__proto__:null,bisect:Cc,bisectRight:Jv,bisectLeft:VI,bisectCenter:e0,ascending:oi,bisector:xo,count:Rb,cross:JM,cumsum:G9,descending:$9,deviation:DE,extent:r0,Adder:go,fsum:eL,fcumsum:tL,group:rL,groups:ME,index:wf,indexes:Wl,rollup:YI,rollups:Iu,groupSort:Nb,bin:Ym,histogram:Ym,thresholdFreedmanDiaconis:j9,thresholdScott:W9,thresholdSturges:JI,max:Lb,maxIndex:aL,mean:eD,median:tD,merge:rD,min:Fb,minIndex:nD,nice:nL,pairs:X9,permute:Pb,quantile:Hb,quantileSorted:iL,quickselect:FE,range:Gs,least:q9,leastIndex:BE,greatest:qm,greatestIndex:HE,scan:sL,shuffle:i0,shuffler:lL,sum:uL,ticks:Vd,tickIncrement:Mb,tickStep:LE,transpose:cL,variance:WI,zip:K9,every:Q9,some:hL,filter:J9,map:fL,reduce:$s,reverse:eG,sort:qI,difference:dL,disjoint:tG,intersection:nG,subset:iG,superset:pL,union:mL,InternMap:OE,InternSet:kE},Symbol.toStringTag,{value:"Module"}));function ms(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ch(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iD=Symbol("implicit");function Ub(){var e=new OE,t=[],r=[],s=iD;function a(u){let h=e.get(u);if(h===void 0){if(s!==iD)return s;e.set(u,h=t.push(u)-1)}return r[h%r.length]}return a.domain=function(u){if(!arguments.length)return t.slice();t=[],e=new OE;for(const h of u)e.has(h)||e.set(h,t.push(h)-1);return a},a.range=function(u){return arguments.length?(r=Array.from(u),a):r.slice()},a.unknown=function(u){return arguments.length?(s=u,a):s},a.copy=function(){return Ub(t,r).unknown(s)},ms.apply(a,arguments),a}function Zm(){var e=Ub().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,u,h,f=!1,g=0,v=0,p=.5;delete e.unknown;function E(){var T=t().length,S=a<s,x=S?a:s,O=S?s:a;u=(O-x)/Math.max(1,T-g+v*2),f&&(u=Math.floor(u)),x+=(O-x-u*(T-g))*p,h=u*(1-g),f&&(x=Math.round(x),h=Math.round(h));var P=Gs(T).map(function(M){return x+u*M});return r(S?P.reverse():P)}return e.domain=function(T){return arguments.length?(t(T),E()):t()},e.range=function(T){return arguments.length?([s,a]=T,s=+s,a=+a,E()):[s,a]},e.rangeRound=function(T){return[s,a]=T,s=+s,a=+a,f=!0,E()},e.bandwidth=function(){return h},e.step=function(){return u},e.round=function(T){return arguments.length?(f=!!T,E()):f},e.padding=function(T){return arguments.length?(g=Math.min(1,v=+T),E()):g},e.paddingInner=function(T){return arguments.length?(g=Math.min(1,T),E()):g},e.paddingOuter=function(T){return arguments.length?(v=+T,E()):v},e.align=function(T){return arguments.length?(p=Math.max(0,Math.min(1,T)),E()):p},e.copy=function(){return Zm(t(),[s,a]).round(f).paddingInner(g).paddingOuter(v).align(p)},ms.apply(E(),arguments)}function Km(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Km(t())},e}function a0(){return Km(Zm.apply(null,arguments).paddingInner(1))}function Qm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Gb(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function xf(){}var Jm=.7,eg=1/Jm,jd="\\s*([+-]?\\d+)\\s*",o0="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Du="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gL=/^#([0-9a-f]{3,8})$/,Wd=new RegExp("^rgb\\("+[jd,jd,jd]+"\\)$"),aD=new RegExp("^rgb\\("+[Du,Du,Du]+"\\)$"),oD=new RegExp("^rgba\\("+[jd,jd,jd,o0]+"\\)$"),aG=new RegExp("^rgba\\("+[Du,Du,Du,o0]+"\\)$"),oG=new RegExp("^hsl\\("+[o0,Du,Du]+"\\)$"),sG=new RegExp("^hsla\\("+[o0,Du,Du,o0]+"\\)$"),vL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qm(xf,Ma,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:yL,formatHex:yL,formatHsl:lG,formatRgb:bL,toString:bL});function yL(){return this.rgb().formatHex()}function lG(){return zE(this).formatHsl()}function bL(){return this.rgb().formatRgb()}function Ma(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GE(t):r===3?new Io(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wd.exec(e))?new Io(t[1],t[2],t[3],1):(t=aD.exec(e))?new Io(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oD.exec(e))?Xd(t[1],t[2],t[3],t[4]):(t=aG.exec(e))?Xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oG.exec(e))?$b(t[1],t[2]/100,t[3]/100,1):(t=sG.exec(e))?$b(t[1],t[2]/100,t[3]/100,t[4]):vL.hasOwnProperty(e)?GE(vL[e]):e==="transparent"?new Io(NaN,NaN,NaN,0):null}function GE(e){return new Io(e>>16&255,e>>8&255,e&255,1)}function Xd(e,t,r,s){return s<=0&&(e=t=r=NaN),new Io(e,t,r,s)}function $E(e){return e instanceof xf||(e=Ma(e)),e?(e=e.rgb(),new Io(e.r,e.g,e.b,e.opacity)):new Io}function tg(e,t,r,s){return arguments.length===1?$E(e):new Io(e,t,r,s??1)}function Io(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}Qm(Io,tg,Gb(xf,{brighter:function(e){return e=e==null?eg:Math.pow(eg,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Jm:Math.pow(Jm,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_L,formatHex:_L,formatRgb:rg,toString:rg}));function _L(){return"#"+s0(this.r)+s0(this.g)+s0(this.b)}function rg(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function s0(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function $b(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Do(e,t,r,s)}function zE(e){if(e instanceof Do)return new Do(e.h,e.s,e.l,e.opacity);if(e instanceof xf||(e=Ma(e)),!e)return new Do;if(e instanceof Do)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),u=Math.max(t,r,s),h=NaN,f=u-a,g=(u+a)/2;return f?(t===u?h=(r-s)/f+(r<s)*6:r===u?h=(s-t)/f+2:h=(t-r)/f+4,f/=g<.5?u+a:2-u-a,h*=60):f=g>0&&g<1?0:h,new Do(h,f,g,e.opacity)}function TL(e,t,r,s){return arguments.length===1?zE(e):new Do(e,t,r,s??1)}function Do(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}Qm(Do,TL,Gb(xf,{brighter:function(e){return e=e==null?eg:Math.pow(eg,e),new Do(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Jm:Math.pow(Jm,e),new Do(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Io(sD(e>=240?e-240:e+120,a,s),sD(e,a,s),sD(e<120?e+240:e-120,a,s),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function sD(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const EL=Math.PI/180,hh=180/Math.PI,Xl=18,ng=.96422,SL=1,AL=.82521,Aa=4/29,Yl=6/29,Wa=3*Yl*Yl,ia=Yl*Yl*Yl;function wL(e){if(e instanceof Ou)return new Ou(e.l,e.a,e.b,e.opacity);if(e instanceof fh)return xL(e);e instanceof Io||(e=$E(e));var t=ig(e.r),r=ig(e.g),s=ig(e.b),a=aa((.2225045*t+.7168786*r+.0606169*s)/SL),u,h;return t===r&&r===s?u=h=a:(u=aa((.4360747*t+.3850649*r+.1430804*s)/ng),h=aa((.0139322*t+.0971045*r+.7141733*s)/AL)),new Ou(116*a-16,500*(u-a),200*(a-h),e.opacity)}function If(e,t){return new Ou(e,0,0,t??1)}function zb(e,t,r,s){return arguments.length===1?wL(e):new Ou(e,t,r,s??1)}function Ou(e,t,r,s){this.l=+e,this.a=+t,this.b=+r,this.opacity=+s}Qm(Ou,zb,Gb(xf,{brighter:function(e){return new Ou(this.l+Xl*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Ou(this.l-Xl*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=ng*l0(t),e=SL*l0(e),r=AL*l0(r),new Io(Df(3.1338561*t-1.6168667*e-.4906146*r),Df(-.9787684*t+1.9161415*e+.033454*r),Df(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function aa(e){return e>ia?Math.pow(e,1/3):e/Wa+Aa}function l0(e){return e>Yl?e*e*e:Wa*(e-Aa)}function Df(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ig(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function u0(e){if(e instanceof fh)return new fh(e.h,e.c,e.l,e.opacity);if(e instanceof Ou||(e=wL(e)),e.a===0&&e.b===0)return new fh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*hh;return new fh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Of(e,t,r,s){return arguments.length===1?u0(e):new fh(r,t,e,s??1)}function CL(e,t,r,s){return arguments.length===1?u0(e):new fh(e,t,r,s??1)}function fh(e,t,r,s){this.h=+e,this.c=+t,this.l=+r,this.opacity=+s}function xL(e){if(isNaN(e.h))return new Ou(e.l,0,0,e.opacity);var t=e.h*EL;return new Ou(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Qm(fh,CL,Gb(xf,{brighter:function(e){return new fh(this.h,this.c,this.l+Xl*(e??1),this.opacity)},darker:function(e){return new fh(this.h,this.c,this.l-Xl*(e??1),this.opacity)},rgb:function(){return xL(this).rgb()}}));var c0=-.14861,xc=1.78277,Vb=-.29227,VE=-.90649,Ic=1.97294,lD=Ic*VE,uD=Ic*xc,IL=xc*Vb-VE*c0;function uG(e){if(e instanceof Yd)return new Yd(e.h,e.s,e.l,e.opacity);e instanceof Io||(e=$E(e));var t=e.r/255,r=e.g/255,s=e.b/255,a=(IL*s+lD*t-uD*r)/(IL+lD-uD),u=s-a,h=(Ic*(r-a)-Vb*u)/VE,f=Math.sqrt(h*h+u*u)/(Ic*a*(1-a)),g=f?Math.atan2(h,u)*hh-120:NaN;return new Yd(g<0?g+360:g,f,a,e.opacity)}function cD(e,t,r,s){return arguments.length===1?uG(e):new Yd(e,t,r,s??1)}function Yd(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}Qm(Yd,cD,Gb(xf,{brighter:function(e){return e=e==null?eg:Math.pow(eg,e),new Yd(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Jm:Math.pow(Jm,e),new Yd(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*EL,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),s=Math.cos(e),a=Math.sin(e);return new Io(255*(t+r*(c0*s+xc*a)),255*(t+r*(Vb*s+VE*a)),255*(t+r*(Ic*s)),this.opacity)}}));const DL=Object.freeze(Object.defineProperty({__proto__:null,color:Ma,rgb:tg,hsl:TL,lab:zb,hcl:CL,lch:Of,gray:If,cubehelix:cD},Symbol.toStringTag,{value:"Module"})),hD=e=>()=>e;function OL(e,t){return function(r){return e+r*t}}function kL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function cG(e){return(e=+e)==1?jE:function(t,r){return r-t?kL(t,r,e):hD(isNaN(t)?r:t)}}function jE(e,t){var r=t-e;return r?OL(e,r):hD(isNaN(e)?t:e)}const h0=function e(t){var r=cG(t);function s(a,u){var h=r((a=tg(a)).r,(u=tg(u)).r),f=r(a.g,u.g),g=r(a.b,u.b),v=jE(a.opacity,u.opacity);return function(p){return a.r=h(p),a.g=f(p),a.b=g(p),a.opacity=v(p),a+""}}return s.gamma=e,s}(1);function RL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(u){for(a=0;a<r;++a)s[a]=e[a]*(1-u)+t[a]*u;return s}}function hG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PL(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),u=new Array(r),h;for(h=0;h<s;++h)a[h]=Dc(e[h],t[h]);for(;h<r;++h)u[h]=t[h];return function(f){for(h=0;h<s;++h)u[h]=a[h](f);return u}}function fG(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function ul(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kf(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Dc(e[a],t[a]):s[a]=t[a];return function(u){for(a in r)s[a]=r[a](u);return s}}var dh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ph=new RegExp(dh.source,"g");function qd(e){return function(){return e}}function jb(e){return function(t){return e(t)+""}}function ag(e,t){var r=dh.lastIndex=ph.lastIndex=0,s,a,u,h=-1,f=[],g=[];for(e=e+"",t=t+"";(s=dh.exec(e))&&(a=ph.exec(t));)(u=a.index)>r&&(u=t.slice(r,u),f[h]?f[h]+=u:f[++h]=u),(s=s[0])===(a=a[0])?f[h]?f[h]+=a:f[++h]=a:(f[++h]=null,g.push({i:h,x:ul(s,a)})),r=ph.lastIndex;return r<t.length&&(u=t.slice(r),f[h]?f[h]+=u:f[++h]=u),f.length<2?g[0]?jb(g[0].x):qd(t):(t=g.length,function(v){for(var p=0,E;p<t;++p)f[(E=g[p]).i]=E.x(v);return f.join("")})}function Dc(e,t){var r=typeof t,s;return t==null||r==="boolean"?hD(t):(r==="number"?ul:r==="string"?(s=Ma(t))?(t=s,h0):ag:t instanceof Ma?h0:t instanceof Date?fG:hG(t)?RL:Array.isArray(t)?PL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kf:ul)(e,t)}function fD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var NL=180/Math.PI,WE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dD(e,t,r,s,a,u){var h,f,g;return(h=Math.sqrt(e*e+t*t))&&(e/=h,t/=h),(g=e*r+t*s)&&(r-=e*g,s-=t*g),(f=Math.sqrt(r*r+s*s))&&(r/=f,s/=f,g/=f),e*s<t*r&&(e=-e,t=-t,g=-g,h=-h),{translateX:a,translateY:u,rotate:Math.atan2(t,e)*NL,skewX:Math.atan(g)*NL,scaleX:h,scaleY:f}}var Wb;function ML(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WE:dD(t.a,t.b,t.c,t.d,t.e,t.f)}function Xb(e){return e==null||(Wb||(Wb=document.createElementNS("http://www.w3.org/2000/svg","g")),Wb.setAttribute("transform",e),!(e=Wb.transform.baseVal.consolidate()))?WE:(e=e.matrix,dD(e.a,e.b,e.c,e.d,e.e,e.f))}function LL(e,t,r,s){function a(v){return v.length?v.pop()+" ":""}function u(v,p,E,T,S,x){if(v!==E||p!==T){var O=S.push("translate(",null,t,null,r);x.push({i:O-4,x:ul(v,E)},{i:O-2,x:ul(p,T)})}else(E||T)&&S.push("translate("+E+t+T+r)}function h(v,p,E,T){v!==p?(v-p>180?p+=360:p-v>180&&(v+=360),T.push({i:E.push(a(E)+"rotate(",null,s)-2,x:ul(v,p)})):p&&E.push(a(E)+"rotate("+p+s)}function f(v,p,E,T){v!==p?T.push({i:E.push(a(E)+"skewX(",null,s)-2,x:ul(v,p)}):p&&E.push(a(E)+"skewX("+p+s)}function g(v,p,E,T,S,x){if(v!==E||p!==T){var O=S.push(a(S)+"scale(",null,",",null,")");x.push({i:O-4,x:ul(v,E)},{i:O-2,x:ul(p,T)})}else(E!==1||T!==1)&&S.push(a(S)+"scale("+E+","+T+")")}return function(v,p){var E=[],T=[];return v=e(v),p=e(p),u(v.translateX,v.translateY,p.translateX,p.translateY,E,T),h(v.rotate,p.rotate,E,T),f(v.skewX,p.skewX,E,T),g(v.scaleX,v.scaleY,p.scaleX,p.scaleY,E,T),v=p=null,function(S){for(var x=-1,O=T.length,P;++x<O;)E[(P=T[x]).i]=P.x(S);return E.join("")}}}var FL=LL(ML,"px, ","px)","deg)"),Yb=LL(Xb,", ",")",")"),BL=1e-12;function HL(e){return((e=Math.exp(e))+1/e)/2}function qb(e){return((e=Math.exp(e))-1/e)/2}function UL(e){return((e=Math.exp(2*e))-1)/(e+1)}const pD=function e(t,r,s){function a(u,h){var f=u[0],g=u[1],v=u[2],p=h[0],E=h[1],T=h[2],S=p-f,x=E-g,O=S*S+x*x,P,M;if(O<BL)M=Math.log(T/v)/t,P=function(ee){return[f+ee*S,g+ee*x,v*Math.exp(t*ee*M)]};else{var G=Math.sqrt(O),B=(T*T-v*v+s*O)/(2*v*r*G),U=(T*T-v*v-s*O)/(2*T*r*G),j=Math.log(Math.sqrt(B*B+1)-B),Z=Math.log(Math.sqrt(U*U+1)-U);M=(Z-j)/t,P=function(ee){var J=ee*M,he=HL(j),pe=v/(r*G)*(he*UL(t*J+j)-qb(j));return[f+pe*S,g+pe*x,v*he/HL(t*J+j)]}}return P.duration=M*1e3*t/Math.SQRT2,P}return a.rho=function(u){var h=Math.max(.001,+u),f=h*h,g=f*f;return e(h,f,g)},a}(Math.SQRT2,2,4);function GL(e,t){t===void 0&&(t=e,e=Dc);for(var r=0,s=t.length-1,a=t[0],u=new Array(s<0?0:s);r<s;)u[r]=e(a,a=t[++r]);return function(h){var f=Math.max(0,Math.min(s-1,Math.floor(h*=s)));return u[f](h-f)}}function mD(e){return function(){return e}}function og(e){return+e}var sg=[0,1];function ts(e){return e}function XE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mD(isNaN(t)?NaN:.5)}function YE(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function $L(e,t,r){var s=e[0],a=e[1],u=t[0],h=t[1];return a<s?(s=XE(a,s),u=r(h,u)):(s=XE(s,a),u=r(u,h)),function(f){return u(s(f))}}function zL(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),u=new Array(s),h=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++h<s;)a[h]=XE(e[h],e[h+1]),u[h]=r(t[h],t[h+1]);return function(f){var g=Cc(e,f,1,s)-1;return u[g](a[g](f))}}function f0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zb(){var e=sg,t=sg,r=Dc,s,a,u,h=ts,f,g,v;function p(){var T=Math.min(e.length,t.length);return h!==ts&&(h=YE(e[0],e[T-1])),f=T>2?zL:$L,g=v=null,E}function E(T){return T==null||isNaN(T=+T)?u:(g||(g=f(e.map(s),t,r)))(s(h(T)))}return E.invert=function(T){return h(a((v||(v=f(t,e.map(s),ul)))(T)))},E.domain=function(T){return arguments.length?(e=Array.from(T,og),p()):e.slice()},E.range=function(T){return arguments.length?(t=Array.from(T),p()):t.slice()},E.rangeRound=function(T){return t=Array.from(T),r=fD,p()},E.clamp=function(T){return arguments.length?(h=T?!0:ts,p()):h!==ts},E.interpolate=function(T){return arguments.length?(r=T,p()):r},E.unknown=function(T){return arguments.length?(u=T,E):u},function(T,S){return s=T,a=S,p()}}function qE(){return Zb()(ts,ts)}function gD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ZE(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function d0(e){return e=ZE(Math.abs(e)),e?e[1]:NaN}function dG(e,t){return function(r,s){for(var a=r.length,u=[],h=0,f=e[0],g=0;a>0&&f>0&&(g+f+1>s&&(f=Math.max(1,s-g)),u.push(r.substring(a-=f,a+f)),!((g+=f+1)>s));)f=e[h=(h+1)%e.length];return u.reverse().join(t)}}function pG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p0(e){if(!(t=vD.exec(e)))throw new Error("invalid format: "+e);var t;return new KE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}p0.prototype=KE.prototype;function KE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mG(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var VL;function jL(e,t){var r=ZE(e,t);if(!r)return e+"";var s=r[0],a=r[1],u=a-(VL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,h=s.length;return u===h?s:u>h?s+new Array(u-h+1).join("0"):u>0?s.slice(0,u)+"."+s.slice(u):"0."+new Array(1-u).join("0")+ZE(e,Math.max(0,t+u-1))[0]}function yD(e,t){var r=ZE(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const bD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yD(e*100,t),r:yD,s:jL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WL(e){return e}var _D=Array.prototype.map,XL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lg(e){var t=e.grouping===void 0||e.thousands===void 0?WL:dG(_D.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?WL:pG(_D.call(e.numerals,String)),h=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",g=e.nan===void 0?"NaN":e.nan+"";function v(E){E=p0(E);var T=E.fill,S=E.align,x=E.sign,O=E.symbol,P=E.zero,M=E.width,G=E.comma,B=E.precision,U=E.trim,j=E.type;j==="n"?(G=!0,j="g"):bD[j]||(B===void 0&&(B=12),U=!0,j="g"),(P||T==="0"&&S==="=")&&(P=!0,T="0",S="=");var Z=O==="$"?r:O==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",ee=O==="$"?s:/[%p]/.test(j)?h:"",J=bD[j],he=/[defgprs%]/.test(j);B=B===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function pe(ae){var ye=Z,Ee=ee,ue,be,Me;if(j==="c")Ee=J(ae)+Ee,ae="";else{ae=+ae;var Xe=ae<0||1/ae<0;if(ae=isNaN(ae)?g:J(Math.abs(ae),B),U&&(ae=mG(ae)),Xe&&+ae==0&&x!=="+"&&(Xe=!1),ye=(Xe?x==="("?x:f:x==="-"||x==="("?"":x)+ye,Ee=(j==="s"?XL[8+VL/3]:"")+Ee+(Xe&&x==="("?")":""),he){for(ue=-1,be=ae.length;++ue<be;)if(Me=ae.charCodeAt(ue),48>Me||Me>57){Ee=(Me===46?a+ae.slice(ue+1):ae.slice(ue))+Ee,ae=ae.slice(0,ue);break}}}G&&!P&&(ae=t(ae,1/0));var rt=ye.length+ae.length+Ee.length,st=rt<M?new Array(M-rt+1).join(T):"";switch(G&&P&&(ae=t(st+ae,st.length?M-Ee.length:1/0),st=""),S){case"<":ae=ye+ae+Ee+st;break;case"=":ae=ye+st+ae+Ee;break;case"^":ae=st.slice(0,rt=st.length>>1)+ye+ae+Ee+st.slice(rt);break;default:ae=st+ye+ae+Ee;break}return u(ae)}return pe.toString=function(){return E+""},pe}function p(E,T){var S=v((E=p0(E),E.type="f",E)),x=Math.max(-8,Math.min(8,Math.floor(d0(T)/3)))*3,O=Math.pow(10,-x),P=XL[8+x/3];return function(M){return S(O*M)+P}}return{format:v,formatPrefix:p}}var ug,cl,mh;TD({thousands:",",grouping:[3],currency:["$",""]});function TD(e){return ug=lg(e),cl=ug.format,mh=ug.formatPrefix,ug}function cg(e){return Math.max(0,-d0(Math.abs(e)))}function hg(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(d0(t)/3)))*3-d0(Math.abs(e)))}function Zd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,d0(t)-d0(e))+1}const YL=Object.freeze(Object.defineProperty({__proto__:null,formatDefaultLocale:TD,get format(){return cl},get formatPrefix(){return mh},formatLocale:lg,formatSpecifier:p0,FormatSpecifier:KE,precisionFixed:cg,precisionPrefix:hg,precisionRound:Zd},Symbol.toStringTag,{value:"Module"}));function Kb(e,t,r,s){var a=LE(e,t,r),u;switch(s=p0(s??",f"),s.type){case"s":{var h=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(u=hg(a,h))&&(s.precision=u),mh(s,h)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(u=Zd(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=u-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(u=cg(a))&&(s.precision=u-(s.type==="%")*2);break}}return cl(s)}function gh(e){var t=e.domain;return e.ticks=function(r){var s=t();return Vd(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return Kb(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,u=s.length-1,h=s[a],f=s[u],g,v,p=10;for(f<h&&(v=h,h=f,f=v,v=a,a=u,u=v);p-- >0;){if(v=Mb(h,f,r),v===g)return s[a]=h,s[u]=f,t(s);if(v>0)h=Math.floor(h/v)*v,f=Math.ceil(f/v)*v;else if(v<0)h=Math.ceil(h*v)/v,f=Math.floor(f*v)/v;else break;g=v}return e},e}function Rn(){var e=qE();return e.copy=function(){return f0(e,Rn())},ms.apply(e,arguments),gh(e)}function ED(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,og),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return ED(e).unknown(t)},e=arguments.length?Array.from(e,og):[0,1],gh(r)}function Qb(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],u=e[s],h;return u<a&&(h=r,r=s,s=h,h=a,a=u,u=h),e[r]=t.floor(a),e[s]=t.ceil(u),e}function SD(e){return Math.log(e)}function Kd(e){return Math.exp(e)}function gG(e){return-Math.log(-e)}function nr(e){return-Math.exp(-e)}function hl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ji(e){return e===10?hl:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jb(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QE(e){return(t,r)=>-e(-t,r)}function m0(e){const t=e(SD,Kd),r=t.domain;let s=10,a,u;function h(){return a=Jb(s),u=Ji(s),r()[0]<0?(a=QE(a),u=QE(u),e(gG,nr)):e(SD,Kd),t}return t.base=function(f){return arguments.length?(s=+f,h()):s},t.domain=function(f){return arguments.length?(r(f),h()):r()},t.ticks=f=>{const g=r();let v=g[0],p=g[g.length-1];const E=p<v;E&&([v,p]=[p,v]);let T=a(v),S=a(p),x,O;const P=f==null?10:+f;let M=[];if(!(s%1)&&S-T<P){if(T=Math.floor(T),S=Math.ceil(S),v>0){for(;T<=S;++T)for(x=1;x<s;++x)if(O=T<0?x/u(-T):x*u(T),!(O<v)){if(O>p)break;M.push(O)}}else for(;T<=S;++T)for(x=s-1;x>=1;--x)if(O=T>0?x/u(-T):x*u(T),!(O<v)){if(O>p)break;M.push(O)}M.length*2<P&&(M=Vd(v,p,P))}else M=Vd(T,S,Math.min(S-T,P)).map(u);return E?M.reverse():M},t.tickFormat=(f,g)=>{if(f==null&&(f=10),g==null&&(g=s===10?"s":","),typeof g!="function"&&(!(s%1)&&(g=p0(g)).precision==null&&(g.trim=!0),g=cl(g)),f===1/0)return g;const v=Math.max(1,s*f/t.ticks().length);return p=>{let E=p/u(Math.round(a(p)));return E*s<s-.5&&(E*=s),E<=v?g(p):""}},t.nice=()=>r(Qb(r(),{floor:f=>u(Math.floor(a(f))),ceil:f=>u(Math.ceil(a(f)))})),t}function Rf(){const e=m0(Zb()).domain([1,10]);return e.copy=()=>f0(e,Rf()).base(e.base()),ms.apply(e,arguments),e}function AD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function e1(e){var t=1,r=e(AD(t),wD(t));return r.constant=function(s){return arguments.length?e(AD(t=+s),wD(t)):t},gh(r)}function CD(){var e=e1(Zb());return e.copy=function(){return f0(e,CD()).constant(e.constant())},ms.apply(e,arguments)}function fg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function g0(e){return e<0?-e*e:e*e}function t1(e){var t=e(ts,ts),r=1;function s(){return r===1?e(ts,ts):r===.5?e(JE,g0):e(fg(r),fg(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},gh(t)}function eS(){var e=t1(Zb());return e.copy=function(){return f0(e,eS()).exponent(e.exponent())},ms.apply(e,arguments),e}function qL(){return eS.apply(null,arguments).exponent(.5)}function tS(e){return Math.sign(e)*e*e}function vh(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function La(){var e=qE(),t=[0,1],r=!1,s;function a(u){var h=vh(e(u));return isNaN(h)?s:r?Math.round(h):h}return a.invert=function(u){return e.invert(tS(u))},a.domain=function(u){return arguments.length?(e.domain(u),a):e.domain()},a.range=function(u){return arguments.length?(e.range((t=Array.from(u,og)).map(tS)),a):t.slice()},a.rangeRound=function(u){return a.range(u).round(!0)},a.round=function(u){return arguments.length?(r=!!u,a):r},a.clamp=function(u){return arguments.length?(e.clamp(u),a):e.clamp()},a.unknown=function(u){return arguments.length?(s=u,a):s},a.copy=function(){return La(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},ms.apply(a,arguments),gh(a)}function xD(){var e=[],t=[],r=[],s;function a(){var h=0,f=Math.max(1,t.length);for(r=new Array(f-1);++h<f;)r[h-1]=iL(e,h/f);return u}function u(h){return h==null||isNaN(h=+h)?s:t[Cc(r,h)]}return u.invertExtent=function(h){var f=t.indexOf(h);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},u.domain=function(h){if(!arguments.length)return e.slice();e=[];for(let f of h)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(oi),a()},u.range=function(h){return arguments.length?(t=Array.from(h),a()):t.slice()},u.unknown=function(h){return arguments.length?(s=h,u):s},u.quantiles=function(){return r.slice()},u.copy=function(){return xD().domain(e).range(t).unknown(s)},ms.apply(u,arguments)}function oa(){var e=0,t=1,r=1,s=[.5],a=[0,1],u;function h(g){return g!=null&&g<=g?a[Cc(s,g,0,r)]:u}function f(){var g=-1;for(s=new Array(r);++g<r;)s[g]=((g+1)*t-(g-r)*e)/(r+1);return h}return h.domain=function(g){return arguments.length?([e,t]=g,e=+e,t=+t,f()):[e,t]},h.range=function(g){return arguments.length?(r=(a=Array.from(g)).length-1,f()):a.slice()},h.invertExtent=function(g){var v=a.indexOf(g);return v<0?[NaN,NaN]:v<1?[e,s[0]]:v>=r?[s[r-1],t]:[s[v-1],s[v]]},h.unknown=function(g){return arguments.length&&(u=g),h},h.thresholds=function(){return s.slice()},h.copy=function(){return oa().domain([e,t]).range(a).unknown(u)},ms.apply(gh(h),arguments)}function dg(){var e=[.5],t=[0,1],r,s=1;function a(u){return u!=null&&u<=u?t[Cc(e,u,0,s)]:r}return a.domain=function(u){return arguments.length?(e=Array.from(u),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(u){return arguments.length?(t=Array.from(u),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(u){var h=t.indexOf(u);return[e[h-1],e[h]]},a.unknown=function(u){return arguments.length?(r=u,a):r},a.copy=function(){return dg().domain(e).range(t).unknown(r)},ms.apply(a,arguments)}const ID=new Date,DD=new Date;function Fa(e,t,r,s){function a(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return a.floor=u=>(e(u=new Date(+u)),u),a.ceil=u=>(e(u=new Date(u-1)),t(u,1),e(u),u),a.round=u=>{const h=a(u),f=a.ceil(u);return u-h<f-u?h:f},a.offset=(u,h)=>(t(u=new Date(+u),h==null?1:Math.floor(h)),u),a.range=(u,h,f)=>{const g=[];if(u=a.ceil(u),f=f==null?1:Math.floor(f),!(u<h)||!(f>0))return g;let v;do g.push(v=new Date(+u)),t(u,f),e(u);while(v<u&&u<h);return g},a.filter=u=>Fa(h=>{if(h>=h)for(;e(h),!u(h);)h.setTime(h-1)},(h,f)=>{if(h>=h)if(f<0)for(;++f<=0;)for(;t(h,-1),!u(h););else for(;--f>=0;)for(;t(h,1),!u(h););}),r&&(a.count=(u,h)=>(ID.setTime(+u),DD.setTime(+h),e(ID),e(DD),Math.floor(r(ID,DD))),a.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?a.filter(s?h=>s(h)%u===0:h=>a.count(0,h)%u===0):a)),a}const rS=Fa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rS),rS.range;const Pf=1e3,ku=Pf*60,yh=ku*60,Nf=yh*24,nS=Nf*7,OD=Nf*30,kD=Nf*365,bh=Fa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pf)},(e,t)=>(t-e)/Pf,e=>e.getUTCSeconds());bh.range;const RD=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pf)},(e,t)=>{e.setTime(+e+t*ku)},(e,t)=>(t-e)/ku,e=>e.getMinutes());RD.range;const PD=Fa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ku)},(e,t)=>(t-e)/ku,e=>e.getUTCMinutes());PD.range;const ND=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pf-e.getMinutes()*ku)},(e,t)=>{e.setTime(+e+t*yh)},(e,t)=>(t-e)/yh,e=>e.getHours());ND.range;const MD=Fa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yh)},(e,t)=>(t-e)/yh,e=>e.getUTCHours());MD.range;const r1=Fa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ku)/Nf,e=>e.getDate()-1);r1.range;const Uo=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nf,e=>e.getUTCDate()-1);Uo.range;const Qd=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nf,e=>Math.floor(e/Nf));Qd.range;function pg(e){return Fa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ku)/nS)}const Oo=pg(0),_h=pg(1),Ni=pg(2),iS=pg(3),n1=pg(4),vG=pg(5),LD=pg(6);Oo.range,_h.range,Ni.range,iS.range,n1.range,vG.range,LD.range;function Th(e){return Fa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nS)}const aS=Th(0),i1=Th(1),yG=Th(2),bG=Th(3),mg=Th(4),_G=Th(5),TG=Th(6);aS.range,i1.range,yG.range,bG.range,mg.range,_G.range,TG.range;const oS=Fa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oS.range;const FD=Fa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FD.range;const Mf=Fa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),Mf.range;const Lf=Fa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Lf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Lf.range;function ZL(e,t,r,s,a,u){const h=[[bh,1,Pf],[bh,5,5*Pf],[bh,15,15*Pf],[bh,30,30*Pf],[u,1,ku],[u,5,5*ku],[u,15,15*ku],[u,30,30*ku],[a,1,yh],[a,3,3*yh],[a,6,6*yh],[a,12,12*yh],[s,1,Nf],[s,2,2*Nf],[r,1,nS],[t,1,OD],[t,3,3*OD],[e,1,kD]];function f(v,p,E){const T=p<v;T&&([v,p]=[p,v]);const S=E&&typeof E.range=="function"?E:g(v,p,E),x=S?S.range(v,+p+1):[];return T?x.reverse():x}function g(v,p,E){const T=Math.abs(p-v)/E,S=xo(([,,P])=>P).right(h,T);if(S===h.length)return e.every(LE(v/kD,p/kD,E));if(S===0)return rS.every(Math.max(LE(v,p,E),1));const[x,O]=h[T/h[S-1][2]<h[S][2]/T?S-1:S];return x.every(O)}return[f,g]}const[EG,BD]=ZL(Lf,FD,aS,Qd,MD,PD),[KL,SG]=ZL(Mf,oS,Oo,r1,ND,RD);function HD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function UD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GD(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,u=e.days,h=e.shortDays,f=e.months,g=e.shortMonths,v=gg(a),p=Ff(a),E=gg(u),T=Ff(u),S=gg(h),x=Ff(h),O=gg(f),P=Ff(f),M=gg(g),G=Ff(g),B={a:Xe,A:rt,b:st,B:mt,c:null,d:t5,e:t5,f:NG,g:$G,G:a5,H:jD,I:RG,j:PG,L:r5,m:MG,M:n5,p:kt,q:Le,Q:vg,s:p5,S:LG,u:FG,U:BG,V:HG,w:UG,W:WD,x:null,X:null,y:GG,Y:zG,Z:VG,"%":qD},U={a:Ie,A:Ne,b:Fe,B:dt,c:null,d:o5,e:o5,f:YG,g:QG,G:f5,H:jG,I:WG,j:XG,L:s5,m:l5,M:XD,p:Et,q:Vt,Q:vg,s:p5,S:u1,u:qG,U:u5,V:c5,w:ZG,W:h5,x:null,X:null,y:KG,Y:JG,Z:d5,"%":qD},j={a:pe,A:ae,b:ye,B:Ee,c:ue,d:y0,e:y0,f:cS,g:$D,G:s1,H:uS,I:uS,j:IG,L:DG,m:zD,M:VD,p:he,q:v0,Q:OG,s:kG,S:l1,u:xG,U:QL,V:JL,w:CG,W:lS,x:be,X:Me,y:$D,Y:s1,Z:ql,"%":e5};B.x=Z(r,B),B.X=Z(s,B),B.c=Z(t,B),U.x=Z(r,U),U.X=Z(s,U),U.c=Z(t,U);function Z(Ft,qt){return function(Sr){var jt=[],Hr=-1,Cr=0,On=Ft.length,sn,Ur,Bn;for(Sr instanceof Date||(Sr=new Date(+Sr));++Hr<On;)Ft.charCodeAt(Hr)===37&&(jt.push(Ft.slice(Cr,Hr)),(Ur=sS[sn=Ft.charAt(++Hr)])!=null?sn=Ft.charAt(++Hr):Ur=sn==="e"?" ":"0",(Bn=qt[sn])&&(sn=Bn(Sr,Ur)),jt.push(sn),Cr=Hr+1);return jt.push(Ft.slice(Cr,Hr)),jt.join("")}}function ee(Ft,qt){return function(Sr){var jt=a1(1900,void 0,1),Hr=J(jt,Ft,Sr+="",0),Cr,On;if(Hr!=Sr.length)return null;if("Q"in jt)return new Date(jt.Q);if("s"in jt)return new Date(jt.s*1e3+("L"in jt?jt.L:0));if(qt&&!("Z"in jt)&&(jt.Z=0),"p"in jt&&(jt.H=jt.H%12+jt.p*12),jt.m===void 0&&(jt.m="q"in jt?jt.q:0),"V"in jt){if(jt.V<1||jt.V>53)return null;"w"in jt||(jt.w=1),"Z"in jt?(Cr=UD(a1(jt.y,0,1)),On=Cr.getUTCDay(),Cr=On>4||On===0?i1.ceil(Cr):i1(Cr),Cr=Uo.offset(Cr,(jt.V-1)*7),jt.y=Cr.getUTCFullYear(),jt.m=Cr.getUTCMonth(),jt.d=Cr.getUTCDate()+(jt.w+6)%7):(Cr=HD(a1(jt.y,0,1)),On=Cr.getDay(),Cr=On>4||On===0?_h.ceil(Cr):_h(Cr),Cr=r1.offset(Cr,(jt.V-1)*7),jt.y=Cr.getFullYear(),jt.m=Cr.getMonth(),jt.d=Cr.getDate()+(jt.w+6)%7)}else("W"in jt||"U"in jt)&&("w"in jt||(jt.w="u"in jt?jt.u%7:"W"in jt?1:0),On="Z"in jt?UD(a1(jt.y,0,1)).getUTCDay():HD(a1(jt.y,0,1)).getDay(),jt.m=0,jt.d="W"in jt?(jt.w+6)%7+jt.W*7-(On+5)%7:jt.w+jt.U*7-(On+6)%7);return"Z"in jt?(jt.H+=jt.Z/100|0,jt.M+=jt.Z%100,UD(jt)):HD(jt)}}function J(Ft,qt,Sr,jt){for(var Hr=0,Cr=qt.length,On=Sr.length,sn,Ur;Hr<Cr;){if(jt>=On)return-1;if(sn=qt.charCodeAt(Hr++),sn===37){if(sn=qt.charAt(Hr++),Ur=j[sn in sS?qt.charAt(Hr++):sn],!Ur||(jt=Ur(Ft,Sr,jt))<0)return-1}else if(sn!=Sr.charCodeAt(jt++))return-1}return jt}function he(Ft,qt,Sr){var jt=v.exec(qt.slice(Sr));return jt?(Ft.p=p.get(jt[0].toLowerCase()),Sr+jt[0].length):-1}function pe(Ft,qt,Sr){var jt=S.exec(qt.slice(Sr));return jt?(Ft.w=x.get(jt[0].toLowerCase()),Sr+jt[0].length):-1}function ae(Ft,qt,Sr){var jt=E.exec(qt.slice(Sr));return jt?(Ft.w=T.get(jt[0].toLowerCase()),Sr+jt[0].length):-1}function ye(Ft,qt,Sr){var jt=M.exec(qt.slice(Sr));return jt?(Ft.m=G.get(jt[0].toLowerCase()),Sr+jt[0].length):-1}function Ee(Ft,qt,Sr){var jt=O.exec(qt.slice(Sr));return jt?(Ft.m=P.get(jt[0].toLowerCase()),Sr+jt[0].length):-1}function ue(Ft,qt,Sr){return J(Ft,t,qt,Sr)}function be(Ft,qt,Sr){return J(Ft,r,qt,Sr)}function Me(Ft,qt,Sr){return J(Ft,s,qt,Sr)}function Xe(Ft){return h[Ft.getDay()]}function rt(Ft){return u[Ft.getDay()]}function st(Ft){return g[Ft.getMonth()]}function mt(Ft){return f[Ft.getMonth()]}function kt(Ft){return a[+(Ft.getHours()>=12)]}function Le(Ft){return 1+~~(Ft.getMonth()/3)}function Ie(Ft){return h[Ft.getUTCDay()]}function Ne(Ft){return u[Ft.getUTCDay()]}function Fe(Ft){return g[Ft.getUTCMonth()]}function dt(Ft){return f[Ft.getUTCMonth()]}function Et(Ft){return a[+(Ft.getUTCHours()>=12)]}function Vt(Ft){return 1+~~(Ft.getUTCMonth()/3)}return{format:function(Ft){var qt=Z(Ft+="",B);return qt.toString=function(){return Ft},qt},parse:function(Ft){var qt=ee(Ft+="",!1);return qt.toString=function(){return Ft},qt},utcFormat:function(Ft){var qt=Z(Ft+="",U);return qt.toString=function(){return Ft},qt},utcParse:function(Ft){var qt=ee(Ft+="",!0);return qt.toString=function(){return Ft},qt}}}var sS={"-":"",_:" ",0:"0"},Go=/^\s*\d+/,AG=/^%/,wG=/[\\^$*+?|[\]().{}]/g;function Ii(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",u=a.length;return s+(u<r?new Array(r-u+1).join(t)+a:a)}function o1(e){return e.replace(wG,"\\$&")}function gg(e){return new RegExp("^(?:"+e.map(o1).join("|")+")","i")}function Ff(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CG(e,t,r){var s=Go.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function xG(e,t,r){var s=Go.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function QL(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function JL(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function lS(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function s1(e,t,r){var s=Go.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function $D(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function ql(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function v0(e,t,r){var s=Go.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function zD(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function y0(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function IG(e,t,r){var s=Go.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function uS(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function VD(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function l1(e,t,r){var s=Go.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function DG(e,t,r){var s=Go.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function cS(e,t,r){var s=Go.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function e5(e,t,r){var s=AG.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function OG(e,t,r){var s=Go.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function kG(e,t,r){var s=Go.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function t5(e,t){return Ii(e.getDate(),t,2)}function jD(e,t){return Ii(e.getHours(),t,2)}function RG(e,t){return Ii(e.getHours()%12||12,t,2)}function PG(e,t){return Ii(1+r1.count(Mf(e),e),t,3)}function r5(e,t){return Ii(e.getMilliseconds(),t,3)}function NG(e,t){return r5(e,t)+"000"}function MG(e,t){return Ii(e.getMonth()+1,t,2)}function n5(e,t){return Ii(e.getMinutes(),t,2)}function LG(e,t){return Ii(e.getSeconds(),t,2)}function FG(e){var t=e.getDay();return t===0?7:t}function BG(e,t){return Ii(Oo.count(Mf(e)-1,e),t,2)}function i5(e){var t=e.getDay();return t>=4||t===0?n1(e):n1.ceil(e)}function HG(e,t){return e=i5(e),Ii(n1.count(Mf(e),e)+(Mf(e).getDay()===4),t,2)}function UG(e){return e.getDay()}function WD(e,t){return Ii(_h.count(Mf(e)-1,e),t,2)}function GG(e,t){return Ii(e.getFullYear()%100,t,2)}function $G(e,t){return e=i5(e),Ii(e.getFullYear()%100,t,2)}function zG(e,t){return Ii(e.getFullYear()%1e4,t,4)}function a5(e,t){var r=e.getDay();return e=r>=4||r===0?n1(e):n1.ceil(e),Ii(e.getFullYear()%1e4,t,4)}function VG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ii(t/60|0,"0",2)+Ii(t%60,"0",2)}function o5(e,t){return Ii(e.getUTCDate(),t,2)}function jG(e,t){return Ii(e.getUTCHours(),t,2)}function WG(e,t){return Ii(e.getUTCHours()%12||12,t,2)}function XG(e,t){return Ii(1+Uo.count(Lf(e),e),t,3)}function s5(e,t){return Ii(e.getUTCMilliseconds(),t,3)}function YG(e,t){return s5(e,t)+"000"}function l5(e,t){return Ii(e.getUTCMonth()+1,t,2)}function XD(e,t){return Ii(e.getUTCMinutes(),t,2)}function u1(e,t){return Ii(e.getUTCSeconds(),t,2)}function qG(e){var t=e.getUTCDay();return t===0?7:t}function u5(e,t){return Ii(aS.count(Lf(e)-1,e),t,2)}function YD(e){var t=e.getUTCDay();return t>=4||t===0?mg(e):mg.ceil(e)}function c5(e,t){return e=YD(e),Ii(mg.count(Lf(e),e)+(Lf(e).getUTCDay()===4),t,2)}function ZG(e){return e.getUTCDay()}function h5(e,t){return Ii(i1.count(Lf(e)-1,e),t,2)}function KG(e,t){return Ii(e.getUTCFullYear()%100,t,2)}function QG(e,t){return e=YD(e),Ii(e.getUTCFullYear()%100,t,2)}function JG(e,t){return Ii(e.getUTCFullYear()%1e4,t,4)}function f5(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mg(e):mg.ceil(e),Ii(e.getUTCFullYear()%1e4,t,4)}function d5(){return"+0000"}function qD(){return"%"}function vg(e){return+e}function p5(e){return Math.floor(+e/1e3)}var b0,m5,g5;e$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function e$(e){return b0=GD(e),m5=b0.format,b0.parse,g5=b0.utcFormat,b0.utcParse,b0}function t$(e){return new Date(e)}function v5(e){return e instanceof Date?+e:+new Date(+e)}function ZD(e,t,r,s,a,u,h,f,g,v){var p=qE(),E=p.invert,T=p.domain,S=v(".%L"),x=v(":%S"),O=v("%I:%M"),P=v("%I %p"),M=v("%a %d"),G=v("%b %d"),B=v("%B"),U=v("%Y");function j(Z){return(g(Z)<Z?S:f(Z)<Z?x:h(Z)<Z?O:u(Z)<Z?P:s(Z)<Z?a(Z)<Z?M:G:r(Z)<Z?B:U)(Z)}return p.invert=function(Z){return new Date(E(Z))},p.domain=function(Z){return arguments.length?T(Array.from(Z,v5)):T().map(t$)},p.ticks=function(Z){var ee=T();return e(ee[0],ee[ee.length-1],Z??10)},p.tickFormat=function(Z,ee){return ee==null?j:v(ee)},p.nice=function(Z){var ee=T();return(!Z||typeof Z.range!="function")&&(Z=t(ee[0],ee[ee.length-1],Z??10)),Z?T(Qb(ee,Z)):p},p.copy=function(){return f0(p,ZD(e,t,r,s,a,u,h,f,g,v))},p}function r$(){return ms.apply(ZD(KL,SG,Mf,oS,Oo,r1,ND,RD,bh,m5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y5(){return ms.apply(ZD(EG,BD,Lf,FD,aS,Uo,MD,PD,bh,g5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jd(){var e=0,t=1,r,s,a,u,h=ts,f=!1,g;function v(E){return E==null||isNaN(E=+E)?g:h(a===0?.5:(E=(u(E)-r)*a,f?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([e,t]=E,r=u(e=+e),s=u(t=+t),a=r===s?0:1/(s-r),v):[e,t]},v.clamp=function(E){return arguments.length?(f=!!E,v):f},v.interpolator=function(E){return arguments.length?(h=E,v):h};function p(E){return function(T){var S,x;return arguments.length?([S,x]=T,h=E(S,x),v):[h(0),h(1)]}}return v.range=p(Dc),v.rangeRound=p(fD),v.unknown=function(E){return arguments.length?(g=E,v):g},function(E){return u=E,r=E(e),s=E(t),a=r===s?0:1/(s-r),v}}function Ru(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function b5(){var e=gh(Jd()(ts));return e.copy=function(){return Ru(e,b5())},ch.apply(e,arguments)}function _5(){var e=m0(Jd()).domain([1,10]);return e.copy=function(){return Ru(e,_5()).base(e.base())},ch.apply(e,arguments)}function T5(){var e=e1(Jd());return e.copy=function(){return Ru(e,T5()).constant(e.constant())},ch.apply(e,arguments)}function _0(){var e=t1(Jd());return e.copy=function(){return Ru(e,_0()).exponent(e.exponent())},ch.apply(e,arguments)}function n$(){return _0.apply(null,arguments).exponent(.5)}function KD(){var e=[],t=ts;function r(s){if(s!=null&&!isNaN(s=+s))return t((Cc(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oi),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,u)=>Hb(e,u/s))},r.copy=function(){return KD(t).domain(e)},ch.apply(r,arguments)}function hS(){var e=0,t=.5,r=1,s=1,a,u,h,f,g,v=ts,p,E=!1,T;function S(O){return isNaN(O=+O)?T:(O=.5+((O=+p(O))-u)*(s*O<s*u?f:g),v(E?Math.max(0,Math.min(1,O)):O))}S.domain=function(O){return arguments.length?([e,t,r]=O,a=p(e=+e),u=p(t=+t),h=p(r=+r),f=a===u?0:.5/(u-a),g=u===h?0:.5/(h-u),s=u<a?-1:1,S):[e,t,r]},S.clamp=function(O){return arguments.length?(E=!!O,S):E},S.interpolator=function(O){return arguments.length?(v=O,S):v};function x(O){return function(P){var M,G,B;return arguments.length?([M,G,B]=P,v=GL(O,[M,G,B]),S):[v(0),v(.5),v(1)]}}return S.range=x(Dc),S.rangeRound=x(fD),S.unknown=function(O){return arguments.length?(T=O,S):T},function(O){return p=O,a=O(e),u=O(t),h=O(r),f=a===u?0:.5/(u-a),g=u===h?0:.5/(h-u),s=u<a?-1:1,S}}function QD(){var e=gh(hS()(ts));return e.copy=function(){return Ru(e,QD())},ch.apply(e,arguments)}function JD(){var e=m0(hS()).domain([.1,1,10]);return e.copy=function(){return Ru(e,JD()).base(e.base())},ch.apply(e,arguments)}function E5(){var e=e1(hS());return e.copy=function(){return Ru(e,E5()).constant(e.constant())},ch.apply(e,arguments)}function eO(){var e=t1(hS());return e.copy=function(){return Ru(e,eO()).exponent(e.exponent())},ch.apply(e,arguments)}function i$(){return eO.apply(null,arguments).exponent(.5)}const a$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zm,scalePoint:a0,scaleIdentity:ED,scaleLinear:Rn,scaleLog:Rf,scaleSymlog:CD,scaleOrdinal:Ub,scaleImplicit:iD,scalePow:eS,scaleSqrt:qL,scaleRadial:La,scaleQuantile:xD,scaleQuantize:oa,scaleThreshold:dg,scaleTime:r$,scaleUtc:y5,scaleSequential:b5,scaleSequentialLog:_5,scaleSequentialPow:_0,scaleSequentialSqrt:n$,scaleSequentialSymlog:T5,scaleSequentialQuantile:KD,scaleDiverging:QD,scaleDivergingLog:JD,scaleDivergingPow:eO,scaleDivergingSqrt:i$,scaleDivergingSymlog:E5,tickFormat:Kb},Symbol.toStringTag,{value:"Module"}));var S5={exports:{}},c1={},fS,o$=new Uint8Array(16);function A5(){if(!fS&&(fS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!fS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fS(o$)}const s$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zs(e){return typeof e=="string"&&s$.test(e)}for(var rs=[],yg=0;yg<256;++yg)rs.push((yg+256).toString(16).substr(1));function h1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(rs[e[t+0]]+rs[e[t+1]]+rs[e[t+2]]+rs[e[t+3]]+"-"+rs[e[t+4]]+rs[e[t+5]]+"-"+rs[e[t+6]]+rs[e[t+7]]+"-"+rs[e[t+8]]+rs[e[t+9]]+"-"+rs[e[t+10]]+rs[e[t+11]]+rs[e[t+12]]+rs[e[t+13]]+rs[e[t+14]]+rs[e[t+15]]).toLowerCase();if(!zs(r))throw TypeError("Stringified UUID is invalid");return r}var w5,dS,tO=0,rO=0;function l$(e,t,r){var s=t&&r||0,a=t||new Array(16);e=e||{};var u=e.node||w5,h=e.clockseq!==void 0?e.clockseq:dS;if(u==null||h==null){var f=e.random||(e.rng||A5)();u==null&&(u=w5=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),h==null&&(h=dS=(f[6]<<8|f[7])&16383)}var g=e.msecs!==void 0?e.msecs:Date.now(),v=e.nsecs!==void 0?e.nsecs:rO+1,p=g-tO+(v-rO)/1e4;if(p<0&&e.clockseq===void 0&&(h=h+1&16383),(p<0||g>tO)&&e.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tO=g,rO=v,dS=h,g+=122192928e5;var E=((g&268435455)*1e4+v)%4294967296;a[s++]=E>>>24&255,a[s++]=E>>>16&255,a[s++]=E>>>8&255,a[s++]=E&255;var T=g/4294967296*1e4&268435455;a[s++]=T>>>8&255,a[s++]=T&255,a[s++]=T>>>24&15|16,a[s++]=T>>>16&255,a[s++]=h>>>8|128,a[s++]=h&255;for(var S=0;S<6;++S)a[s+S]=u[S];return t||h1(a)}function nO(e){if(!zs(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function C5(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var u$="6ba7b810-9dad-11d1-80b4-00c04fd430c8",c$="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function iO(e,t,r){function s(a,u,h,f){if(typeof a=="string"&&(a=C5(a)),typeof u=="string"&&(u=nO(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+a.length);if(g.set(u),g.set(a,u.length),g=r(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,h){f=f||0;for(var v=0;v<16;++v)h[f+v]=g[v];return h}return h1(g)}try{s.name=e}catch{}return s.DNS=u$,s.URL=c$,s}function aO(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return h$(f$(d$(e),e.length*8))}function h$(e){for(var t=[],r=e.length*32,s="0123456789abcdef",a=0;a<r;a+=8){var u=e[a>>5]>>>a%32&255,h=parseInt(s.charAt(u>>>4&15)+s.charAt(u&15),16);t.push(h)}return t}function x5(e){return(e+64>>>9<<4)+14+1}function f$(e,t){e[t>>5]|=128<<t%32,e[x5(t)-1]=t;for(var r=1732584193,s=-271733879,a=-1732584194,u=271733878,h=0;h<e.length;h+=16){var f=r,g=s,v=a,p=u;r=$o(r,s,a,u,e[h],7,-680876936),u=$o(u,r,s,a,e[h+1],12,-389564586),a=$o(a,u,r,s,e[h+2],17,606105819),s=$o(s,a,u,r,e[h+3],22,-1044525330),r=$o(r,s,a,u,e[h+4],7,-176418897),u=$o(u,r,s,a,e[h+5],12,1200080426),a=$o(a,u,r,s,e[h+6],17,-1473231341),s=$o(s,a,u,r,e[h+7],22,-45705983),r=$o(r,s,a,u,e[h+8],7,1770035416),u=$o(u,r,s,a,e[h+9],12,-1958414417),a=$o(a,u,r,s,e[h+10],17,-42063),s=$o(s,a,u,r,e[h+11],22,-1990404162),r=$o(r,s,a,u,e[h+12],7,1804603682),u=$o(u,r,s,a,e[h+13],12,-40341101),a=$o(a,u,r,s,e[h+14],17,-1502002290),s=$o(s,a,u,r,e[h+15],22,1236535329),r=vo(r,s,a,u,e[h+1],5,-165796510),u=vo(u,r,s,a,e[h+6],9,-1069501632),a=vo(a,u,r,s,e[h+11],14,643717713),s=vo(s,a,u,r,e[h],20,-373897302),r=vo(r,s,a,u,e[h+5],5,-701558691),u=vo(u,r,s,a,e[h+10],9,38016083),a=vo(a,u,r,s,e[h+15],14,-660478335),s=vo(s,a,u,r,e[h+4],20,-405537848),r=vo(r,s,a,u,e[h+9],5,568446438),u=vo(u,r,s,a,e[h+14],9,-1019803690),a=vo(a,u,r,s,e[h+3],14,-187363961),s=vo(s,a,u,r,e[h+8],20,1163531501),r=vo(r,s,a,u,e[h+13],5,-1444681467),u=vo(u,r,s,a,e[h+2],9,-51403784),a=vo(a,u,r,s,e[h+7],14,1735328473),s=vo(s,a,u,r,e[h+12],20,-1926607734),r=zo(r,s,a,u,e[h+5],4,-378558),u=zo(u,r,s,a,e[h+8],11,-2022574463),a=zo(a,u,r,s,e[h+11],16,1839030562),s=zo(s,a,u,r,e[h+14],23,-35309556),r=zo(r,s,a,u,e[h+1],4,-1530992060),u=zo(u,r,s,a,e[h+4],11,1272893353),a=zo(a,u,r,s,e[h+7],16,-155497632),s=zo(s,a,u,r,e[h+10],23,-1094730640),r=zo(r,s,a,u,e[h+13],4,681279174),u=zo(u,r,s,a,e[h],11,-358537222),a=zo(a,u,r,s,e[h+3],16,-722521979),s=zo(s,a,u,r,e[h+6],23,76029189),r=zo(r,s,a,u,e[h+9],4,-640364487),u=zo(u,r,s,a,e[h+12],11,-421815835),a=zo(a,u,r,s,e[h+15],16,530742520),s=zo(s,a,u,r,e[h+2],23,-995338651),r=gs(r,s,a,u,e[h],6,-198630844),u=gs(u,r,s,a,e[h+7],10,1126891415),a=gs(a,u,r,s,e[h+14],15,-1416354905),s=gs(s,a,u,r,e[h+5],21,-57434055),r=gs(r,s,a,u,e[h+12],6,1700485571),u=gs(u,r,s,a,e[h+3],10,-1894986606),a=gs(a,u,r,s,e[h+10],15,-1051523),s=gs(s,a,u,r,e[h+1],21,-2054922799),r=gs(r,s,a,u,e[h+8],6,1873313359),u=gs(u,r,s,a,e[h+15],10,-30611744),a=gs(a,u,r,s,e[h+6],15,-1560198380),s=gs(s,a,u,r,e[h+13],21,1309151649),r=gs(r,s,a,u,e[h+4],6,-145523070),u=gs(u,r,s,a,e[h+11],10,-1120210379),a=gs(a,u,r,s,e[h+2],15,718787259),s=gs(s,a,u,r,e[h+9],21,-343485551),r=ep(r,f),s=ep(s,g),a=ep(a,v),u=ep(u,p)}return[r,s,a,u]}function d$(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(x5(t)),s=0;s<t;s+=8)r[s>>5]|=(e[s/8]&255)<<s%32;return r}function ep(e,t){var r=(e&65535)+(t&65535),s=(e>>16)+(t>>16)+(r>>16);return s<<16|r&65535}function p$(e,t){return e<<t|e>>>32-t}function Bf(e,t,r,s,a,u){return ep(p$(ep(ep(t,e),ep(s,u)),a),r)}function $o(e,t,r,s,a,u,h){return Bf(t&r|~t&s,e,t,a,u,h)}function vo(e,t,r,s,a,u,h){return Bf(t&s|r&~s,e,t,a,u,h)}function zo(e,t,r,s,a,u,h){return Bf(t^r^s,e,t,a,u,h)}function gs(e,t,r,s,a,u,h){return Bf(r^(t|~s),e,t,a,u,h)}var m$=iO("v3",48,aO);const I5=m$;function g$(e,t,r){e=e||{};var s=e.random||(e.rng||A5)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=s[a];return t}return h1(s)}function v$(e,t,r,s){switch(e){case 0:return t&r^~t&s;case 1:return t^r^s;case 2:return t&r^t&s^r&s;case 3:return t^r^s}}function oO(e,t){return e<<t|e>>>32-t}function f1(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var s=unescape(encodeURIComponent(e));e=[];for(var a=0;a<s.length;++a)e.push(s.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var u=e.length/4+2,h=Math.ceil(u/16),f=new Array(h),g=0;g<h;++g){for(var v=new Uint32Array(16),p=0;p<16;++p)v[p]=e[g*64+p*4]<<24|e[g*64+p*4+1]<<16|e[g*64+p*4+2]<<8|e[g*64+p*4+3];f[g]=v}f[h-1][14]=(e.length-1)*8/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=(e.length-1)*8&4294967295;for(var E=0;E<h;++E){for(var T=new Uint32Array(80),S=0;S<16;++S)T[S]=f[E][S];for(var x=16;x<80;++x)T[x]=oO(T[x-3]^T[x-8]^T[x-14]^T[x-16],1);for(var O=r[0],P=r[1],M=r[2],G=r[3],B=r[4],U=0;U<80;++U){var j=Math.floor(U/20),Z=oO(O,5)+v$(j,P,M,G)+B+t[j]+T[U]>>>0;B=G,G=M,M=oO(P,30)>>>0,P=O,O=Z}r[0]=r[0]+O>>>0,r[1]=r[1]+P>>>0,r[2]=r[2]+M>>>0,r[3]=r[3]+G>>>0,r[4]=r[4]+B>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var D5=iO("v5",80,f1);const O5=D5,y$="00000000-0000-0000-0000-000000000000";function k5(e){if(!zs(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var d1=ot(Object.freeze(Object.defineProperty({__proto__:null,v1:l$,v3:I5,v4:g$,v5:O5,NIL:y$,version:k5,validate:zs,stringify:h1,parse:nO},Symbol.toStringTag,{value:"Module"}))),pS=(()=>typeof Buffer<"u"?e=>Buffer.from(e).toString("base64"):e=>btoa(String.fromCharCode(...e)))(),R5=(()=>typeof Buffer<"u"?e=>Buffer.from(e,"base64"):e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)))();c1.encode=function(e){var t=d1.parse(e),r=pS(t),s=r.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return s},c1.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return d1.stringify(R5(t))},c1.v4=function(){var e=d1.v4(null,new Uint8Array(16)),t=pS(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r},c1.nice=function(){var e=d1.v4(null,new Uint8Array(16));e[0]=e[0]&127;var t=pS(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r},function(e){e.exports=c1}(S5);const Yn=Ke(S5.exports);var sO={exports:{}},p1={},Eh={exports:{}};(function(e,t){var r=200,s="__lodash_hash_undefined__",a=1,u=2,h=9007199254740991,f="[object Arguments]",g="[object Array]",v="[object AsyncFunction]",p="[object Boolean]",E="[object Date]",T="[object Error]",S="[object Function]",x="[object GeneratorFunction]",O="[object Map]",P="[object Number]",M="[object Null]",G="[object Object]",B="[object Promise]",U="[object Proxy]",j="[object RegExp]",Z="[object Set]",ee="[object String]",J="[object Symbol]",he="[object Undefined]",pe="[object WeakMap]",ae="[object ArrayBuffer]",ye="[object DataView]",Ee="[object Float32Array]",ue="[object Float64Array]",be="[object Int8Array]",Me="[object Int16Array]",Xe="[object Int32Array]",rt="[object Uint8Array]",st="[object Uint8ClampedArray]",mt="[object Uint16Array]",kt="[object Uint32Array]",Le=/[\\^$.*+?()[\]{}|]/g,Ie=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,Fe={};Fe[Ee]=Fe[ue]=Fe[be]=Fe[Me]=Fe[Xe]=Fe[rt]=Fe[st]=Fe[mt]=Fe[kt]=!0,Fe[f]=Fe[g]=Fe[ae]=Fe[p]=Fe[ye]=Fe[E]=Fe[T]=Fe[S]=Fe[O]=Fe[P]=Fe[G]=Fe[j]=Fe[Z]=Fe[ee]=Fe[pe]=!1;var dt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Et=typeof self=="object"&&self&&self.Object===Object&&self,Vt=dt||Et||Function("return this")(),Ft=t&&!t.nodeType&&t,qt=Ft&&!0&&e&&!e.nodeType&&e,Sr=qt&&qt.exports===Ft,jt=Sr&&dt.process,Hr=function(){try{return jt&&jt.binding&&jt.binding("util")}catch{}}(),Cr=Hr&&Hr.isTypedArray;function On(Ze,xt){for(var ur=-1,Wr=Ze==null?0:Ze.length,za=0,Zn=[];++ur<Wr;){var So=Ze[ur];xt(So,ur,Ze)&&(Zn[za++]=So)}return Zn}function sn(Ze,xt){for(var ur=-1,Wr=xt.length,za=Ze.length;++ur<Wr;)Ze[za+ur]=xt[ur];return Ze}function Ur(Ze,xt){for(var ur=-1,Wr=Ze==null?0:Ze.length;++ur<Wr;)if(xt(Ze[ur],ur,Ze))return!0;return!1}function Bn(Ze,xt){for(var ur=-1,Wr=Array(Ze);++ur<Ze;)Wr[ur]=xt(ur);return Wr}function Mn(Ze){return function(xt){return Ze(xt)}}function ci(Ze,xt){return Ze.has(xt)}function Ja(Ze,xt){return Ze==null?void 0:Ze[xt]}function kn(Ze){var xt=-1,ur=Array(Ze.size);return Ze.forEach(function(Wr,za){ur[++xt]=[za,Wr]}),ur}function Ht(Ze,xt){return function(ur){return Ze(xt(ur))}}function Ve(Ze){var xt=-1,ur=Array(Ze.size);return Ze.forEach(function(Wr){ur[++xt]=Wr}),ur}var et=Array.prototype,_t=Function.prototype,ne=Object.prototype,X=Vt["__core-js_shared__"],Q=_t.toString,_e=ne.hasOwnProperty,ze=function(){var Ze=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return Ze?"Symbol(src)_1."+Ze:""}(),tt=ne.toString,yt=RegExp("^"+Q.call(_e).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=Sr?Vt.Buffer:void 0,Mr=Vt.Symbol,qr=Vt.Uint8Array,jr=ne.propertyIsEnumerable,on=et.splice,eo=Mr?Mr.toStringTag:void 0,tl=Object.getOwnPropertySymbols,Kc=_r?_r.isBuffer:void 0,xl=Ht(Object.keys,Object),Il=Tx(Vt,"DataView"),Mt=Tx(Vt,"Map"),gt=Tx(Vt,"Promise"),Re=Tx(Vt,"Set"),Pe=Tx(Vt,"WeakMap"),ct=Tx(Object,"create"),Ct=bT(Il),Dt=bT(Mt),At=bT(gt),ut=bT(Re),bt=bT(Pe),De=Mr?Mr.prototype:void 0,we=De?De.valueOf:void 0;function Ye(Ze){var xt=-1,ur=Ze==null?0:Ze.length;for(this.clear();++xt<ur;){var Wr=Ze[xt];this.set(Wr[0],Wr[1])}}function wt(){this.__data__=ct?ct(null):{},this.size=0}function It(Ze){var xt=this.has(Ze)&&delete this.__data__[Ze];return this.size-=xt?1:0,xt}function Er(Ze){var xt=this.__data__;if(ct){var ur=xt[Ze];return ur===s?void 0:ur}return _e.call(xt,Ze)?xt[Ze]:void 0}function Ar(Ze){var xt=this.__data__;return ct?xt[Ze]!==void 0:_e.call(xt,Ze)}function dn(Ze,xt){var ur=this.__data__;return this.size+=this.has(Ze)?0:1,ur[Ze]=ct&&xt===void 0?s:xt,this}Ye.prototype.clear=wt,Ye.prototype.delete=It,Ye.prototype.get=Er,Ye.prototype.has=Ar,Ye.prototype.set=dn;function Ln(Ze){var xt=-1,ur=Ze==null?0:Ze.length;for(this.clear();++xt<ur;){var Wr=Ze[xt];this.set(Wr[0],Wr[1])}}function pi(){this.__data__=[],this.size=0}function Dn(Ze){var xt=this.__data__,ur=rl(xt,Ze);if(ur<0)return!1;var Wr=xt.length-1;return ur==Wr?xt.pop():on.call(xt,ur,1),--this.size,!0}function ai(Ze){var xt=this.__data__,ur=rl(xt,Ze);return ur<0?void 0:xt[ur][1]}function Fi(Ze){return rl(this.__data__,Ze)>-1}function pn(Ze,xt){var ur=this.__data__,Wr=rl(ur,Ze);return Wr<0?(++this.size,ur.push([Ze,xt])):ur[Wr][1]=xt,this}Ln.prototype.clear=pi,Ln.prototype.delete=Dn,Ln.prototype.get=ai,Ln.prototype.has=Fi,Ln.prototype.set=pn;function hi(Ze){var xt=-1,ur=Ze==null?0:Ze.length;for(this.clear();++xt<ur;){var Wr=Ze[xt];this.set(Wr[0],Wr[1])}}function Bi(){this.size=0,this.__data__={hash:new Ye,map:new(Mt||Ln),string:new Ye}}function Vi(Ze){var xt=D8(this,Ze).delete(Ze);return this.size-=xt?1:0,xt}function $a(Ze){return D8(this,Ze).get(Ze)}function Dl(Ze){return D8(this,Ze).has(Ze)}function pr(Ze,xt){var ur=D8(this,Ze),Wr=ur.size;return ur.set(Ze,xt),this.size+=ur.size==Wr?0:1,this}hi.prototype.clear=Bi,hi.prototype.delete=Vi,hi.prototype.get=$a,hi.prototype.has=Dl,hi.prototype.set=pr;function Xr(Ze){var xt=-1,ur=Ze==null?0:Ze.length;for(this.__data__=new hi;++xt<ur;)this.add(Ze[xt])}function qn(Ze){return this.__data__.set(Ze,s),this}function Hn(Ze){return this.__data__.has(Ze)}Xr.prototype.add=Xr.prototype.push=qn,Xr.prototype.has=Hn;function bn(Ze){var xt=this.__data__=new Ln(Ze);this.size=xt.size}function mi(){this.__data__=new Ln,this.size=0}function Xn(Ze){var xt=this.__data__,ur=xt.delete(Ze);return this.size=xt.size,ur}function Jn(Ze){return this.__data__.get(Ze)}function Si(Ze){return this.__data__.has(Ze)}function ji(Ze,xt){var ur=this.__data__;if(ur instanceof Ln){var Wr=ur.__data__;if(!Mt||Wr.length<r-1)return Wr.push([Ze,xt]),this.size=++ur.size,this;ur=this.__data__=new hi(Wr)}return ur.set(Ze,xt),this.size=ur.size,this}bn.prototype.clear=mi,bn.prototype.delete=Xn,bn.prototype.get=Jn,bn.prototype.has=Si,bn.prototype.set=ji;function Wi(Ze,xt){var ur=O8(Ze),Wr=!ur&&ynt(Ze),za=!ur&&!Wr&&iZ(Ze),Zn=!ur&&!Wr&&!za&&$ve(Ze),So=ur||Wr||za||Zn,Cs=So?Bn(Ze.length,String):[],nl=Cs.length;for(var fo in Ze)(xt||_e.call(Ze,fo))&&!(So&&(fo=="length"||za&&(fo=="offset"||fo=="parent")||Zn&&(fo=="buffer"||fo=="byteLength"||fo=="byteOffset")||dnt(fo,nl)))&&Cs.push(fo);return Cs}function rl(Ze,xt){for(var ur=Ze.length;ur--;)if(Bve(Ze[ur][0],xt))return ur;return-1}function Zh(Ze,xt,ur){var Wr=xt(Ze);return O8(Ze)?Wr:sn(Wr,ur(Ze))}function Jy(Ze){return Ze==null?Ze===void 0?he:M:eo&&eo in Object(Ze)?hnt(Ze):vnt(Ze)}function n2(Ze){return i2(Ze)&&Jy(Ze)==f}function eb(Ze,xt,ur,Wr,za){return Ze===xt?!0:Ze==null||xt==null||!i2(Ze)&&!i2(xt)?Ze!==Ze&&xt!==xt:ant(Ze,xt,ur,Wr,eb,za)}function ant(Ze,xt,ur,Wr,za,Zn){var So=O8(Ze),Cs=O8(xt),nl=So?g:tb(Ze),fo=Cs?g:tb(xt);nl=nl==f?G:nl,fo=fo==f?G:fo;var Qc=nl==G,Td=fo==G,Ol=nl==fo;if(Ol&&iZ(Ze)){if(!iZ(xt))return!1;So=!0,Qc=!1}if(Ol&&!Qc)return Zn||(Zn=new bn),So||$ve(Ze)?Lve(Ze,xt,ur,Wr,za,Zn):unt(Ze,xt,nl,ur,Wr,za,Zn);if(!(ur&a)){var Kh=Qc&&_e.call(Ze,"__wrapped__"),Qh=Td&&_e.call(xt,"__wrapped__");if(Kh||Qh){var rb=Kh?Ze.value():Ze,vv=Qh?xt.value():xt;return Zn||(Zn=new bn),za(rb,vv,ur,Wr,Zn)}}return Ol?(Zn||(Zn=new bn),cnt(Ze,xt,ur,Wr,za,Zn)):!1}function ont(Ze){if(!Gve(Ze)||mnt(Ze))return!1;var xt=Hve(Ze)?yt:Ie;return xt.test(bT(Ze))}function snt(Ze){return i2(Ze)&&Uve(Ze.length)&&!!Fe[Jy(Ze)]}function lnt(Ze){if(!gnt(Ze))return xl(Ze);var xt=[];for(var ur in Object(Ze))_e.call(Ze,ur)&&ur!="constructor"&&xt.push(ur);return xt}function Lve(Ze,xt,ur,Wr,za,Zn){var So=ur&a,Cs=Ze.length,nl=xt.length;if(Cs!=nl&&!(So&&nl>Cs))return!1;var fo=Zn.get(Ze);if(fo&&Zn.get(xt))return fo==xt;var Qc=-1,Td=!0,Ol=ur&u?new Xr:void 0;for(Zn.set(Ze,xt),Zn.set(xt,Ze);++Qc<Cs;){var Kh=Ze[Qc],Qh=xt[Qc];if(Wr)var rb=So?Wr(Qh,Kh,Qc,xt,Ze,Zn):Wr(Kh,Qh,Qc,Ze,xt,Zn);if(rb!==void 0){if(rb)continue;Td=!1;break}if(Ol){if(!Ur(xt,function(vv,_T){if(!ci(Ol,_T)&&(Kh===vv||za(Kh,vv,ur,Wr,Zn)))return Ol.push(_T)})){Td=!1;break}}else if(!(Kh===Qh||za(Kh,Qh,ur,Wr,Zn))){Td=!1;break}}return Zn.delete(Ze),Zn.delete(xt),Td}function unt(Ze,xt,ur,Wr,za,Zn,So){switch(ur){case ye:if(Ze.byteLength!=xt.byteLength||Ze.byteOffset!=xt.byteOffset)return!1;Ze=Ze.buffer,xt=xt.buffer;case ae:return!(Ze.byteLength!=xt.byteLength||!Zn(new qr(Ze),new qr(xt)));case p:case E:case P:return Bve(+Ze,+xt);case T:return Ze.name==xt.name&&Ze.message==xt.message;case j:case ee:return Ze==xt+"";case O:var Cs=kn;case Z:var nl=Wr&a;if(Cs||(Cs=Ve),Ze.size!=xt.size&&!nl)return!1;var fo=So.get(Ze);if(fo)return fo==xt;Wr|=u,So.set(Ze,xt);var Qc=Lve(Cs(Ze),Cs(xt),Wr,za,Zn,So);return So.delete(Ze),Qc;case J:if(we)return we.call(Ze)==we.call(xt)}return!1}function cnt(Ze,xt,ur,Wr,za,Zn){var So=ur&a,Cs=Fve(Ze),nl=Cs.length,fo=Fve(xt),Qc=fo.length;if(nl!=Qc&&!So)return!1;for(var Td=nl;Td--;){var Ol=Cs[Td];if(!(So?Ol in xt:_e.call(xt,Ol)))return!1}var Kh=Zn.get(Ze);if(Kh&&Zn.get(xt))return Kh==xt;var Qh=!0;Zn.set(Ze,xt),Zn.set(xt,Ze);for(var rb=So;++Td<nl;){Ol=Cs[Td];var vv=Ze[Ol],_T=xt[Ol];if(Wr)var zve=So?Wr(_T,vv,Ol,xt,Ze,Zn):Wr(vv,_T,Ol,Ze,xt,Zn);if(!(zve===void 0?vv===_T||za(vv,_T,ur,Wr,Zn):zve)){Qh=!1;break}rb||(rb=Ol=="constructor")}if(Qh&&!rb){var k8=Ze.constructor,R8=xt.constructor;k8!=R8&&"constructor"in Ze&&"constructor"in xt&&!(typeof k8=="function"&&k8 instanceof k8&&typeof R8=="function"&&R8 instanceof R8)&&(Qh=!1)}return Zn.delete(Ze),Zn.delete(xt),Qh}function Fve(Ze){return Zh(Ze,Tnt,fnt)}function D8(Ze,xt){var ur=Ze.__data__;return pnt(xt)?ur[typeof xt=="string"?"string":"hash"]:ur.map}function Tx(Ze,xt){var ur=Ja(Ze,xt);return ont(ur)?ur:void 0}function hnt(Ze){var xt=_e.call(Ze,eo),ur=Ze[eo];try{Ze[eo]=void 0;var Wr=!0}catch{}var za=tt.call(Ze);return Wr&&(xt?Ze[eo]=ur:delete Ze[eo]),za}var fnt=tl?function(Ze){return Ze==null?[]:(Ze=Object(Ze),On(tl(Ze),function(xt){return jr.call(Ze,xt)}))}:Ent,tb=Jy;(Il&&tb(new Il(new ArrayBuffer(1)))!=ye||Mt&&tb(new Mt)!=O||gt&&tb(gt.resolve())!=B||Re&&tb(new Re)!=Z||Pe&&tb(new Pe)!=pe)&&(tb=function(Ze){var xt=Jy(Ze),ur=xt==G?Ze.constructor:void 0,Wr=ur?bT(ur):"";if(Wr)switch(Wr){case Ct:return ye;case Dt:return O;case At:return B;case ut:return Z;case bt:return pe}return xt});function dnt(Ze,xt){return xt=xt??h,!!xt&&(typeof Ze=="number"||Ne.test(Ze))&&Ze>-1&&Ze%1==0&&Ze<xt}function pnt(Ze){var xt=typeof Ze;return xt=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?Ze!=="__proto__":Ze===null}function mnt(Ze){return!!ze&&ze in Ze}function gnt(Ze){var xt=Ze&&Ze.constructor,ur=typeof xt=="function"&&xt.prototype||ne;return Ze===ur}function vnt(Ze){return tt.call(Ze)}function bT(Ze){if(Ze!=null){try{return Q.call(Ze)}catch{}try{return Ze+""}catch{}}return""}function Bve(Ze,xt){return Ze===xt||Ze!==Ze&&xt!==xt}var ynt=n2(function(){return arguments}())?n2:function(Ze){return i2(Ze)&&_e.call(Ze,"callee")&&!jr.call(Ze,"callee")},O8=Array.isArray;function bnt(Ze){return Ze!=null&&Uve(Ze.length)&&!Hve(Ze)}var iZ=Kc||Snt;function _nt(Ze,xt){return eb(Ze,xt)}function Hve(Ze){if(!Gve(Ze))return!1;var xt=Jy(Ze);return xt==S||xt==x||xt==v||xt==U}function Uve(Ze){return typeof Ze=="number"&&Ze>-1&&Ze%1==0&&Ze<=h}function Gve(Ze){var xt=typeof Ze;return Ze!=null&&(xt=="object"||xt=="function")}function i2(Ze){return Ze!=null&&typeof Ze=="object"}var $ve=Cr?Mn(Cr):snt;function Tnt(Ze){return bnt(Ze)?Wi(Ze):lnt(Ze)}function Ent(){return[]}function Snt(){return!1}e.exports=_nt})(Eh,Eh.exports);var lO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s=[],a=0;a<arguments.length;a++){var u=arguments[a];if(u){var h=typeof u;if(h==="string"||h==="number")s.push(u);else if(Array.isArray(u)){if(u.length){var f=r.apply(null,u);f&&s.push(f)}}else if(h==="object"){if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]")){s.push(u.toString());continue}for(var g in u)t.call(u,g)&&u[g]&&s.push(g)}}}return s.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(lO);var di={};di.__esModule=!0,di.noop=void 0;var T0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};di.bottom=tp,di.cloneLayout=gS,di.cloneLayoutItem=Sh,di.childrenEqual=N5,di.collides=Ah,di.compact=rp,di.compactItem=yS,di.correctBounds=E0,di.getLayoutItem=m1,di.getFirstCollision=Hf,di.getAllCollisions=S0,di.getStatics=bS,di.moveElement=A0,di.moveElementAwayFromCollision=_S,di.perc=g1,di.setTransform=M5,di.setTopLeft=T$,di.sortLayoutItems=uO,di.sortLayoutItemsByRowCol=cO,di.sortLayoutItemsByColRow=L5,di.synchronizeLayoutWithChildren=TS,di.validateLayout=E$,di.autoBindHandlers=S$;var b$=Eh.exports,P5=Vs(b$),_$=F.default,mS=Vs(_$);function Vs(e){return e&&e.__esModule?e:{default:e}}function tp(e){for(var t=0,r=void 0,s=0,a=e.length;s<a;s++)r=e[s].y+e[s].h,r>t&&(t=r);return t}function gS(e){for(var t=Array(e.length),r=0,s=e.length;r<s;r++)t[r]=Sh(e[r]);return t}function Sh(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable}}function N5(e,t){return(0,P5.default)(mS.default.Children.map(e,function(r){return r.key}),mS.default.Children.map(t,function(r){return r.key}))}function Ah(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function rp(e,t,r){for(var s=bS(e),a=uO(e,t),u=Array(e.length),h=0,f=a.length;h<f;h++){var g=Sh(a[h]);g.static||(g=yS(s,g,t,r,a),s.push(g)),u[e.indexOf(a[h])]=g,g.moved=!1}return u}var vS={x:"w",y:"h"};function np(e,t,r,s){var a=vS[s];t[s]+=1;for(var u=e.indexOf(t),h=u+1;h<e.length;h++){var f=e[h];if(!f.static){if(f.y>t.y+t.h)break;Ah(t,f)&&np(e,f,r+t[a],s)}}t[s]=r}function yS(e,t,r,s,a){var u=r==="vertical",h=r==="horizontal";if(u)for(t.y=Math.min(tp(e),t.y);t.y>0&&!Hf(e,t);)t.y--;else if(h)for(t.y=Math.min(tp(e),t.y);t.x>0&&!Hf(e,t);)t.x--;for(var f=void 0;f=Hf(e,t);)h?np(a,t,f.x+f.w,"x"):np(a,t,f.y+f.h,"y"),h&&t.x+t.w>s&&(t.x=s-t.w,t.y++);return t}function E0(e,t){for(var r=bS(e),s=0,a=e.length;s<a;s++){var u=e[s];if(u.x+u.w>t.cols&&(u.x=t.cols-u.w),u.x<0&&(u.x=0,u.w=t.cols),!u.static)r.push(u);else for(;Hf(r,u);)u.y++}return e}function m1(e,t){for(var r=0,s=e.length;r<s;r++)if(e[r].i===t)return e[r]}function Hf(e,t){for(var r=0,s=e.length;r<s;r++)if(Ah(e[r],t))return e[r]}function S0(e,t){return e.filter(function(r){return Ah(r,t)})}function bS(e){return e.filter(function(t){return t.static})}function A0(e,t,r,s,a,u,h,f){if(t.static||t.y===s&&t.x===r)return e;""+t.i+String(r)+String(s)+t.x+t.y;var g=t.x,v=t.y;typeof r=="number"&&(t.x=r),typeof s=="number"&&(t.y=s),t.moved=!0;var p=uO(e,h),E=h==="vertical"&&typeof s=="number"?v>=s:h==="horizontal"&&typeof r=="number"?g>=r:!1;E&&(p=p.reverse());var T=S0(p,t);if(u&&T.length)return""+t.i,t.x=g,t.y=v,t.moved=!1,e;for(var S=0,x=T.length;S<x;S++){var O=T[S];""+t.i+t.x+t.y+O.i+O.x+O.y,!O.moved&&(O.static?e=_S(e,O,t,a,h):e=_S(e,t,O,a,h))}return e}function _S(e,t,r,s,a,u){var h=a==="horizontal",f=a==="vertical",g=!1;if(s){s=!1;var v={x:h?Math.max(t.x-r.w,0):r.x,y:f?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!Hf(e,v))return""+r.i+v.x+v.y,A0(e,r,h?v.x:void 0,f?v.y:void 0,s,g,a)}return A0(e,r,h?r.x+1:void 0,f?r.y+1:void 0,s,g,a)}function g1(e){return e*100+"%"}function M5(e){var t=e.top,r=e.left,s=e.width,a=e.height,u="translate("+r+"px,"+t+"px)";return{transform:u,WebkitTransform:u,MozTransform:u,msTransform:u,OTransform:u,width:s+"px",height:a+"px",position:"absolute"}}function T$(e){var t=e.top,r=e.left,s=e.width,a=e.height;return{top:t+"px",left:r+"px",width:s+"px",height:a+"px",position:"absolute"}}function uO(e,t){return t==="horizontal"?L5(e):cO(e)}function cO(e){return[].concat(e).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function L5(e){return[].concat(e).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function TS(e,t,r,s){e=e||[];var a=[];return mS.default.Children.forEach(t,function(u,h){var f=m1(e,String(u.key));if(f)a[h]=Sh(f);else{var g=u.props["data-grid"]||u.props._grid;g?a[h]=Sh(T0({},g,{i:u.key})):a[h]=Sh({w:1,h:1,x:0,y:tp(a),i:String(u.key)})}}),a=E0(a,{cols:r}),a=rp(a,s,r),a}function E$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var s=0,a=e.length;s<a;s++){for(var u=e[s],h=0;h<r.length;h++)if(typeof u[r[h]]!="number")throw new Error("ReactGridLayout: "+t+"["+s+"]."+r[h]+" must be a number!");if(u.i&&typeof u.i!="string")throw new Error("ReactGridLayout: "+t+"["+s+"].i must be a string!");if(u.static!==void 0&&typeof u.static!="boolean")throw new Error("ReactGridLayout: "+t+"["+s+"].static must be a boolean!")}}function S$(e,t){t.forEach(function(r){return e[r]=e[r].bind(e)})}function mre(){}di.noop=function(){};var hO={},F5={exports:{}};(function(e,t){(function(r,s){e.exports=s(Te.default,F.default)})(ve,function(r,s){r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s;function a(Re,Pe){return Pe={exports:{}},Re(Pe,Pe.exports),Pe.exports}function u(Re){return function(){return Re}}var h=function(){};h.thatReturns=u,h.thatReturnsFalse=u(!1),h.thatReturnsTrue=u(!0),h.thatReturnsNull=u(null),h.thatReturnsThis=function(){return this},h.thatReturnsArgument=function(Re){return Re};var f=h,g=function(Pe){};g=function(Pe){if(Pe===void 0)throw new Error("invariant requires an error message argument")};function v(Re,Pe,ct,Ct,Dt,At,ut,bt){if(g(Pe),!Re){var De;if(Pe===void 0)De=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var we=[ct,Ct,Dt,At,ut,bt],Ye=0;De=new Error(Pe.replace(/%s/g,function(){return we[Ye++]})),De.name="Invariant Violation"}throw De.framesToPop=1,De}}var p=v,E=f;{var T=function(Pe){for(var ct=arguments.length,Ct=Array(ct>1?ct-1:0),Dt=1;Dt<ct;Dt++)Ct[Dt-1]=arguments[Dt];var At=0,ut="Warning: "+Pe.replace(/%s/g,function(){return Ct[At++]});typeof console<"u"&&console.error(ut);try{throw new Error(ut)}catch{}};E=function(Pe,ct){if(ct===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(ct.indexOf("Failed Composite propType: ")!==0&&!Pe){for(var Ct=arguments.length,Dt=Array(Ct>2?Ct-2:0),At=2;At<Ct;At++)Dt[At-2]=arguments[At];T.apply(void 0,[ct].concat(Dt))}}}var S=E;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var x=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function M(Re){if(Re==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Re)}function G(){try{if(!Object.assign)return!1;var Re=new String("abc");if(Re[5]="de",Object.getOwnPropertyNames(Re)[0]==="5")return!1;for(var Pe={},ct=0;ct<10;ct++)Pe["_"+String.fromCharCode(ct)]=ct;var Ct=Object.getOwnPropertyNames(Pe).map(function(At){return Pe[At]});if(Ct.join("")!=="0123456789")return!1;var Dt={};return"abcdefghijklmnopqrst".split("").forEach(function(At){Dt[At]=At}),Object.keys(Object.assign({},Dt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var B=G()?Object.assign:function(Re,Pe){for(var ct,Ct=M(Re),Dt,At=1;At<arguments.length;At++){ct=Object(arguments[At]);for(var ut in ct)O.call(ct,ut)&&(Ct[ut]=ct[ut]);if(x){Dt=x(ct);for(var bt=0;bt<Dt.length;bt++)P.call(ct,Dt[bt])&&(Ct[Dt[bt]]=ct[Dt[bt]])}}return Ct},U="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j=U,Z=p,ee=S,J=j,he={};function pe(Re,Pe,ct,Ct,Dt){for(var At in Re)if(Re.hasOwnProperty(At)){var ut;try{Z(typeof Re[At]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",Ct||"React class",ct,At,typeof Re[At]),ut=Re[At](Pe,At,Ct,ct,null,J)}catch(De){ut=De}if(ee(!ut||ut instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ct||"React class",ct,At,typeof ut),ut instanceof Error&&!(ut.message in he)){he[ut.message]=!0;var bt=Dt?Dt():"";ee(!1,"Failed %s type: %s%s",ct,ut.message,bt??"")}}}var ae=pe,ye=function(Re,Pe){var ct=typeof Symbol=="function"&&Symbol.iterator,Ct="@@iterator";function Dt(pr){var Xr=pr&&(ct&&pr[ct]||pr[Ct]);if(typeof Xr=="function")return Xr}var At="<<anonymous>>",ut={array:Ye("array"),bool:Ye("boolean"),func:Ye("function"),number:Ye("number"),object:Ye("object"),string:Ye("string"),symbol:Ye("symbol"),any:wt(),arrayOf:It,element:Er(),instanceOf:Ar,node:Dn(),objectOf:Ln,oneOf:dn,oneOfType:pi,shape:ai,exact:Fi};function bt(pr,Xr){return pr===Xr?pr!==0||1/pr===1/Xr:pr!==pr&&Xr!==Xr}function De(pr){this.message=pr,this.stack=""}De.prototype=Error.prototype;function we(pr){var Xr={},qn=0;function Hn(mi,Xn,Jn,Si,ji,Wi,rl){if(Si=Si||At,Wi=Wi||Jn,rl!==j){if(Pe)p(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof console<"u"){var Zh=Si+":"+Jn;!Xr[Zh]&&qn<3&&(S(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Wi,Si),Xr[Zh]=!0,qn++)}}return Xn[Jn]==null?mi?Xn[Jn]===null?new De("The "+ji+" `"+Wi+"` is marked as required "+("in `"+Si+"`, but its value is `null`.")):new De("The "+ji+" `"+Wi+"` is marked as required in "+("`"+Si+"`, but its value is `undefined`.")):null:pr(Xn,Jn,Si,ji,Wi)}var bn=Hn.bind(null,!1);return bn.isRequired=Hn.bind(null,!0),bn}function Ye(pr){function Xr(qn,Hn,bn,mi,Xn,Jn){var Si=qn[Hn],ji=Bi(Si);if(ji!==pr){var Wi=Vi(Si);return new De("Invalid "+mi+" `"+Xn+"` of type "+("`"+Wi+"` supplied to `"+bn+"`, expected ")+("`"+pr+"`."))}return null}return we(Xr)}function wt(){return we(f.thatReturnsNull)}function It(pr){function Xr(qn,Hn,bn,mi,Xn){if(typeof pr!="function")return new De("Property `"+Xn+"` of component `"+bn+"` has invalid PropType notation inside arrayOf.");var Jn=qn[Hn];if(!Array.isArray(Jn)){var Si=Bi(Jn);return new De("Invalid "+mi+" `"+Xn+"` of type "+("`"+Si+"` supplied to `"+bn+"`, expected an array."))}for(var ji=0;ji<Jn.length;ji++){var Wi=pr(Jn,ji,bn,mi,Xn+"["+ji+"]",j);if(Wi instanceof Error)return Wi}return null}return we(Xr)}function Er(){function pr(Xr,qn,Hn,bn,mi){var Xn=Xr[qn];if(!Re(Xn)){var Jn=Bi(Xn);return new De("Invalid "+bn+" `"+mi+"` of type "+("`"+Jn+"` supplied to `"+Hn+"`, expected a single ReactElement."))}return null}return we(pr)}function Ar(pr){function Xr(qn,Hn,bn,mi,Xn){if(!(qn[Hn]instanceof pr)){var Jn=pr.name||At,Si=Dl(qn[Hn]);return new De("Invalid "+mi+" `"+Xn+"` of type "+("`"+Si+"` supplied to `"+bn+"`, expected ")+("instance of `"+Jn+"`."))}return null}return we(Xr)}function dn(pr){if(!Array.isArray(pr))return S(!1,"Invalid argument supplied to oneOf, expected an instance of array."),f.thatReturnsNull;function Xr(qn,Hn,bn,mi,Xn){for(var Jn=qn[Hn],Si=0;Si<pr.length;Si++)if(bt(Jn,pr[Si]))return null;var ji=JSON.stringify(pr);return new De("Invalid "+mi+" `"+Xn+"` of value `"+Jn+"` "+("supplied to `"+bn+"`, expected one of "+ji+"."))}return we(Xr)}function Ln(pr){function Xr(qn,Hn,bn,mi,Xn){if(typeof pr!="function")return new De("Property `"+Xn+"` of component `"+bn+"` has invalid PropType notation inside objectOf.");var Jn=qn[Hn],Si=Bi(Jn);if(Si!=="object")return new De("Invalid "+mi+" `"+Xn+"` of type "+("`"+Si+"` supplied to `"+bn+"`, expected an object."));for(var ji in Jn)if(Jn.hasOwnProperty(ji)){var Wi=pr(Jn,ji,bn,mi,Xn+"."+ji,j);if(Wi instanceof Error)return Wi}return null}return we(Xr)}function pi(pr){if(!Array.isArray(pr))return S(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),f.thatReturnsNull;for(var Xr=0;Xr<pr.length;Xr++){var qn=pr[Xr];if(typeof qn!="function")return S(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",$a(qn),Xr),f.thatReturnsNull}function Hn(bn,mi,Xn,Jn,Si){for(var ji=0;ji<pr.length;ji++){var Wi=pr[ji];if(Wi(bn,mi,Xn,Jn,Si,j)==null)return null}return new De("Invalid "+Jn+" `"+Si+"` supplied to "+("`"+Xn+"`."))}return we(Hn)}function Dn(){function pr(Xr,qn,Hn,bn,mi){return pn(Xr[qn])?null:new De("Invalid "+bn+" `"+mi+"` supplied to "+("`"+Hn+"`, expected a ReactNode."))}return we(pr)}function ai(pr){function Xr(qn,Hn,bn,mi,Xn){var Jn=qn[Hn],Si=Bi(Jn);if(Si!=="object")return new De("Invalid "+mi+" `"+Xn+"` of type `"+Si+"` "+("supplied to `"+bn+"`, expected `object`."));for(var ji in pr){var Wi=pr[ji];if(Wi){var rl=Wi(Jn,ji,bn,mi,Xn+"."+ji,j);if(rl)return rl}}return null}return we(Xr)}function Fi(pr){function Xr(qn,Hn,bn,mi,Xn){var Jn=qn[Hn],Si=Bi(Jn);if(Si!=="object")return new De("Invalid "+mi+" `"+Xn+"` of type `"+Si+"` "+("supplied to `"+bn+"`, expected `object`."));var ji=B({},qn[Hn],pr);for(var Wi in ji){var rl=pr[Wi];if(!rl)return new De("Invalid "+mi+" `"+Xn+"` key `"+Wi+"` supplied to `"+bn+"`.\nBad object: "+JSON.stringify(qn[Hn],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(pr),null,"  "));var Zh=rl(Jn,Wi,bn,mi,Xn+"."+Wi,j);if(Zh)return Zh}return null}return we(Xr)}function pn(pr){switch(typeof pr){case"number":case"string":case"undefined":return!0;case"boolean":return!pr;case"object":if(Array.isArray(pr))return pr.every(pn);if(pr===null||Re(pr))return!0;var Xr=Dt(pr);if(Xr){var qn=Xr.call(pr),Hn;if(Xr!==pr.entries){for(;!(Hn=qn.next()).done;)if(!pn(Hn.value))return!1}else for(;!(Hn=qn.next()).done;){var bn=Hn.value;if(bn&&!pn(bn[1]))return!1}}else return!1;return!0;default:return!1}}function hi(pr,Xr){return pr==="symbol"||Xr["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Xr instanceof Symbol}function Bi(pr){var Xr=typeof pr;return Array.isArray(pr)?"array":pr instanceof RegExp?"object":hi(Xr,pr)?"symbol":Xr}function Vi(pr){if(typeof pr>"u"||pr===null)return""+pr;var Xr=Bi(pr);if(Xr==="object"){if(pr instanceof Date)return"date";if(pr instanceof RegExp)return"regexp"}return Xr}function $a(pr){var Xr=Vi(pr);switch(Xr){case"array":case"object":return"an "+Xr;case"boolean":case"date":case"regexp":return"a "+Xr;default:return Xr}}function Dl(pr){return!pr.constructor||!pr.constructor.name?At:pr.constructor.name}return ut.checkPropTypes=ae,ut.PropTypes=ut,ut},Ee=a(function(Re){{var Pe=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,ct=function(Dt){return typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Pe},Ct=!0;Re.exports=ye(ct,Ct)}}),ue=a(function(Re){/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var Pe={}.hasOwnProperty;function ct(){for(var Ct=[],Dt=0;Dt<arguments.length;Dt++){var At=arguments[Dt];if(At){var ut=typeof At;if(ut==="string"||ut==="number")Ct.push(At);else if(Array.isArray(At))Ct.push(ct.apply(null,At));else if(ut==="object")for(var bt in At)Pe.call(At,bt)&&At[bt]&&Ct.push(bt)}}return Ct.join(" ")}Re.exports?Re.exports=ct:window.classNames=ct})()});function be(Re,Pe){for(var ct=0,Ct=Re.length;ct<Ct;ct++)if(Pe.apply(Pe,[Re[ct],ct,Re]))return Re[ct]}function Me(Re){return typeof Re=="function"||Object.prototype.toString.call(Re)==="[object Function]"}function Xe(Re){return typeof Re=="number"&&!isNaN(Re)}function rt(Re){return parseInt(Re,10)}function st(Re,Pe,ct){if(Re[Pe])return new Error("Invalid prop "+Pe+" passed to "+ct+" - do not set this, set it on the child.")}var mt=["Moz","Webkit","O","ms"];function kt(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var Pe=window.document.documentElement.style;if(Re in Pe)return"";for(var ct=0;ct<mt.length;ct++)if(Le(Re,mt[ct])in Pe)return mt[ct];return""}function Le(Re,Pe){return Pe?""+Pe+Ie(Re):Re}function Ie(Re){for(var Pe="",ct=!0,Ct=0;Ct<Re.length;Ct++)ct?(Pe+=Re[Ct].toUpperCase(),ct=!1):Re[Ct]==="-"?ct=!0:Pe+=Re[Ct];return Pe}var Ne=kt(),Fe=function(Re,Pe){if(!(Re instanceof Pe))throw new TypeError("Cannot call a class as a function")},dt=function(){function Re(Pe,ct){for(var Ct=0;Ct<ct.length;Ct++){var Dt=ct[Ct];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Pe,Dt.key,Dt)}}return function(Pe,ct,Ct){return ct&&Re(Pe.prototype,ct),Ct&&Re(Pe,Ct),Pe}}(),Et=function(Re,Pe,ct){return Pe in Re?Object.defineProperty(Re,Pe,{value:ct,enumerable:!0,configurable:!0,writable:!0}):Re[Pe]=ct,Re},Vt=Object.assign||function(Re){for(var Pe=1;Pe<arguments.length;Pe++){var ct=arguments[Pe];for(var Ct in ct)Object.prototype.hasOwnProperty.call(ct,Ct)&&(Re[Ct]=ct[Ct])}return Re},Ft=function(Re,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pe);Re.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:Re,enumerable:!1,writable:!0,configurable:!0}}),Pe&&(Object.setPrototypeOf?Object.setPrototypeOf(Re,Pe):Re.__proto__=Pe)},qt=function(Re,Pe){if(!Re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe&&(typeof Pe=="object"||typeof Pe=="function")?Pe:Re},Sr=function(){function Re(Pe,ct){var Ct=[],Dt=!0,At=!1,ut=void 0;try{for(var bt=Pe[Symbol.iterator](),De;!(Dt=(De=bt.next()).done)&&(Ct.push(De.value),!(ct&&Ct.length===ct));Dt=!0);}catch(we){At=!0,ut=we}finally{try{!Dt&&bt.return&&bt.return()}finally{if(At)throw ut}}return Ct}return function(Pe,ct){if(Array.isArray(Pe))return Pe;if(Symbol.iterator in Object(Pe))return Re(Pe,ct);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jt="";function Hr(Re,Pe){return jt||(jt=be(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ct){return Me(Re[ct])})),Me(Re[jt])?Re[jt](Pe):!1}function Cr(Re,Pe,ct){var Ct=Re;do{if(Hr(Ct,Pe))return!0;if(Ct===ct)return!1;Ct=Ct.parentNode}while(Ct);return!1}function On(Re,Pe,ct){Re&&(Re.attachEvent?Re.attachEvent("on"+Pe,ct):Re.addEventListener?Re.addEventListener(Pe,ct,!0):Re["on"+Pe]=ct)}function sn(Re,Pe,ct){Re&&(Re.detachEvent?Re.detachEvent("on"+Pe,ct):Re.removeEventListener?Re.removeEventListener(Pe,ct,!0):Re["on"+Pe]=null)}function Ur(Re){var Pe=Re.clientHeight,ct=Re.ownerDocument.defaultView.getComputedStyle(Re);return Pe+=rt(ct.borderTopWidth),Pe+=rt(ct.borderBottomWidth),Pe}function Bn(Re){var Pe=Re.clientWidth,ct=Re.ownerDocument.defaultView.getComputedStyle(Re);return Pe+=rt(ct.borderLeftWidth),Pe+=rt(ct.borderRightWidth),Pe}function Mn(Re){var Pe=Re.clientHeight,ct=Re.ownerDocument.defaultView.getComputedStyle(Re);return Pe-=rt(ct.paddingTop),Pe-=rt(ct.paddingBottom),Pe}function ci(Re){var Pe=Re.clientWidth,ct=Re.ownerDocument.defaultView.getComputedStyle(Re);return Pe-=rt(ct.paddingLeft),Pe-=rt(ct.paddingRight),Pe}function Ja(Re,Pe){var ct=Pe===Pe.ownerDocument.body,Ct=ct?{left:0,top:0}:Pe.getBoundingClientRect(),Dt=Re.clientX+Pe.scrollLeft-Ct.left,At=Re.clientY+Pe.scrollTop-Ct.top;return{x:Dt,y:At}}function kn(Re,Pe){var ct=Ve(Re,Pe,"px");return Et({},Le("transform",Ne),ct)}function Ht(Re,Pe){var ct=Ve(Re,Pe,"");return ct}function Ve(Re,Pe,ct){var Ct=Re.x,Dt=Re.y,At="translate("+Ct+ct+","+Dt+ct+")";if(Pe){var ut=""+(typeof Pe.x=="string"?Pe.x:Pe.x+ct),bt=""+(typeof Pe.y=="string"?Pe.y:Pe.y+ct);At="translate("+ut+", "+bt+")"+At}return At}function et(Re,Pe){return Re.targetTouches&&be(Re.targetTouches,function(ct){return Pe===ct.identifier})||Re.changedTouches&&be(Re.changedTouches,function(ct){return Pe===ct.identifier})}function _t(Re){if(Re.targetTouches&&Re.targetTouches[0])return Re.targetTouches[0].identifier;if(Re.changedTouches&&Re.changedTouches[0])return Re.changedTouches[0].identifier}function ne(Re){if(Re){var Pe=Re.getElementById("react-draggable-style-el");Pe||(Pe=Re.createElement("style"),Pe.type="text/css",Pe.id="react-draggable-style-el",Pe.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,Pe.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,Re.getElementsByTagName("head")[0].appendChild(Pe)),Re.body&&_e(Re.body,"react-draggable-transparent-selection")}}function X(Re){try{Re&&Re.body&&ze(Re.body,"react-draggable-transparent-selection"),Re.selection?Re.selection.empty():window.getSelection().removeAllRanges()}catch{}}function Q(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vt({touchAction:"none"},Re)}function _e(Re,Pe){Re.classList?Re.classList.add(Pe):Re.className.match(new RegExp("(?:^|\\s)"+Pe+"(?!\\S)"))||(Re.className+=" "+Pe)}function ze(Re,Pe){Re.classList?Re.classList.remove(Pe):Re.className=Re.className.replace(new RegExp("(?:^|\\s)"+Pe+"(?!\\S)","g"),"")}function tt(Re,Pe,ct){if(!Re.props.bounds)return[Pe,ct];var Ct=Re.props.bounds;Ct=typeof Ct=="string"?Ct:eo(Ct);var Dt=tl(Re);if(typeof Ct=="string"){var At=Dt.ownerDocument,ut=At.defaultView,bt=void 0;if(Ct==="parent"?bt=Dt.parentNode:bt=At.querySelector(Ct),!(bt instanceof ut.HTMLElement))throw new Error('Bounds selector "'+Ct+'" could not find an element.');var De=ut.getComputedStyle(Dt),we=ut.getComputedStyle(bt);Ct={left:-Dt.offsetLeft+rt(we.paddingLeft)+rt(De.marginLeft),top:-Dt.offsetTop+rt(we.paddingTop)+rt(De.marginTop),right:ci(bt)-Bn(Dt)-Dt.offsetLeft+rt(we.paddingRight)-rt(De.marginRight),bottom:Mn(bt)-Ur(Dt)-Dt.offsetTop+rt(we.paddingBottom)-rt(De.marginBottom)}}return Xe(Ct.right)&&(Pe=Math.min(Pe,Ct.right)),Xe(Ct.bottom)&&(ct=Math.min(ct,Ct.bottom)),Xe(Ct.left)&&(Pe=Math.max(Pe,Ct.left)),Xe(Ct.top)&&(ct=Math.max(ct,Ct.top)),[Pe,ct]}function yt(Re,Pe,ct){var Ct=Math.round(Pe/Re[0])*Re[0],Dt=Math.round(ct/Re[1])*Re[1];return[Ct,Dt]}function _r(Re){return Re.props.axis==="both"||Re.props.axis==="x"}function Mr(Re){return Re.props.axis==="both"||Re.props.axis==="y"}function qr(Re,Pe,ct){var Ct=typeof Pe=="number"?et(Re,Pe):null;if(typeof Pe=="number"&&!Ct)return null;var Dt=tl(ct),At=ct.props.offsetParent||Dt.offsetParent||Dt.ownerDocument.body;return Ja(Ct||Re,At)}function jr(Re,Pe,ct){var Ct=Re.state,Dt=!Xe(Ct.lastX),At=tl(Re);return Dt?{node:At,deltaX:0,deltaY:0,lastX:Pe,lastY:ct,x:Pe,y:ct}:{node:At,deltaX:Pe-Ct.lastX,deltaY:ct-Ct.lastY,lastX:Ct.lastX,lastY:Ct.lastY,x:Pe,y:ct}}function on(Re,Pe){var ct=Re.props.scale;return{node:Pe.node,x:Re.state.x+Pe.deltaX/ct,y:Re.state.y+Pe.deltaY/ct,deltaX:Pe.deltaX/ct,deltaY:Pe.deltaY/ct,lastX:Re.state.x,lastY:Re.state.y}}function eo(Re){return{left:Re.left,top:Re.top,right:Re.right,bottom:Re.bottom}}function tl(Re){var Pe=r.findDOMNode(Re);if(!Pe)throw new Error("<DraggableCore>: Unmounted during event!");return Pe}function Kc(){}var xl={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Il=xl.mouse,Mt=function(Re){Ft(Pe,Re);function Pe(){var ct,Ct,Dt,At;Fe(this,Pe);for(var ut=arguments.length,bt=Array(ut),De=0;De<ut;De++)bt[De]=arguments[De];return At=(Ct=(Dt=qt(this,(ct=Pe.__proto__||Object.getPrototypeOf(Pe)).call.apply(ct,[this].concat(bt))),Dt),Dt.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},Dt.handleDragStart=function(we){if(Dt.props.onMouseDown(we),!Dt.props.allowAnyClick&&typeof we.button=="number"&&we.button!==0)return!1;var Ye=r.findDOMNode(Dt);if(!Ye||!Ye.ownerDocument||!Ye.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var wt=Ye.ownerDocument;if(!(Dt.props.disabled||!(we.target instanceof wt.defaultView.Node)||Dt.props.handle&&!Cr(we.target,Dt.props.handle,Ye)||Dt.props.cancel&&Cr(we.target,Dt.props.cancel,Ye))){var It=_t(we);Dt.setState({touchIdentifier:It});var Er=qr(we,It,Dt);if(Er!=null){var Ar=Er.x,dn=Er.y,Ln=jr(Dt,Ar,dn);Dt.props.onStart;var pi=Dt.props.onStart(we,Ln);pi!==!1&&(Dt.props.enableUserSelectHack&&ne(wt),Dt.setState({dragging:!0,lastX:Ar,lastY:dn}),On(wt,Il.move,Dt.handleDrag),On(wt,Il.stop,Dt.handleDragStop))}}},Dt.handleDrag=function(we){we.type==="touchmove"&&we.preventDefault();var Ye=qr(we,Dt.state.touchIdentifier,Dt);if(Ye!=null){var wt=Ye.x,It=Ye.y;if(Array.isArray(Dt.props.grid)){var Er=wt-Dt.state.lastX,Ar=It-Dt.state.lastY,dn=yt(Dt.props.grid,Er,Ar),Ln=Sr(dn,2);if(Er=Ln[0],Ar=Ln[1],!Er&&!Ar)return;wt=Dt.state.lastX+Er,It=Dt.state.lastY+Ar}var pi=jr(Dt,wt,It),Dn=Dt.props.onDrag(we,pi);if(Dn===!1){try{Dt.handleDragStop(new MouseEvent("mouseup"))}catch{var ai=document.createEvent("MouseEvents");ai.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Dt.handleDragStop(ai)}return}Dt.setState({lastX:wt,lastY:It})}},Dt.handleDragStop=function(we){if(Dt.state.dragging){var Ye=qr(we,Dt.state.touchIdentifier,Dt);if(Ye!=null){var wt=Ye.x,It=Ye.y,Er=jr(Dt,wt,It),Ar=r.findDOMNode(Dt);Ar&&Dt.props.enableUserSelectHack&&X(Ar.ownerDocument),Dt.setState({dragging:!1,lastX:NaN,lastY:NaN}),Dt.props.onStop(we,Er),Ar&&(sn(Ar.ownerDocument,Il.move,Dt.handleDrag),sn(Ar.ownerDocument,Il.stop,Dt.handleDragStop))}}},Dt.onMouseDown=function(we){return Il=xl.mouse,Dt.handleDragStart(we)},Dt.onMouseUp=function(we){return Il=xl.mouse,Dt.handleDragStop(we)},Dt.onTouchStart=function(we){return Il=xl.touch,Dt.handleDragStart(we)},Dt.onTouchEnd=function(we){return Il=xl.touch,Dt.handleDragStop(we)},Ct),qt(Dt,At)}return dt(Pe,[{key:"componentWillUnmount",value:function(){var Ct=r.findDOMNode(this);if(Ct){var Dt=Ct.ownerDocument;sn(Dt,xl.mouse.move,this.handleDrag),sn(Dt,xl.touch.move,this.handleDrag),sn(Dt,xl.mouse.stop,this.handleDragStop),sn(Dt,xl.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&X(Dt)}}},{key:"render",value:function(){return s.cloneElement(s.Children.only(this.props.children),{style:Q(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Pe}(s.Component);Mt.displayName="DraggableCore",Mt.propTypes={allowAnyClick:Ee.bool,disabled:Ee.bool,enableUserSelectHack:Ee.bool,offsetParent:function(Pe,ct){if(Pe[ct]&&Pe[ct].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ee.arrayOf(Ee.number),scale:Ee.number,handle:Ee.string,cancel:Ee.string,onStart:Ee.func,onDrag:Ee.func,onStop:Ee.func,onMouseDown:Ee.func,className:st,style:st,transform:st},Mt.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var gt=function(Re){Ft(Pe,Re);function Pe(ct){Fe(this,Pe);var Ct=qt(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this,ct));return Ct.onDragStart=function(Dt,At){var ut=Ct.props.onStart(Dt,on(Ct,At));if(ut===!1)return!1;Ct.setState({dragging:!0,dragged:!0})},Ct.onDrag=function(Dt,At){if(!Ct.state.dragging)return!1;var ut=on(Ct,At),bt={x:ut.x,y:ut.y};if(Ct.props.bounds){var De=bt.x,we=bt.y;bt.x+=Ct.state.slackX,bt.y+=Ct.state.slackY;var Ye=tt(Ct,bt.x,bt.y),wt=Sr(Ye,2),It=wt[0],Er=wt[1];bt.x=It,bt.y=Er,bt.slackX=Ct.state.slackX+(De-bt.x),bt.slackY=Ct.state.slackY+(we-bt.y),ut.x=bt.x,ut.y=bt.y,ut.deltaX=bt.x-Ct.state.x,ut.deltaY=bt.y-Ct.state.y}var Ar=Ct.props.onDrag(Dt,ut);if(Ar===!1)return!1;Ct.setState(bt)},Ct.onDragStop=function(Dt,At){if(!Ct.state.dragging)return!1;var ut=Ct.props.onStop(Dt,on(Ct,At));if(ut===!1)return!1;var bt={dragging:!1,slackX:0,slackY:0},De=!!Ct.props.position;if(De){var we=Ct.props.position,Ye=we.x,wt=we.y;bt.x=Ye,bt.y=wt}Ct.setState(bt)},Ct.state={dragging:!1,dragged:!1,x:ct.position?ct.position.x:ct.defaultPosition.x,y:ct.position?ct.position.y:ct.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},ct.position&&!(ct.onDrag||ct.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Ct}return dt(Pe,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&r.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(Ct){Ct.position&&(!this.props.position||Ct.position.x!==this.props.position.x||Ct.position.y!==this.props.position.y)&&this.setState({x:Ct.position.x,y:Ct.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var Ct,Dt={},At=null,ut=!!this.props.position,bt=!ut||this.state.dragging,De=this.props.position||this.props.defaultPosition,we={x:_r(this)&&bt?this.state.x:De.x,y:Mr(this)&&bt?this.state.y:De.y};this.state.isElementSVG?At=Ht(we,this.props.positionOffset):Dt=kn(we,this.props.positionOffset);var Ye=this.props,wt=Ye.defaultClassName,It=Ye.defaultClassNameDragging,Er=Ye.defaultClassNameDragged,Ar=s.Children.only(this.props.children),dn=ue(Ar.props.className||"",wt,(Ct={},Et(Ct,It,this.state.dragging),Et(Ct,Er,this.state.dragged),Ct));return s.createElement(Mt,Vt({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),s.cloneElement(Ar,{className:dn,style:Vt({},Ar.props.style,Dt),transform:At}))}}]),Pe}(s.Component);return gt.displayName="Draggable",gt.propTypes=Vt({},Mt.propTypes,{axis:Ee.oneOf(["both","x","y","none"]),bounds:Ee.oneOfType([Ee.shape({left:Ee.number,right:Ee.number,top:Ee.number,bottom:Ee.number}),Ee.string,Ee.oneOf([!1])]),defaultClassName:Ee.string,defaultClassNameDragging:Ee.string,defaultClassNameDragged:Ee.string,defaultPosition:Ee.shape({x:Ee.number,y:Ee.number}),positionOffset:Ee.shape({x:Ee.oneOfType([Ee.number,Ee.string]),y:Ee.oneOfType([Ee.number,Ee.string])}),position:Ee.shape({x:Ee.number,y:Ee.number}),className:st,style:st,transform:st}),gt.defaultProps=Vt({},Mt.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),gt.default=gt,gt.DraggableCore=Mt,gt})})(F5);var ES={exports:{}},v1={},SS={exports:{}},B5={};function H5(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=H5(e[t]))&&(s&&(s+=" "),s+=r);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function si(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=H5(e))&&(s&&(s+=" "),s+=t);return s}const U5=ot(Object.freeze(Object.defineProperty({__proto__:null,clsx:si,default:si},Symbol.toStringTag,{value:"Module"})));var Ba={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.dontSetMe=G5,Oc.findInArray=w$,Oc.int=C$,Oc.isFunction=y1,Oc.isNum=b1;function w$(e,t){for(var r=0,s=e.length;r<s;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function y1(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function b1(e){return typeof e=="number"&&!isNaN(e)}function C$(e){return parseInt(e,10)}function G5(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var bg={};Object.defineProperty(bg,"__esModule",{value:!0}),bg.browserPrefixToKey=$5,bg.browserPrefixToStyle=x$,bg.default=void 0,bg.getPrefix=dO;var fO=["Moz","Webkit","O","ms"];function dO(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var s=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!s||r in s)return"";for(var a=0;a<fO.length;a++)if($5(r,fO[a])in s)return fO[a];return""}function $5(e,t){return t?"".concat(t).concat(z5(e)):e}function x$(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function z5(e){for(var t="",r=!0,s=0;s<e.length;s++)r?(t+=e[s].toUpperCase(),r=!1):e[s]==="-"?r=!0:t+=e[s];return t}var w0=dO();bg.default=w0;function AS(e){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AS(e)}Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.addClassName=X5,Ba.addEvent=D$,Ba.addUserSelectStyles=F$,Ba.createCSSTransform=M$,Ba.createSVGTransform=j5,Ba.getTouch=vO,Ba.getTouchIdentifier=L$,Ba.getTranslation=gO,Ba.innerHeight=P$,Ba.innerWidth=N$,Ba.matchesSelector=V5,Ba.matchesSelectorAndParentsTo=gre,Ba.offsetXYFromParent=mO,Ba.outerHeight=k$,Ba.outerWidth=R$,Ba.removeClassName=Y5,Ba.removeEvent=O$,Ba.removeUserSelectStyles=W5;var fl=Oc,wS=I$(bg);function CS(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(CS=function(a){return a?r:t})(e)}function I$(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||AS(e)!=="object"&&typeof e!="function")return{default:e};var r=CS(t);if(r&&r.has(e))return r.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var h=a?Object.getOwnPropertyDescriptor(e,u):null;h&&(h.get||h.set)?Object.defineProperty(s,u,h):s[u]=e[u]}return s.default=e,r&&r.set(e,s),s}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(s){pO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DS="";function V5(e,t){return DS||(DS=(0,fl.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,fl.isFunction)(e[r])})),(0,fl.isFunction)(e[DS])?e[DS](t):!1}function gre(e,t,r){var s=e;do{if(V5(s,t))return!0;if(s===r)return!1;s=s.parentNode}while(s);return!1}function D$(e,t,r,s){if(e){var a=IS({capture:!0},s);e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function O$(e,t,r,s){if(e){var a=IS({capture:!0},s);e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function k$(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,fl.int)(r.borderTopWidth),t+=(0,fl.int)(r.borderBottomWidth),t}function R$(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,fl.int)(r.borderLeftWidth),t+=(0,fl.int)(r.borderRightWidth),t}function P$(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,fl.int)(r.paddingTop),t-=(0,fl.int)(r.paddingBottom),t}function N$(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,fl.int)(r.paddingLeft),t-=(0,fl.int)(r.paddingRight),t}function mO(e,t,r){var s=t===t.ownerDocument.body,a=s?{left:0,top:0}:t.getBoundingClientRect(),u=(e.clientX+t.scrollLeft-a.left)/r,h=(e.clientY+t.scrollTop-a.top)/r;return{x:u,y:h}}function M$(e,t){var r=gO(e,t,"px");return pO({},(0,wS.browserPrefixToKey)("transform",wS.default),r)}function j5(e,t){var r=gO(e,t,"");return r}function gO(e,t,r){var s=e.x,a=e.y,u="translate(".concat(s).concat(r,",").concat(a).concat(r,")");if(t){var h="".concat(typeof t.x=="string"?t.x:t.x+r),f="".concat(typeof t.y=="string"?t.y:t.y+r);u="translate(".concat(h,", ").concat(f,")")+u}return u}function vO(e,t){return e.targetTouches&&(0,fl.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,fl.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function L$(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function F$(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&X5(e.body,"react-draggable-transparent-selection")}}function W5(e){if(e)try{if(e.body&&Y5(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function X5(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Y5(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var wh={};Object.defineProperty(wh,"__esModule",{value:!0}),wh.canDragX=U$,wh.canDragY=G$,wh.createCoreData=V$,wh.createDraggableData=yO,wh.getBoundPosition=B$,wh.getControlPosition=z$,wh.snapToGrid=H$;var Zl=Oc,C0=Ba;function B$(e,t,r){if(!e.props.bounds)return[t,r];var s=e.props.bounds;s=typeof s=="string"?s:j$(s);var a=bO(e);if(typeof s=="string"){var u=a.ownerDocument,h=u.defaultView,f;if(s==="parent"?f=a.parentNode:f=u.querySelector(s),!(f instanceof h.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');var g=f,v=h.getComputedStyle(a),p=h.getComputedStyle(g);s={left:-a.offsetLeft+(0,Zl.int)(p.paddingLeft)+(0,Zl.int)(v.marginLeft),top:-a.offsetTop+(0,Zl.int)(p.paddingTop)+(0,Zl.int)(v.marginTop),right:(0,C0.innerWidth)(g)-(0,C0.outerWidth)(a)-a.offsetLeft+(0,Zl.int)(p.paddingRight)-(0,Zl.int)(v.marginRight),bottom:(0,C0.innerHeight)(g)-(0,C0.outerHeight)(a)-a.offsetTop+(0,Zl.int)(p.paddingBottom)-(0,Zl.int)(v.marginBottom)}}return(0,Zl.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,Zl.isNum)(s.bottom)&&(r=Math.min(r,s.bottom)),(0,Zl.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,Zl.isNum)(s.top)&&(r=Math.max(r,s.top)),[t,r]}function H$(e,t,r){var s=Math.round(t/e[0])*e[0],a=Math.round(r/e[1])*e[1];return[s,a]}function U$(e){return e.props.axis==="both"||e.props.axis==="x"}function G$(e){return e.props.axis==="both"||e.props.axis==="y"}function z$(e,t,r){var s=typeof t=="number"?(0,C0.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;var a=bO(r),u=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,C0.offsetXYFromParent)(s||e,u,r.props.scale)}function V$(e,t,r){var s=e.state,a=!(0,Zl.isNum)(s.lastX),u=bO(e);return a?{node:u,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:u,deltaX:t-s.lastX,deltaY:r-s.lastY,lastX:s.lastX,lastY:s.lastY,x:t,y:r}}function yO(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function j$(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function bO(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var OS={},kS={};Object.defineProperty(kS,"__esModule",{value:!0}),kS.default=q5;function q5(){}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}Object.defineProperty(OS,"__esModule",{value:!0}),OS.default=void 0;var RS=X$(F.default),Kl=TO($.exports),W$=TO(Te.default),vs=Ba,Uf=wh,_O=Oc,_1=TO(kS);function TO(e){return e&&e.__esModule?e:{default:e}}function Z5(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Z5=function(a){return a?r:t})(e)}function X$(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||_g(e)!=="object"&&typeof e!="function")return{default:e};var r=Z5(t);if(r&&r.has(e))return r.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var h=a?Object.getOwnPropertyDescriptor(e,u):null;h&&(h.get||h.set)?Object.defineProperty(s,u,h):s[u]=e[u]}return s.default=e,r&&r.set(e,s),s}function K5(e,t){return K$(e)||Z$(e,t)||q$(e,t)||Y$()}function Y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(e,t){if(e){if(typeof e=="string")return Q5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(e,t)}}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Z$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s=[],a=!0,u=!1,h,f;try{for(r=r.call(e);!(a=(h=r.next()).done)&&(s.push(h.value),!(t&&s.length===t));a=!0);}catch(g){u=!0,f=g}finally{try{!a&&r.return!=null&&r.return()}finally{if(u)throw f}}return s}}function K$(e){if(Array.isArray(e))return e}function Q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J5(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function J$(e,t,r){return t&&J5(e.prototype,t),r&&J5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EO(e,t)}function EO(e,t){return EO=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},EO(e,t)}function PS(e){var t=E1();return function(){var s=S1(e),a;if(t){var u=S1(this).constructor;a=Reflect.construct(s,arguments,u)}else a=s.apply(this,arguments);return T1(this,a)}}function T1(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ns(e)}function ns(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S1(e){return S1=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(e)}function js(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kc={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Gf=kc.mouse,Tg=function(e){e7(r,e);var t=PS(r);function r(){var s;Q$(this,r);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=t.call.apply(t,[this].concat(u)),js(ns(s),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),js(ns(s),"mounted",!1),js(ns(s),"handleDragStart",function(f){if(s.props.onMouseDown(f),!s.props.allowAnyClick&&typeof f.button=="number"&&f.button!==0)return!1;var g=s.findDOMNode();if(!g||!g.ownerDocument||!g.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var v=g.ownerDocument;if(!(s.props.disabled||!(f.target instanceof v.defaultView.Node)||s.props.handle&&!(0,vs.matchesSelectorAndParentsTo)(f.target,s.props.handle,g)||s.props.cancel&&(0,vs.matchesSelectorAndParentsTo)(f.target,s.props.cancel,g))){f.type==="touchstart"&&f.preventDefault();var p=(0,vs.getTouchIdentifier)(f);s.setState({touchIdentifier:p});var E=(0,Uf.getControlPosition)(f,p,ns(s));if(E!=null){var T=E.x,S=E.y,x=(0,Uf.createCoreData)(ns(s),T,S);(0,_1.default)("DraggableCore: handleDragStart: %j",x),(0,_1.default)("calling",s.props.onStart);var O=s.props.onStart(f,x);O===!1||s.mounted===!1||(s.props.enableUserSelectHack&&(0,vs.addUserSelectStyles)(v),s.setState({dragging:!0,lastX:T,lastY:S}),(0,vs.addEvent)(v,Gf.move,s.handleDrag),(0,vs.addEvent)(v,Gf.stop,s.handleDragStop))}}}),js(ns(s),"handleDrag",function(f){var g=(0,Uf.getControlPosition)(f,s.state.touchIdentifier,ns(s));if(g!=null){var v=g.x,p=g.y;if(Array.isArray(s.props.grid)){var E=v-s.state.lastX,T=p-s.state.lastY,S=(0,Uf.snapToGrid)(s.props.grid,E,T),x=K5(S,2);if(E=x[0],T=x[1],!E&&!T)return;v=s.state.lastX+E,p=s.state.lastY+T}var O=(0,Uf.createCoreData)(ns(s),v,p);(0,_1.default)("DraggableCore: handleDrag: %j",O);var P=s.props.onDrag(f,O);if(P===!1||s.mounted===!1){try{s.handleDragStop(new MouseEvent("mouseup"))}catch{var M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.handleDragStop(M)}return}s.setState({lastX:v,lastY:p})}}),js(ns(s),"handleDragStop",function(f){if(s.state.dragging){var g=(0,Uf.getControlPosition)(f,s.state.touchIdentifier,ns(s));if(g!=null){var v=g.x,p=g.y;if(Array.isArray(s.props.grid)){var E=v-s.state.lastX||0,T=p-s.state.lastY||0,S=(0,Uf.snapToGrid)(s.props.grid,E,T),x=K5(S,2);E=x[0],T=x[1],v=s.state.lastX+E,p=s.state.lastY+T}var O=(0,Uf.createCoreData)(ns(s),v,p),P=s.props.onStop(f,O);if(P===!1||s.mounted===!1)return!1;var M=s.findDOMNode();M&&s.props.enableUserSelectHack&&(0,vs.removeUserSelectStyles)(M.ownerDocument),(0,_1.default)("DraggableCore: handleDragStop: %j",O),s.setState({dragging:!1,lastX:NaN,lastY:NaN}),M&&((0,_1.default)("DraggableCore: Removing handlers"),(0,vs.removeEvent)(M.ownerDocument,Gf.move,s.handleDrag),(0,vs.removeEvent)(M.ownerDocument,Gf.stop,s.handleDragStop))}}}),js(ns(s),"onMouseDown",function(f){return Gf=kc.mouse,s.handleDragStart(f)}),js(ns(s),"onMouseUp",function(f){return Gf=kc.mouse,s.handleDragStop(f)}),js(ns(s),"onTouchStart",function(f){return Gf=kc.touch,s.handleDragStart(f)}),js(ns(s),"onTouchEnd",function(f){return Gf=kc.touch,s.handleDragStop(f)}),s}return J$(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,vs.addEvent)(a,kc.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.findDOMNode();if(a){var u=a.ownerDocument;(0,vs.removeEvent)(u,kc.mouse.move,this.handleDrag),(0,vs.removeEvent)(u,kc.touch.move,this.handleDrag),(0,vs.removeEvent)(u,kc.mouse.stop,this.handleDragStop),(0,vs.removeEvent)(u,kc.touch.stop,this.handleDragStop),(0,vs.removeEvent)(a,kc.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,vs.removeUserSelectStyles)(u)}}},{key:"findDOMNode",value:function(){var a,u,h;return(a=this.props)!==null&&a!==void 0&&a.nodeRef?(u=this.props)===null||u===void 0||(h=u.nodeRef)===null||h===void 0?void 0:h.current:W$.default.findDOMNode(this)}},{key:"render",value:function(){return RS.cloneElement(RS.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(RS.Component);OS.default=Tg,js(Tg,"displayName","DraggableCore"),js(Tg,"propTypes",{allowAnyClick:Kl.default.bool,disabled:Kl.default.bool,enableUserSelectHack:Kl.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Kl.default.arrayOf(Kl.default.number),handle:Kl.default.string,cancel:Kl.default.string,nodeRef:Kl.default.object,onStart:Kl.default.func,onDrag:Kl.default.func,onStop:Kl.default.func,onMouseDown:Kl.default.func,scale:Kl.default.number,className:_O.dontSetMe,style:_O.dontSetMe,transform:_O.dontSetMe}),js(Tg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(e){function t(Le){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},t(Le)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return v.default}}),e.default=void 0;var r=x(F.default),s=T($.exports),a=T(Te.default),u=T(U5),h=Ba,f=wh,g=Oc,v=T(OS),p=T(kS),E=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function T(Le){return Le&&Le.__esModule?Le:{default:Le}}function S(Le){if(typeof WeakMap!="function")return null;var Ie=new WeakMap,Ne=new WeakMap;return(S=function(dt){return dt?Ne:Ie})(Le)}function x(Le,Ie){if(!Ie&&Le&&Le.__esModule)return Le;if(Le===null||t(Le)!=="object"&&typeof Le!="function")return{default:Le};var Ne=S(Ie);if(Ne&&Ne.has(Le))return Ne.get(Le);var Fe={},dt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Et in Le)if(Et!=="default"&&Object.prototype.hasOwnProperty.call(Le,Et)){var Vt=dt?Object.getOwnPropertyDescriptor(Le,Et):null;Vt&&(Vt.get||Vt.set)?Object.defineProperty(Fe,Et,Vt):Fe[Et]=Le[Et]}return Fe.default=Le,Ne&&Ne.set(Le,Fe),Fe}function O(){return O=Object.assign||function(Le){for(var Ie=1;Ie<arguments.length;Ie++){var Ne=arguments[Ie];for(var Fe in Ne)Object.prototype.hasOwnProperty.call(Ne,Fe)&&(Le[Fe]=Ne[Fe])}return Le},O.apply(this,arguments)}function P(Le,Ie){if(Le==null)return{};var Ne=M(Le,Ie),Fe,dt;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(Le);for(dt=0;dt<Et.length;dt++)Fe=Et[dt],!(Ie.indexOf(Fe)>=0)&&Object.prototype.propertyIsEnumerable.call(Le,Fe)&&(Ne[Fe]=Le[Fe])}return Ne}function M(Le,Ie){if(Le==null)return{};var Ne={},Fe=Object.keys(Le),dt,Et;for(Et=0;Et<Fe.length;Et++)dt=Fe[Et],!(Ie.indexOf(dt)>=0)&&(Ne[dt]=Le[dt]);return Ne}function G(Le,Ie){var Ne=Object.keys(Le);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Le);Ie&&(Fe=Fe.filter(function(dt){return Object.getOwnPropertyDescriptor(Le,dt).enumerable})),Ne.push.apply(Ne,Fe)}return Ne}function B(Le){for(var Ie=1;Ie<arguments.length;Ie++){var Ne=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?G(Object(Ne),!0).forEach(function(Fe){mt(Le,Fe,Ne[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(Ne)):G(Object(Ne)).forEach(function(Fe){Object.defineProperty(Le,Fe,Object.getOwnPropertyDescriptor(Ne,Fe))})}return Le}function U(Le,Ie){return he(Le)||J(Le,Ie)||Z(Le,Ie)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(Le,Ie){if(Le){if(typeof Le=="string")return ee(Le,Ie);var Ne=Object.prototype.toString.call(Le).slice(8,-1);if(Ne==="Object"&&Le.constructor&&(Ne=Le.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(Le);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return ee(Le,Ie)}}function ee(Le,Ie){(Ie==null||Ie>Le.length)&&(Ie=Le.length);for(var Ne=0,Fe=new Array(Ie);Ne<Ie;Ne++)Fe[Ne]=Le[Ne];return Fe}function J(Le,Ie){var Ne=Le==null?null:typeof Symbol<"u"&&Le[Symbol.iterator]||Le["@@iterator"];if(Ne!=null){var Fe=[],dt=!0,Et=!1,Vt,Ft;try{for(Ne=Ne.call(Le);!(dt=(Vt=Ne.next()).done)&&(Fe.push(Vt.value),!(Ie&&Fe.length===Ie));dt=!0);}catch(qt){Et=!0,Ft=qt}finally{try{!dt&&Ne.return!=null&&Ne.return()}finally{if(Et)throw Ft}}return Fe}}function he(Le){if(Array.isArray(Le))return Le}function pe(Le,Ie){if(!(Le instanceof Ie))throw new TypeError("Cannot call a class as a function")}function ae(Le,Ie){for(var Ne=0;Ne<Ie.length;Ne++){var Fe=Ie[Ne];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Le,Fe.key,Fe)}}function ye(Le,Ie,Ne){return Ie&&ae(Le.prototype,Ie),Ne&&ae(Le,Ne),Object.defineProperty(Le,"prototype",{writable:!1}),Le}function Ee(Le,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");Le.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:Le,writable:!0,configurable:!0}}),Object.defineProperty(Le,"prototype",{writable:!1}),Ie&&ue(Le,Ie)}function ue(Le,Ie){return ue=Object.setPrototypeOf||function(Fe,dt){return Fe.__proto__=dt,Fe},ue(Le,Ie)}function be(Le){var Ie=rt();return function(){var Fe=st(Le),dt;if(Ie){var Et=st(this).constructor;dt=Reflect.construct(Fe,arguments,Et)}else dt=Fe.apply(this,arguments);return Me(this,dt)}}function Me(Le,Ie){if(Ie&&(t(Ie)==="object"||typeof Ie=="function"))return Ie;if(Ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xe(Le)}function Xe(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le}function rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function st(Le){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},st(Le)}function mt(Le,Ie,Ne){return Ie in Le?Object.defineProperty(Le,Ie,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Le[Ie]=Ne,Le}var kt=function(Le){Ee(Ne,Le);var Ie=be(Ne);function Ne(Fe){var dt;return pe(this,Ne),dt=Ie.call(this,Fe),mt(Xe(dt),"onDragStart",function(Et,Vt){(0,p.default)("Draggable: onDragStart: %j",Vt);var Ft=dt.props.onStart(Et,(0,f.createDraggableData)(Xe(dt),Vt));if(Ft===!1)return!1;dt.setState({dragging:!0,dragged:!0})}),mt(Xe(dt),"onDrag",function(Et,Vt){if(!dt.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",Vt);var Ft=(0,f.createDraggableData)(Xe(dt),Vt),qt={x:Ft.x,y:Ft.y};if(dt.props.bounds){var Sr=qt.x,jt=qt.y;qt.x+=dt.state.slackX,qt.y+=dt.state.slackY;var Hr=(0,f.getBoundPosition)(Xe(dt),qt.x,qt.y),Cr=U(Hr,2),On=Cr[0],sn=Cr[1];qt.x=On,qt.y=sn,qt.slackX=dt.state.slackX+(Sr-qt.x),qt.slackY=dt.state.slackY+(jt-qt.y),Ft.x=qt.x,Ft.y=qt.y,Ft.deltaX=qt.x-dt.state.x,Ft.deltaY=qt.y-dt.state.y}var Ur=dt.props.onDrag(Et,Ft);if(Ur===!1)return!1;dt.setState(qt)}),mt(Xe(dt),"onDragStop",function(Et,Vt){if(!dt.state.dragging)return!1;var Ft=dt.props.onStop(Et,(0,f.createDraggableData)(Xe(dt),Vt));if(Ft===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",Vt);var qt={dragging:!1,slackX:0,slackY:0},Sr=!!dt.props.position;if(Sr){var jt=dt.props.position,Hr=jt.x,Cr=jt.y;qt.x=Hr,qt.y=Cr}dt.setState(qt)}),dt.state={dragging:!1,dragged:!1,x:Fe.position?Fe.position.x:Fe.defaultPosition.x,y:Fe.position?Fe.position.y:Fe.defaultPosition.y,prevPropsPosition:B({},Fe.position),slackX:0,slackY:0,isElementSVG:!1},Fe.position&&!(Fe.onDrag||Fe.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),dt}return ye(Ne,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var dt,Et,Vt;return(dt=(Et=this.props)===null||Et===void 0||(Vt=Et.nodeRef)===null||Vt===void 0?void 0:Vt.current)!==null&&dt!==void 0?dt:a.default.findDOMNode(this)}},{key:"render",value:function(){var dt,Et=this.props;Et.axis,Et.bounds;var Vt=Et.children,Ft=Et.defaultPosition,qt=Et.defaultClassName,Sr=Et.defaultClassNameDragging,jt=Et.defaultClassNameDragged,Hr=Et.position,Cr=Et.positionOffset;Et.scale;var On=P(Et,E),sn={},Ur=null,Bn=!!Hr,Mn=!Bn||this.state.dragging,ci=Hr||Ft,Ja={x:(0,f.canDragX)(this)&&Mn?this.state.x:ci.x,y:(0,f.canDragY)(this)&&Mn?this.state.y:ci.y};this.state.isElementSVG?Ur=(0,h.createSVGTransform)(Ja,Cr):sn=(0,h.createCSSTransform)(Ja,Cr);var kn=(0,u.default)(Vt.props.className||"",qt,(dt={},mt(dt,Sr,this.state.dragging),mt(dt,jt,this.state.dragged),dt));return r.createElement(v.default,O({},On,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(Vt),{className:kn,style:B(B({},Vt.props.style),sn),transform:Ur}))}}],[{key:"getDerivedStateFromProps",value:function(dt,Et){var Vt=dt.position,Ft=Et.prevPropsPosition;return Vt&&(!Ft||Vt.x!==Ft.x||Vt.y!==Ft.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:Vt,prevPropsPosition:Ft}),{x:Vt.x,y:Vt.y,prevPropsPosition:B({},Vt)}):null}}]),Ne}(r.Component);e.default=kt,mt(kt,"displayName","Draggable"),mt(kt,"propTypes",B(B({},v.default.propTypes),{},{axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),mt(kt,"defaultProps",B(B({},v.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(B5);var ip=B5,$f=ip.default,x0=ip.DraggableCore;SS.exports=$f,SS.exports.default=$f,SS.exports.DraggableCore=x0;var I0={};I0.__esModule=!0,I0.cloneElement=Rc;var SO=e3(F.default);function e3(e){return e&&e.__esModule?e:{default:e}}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(s){NS(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rc(e,t){return t.style&&e.props.style&&(t.style=wO(wO({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),SO.default.cloneElement(e,t)}var Eg={};Eg.__esModule=!0,Eg.resizableProps=void 0;var jn=zf($.exports);function zf(e){return e&&e.__esModule?e:{default:e}}var ap={axis:jn.default.oneOf(["both","x","y","none"]),className:jn.default.string,children:jn.default.element.isRequired,draggableOpts:jn.default.shape({allowAnyClick:jn.default.bool,cancel:jn.default.string,children:jn.default.node,disabled:jn.default.bool,enableUserSelectHack:jn.default.bool,offsetParent:jn.default.node,grid:jn.default.arrayOf(jn.default.number),handle:jn.default.string,nodeRef:jn.default.object,onStart:jn.default.func,onDrag:jn.default.func,onStop:jn.default.func,onMouseDown:jn.default.func,scale:jn.default.number}),height:jn.default.number.isRequired,handle:jn.default.oneOfType([jn.default.node,jn.default.func]),handleSize:jn.default.arrayOf(jn.default.number),lockAspectRatio:jn.default.bool,maxConstraints:jn.default.arrayOf(jn.default.number),minConstraints:jn.default.arrayOf(jn.default.number),onResizeStop:jn.default.func,onResizeStart:jn.default.func,onResize:jn.default.func,resizeHandles:jn.default.arrayOf(jn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:jn.default.number,width:jn.default.number.isRequired};Eg.resizableProps=ap,v1.__esModule=!0,v1.default=void 0;var Vo=Vf(F.default),ys=SS.exports,CO=I0,Ql=Eg;function Vf(e){return e&&e.__esModule?e:{default:e}}function Pu(){return Pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pu.apply(this,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(s){Ws(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t3(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function op(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ws(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D0=function(e){LS(t,e);function t(){for(var s,a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=e.call.apply(e,[this].concat(u))||this,Ws(op(s),"state",void 0),Ws(op(s),"lastHandleRect",null),Ws(op(s),"slack",null),s}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.lockAspectRatio=function(a,u,h){return u=a/h,a=u*h,[a,u]},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(a,u){var h=[this.props.minConstraints,this.props.maxConstraints],f=h[0],g=h[1];if(!f&&!g)return[a,u];if(this.props.lockAspectRatio){var v=u===this.props.height;if(v){var p=this.props.width/this.props.height;u=a/p,a=u*p}else{var E=this.props.height/this.props.width;a=u/E,u=a*E}}var T=a,S=u,x=this.slack||[0,0],O=x[0],P=x[1];return a+=O,u+=P,f&&(a=Math.max(f[0],a),u=Math.max(f[1],u)),g&&(a=Math.min(g[0],a),u=Math.min(g[1],u)),this.slack=[O+(T-a),P+(S-u)],[a,u]},r.resizeHandler=function(a,u){var h=this;return function(f,g){var v=g.node,p=g.deltaX,E=g.deltaY;a==="onResizeStart"&&h.resetData();var T=(h.props.axis==="both"||h.props.axis==="x")&&u!=="n"&&u!=="s",S=(h.props.axis==="both"||h.props.axis==="y")&&u!=="e"&&u!=="w";if(!(!T&&!S)){var x=u[0],O=u[u.length-1],P=v.getBoundingClientRect();if(h.lastHandleRect!=null){if(O==="w"){var M=P.left-h.lastHandleRect.left;p+=M}if(x==="n"){var G=P.top-h.lastHandleRect.top;E+=G}}h.lastHandleRect=P,O==="w"&&(p=-p),x==="n"&&(E=-E);var B=h.props.width+(T?p/h.props.transformScale:0),U=h.props.height+(S?E/h.props.transformScale:0),j=h.runConstraints(B,U);B=j[0],U=j[1];var Z=B!==h.props.width||U!==h.props.height,ee=typeof h.props[a]=="function"?h.props[a]:null,J=a==="onResize"&&!Z;ee&&!J&&(typeof f.persist=="function"&&f.persist(),ee(f,{node:v,size:{width:B,height:U},handle:u})),a==="onResizeStop"&&h.resetData()}}},r.renderResizeHandle=function(a){var u=this.props.handle;return u?typeof u=="function"?u(a):u:Vo.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a})},r.render=function(){var a=this,u=this.props,h=u.children,f=u.className,g=u.draggableOpts;u.width,u.height,u.handle,u.handleSize,u.lockAspectRatio,u.axis,u.minConstraints,u.maxConstraints,u.onResize,u.onResizeStop,u.onResizeStart;var v=u.resizeHandles;u.transformScale;var p=t3(u,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]);return(0,CO.cloneElement)(h,Sg(Sg({},p),{},{className:(f?f+" ":"")+"react-resizable",children:[].concat(h.props.children,v.map(function(E){return Vo.default.createElement(ys.DraggableCore,Pu({},g,{key:"resizableHandle-"+E,onStop:a.resizeHandler("onResizeStop",E),onStart:a.resizeHandler("onResizeStart",E),onDrag:a.resizeHandler("onResize",E)}),a.renderResizeHandle(E))}))}))},t}(Vo.default.Component);v1.default=D0,Ws(D0,"propTypes",Ql.resizableProps),Ws(D0,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1});var O0={};O0.__esModule=!0,O0.default=void 0;var FS=a3(F.default),r3=i3($.exports),BS=i3(v1),n3=Eg;function i3(e){return e&&e.__esModule?e:{default:e}}function HS(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return HS=function(){return e},e}function a3(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=HS();if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=s?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function US(){return US=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},US.apply(this,arguments)}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(s){GS(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function k0(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function o3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function GS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s3=function(e){t7(t,e);function t(){for(var s,a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=e.call.apply(e,[this].concat(u))||this,GS(o3(s),"state",{width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height}),GS(o3(s),"onResize",function(f,g){var v=g.size;s.props.onResize?(f.persist&&f.persist(),s.setState(v,function(){return s.props.onResize&&s.props.onResize(f,g)})):s.setState(v)}),s}t.getDerivedStateFromProps=function(a,u){return u.propsWidth!==a.width||u.propsHeight!==a.height?{width:a.width,height:a.height,propsWidth:a.width,propsHeight:a.height}:null};var r=t.prototype;return r.render=function(){var a=this.props,u=a.handle,h=a.handleSize;a.onResize;var f=a.onResizeStart,g=a.onResizeStop,v=a.draggableOpts,p=a.minConstraints,E=a.maxConstraints,T=a.lockAspectRatio,S=a.axis;a.width,a.height;var x=a.resizeHandles,O=a.style,P=a.transformScale,M=k0(a,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return FS.createElement(BS.default,{axis:S,draggableOpts:v,handle:u,handleSize:h,height:this.state.height,lockAspectRatio:T,maxConstraints:E,minConstraints:p,onResizeStart:f,onResize:this.onResize,onResizeStop:g,resizeHandles:x,transformScale:P,width:this.state.width},FS.createElement("div",US({},M,{style:Jl(Jl({},O),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(FS.Component);O0.default=s3,GS(s3,"propTypes",Jl(Jl({},n3.resizableProps),{},{children:r3.default.element})),ES.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ES.exports.Resizable=v1.default,ES.exports.ResizableBox=O0.default,hO.__esModule=!0;var r7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},n7=F.default,Ag=VS(n7),l3=$.exports,ba=VS(l3),u3=F5.exports,xO=ES.exports,$S=di,zS=lO.exports,c3=VS(zS);function VS(e){return e&&e.__esModule?e:{default:e}}function h3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dl=function(e){f3(t,e);function t(){var r,s,a;h3(this,t);for(var u=arguments.length,h=Array(u),f=0;f<u;f++)h[f]=arguments[f];return a=(r=(s=IO(this,e.call.apply(e,[this].concat(h))),s),s.state={resizing:null,dragging:null,className:""},r),IO(s,a)}return t.prototype.calcColWidth=function(){var s=this.props,a=s.margin,u=s.containerPadding,h=s.containerWidth,f=s.cols;return(h-a[0]*(f-1)-u[0]*2)/f},t.prototype.calcPosition=function(s,a,u,h,f){var g=this.props,v=g.margin,p=g.containerPadding,E=g.rowHeight,T=this.calcColWidth(),S={left:Math.round((T+v[0])*s+p[0]),top:Math.round((E+v[1])*a+p[1]),width:u===1/0?u:Math.round(T*u+Math.max(0,u-1)*v[0]),height:h===1/0?h:Math.round(E*h+Math.max(0,h-1)*v[1])};return f&&f.resizing&&(S.width=Math.round(f.resizing.width),S.height=Math.round(f.resizing.height)),f&&f.dragging&&(S.top=Math.round(f.dragging.top),S.left=Math.round(f.dragging.left)),S},t.prototype.calcXY=function(s,a){var u=this.props,h=u.margin,f=u.cols,g=u.rowHeight,v=u.w,p=u.h,E=u.maxRows,T=this.calcColWidth(),S=Math.round((a-h[0])/(T+h[0])),x=Math.round((s-h[1])/(g+h[1]));return S=Math.max(Math.min(S,f-v),0),x=Math.max(Math.min(x,E-p),0),{x:S,y:x}},t.prototype.calcWH=function(s){var a=s.height,u=s.width,h=this.props,f=h.margin,g=h.maxRows,v=h.cols,p=h.rowHeight,E=h.x,T=h.y,S=this.calcColWidth(),x=Math.round((u+f[0])/(S+f[0])),O=Math.round((a+f[1])/(p+f[1]));return x=Math.max(Math.min(x,v-E),0),O=Math.max(Math.min(O,g-T),0),{w:x,h:O}},t.prototype.createStyle=function(s){var a=this.props,u=a.usePercentages,h=a.containerWidth,f=a.useCSSTransforms,g=void 0;return f?g=(0,$S.setTransform)(s):(g=(0,$S.setTopLeft)(s),u&&(g.left=(0,$S.perc)(s.left/h),g.width=(0,$S.perc)(s.width/h))),g},t.prototype.mixinDraggable=function(s){return Ag.default.createElement(u3.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},s)},t.prototype.mixinResizable=function(s,a){var u=this.props,h=u.cols,f=u.x,g=u.minW,v=u.minH,p=u.maxW,E=u.maxH,T=this.calcPosition(0,0,h-f,0).width,S=this.calcPosition(0,0,g,v),x=this.calcPosition(0,0,p,E),O=[S.width,S.height],P=[Math.min(x.width,T),Math.min(x.height,1/0)];return Ag.default.createElement(xO.Resizable,{width:a.width,height:a.height,minConstraints:O,maxConstraints:P,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},s)},t.prototype.onDragHandler=function(s){var a=this;return function(u,h){var f=h.node,g=h.deltaX,v=h.deltaY,p=a.props[s];if(p){var E={top:0,left:0};switch(s){case"onDragStart":{var T=f.offsetParent;if(!T)return;var S=T.getBoundingClientRect(),x=f.getBoundingClientRect();E.left=x.left-S.left+T.scrollLeft,E.top=x.top-S.top+T.scrollTop,a.setState({dragging:E});break}case"onDrag":if(!a.state.dragging)throw new Error("onDrag called before onDragStart.");E.left=a.state.dragging.left+g,E.top=a.state.dragging.top+v,a.setState({dragging:E});break;case"onDragStop":if(!a.state.dragging)throw new Error("onDragEnd called before onDragStart.");E.left=a.state.dragging.left,E.top=a.state.dragging.top,a.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+s)}var O=a.calcXY(E.top,E.left),P=O.x,M=O.y;return p.call(a,a.props.i,P,M,{e:u,node:f,newPosition:E})}}},t.prototype.onResizeHandler=function(s){var a=this;return function(u,h){var f=h.node,g=h.size,v=a.props[s];if(v){var p=a.props,E=p.cols,T=p.x,S=p.i,x=p.maxW,O=p.minW,P=p.maxH,M=p.minH,G=a.calcWH(g),B=G.w,U=G.h;B=Math.min(B,E-T),B=Math.max(B,1),B=Math.max(Math.min(B,x),O),U=Math.max(Math.min(U,P),M),a.setState({resizing:s==="onResizeStop"?null:g}),v.call(a,S,B,U,{e:u,node:f,size:g})}}},t.prototype.render=function(){var s=this.props,a=s.x,u=s.y,h=s.w,f=s.h,g=s.isDraggable,v=s.isResizable,p=s.useCSSTransforms,E=this.calcPosition(a,u,h,f,this.state),T=Ag.default.Children.only(this.props.children),S=Ag.default.cloneElement(T,{className:(0,c3.default)("react-grid-item",T.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":g,"react-draggable-dragging":!!this.state.dragging,cssTransforms:p}),style:r7({},this.props.style,T.props.style,this.createStyle(E))});return v&&(S=this.mixinResizable(S,E)),g&&(S=this.mixinDraggable(S)),S},t}(Ag.default.Component);dl.propTypes={children:ba.default.element,cols:ba.default.number.isRequired,containerWidth:ba.default.number.isRequired,rowHeight:ba.default.number.isRequired,margin:ba.default.array.isRequired,maxRows:ba.default.number.isRequired,containerPadding:ba.default.array.isRequired,x:ba.default.number.isRequired,y:ba.default.number.isRequired,w:ba.default.number.isRequired,h:ba.default.number.isRequired,minW:function(t,r){var s=t[r];if(typeof s!="number")return new Error("minWidth not Number");if(s>t.w||s>t.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(t,r){var s=t[r];if(typeof s!="number")return new Error("maxWidth not Number");if(s<t.w||s<t.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(t,r){var s=t[r];if(typeof s!="number")return new Error("minHeight not Number");if(s>t.h||s>t.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(t,r){var s=t[r];if(typeof s!="number")return new Error("maxHeight not Number");if(s<t.h||s<t.minH)return new Error("maxHeight smaller than item height/minHeight")},i:ba.default.string.isRequired,onDragStop:ba.default.func,onDragStart:ba.default.func,onDrag:ba.default.func,onResizeStop:ba.default.func,onResizeStart:ba.default.func,onResize:ba.default.func,isDraggable:ba.default.bool.isRequired,isResizable:ba.default.bool.isRequired,static:ba.default.bool,useCSSTransforms:ba.default.bool.isRequired,className:ba.default.string,handle:ba.default.string,cancel:ba.default.string},dl.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},hO.default=dl,p1.__esModule=!0;var sp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jf=F.default,lp=Ch(jf),d3=$.exports,sa=Ch(d3),i7=Eh.exports,p3=Ch(i7),Wf=lO.exports,jS=Ch(Wf),ki=di,m3=hO,is=Ch(m3);function Ch(e){return e&&e.__esModule?e:{default:e}}function g3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function up(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var WS=function(e){up(t,e);function t(r,s){g3(this,t);var a=wg(this,e.call(this,r,s));return v3.call(a),(0,ki.autoBindHandlers)(a,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),a}return t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(s){var a=void 0;if(!(0,p3.default)(s.layout,this.props.layout)||s.compactType!==this.props.compactType?a=s.layout:(0,ki.childrenEqual)(this.props.children,s.children)||(a=this.state.layout),a){var u=(0,ki.synchronizeLayoutWithChildren)(a,s.children,s.cols,this.compactType(s)),h=this.state.layout;this.setState({layout:u}),this.onLayoutMaybeChanged(u,h)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var s=(0,ki.bottom)(this.state.layout),a=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return s*this.props.rowHeight+(s-1)*this.props.margin[1]+a*2+"px"}},t.prototype.compactType=function(s){return s||(s=this.props),s.verticalCompact===!1?null:s.compactType},t.prototype.onDragStart=function(s,a,u,h){var f=h.e,g=h.node,v=this.state.layout,p=(0,ki.getLayoutItem)(v,s);if(p)return this.setState({oldDragItem:(0,ki.cloneLayoutItem)(p),oldLayout:this.state.layout}),this.props.onDragStart(v,p,p,null,f,g)},t.prototype.onDrag=function(s,a,u,h){var f=h.e,g=h.node,v=this.state.oldDragItem,p=this.state.layout,E=this.props.cols,T=(0,ki.getLayoutItem)(p,s);if(T){var S={w:T.w,h:T.h,x:T.x,y:T.y,placeholder:!0,i:s},x=!0;p=(0,ki.moveElement)(p,T,a,u,x,this.props.preventCollision,this.compactType(),E),this.props.onDrag(p,v,T,S,f,g),this.setState({layout:(0,ki.compact)(p,this.compactType(),E),activeDrag:S})}},t.prototype.onDragStop=function(s,a,u,h){var f=h.e,g=h.node,v=this.state.oldDragItem,p=this.state.layout,E=this.props,T=E.cols,S=E.preventCollision,x=(0,ki.getLayoutItem)(p,s);if(x){var O=!0;p=(0,ki.moveElement)(p,x,a,u,O,S,this.compactType(),T),this.props.onDragStop(p,v,x,null,f,g);var P=(0,ki.compact)(p,this.compactType(),T),M=this.state.oldLayout;this.setState({activeDrag:null,layout:P,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(P,M)}},t.prototype.onLayoutMaybeChanged=function(s,a){a||(a=this.state.layout),(0,p3.default)(a,s)||this.props.onLayoutChange(s)},t.prototype.onResizeStart=function(s,a,u,h){var f=h.e,g=h.node,v=this.state.layout,p=(0,ki.getLayoutItem)(v,s);p&&(this.setState({oldResizeItem:(0,ki.cloneLayoutItem)(p),oldLayout:this.state.layout}),this.props.onResizeStart(v,p,p,null,f,g))},t.prototype.onResize=function(s,a,u,h){var f=h.e,g=h.node,v=this.state,p=v.layout,E=v.oldResizeItem,T=this.props,S=T.cols,x=T.preventCollision,O=(0,ki.getLayoutItem)(p,s);if(O){var P=void 0;if(x){var M=(0,ki.getAllCollisions)(p,sp({},O,{w:a,h:u})).filter(function(j){return j.i!==O.i});if(P=M.length>0,P){var G=1/0,B=1/0;M.forEach(function(j){j.x>O.x&&(G=Math.min(G,j.x)),j.y>O.y&&(B=Math.min(B,j.y))}),Number.isFinite(G)&&(O.w=G-O.x),Number.isFinite(B)&&(O.h=B-O.y)}}P||(O.w=a,O.h=u);var U={w:O.w,h:O.h,x:O.x,y:O.y,static:!0,i:s};this.props.onResize(p,E,O,U,f,g),this.setState({layout:(0,ki.compact)(p,this.compactType(),S),activeDrag:U})}},t.prototype.onResizeStop=function(s,a,u,h){var f=h.e,g=h.node,v=this.state,p=v.layout,E=v.oldResizeItem,T=this.props.cols,S=(0,ki.getLayoutItem)(p,s);this.props.onResizeStop(p,E,S,null,f,g);var x=(0,ki.compact)(p,this.compactType(),T),O=this.state.oldLayout;this.setState({activeDrag:null,layout:x,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(x,O)},t.prototype.placeholder=function(){var s=this.state.activeDrag;if(!s)return null;var a=this.props,u=a.width,h=a.cols,f=a.margin,g=a.containerPadding,v=a.rowHeight,p=a.maxRows,E=a.useCSSTransforms;return lp.default.createElement(is.default,{w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,className:"react-grid-placeholder",containerWidth:u,cols:h,margin:f,containerPadding:g||f,maxRows:p,rowHeight:v,isDraggable:!1,isResizable:!1,useCSSTransforms:E},lp.default.createElement("div",null))},t.prototype.processGridItem=function(s){if(!(!s||!s.key)){var a=(0,ki.getLayoutItem)(this.state.layout,String(s.key));if(!a)return null;var u=this.props,h=u.width,f=u.cols,g=u.margin,v=u.containerPadding,p=u.rowHeight,E=u.maxRows,T=u.isDraggable,S=u.isResizable,x=u.useCSSTransforms,O=u.draggableCancel,P=u.draggableHandle,M=this.state.mounted,G=!!(!a.static&&T&&(a.isDraggable||a.isDraggable==null)),B=!!(!a.static&&S&&(a.isResizable||a.isResizable==null));return lp.default.createElement(is.default,{containerWidth:h,cols:f,margin:g,containerPadding:v||g,maxRows:E,rowHeight:p,cancel:O,handle:P,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:G,isResizable:B,useCSSTransforms:x&&M,usePercentages:!M,w:a.w,h:a.h,x:a.x,y:a.y,i:a.i,minH:a.minH,minW:a.minW,maxH:a.maxH,maxW:a.maxW,static:a.static},s)}},t.prototype.render=function(){var s=this,a=this.props,u=a.className,h=a.style,f=(0,jS.default)("react-grid-layout",u),g=sp({height:this.containerHeight()},h);return lp.default.createElement("div",{className:f,style:g},lp.default.Children.map(this.props.children,function(v){return s.processGridItem(v)}),this.placeholder())},t}(lp.default.Component);WS.displayName="ReactGridLayout",WS.propTypes={className:sa.default.string,style:sa.default.object,width:sa.default.number,autoSize:sa.default.bool,cols:sa.default.number,draggableCancel:sa.default.string,draggableHandle:sa.default.string,verticalCompact:function(t){t.verticalCompact},compactType:sa.default.oneOf(["vertical","horizontal"]),layout:function(t){var r=t.layout;r!==void 0&&(0,ki.validateLayout)(r,"layout")},margin:sa.default.arrayOf(sa.default.number),containerPadding:sa.default.arrayOf(sa.default.number),rowHeight:sa.default.number,maxRows:sa.default.number,isDraggable:sa.default.bool,isResizable:sa.default.bool,preventCollision:sa.default.bool,useCSSTransforms:sa.default.bool,onLayoutChange:sa.default.func,onDragStart:sa.default.func,onDrag:sa.default.func,onDragStop:sa.default.func,onResizeStart:sa.default.func,onResize:sa.default.func,onResizeStop:sa.default.func,children:function(t,r){var s=t[r],a={};lp.default.Children.forEach(s,function(u){if(a[u.key])throw new Error('Duplicate child key "'+u.key+'" found! This will cause problems in ReactGridLayout.');a[u.key]=!0})}},WS.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:ki.noop,onDragStart:ki.noop,onDrag:ki.noop,onDragStop:ki.noop,onResizeStart:ki.noop,onResize:ki.noop,onResizeStop:ki.noop};var v3=function(){this.state={activeDrag:null,layout:(0,ki.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};p1.default=WS;var Nu={},cp={};cp.__esModule=!0,cp.getBreakpointFromWidth=Ca,cp.getColsFromBreakpoint=Xa,cp.findOrGenerateResponsiveLayout=pl,cp.sortBreakpoints=Xf;var w1=di;function Ca(e,t){for(var r=Xf(e),s=r[0],a=1,u=r.length;a<u;a++){var h=r[a];t>e[h]&&(s=h)}return s}function Xa(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function pl(e,t,r,s,a,u){if(e[r])return(0,w1.cloneLayout)(e[r]);for(var h=e[s],f=Xf(t),g=f.slice(f.indexOf(r)),v=0,p=g.length;v<p;v++){var E=g[v];if(e[E]){h=e[E];break}}return h=(0,w1.cloneLayout)(h||[]),(0,w1.compact)((0,w1.correctBounds)(h,{cols:a}),u,a)}function Xf(e){var t=Object.keys(e);return t.sort(function(r,s){return e[r]-e[s]})}Nu.__esModule=!0;var ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a7=F.default,y3=hp(a7),o7=$.exports,Cg=hp(o7),Pc=Eh.exports,DO=hp(Pc),Mu=di,Nc=cp,C1=p1,x1=hp(C1);function hp(e){return e&&e.__esModule?e:{default:e}}function I1(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}function D1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var OO=function(t){return Object.prototype.toString.call(t)},eu=function(e){XS(t,e);function t(){var r,s,a;D1(this,t);for(var u=arguments.length,h=Array(u),f=0;f<u;f++)h[f]=arguments[f];return a=(r=(s=fp(this,e.call.apply(e,[this].concat(h))),s),s.state=s.generateInitialState(),s.onLayoutChange=function(g){var v;s.props.onLayoutChange(g,ml({},s.props.layouts,(v={},v[s.state.breakpoint]=g,v)))},r),fp(s,a)}return t.prototype.generateInitialState=function(){var s=this.props,a=s.width,u=s.breakpoints,h=s.layouts,f=s.cols,g=(0,Nc.getBreakpointFromWidth)(u,a),v=(0,Nc.getColsFromBreakpoint)(g,f),p=this.props.verticalCompact===!1?null:this.props.compactType,E=(0,Nc.findOrGenerateResponsiveLayout)(h,u,g,g,v,p);return{layout:E,breakpoint:g,cols:v}},t.prototype.componentWillReceiveProps=function(s){if(s.width!=this.props.width||s.breakpoint!==this.props.breakpoint||!(0,DO.default)(s.breakpoints,this.props.breakpoints)||!(0,DO.default)(s.cols,this.props.cols))this.onWidthChange(s);else if(!(0,DO.default)(s.layouts,this.props.layouts)){var a=this.state,u=a.breakpoint,h=a.cols,f=(0,Nc.findOrGenerateResponsiveLayout)(s.layouts,s.breakpoints,u,u,h,s.compactType);this.setState({layout:f})}},t.prototype.onWidthChange=function(s){var a=s.breakpoints,u=s.cols,h=s.layouts,f=s.compactType,g=s.breakpoint||(0,Nc.getBreakpointFromWidth)(s.breakpoints,s.width),v=this.state.breakpoint;if(v!==g||this.props.breakpoints!==a||this.props.cols!==u){v in h||(h[v]=(0,Mu.cloneLayout)(this.state.layout));var p=(0,Nc.getColsFromBreakpoint)(g,u),E=(0,Nc.findOrGenerateResponsiveLayout)(h,a,g,v,p,f);E=(0,Mu.synchronizeLayoutWithChildren)(E,s.children,p,f),h[g]=E,this.props.onLayoutChange(E,h),this.props.onBreakpointChange(g,p),this.props.onWidthChange(s.width,s.margin,p,s.containerPadding),this.setState({breakpoint:g,layout:E,cols:p})}},t.prototype.render=function(){var s=this.props;s.breakpoint,s.breakpoints,s.cols,s.layouts,s.onBreakpointChange,s.onLayoutChange,s.onWidthChange;var a=I1(s,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return y3.default.createElement(x1.default,ml({},a,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(y3.default.Component);eu.propTypes={breakpoint:Cg.default.string,breakpoints:Cg.default.object,cols:Cg.default.object,layouts:function(t,r){if(OO(t[r])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+OO(t[r]));Object.keys(t[r]).forEach(function(s){if(!(s in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Mu.validateLayout)(t.layouts[s],"layouts."+s)})},width:Cg.default.number.isRequired,onBreakpointChange:Cg.default.func,onLayoutChange:Cg.default.func,onWidthChange:Cg.default.func},eu.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:Mu.noop,onLayoutChange:Mu.noop,onWidthChange:Mu.noop},Nu.default=eu;var R0={};R0.__esModule=!0;var kO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};R0.default=T3;var RO=F.default,P0=KS(RO),N0=$.exports,YS=KS(N0),qS=Te.default,ZS=KS(qS);function KS(e){return e&&e.__esModule?e:{default:e}}function b3(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}function _3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function s7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T3(e){var t,r;return r=t=function(s){s7(a,s);function a(){var u,h,f;_3(this,a);for(var g=arguments.length,v=Array(g),p=0;p<g;p++)v[p]=arguments[p];return f=(u=(h=QS(this,s.call.apply(s,[this].concat(v))),h),h.state={width:1280},h.mounted=!1,h.onWindowResize=function(){if(h.mounted){var E=ZS.default.findDOMNode(h);E instanceof HTMLElement&&h.setState({width:E.offsetWidth})}},u),QS(h,f)}return a.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},a.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},a.prototype.render=function(){var h=this.props,f=h.measureBeforeMount,g=b3(h,["measureBeforeMount"]);return f&&!this.mounted?P0.default.createElement("div",{className:this.props.className,style:this.props.style}):P0.default.createElement(e,kO({},g,this.state))},a}(P0.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:YS.default.bool},r}(function(e){e.exports=p1.default,e.exports.utils=di,e.exports.Responsive=Nu.default,e.exports.Responsive.utils=cp,e.exports.WidthProvider=R0.default})(sO);const l7=sO.exports;var dp={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(typeof window<"u"?window:ve,function(){if(typeof window>"u")return null;var r=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),s=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(p){return r.setTimeout(p,20)},a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||function(p){r.clearTimeout(p)};function u(p,E){var T=Object.prototype.toString.call(p),S=T==="[object Array]"||T==="[object NodeList]"||T==="[object HTMLCollection]"||T==="[object Object]"||typeof jQuery<"u"&&p instanceof jQuery||typeof Elements<"u"&&p instanceof Elements,x=0,O=p.length;if(S)for(;x<O;x++)E(p[x]);else E(p)}function h(p){if(!p.getBoundingClientRect)return{width:p.offsetWidth,height:p.offsetHeight};var E=p.getBoundingClientRect();return{width:Math.round(E.width),height:Math.round(E.height)}}function f(p,E){Object.keys(E).forEach(function(T){p.style[T]=E[T]})}var g=function(p,E){var T=0;function S(){var O=[];this.add=function(G){O.push(G)};var P,M;this.call=function(G){for(P=0,M=O.length;P<M;P++)O[P].call(this,G)},this.remove=function(G){var B=[];for(P=0,M=O.length;P<M;P++)O[P]!==G&&B.push(O[P]);O=B},this.length=function(){return O.length}}function x(O,P){if(O){if(O.resizedAttached){O.resizedAttached.add(P);return}O.resizedAttached=new S,O.resizedAttached.add(P),O.resizeSensor=document.createElement("div"),O.resizeSensor.dir="ltr",O.resizeSensor.className="resize-sensor";var M={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},G={position:"absolute",left:"0px",top:"0px",transition:"0s"};f(O.resizeSensor,M);var B=document.createElement("div");B.className="resize-sensor-expand",f(B,M);var U=document.createElement("div");f(U,G),B.appendChild(U);var j=document.createElement("div");j.className="resize-sensor-shrink",f(j,M);var Z=document.createElement("div");f(Z,G),f(Z,{width:"200%",height:"200%"}),j.appendChild(Z),O.resizeSensor.appendChild(B),O.resizeSensor.appendChild(j),O.appendChild(O.resizeSensor);var ee=window.getComputedStyle(O),J=ee?ee.getPropertyValue("position"):null;J!=="absolute"&&J!=="relative"&&J!=="fixed"&&J!=="sticky"&&(O.style.position="relative");var he=!1,pe=0,ae=h(O),ye=0,Ee=0,ue=!0;T=0;var be=function(){var mt=O.offsetWidth,kt=O.offsetHeight;U.style.width=mt+10+"px",U.style.height=kt+10+"px",B.scrollLeft=mt+10,B.scrollTop=kt+10,j.scrollLeft=mt+10,j.scrollTop=kt+10},Me=function(){if(ue){var mt=O.offsetWidth===0&&O.offsetHeight===0;if(mt){T||(T=s(function(){T=0,Me()}));return}else ue=!1}be()};O.resizeSensor.resetSensor=Me;var Xe=function(){pe=0,he&&(ye=ae.width,Ee=ae.height,O.resizedAttached&&O.resizedAttached.call(ae))},rt=function(){ae=h(O),he=ae.width!==ye||ae.height!==Ee,he&&!pe&&(pe=s(Xe)),Me()},st=function(mt,kt,Le){mt.attachEvent?mt.attachEvent("on"+kt,Le):mt.addEventListener(kt,Le)};st(B,"scroll",rt),st(j,"scroll",rt),T=s(function(){T=0,Me()})}}u(p,function(O){x(O,E)}),this.detach=function(O){T||(a(T),T=0),g.detach(p,O)},this.reset=function(){p.resizeSensor.resetSensor()}};if(g.reset=function(p){u(p,function(E){E.resizeSensor.resetSensor()})},g.detach=function(p,E){u(p,function(T){T&&(T.resizedAttached&&typeof E=="function"&&(T.resizedAttached.remove(E),T.resizedAttached.length())||T.resizeSensor&&(T.contains(T.resizeSensor)&&T.removeChild(T.resizeSensor),delete T.resizeSensor,delete T.resizedAttached))})},typeof MutationObserver<"u"){var v=new MutationObserver(function(p){for(var E in p)if(p.hasOwnProperty(E))for(var T=p[E].addedNodes,S=0;S<T.length;S++)T[S].resizeSensor&&g.reset(T[S])});document.addEventListener("DOMContentLoaded",function(p){v.observe(document.body,{childList:!0,subtree:!0})})}return g})})(dp);var oo={exports:{}};(function(e,t){(function(r,s){e.exports=s(dp.exports)})(typeof window<"u"?window:ve,function(r){var s=function(){var u,h={},f=[];function g(ee){ee||(ee=document.documentElement);var J=window.getComputedStyle(ee,null).fontSize;return parseFloat(J)||16}function v(ee){if(!ee.getBoundingClientRect)return{width:ee.offsetWidth,height:ee.offsetHeight};var J=ee.getBoundingClientRect();return{width:Math.round(J.width),height:Math.round(J.height)}}function p(ee,J){var he=J.split(/\d/),pe=he[he.length-1];switch(J=parseFloat(J),pe){case"px":return J;case"em":return J*g(ee);case"rem":return J*g();case"vw":return J*document.documentElement.clientWidth/100;case"vh":return J*document.documentElement.clientHeight/100;case"vmin":case"vmax":var ae=document.documentElement.clientWidth/100,ye=document.documentElement.clientHeight/100,Ee=Math[pe==="vmin"?"min":"max"];return J*Ee(ae,ye);default:return J}}function E(ee,J){this.element=ee;var he,pe,ae,ye,Ee,ue,be,Me,Xe=["min-width","min-height","max-width","max-height"];this.call=function(){ae=v(this.element),ue={};for(he in h[J])h[J].hasOwnProperty(he)&&(pe=h[J][he],ye=p(this.element,pe.value),Ee=pe.property==="width"?ae.width:ae.height,Me=pe.mode+"-"+pe.property,be="",pe.mode==="min"&&Ee>=ye&&(be+=pe.value),pe.mode==="max"&&Ee<=ye&&(be+=pe.value),ue[Me]||(ue[Me]=""),be&&(" "+ue[Me]+" ").indexOf(" "+be+" ")===-1&&(ue[Me]+=" "+be));for(var rt in Xe)Xe.hasOwnProperty(rt)&&(ue[Xe[rt]]?this.element.setAttribute(Xe[rt],ue[Xe[rt]].substr(1)):this.element.removeAttribute(Xe[rt]))}}function T(ee,J){ee.elementQueriesSetupInformation||(ee.elementQueriesSetupInformation=new E(ee,J)),ee.elementQueriesSensor||(ee.elementQueriesSensor=new r(ee,function(){ee.elementQueriesSetupInformation.call()}))}function S(ee,J,he,pe){if(typeof h[ee]>"u"){h[ee]=[];var ae=f.length;u.innerHTML+=`
`+ee+" {animation: 0.1s element-queries;}",u.innerHTML+=`
`+ee+" > .resize-sensor {min-width: "+ae+"px;}",f.push(ee)}h[ee].push({mode:J,property:he,value:pe})}function x(ee){var J;if(document.querySelectorAll&&(J=ee?ee.querySelectorAll.bind(ee):document.querySelectorAll.bind(document)),!J&&typeof $$<"u"&&(J=$$),!J&&typeof jQuery<"u"&&(J=jQuery),!J)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return J}function O(ee){var J=x(ee);for(var he in h)if(h.hasOwnProperty(he))for(var pe=J(he,ee),ae=0,ye=pe.length;ae<ye;ae++)T(pe[ae],he)}function P(ee){var J=[],he=[],pe=[],ae=0,ye=-1,Ee=[];for(var ue in ee.children)if(ee.children.hasOwnProperty(ue)&&ee.children[ue].tagName&&ee.children[ue].tagName.toLowerCase()==="img"){J.push(ee.children[ue]);var be=ee.children[ue].getAttribute("min-width")||ee.children[ue].getAttribute("data-min-width"),Me=ee.children[ue].getAttribute("data-src")||ee.children[ue].getAttribute("url");pe.push(Me);var Xe={minWidth:be};he.push(Xe),be?ee.children[ue].style.display="none":(ae=J.length-1,ee.children[ue].style.display="block")}ye=ae;function rt(){var st=!1,mt;for(mt in J)J.hasOwnProperty(mt)&&he[mt].minWidth&&ee.offsetWidth>he[mt].minWidth&&(st=mt);if(st||(st=ae),ye!==st)if(Ee[st])J[ye].style.display="none",J[st].style.display="block",ye=st;else{var kt=new Image;kt.onload=function(){J[st].src=pe[st],J[ye].style.display="none",J[st].style.display="block",Ee[st]=!0,ye=st},kt.src=pe[st]}else J[st].src=pe[st]}ee.resizeSensorInstance=new r(ee,rt),rt()}function M(){for(var ee=x(),J=ee("[data-responsive-image],[responsive-image]"),he=0,pe=J.length;he<pe;he++)P(J[he])}var G=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi,B=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi;function U(ee){var J,he,pe,ae;for(ee=ee.replace(/'/g,'"');(J=G.exec(ee))!==null;)for(he=J[1]+J[3],pe=J[2];(ae=B.exec(pe))!==null;)S(he,ae[1],ae[2],ae[3])}function j(ee){var J="";if(ee)if(typeof ee=="string")ee=ee.toLowerCase(),(ee.indexOf("min-width")!==-1||ee.indexOf("max-width")!==-1)&&U(ee);else for(var he=0,pe=ee.length;he<pe;he++)ee[he].type===1?(J=ee[he].selectorText||ee[he].cssText,(J.indexOf("min-height")!==-1||J.indexOf("max-height")!==-1||J.indexOf("min-width")!==-1||J.indexOf("max-width")!==-1)&&U(J)):ee[he].type===4?j(ee[he].cssRules||ee[he].rules):ee[he].type===3&&ee[he].styleSheet.hasOwnProperty("cssRules")&&j(ee[he].styleSheet.cssRules)}var Z=!1;this.init=function(){var ee="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?ee="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?ee="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(ee="oanimationstart"),document.body.addEventListener(ee,function(pe){var ae=pe.target,ye=ae&&window.getComputedStyle(ae,null),Ee=ye&&ye.getPropertyValue("animation-name"),ue=Ee&&Ee.indexOf("element-queries")!==-1;if(ue){ae.elementQueriesSensor=new r(ae,function(){ae.elementQueriesSetupInformation&&ae.elementQueriesSetupInformation.call()});var be=window.getComputedStyle(ae.resizeSensor,null),Me=be.getPropertyValue("min-width");Me=parseInt(Me.replace("px","")),T(pe.target,f[Me])}}),Z||(u=document.createElement("style"),u.type="text/css",u.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",u.innerHTML+=`
@keyframes element-queries { 0% { visibility: inherit; } }`,document.getElementsByTagName("head")[0].appendChild(u),Z=!0);for(var J=0,he=document.styleSheets.length;J<he;J++)try{document.styleSheets[J].href&&document.styleSheets[J].href.indexOf("file://")===0&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[J].href),j(document.styleSheets[J].cssRules||document.styleSheets[J].rules||document.styleSheets[J].cssText)}catch{}M()},this.findElementQueriesElements=function(ee){O(ee)},this.update=function(){this.init()}};s.update=function(){s.instance.update()},s.detach=function(u){u.elementQueriesSetupInformation?(u.elementQueriesSensor.detach(),delete u.elementQueriesSetupInformation,delete u.elementQueriesSensor):u.resizeSensorInstance&&(u.resizeSensorInstance.detach(),delete u.resizeSensorInstance)},s.init=function(){s.instance||(s.instance=new s),s.instance.init()};var a=function(u){if(document.addEventListener)document.addEventListener("DOMContentLoaded",u,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var h=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(u(),clearInterval(h))},10);else window.onload=u};return s.findElementQueriesElements=function(u){s.instance.findElementQueriesElements(u)},s.listen=function(){a(s.init)},s})})(oo);var O1={ResizeSensor:dp.exports,ElementQueries:oo.exports};function k1(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            ";break}for(var r=[`
`],s=0;s<100;s++)r.push(r[s]+t);return r}function Lu(){this.step="    ",this.shift=k1(this.step)}Lu.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),s=r.length,a=!1,u=0,h="",f=0,g=t?k1(t):this.shift;for(f=0;f<s;f++)r[f].search(/<!/)>-1?(h+=g[u]+r[f],a=!0,(r[f].search(/-->/)>-1||r[f].search(/\]>/)>-1||r[f].search(/!DOCTYPE/)>-1)&&(a=!1)):r[f].search(/-->/)>-1||r[f].search(/\]>/)>-1?(h+=r[f],a=!1):/^<\w/.exec(r[f-1])&&/^<\/\w/.exec(r[f])&&/^<[\w:\-\.\,]+/.exec(r[f-1])==/^<\/[\w:\-\.\,]+/.exec(r[f])[0].replace("/","")?(h+=r[f],a||u--):r[f].search(/<\w/)>-1&&r[f].search(/<\//)==-1&&r[f].search(/\/>/)==-1?h=a?h+=r[f]:h+=g[u++]+r[f]:r[f].search(/<\w/)>-1&&r[f].search(/<\//)>-1?h=a?h+=r[f]:h+=g[u]+r[f]:r[f].search(/<\//)>-1?h=a?h+=r[f]:h+=g[--u]+r[f]:r[f].search(/\/>/)>-1?h=a?h+=r[f]:h+=g[u]+r[f]:r[f].search(/<\?/)>-1||r[f].search(/xmlns\:/)>-1||r[f].search(/xmlns\=/)>-1?h+=g[u]+r[f]:h+=r[f];return h[0]==`
`?h.slice(1):h},Lu.prototype.json=function(e,r){var r=r||this.step;return typeof JSON>"u"?e:typeof e=="string"?JSON.stringify(JSON.parse(e),null,r):typeof e=="object"?JSON.stringify(e,null,r):e},Lu.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),s=r.length,a=0,u="",h=0,f=t?k1(t):this.shift;for(h=0;h<s;h++)/\{/.exec(r[h])?u+=f[a++]+r[h]:/\}/.exec(r[h])?u+=f[--a]+r[h]:(/\*\\/.exec(r[h]),u+=f[a]+r[h]);return u.replace(/^\n{1,}/,"")};function PO(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function JS(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+t+t+"AND ").replace(/ BETWEEN /ig,"~::~"+t+"BETWEEN ").replace(/ CASE /ig,"~::~"+t+"CASE ").replace(/ ELSE /ig,"~::~"+t+"ELSE ").replace(/ END /ig,"~::~"+t+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+t+"ON ").replace(/ OR /ig,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+t).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+t+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}Lu.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),s=r.length,a=[],u=0,h=this.step,f=0,g="",v=0,p=t?k1(t):this.shift;for(v=0;v<s;v++)v%2?a=a.concat(r[v]):a=a.concat(JS(r[v],h));for(s=a.length,v=0;v<s;v++)f=PO(a[v],f),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[v])&&(a[v]=a[v].replace(/\,/g,`,
`+h+h)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[v])&&(a[v]=a[v].replace(/\,/g,`,
`+h+h)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[v])?(u++,g+=p[u]+a[v]):/\'/.exec(a[v])?(f<1&&u&&u--,g+=a[v]):(g+=p[u]+a[v],f<1&&u&&u--);return g=g.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),g},Lu.prototype.xmlmin=function(e,t){var r=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return r.replace(/>\s{0,}</g,"><")},Lu.prototype.jsonmin=function(e){return typeof JSON>"u"?e:JSON.stringify(JSON.parse(e),null,0)},Lu.prototype.cssmin=function(e,t){var r=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return r.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},Lu.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};var NO=new Lu,eA=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},R1={},E3=Object.prototype.hasOwnProperty,pp;function Yf(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function MO(e){try{return encodeURIComponent(e)}catch{return null}}function u7(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},s;s=t.exec(e);){var a=Yf(s[1]),u=Yf(s[2]);a===null||u===null||a in r||(r[a]=u)}return r}function P1(e,t){t=t||"";var r=[],s,a;typeof t!="string"&&(t="?");for(a in e)if(E3.call(e,a)){if(s=e[a],!s&&(s===null||s===pp||isNaN(s))&&(s=""),a=MO(a),s=MO(s),a===null||s===null)continue;r.push(a+"="+s)}return r.length?t+r.join("&"):""}R1.stringify=P1,R1.parse=u7;var S3=eA,N1=R1,tA=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,LO=/[\n\r\t]/g,FO=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,A3=/:\d+$/,w3=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,BO=/^[a-zA-Z]:/;function M1(e){return(e||"").toString().replace(tA,"")}var L1=[["#","hash"],["?","query"],function(t,r){return Mc(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],rA={hash:1,query:1};function nA(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var s={},a=typeof e,u;if(e.protocol==="blob:")s=new Fu(unescape(e.pathname),{});else if(a==="string"){s=new Fu(e,{});for(u in rA)delete s[u]}else if(a==="object"){for(u in e)u in rA||(s[u]=e[u]);s.slashes===void 0&&(s.slashes=FO.test(e.href))}return s}function Mc(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function F1(e,t){e=M1(e),e=e.replace(LO,""),t=t||{};var r=w3.exec(e),s=r[1]?r[1].toLowerCase():"",a=!!r[2],u=!!r[3],h=0,f;return a?u?(f=r[2]+r[3]+r[4],h=r[2].length+r[3].length):(f=r[2]+r[4],h=r[2].length):u?(f=r[3]+r[4],h=r[3].length):f=r[4],s==="file:"?h>=2&&(f=f.slice(2)):Mc(s)?f=r[4]:s?a&&(f=f.slice(2)):h>=2&&Mc(t.protocol)&&(f=r[4]),{protocol:s,slashes:a||Mc(s),slashesCount:h,rest:f}}function HO(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),s=r.length,a=r[s-1],u=!1,h=0;s--;)r[s]==="."?r.splice(s,1):r[s]===".."?(r.splice(s,1),h++):h&&(s===0&&(u=!0),r.splice(s,1),h--);return u&&r.unshift(""),(a==="."||a==="..")&&r.push(""),r.join("/")}function Fu(e,t,r){if(e=M1(e),e=e.replace(LO,""),!(this instanceof Fu))return new Fu(e,t,r);var s,a,u,h,f,g,v=L1.slice(),p=typeof t,E=this,T=0;for(p!=="object"&&p!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=N1.parse),t=nA(t),a=F1(e||"",t),s=!a.protocol&&!a.slashes,E.slashes=a.slashes||s&&t.slashes,E.protocol=a.protocol||t.protocol||"",e=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||BO.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!Mc(E.protocol)))&&(v[3]=[/(.*)/,"pathname"]);T<v.length;T++){if(h=v[T],typeof h=="function"){e=h(e,E);continue}u=h[0],g=h[1],u!==u?E[g]=e:typeof u=="string"?(f=u==="@"?e.lastIndexOf(u):e.indexOf(u),~f&&(typeof h[2]=="number"?(E[g]=e.slice(0,f),e=e.slice(f+h[2])):(E[g]=e.slice(f),e=e.slice(0,f)))):(f=u.exec(e))&&(E[g]=f[1],e=e.slice(0,f.index)),E[g]=E[g]||s&&h[3]&&t[g]||"",h[4]&&(E[g]=E[g].toLowerCase())}r&&(E.query=r(E.query)),s&&t.slashes&&E.pathname.charAt(0)!=="/"&&(E.pathname!==""||t.pathname!=="")&&(E.pathname=HO(E.pathname,t.pathname)),E.pathname.charAt(0)!=="/"&&Mc(E.protocol)&&(E.pathname="/"+E.pathname),S3(E.port,E.protocol)||(E.host=E.hostname,E.port=""),E.username=E.password="",E.auth&&(f=E.auth.indexOf(":"),~f?(E.username=E.auth.slice(0,f),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=E.auth.slice(f+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(E.auth)),E.auth=E.password?E.username+":"+E.password:E.username),E.origin=E.protocol!=="file:"&&Mc(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString()}function UO(e,t,r){var s=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||N1.parse)(t)),s[e]=t;break;case"port":s[e]=t,S3(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,A3.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(t){var a=e==="pathname"?"/":"#";s[e]=t.charAt(0)!==a?a+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var u=t.indexOf(":");~u?(s.username=t.slice(0,u),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=t.slice(u+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(t))}for(var h=0;h<L1.length;h++){var f=L1[h];f[4]&&(s[f[1]]=s[f[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin=s.protocol!=="file:"&&Mc(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function C3(e){(!e||typeof e!="function")&&(e=N1.stringify);var t,r=this,s=r.host,a=r.protocol;a&&a.charAt(a.length-1)!==":"&&(a+=":");var u=a+(r.protocol&&r.slashes||Mc(r.protocol)?"//":"");return r.username?(u+=r.username,r.password&&(u+=":"+r.password),u+="@"):r.password?(u+=":"+r.password,u+="@"):r.protocol!=="file:"&&Mc(r.protocol)&&!s&&r.pathname!=="/"&&(u+="@"),(s[s.length-1]===":"||A3.test(r.hostname)&&!r.port)&&(s+=":"),u+=s+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(u+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(u+=r.hash),u}Fu.prototype={set:UO,toString:C3},Fu.extractProtocol=F1,Fu.location=nA,Fu.trimLeft=M1,Fu.qs=N1;var iA=Fu;const aA=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),oA=(e,t)=>t?e.toLowerCase():e,x3=(e,{caseInsensitive:t}={})=>(r,s,a=1/0)=>{const u=oA(r,t);return e[u]||(e[u]=[],e.__times__[u]=[]),e[u].push(s),e.__times__[u].push(+a||1/0),{event:u,handler:s}},sA=(e,{caseInsensitive:t}={})=>(r,s)=>{typeof r=="object"&&(s=r.handler,r=r.event);const a=oA(r,t);if(!e[a])return;const u=e[a].indexOf(s);u===-1||u>=e[a].length||(e[a].splice(u,1),e.__times__[a].splice(u,1))},GO=(e,t)=>()=>{e.forEach(r=>r(t))},I3=(e,{isGlobal:t,caseInsensitive:r,async:s}={})=>{const a=sA(e);return(u,h,f={})=>{const g=oA(u,r);if(!e[g])return;const v=[...e[g]];if(v.forEach((p,E)=>{--e.__times__[g][E]<1&&a(g,p)}),s||f.async?setTimeout(GO(v,h),0):GO(v,h)(),t&&!f.isNoGlobalBroadcast)try{aA.postMessage({event:g,news:h})}catch(p){if(p instanceof DOMException)console.warn(`Could not broadcast '${g}' globally. Payload is not clonable.`);else throw p}}},D3=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},lA=()=>({__times__:{}}),uA=({async:e=!1,caseInsensitive:t=!1,stack:r=lA()}={})=>(r.__times__||(r.__times__={}),{publish:I3(r,{async:e,caseInsensitive:t}),subscribe:x3(r,{caseInsensitive:t}),unsubscribe:sA(r,{caseInsensitive:t}),clear:D3(r),stack:r}),cA=lA(),xg={publish:I3(cA,{isGlobal:!0}),subscribe:x3(cA),unsubscribe:sA(cA),stack:cA};aA.onmessage=({data:{event:e,news:t}})=>xg.publish(e,t,!0);const mn={"context-menu":"_context-menu_18ock_1","context-menu-dark":"_context-menu-dark_18ock_12","context-menu-icon":"_context-menu-icon_18ock_17","context-menu-item":"_context-menu-item_18ock_27","context-menu-hr":"_context-menu-hr_18ock_38","play-icon":"_play-icon_18ock_45","context-menu-span":"_context-menu-span_18ock_52","context-menu-thumbnail":"_context-menu-thumbnail_18ock_60","context-menu-thumbnail-inline":"_context-menu-thumbnail-inline_18ock_65"};function Pn(e){return F.default.createElement("div",{"data-menu-item-for":typeof e.children=="string"?e.children:null,className:mn["context-menu-item"],onClick:t=>e.onClick(t),onMouseEnter:t=>e.onMouseEnter(t),onMouseLeave:t=>e.onMouseLeave(t),role:"button",tabIndex:0},F.default.createElement("span",{className:mn["context-menu-span"]},e.children))}Pn.defaultProps={onMouseEnter:()=>{},onMouseLeave:()=>{}},Pn.propTypes={children:$.exports.node.isRequired,onClick:$.exports.func.isRequired,onMouseEnter:$.exports.func,onMouseLeave:$.exports.func};var $O={value:()=>{}};function mp(){for(var e=0,t=arguments.length,r={},s;e<t;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new B1(r)}function B1(e){this._=e}function hA(e,t){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}B1.prototype=mp.prototype={constructor:B1,on:function(e,t){var r=this._,s=hA(e+"",r),a,u=-1,h=s.length;if(arguments.length<2){for(;++u<h;)if((a=(e=s[u]).type)&&(a=H1(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(a=(e=s[u]).type)r[a]=U1(r[a],e.name,t);else if(t==null)for(a in r)r[a]=U1(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new B1(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,u;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,a=u.length;s<a;++s)u[s].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,u=s.length;a<u;++a)s[a].value.apply(t,r)}};function H1(e,t){for(var r=0,s=e.length,a;r<s;++r)if((a=e[r]).name===t)return a.value}function U1(e,t,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=$O,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:t,value:r}),e}function M0(e){e.stopImmediatePropagation()}function Ig(e){e.preventDefault(),e.stopImmediatePropagation()}function Dg(e){var t=e.document.documentElement,r=Ut(e).on("dragstart.drag",Ig,!0);"onselectstart"in t?r.on("selectstart.drag",Ig,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function G1(e,t){var r=e.document.documentElement,s=Ut(e).on("dragstart.drag",null);t&&(s.on("click.drag",Ig,!0),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const fA=e=>()=>e;function zO(e,{sourceEvent:t,subject:r,target:s,identifier:a,active:u,x:h,y:f,dx:g,dy:v,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:v,enumerable:!0,configurable:!0},_:{value:p}})}zO.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $1(e){return!e.ctrlKey&&!e.button}function gp(){return this.parentNode}function z1(e,t){return t??{x:e.x,y:e.y}}function dA(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bu(){var e=$1,t=gp,r=z1,s=dA,a={},u=mp("start","drag","end"),h=0,f,g,v,p,E=0;function T(U){U.on("mousedown.drag",S).filter(s).on("touchstart.drag",P).on("touchmove.drag",M).on("touchend.drag touchcancel.drag",G).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(U,j){if(!(p||!e.call(this,U,j))){var Z=B(this,t.call(this,U,j),U,j,"mouse");Z&&(Ut(U.view).on("mousemove.drag",x,!0).on("mouseup.drag",O,!0),Dg(U.view),M0(U),v=!1,f=U.clientX,g=U.clientY,Z("start",U))}}function x(U){if(Ig(U),!v){var j=U.clientX-f,Z=U.clientY-g;v=j*j+Z*Z>E}a.mouse("drag",U)}function O(U){Ut(U.view).on("mousemove.drag mouseup.drag",null),G1(U.view,v),Ig(U),a.mouse("end",U)}function P(U,j){if(e.call(this,U,j)){var Z=U.changedTouches,ee=t.call(this,U,j),J=Z.length,he,pe;for(he=0;he<J;++he)(pe=B(this,ee,U,j,Z[he].identifier,Z[he]))&&(M0(U),pe("start",U,Z[he]))}}function M(U){var j=U.changedTouches,Z=j.length,ee,J;for(ee=0;ee<Z;++ee)(J=a[j[ee].identifier])&&(Ig(U),J("drag",U,j[ee]))}function G(U){var j=U.changedTouches,Z=j.length,ee,J;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),ee=0;ee<Z;++ee)(J=a[j[ee].identifier])&&(M0(U),J("end",U,j[ee]))}function B(U,j,Z,ee,J,he){var pe=u.copy(),ae=nn(he||Z,j),ye,Ee,ue;if((ue=r.call(U,new zO("beforestart",{sourceEvent:Z,target:T,identifier:J,active:h,x:ae[0],y:ae[1],dx:0,dy:0,dispatch:pe}),ee))!=null)return ye=ue.x-ae[0]||0,Ee=ue.y-ae[1]||0,function be(Me,Xe,rt){var st=ae,mt;switch(Me){case"start":a[J]=be,mt=h++;break;case"end":delete a[J],--h;case"drag":ae=nn(rt||Xe,j),mt=h;break}pe.call(Me,U,new zO(Me,{sourceEvent:Xe,subject:ue,target:T,identifier:J,active:mt,x:ae[0]+ye,y:ae[1]+Ee,dx:ae[0]-st[0],dy:ae[1]-st[1],dispatch:pe}),ee)}}return T.filter=function(U){return arguments.length?(e=typeof U=="function"?U:fA(!!U),T):e},T.container=function(U){return arguments.length?(t=typeof U=="function"?U:fA(U),T):t},T.subject=function(U){return arguments.length?(r=typeof U=="function"?U:fA(U),T):r},T.touchable=function(U){return arguments.length?(s=typeof U=="function"?U:fA(!!U),T):s},T.on=function(){var U=u.on.apply(u,arguments);return U===u?T:U},T.clickDistance=function(U){return arguments.length?(E=(U=+U)*U,T):Math.sqrt(E)},T}const O3=Object.freeze(Object.defineProperty({__proto__:null,drag:Bu,dragDisable:Dg,dragEnable:G1},Symbol.toStringTag,{value:"Module"}));var vp=0,xh=0,Og=0,VO=1e3,L0,V1,j1=0,qf=0,yp=0,Xs=typeof performance=="object"&&performance.now?performance:Date,W1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kg(){return qf||(W1(jO),qf=Xs.now()+yp)}function jO(){qf=0}function pA(){this._call=this._time=this._next=null}pA.prototype=bp.prototype={constructor:pA,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?kg():+r)+(t==null?0:+t),!this._next&&V1!==this&&(V1?V1._next=this:L0=this,V1=this),this._call=e,this._time=r,_p()},stop:function(){this._call&&(this._call=null,this._time=1/0,_p())}};function bp(e,t,r){var s=new pA;return s.restart(e,t,r),s}function F0(){kg(),++vp;for(var e=L0,t;e;)(t=qf-e._time)>=0&&e._call.call(null,t),e=e._next;--vp}function k3(){qf=(j1=Xs.now())+yp,vp=xh=0;try{F0()}finally{vp=0,WO(),qf=0}}function mA(){var e=Xs.now(),t=e-j1;t>VO&&(yp-=t,j1=e)}function WO(){for(var e,t=L0,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:L0=r);V1=e,_p(s)}function _p(e){if(!vp){xh&&(xh=clearTimeout(xh));var t=e-qf;t>24?(e<1/0&&(xh=setTimeout(k3,e-Xs.now()-yp)),Og&&(Og=clearInterval(Og))):(Og||(j1=Xs.now(),Og=setInterval(mA,VO)),vp=1,W1(k3))}}function Rg(e,t,r){var s=new pA;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,r),s}var X1=mp("start","end","cancel","interrupt"),Hu=[],Tp=0,Zf=1,XO=2,Y1=3,YO=4,gA=5,B0=6;function vA(e,t,r,s,a,u){var h=e.__transition;if(!h)e.__transition={};else if(r in h)return;yA(e,r,{name:t,index:s,group:a,on:X1,tween:Hu,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Tp})}function qO(e,t){var r=Uu(e,t);if(r.state>Tp)throw new Error("too late; already scheduled");return r}function Ih(e,t){var r=Uu(e,t);if(r.state>Y1)throw new Error("too late; already running");return r}function Uu(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function yA(e,t,r){var s=e.__transition,a;s[t]=r,r.timer=bp(u,0,r.time);function u(v){r.state=Zf,r.timer.restart(h,r.delay,r.time),r.delay<=v&&h(v-r.delay)}function h(v){var p,E,T,S;if(r.state!==Zf)return g();for(p in s)if(S=s[p],S.name===r.name){if(S.state===Y1)return Rg(h);S.state===YO?(S.state=B0,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete s[p]):+p<t&&(S.state=B0,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete s[p])}if(Rg(function(){r.state===Y1&&(r.state=YO,r.timer.restart(f,r.delay,r.time),f(v))}),r.state=XO,r.on.call("start",e,e.__data__,r.index,r.group),r.state===XO){for(r.state=Y1,a=new Array(T=r.tween.length),p=0,E=-1;p<T;++p)(S=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(a[++E]=S);a.length=E+1}}function f(v){for(var p=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(g),r.state=gA,1),E=-1,T=a.length;++E<T;)a[E].call(e,p);r.state===gA&&(r.on.call("end",e,e.__data__,r.index,r.group),g())}function g(){r.state=B0,r.timer.stop(),delete s[t];for(var v in s)return;delete e.__transition}}function q1(e,t){var r=e.__transition,s,a,u=!0,h;if(r){t=t==null?null:t+"";for(h in r){if((s=r[h]).name!==t){u=!1;continue}a=s.state>XO&&s.state<gA,s.state=B0,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[h]}u&&delete e.__transition}}function ZO(e){return this.each(function(){q1(this,e)})}function Z1(e,t){var r,s;return function(){var a=Ih(this,e),u=a.tween;if(u!==r){s=r=u;for(var h=0,f=s.length;h<f;++h)if(s[h].name===t){s=s.slice(),s.splice(h,1);break}}a.tween=s}}function KO(e,t,r){var s,a;if(typeof r!="function")throw new Error;return function(){var u=Ih(this,e),h=u.tween;if(h!==s){a=(s=h).slice();for(var f={name:t,value:r},g=0,v=a.length;g<v;++g)if(a[g].name===t){a[g]=f;break}g===v&&a.push(f)}u.tween=a}}function c7(e,t){var r=this._id;if(e+="",arguments.length<2){for(var s=Uu(this.node(),r).tween,a=0,u=s.length,h;a<u;++a)if((h=s[a]).name===e)return h.value;return null}return this.each((t==null?Z1:KO)(r,e,t))}function K1(e,t,r){var s=e._id;return e.each(function(){var a=Ih(this,s);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Uu(a,s).value[t]}}function R3(e,t){var r;return(typeof t=="number"?ul:t instanceof Ma?h0:(r=Ma(t))?(t=r,h0):ag)(e,t)}function P3(e){return function(){this.removeAttribute(e)}}function h7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nr(e,t,r){var s,a=r+"",u;return function(){var h=this.getAttribute(e);return h===a?null:h===s?u:u=t(s=h,r)}}function Gu(e,t,r){var s,a=r+"",u;return function(){var h=this.getAttributeNS(e.space,e.local);return h===a?null:h===s?u:u=t(s=h,r)}}function QO(e,t,r){var s,a,u;return function(){var h,f=r(this),g;return f==null?void this.removeAttribute(e):(h=this.getAttribute(e),g=f+"",h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f)))}}function JO(e,t,r){var s,a,u;return function(){var h,f=r(this),g;return f==null?void this.removeAttributeNS(e.space,e.local):(h=this.getAttributeNS(e.space,e.local),g=f+"",h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f)))}}function Q1(e,t){var r=Gt(e),s=r==="transform"?Yb:R3;return this.attrTween(e,typeof t=="function"?(r.local?JO:QO)(r,s,K1(this,"attr."+e,t)):t==null?(r.local?h7:P3)(r):(r.local?Gu:Nr)(r,s,t))}function la(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function bs(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function jo(e,t){var r,s;function a(){var u=t.apply(this,arguments);return u!==s&&(r=(s=u)&&bs(e,u)),r}return a._value=t,a}function bA(e,t){var r,s;function a(){var u=t.apply(this,arguments);return u!==s&&(r=(s=u)&&la(e,u)),r}return a._value=t,a}function J1(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var s=Gt(e);return this.tween(r,(s.local?jo:bA)(s,t))}function f7(e,t){return function(){qO(this,e).delay=+t.apply(this,arguments)}}function ar(e,t){return t=+t,function(){qO(this,e).delay=t}}function $u(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f7:ar)(t,e)):Uu(this.node(),t).delay}function Ep(e,t){return function(){Ih(this,e).duration=+t.apply(this,arguments)}}function ek(e,t){return t=+t,function(){Ih(this,e).duration=t}}function ea(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ep:ek)(t,e)):Uu(this.node(),t).duration}function Br(e,t){if(typeof t!="function")throw new Error;return function(){Ih(this,e).ease=t}}function e_(e){var t=this._id;return arguments.length?this.each(Br(t,e)):Uu(this.node(),t).ease}function d7(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ih(this,e).ease=r}}function gl(e){if(typeof e!="function")throw new Error;return this.each(d7(this._id,e))}function tk(e){typeof e!="function"&&(e=yi(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var u=t[a],h=u.length,f=s[a]=[],g,v=0;v<h;++v)(g=u[v])&&e.call(g,g.__data__,v,u)&&f.push(g);return new zu(s,this._parents,this._name,this._id)}function H0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,s=t.length,a=r.length,u=Math.min(s,a),h=new Array(s),f=0;f<u;++f)for(var g=t[f],v=r[f],p=g.length,E=h[f]=new Array(p),T,S=0;S<p;++S)(T=g[S]||v[S])&&(E[S]=T);for(;f<s;++f)h[f]=t[f];return new zu(h,this._parents,this._name,this._id)}function N3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function M3(e,t,r){var s,a,u=N3(t)?qO:Ih;return function(){var h=u(this,e),f=h.on;f!==s&&(a=(s=f).copy()).on(t,r),h.on=a}}function Pg(e,t){var r=this._id;return arguments.length<2?Uu(this.node(),r).on.on(e):this.each(M3(r,e,t))}function Ng(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function p7(){return this.on("end.remove",Ng(this._id))}function _A(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Wt(e));for(var s=this._groups,a=s.length,u=new Array(a),h=0;h<a;++h)for(var f=s[h],g=f.length,v=u[h]=new Array(g),p,E,T=0;T<g;++T)(p=f[T])&&(E=e.call(p,p.__data__,T,f))&&("__data__"in p&&(E.__data__=p.__data__),v[T]=E,vA(v[T],t,r,T,v,Uu(p,r)));return new zu(u,this._parents,t,r)}function rk(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Dr(e));for(var s=this._groups,a=s.length,u=[],h=[],f=0;f<a;++f)for(var g=s[f],v=g.length,p,E=0;E<v;++E)if(p=g[E]){for(var T=e.call(p,p.__data__,E,g),S,x=Uu(p,r),O=0,P=T.length;O<P;++O)(S=T[O])&&vA(S,t,r,O,T,x);u.push(T),h.push(p)}return new zu(u,h,t,r)}var nk=vt.prototype.constructor;function ik(){return new nk(this._groups,this._parents)}function L3(e,t){var r,s,a;return function(){var u=Pi(this,e),h=(this.style.removeProperty(e),Pi(this,e));return u===h?null:u===r&&h===s?a:a=t(r=u,s=h)}}function ak(e){return function(){this.style.removeProperty(e)}}function ok(e,t,r){var s,a=r+"",u;return function(){var h=Pi(this,e);return h===a?null:h===s?u:u=t(s=h,r)}}function TA(e,t,r){var s,a,u;return function(){var h=Pi(this,e),f=r(this),g=f+"";return f==null&&(g=f=(this.style.removeProperty(e),Pi(this,e))),h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f))}}function Mg(e,t){var r,s,a,u="style."+t,h="end."+u,f;return function(){var g=Ih(this,e),v=g.on,p=g.value[u]==null?f||(f=ak(t)):void 0;(v!==r||a!==p)&&(s=(r=v).copy()).on(h,a=p),g.on=s}}function t_(e,t,r){var s=(e+="")=="transform"?FL:R3;return t==null?this.styleTween(e,L3(e,s)).on("end.style."+e,ak(e)):typeof t=="function"?this.styleTween(e,TA(e,s,K1(this,"style."+e,t))).each(Mg(this._id,e)):this.styleTween(e,ok(e,s,t),r).on("end.style."+e,null)}function r_(e,t,r){return function(s){this.style.setProperty(e,t.call(this,s),r)}}function EA(e,t,r){var s,a;function u(){var h=t.apply(this,arguments);return h!==a&&(s=(a=h)&&r_(e,h,r)),s}return u._value=t,u}function SA(e,t,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,EA(e,t,r??""))}function U0(e){return function(){this.textContent=e}}function sk(e){return function(){var t=e(this);this.textContent=t??""}}function lk(e){return this.tween("text",typeof e=="function"?sk(K1(this,"text",e)):U0(e==null?"":e+""))}function AA(e){return function(t){this.textContent=e.call(this,t)}}function G0(e){var t,r;function s(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&AA(a)),t}return s._value=e,s}function uk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G0(e))}function wA(){for(var e=this._name,t=this._id,r=B3(),s=this._groups,a=s.length,u=0;u<a;++u)for(var h=s[u],f=h.length,g,v=0;v<f;++v)if(g=h[v]){var p=Uu(g,t);vA(g,e,r,v,h,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new zu(s,this._parents,e,r)}function F3(){var e,t,r=this,s=r._id,a=r.size();return new Promise(function(u,h){var f={value:h},g={value:function(){--a===0&&u()}};r.each(function(){var v=Ih(this,s),p=v.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(g)),v.on=t}),a===0&&u()})}var ck=0;function zu(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function B3(){return++ck}var Dh=vt.prototype;zu.prototype={constructor:zu,select:_A,selectAll:rk,filter:tk,merge:H0,selection:ik,transition:wA,call:Dh.call,nodes:Dh.nodes,node:Dh.node,size:Dh.size,empty:Dh.empty,each:Dh.each,on:Pg,attr:Q1,attrTween:J1,style:t_,styleTween:SA,text:lk,textTween:uk,remove:p7,tween:c7,delay:$u,duration:ea,ease:e_,easeVarying:gl,end:F3,[Symbol.iterator]:Dh[Symbol.iterator]};function hk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var CA={time:null,delay:0,duration:250,ease:hk};function fk(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function xA(e){var t,r;e instanceof zu?(t=e._id,e=e._name):(t=B3(),(r=CA).time=kg(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,u=0;u<a;++u)for(var h=s[u],f=h.length,g,v=0;v<f;++v)(g=h[v])&&vA(g,e,t,v,h,r||fk(g,t));return new zu(s,this._parents,e,t)}vt.prototype.interrupt=ZO,vt.prototype.transition=xA;const n_=e=>()=>e;function H3(e,{sourceEvent:t,target:r,selection:s,mode:a,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:s,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}function U3(e){e.stopImmediatePropagation()}function dk(e){e.preventDefault(),e.stopImmediatePropagation()}var IA={name:"drag"},DA={name:"space"},Lg={name:"handle"},Kf={name:"center"};const{abs:G3,max:as,min:Wo}=Math;function pk(e){return[+e[0],+e[1]]}function OA(e){return[pk(e[0]),pk(e[1])]}var $0={name:"x",handles:["w","e"].map(Sp),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Fg={name:"y",handles:["n","s"].map(Sp),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},$3={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Sp),input:function(e){return e==null?null:OA(e)},output:function(e){return e}},Oh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mk={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gk={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},kh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Lc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Sp(e){return{type:e}}function vk(e){return!e.ctrlKey&&!e.button}function $n(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function kA(){return navigator.maxTouchPoints||"ontouchstart"in this}function RA(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function i_(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function m7(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function a_(){return z0($0)}function Bg(){return z0(Fg)}function PA(){return z0($3)}function z0(e){var t=$n,r=vk,s=kA,a=!0,u=mp("start","brush","end"),h=6,f;function g(P){var M=P.property("__brush",O).selectAll(".overlay").data([Sp("overlay")]);M.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Oh.overlay).merge(M).each(function(){var B=RA(this).extent;Ut(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])}),P.selectAll(".selection").data([Sp("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Oh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var G=P.selectAll(".handle").data(e.handles,function(B){return B.type});G.exit().remove(),G.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return Oh[B.type]}),P.each(v).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",T).filter(s).on("touchstart.brush",T).on("touchmove.brush",S).on("touchend.brush touchcancel.brush",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.move=function(P,M){P.tween?P.on("start.brush",function(G){p(this,arguments).beforestart().start(G)}).on("interrupt.brush end.brush",function(G){p(this,arguments).end(G)}).tween("brush",function(){var G=this,B=G.__brush,U=p(G,arguments),j=B.selection,Z=e.input(typeof M=="function"?M.apply(this,arguments):M,B.extent),ee=Dc(j,Z);function J(he){B.selection=he===1&&Z===null?null:ee(he),v.call(G),U.brush()}return j!==null&&Z!==null?J:J(1)}):P.each(function(){var G=this,B=arguments,U=G.__brush,j=e.input(typeof M=="function"?M.apply(G,B):M,U.extent),Z=p(G,B).beforestart();q1(G),U.selection=j===null?null:j,v.call(G),Z.start().brush().end()})},g.clear=function(P){g.move(P,null)};function v(){var P=Ut(this),M=RA(this).selection;M?(P.selectAll(".selection").style("display",null).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1]),P.selectAll(".handle").style("display",null).attr("x",function(G){return G.type[G.type.length-1]==="e"?M[1][0]-h/2:M[0][0]-h/2}).attr("y",function(G){return G.type[0]==="s"?M[1][1]-h/2:M[0][1]-h/2}).attr("width",function(G){return G.type==="n"||G.type==="s"?M[1][0]-M[0][0]+h:h}).attr("height",function(G){return G.type==="e"||G.type==="w"?M[1][1]-M[0][1]+h:h})):P.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(P,M,G){var B=P.__brush.emitter;return B&&(!G||!B.clean)?B:new E(P,M,G)}function E(P,M,G){this.that=P,this.args=M,this.state=P.__brush,this.active=0,this.clean=G}E.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(P,M){return this.starting?(this.starting=!1,this.emit("start",P,M)):this.emit("brush",P),this},brush:function(P,M){return this.emit("brush",P,M),this},end:function(P,M){return--this.active===0&&(delete this.state.emitter,this.emit("end",P,M)),this},emit:function(P,M,G){var B=Ut(this.that).datum();u.call(P,this.that,new H3(P,{sourceEvent:M,target:g,selection:e.output(this.state.selection),mode:G,dispatch:u}),B)}};function T(P){if(f&&!P.touches||!r.apply(this,arguments))return;var M=this,G=P.target.__data__.type,B=(a&&P.metaKey?G="overlay":G)==="selection"?IA:a&&P.altKey?Kf:Lg,U=e===Fg?null:kh[G],j=e===$0?null:Lc[G],Z=RA(M),ee=Z.extent,J=Z.selection,he=ee[0][0],pe,ae,ye=ee[0][1],Ee,ue,be=ee[1][0],Me,Xe,rt=ee[1][1],st,mt,kt=0,Le=0,Ie,Ne=U&&j&&a&&P.shiftKey,Fe,dt,Et=Array.from(P.touches||[P],Ur=>{const Bn=Ur.identifier;return Ur=nn(Ur,M),Ur.point0=Ur.slice(),Ur.identifier=Bn,Ur});if(G==="overlay"){J&&(Ie=!0);const Ur=[Et[0],Et[1]||Et[0]];Z.selection=J=[[pe=e===Fg?he:Wo(Ur[0][0],Ur[1][0]),Ee=e===$0?ye:Wo(Ur[0][1],Ur[1][1])],[Me=e===Fg?be:as(Ur[0][0],Ur[1][0]),st=e===$0?rt:as(Ur[0][1],Ur[1][1])]],Et.length>1&&Hr()}else pe=J[0][0],Ee=J[0][1],Me=J[1][0],st=J[1][1];ae=pe,ue=Ee,Xe=Me,mt=st;var Vt=Ut(M).attr("pointer-events","none"),Ft=Vt.selectAll(".overlay").attr("cursor",Oh[G]);q1(M);var qt=p(M,arguments,!0).beforestart();if(P.touches)qt.moved=jt,qt.ended=Cr;else{var Sr=Ut(P.view).on("mousemove.brush",jt,!0).on("mouseup.brush",Cr,!0);a&&Sr.on("keydown.brush",On,!0).on("keyup.brush",sn,!0),Dg(P.view)}v.call(M),qt.start(P,B.name);function jt(Ur){for(const Bn of Ur.changedTouches||[Ur])for(const Mn of Et)Mn.identifier===Bn.identifier&&(Mn.cur=nn(Bn,M));if(Ne&&!Fe&&!dt&&Et.length===1){const Bn=Et[0];G3(Bn.cur[0]-Bn[0])>G3(Bn.cur[1]-Bn[1])?dt=!0:Fe=!0}for(const Bn of Et)Bn.cur&&(Bn[0]=Bn.cur[0],Bn[1]=Bn.cur[1]);Ie=!0,dk(Ur),Hr(Ur)}function Hr(Ur){const Bn=Et[0],Mn=Bn.point0;var ci;switch(kt=Bn[0]-Mn[0],Le=Bn[1]-Mn[1],B){case DA:case IA:{U&&(kt=as(he-pe,Wo(be-Me,kt)),ae=pe+kt,Xe=Me+kt),j&&(Le=as(ye-Ee,Wo(rt-st,Le)),ue=Ee+Le,mt=st+Le);break}case Lg:{Et[1]?(U&&(ae=as(he,Wo(be,Et[0][0])),Xe=as(he,Wo(be,Et[1][0])),U=1),j&&(ue=as(ye,Wo(rt,Et[0][1])),mt=as(ye,Wo(rt,Et[1][1])),j=1)):(U<0?(kt=as(he-pe,Wo(be-pe,kt)),ae=pe+kt,Xe=Me):U>0&&(kt=as(he-Me,Wo(be-Me,kt)),ae=pe,Xe=Me+kt),j<0?(Le=as(ye-Ee,Wo(rt-Ee,Le)),ue=Ee+Le,mt=st):j>0&&(Le=as(ye-st,Wo(rt-st,Le)),ue=Ee,mt=st+Le));break}case Kf:{U&&(ae=as(he,Wo(be,pe-kt*U)),Xe=as(he,Wo(be,Me+kt*U))),j&&(ue=as(ye,Wo(rt,Ee-Le*j)),mt=as(ye,Wo(rt,st+Le*j)));break}}Xe<ae&&(U*=-1,ci=pe,pe=Me,Me=ci,ci=ae,ae=Xe,Xe=ci,G in mk&&Ft.attr("cursor",Oh[G=mk[G]])),mt<ue&&(j*=-1,ci=Ee,Ee=st,st=ci,ci=ue,ue=mt,mt=ci,G in gk&&Ft.attr("cursor",Oh[G=gk[G]])),Z.selection&&(J=Z.selection),Fe&&(ae=J[0][0],Xe=J[1][0]),dt&&(ue=J[0][1],mt=J[1][1]),(J[0][0]!==ae||J[0][1]!==ue||J[1][0]!==Xe||J[1][1]!==mt)&&(Z.selection=[[ae,ue],[Xe,mt]],v.call(M),qt.brush(Ur,B.name))}function Cr(Ur){if(U3(Ur),Ur.touches){if(Ur.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else G1(Ur.view,Ie),Sr.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Vt.attr("pointer-events","all"),Ft.attr("cursor",Oh.overlay),Z.selection&&(J=Z.selection),i_(J)&&(Z.selection=null,v.call(M)),qt.end(Ur,B.name)}function On(Ur){switch(Ur.keyCode){case 16:{Ne=U&&j;break}case 18:{B===Lg&&(U&&(Me=Xe-kt*U,pe=ae+kt*U),j&&(st=mt-Le*j,Ee=ue+Le*j),B=Kf,Hr());break}case 32:{(B===Lg||B===Kf)&&(U<0?Me=Xe-kt:U>0&&(pe=ae-kt),j<0?st=mt-Le:j>0&&(Ee=ue-Le),B=DA,Ft.attr("cursor",Oh.selection),Hr());break}default:return}dk(Ur)}function sn(Ur){switch(Ur.keyCode){case 16:{Ne&&(Fe=dt=Ne=!1,Hr());break}case 18:{B===Kf&&(U<0?Me=Xe:U>0&&(pe=ae),j<0?st=mt:j>0&&(Ee=ue),B=Lg,Hr());break}case 32:{B===DA&&(Ur.altKey?(U&&(Me=Xe-kt*U,pe=ae+kt*U),j&&(st=mt-Le*j,Ee=ue+Le*j),B=Kf):(U<0?Me=Xe:U>0&&(pe=ae),j<0?st=mt:j>0&&(Ee=ue),B=Lg),Ft.attr("cursor",Oh[G]),Hr());break}default:return}dk(Ur)}}function S(P){p(this,arguments).moved(P)}function x(P){p(this,arguments).ended(P)}function O(){var P=this.__brush||{selection:null};return P.extent=OA(t.apply(this,arguments)),P.dim=e,P}return g.extent=function(P){return arguments.length?(t=typeof P=="function"?P:n_(OA(P)),g):t},g.filter=function(P){return arguments.length?(r=typeof P=="function"?P:n_(!!P),g):r},g.touchable=function(P){return arguments.length?(s=typeof P=="function"?P:n_(!!P),g):s},g.handleSize=function(P){return arguments.length?(h=+P,g):h},g.keyModifiers=function(P){return arguments.length?(a=!!P,g):a},g.on=function(){var P=u.on.apply(u,arguments);return P===u?g:P},g}const yk=Object.freeze(Object.defineProperty({__proto__:null,brush:PA,brushX:a_,brushY:Bg,brushSelection:m7},Symbol.toStringTag,{value:"Module"}));function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qf.apply(this,arguments)}function Rh(e){if(Array.isArray(e))return e}function bk(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,u,h,f=[],g=!0,v=!1;try{if(u=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;g=!1}else for(;!(g=(s=u.call(r)).done)&&(f.push(s.value),f.length!==t);g=!0);}catch(p){v=!0,a=p}finally{try{if(!g&&r.return!=null&&(h=r.return(),Object(h)!==h))return}finally{if(v)throw a}}return f}}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function NA(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function _k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MA(e,t){return Rh(e)||bk(e,t)||NA(e,t)||_k()}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Tk(e,t){if(Vu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Vu(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_(e){var t=Tk(e,"string");return Vu(t)==="symbol"?t:String(t)}function Vn(e,t,r){return t=o_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&s.push.apply(s,Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.forEach(function(a){Vn(e,a,r[a])})}return e}function V0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sk(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o_(s.key),s)}}function j0(e,t,r){return t&&Sk(e.prototype,t),r&&Sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ei(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ak(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(e)}function s_(e){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(e)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wk(e,t)}function Ck(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}var z3=function(e,t,r,s,a,u,h,f){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,s,a,u,h,f],p=0;g=new Error(t.replace(/%s/g,function(){return v[p++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}},Jf=z3;function V3(e){if(Array.isArray(e))return Hg(e)}function xk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(e){return V3(e)||xk(e)||NA(e)||j3()}var v7=function(){function e(){V0(this,e),Vn(this,"refs",{})}return j0(e,[{key:"add",value:function(r,s){this.refs[r]||(this.refs[r]=[]),this.refs[r].push(s)}},{key:"remove",value:function(r,s){var a=this.getIndex(r,s);a!==-1&&this.refs[r].splice(a,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var r=this;return this.refs[this.active.collection].find(function(s){var a=s.node;return a.sortableInfo.index==r.active.index})}},{key:"getIndex",value:function(r,s){return this.refs[r].indexOf(s)}},{key:"getOrderedRefs",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[r].sort(y7)}}]),e}();function y7(e,t){var r=e.node.sortableInfo.index,s=t.node.sortableInfo.index;return r-s}function b7(e,t,r){return e=e.slice(),e.splice(r<0?e.length+r:r,0,e.splice(t,1)[0]),e}function W3(e,t){return Object.keys(e).reduce(function(r,s){return t.indexOf(s)===-1&&(r[s]=e[s]),r},{})}var W0={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},LA=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function Ug(e,t){Object.keys(t).forEach(function(r){e.style[r]=t[r]})}function Gg(e,t){e.style["".concat(LA,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function FA(e,t){e.style["".concat(LA,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function l_(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Ik(e,t,r){return Math.max(e,Math.min(r,t))}function $g(e){return e.substr(-2)==="px"?parseFloat(e):0}function _7(e){var t=window.getComputedStyle(e);return{bottom:$g(t.marginBottom),left:$g(t.marginLeft),right:$g(t.marginRight),top:$g(t.marginTop)}}function BA(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function HA(e,t){var r=e.getBoundingClientRect();return{top:r.top+t.top,left:r.left+t.left}}function X0(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function X3(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function u_(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var s={left:r.left+e.offsetLeft,top:r.top+e.offsetTop};return e.parentNode===t?s:u_(e.parentNode,t,s)}}function T7(e,t,r){return e<r&&e>t?e-1:e>r&&e<t?e+1:e}function Y3(e){var t=e.lockOffset,r=e.width,s=e.height,a=t,u=t,h="px";if(typeof t=="string"){var f=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Jf(f!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),a=parseFloat(t),u=parseFloat(t),h=f[1]}return Jf(isFinite(a)&&isFinite(u),"lockOffset value should be a finite. Given %s",t),h==="%"&&(a=a*r/100,u=u*s/100),{x:a,y:u}}function E7(e){var t=e.height,r=e.width,s=e.lockOffset,a=Array.isArray(s)?s:[s,s];Jf(a.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",s);var u=MA(a,2),h=u[0],f=u[1];return[Y3({height:t,lockOffset:h,width:r}),Y3({height:t,lockOffset:f,width:r})]}function S7(e){var t=window.getComputedStyle(e),r=/(auto|scroll)/,s=["overflow","overflowX","overflowY"];return s.find(function(a){return r.test(t[a])})}function Dk(e){return e instanceof HTMLElement?S7(e)?e:Dk(e.parentNode):null}function A7(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:$g(t.gridColumnGap),y:$g(t.gridRowGap)}:{x:0,y:0}}var ed={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},Ap={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function w7(e){var t="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(t),s=e.cloneNode(!0),a=g7(s.querySelectorAll(t));return a.forEach(function(u,h){if(u.type!=="file"&&(u.value=r[h].value),u.type==="radio"&&u.name&&(u.name="__sortableClone__".concat(u.name)),u.tagName===Ap.Canvas&&r[h].width>0&&r[h].height>0){var f=u.getContext("2d");f.drawImage(r[h],0,0)}}),s}function UA(e){var t,r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(a){Ck(u,a);function u(){return V0(this,u),Ak(this,s_(u).apply(this,arguments))}return j0(u,[{key:"componentDidMount",value:function(){var f=K.findDOMNode(this);f.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Jf(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var f=s.withRef?"wrappedInstance":null;return q.createElement(e,Qf({ref:f},this.props))}}]),u}(q.Component),Vn(t,"displayName",BA("sortableHandle",e)),r}function q3(e){return e.sortableHandle!=null}var Z3=function(){function e(t,r){V0(this,e),this.container=t,this.onScrollCallback=r}return j0(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(r){var s=this,a=r.translate,u=r.minTranslate,h=r.maxTranslate,f=r.width,g=r.height,v={x:0,y:0},p={x:1,y:1},E={x:10,y:10},T=this.container,S=T.scrollTop,x=T.scrollLeft,O=T.scrollHeight,P=T.scrollWidth,M=T.clientHeight,G=T.clientWidth,B=S===0,U=O-S-M===0,j=x===0,Z=P-x-G===0;a.y>=h.y-g/2&&!U?(v.y=1,p.y=E.y*Math.abs((h.y-g/2-a.y)/g)):a.x>=h.x-f/2&&!Z?(v.x=1,p.x=E.x*Math.abs((h.x-f/2-a.x)/f)):a.y<=u.y+g/2&&!B?(v.y=-1,p.y=E.y*Math.abs((a.y-g/2-u.y)/g)):a.x<=u.x+f/2&&!j&&(v.x=-1,p.x=E.x*Math.abs((a.x-f/2-u.x)/f)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(v.x!==0||v.y!==0)&&(this.interval=setInterval(function(){s.isAutoScrolling=!0;var ee={left:p.x*v.x,top:p.y*v.y};s.container.scrollTop+=ee.top,s.container.scrollLeft+=ee.left,s.onScrollCallback(ee)},5))}}]),e}();function C7(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function Ok(e){var t=[Ap.Input,Ap.Textarea,Ap.Select,Ap.Option,Ap.Button];return!!(t.indexOf(e.target.tagName)!==-1||l_(e.target,function(r){return r.contentEditable==="true"}))}var Ph={axis:$.exports.oneOf(["x","y","xy"]),contentWindow:$.exports.any,disableAutoscroll:$.exports.bool,distance:$.exports.number,getContainer:$.exports.func,getHelperDimensions:$.exports.func,helperClass:$.exports.string,helperContainer:$.exports.oneOfType([$.exports.func,typeof HTMLElement>"u"?$.exports.any:$.exports.instanceOf(HTMLElement)]),hideSortableGhost:$.exports.bool,keyboardSortingTransitionDuration:$.exports.number,lockAxis:$.exports.string,lockOffset:$.exports.oneOfType([$.exports.number,$.exports.string,$.exports.arrayOf($.exports.oneOfType([$.exports.number,$.exports.string]))]),lockToContainerEdges:$.exports.bool,onSortEnd:$.exports.func,onSortMove:$.exports.func,onSortOver:$.exports.func,onSortStart:$.exports.func,pressDelay:$.exports.number,pressThreshold:$.exports.number,keyCodes:$.exports.shape({lift:$.exports.arrayOf($.exports.number),drop:$.exports.arrayOf($.exports.number),cancel:$.exports.arrayOf($.exports.number),up:$.exports.arrayOf($.exports.number),down:$.exports.arrayOf($.exports.number)}),shouldCancelStart:$.exports.func,transitionDuration:$.exports.number,updateBeforeSortStart:$.exports.func,useDragHandle:$.exports.bool,useWindowAsScrollContainer:$.exports.bool},K3={lift:[ed.SPACE],drop:[ed.SPACE],cancel:[ed.ESC],up:[ed.UP,ed.LEFT],down:[ed.DOWN,ed.RIGHT]},Q3={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:C7,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:K3,shouldCancelStart:Ok,transitionDuration:300,useWindowAsScrollContainer:!1},Y0=Object.keys(Ph);function J3(e){Jf(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function eF(e,t){try{var r=e()}catch(s){return t(!0,s)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function kk(e){var t,r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(a){Ck(u,a);function u(h){var f;return V0(this,u),f=Ak(this,s_(u).call(this,h)),Vn(ei(ei(f)),"state",{}),Vn(ei(ei(f)),"handleStart",function(g){var v=f.props,p=v.distance,E=v.shouldCancelStart;if(!(g.button===2||E(g))){f.touched=!0,f.position=X0(g);var T=l_(g.target,function(G){return G.sortableInfo!=null});if(T&&T.sortableInfo&&f.nodeIsChild(T)&&!f.state.sorting){var S=f.props.useDragHandle,x=T.sortableInfo,O=x.index,P=x.collection,M=x.disabled;if(M||S&&!l_(g.target,q3))return;f.manager.active={collection:P,index:O},!X3(g)&&g.target.tagName===Ap.Anchor&&g.preventDefault(),p||(f.props.pressDelay===0?f.handlePress(g):f.pressTimer=setTimeout(function(){return f.handlePress(g)},f.props.pressDelay))}}}),Vn(ei(ei(f)),"nodeIsChild",function(g){return g.sortableInfo.manager===f.manager}),Vn(ei(ei(f)),"handleMove",function(g){var v=f.props,p=v.distance,E=v.pressThreshold;if(!f.state.sorting&&f.touched&&!f._awaitingUpdateBeforeSortStart){var T=X0(g),S={x:f.position.x-T.x,y:f.position.y-T.y},x=Math.abs(S.x)+Math.abs(S.y);f.delta=S,!p&&(!E||x>=E)?(clearTimeout(f.cancelTimer),f.cancelTimer=setTimeout(f.cancel,0)):p&&x>=p&&f.manager.isActive()&&f.handlePress(g)}}),Vn(ei(ei(f)),"handleEnd",function(){f.touched=!1,f.cancel()}),Vn(ei(ei(f)),"cancel",function(){var g=f.props.distance,v=f.state.sorting;v||(g||clearTimeout(f.pressTimer),f.manager.active=null)}),Vn(ei(ei(f)),"handlePress",function(g){try{var v=f.manager.getActive(),p=function(){if(v){var E=function(){var he=U.sortableInfo.index,pe=_7(U),ae=A7(f.container),ye=f.scrollContainer.getBoundingClientRect(),Ee=x({index:he,node:U,collection:j});if(f.node=U,f.margin=pe,f.gridGap=ae,f.width=Ee.width,f.height=Ee.height,f.marginOffset={x:f.margin.left+f.margin.right+f.gridGap.x,y:Math.max(f.margin.top,f.margin.bottom,f.gridGap.y)},f.boundingClientRect=U.getBoundingClientRect(),f.containerBoundingRect=ye,f.index=he,f.newIndex=he,f.axis={x:S.indexOf("x")>=0,y:S.indexOf("y")>=0},f.offsetEdge=u_(U,f.container),Z?f.initialOffset=X0(Ek({},g,{pageX:f.boundingClientRect.left,pageY:f.boundingClientRect.top})):f.initialOffset=X0(g),f.initialScroll={left:f.scrollContainer.scrollLeft,top:f.scrollContainer.scrollTop},f.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},f.helper=f.helperContainer.appendChild(w7(U)),Ug(f.helper,{boxSizing:"border-box",height:"".concat(f.height,"px"),left:"".concat(f.boundingClientRect.left-pe.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(f.boundingClientRect.top-pe.top,"px"),width:"".concat(f.width,"px")}),Z&&f.helper.focus(),P&&(f.sortableGhost=U,Ug(U,{opacity:0,visibility:"hidden"})),f.minTranslate={},f.maxTranslate={},Z){var ue=B?{top:0,left:0,width:f.contentWindow.innerWidth,height:f.contentWindow.innerHeight}:f.containerBoundingRect,be=ue.top,Me=ue.left,Xe=ue.width,rt=ue.height,st=be+rt,mt=Me+Xe;f.axis.x&&(f.minTranslate.x=Me-f.boundingClientRect.left,f.maxTranslate.x=mt-(f.boundingClientRect.left+f.width)),f.axis.y&&(f.minTranslate.y=be-f.boundingClientRect.top,f.maxTranslate.y=st-(f.boundingClientRect.top+f.height))}else f.axis.x&&(f.minTranslate.x=(B?0:ye.left)-f.boundingClientRect.left-f.width/2,f.maxTranslate.x=(B?f.contentWindow.innerWidth:ye.left+ye.width)-f.boundingClientRect.left-f.width/2),f.axis.y&&(f.minTranslate.y=(B?0:ye.top)-f.boundingClientRect.top-f.height/2,f.maxTranslate.y=(B?f.contentWindow.innerHeight:ye.top+ye.height)-f.boundingClientRect.top-f.height/2);O&&O.split(" ").forEach(function(kt){return f.helper.classList.add(kt)}),f.listenerNode=g.touches?U:f.contentWindow,Z?(f.listenerNode.addEventListener("wheel",f.handleKeyEnd,!0),f.listenerNode.addEventListener("mousedown",f.handleKeyEnd,!0),f.listenerNode.addEventListener("keydown",f.handleKeyDown)):(W0.move.forEach(function(kt){return f.listenerNode.addEventListener(kt,f.handleSortMove,!1)}),W0.end.forEach(function(kt){return f.listenerNode.addEventListener(kt,f.handleSortEnd,!1)})),f.setState({sorting:!0,sortingIndex:he}),G&&G({node:U,index:he,collection:j,isKeySorting:Z,nodes:f.manager.getOrderedRefs(),helper:f.helper},g),Z&&f.keyMove(0)},T=f.props,S=T.axis,x=T.getHelperDimensions,O=T.helperClass,P=T.hideSortableGhost,M=T.updateBeforeSortStart,G=T.onSortStart,B=T.useWindowAsScrollContainer,U=v.node,j=v.collection,Z=f.manager.isKeySorting,ee=function(){if(typeof M=="function"){f._awaitingUpdateBeforeSortStart=!0;var J=eF(function(){var he=U.sortableInfo.index;return Promise.resolve(M({collection:j,index:he,node:U,isKeySorting:Z},g)).then(function(){})},function(he,pe){if(f._awaitingUpdateBeforeSortStart=!1,he)throw pe;return pe});if(J&&J.then)return J.then(function(){})}}();return ee&&ee.then?ee.then(E):E(ee)}}();return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(E){return Promise.reject(E)}}),Vn(ei(ei(f)),"handleSortMove",function(g){var v=f.props.onSortMove;typeof g.preventDefault=="function"&&g.preventDefault(),f.updateHelperPosition(g),f.animateNodes(),f.autoscroll(),v&&v(g)}),Vn(ei(ei(f)),"handleSortEnd",function(g){var v=f.props,p=v.hideSortableGhost,E=v.onSortEnd,T=f.manager,S=T.active.collection,x=T.isKeySorting,O=f.manager.getOrderedRefs();f.listenerNode&&(x?(f.listenerNode.removeEventListener("wheel",f.handleKeyEnd,!0),f.listenerNode.removeEventListener("mousedown",f.handleKeyEnd,!0),f.listenerNode.removeEventListener("keydown",f.handleKeyDown)):(W0.move.forEach(function(U){return f.listenerNode.removeEventListener(U,f.handleSortMove)}),W0.end.forEach(function(U){return f.listenerNode.removeEventListener(U,f.handleSortEnd)}))),f.helper.parentNode.removeChild(f.helper),p&&f.sortableGhost&&Ug(f.sortableGhost,{opacity:"",visibility:""});for(var P=0,M=O.length;P<M;P++){var G=O[P],B=G.node;G.edgeOffset=null,G.boundingClientRect=null,Gg(B,null),FA(B,null),G.translate=null}f.autoScroller.clear(),f.manager.active=null,f.manager.isKeySorting=!1,f.setState({sorting:!1,sortingIndex:null}),typeof E=="function"&&E({collection:S,newIndex:f.newIndex,oldIndex:f.index,isKeySorting:x,nodes:O},g),f.touched=!1}),Vn(ei(ei(f)),"autoscroll",function(){var g=f.props.disableAutoscroll,v=f.manager.isKeySorting;if(g){f.autoScroller.clear();return}if(v){var p=Ek({},f.translate),E=0,T=0;f.axis.x&&(p.x=Math.min(f.maxTranslate.x,Math.max(f.minTranslate.x,f.translate.x)),E=f.translate.x-p.x),f.axis.y&&(p.y=Math.min(f.maxTranslate.y,Math.max(f.minTranslate.y,f.translate.y)),T=f.translate.y-p.y),f.translate=p,Gg(f.helper,f.translate),f.scrollContainer.scrollLeft+=E,f.scrollContainer.scrollTop+=T;return}f.autoScroller.update({height:f.height,maxTranslate:f.maxTranslate,minTranslate:f.minTranslate,translate:f.translate,width:f.width})}),Vn(ei(ei(f)),"onAutoScroll",function(g){f.translate.x+=g.left,f.translate.y+=g.top,f.animateNodes()}),Vn(ei(ei(f)),"handleKeyDown",function(g){var v=g.keyCode,p=f.props,E=p.shouldCancelStart,T=p.keyCodes,S=T===void 0?{}:T,x=Ek({},K3,S);f.manager.active&&!f.manager.isKeySorting||!f.manager.active&&(!x.lift.includes(v)||E(g)||!f.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),x.lift.includes(v)&&!f.manager.active?f.keyLift(g):x.drop.includes(v)&&f.manager.active?f.keyDrop(g):x.cancel.includes(v)?(f.newIndex=f.manager.active.index,f.keyDrop(g)):x.up.includes(v)?f.keyMove(-1):x.down.includes(v)&&f.keyMove(1))}),Vn(ei(ei(f)),"keyLift",function(g){var v=g.target,p=l_(v,function(x){return x.sortableInfo!=null}),E=p.sortableInfo,T=E.index,S=E.collection;f.initialFocusedNode=v,f.manager.isKeySorting=!0,f.manager.active={index:T,collection:S},f.handlePress(g)}),Vn(ei(ei(f)),"keyMove",function(g){var v=f.manager.getOrderedRefs(),p=v[v.length-1].node.sortableInfo.index,E=f.newIndex+g,T=f.newIndex;if(!(E<0||E>p)){f.prevIndex=T,f.newIndex=E;var S=T7(f.newIndex,f.prevIndex,f.index),x=v.find(function(Z){var ee=Z.node;return ee.sortableInfo.index===S}),O=x.node,P=f.containerScrollDelta,M=x.boundingClientRect||HA(O,P),G=x.translate||{x:0,y:0},B={top:M.top+G.y-P.top,left:M.left+G.x-P.left},U=T<E,j={x:U&&f.axis.x?O.offsetWidth-f.width:0,y:U&&f.axis.y?O.offsetHeight-f.height:0};f.handleSortMove({pageX:B.left+j.x,pageY:B.top+j.y,ignoreTransition:g===0})}}),Vn(ei(ei(f)),"keyDrop",function(g){f.handleSortEnd(g),f.initialFocusedNode&&f.initialFocusedNode.focus()}),Vn(ei(ei(f)),"handleKeyEnd",function(g){f.manager.active&&f.keyDrop(g)}),Vn(ei(ei(f)),"isValidSortingTarget",function(g){var v=f.props.useDragHandle,p=g.target,E=l_(p,function(T){return T.sortableInfo!=null});return E&&E.sortableInfo&&!E.sortableInfo.disabled&&(v?q3(p):p.sortableInfo)}),J3(h),f.manager=new v7,f.events={end:f.handleEnd,move:f.handleMove,start:f.handleStart},f}return j0(u,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var f=this,g=this.props.useWindowAsScrollContainer,v=this.getContainer();Promise.resolve(v).then(function(p){f.container=p,f.document=f.container.ownerDocument||document;var E=f.props.contentWindow||f.document.defaultView||window;f.contentWindow=typeof E=="function"?E():E,f.scrollContainer=g?f.document.scrollingElement||f.document.documentElement:Dk(f.container)||f.container,f.autoScroller=new Z3(f.scrollContainer,f.onAutoScroll),Object.keys(f.events).forEach(function(T){return W0[T].forEach(function(S){return f.container.addEventListener(S,f.events[T],!1)})}),f.container.addEventListener("keydown",f.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var f=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(g){return W0[g].forEach(function(v){return f.container.removeEventListener(v,f.events[g])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(f){var g=this.props,v=g.lockAxis,p=g.lockOffset,E=g.lockToContainerEdges,T=g.transitionDuration,S=g.keyboardSortingTransitionDuration,x=S===void 0?T:S,O=this.manager.isKeySorting,P=f.ignoreTransition,M=X0(f),G={x:M.x-this.initialOffset.x,y:M.y-this.initialOffset.y};if(G.y-=window.pageYOffset-this.initialWindowScroll.top,G.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=G,E){var B=E7({height:this.height,lockOffset:p,width:this.width}),U=MA(B,2),j=U[0],Z=U[1],ee={x:this.width/2-j.x,y:this.height/2-j.y},J={x:this.width/2-Z.x,y:this.height/2-Z.y};G.x=Ik(this.minTranslate.x+ee.x,this.maxTranslate.x-J.x,G.x),G.y=Ik(this.minTranslate.y+ee.y,this.maxTranslate.y-J.y,G.y)}v==="x"?G.y=0:v==="y"&&(G.x=0),O&&x&&!P&&FA(this.helper,x),Gg(this.helper,G)}},{key:"animateNodes",value:function(){var f=this.props,g=f.transitionDuration,v=f.hideSortableGhost,p=f.onSortOver,E=this.containerScrollDelta,T=this.windowScrollDelta,S=this.manager.getOrderedRefs(),x={left:this.offsetEdge.left+this.translate.x+E.left,top:this.offsetEdge.top+this.translate.y+E.top},O=this.manager.isKeySorting,P=this.newIndex;this.newIndex=null;for(var M=0,G=S.length;M<G;M++){var B=S[M].node,U=B.sortableInfo.index,j=B.offsetWidth,Z=B.offsetHeight,ee={height:this.height>Z?Z/2:this.height/2,width:this.width>j?j/2:this.width/2},J=O&&U>this.index&&U<=P,he=O&&U<this.index&&U>=P,pe={x:0,y:0},ae=S[M].edgeOffset;ae||(ae=u_(B,this.container),S[M].edgeOffset=ae,O&&(S[M].boundingClientRect=HA(B,E)));var ye=M<S.length-1&&S[M+1],Ee=M>0&&S[M-1];if(ye&&!ye.edgeOffset&&(ye.edgeOffset=u_(ye.node,this.container),O&&(ye.boundingClientRect=HA(ye.node,E))),U===this.index){v&&(this.sortableGhost=B,Ug(B,{opacity:0,visibility:"hidden"}));continue}g&&FA(B,g),this.axis.x?this.axis.y?he||U<this.index&&(x.left+T.left-ee.width<=ae.left&&x.top+T.top<=ae.top+ee.height||x.top+T.top+ee.height<=ae.top)?(pe.x=this.width+this.marginOffset.x,ae.left+pe.x>this.containerBoundingRect.width-ee.width&&ye&&(pe.x=ye.edgeOffset.left-ae.left,pe.y=ye.edgeOffset.top-ae.top),this.newIndex===null&&(this.newIndex=U)):(J||U>this.index&&(x.left+T.left+ee.width>=ae.left&&x.top+T.top+ee.height>=ae.top||x.top+T.top+ee.height>=ae.top+Z))&&(pe.x=-(this.width+this.marginOffset.x),ae.left+pe.x<this.containerBoundingRect.left+ee.width&&Ee&&(pe.x=Ee.edgeOffset.left-ae.left,pe.y=Ee.edgeOffset.top-ae.top),this.newIndex=U):J||U>this.index&&x.left+T.left+ee.width>=ae.left?(pe.x=-(this.width+this.marginOffset.x),this.newIndex=U):(he||U<this.index&&x.left+T.left<=ae.left+ee.width)&&(pe.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=U)):this.axis.y&&(J||U>this.index&&x.top+T.top+ee.height>=ae.top?(pe.y=-(this.height+this.marginOffset.y),this.newIndex=U):(he||U<this.index&&x.top+T.top<=ae.top+ee.height)&&(pe.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=U))),Gg(B,pe),S[M].translate=pe}this.newIndex==null&&(this.newIndex=this.index),O&&(this.newIndex=P);var ue=O?this.prevIndex:P;p&&this.newIndex!==ue&&p({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:ue,isKeySorting:O,nodes:S,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Jf(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var f=this.props.getContainer;return typeof f!="function"?K.findDOMNode(this):f(s.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var f=s.withRef?"wrappedInstance":null;return q.createElement(e,Qf({ref:f},W3(this.props,Y0)))}},{key:"helperContainer",get:function(){var f=this.props.helperContainer;return typeof f=="function"?f():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var f=this.props.useWindowAsScrollContainer;return f?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),u}(q.Component),Vn(t,"displayName",BA("sortableList",e)),Vn(t,"defaultProps",Q3),Vn(t,"propTypes",Ph),Vn(t,"childContextTypes",{manager:$.exports.object.isRequired}),r}var Rk={index:$.exports.number.isRequired,collection:$.exports.oneOfType([$.exports.number,$.exports.string]),disabled:$.exports.bool},tF=Object.keys(Rk);function q0(e){var t,r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(a){Ck(u,a);function u(){return V0(this,u),Ak(this,s_(u).apply(this,arguments))}return j0(u,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(f){this.node&&(f.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),f.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),f.collection!==this.props.collection&&(this.unregister(f.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var f=this.props,g=f.collection,v=f.disabled,p=f.index,E=K.findDOMNode(this);E.sortableInfo={collection:g,disabled:v,index:p,manager:this.context.manager},this.node=E,this.ref={node:E},this.context.manager.add(g,this.ref)}},{key:"unregister",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(f,this.ref)}},{key:"getWrappedInstance",value:function(){return Jf(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var f=s.withRef?"wrappedInstance":null;return q.createElement(e,Qf({ref:f},W3(this.props,tF)))}}]),u}(q.Component),Vn(t,"displayName",BA("sortableElement",e)),Vn(t,"contextTypes",{manager:$.exports.object.isRequired}),Vn(t,"propTypes",Rk),Vn(t,"defaultProps",{collection:0}),r}const Pk=xo(e=>e.pos).left,ko=(e,t)=>{if(!t||!t.cumPositions||!t.cumPositions.length)return null;let r=Pk(t.cumPositions,e);const s=t.cumPositions[t.cumPositions.length-1].chr,a=t.chromLengths[s];r-=r>0&&1;let u=Math.floor(e-t.cumPositions[r].pos),h=0;return u<0&&(h=u-1,u=1),r===t.cumPositions.length-1&&u>a&&(h=u-a,u=a),[t.cumPositions[r].chr,u,h,r]},Nk=(e,t)=>r=>r%e*t+Math.floor(r/e),Mk=e=>e,rF=(e,t,r=Mk)=>e.map((s,a)=>s+t[r(a)]),Lk="http://www.w3.org/2000/svg",GA=(e,t)=>{if(e.namespaceURI===Lk){const r=e.getAttribute("class");return r&&!!r.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},nF="http://www.w3.org/2000/svg",iF=(e,t)=>{if(e.namespaceURI===nF){if(!GA(e,t)){const r=e.getAttribute("class")||"";e.setAttribute("class",`${r} ${t}`)}}else e.classList?e.classList.add(t):GA(e,t)||(e.className+=` ${t}`)},x7=(e,t,r)=>{const s=document.createElement("canvas");return new Promise((a,u)=>{const h=new window.Image;h.onload=()=>{s.width=t||h.width,s.height=r||h.height,s.getContext("2d").drawImage(h,0,0),a(s)},h.onerror=()=>{u(new Error("Could not convert base64 to canvas"))},h.src=`data:image/png;base64,${e}`})},$A=(e,t,r)=>r.chrPositions[e].pos+t,Fk=e=>{const t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t},wp=(e,t=!1)=>{const r=e.map((h,f)=>f*(255/(e.length-1))),s=Rn().domain(r).range(e),u=Gs(t?255:254,-1,-1).map(s).map(h=>{const f=tg(h);return[f.r,f.g,f.b,f.opacity*255]});return u.length<256&&u.push([255,255,255,0]),u},c_=0,h_=5,Bk=10,aF=10,oF=300,zA="move",ju="select",Hk=100,VA=10,Uk=110,f_=3e3,d_="locationListenerPrefix",Gk=1e3,$k="http://higlass.io/api/v1",zk=400,sF=300,jA=["top","left","right","bottom","center","whole","gallery"],lF=20,Vk=20,Z0=Symbol("Light theme"),Gi=Symbol("Dark theme"),uF=Z0,or={PIXI:Ce},vl={"multitrack-header":"_multitrack-header_1yz7l_1","multitrack-header-focus":"_multitrack-header-focus_1yz7l_2","multitrack-header-squeazed":"_multitrack-header-squeazed_1yz7l_3","multitrack-header-dark":"_multitrack-header-dark_1yz7l_20","multitrack-header-id":"_multitrack-header-id_1yz7l_30","multitrack-header-left":"_multitrack-header-left_1yz7l_39","multitrack-header-grabber":"_multitrack-header-grabber_1yz7l_44","multitrack-header-grabber-squeazed":"_multitrack-header-grabber-squeazed_1yz7l_45","multitrack-header-search":"_multitrack-header-search_1yz7l_80","multitrack-header-nav-list":"_multitrack-header-nav-list_1yz7l_102","multitrack-header-icon":"_multitrack-header-icon_1yz7l_107","multitrack-header-icon-squeazed":"_multitrack-header-icon-squeazed_1yz7l_108","mouse-tool-selection":"_mouse-tool-selection_1yz7l_136"},Wk=[{id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},{id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},{id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},{id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},{id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},{id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},{id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},{id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},{id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},{id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},{id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},{id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},{id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},{id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},{id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},{id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]}],Ha=new DOMParser,Nh='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',XA=Ha.parseFromString(Nh,"text/xml").documentElement,td=`
<svg width="20px" height="20px" viewBox="0 0 20 20">
  <rect x="0" y="3" width="4" height="14" fill="#637993"/>
  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>
  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>
  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>
  <rect x="14" y="3" width="2" height="14" fill="#000000"/>
  <rect x="16" y="3" width="4" height="14" fill="#637993"/>
</svg>
`,YA=Ha.parseFromString(td,"text/xml").documentElement,qA=`
<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>line</title>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>
    </g>
</svg>
`,ZA=Ha.parseFromString(qA,"text/xml").documentElement,KA=`
<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-1"></use>
        </mask>
        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-3"></use>
        </mask>
        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-5"></use>
        </mask>
        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-7"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>
    </g>
</svg>
`,QA=Ha.parseFromString(KA,"text/xml").documentElement,gn=`
<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-heatmap</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>
        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>
        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>
        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>
    </g>
</svg>
`,_s=Ha.parseFromString(gn,"text/xml").documentElement,Ua=`
<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>axis-1d</title>
    <desc>Created with Sketch.</desc>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>
        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>
    </g>
</svg>
`,Ys=Ha.parseFromString(Ua,"text/xml").documentElement,Mh=Ut(Ha.parseFromString(Ua,"text/xml").documentElement).style("transform","rotate(90deg)").node(),Xk=`
<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>gene-annotations</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>
        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-1"></use>
        </mask>
        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>
        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-3"></use>
        </mask>
        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>
        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">
            <use xlink:href="#geneAnnotations-path-5"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>
        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>
    </g>
</svg>
`,os=Ha.parseFromString(Xk,"text/xml").documentElement,p_=`
<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>1d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-1"></use>
        </mask>
        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>
    </g>
</svg>
`,zg=Ha.parseFromString(p_,"text/xml").documentElement,JA=Ut(Ha.parseFromString(p_,"text/xml").documentElement).style("transform","rotate(90deg)").node(),Vg=`
<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>arrowhead-domains</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>
        </mask>
        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>
        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>
    </g>
</svg>
`,Cp=Ha.parseFromString(Vg,"text/xml").documentElement;function Yk({theStyle:e,onClick:t}){return F.default.createElement("svg",{className:vl[e],viewBox:"0 0 12 13",onClick:t,xmlns:"http://www.w3.org/2000/svg"},F.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},F.default.createElement("path",{d:"M11.29 11.71l-4-4"}),F.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}const ew={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:XA,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},qk={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:XA,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},xp=[ew,{...ew,type:"osm"},qk,{...qk,type:"mapbox"},{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:Mh,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:Ys,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:_s,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:{[Gi]:{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:_s,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:ZA,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:{[Gi]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:YA,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:{[Gi]:{colorbarBackgroundColor:"#000000"}}},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:QA},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:os,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:{[Gi]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"}}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:Cp,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:Cp,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:Cp,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:Cp,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:Cp,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:{[Gi]:{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"}}},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:JA},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:zg},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:QA,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:XA,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}],Zk=e=>{const t={},r=s=>!!(s.orientation===e||e==="1d-vertical"&&s.orientation==="1d-horizontal"&&s.rotatable);return xp.filter(r).forEach(s=>{let a=s.datatype;Array.isArray(s.datatype)||(a=[a]),a.forEach(u=>{u in t||(t[u]=[]),t[u].push(s)})}),t.none=[],t},Fc=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]],$i=xp.reduce((e,t)=>{if(e[t.type]=t,t.aliases)for(const r of t.aliases)e[r]=t;return e},{}),$r=xp.reduce((e,t)=>{for(let r=0;r<t.datatype.length;r++){const s=t.datatype[r];return e[s]?e[s].add(t.orientation):e[s]=new Set,e}return{}},{}),Ip={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}},K0=(e,t)=>{const r=Zk(t);let s=new Set(Object.values(r).flatMap(a=>a));for(const a of e){const u=new Set(a);s=new Set([...s].filter(h=>h.datatype.filter(f=>u.has(f)).length>0))}return[...s]},jg=8,Bc=8,Q0=Object.freeze(Object.defineProperty({__proto__:null,THEME_LIGHT:Z0,THEME_DARK:Gi,THEME_DEFAULT:uF,GLOBALS:or,DATATYPE_TO_TRACK_TYPE:Zk,HEATED_OBJECT_MAP:Fc,TRACKS_INFO:xp,TRACKS_INFO_BY_TYPE:$i,POSITIONS_BY_DATATYPE:$r,DEFAULT_TRACKS_FOR_DATATYPE:Ip,AVAILABLE_TRACK_TYPES:K0,NUM_PRECOMP_SUBSETS_PER_1D_TTILE:jg,NUM_PRECOMP_SUBSETS_PER_2D_TTILE:Bc,DEFAULT_VIEW_MARGIN:c_,DEFAULT_VIEW_PADDING:h_,DEFAULT_CONTAINER_PADDING_X:Bk,DEFAULT_CONTAINER_PADDING_Y:aF,MAX_CLICK_DELAY:oF,MOUSE_TOOL_MOVE:zA,MOUSE_TOOL_SELECT:ju,TILE_FETCH_DEBOUNCE:Hk,ZOOM_DEBOUNCE:VA,SHORT_DRAG_TIMEOUT:Uk,LONG_DRAG_TIMEOUT:f_,LOCATION_LISTENER_PREFIX:d_,ZOOM_TRANSITION_DURATION:Gk,DEFAULT_SERVER:$k,VIEW_HEADER_MED_WIDTH_SEARCH_BAR:zk,VIEW_HEADER_MIN_WIDTH_SEARCH_BAR:sF,TRACK_LOCATIONS:jA,MIN_HORIZONTAL_HEIGHT:lF,MIN_VERTICAL_WIDTH:Vk},Symbol.toStringTag,{value:"Module"})),Kr=e=>{const t=Ma(e);return or.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])},tw=e=>{if(e==="transparent")return[255,255,255,0];const t=Ma(e);return[t.r,t.g,t.b,255]},J0=(e,t,r)=>{const s=ko(e,r),a=ko(t,r);return[s[0],Math.round(s[1]),a[0],Math.round(a[1])]},ey=(e,t,r)=>{let s;const a=(...u)=>{const h=()=>{s=null,r||e(...u)},f=r&&!s;clearTimeout(s),s=setTimeout(h,t),f&&e(...u)};return ey.cancel=()=>{clearTimeout(s),s=null},a},Hc=e=>(e+16**6).toString(16).substr(-6),pF=e=>{const t={};return e.forEach(r=>{t[r[0]]=r[1]}),t},Ts=e=>{const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push([r,e[r]]);return t};function yl(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(r);return t}function zi(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function Dp(e,t){const r=typeof t=="string"?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(r,e);else{const s=window.document.createElement("a");s.href=window.URL.createObjectURL(r),s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(s.href)}}const Op=e=>{const t=["top","bottom","gallery"],r=["left","right","gallery"];return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],t.map(s=>e[s]).forEach(s=>s.forEach(a=>{const u=$i[a.type],h=u&&u.defaultOptions||{},f=a.options?{...h,...a.options}:h;f.minHeight!==void 0&&a.height===void 0&&(a.height=f.minHeight),a.height===void 0&&(a.height=u&&u.defaultHeight||lF)})),r.map(s=>e[s]).forEach(s=>s.forEach(a=>{const u=$i[a.type],h=u&&u.defaultOptions||{},f=a.options?{...h,...a.options}:h;f.minWidth!==void 0&&a.width===void 0&&(a.width=f.minWidth),a.width===void 0&&(a.width=u&&u.defaultWidth||Vk)})),e},ty=e=>t=>Array.prototype.reduce.call(t,e),rd=ty((e,t)=>e.concat(t)),rw=e=>t=>Array.prototype.forEach.call(t,e),ry=(e,t)=>{t.dispatchEvent(Fk(e))},m_=(e,t)=>[$A(e[0],e[1],t),$A(e[2],e[3],t)];function nw(e,t,r,s,a){const{chr:u,pos:h}=t,{chr:f,pos:g}=r,v=[];if(u===f){const p=u,E=Math.floor(h/s),T=Math.min(E+a,Math.ceil(g/s));v.push([p,E,T])}else{let p=a;const E=e.findIndex(([S])=>S===u),T=e.findIndex(([S])=>S===f);for(let S=E;S<=T;S++){let x,O;const[P,M]=e[S];S<T?(S===E?x=h:x=0,O=M):(x=0,O=g);const G=Math.floor(x/s),B=Math.min(G+p,Math.ceil(O/s));v.push([P,G,B]),p-=B-G}}return v}const Kk=(e,t,r)=>{if(r.length===0)return;if(r.length===1)return r[0];let s=r[0];const a=Ip[e]!==void 0?Ip[e][t]:void 0;return a!==void 0&&(s=r.find(u=>u.type===a)||s),s};var bl={},Lh={},Qk=34,yo=10,ny=13;function tu(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function mF(e,t){var r=tu(e);return function(s,a){return t(r(s),a,e)}}function gF(e){var t=Object.create(null),r=[];return e.forEach(function(s){for(var a in s)a in t||r.push(t[a]=a)}),r}function Ro(e,t){var r=e+"",s=r.length;return s<t?new Array(t-s+1).join(0)+r:r}function Jk(e){return e<0?"-"+Ro(-e,6):e>9999?"+"+Ro(e,6):Ro(e,4)}function D7(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),s=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Jk(e.getUTCFullYear())+"-"+Ro(e.getUTCMonth()+1,2)+"-"+Ro(e.getUTCDate(),2)+(a?"T"+Ro(t,2)+":"+Ro(r,2)+":"+Ro(s,2)+"."+Ro(a,3)+"Z":s?"T"+Ro(t,2)+":"+Ro(r,2)+":"+Ro(s,2)+"Z":r||t?"T"+Ro(t,2)+":"+Ro(r,2)+"Z":"")}function eR(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function s(E,T){var S,x,O=a(E,function(P,M){if(S)return S(P,M-1);x=P,S=T?mF(P,T):tu(P)});return O.columns=x||[],O}function a(E,T){var S=[],x=E.length,O=0,P=0,M,G=x<=0,B=!1;E.charCodeAt(x-1)===yo&&--x,E.charCodeAt(x-1)===ny&&--x;function U(){if(G)return Lh;if(B)return B=!1,bl;var Z,ee=O,J;if(E.charCodeAt(ee)===Qk){for(;O++<x&&E.charCodeAt(O)!==Qk||E.charCodeAt(++O)===Qk;);return(Z=O)>=x?G=!0:(J=E.charCodeAt(O++))===yo?B=!0:J===ny&&(B=!0,E.charCodeAt(O)===yo&&++O),E.slice(ee+1,Z-1).replace(/""/g,'"')}for(;O<x;){if((J=E.charCodeAt(Z=O++))===yo)B=!0;else if(J===ny)B=!0,E.charCodeAt(O)===yo&&++O;else if(J!==r)continue;return E.slice(ee,Z)}return G=!0,E.slice(ee,x)}for(;(M=U())!==Lh;){for(var j=[];M!==bl&&M!==Lh;)j.push(M),M=U();T&&(j=T(j,P++))==null||S.push(j)}return S}function u(E,T){return E.map(function(S){return T.map(function(x){return p(S[x])}).join(e)})}function h(E,T){return T==null&&(T=gF(E)),[T.map(p).join(e)].concat(u(E,T)).join(`
`)}function f(E,T){return T==null&&(T=gF(E)),u(E,T).join(`
`)}function g(E){return E.map(v).join(`
`)}function v(E){return E.map(p).join(e)}function p(E){return E==null?"":E instanceof Date?D7(E):t.test(E+="")?'"'+E.replace(/"/g,'""')+'"':E}return{parse:s,parseRows:a,format:h,formatBody:f,formatRows:g,formatRow:v,formatValue:p}}var kp=eR(","),O7=kp.parse,k7=kp.parseRows,vF=kp.format,tR=kp.formatBody,iw=kp.formatRows,rR=kp.formatRow,iy=kp.formatValue,Rp=eR("	"),yF=Rp.parse,aw=Rp.parseRows,ow=Rp.format,sw=Rp.formatBody,R7=Rp.formatRows,nR=Rp.formatRow,P7=Rp.formatValue;function N7(e){for(var t in e){var r=e[t].trim(),s,a;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(s=+r))r=s;else if(a=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))M7&&a[4]&&!a[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}const M7=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),L7=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:eR,csvParse:O7,csvParseRows:k7,csvFormat:vF,csvFormatBody:tR,csvFormatRows:iw,csvFormatRow:rR,csvFormatValue:iy,tsvParse:yF,tsvParseRows:aw,tsvFormat:ow,tsvFormatBody:sw,tsvFormatRows:R7,tsvFormatRow:nR,tsvFormatValue:P7,autoType:N7},Symbol.toStringTag,{value:"Module"})),Pp={},F7=(e,t)=>Pp[e]?Promise.resolve(Pp[e]):t(e),B7=e=>{if(e.length===0)return null;const t=aw(e);return ly(t)},H7=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.text()).then(t=>B7(t)).catch(t=>{console.error("Could not retrieve or parse chrom info.",t)}),bF=(e,t,r)=>t(e,r).then(s=>(Pp[e]=s,Pp[e])),iR={get:e=>bF(e,F7,H7)};let Wg=function(){function e(t){L(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return V(e,[{key:"getEventHandler",value:function(r){return this.customEventHandlers[r]?this.customEventHandlers[r]:s=>this.pubSub.publish(r,s)}},{key:"unregister",value:function(r,s){!this.registeredEls[r]&&this.registeredEls[r]!==s||(this.registeredEls[r].removeEventListener(r,this.registeredEls[r].__handler__),this.registeredEls[r]=void 0,delete this.registeredEls[r])}},{key:"register",value:function(r,s,a=!1){!s||this.registeredEls[r]===s||(this.registeredEls[r]&&this.unregister(this.registeredEls[r]),this.registeredEls[r]=s,this.registeredEls[r].__handler__=this.getEventHandler(r),this.registeredEls[r].addEventListener(r,this.registeredEls[r].__handler__,{capture:a,passive:!1}))}}]),e}();const _F=e=>new Wg(e);let TF=!1;const EF={listen:()=>{if(TF)return;const[e,t]=oR(),r="102117110099116105111110040041123115101108102046099111110115111108101046108111103040039",s="072",a="105",u="071",h="108097115115",f="032118",g="058032104116116112058047047104105103108097115115046105111039041125",v=[String.fromCharCode(...r.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase(),String.fromCharCode(...s.match(/.{1,3}/g).map(ee=>+ee)),String.fromCharCode(...a.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase(),String.fromCharCode(...u.match(/.{1,3}/g).map(ee=>+ee)),String.fromCharCode(...h.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase(),String.fromCharCode(...f.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase(),String.fromCharCode(...t.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase(),String.fromCharCode(...g.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase()].join(""),p="085082076",E="066076079066",T="087111114107101114",S="099114101097116101079098106101099116085082076",x="114101118111107101079098106101099116085082076",O=ee=>ee.charAt(0).toUpperCase()+ee.slice(1),P=ee=>ee.slice(0,6)+ee.charAt(6).toUpperCase()+ee.slice(7,12)+ee.slice(12).toUpperCase(),M=e[String.fromCharCode(...p.match(/.{1,3}/g).map(ee=>+ee))],G=e[O(String.fromCharCode(...E.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase())],B=e[O(String.fromCharCode(...T.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase())],U=P(String.fromCharCode(...S.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase()),j=P(String.fromCharCode(...x.match(/.{1,3}/g).map(ee=>+ee)).toLowerCase()),Z=M[U](new G([`(${v})()`],{type:"application/javascript"}));new B(Z),M[j](Z),TF=!0}};function Fh(e,t,r,s,a,u,h){let f,g;a&&(f=IR(a),g=(x,O)=>f(O.map(P=>e[P*t[1]+x])));let v,p,E,T,S;for(E=0;E<t[1];E++)for(p=0,T=0;T<s.length;T++)if(f&&h==="server"?v=e[T*t[1]+E]:Array.isArray(s[T])&&f?v=g(E,s[T]):v=e[s[T]*t[1]+E],u&&Array.isArray(s[T]))for(S=0;S<s[T].length;S++)r(p*t[1]+E,v),p++;else r(p*t[1]+E,v),p++}function G7(e,t,r,s,a,u,h=!1,f=!1,g=null,v=null,p=null){let E=null;r==="log"?E=Rf().range([254,0]).domain(s):(r!=="linear"&&console.warn("Unknown value scale type:",r," Defaulting to linear"),E=Rn().range([254,0]).domain(s));const{selectedRows:T=null,selectedRowsAggregationMode:S=null,selectedRowsAggregationWithRelativeHeight:x=null,selectedRowsAggregationMethod:O=null}=p||{};let P=e;g&&T&&(P=A_(T,x)*g[1]);let M,G=0;const B=g?g[1]:Math.sqrt(e),U=new Uint8ClampedArray(P*4),j=J=>{const he=E(J);return Number.isNaN(he)?254:Math.max(0,Math.min(254,Math.floor(he)))},Z=(J,he)=>{G=255,!(h&&Math.floor(J/B)<J%B)&&!(f&&Math.floor(J/B)>J%B)&&!Number.isNaN(+he)&&(G=j(he+a)),(G<0||G>255)&&console.warn("out of bounds rgbIdx:",G," (should be 0 <= rgbIdx <= 255)"),v&&!Number.isNaN(+he)&&+he==0?M=v:M=u[G],U[J*4]=M[0],U[J*4+1]=M[1],U[J*4+2]=M[2],U[J*4+3]=M[3]};let ee;try{if(T)Fh(t,g,Z,T,S,x,O);else for(let J=0;J<t.length;J++)ee=t[J],Z(J,ee)}catch(J){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",E.domain()),console.warn("valueScale.range():",E.range()),console.warn("value:",E(ee+a)),console.warn("pseudocount:",a),console.warn("rgbIdx:",G,"d:",ee,"ct:",E(ee)),console.error("ERROR:",J),U}return U}function SF(e){let t=e&31744,r,s,a;const u=(e&32768)<<16;switch(t){case 0:if(r=e&1023,r===0)return u;for(r<<=1;!(r&1024);)r<<=1,t++;return s=127-15-t<<23,a=(r&1023)<<13,u+s+a;case 31744:return u+2139095040+((e&1023)<<13);default:return u+((e&32767)+114688<<13)}}function $7(e){const t=atob(e),r=t.length,s=new Uint8Array(r);for(let a=0;a<r;a++)s[a]=t.charCodeAt(a);return s.buffer}function z7(e){const t=new Uint32Array(e.length);for(let s=0;s<e.length;s++)t[s]=SF(e[s]);return new Float32Array(t.buffer)}function g_(e,t,r){e||(e={});for(const s of r){s in e||(e[s]={});const a=s,u=a.split(".");if(e[a].server=t,e[a].tileId=a,e[a].zoomLevel=+u[1],e[a].tilePos=u.slice(2,u.length).map(h=>+h).filter(h=>!Number.isNaN(h)),e[a].tilesetUid=u[0],"dense"in e[a]){const h=$7(e[a].dense);let f;if(e[a].dtype==="float16"){const v=new Uint16Array(h);f=z7(v)}else f=new Float32Array(h);const g=e[a].tilePos.length===2?new xR(f):new cy(f);e[a].dense=f,e[a].denseDataExtrema=g,e[a].minNonZero=g.minNonZeroInTile,e[a].maxNonZero=g.maxNonZeroInTile}}return e}function V7(e,t,r,s,a,u){const h={"content-type":"application/json"};s&&(h.Authorization=s),fetch(e,{credentials:"same-origin",headers:h,...u&&Object.keys(u).length>0?{method:"POST",body:JSON.stringify(u)}:{}}).then(f=>f.json()).then(f=>{a(g_(f,t,r))}).catch(f=>console.warn("err:",f))}const AF=15,lw=Yn.nice();let ay=0,ru=null;const j7=(e,t,r)=>{let s,a=[],u={},h=0;const f=S=>{const x=u[S.id];x&&a[x]?a[x].ids=a[x].ids.concat(S.ids):(u[S.id]=a.length,a.push(S))},g=()=>{s=null,a=[],u={}},v=(S,...x)=>{e({sessionId:lw,requests:a},...x),g()},p=(S,...x)=>{const O=()=>{h>0&&(v(S,...x),h=0)};clearTimeout(s),s=setTimeout(O,r)};p.cancel=()=>{clearTimeout(s),g()},p.immediate=()=>{e({sessionId:lw,requests:a})};let E=!1;return(S,...x)=>{f(S),E?h++:(v(S,...x),p(S,...x),E=!0,h=0,setTimeout(()=>{E=!1},t))}},v_=e=>{ru=e},W7=()=>ru;function X7(e,t){const r=e.requests,s=[],a={},u={};for(const f of r){a[f.server]||(a[f.server]={},u[f.server]=[]);for(const g of f.ids)if(a[f.server][g]=!0,f.options){const v=g.indexOf("."),p=g.substring(0,v),E=g.substring(v+1),T=u[f.server].find(S=>S.tilesetUid===p);T?T.tileIds.push(E):u[f.server].push({tilesetUid:p,tileIds:[E],options:f.options})}}const h=Object.keys(a);for(const f of h){const g=Object.keys(a[f]),v=u[f];for(let p=0;p<g.length;p+=AF){const E=g.slice(p,p+Math.min(g.length-p,AF)),T=E.map(O=>`d=${O}`).join("&"),S=`${f}/tiles/?${T}&s=${lw}`,x=new Promise((O,P)=>{t.publish("requestSent",S);const M={};M.outUrl=S,M.server=f,M.theseTileIds=E,M.authHeader=ru,V7(M.outUrl,M.server,M.theseTileIds,M.authHeader,O,v),t.publish("requestReceived",S)});s.push(x)}}Promise.all(s).then(f=>{const g={};for(const v of f){const p=Object.keys(v);for(const E of p)g[`${v[E].server}/${E}`]=v[E]}for(const v of r){const p={},{server:E}=v;for(const T of v.ids)p[T]=g[`${E}/${T}`];v.done(p)}})}const Y7=j7(X7,Hk,Hk),q7=(e,t)=>{const r=e.map(f=>+f).sort((f,g)=>g-f),s=t.range()[1]-t.range()[0],u=r.map(f=>(t.domain()[1]-t.domain()[0])/f).map(f=>f/s),h=u.filter(f=>f<1);return h.length===0?0:u.indexOf(h[h.length-1])},uw=(e,t)=>{if(e.resolutions)return e.resolutions.map(f=>+f).sort((f,g)=>g-f)[t];const r=e.max_width,s=+e.bins_per_dimension;return r/(2**t*s)},wF=(e,t,r,s)=>{const a=e.range()[1]-e.range()[0],u=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),f=Math.max(0,Math.ceil(Math.log(a/384)/Math.LN2));let g=Math.round(Math.log(u)/Math.LN2)+f,v=0;return s&&(v=Math.floor(Math.log(256)/Math.log(2)-Math.log(s)/Math.log(2))),g+=v,g};function cw(e,t,r,s,a){let u=null;const h=e.bins_per_dimension||256;e.resolutions?u=e.resolutions[s]*h:u=t/2**s;const f=Math.floor((a-r)/u),g=Math.floor(h*(a-f*u)/u);return[f,g]}const Z7=(e,t,r,s,a,u)=>{const h=Math.min(e,a),f=u/2**h,g=1e-7;return Gs(Math.max(0,Math.floor((t.domain()[0]-r)/f)),Math.min(2**h,Math.ceil((t.domain()[1]-r-g)/f)))},aR=(e,t,r)=>e.resolutions?e.resolutions.map(a=>+a).sort((a,u)=>u-a)[t]*r:e.max_width/2**t,K7=(e,t,r,s,a)=>{const f=e*(a||256),g=20;s||(s=Number.MAX_VALUE);const v=Math.max(0,Math.floor((t.domain()[0]-r)/f)),p=Math.ceil(Math.min(s,t.domain()[1]-r-1e-7)/f);let E=Gs(v,p);return E.length>g&&(console.warn(`Too many visible tiles: ${E.length} truncating to ${g}`),E=E.slice(0,g)),E},CF=(e,t,r,s,a,u,h,f,g,v)=>{const{tileData:p}=e;if(!p.dense){u(null);return}if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();const T=Math.floor(Math.sqrt(e.tileData.dense.length));for(let S=0;S<T;S++)for(let x=S+1;x<T;x++)e.tileData.dense[S*T+x]=e.tileData.dense[x*T+S];if(f)for(let S=0;S<T;S++)for(let x=0;x<S;x++)e.tileData.dense[S*T+x]=NaN;e.isMirrored=!0}const E=G7(p.dense.length,p.dense,t,r,s,a,h,f,e.tileData.shape,g,v);u({pixData:E})};function hw(e,t,r,s){ay+=1,s.publish("requestSent",e);let a=null;if(r==="text")a=null;else if(r==="json")a="application/json";else throw new Error(`fetch either "text" or "json", not "${r}"`);const u={};return a&&(u["Content-Type"]=a),ru&&(u.Authorization=ru),fetch(e,{credentials:"same-origin",headers:u}).then(h=>{if(!h.ok)throw Error(h.statusText);return h[r]()}).then(h=>(t(void 0,h),h)).catch(h=>(console.error(`Could not fetch ${e}`,h),t(h,void 0),h)).finally(()=>{s.publish("requestReceived",e),ay-=1})}function Q7(e,t,r){return hw(e,t,"text",r)}async function y_(e,t,r){return e.indexOf("hg19")>=0&&await ER(1),hw(e,t,"json",r)}const Lr={calculateResolution:uw,calculateTileAndPosInTile:cw,calculateTiles:Z7,calculateTilesFromResolution:K7,calculateTileWidth:aR,calculateZoomLevel:wF,calculateZoomLevelFromResolutions:q7,fetchTilesDebounced:Y7,json:y_,text:Q7,tileDataToPixData:CF,trackInfo:(e,t,r,s,a)=>{const u=`${T_(e)}/tileset_info/?d=${t}&s=${lw}`;a.publish("requestSent",u),y_(u,(h,f)=>{a.publish("requestReceived",u),h?s?s(`Error retrieving tilesetInfo from: ${e}`):console.warn("Error retrieving: ",u):r(f)},a)}},ez=Object.freeze(Object.defineProperty({__proto__:null,chromInfo:iR,createDomEvent:_F,ElementResizeListener:EF,tileProxy:Lr,get requestsInFlight(){return ay},setTileProxyAuthHeader:v_,getTileProxyAuthHeader:W7,get authHeader(){return ru},tileResponseToData:g_},Symbol.toStringTag,{value:"Module"})),xF=e=>(EF.listen(),[e.clientWidth,e.clientHeight]),_l=(e,t)=>{let r=null;const s=a=>(a.uid===t&&(r=a),a.type.substr(0,8)==="combined"&&a.contents.forEach(s),null);return Object.keys(e).map(a=>e[a]).filter(a=>a.filter).reduce((a,u)=>a.concat(u),[]).forEach(s),r},tz=(e,t,r)=>{const a=e.state.views[t];if(!a)return null;let u=null;const h=g=>(g.uid===r&&(u=g),g.type.substr(0,8)==="combined"&&g.contents.forEach(h),null),f=a.tracks;return Object.keys(f).map(g=>f[g]).filter(g=>g.filter).reduce((g,v)=>g.concat(v),[]).forEach(h),u},Xg=(e,t,r)=>{const s=t?e[t]:Object.values(e)[0];if(!s){console.warn(t?`Could't find view with id "${t}"`:"No views available.");return}let a=s.trackRenderer.trackDefObjects[r];return a?a=a.trackObject:Object.values(s.trackRenderer.trackDefObjects).map(u=>u.trackObject).filter(u=>u.childTracks).forEach(u=>{u.createdTracks[r]&&(a=u.createdTracks[r])}),a},oy=(e,t,r=!0,s=null)=>e.forEach(a=>{a.type==="combined"?r&&(oy(a.contents,t,r,s),t(a,s)):t(a,s)}),Bh=(e,t,r=!0)=>{const s=[];return Object.keys(e).forEach(a=>{oy(e[a],t,r,a)}),s},Wu=(e,t)=>{let r=null;return Bh(e,(s,a)=>{s.uid===t&&(r=a)}),r},fw=e=>t=>Array.prototype.map.call(t,e),oR=()=>[window,fw(e=>e.charCodeAt(0))("1.12.4").map(e=>e<=999?`00${e}`.slice(-3):e).join("")],IF=(e,t=1,r=100,s=0,a=0,u=0,h=100)=>{const f=document.createElement("canvas");f.width=t,f.height=r;const g=f.getContext("2d"),v=g.createLinearGradient(s,a,u,h);return e.forEach(p=>{v.addColorStop(p.from,p.color)}),g.fillStyle=v,g.fillRect(0,0,t,r),f},DF=(e,t)=>{let r=e;for(;r&&r!==t&&r.tagName!=="HTML";)r=r.parentNode;return r===t},sR=e=>parseInt(e.replace(/^#/,""),16),nu=()=>{};let Np=function(){function e(t){L(this,e),this.context=t;const{tracks:r,createTrackObject:s}=t;this.childTracks=r.map(s),this.createdTracks={},this.uid=Yn.nice(),this.childTracks.forEach((a,u)=>{this.createdTracks[r[u].uid]=a});for(let a=0;a<this.childTracks.length;a++)this.childTracks[a]||console.error("Empty child track in CombinedTrack:",this)}return V(e,[{key:"updateContents",value:function(r,s){const a=[],u=new Set;r.forEach(g=>{if(u.add(g.uid),g.uid in this.createdTracks)a.push(this.createdTracks[g.uid]);else{const v=s(g);v.setPosition(this.position),v.setDimensions(this.dimensions),a.push(v),v.zoomed(this._xScale,this._yScale),this.createdTracks[g.uid]=v}}),this.childTracks=a;const h=new Set(Object.keys(this.createdTracks));return[...new Set([...h].filter(g=>!u.has(g)))].forEach(g=>{this.createdTracks[g].remove(),delete this.createdTracks[g]}),this}},{key:"setPosition",value:function(r){this.position=r;for(let s=0;s<this.childTracks.length;s++)this.childTracks[s].setPosition(r)}},{key:"setDimensions",value:function(r){this.dimensions=r;for(let s=0;s<this.childTracks.length;s++)this.childTracks[s].setDimensions(r)}},{key:"zoomed",value:function(r,s,a,u,h,f,g){this._xScale=r,this._yScale=s;for(let v=0;v<this.childTracks.length;v++)this.childTracks[v].zoomed(r,s,a,u,h,f,g)}},{key:"clickOutside",value:function(){for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].clickOutside()}},{key:"click",value:function(...r){for(let s=0;s<this.childTracks.length;s++)this.childTracks[s].click(...r)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(r,s){for(let a=0;a<this.childTracks.length;a++)this.childTracks[a].refScalesChanged(r,s)}},{key:"remove",value:function(){for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].remove()}},{key:"exportSVG",value:function(){const r=document.createElement("g");for(const s of this.childTracks)s.exportSVG&&r.appendChild(s.exportSVG()[0]);return[r,r]}},{key:"rerender",value:function(r){}},{key:"minValue",value:function(r){if(arguments.length===0){const s=this.childTracks.filter(a=>a.minValue).map(a=>a.minValue()).filter(a=>a);return Math.min(...s)}for(const s of this.childTracks)s.minValue&&s.minValue(r)}},{key:"maxValue",value:function(r){if(arguments.length===0){const s=this.childTracks.filter(a=>a.maxValue).map(a=>a.maxValue()).filter(a=>a);return Math.max(...s)}for(const s of this.childTracks)s.maxValue&&s.maxValue(r)}},{key:"respondsToPosition",value:function(r,s){return r>=this.position[0]&&r<=this.dimensions[0]+this.position[0]&&s>=this.position[1]&&s<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){for(const r of this.childTracks)r.stopHover&&r.stopHover()}},{key:"getMouseOverHtml",value:function(r,s){let a="";for(const u of this.childTracks)if(u.getMouseOverHtml){const h=u.getMouseOverHtml(r,s);h&&h.length&&(a+=h,a+="<br/>")}return a}}]),e}();const OF=(e,t)=>t===e?!0:t instanceof Np?Object.keys(t.createdTracks).map(r=>t.createdTracks[r]).some(r=>OF(e,r)):!1,Mp=(e,t,r,s,a,u,h=!1)=>h?e>=r&&e<=s||t>=a&&t<=u:e>=r&&e<=s&&t>=a&&t<=u,lR=e=>Math.log(Math.tan((e+Math.PI/2)/2)),uR=(e,t)=>{let r=e*Math.PI/180;return r=lR(r),2**t*(Math.PI-r)/(2*Math.PI)},b_=e=>fw(t=>e[t])(Object.keys(e)),kF=e=>b_(e).map(t=>t.chromInfoPath).forEach(t=>iR.get(t)),rz=(e,t)=>2**t*(e+180)/360,cR=(e,t)=>e>t?e:t,dw=1e-7;function hR(e){let t=Number.MIN_SAFE_INTEGER;for(let r=0;r<e.length;r++){const s=e[r];s<dw&&s>-dw||s>t&&(t=s)}return t}const pw=(e,t)=>e<t?e:t,RF=1e-7;function fR(e){let t=Number.MAX_SAFE_INTEGER;for(let r=0;r<e.length;r++){const s=e[r];s<RF&&s>-RF||s<t&&(t=s)}return t}const dR=(e,t)=>(e%t+t)%t,pR=(e,t)=>{const r=+t;if(!Number.isNaN(r))if(e.dimension===1)for(let a=0;a<e.shape[0];++a)e.set(a,r);else for(let a=0;a<e.shape[0];++a)for(let u=0;u<e.shape[1];++u)e.set(a,u,r);else{const a=e.shape[0],u=e.shape[1],h=t.shape[0],f=t.shape[1];if(a!==h||u!==f){console.warn("Cannot assign source to target ndarray as the dimensions do not match",a,h,u,f);return}if(e.dimension===1)for(let g=0;g<e.shape[0];++g)e.set(g,t.get(g));else for(let g=0;g<e.shape[0];++g)for(let v=0;v<e.shape[1];++v)e.set(g,v,t.get(g,v))}};function nz(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var iz=nz;/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var iu=function(e){return e!=null&&(mw(e)||az(e)||!!e._isBuffer)};function mw(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function az(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&mw(e.slice(0,0))}var oz=iz,Yg=iu,sz=typeof Float64Array<"u";function lz(e,t){return e[0]-t[0]}function mR(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(lz);var s=new Array(t.length);for(r=0;r<s.length;++r)s[r]=t[r][1];return s}function gR(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var s=e==="generic";if(t===-1){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",O=new Function(a);return O()}else if(t===0){var a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(s?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(s?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",O=new Function("TrivialArray",a);return O(gw[e][0])}var a=["'use strict'"],u=oz(t),h=u.map(function(P){return"i"+P}),f="this.offset+"+u.map(function(P){return"this.stride["+P+"]*i"+P}).join("+"),g=u.map(function(P){return"b"+P}).join(","),v=u.map(function(P){return"c"+P}).join(",");a.push("function "+r+"(a,"+g+","+v+",d){this.data=a","this.shape=["+g+"]","this.stride=["+v+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+u.map(function(P){return"this.shape["+P+"]"}).join("*"),"}})"),t===1?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),t===2?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+h.join(",")+",v){"),s?a.push("return this.data.set("+f+",v)}"):a.push("return this.data["+f+"]=v}"),a.push("proto.get=function "+r+"_get("+h.join(",")+"){"),s?a.push("return this.data.get("+f+")}"):a.push("return this.data["+f+"]}"),a.push("proto.index=function "+r+"_index(",h.join(),"){return "+f+"}"),a.push("proto.hi=function "+r+"_hi("+h.join(",")+"){return new "+r+"(this.data,"+u.map(function(P){return["(typeof i",P,"!=='number'||i",P,"<0)?this.shape[",P,"]:i",P,"|0"].join("")}).join(",")+","+u.map(function(P){return"this.stride["+P+"]"}).join(",")+",this.offset)}");var p=u.map(function(P){return"a"+P+"=this.shape["+P+"]"}),E=u.map(function(P){return"c"+P+"=this.stride["+P+"]"});a.push("proto.lo=function "+r+"_lo("+h.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+E.join(","));for(var T=0;T<t;++T)a.push("if(typeof i"+T+"==='number'&&i"+T+">=0){d=i"+T+"|0;b+=c"+T+"*d;a"+T+"-=d}");a.push("return new "+r+"(this.data,"+u.map(function(P){return"a"+P}).join(",")+","+u.map(function(P){return"c"+P}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+h.join(",")+"){var "+u.map(function(P){return"a"+P+"=this.shape["+P+"]"}).join(",")+","+u.map(function(P){return"b"+P+"=this.stride["+P+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var T=0;T<t;++T)a.push("if(typeof i"+T+"==='number'){d=i"+T+"|0;if(d<0){c+=b"+T+"*(a"+T+"-1);a"+T+"=ceil(-a"+T+"/d)}else{a"+T+"=ceil(a"+T+"/d)}b"+T+"*=d}");a.push("return new "+r+"(this.data,"+u.map(function(P){return"a"+P}).join(",")+","+u.map(function(P){return"b"+P}).join(",")+",c)}");for(var S=new Array(t),x=new Array(t),T=0;T<t;++T)S[T]="a[i"+T+"]",x[T]="b[i"+T+"]";a.push("proto.transpose=function "+r+"_transpose("+h+"){"+h.map(function(P,M){return P+"=("+P+"===undefined?"+M+":"+P+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+S.join(",")+","+x.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+h+"){var a=[],b=[],c=this.offset");for(var T=0;T<t;++T)a.push("if(typeof i"+T+"==='number'&&i"+T+">=0){c=(c+this.stride["+T+"]*i"+T+")|0}else{a.push(this.shape["+T+"]);b.push(this.stride["+T+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+u.map(function(P){return"shape["+P+"]"}).join(",")+","+u.map(function(P){return"stride["+P+"]"}).join(",")+",offset)}");var O=new Function("CTOR_LIST","ORDER",a.join(`
`));return O(gw[e],mR)}function qg(e){if(Yg(e))return"buffer";if(sz)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var gw={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function uz(e,t,r,s){if(e===void 0){var v=gw.array[0];return v([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var a=t.length;if(r===void 0){r=new Array(a);for(var u=a-1,h=1;u>=0;--u)r[u]=h,h*=t[u]}if(s===void 0){s=0;for(var u=0;u<a;++u)r[u]<0&&(s-=(t[u]-1)*r[u])}for(var f=qg(e),g=gw[f];g.length<=a+1;)g.push(gR(f,g.length-1));var v=g[a+1];return v(e,t,r,s)}var sy=uz;const vw=e=>{const t=e.shape.reduce((s,a)=>s*a,1),r=new Array(t);if(e.dimension===1){let s=0;for(let a=0;a<e.shape[0];++a)r[s]=e.get(a),s++}else{let s=0;for(let a=0;a<e.shape[0];++a)for(let u=0;u<e.shape[1];++u)r[s]=e.get(a,u),s++}return r},PF=e=>e.shape.length===1?e:sy(vw(e)),yw=e=>{const t=e.split("."),r=t.slice(1).join("").length;return+t.join("")/10**r},__=(e,t)=>e||t;function ly(e){const t=[],r={},s={};let a=0;for(let u=0;u<e.length;u++){const h=Number(e[u][1]);a+=h;const f={id:u,chr:e[u][0],pos:a-h};t.push(f),s[f.chr]=f,r[e[u][0]]=h}return{cumPositions:t,chrPositions:s,totalLength:a,chromLengths:r}}const bw=e=>{const t=document.createElement("g"),r=document.createElement("text");return e.anchor.x===0?r.setAttribute("text-anchor","start"):e.anchor.x===1?r.setAttribute("text-anchor","end"):r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",e.style.fontFamily),r.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform",`scale(${e.scale.x},1)`),r.setAttribute("fill",e.style.fill),r.innerHTML=e.text,t.appendChild(r),t.setAttribute("transform",`translate(${e.x},${e.y})scale(${e.scale.x},1)`),t},cz=e=>{try{const t=e.split(".");return r=>{let s=r;return t.forEach(a=>{s=s[a]}),s}}catch{return}},hz=(e,t,r,s,a,u,h=0,f=0,g)=>{const v=u?a:s,p=u?s:a,E=u?f:h,T=u?h:f,S=Math.max(0,+v[0]||0),x=Math.max(0,+v[1]||0),O=Math.max(0,+p[0]||0),P=Math.max(0,+p[1]||0);let M=[];ArrayBuffer.isView(g)||console.warn("Not supported yet");try{const G=new g.constructor(g.length);let B=0+T;for(let j=O;j<P;j++)G.set(e.slice(j*t+S,j*t+x),E+B*r),B+=1;const U=u?Nk(r,r):void 0;M=rF(g,G,U)}catch{}return M},fz=(e,t,r,s)=>[s.chrPositions[e].pos+ +t,s.chrPositions[e].pos+ +r],dz="http://www.w3.org/2000/svg",vR=(e,t)=>{const r=new RegExp(`(\\s|^)${t}(\\s|$)`);if(e.namespaceURI===dz){const s=e.getAttribute("class")||"";e.setAttribute("class",s.replace(r," "))}else e.classList?e.classList.remove(t):GA(e,t)&&(e.className=e.className.replace(r," "))},Lp=(e,t)=>{e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)},yR=e=>{const t=e.toString(16);return t.length===1?`0${t}`:t},pz=(e,t,r)=>`#${yR(e)}${yR(t)}${yR(r)}`,Po=(e,t)=>{const r=e.invert((e.range()[0]+e.range()[1])/2),s=t.invert((t.range()[0]+t.range()[1])/2),a=e.invert(1)-e.invert(0);return[r,s,a]},uy=(e,t,r)=>{if(r===null||!e||!t)return;const s=e.domain()[0],a=e.domain()[1],u=t.domain()[0],h=t.domain()[1];return[...J0(s,a,r),...J0(u,h,r)]},bR=11184810,NF=1,_R=(e,t,r,s,a,u,h,f,g)=>{e.publish("app.animateOnMouseMove",!0);const v=r.mousePositionColor?sR(r.mousePositionColor):bR,p=r.mousePositionAlpha||NF,E=new or.PIXI.Graphics,T=()=>{E.clear()},S=(O,P,M)=>{if(M||T(),E.lineStyle(1,v,p),P){const G=f?a()[0]:0;E.moveTo(0,O),E.lineTo(u()[0]+G,O)}else{const G=f?a()[1]:0;E.moveTo(O,0),E.lineTo(O,u()[1]+G)}},x=O=>{if(O.noHoveredTracks)return T(),E;let P,M;O.isFromVerticalTrack?(P=O.dataY,M=O.dataY):(P=O.dataX,M=O.isFrom2dTrack?O.dataY:O.dataX);const G=f?a():[0,0],B=h()?s()[0](M)+G[1]:s()[0](P)+G[0];return S(B),f&&S(s()[1](M)+G[1],!0,!0),E};return t.push(e.subscribe("app.mouseMove",x)),t.push(e.subscribe("app.mouseLeave",T)),t.push(e.subscribe("blur",T)),g&&t.push(xg.subscribe("higlass.mouseMove",x)),E},Zg=(e,t=!1,r=!1)=>{const s=t?e.pMasked:e.pForeground||e.pMain,a=()=>[e.xScale(),e.yScale()],u=_R(e.pubSub,e.pubSubs,e.options,a,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,r);return s.addChild(u),()=>{s.removeChild(u)}},mz=e=>t=>Array.prototype.some.call(t,e),Fp=(e,t)=>e+t,MF=(e,t,r,s,a,u)=>{const h=document.createElement("line");return h.setAttribute("x1",e),h.setAttribute("x2",r),h.setAttribute("y1",t),h.setAttribute("y2",s),a&&h.setAttribute("stroke-width",a),u&&h.setAttribute("stroke",u),h},TR=(e,t,r)=>{let s,a=0;const u=()=>{s=null},h=(...v)=>{const p=()=>{a>0&&(e(...v),a=0)};clearTimeout(s),s=setTimeout(p,r)};h.cancel=()=>{clearTimeout(s),u()},h.immediate=(...v)=>{e(...v)};let f=!1;return(v,...p)=>{f?a++:(e(...p),h(...p),f=!0,a=0,setTimeout(()=>{f=!1},t))}},LF=(e,t=256,r=256)=>{const s=document.createElement("canvas");s.width=t,s.height=r;const a=s.getContext("2d");a.fillStyle="transparent",a.fillRect(0,0,s.width,s.height);const u=new ImageData(e,s.width,s.height);return a.putImageData(u,0,0),s},ER=e=>new Promise(t=>{setTimeout(t,e)}),FF=e=>{if(!e.tracks)return 0;let t=0;return e.tracks.top&&(t+=e.tracks.top.map(r=>r.height).reduce((r,s)=>r+s,0)),e.tracks.center&&(t+=e.tracks.center.map(r=>r.height).reduce((r,s)=>r+s,0)),e.tracks.bottom&&(t+=e.tracks.bottom.map(r=>r.height).reduce((r,s)=>r+s,0)),t},Uc=()=>{},T_=e=>(e||"").replace(/\/$/,""),_w=(e,t,r=0,s=1e-6)=>a=>{let u=255;return a>s&&(u=Math.max(0,Math.min(255,Math.floor(e(a+r))))),t[u]},E_=e=>{let t=[];for(let r=0;r<e.length;r++)e[r].contents?t=t.concat(e[r].contents):t.push(e[r]);return t};function SR(e,t,r,s){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=r,this.right=s}function Hh(){this.root=null}function AR(e,t,r){let s=new SR(r[0],r[1]);if(s.max=r[1],s.parentNode=e,e[t]=s,e.max<r[1])for(;s;)s.max<r[1]&&(s.max=r[1]),s=s.parentNode}function Tw(e,t){e.interval[0]>t[0]?e.left?Tw(e.left,t):AR(e,"left",t):e.right?Tw(e.right,t):AR(e,"right",t)}Hh.prototype.add=function(t){if(!this.root){this.root=new SR(t[0],t[1]),this.root.max=t[1];return}Tw(this.root,t)};function wR(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;let r=!1,s;return["left","right"].forEach(a=>{s=t[a],s&&s.max>e&&(r=r||wR(e,s))}),r}Hh.prototype.contains=function(t){return wR(t,this.root)};function BF(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]<t[0]&&e[1]>t[0]||e[0]<t[1]&&e[1]>t[1]||t[0]<e[0]&&t[1]>e[0]||t[0]<e[1]&&t[1]>e[1]}function CR(e,t){if(!t)return!1;if(BF(t.interval,e))return!0;let r=!1,s;return["left","right"].forEach(a=>{s=t[a],s&&s.max>=e[0]&&(r=r||CR(e,s))}),r}Hh.prototype.intersects=function(t){return CR(t,this.root)};function Ew(e){return e?1+Math.max(Ew(e.left),Ew(e.right)):0}Hh.prototype.height=function(){return Ew(this.root)},Hh.prototype.findMax=function(t){const r=[t];let s,a=-1/0,u;for(;r.length;)s=r.pop(),s.left&&r.push(s.left),s.right&&r.push(s.right),s.interval[1]>a&&(a=s.interval[1],u=s);return u},Hh.prototype._removeHelper=function(t,r){if(r)if(r.interval[0]===t[0]&&r.interval[1]===t[1]){if(r.left&&r.right){let a=r.left;for(;a.left;)a=a.left;const u=a.interval;a.interval=r.interval,r.interval=u,this._removeHelper(a.interval,r)}else{let a="left";r.right&&(a="right");const u=r.parentNode;u?(u.left===r?u.left=r[a]:u.right=r[a],r[a]&&(r[a].parentNode=u)):(this.root=r[a],this.root&&(this.root.parentNode=null))}const s=r.parentNode;if(s){let a=this.findMax(s);const u=a.interval[1];for(;a;)a.max===r.interval[1]?(a.max=u,a=a.parentNode):a=!1}}else this._removeHelper(t,r.left),this._removeHelper(t,r.right)},Hh.prototype.remove=function(t){return this._removeHelper(t,this.root)};function S_(e){e.sort((s,a)=>a.to-a.from-(s.to-s.from));const t=[[]],r=[new Hh];for(let s=0;s<e.length;s++){let a=!1;for(let u=0;u<t.length;u++){const h=r[u],f=[+e[s].from,+e[s].to];if(!h.intersects(f)){h.add(f),t[u].push(e[s]),a=!0;break}}if(!a){const u=new Hh;u.add([e[s].from,e[s].to]),t.push([e[s]]),r.push(u)}}return t}let cy=function(){function e(t){L(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=2**Math.ceil(Math.log2(this.tileSize)),this.numSubsets=Math.min(jg,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return V(e,[{key:"getMinNonZeroInSubset",value:function(r){const s=r[0],a=r[1];let u=Number.MAX_SAFE_INTEGER;if(s===0&&a===this.tileSize)return this.minNonZeroInTile;const h=Math.ceil(s/this.subsetSize),f=Math.floor((a-1)/this.subsetSize);return h>=f?this.minNonZero(this.data,s,a):(s<h*this.subsetSize&&(u=Math.min(u,this.minNonZero(this.data,s,h*this.subsetSize))),u=Math.min(u,this.minNonZero(this.subsetMinimums,h,f)),a>f*this.subsetSize&&(u=Math.min(u,this.minNonZero(this.data,f*this.subsetSize,a))),u)}},{key:"getMaxNonZeroInSubset",value:function(r){const s=r[0],a=r[1];let u=Number.MIN_SAFE_INTEGER;if(s===0&&a===this.tileSize)return this.maxNonZeroInTile;const h=Math.ceil(s/this.subsetSize),f=Math.floor((a-1)/this.subsetSize);return h>=f?this.maxNonZero(this.data,s,a):(s<h*this.subsetSize&&(u=Math.max(u,this.maxNonZero(this.data,s,h*this.subsetSize))),u=Math.max(u,this.maxNonZero(this.subsetMaximums,h,f)),a>f*this.subsetSize&&(u=Math.max(u,this.maxNonZero(this.data,f*this.subsetSize,a))),u)}},{key:"computeSubsetNonZeroMinimums",value:function(){const r=[];for(let s=0;s<this.numSubsets;s++){let a=Number.MAX_SAFE_INTEGER;for(let u=0;u<this.subsetSize;u++){const h=this.data[s*this.subsetSize+u];h!==void 0&&(h<this.epsilon&&h>-this.epsilon||h<a&&(a=h))}r.push(a)}return r}},{key:"computeSubsetNonZeroMaximums",value:function(){const r=[];for(let s=0;s<this.numSubsets;s++){let a=Number.MIN_SAFE_INTEGER;for(let u=0;u<this.subsetSize;u++){const h=this.data[s*this.subsetSize+u];h!==void 0&&(h<this.epsilon&&h>-this.epsilon||h>a&&(a=h))}r.push(a)}return r}},{key:"getMinNonZeroInTile",value:function(){return Math.min(...this.subsetMinimums)}},{key:"getMaxNonZeroInTile",value:function(){return Math.max(...this.subsetMaximums)}},{key:"minNonZero",value:function(r,s,a){let u=Number.MAX_SAFE_INTEGER;for(let h=s;h<a;h++){const f=r[h];f<this.epsilon&&f>-this.epsilon||f<u&&(u=f)}return u}},{key:"maxNonZero",value:function(r,s,a){let u=Number.MIN_SAFE_INTEGER;for(let h=s;h<a;h++){const f=r[h];f<this.epsilon&&f>-this.epsilon||f>u&&(u=f)}return u}}]),e}(),xR=function(){function e(t){L(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),Number.isSafeInteger(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(Bc,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;const r=sy(Array.from(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(r),this.subsetMaximums=this.computeSubsetNonZeroMaximums(r),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return V(e,[{key:"getMinNonZeroInSubset",value:function(r){const s=r[0],a=r[1],u=r[2],h=r[3],f=Math.floor(a/this.subsetSize),g=Math.floor(s/this.subsetSize),v=Math.ceil((h+1)/this.subsetSize)-f,p=Math.ceil((u+1)/this.subsetSize)-g;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,f,g,p,v)}},{key:"getMaxNonZeroInSubset",value:function(r){const s=r[0],a=r[1],u=r[2],h=r[3],f=Math.floor(a/this.subsetSize),g=Math.floor(s/this.subsetSize),v=Math.ceil((h+1)/this.subsetSize)-f,p=Math.ceil((u+1)/this.subsetSize)-g;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,f,g,p,v)}},{key:"computeSubsetNonZeroMinimums",value:function(r){let s=new Array(this.numSubsets**2);s=sy(s,[this.numSubsets,this.numSubsets]);for(let a=0;a<this.numSubsets;a++)for(let u=0;u<this.numSubsets;u++){const h=this.getMinNonZeroInNdarraySubset(r,a*this.subsetSize,u*this.subsetSize,this.subsetSize,this.subsetSize);s.set(a,u,h)}return s}},{key:"computeSubsetNonZeroMaximums",value:function(r){let s=new Array(this.numSubsets**2);s=sy(s,[this.numSubsets,this.numSubsets]);for(let a=0;a<this.numSubsets;a++)for(let u=0;u<this.numSubsets;u++){const h=this.getMaxNonZeroInNdarraySubset(r,a*this.subsetSize,u*this.subsetSize,this.subsetSize,this.subsetSize);s.set(a,u,h)}return s}},{key:"getMinNonZeroInNdarraySubset",value:function(r,s,a,u,h){let f=Number.MAX_SAFE_INTEGER;for(let g=0;g<u;g++)for(let v=0;v<h;v++){const p=r.get(s+v,a+g);p<this.epsilon&&p>-this.epsilon||p<f&&(f=p)}return f}},{key:"getMaxNonZeroInNdarraySubset",value:function(r,s,a,u,h){let f=Number.MIN_SAFE_INTEGER;for(let g=0;g<u;g++)for(let v=0;v<h;v++){const p=r.get(s+v,a+g);p<this.epsilon&&p>-this.epsilon||p>f&&(f=p)}return f}},{key:"mirrorPrecomputedExtrema",value:function(){for(let r=1;r<this.numSubsets;r++)for(let s=0;s<r;s++)this.subsetMinimums.set(s,r,this.subsetMinimums.get(r,s)),this.subsetMaximums.set(s,r,this.subsetMaximums.get(r,s))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e}();const IR=e=>{let t;switch(e&&e.toLowerCase()){case"mean":t=eD;break;case"sum":t=uL;break;case"variance":t=WI;break;case"deviation":t=DE;break;default:t=eD,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t},A_=(e,t)=>e.reduce((r,s)=>r+(Array.isArray(s)&&t?s.length:1),0),hy=e=>{switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map(t=>hy(t)).reduce(__,!1);default:return!1}},fy=(e,t,r)=>{let s=t,a=r;return r||(a=t,s=Object.values(e.state.views)[0].uid),e.tiledPlots[s].trackRenderer.getTrackObject(a)},HF=(e,t)=>e.tiledPlots[t].trackRenderer,gz=(e,t)=>e.tiledPlots[t];var Bp={},UF=Object.prototype.toString,DR=function(t){var r=UF.call(t),s=r==="[object Arguments]";return s||(s=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&UF.call(t.callee)==="[object Function]"),s},Sw,w_;function vz(){if(w_)return Sw;w_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=DR,a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),h=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=function(T){var S=T.constructor;return S&&S.prototype===T},v={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!v["$"+T]&&t.call(window,T)&&window[T]!==null&&typeof window[T]=="object")try{g(window[T])}catch{return!0}}catch{return!0}return!1}(),E=function(T){if(typeof window>"u"||!p)return g(T);try{return g(T)}catch{return!1}};e=function(S){var x=S!==null&&typeof S=="object",O=r.call(S)==="[object Function]",P=s(S),M=x&&r.call(S)==="[object String]",G=[];if(!x&&!O&&!P)throw new TypeError("Object.keys called on a non-object");var B=h&&O;if(M&&S.length>0&&!t.call(S,0))for(var U=0;U<S.length;++U)G.push(String(U));if(P&&S.length>0)for(var j=0;j<S.length;++j)G.push(String(j));else for(var Z in S)!(B&&Z==="prototype")&&t.call(S,Z)&&G.push(String(Z));if(u)for(var ee=E(S),J=0;J<f.length;++J)!(ee&&f[J]==="constructor")&&t.call(S,f[J])&&G.push(f[J]);return G}}return Sw=e,Sw}var yz=Array.prototype.slice,bz=DR,C_=Object.keys,Aw=C_?function(t){return C_(t)}:vz(),GF=Object.keys;Aw.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(s){return bz(s)?GF(yz.call(s)):GF(s)})}else Object.keys=Aw;return Object.keys||Aw};var $F=Aw,OR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,r);if(h.value!==a||h.enumerable!==!0)return!1}return!0},zF=typeof Symbol<"u"&&Symbol,VF=OR,kR=function(){return typeof zF!="function"||typeof Symbol!="function"||typeof zF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:VF()},_z="Function.prototype.bind called on incompatible ",RR=Array.prototype.slice,Tz=Object.prototype.toString,Ez="[object Function]",jF=function(t){var r=this;if(typeof r!="function"||Tz.call(r)!==Ez)throw new TypeError(_z+r);for(var s=RR.call(arguments,1),a,u=function(){if(this instanceof a){var p=r.apply(this,s.concat(RR.call(arguments)));return Object(p)===p?p:this}else return r.apply(t,s.concat(RR.call(arguments)))},h=Math.max(0,r.length-s.length),f=[],g=0;g<h;g++)f.push("$"+g);if(a=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var v=function(){};v.prototype=r.prototype,a.prototype=new v,v.prototype=null}return a},y=jF,_=Function.prototype.bind||y,C=_,k=C.call(Function.call,Object.prototype.hasOwnProperty),H,W=SyntaxError,ie=Function,me=TypeError,Ae=function(e){try{return ie('"use strict"; return ('+e+").constructor;")()}catch{}},je=Object.getOwnPropertyDescriptor;if(je)try{je({},"")}catch{je=null}var Je=function(){throw new me},Nt=je?function(){try{return arguments.callee,Je}catch{try{return je(arguments,"callee").get}catch{return Je}}}():Je,ft=kR(),Lt=Object.getPrototypeOf||function(e){return e.__proto__},Kt={},wr=typeof Uint8Array>"u"?H:Lt(Uint8Array),Qr={"%AggregateError%":typeof AggregateError>"u"?H:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?H:ArrayBuffer,"%ArrayIteratorPrototype%":ft?Lt([][Symbol.iterator]()):H,"%AsyncFromSyncIteratorPrototype%":H,"%AsyncFunction%":Kt,"%AsyncGenerator%":Kt,"%AsyncGeneratorFunction%":Kt,"%AsyncIteratorPrototype%":Kt,"%Atomics%":typeof Atomics>"u"?H:Atomics,"%BigInt%":typeof BigInt>"u"?H:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?H:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?H:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?H:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?H:Float32Array,"%Float64Array%":typeof Float64Array>"u"?H:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?H:FinalizationRegistry,"%Function%":ie,"%GeneratorFunction%":Kt,"%Int8Array%":typeof Int8Array>"u"?H:Int8Array,"%Int16Array%":typeof Int16Array>"u"?H:Int16Array,"%Int32Array%":typeof Int32Array>"u"?H:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ft?Lt(Lt([][Symbol.iterator]())):H,"%JSON%":typeof JSON=="object"?JSON:H,"%Map%":typeof Map>"u"?H:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ft?H:Lt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?H:Promise,"%Proxy%":typeof Proxy>"u"?H:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?H:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?H:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ft?H:Lt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?H:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ft?Lt(""[Symbol.iterator]()):H,"%Symbol%":ft?Symbol:H,"%SyntaxError%":W,"%ThrowTypeError%":Nt,"%TypedArray%":wr,"%TypeError%":me,"%Uint8Array%":typeof Uint8Array>"u"?H:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?H:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?H:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?H:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?H:WeakMap,"%WeakRef%":typeof WeakRef>"u"?H:WeakRef,"%WeakSet%":typeof WeakSet>"u"?H:WeakSet};try{null.error}catch(e){var Fn=Lt(Lt(e));Qr["%Error.prototype%"]=Fn}var vn=function e(t){var r;if(t==="%AsyncFunction%")r=Ae("async function () {}");else if(t==="%GeneratorFunction%")r=Ae("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Ae("async function* () {}");else if(t==="%AsyncGenerator%"){var s=e("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&(r=Lt(a.prototype))}return Qr[t]=r,r},li={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Di=_,Bt=k,Yt=Di.call(Function.call,Array.prototype.concat),Ot=Di.call(Function.apply,Array.prototype.splice),dr=Di.call(Function.call,String.prototype.replace),xr=Di.call(Function.call,String.prototype.slice),zr=Di.call(Function.call,RegExp.prototype.exec),ni=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,da=/\\(\\)?/g,xa=function(t){var r=xr(t,0,1),s=xr(t,-1);if(r==="%"&&s!=="%")throw new W("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&r!=="%")throw new W("invalid intrinsic syntax, expected opening `%`");var a=[];return dr(t,ni,function(u,h,f,g){a[a.length]=f?dr(g,da,"$1"):h||u}),a},Mi=function(t,r){var s=t,a;if(Bt(li,s)&&(a=li[s],s="%"+a[0]+"%"),Bt(Qr,s)){var u=Qr[s];if(u===Kt&&(u=vn(s)),typeof u>"u"&&!r)throw new me("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:s,value:u}}throw new W("intrinsic "+t+" does not exist!")},yn=function(t,r){if(typeof t!="string"||t.length===0)throw new me("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new me('"allowMissing" argument must be a boolean');if(zr(/^%?[^%]*%?$/,t)===null)throw new W("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=xa(t),a=s.length>0?s[0]:"",u=Mi("%"+a+"%",r),h=u.name,f=u.value,g=!1,v=u.alias;v&&(a=v[0],Ot(s,Yt([0,1],v)));for(var p=1,E=!0;p<s.length;p+=1){var T=s[p],S=xr(T,0,1),x=xr(T,-1);if((S==='"'||S==="'"||S==="`"||x==='"'||x==="'"||x==="`")&&S!==x)throw new W("property names with quotes must have matching quotes");if((T==="constructor"||!E)&&(g=!0),a+="."+T,h="%"+a+"%",Bt(Qr,h))f=Qr[h];else if(f!=null){if(!(T in f)){if(!r)throw new me("base intrinsic for "+t+" exists, but the property is not available.");return}if(je&&p+1>=s.length){var O=je(f,T);E=!!O,E&&"get"in O&&!("originalValue"in O.get)?f=O.get:f=f[T]}else E=Bt(f,T),f=f[T];E&&!g&&(Qr[h]=f)}}return f},Oi=yn,pa=Oi("%Object.defineProperty%",!0),bo=function(){if(pa)try{return pa({},"a",{value:1}),!0}catch{return!1}return!1};bo.hasArrayLengthDefineBug=function(){if(!bo())return null;try{return pa([],"length",{value:1}).length!==1}catch{return!0}};var Ya=bo,Uh=$F,lo=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Gh=Object.prototype.toString,Kg=Array.prototype.concat,ww=Object.defineProperty,Hp=function(e){return typeof e=="function"&&Gh.call(e)==="[object Function]"},Sz=Ya(),Cre=ww&&Sz,HDe=function(e,t,r,s){t in e&&(!Hp(s)||!s())||(Cre?ww(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},xre=function(e,t){var r=arguments.length>2?arguments[2]:{},s=Uh(t);lo&&(s=Kg.call(s,Object.getOwnPropertySymbols(t)));for(var a=0;a<s.length;a+=1)HDe(e,s[a],t[s[a]],r[s[a]])};xre.supportsDescriptors=!!Cre;var Tl=xre,Up={exports:{}};(function(e){var t=_,r=yn,s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||t.call(a,s),h=r("%Object.getOwnPropertyDescriptor%",!0),f=r("%Object.defineProperty%",!0),g=r("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}e.exports=function(E){var T=u(t,a,arguments);if(h&&f){var S=h(T,"length");S.configurable&&f(T,"length",{value:1+g(0,E.length-(arguments.length-1))})}return T};var v=function(){return u(t,s,arguments)};f?f(e.exports,"apply",{value:v}):e.exports.apply=v})(Up);var Ire=yn,Dre=Up.exports,UDe=Dre(Ire("String.prototype.indexOf")),El=function(t,r){var s=Ire(t,!!r);return typeof s=="function"&&UDe(t,".prototype.")>-1?Dre(s):s},GDe=$F,Ore=OR(),kre=El,Rre=Object,$De=kre("Array.prototype.push"),Pre=kre("Object.prototype.propertyIsEnumerable"),zDe=Ore?Object.getOwnPropertySymbols:null,Nre=function(t,r){if(t==null)throw new TypeError("target must be an object");var s=Rre(t);if(arguments.length===1)return s;for(var a=1;a<arguments.length;++a){var u=Rre(arguments[a]),h=GDe(u),f=Ore&&(Object.getOwnPropertySymbols||zDe);if(f)for(var g=f(u),v=0;v<g.length;++v){var p=g[v];Pre(u,p)&&$De(h,p)}for(var E=0;E<h.length;++E){var T=h[E];if(Pre(u,T)){var S=u[T];s[T]=S}}}return s},Az=Nre,VDe=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},s=0;s<t.length;++s)r[t[s]]=t[s];var a=Object.assign({},r),u="";for(var h in a)u+=h;return e!==u},jDe=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},Mre=function(){return!Object.assign||VDe()||jDe()?Az:Object.assign},WDe=Tl,XDe=Mre,YDe=function(){var t=XDe();return WDe(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},qDe=Tl,ZDe=Up.exports,KDe=Nre,Lre=Mre,QDe=YDe,JDe=ZDe.apply(Lre()),Fre=function(t,r){return JDe(Object,arguments)};qDe(Fre,{getPolyfill:Lre,implementation:KDe,shim:QDe});var Cw=Fre,eOe=yn,tOe=eOe("%Math.abs%"),Bre=function(t){return tOe(t)},wz,Hre;function rOe(){return Hre||(Hre=1,wz=function(t){if(t===null)return"Null";if(typeof t>"u")return"Undefined";if(typeof t=="function"||typeof t=="object")return"Object";if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String"}),wz}var Cz,Ure;function au(){if(Ure)return Cz;Ure=1;var e=rOe();return Cz=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":e(r)},Cz}var nOe=au(),iOe=Math.floor,Gre=function(t){return nOe(t)==="BigInt"?t:iOe(t)},WF=Number.isNaN||function(t){return t!==t},aOe=WF,$re=function(e){return(typeof e=="number"||typeof e=="bigint")&&!aOe(e)&&e!==1/0&&e!==-1/0},xz,zre;function Vre(){if(zre)return xz;zre=1;var e=Bre,t=Gre,r=au(),s=WF,a=$re;return xz=function(h){if(r(h)!=="Number"||s(h)||!a(h))return!1;var f=e(h);return t(f)===f},xz}var Iz,jre;function oOe(){if(jre)return Iz;jre=1;var e={foo:{}},t=Object;return Iz=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof t)},Iz}var Dz,Wre;function sOe(){if(Wre)return Dz;Wre=1;var e=yn,t=e("%Array.prototype%"),r=e("%RangeError%"),s=e("%SyntaxError%"),a=e("%TypeError%"),u=Vre(),h=Math.pow(2,32)-1,f=oOe()(),g=e("%Object.setPrototypeOf%",!0)||(f?function(v,p){return v.__proto__=p,v}:null);return Dz=function(p){if(!u(p)||p<0)throw new a("Assertion failed: `length` must be an integer Number >= 0");if(p>h)throw new r("length is greater than (2**32 - 1)");var E=arguments.length>1?arguments[1]:t,T=[];if(E!==t){if(!g)throw new s("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");g(T,E)}return p!==0&&(T.length=p),T},Dz}const lOe=ot(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Oz=typeof Map=="function"&&Map.prototype,kz=Object.getOwnPropertyDescriptor&&Oz?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,XF=Oz&&kz&&typeof kz.get=="function"?kz.get:null,Xre=Oz&&Map.prototype.forEach,Rz=typeof Set=="function"&&Set.prototype,Pz=Object.getOwnPropertyDescriptor&&Rz?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,YF=Rz&&Pz&&typeof Pz.get=="function"?Pz.get:null,Yre=Rz&&Set.prototype.forEach,uOe=typeof WeakMap=="function"&&WeakMap.prototype,PR=uOe?WeakMap.prototype.has:null,cOe=typeof WeakSet=="function"&&WeakSet.prototype,NR=cOe?WeakSet.prototype.has:null,hOe=typeof WeakRef=="function"&&WeakRef.prototype,qre=hOe?WeakRef.prototype.deref:null,fOe=Boolean.prototype.valueOf,dOe=Object.prototype.toString,pOe=Function.prototype.toString,mOe=String.prototype.match,Nz=String.prototype.slice,dy=String.prototype.replace,gOe=String.prototype.toUpperCase,Zre=String.prototype.toLowerCase,Kre=RegExp.prototype.test,Qre=Array.prototype.concat,Gp=Array.prototype.join,vOe=Array.prototype.slice,Jre=Math.floor,Mz=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Lz=Object.getOwnPropertySymbols,Fz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xw=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Sl=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xw||"symbol")?Symbol.toStringTag:null,ene=Object.prototype.propertyIsEnumerable,tne=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function rne(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Kre.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var s=e<0?-Jre(-e):Jre(e);if(s!==e){var a=String(s),u=Nz.call(t,a.length+1);return dy.call(a,r,"$&_")+"."+dy.call(dy.call(u,/([0-9]{3})/g,"$&_"),/_$/,"")}}return dy.call(t,r,"$&_")}var Bz=lOe,nne=Bz.custom,ine=lne(nne)?nne:null,ane=function e(t,r,s,a){var u=r||{};if(py(u,"quoteStyle")&&u.quoteStyle!=="single"&&u.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(py(u,"maxStringLength")&&(typeof u.maxStringLength=="number"?u.maxStringLength<0&&u.maxStringLength!==1/0:u.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=py(u,"customInspect")?u.customInspect:!0;if(typeof h!="boolean"&&h!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(py(u,"indent")&&u.indent!==null&&u.indent!=="	"&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(py(u,"numericSeparator")&&typeof u.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=u.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return cne(t,u);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var g=String(t);return f?rne(t,g):g}if(typeof t=="bigint"){var v=String(t)+"n";return f?rne(t,v):v}var p=typeof u.depth>"u"?5:u.depth;if(typeof s>"u"&&(s=0),s>=p&&p>0&&typeof t=="object")return Hz(t)?"[Array]":"[Object]";var E=MOe(u,s);if(typeof a>"u")a=[];else if(une(a,t)>=0)return"[Circular]";function T(Ee,ue,be){if(ue&&(a=vOe.call(a),a.push(ue)),be){var Me={depth:u.depth};return py(u,"quoteStyle")&&(Me.quoteStyle=u.quoteStyle),e(Ee,Me,s+1,a)}return e(Ee,u,s+1,a)}if(typeof t=="function"&&!sne(t)){var S=COe(t),x=qF(t,T);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(x.length>0?" { "+Gp.call(x,", ")+" }":"")}if(lne(t)){var O=xw?dy.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fz.call(t);return typeof t=="object"&&!xw?MR(O):O}if(ROe(t)){for(var P="<"+Zre.call(String(t.nodeName)),M=t.attributes||[],G=0;G<M.length;G++)P+=" "+M[G].name+"="+one(yOe(M[G].value),"double",u);return P+=">",t.childNodes&&t.childNodes.length&&(P+="..."),P+="</"+Zre.call(String(t.nodeName))+">",P}if(Hz(t)){if(t.length===0)return"[]";var B=qF(t,T);return E&&!NOe(B)?"["+Gz(B,E)+"]":"[ "+Gp.call(B,", ")+" ]"}if(_Oe(t)){var U=qF(t,T);return!("cause"in Error.prototype)&&"cause"in t&&!ene.call(t,"cause")?"{ ["+String(t)+"] "+Gp.call(Qre.call("[cause]: "+T(t.cause),U),", ")+" }":U.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Gp.call(U,", ")+" }"}if(typeof t=="object"&&h){if(ine&&typeof t[ine]=="function"&&Bz)return Bz(t,{depth:p-s});if(h!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(xOe(t)){var j=[];return Xre&&Xre.call(t,function(Ee,ue){j.push(T(ue,t,!0)+" => "+T(Ee,t))}),hne("Map",XF.call(t),j,E)}if(OOe(t)){var Z=[];return Yre&&Yre.call(t,function(Ee){Z.push(T(Ee,t))}),hne("Set",YF.call(t),Z,E)}if(IOe(t))return Uz("WeakMap");if(kOe(t))return Uz("WeakSet");if(DOe(t))return Uz("WeakRef");if(EOe(t))return MR(T(Number(t)));if(AOe(t))return MR(T(Mz.call(t)));if(SOe(t))return MR(fOe.call(t));if(TOe(t))return MR(T(String(t)));if(!bOe(t)&&!sne(t)){var ee=qF(t,T),J=tne?tne(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",pe=!J&&Sl&&Object(t)===t&&Sl in t?Nz.call(my(t),8,-1):he?"Object":"",ae=J||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ye=ae+(pe||he?"["+Gp.call(Qre.call([],pe||[],he||[]),": ")+"] ":"");return ee.length===0?ye+"{}":E?ye+"{"+Gz(ee,E)+"}":ye+"{ "+Gp.call(ee,", ")+" }"}return String(t)};function one(e,t,r){var s=(r.quoteStyle||t)==="double"?'"':"'";return s+e+s}function yOe(e){return dy.call(String(e),/"/g,"&quot;")}function Hz(e){return my(e)==="[object Array]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function bOe(e){return my(e)==="[object Date]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function sne(e){return my(e)==="[object RegExp]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function _Oe(e){return my(e)==="[object Error]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function TOe(e){return my(e)==="[object String]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function EOe(e){return my(e)==="[object Number]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function SOe(e){return my(e)==="[object Boolean]"&&(!Sl||!(typeof e=="object"&&Sl in e))}function lne(e){if(xw)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Fz)return!1;try{return Fz.call(e),!0}catch{}return!1}function AOe(e){if(!e||typeof e!="object"||!Mz)return!1;try{return Mz.call(e),!0}catch{}return!1}var wOe=Object.prototype.hasOwnProperty||function(e){return e in this};function py(e,t){return wOe.call(e,t)}function my(e){return dOe.call(e)}function COe(e){if(e.name)return e.name;var t=mOe.call(pOe.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function une(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1}function xOe(e){if(!XF||!e||typeof e!="object")return!1;try{XF.call(e);try{YF.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function IOe(e){if(!PR||!e||typeof e!="object")return!1;try{PR.call(e,PR);try{NR.call(e,NR)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function DOe(e){if(!qre||!e||typeof e!="object")return!1;try{return qre.call(e),!0}catch{}return!1}function OOe(e){if(!YF||!e||typeof e!="object")return!1;try{YF.call(e);try{XF.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function kOe(e){if(!NR||!e||typeof e!="object")return!1;try{NR.call(e,NR);try{PR.call(e,PR)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ROe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function cne(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,s="... "+r+" more character"+(r>1?"s":"");return cne(Nz.call(e,0,t.maxStringLength),t)+s}var a=dy.call(dy.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,POe);return one(a,"single",t)}function POe(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+gOe.call(t.toString(16))}function MR(e){return"Object("+e+")"}function Uz(e){return e+" { ? }"}function hne(e,t,r,s){var a=s?Gz(r,s):Gp.call(r,", ");return e+" ("+t+") {"+a+"}"}function NOe(e){for(var t=0;t<e.length;t++)if(une(e[t],`
`)>=0)return!1;return!0}function MOe(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Gp.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Gp.call(Array(t+1),r)}}function Gz(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Gp.call(e,","+r)+`
`+t.prev}function qF(e,t){var r=Hz(e),s=[];if(r){s.length=e.length;for(var a=0;a<e.length;a++)s[a]=py(e,a)?t(e[a],e):""}var u=typeof Lz=="function"?Lz(e):[],h;if(xw){h={};for(var f=0;f<u.length;f++)h["$"+u[f]]=u[f]}for(var g in e)py(e,g)&&(r&&String(Number(g))===g&&g<e.length||xw&&h["$"+g]instanceof Symbol||(Kre.call(/[^\w$]/,g)?s.push(t(g,e)+": "+t(e[g],e)):s.push(g+": "+t(e[g],e))));if(typeof Lz=="function")for(var v=0;v<u.length;v++)ene.call(e,u[v])&&s.push("["+t(u[v])+"]: "+t(e[u[v]],e));return s}var $z,fne;function Iw(){return fne||(fne=1,$z=function(t){return typeof t=="string"||typeof t=="symbol"}),$z}var LOe=yn,dne=LOe("%TypeError%"),FOe=ane,BOe=Iw(),HOe=au(),LR=function(t,r){if(HOe(t)!=="Object")throw new dne("Assertion failed: Type(O) is not Object");if(!BOe(r))throw new dne("Assertion failed: IsPropertyKey(P) is not true, got "+FOe(r));return t[r]},zz={exports:{}},Vz,pne;function mne(){if(pne)return Vz;pne=1;var e=yn,t=e("%Array%"),r=!t.isArray&&El("Object.prototype.toString");return Vz=t.isArray||function(a){return r(a)==="[object Array]"},Vz}var gne;function ZF(){return gne||(gne=1,function(e){e.exports=mne()}(zz)),zz.exports}var KF={exports:{}},jz={exports:{}},vne;function UOe(){return vne||(vne=1,function(e){e.exports=yn}(jz)),jz.exports}var Wz,yne;function GOe(){if(yne)return Wz;yne=1;var e=yn,t=k,r=e("%TypeError%");return Wz=function(a,u){if(a.Type(u)!=="Object")return!1;var h={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var f in u)if(t(u,f)&&!h[f])return!1;if(a.IsDataDescriptor(u)&&a.IsAccessorDescriptor(u))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},Wz}var Xz,bne;function _ne(){if(bne)return Xz;bne=1;var e=Ya,t=yn,r=e()&&t("%Object.defineProperty%",!0),s=e.hasArrayLengthDefineBug(),a=s&&mne(),u=El,h=u("Object.prototype.propertyIsEnumerable");return Xz=function(g,v,p,E,T,S){if(!r){if(!g(S)||!S["[[Configurable]]"]||!S["[[Writable]]"]||T in E&&h(E,T)!==!!S["[[Enumerable]]"])return!1;var x=S["[[Value]]"];return E[T]=x,v(E[T],x)}return s&&T==="length"&&"[[Value]]"in S&&a(E)&&E.length!==S["[[Value]]"]?(E.length=S["[[Value]]"],E.length===S["[[Value]]"]):(r(E,T,p(S)),!0)},Xz}var Yz,Tne;function $Oe(){if(Tne)return Yz;Tne=1;var e=k;return Yz=function(r){return e(r,"[[StartIndex]]")&&e(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},Yz}var qz,Ene;function Zz(){if(Ene)return qz;Ene=1;var e=yn,t=e("%TypeError%"),r=e("%SyntaxError%"),s=k,a=$Oe(),u={"Property Descriptor":function(f){var g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var v in f)if(s(f,v)&&!g[v])return!1;var p=s(f,"[[Value]]"),E=s(f,"[[Get]]")||s(f,"[[Set]]");if(p&&E)throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":a,"Iterator Record":function(f){return s(f,"[[Iterator]]")&&s(f,"[[NextMethod]]")&&s(f,"[[Done]]")},"PromiseCapability Record":function(f){return f&&s(f,"[[Resolve]]")&&typeof f["[[Resolve]]"]=="function"&&s(f,"[[Reject]]")&&typeof f["[[Reject]]"]=="function"&&s(f,"[[Promise]]")&&f["[[Promise]]"]&&typeof f["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(f){return f&&s(f,"[[Completion]]")&&s(f,"[[Capability]]")&&u["PromiseCapability Record"](f["[[Capability]]"])}};return qz=function(f,g,v,p){var E=u[g];if(typeof E!="function")throw new r("unknown record type: "+g);if(f(p)!=="Object"||!E(p))throw new t(v+" must be a "+g)},qz}var Kz,Sne;function zOe(){return Sne||(Sne=1,Kz=function(t){if(typeof t>"u")return t;var r={};return"[[Value]]"in t&&(r.value=t["[[Value]]"]),"[[Writable]]"in t&&(r.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(r.get=t["[[Get]]"]),"[[Set]]"in t&&(r.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(r.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(r.configurable=!!t["[[Configurable]]"]),r}),Kz}var Qz,Ane;function wne(){if(Ane)return Qz;Ane=1;var e=Zz(),t=zOe(),r=au();return Qz=function(a){return typeof a<"u"&&e(r,"Property Descriptor","Desc",a),t(a)},Qz}var Jz,Cne;function VOe(){if(Cne)return Jz;Cne=1;var e=k,t=Zz(),r=au();return Jz=function(a){return!(typeof a>"u"||(t(r,"Property Descriptor","Desc",a),!e(a,"[[Get]]")&&!e(a,"[[Set]]")))},Jz}var eV,xne;function Ine(){if(xne)return eV;xne=1;var e=k,t=Zz(),r=au();return eV=function(a){return!(typeof a>"u"||(t(r,"Property Descriptor","Desc",a),!e(a,"[[Value]]")&&!e(a,"[[Writable]]")))},eV}var tV,Dne;function One(){if(Dne)return tV;Dne=1;var e=WF;return tV=function(r,s){return r===s?r===0?1/r===1/s:!0:e(r)&&e(s)},tV}var rV=function(t){return!!t},nV={exports:{}},kne=Function.prototype.toString,Dw=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,iV,QF;if(typeof Dw=="function"&&typeof Object.defineProperty=="function")try{iV=Object.defineProperty({},"length",{get:function(){throw QF}}),QF={},Dw(function(){throw 42},null,iV)}catch(e){e!==QF&&(Dw=null)}else Dw=null;var jOe=/^\s*class\b/,aV=function(t){try{var r=kne.call(t);return jOe.test(r)}catch{return!1}},oV=function(t){try{return aV(t)?!1:(kne.call(t),!0)}catch{return!1}},JF=Object.prototype.toString,WOe="[object Object]",XOe="[object Function]",YOe="[object GeneratorFunction]",qOe="[object HTMLAllCollection]",ZOe="[object HTML document.all class]",KOe="[object HTMLCollection]",QOe=typeof Symbol=="function"&&!!Symbol.toStringTag,JOe=!(0 in[,]),sV=function(){return!1};if(typeof document=="object"){var eke=document.all;JF.call(eke)===JF.call(document.all)&&(sV=function(t){if((JOe||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=JF.call(t);return(r===qOe||r===ZOe||r===KOe||r===WOe)&&t("")==null}catch{}return!1})}var eB=Dw?function(t){if(sV(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Dw(t,null,iV)}catch(r){if(r!==QF)return!1}return!aV(t)&&oV(t)}:function(t){if(sV(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(QOe)return oV(t);if(aV(t))return!1;var r=JF.call(t);return r!==XOe&&r!==YOe&&!/^\[object HTML/.test(r)?!1:oV(t)};(function(e){e.exports=eB})(nV);var lV,Rne;function Pne(){if(Rne)return lV;Rne=1;var e=k,t=yn,r=t("%TypeError%"),s=au(),a=rV,u=nV.exports;return lV=function(f){if(s(f)!=="Object")throw new r("ToPropertyDescriptor requires an object");var g={};if(e(f,"enumerable")&&(g["[[Enumerable]]"]=a(f.enumerable)),e(f,"configurable")&&(g["[[Configurable]]"]=a(f.configurable)),e(f,"value")&&(g["[[Value]]"]=f.value),e(f,"writable")&&(g["[[Writable]]"]=a(f.writable)),e(f,"get")){var v=f.get;if(typeof v<"u"&&!u(v))throw new r("getter must be a function");g["[[Get]]"]=v}if(e(f,"set")){var p=f.set;if(typeof p<"u"&&!u(p))throw new r("setter must be a function");g["[[Set]]"]=p}if((e(g,"[[Get]]")||e(g,"[[Set]]"))&&(e(g,"[[Value]]")||e(g,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return g},lV}var uV,Nne;function tke(){if(Nne)return uV;Nne=1;var e=yn,t=e("%TypeError%"),r=GOe(),s=_ne(),a=wne(),u=VOe(),h=Ine(),f=Iw(),g=One(),v=Pne(),p=au();return uV=function(T,S,x){if(p(T)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!f(S))throw new t("Assertion failed: IsPropertyKey(P) is not true");var O=r({Type:p,IsDataDescriptor:h,IsAccessorDescriptor:u},x)?x:v(x);if(!r({Type:p,IsDataDescriptor:h,IsAccessorDescriptor:u},O))throw new t("Assertion failed: Desc is not a valid Property Descriptor");return s(h,g,a,T,S,O)},uV}var Mne;function rke(){if(Mne)return KF.exports;Mne=1;var e=UOe(),t=e("%Reflect.construct%",!0),r=tke();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&t){var s={},a={};r(a,"length",{"[[Get]]":function(){throw s},"[[Enumerable]]":!0}),KF.exports=function(h){try{t(h,a)}catch(f){return f===s}}}else KF.exports=function(h){return typeof h=="function"&&!!h.prototype};return KF.exports}var Lne=yn,Fne=Lne("%Symbol.species%",!0),Bne=Lne("%TypeError%"),Hne=sOe(),Une=LR,nke=ZF(),ike=rke(),ake=Vre(),oke=au(),Gne=function(t,r){if(!ake(r)||r<0)throw new Bne("Assertion failed: length must be an integer >= 0");var s=nke(t);if(!s)return Hne(r);var a=Une(t,"constructor");if(Fne&&oke(a)==="Object"&&(a=Une(a,Fne),a===null&&(a=void 0)),typeof a>"u")return Hne(r);if(!ike(a))throw new Bne("C must be a constructor");return new a(r)},$ne=yn,ske=$ne("%Math%"),lke=$ne("%Number%"),zne=lke.MAX_SAFE_INTEGER||ske.pow(2,53)-1,cV,Vne;function jne(){if(Vne)return cV;Vne=1;var e=yn,t=El,r=e("%TypeError%"),s=ZF(),a=e("%Reflect.apply%",!0)||t("%Function.prototype.apply%");return cV=function(h,f){var g=arguments.length>2?arguments[2]:[];if(!s(g))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(h,f,g)},cV}var hV,Wne;function uke(){if(Wne)return hV;Wne=1;var e=yn,t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return hV=t,hV}var cke=OR,FR=function(){return cke()&&!!Symbol.toStringTag},fV=El,Xne=FR(),Yne,qne,dV,pV;if(Xne){Yne=fV("Object.prototype.hasOwnProperty"),qne=fV("RegExp.prototype.exec"),dV={};var mV=function(){throw dV};pV={toString:mV,valueOf:mV},typeof Symbol.toPrimitive=="symbol"&&(pV[Symbol.toPrimitive]=mV)}var hke=fV("Object.prototype.toString"),fke=Object.getOwnPropertyDescriptor,dke="[object RegExp]",gV=Xne?function(t){if(!t||typeof t!="object")return!1;var r=fke(t,"lastIndex"),s=r&&Yne(r,"value");if(!s)return!1;try{qne(t,pV)}catch(a){return a===dV}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:hke(t)===dke},vV,Zne;function pke(){if(Zne)return vV;Zne=1;var e=yn,t=e("%Symbol.match%",!0),r=gV,s=rV;return vV=function(u){if(!u||typeof u!="object")return!1;if(t){var h=u[t];if(typeof h<"u")return s(h)}return r(u)},vV}var yV,Kne;function mke(){if(Kne)return yV;Kne=1;var e=yn,t=uke(),r=e("%TypeError%"),s=El,a=s("Object.prototype.propertyIsEnumerable"),u=k,h=ZF(),f=Iw(),g=pke(),v=Pne(),p=au();return yV=function(T,S){if(p(T)!=="Object")throw new r("Assertion failed: O must be an Object");if(!f(S))throw new r("Assertion failed: P must be a Property Key");if(u(T,S)){if(!t){var x=h(T)&&S==="length",O=g(T)&&S==="lastIndex";return{"[[Configurable]]":!(x||O),"[[Enumerable]]":a(T,S),"[[Value]]":T[S],"[[Writable]]":!0}}return v(t(T,S))}},yV}var bV,Qne;function Jne(){return Qne||(Qne=1,bV=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),bV}var _V,eie;function gke(){if(eie)return _V;eie=1;var e=yn,t=e("%Object.preventExtensions%",!0),r=e("%Object.isExtensible%",!0),s=Jne();return _V=t?function(u){return!s(u)&&r(u)}:function(u){return!s(u)},_V}var TV,tie;function vke(){if(tie)return TV;tie=1;var e=yn,t=e("%TypeError%"),r=_ne(),s=wne(),a=mke(),u=Ine(),h=gke(),f=Iw(),g=One(),v=au();return TV=function(E,T,S){if(v(E)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!f(T))throw new t("Assertion failed: IsPropertyKey(P) is not true");var x=a(E,T),O=!x||h(E),P=x&&!x["[[Configurable]]"];return P||!O?!1:r(u,g,s,E,T,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":S,"[[Writable]]":!0})},TV}var EV,rie;function nie(){if(rie)return EV;rie=1;var e=yn,t=e("%TypeError%"),r=vke(),s=Iw(),a=au();return EV=function(h,f,g){if(a(h)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!s(f))throw new t("Assertion failed: IsPropertyKey(P) is not true");var v=r(h,f,g);if(!v)throw new t("unable to create data property");return v},EV}var SV,iie;function aie(){if(iie)return SV;iie=1;var e=yn,t=e("%TypeError%"),r=Iw(),s=au();return SV=function(u,h){if(s(u)!=="Object")throw new t("Assertion failed: `O` must be an Object");if(!r(h))throw new t("Assertion failed: `P` must be a Property Key");return h in u},SV}var AV,oie;function yke(){return oie||(oie=1,AV=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),AV}var wV,sie;function bke(){if(sie)return wV;sie=1;var e=Date.prototype.getDay,t=function(h){try{return e.call(h),!0}catch{return!1}},r=Object.prototype.toString,s="[object Date]",a=FR();return wV=function(h){return typeof h!="object"||h===null?!1:a?t(h):r.call(h)===s},wV}var tB={exports:{}},lie;function _ke(){if(lie)return tB.exports;lie=1;var e=Object.prototype.toString,t=kR();if(t){var r=Symbol.prototype.toString,s=/^Symbol\(.*\)$/,a=function(h){return typeof h.valueOf()!="symbol"?!1:s.test(r.call(h))};tB.exports=function(h){if(typeof h=="symbol")return!0;if(e.call(h)!=="[object Symbol]")return!1;try{return a(h)}catch{return!1}}}else tB.exports=function(h){return!1};return tB.exports}var CV,uie;function Tke(){if(uie)return CV;uie=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",t=yke(),r=eB,s=bke(),a=_ke(),u=function(g,v){if(typeof g>"u"||g===null)throw new TypeError("Cannot call method on "+g);if(typeof v!="string"||v!=="number"&&v!=="string")throw new TypeError('hint must be "string" or "number"');var p=v==="string"?["toString","valueOf"]:["valueOf","toString"],E,T,S;for(S=0;S<p.length;++S)if(E=g[p[S]],r(E)&&(T=E.call(g),t(T)))return T;throw new TypeError("No default value")},h=function(g,v){var p=g[v];if(p!==null&&typeof p<"u"){if(!r(p))throw new TypeError(p+" returned for property "+v+" of object "+g+" is not a function");return p}};return CV=function(g){if(t(g))return g;var v="default";arguments.length>1&&(arguments[1]===String?v="string":arguments[1]===Number&&(v="number"));var p;if(e&&(Symbol.toPrimitive?p=h(g,Symbol.toPrimitive):a(g)&&(p=Symbol.prototype.valueOf)),typeof p<"u"){var E=p.call(g,v);if(t(E))return E;throw new TypeError("unable to convert exotic object to primitive")}return v==="default"&&(s(g)||a(g))&&(v="string"),u(g,v==="default"?"number":v)},CV}var xV,cie;function Eke(){if(cie)return xV;cie=1;var e=Tke();return xV=function(r){return arguments.length>1?e(r,arguments[1]):e(r)},xV}var IV,hie;function Ske(){if(hie)return IV;hie=1;var e=El,t=yn,r=gV,s=e("RegExp.prototype.exec"),a=t("%TypeError%");return IV=function(h){if(!r(h))throw new a("`regex` must be a RegExp");return function(g){return s(h,g)!==null}},IV}var DV,fie;function Ake(){if(fie)return DV;fie=1;var e=yn,t=e("%Number%"),r=e("%RegExp%"),s=e("%TypeError%"),a=e("%parseInt%"),u=El,h=Ske(),f=u("String.prototype.slice"),g=h(/^0b[01]+$/i),v=h(/^0o[0-7]+$/i),p=h(/^[-+]0x[0-9a-f]+$/i),E=["","",""].join(""),T=new r("["+E+"]","g"),S=h(T),x=[`	
\v\f\r `,"\u2028","\u2029\uFEFF"].join(""),O=new RegExp("(^["+x+"]+)|(["+x+"]+$)","g"),P=u("String.prototype.replace"),M=function(B){return P(B,O,"")},G=au();return DV=function B(U){if(G(U)!=="String")throw new s("Assertion failed: `argument` is not a String");if(g(U))return t(a(f(U,2),2));if(v(U))return t(a(f(U,2),8));if(S(U)||p(U))return NaN;var j=M(U);return j!==U?B(j):t(U)},DV}var die=yn,pie=die("%TypeError%"),mie=die("%Number%"),wke=Jne(),Cke=Eke(),xke=Ake(),Ike=function(t){var r=wke(t)?t:Cke(t,mie);if(typeof r=="symbol")throw new pie("Cannot convert a Symbol value to a number");if(typeof r=="bigint")throw new pie("Conversion from 'BigInt' to 'number' is not allowed.");return typeof r=="string"?xke(r):mie(r)},Dke=function(t){return t>=0?1:-1},Oke=Bre,kke=Gre,Rke=Ike,Pke=WF,Nke=$re,Mke=Dke,gie=function(t){var r=Rke(t);if(Pke(r)||r===0)return 0;if(!Nke(r))return r;var s=kke(Oke(r));return s===0?0:Mke(r)*s},vie=zne,Lke=gie,yie=function(t){var r=Lke(t);return r<=0?0:r>vie?vie:r},OV,bie;function _ie(){if(bie)return OV;bie=1;var e=yn,t=e("%TypeError%"),r=LR,s=yie,a=au();return OV=function(h){if(a(h)!=="Object")throw new t("Assertion failed: `obj` must be an Object");return s(r(h,"length"))},OV}var Tie=yn,Fke=Tie("%String%"),Bke=Tie("%TypeError%"),kV=function(t){if(typeof t=="symbol")throw new Bke("Cannot convert a Symbol value to a string");return Fke(t)},Hke=yn,Eie=Hke("%TypeError%"),Uke=zne,Gke=jne(),$ke=nie(),zke=LR,Vke=aie(),jke=ZF(),Wke=_ie(),Sie=kV,Xke=function e(t,r,s,a,u){var h;arguments.length>5&&(h=arguments[5]);for(var f=a,g=0;g<s;){var v=Sie(g),p=Vke(r,v);if(p===!0){var E=zke(r,v);if(typeof h<"u"){if(arguments.length<=6)throw new Eie("Assertion failed: thisArg is required when mapperFunction is provided");E=Gke(h,arguments[6],[E,g,r])}var T=!1;if(u>0&&(T=jke(E)),T){var S=Wke(E);f=e(t,E,S,f,u-1)}else{if(f>=Uke)throw new Eie("index too large");$ke(t,Sie(f),E),f+=1}}g+=1}return f},x_={exports:{}},Yke=yn,qke=Yke("%TypeError%"),Zke=function(t,r){if(t==null)throw new qke(r||"Cannot call method on "+t);return t};(function(e){e.exports=Zke})(x_);var Kke=yn,Qke=Kke("%Object%"),Jke=x_.exports,Aie=function(t){return Jke(t),Qke(t)},eRe=Gne,tRe=Xke,rRe=LR,nRe=gie,iRe=yie,aRe=Aie,wie=function(){var t=aRe(this),r=iRe(rRe(t,"length")),s=1;arguments.length>0&&typeof arguments[0]<"u"&&(s=nRe(arguments[0]));var a=eRe(t,0);return tRe(a,t,r,0,s),a},oRe=wie,Cie=function(){return Array.prototype.flat||oRe},RV,xie;function sRe(){if(xie)return RV;xie=1;var e=k,t=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",r=t&&Array.prototype[Symbol.unscopables],s=TypeError;return RV=function(u){if(typeof u!="string"||!u)throw new s("method must be a non-empty string");if(!e(Array.prototype,u))throw new s("method must be on Array.prototype");t&&(r[u]=!0)},RV}var PV,Iie;function lRe(){if(Iie)return PV;Iie=1;var e=Tl,t=sRe(),r=Cie;return PV=function(){var a=r();return e(Array.prototype,{flat:a},{flat:function(){return Array.prototype.flat!==a}}),t("flat"),a},PV}var uRe=Tl,cRe=Up.exports,hRe=wie,Die=Cie,fRe=Die(),dRe=lRe(),Oie=cRe(fRe);uRe(Oie,{getPolyfill:Die,implementation:hRe,shim:dRe});var BR=Oie,HR={},rB={exports:{}},kie=function(e){return e!==e},Rie=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||kie(t)&&kie(r))},pRe=Rie,Pie=function(){return typeof Object.is=="function"?Object.is:pRe},mRe=Pie,gRe=Tl,vRe=function(){var t=mRe();return gRe(Object,{is:t},{is:function(){return Object.is!==t}}),t},yRe=Tl,bRe=Up.exports,_Re=Rie,Nie=Pie,TRe=vRe,Mie=bRe(Nie(),Object);yRe(Mie,{getPolyfill:Nie,implementation:_Re,shim:TRe});var NV=Mie;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(NV),s=a(k);function a(f){return f&&f.__esModule?f:{default:f}}function u(f){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(f)}function h(f,g){if((0,r.default)(f,g))return!0;if(!f||!g||u(f)!=="object"||u(g)!=="object")return!1;var v=Object.keys(f),p=Object.keys(g);if(v.length!==p.length)return!1;v.sort(),p.sort();for(var E=0;E<v.length;E+=1)if(!(0,s.default)(g,v[E])||!(0,r.default)(f[v[E]],g[v[E]]))return!1;return!0}e.exports=t.default})(rB,rB.exports);var ERe=x_.exports,Lie=El,SRe=Lie("Object.prototype.propertyIsEnumerable"),ARe=Lie("Array.prototype.push"),Fie=function(t){var r=ERe(t),s=[];for(var a in r)SRe(r,a)&&ARe(s,[a,r[a]]);return s},wRe=Fie,Bie=function(){return typeof Object.entries=="function"?Object.entries:wRe},CRe=Bie,xRe=Tl,IRe=function(){var t=CRe();return xRe(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t},DRe=Tl,ORe=Up.exports,kRe=Fie,Hie=Bie,RRe=IRe,Uie=ORe(Hie(),Object);DRe(Uie,{getPolyfill:Hie,implementation:kRe,shim:RRe});var Gie=Uie,$ie={exports:{}};(function(e){e.exports=eB})($ie);var UR=function(){return typeof(function(){}).name=="string"},GR=Object.getOwnPropertyDescriptor;if(GR)try{GR([],"length")}catch{GR=null}UR.functionsHaveConfigurableNames=function(){if(!UR()||!GR)return!1;var t=GR(function(){},"name");return!!t&&!!t.configurable};var PRe=Function.prototype.bind;UR.boundFunctionsHaveNames=function(){return UR()&&typeof PRe=="function"&&(function(){}).bind().name!==""};var zie=UR,Vie=$ie.exports,NRe=zie(),jie=El,Wie=jie("Function.prototype.toString"),Xie=jie("String.prototype.match"),MRe=/^class /,LRe=function(t){if(Vie(t)||typeof t!="function")return!1;try{var r=Xie(Wie(t),MRe);return!!r}catch{}return!1},FRe=/\s*function\s+([^(\s]*)\s*/,BRe=Function.prototype,Yie=function(){if(!LRe(this)&&!Vie(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(NRe)return this.name;if(this===BRe)return"";var t=Wie(this),r=Xie(t,FRe),s=r&&r[1];return s},HRe=Yie,qie=function(){return HRe},URe=Tl.supportsDescriptors,GRe=zie(),$Re=qie,Zie=Object.defineProperty,zRe=TypeError,VRe=function(){var t=$Re();if(GRe)return t;if(!URe)throw new zRe("Shimming Function.prototype.name support requires ES5 property descriptor support.");var r=Function.prototype;return Zie(r,"name",{configurable:!0,enumerable:!1,get:function(){var s=t.call(this);return this!==r&&Zie(this,"name",{configurable:!0,enumerable:!1,value:s,writable:!1}),s}}),t},jRe=Tl,WRe=Up.exports,Kie=Yie,XRe=qie,YRe=VRe,Qie=WRe(Kie);jRe(Qie,{getPolyfill:XRe,implementation:Kie,shim:YRe});var MV=Qie,qRe=x_.exports,ZRe=kV,KRe=El,Jie=KRe("String.prototype.replace"),eae=/^\s$/.test(""),QRe=eae?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,JRe=eae?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,tae=function(){var t=ZRe(qRe(this));return Jie(Jie(t,QRe,""),JRe,"")},ePe=tae,rae="",Ow="",nae=function(){return String.prototype.trim&&rae.trim()===rae&&Ow.trim()===Ow&&("_"+Ow).trim()==="_"+Ow&&(Ow+"_").trim()===Ow+"_"?String.prototype.trim:ePe},tPe=Tl,rPe=nae,nPe=function(){var t=rPe();return tPe(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},iPe=Up.exports,aPe=Tl,oPe=x_.exports,sPe=tae,iae=nae,lPe=nPe,uPe=iPe(iae()),aae=function(t){return oPe(t),uPe(t)};aPe(aae,{getPolyfill:iae,implementation:sPe,shim:lPe});var cPe=aae,oae={},sae={};Object.defineProperty(sae,"__esModule",{value:!0});var nB={},kw={},iB=ve&&ve.__assign||function(){return iB=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},iB.apply(this,arguments)};Object.defineProperty(kw,"__esModule",{value:!0}),kw.flatten=void 0;var hPe={xml:!1,decodeEntities:!0};kw.default=hPe;var lae={_useHtmlParser2:!0,xmlMode:!0};function fPe(e){return e!=null&&e.xml?typeof e.xml=="boolean"?lae:iB(iB({},lae),e.xml):e??void 0}kw.flatten=fPe;var No={},$p={},Gc={},ou={},Rw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(s){s.Root="root",s.Text="text",s.Directive="directive",s.Comment="comment",s.Script="script",s.Style="style",s.Tag="tag",s.CDATA="cdata",s.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(s){return s.type===t.Tag||s.type===t.Script||s.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Rw);var ui={},gy=ve&&ve.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),$R=ve&&ve.__assign||function(){return $R=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$R.apply(this,arguments)};Object.defineProperty(ui,"__esModule",{value:!0}),ui.cloneNode=ui.hasChildren=ui.isDocument=ui.isDirective=ui.isComment=ui.isText=ui.isCDATA=ui.isTag=ui.Element=ui.Document=ui.CDATA=ui.NodeWithChildren=ui.ProcessingInstruction=ui.Comment=ui.Text=ui.DataNode=ui.Node=void 0;var Xu=Rw,LV=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),FV(this,t)},e}();ui.Node=LV;var aB=function(e){gy(t,e);function t(r){var s=e.call(this)||this;return s.data=r,s}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}(LV);ui.DataNode=aB;var uae=function(e){gy(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Xu.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(aB);ui.Text=uae;var cae=function(e){gy(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Xu.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(aB);ui.Comment=cae;var hae=function(e){gy(t,e);function t(r,s){var a=e.call(this,s)||this;return a.name=r,a.type=Xu.ElementType.Directive,a}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(aB);ui.ProcessingInstruction=hae;var oB=function(e){gy(t,e);function t(r){var s=e.call(this)||this;return s.children=r,s}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}(LV);ui.NodeWithChildren=oB;var fae=function(e){gy(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Xu.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(oB);ui.CDATA=fae;var dae=function(e){gy(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Xu.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(oB);ui.Document=dae;var pae=function(e){gy(t,e);function t(r,s,a,u){a===void 0&&(a=[]),u===void 0&&(u=r==="script"?Xu.ElementType.Script:r==="style"?Xu.ElementType.Style:Xu.ElementType.Tag);var h=e.call(this,a)||this;return h.name=r,h.attribs=s,h.type=u,h}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(s){var a,u;return{name:s,value:r.attribs[s],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[s],prefix:(u=r["x-attribsPrefix"])===null||u===void 0?void 0:u[s]}})},enumerable:!1,configurable:!0}),t}(oB);ui.Element=pae;function mae(e){return(0,Xu.isTag)(e)}ui.isTag=mae;function gae(e){return e.type===Xu.ElementType.CDATA}ui.isCDATA=gae;function vae(e){return e.type===Xu.ElementType.Text}ui.isText=vae;function yae(e){return e.type===Xu.ElementType.Comment}ui.isComment=yae;function bae(e){return e.type===Xu.ElementType.Directive}ui.isDirective=bae;function _ae(e){return e.type===Xu.ElementType.Root}ui.isDocument=_ae;function dPe(e){return Object.prototype.hasOwnProperty.call(e,"children")}ui.hasChildren=dPe;function FV(e,t){t===void 0&&(t=!1);var r;if(vae(e))r=new uae(e.data);else if(yae(e))r=new cae(e.data);else if(mae(e)){var s=t?BV(e.children):[],a=new pae(e.name,$R({},e.attribs),s);s.forEach(function(g){return g.parent=a}),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=$R({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=$R({},e["x-attribsPrefix"])),r=a}else if(gae(e)){var s=t?BV(e.children):[],u=new fae(s);s.forEach(function(v){return v.parent=u}),r=u}else if(_ae(e)){var s=t?BV(e.children):[],h=new dae(s);s.forEach(function(v){return v.parent=h}),e["x-mode"]&&(h["x-mode"]=e["x-mode"]),r=h}else if(bae(e)){var f=new hae(e.name,e.data);e["x-name"]!=null&&(f["x-name"]=e["x-name"],f["x-publicId"]=e["x-publicId"],f["x-systemId"]=e["x-systemId"]),r=f}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}ui.cloneNode=FV;function BV(e){for(var t=e.map(function(s){return FV(s,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=ve&&ve.__createBinding||(Object.create?function(f,g,v,p){p===void 0&&(p=v);var E=Object.getOwnPropertyDescriptor(g,v);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(f,p,E)}:function(f,g,v,p){p===void 0&&(p=v),f[p]=g[v]}),r=ve&&ve.__exportStar||function(f,g){for(var v in f)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,f,v)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var s=Rw,a=ui;r(ui,e);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function f(g,v,p){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof v=="function"&&(p=v,v=u),typeof g=="object"&&(v=g,g=void 0),this.callback=g??null,this.options=v??u,this.elementCB=p??null}return f.prototype.onparserinit=function(g){this.parser=g},f.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},f.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},f.prototype.onerror=function(g){this.handleCallback(g)},f.prototype.onclosetag=function(){this.lastNode=null;var g=this.tagStack.pop();this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(g)},f.prototype.onopentag=function(g,v){var p=this.options.xmlMode?s.ElementType.Tag:void 0,E=new a.Element(g,v,void 0,p);this.addNode(E),this.tagStack.push(E)},f.prototype.ontext=function(g){var v=this.lastNode;if(v&&v.type===s.ElementType.Text)v.data+=g,this.options.withEndIndices&&(v.endIndex=this.parser.endIndex);else{var p=new a.Text(g);this.addNode(p),this.lastNode=p}},f.prototype.oncomment=function(g){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment){this.lastNode.data+=g;return}var v=new a.Comment(g);this.addNode(v),this.lastNode=v},f.prototype.oncommentend=function(){this.lastNode=null},f.prototype.oncdatastart=function(){var g=new a.Text(""),v=new a.CDATA([g]);this.addNode(v),g.parent=v,this.lastNode=g},f.prototype.oncdataend=function(){this.lastNode=null},f.prototype.onprocessinginstruction=function(g,v){var p=new a.ProcessingInstruction(g,v);this.addNode(p)},f.prototype.handleCallback=function(g){if(typeof this.callback=="function")this.callback(g,this.dom);else if(g)throw g},f.prototype.addNode=function(g){var v=this.tagStack[this.tagStack.length-1],p=v.children[v.children.length-1];this.options.withStartIndices&&(g.startIndex=this.parser.startIndex),this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),v.children.push(g),p&&(g.prev=p,p.next=g),g.parent=v,this.lastNode=null},f}();e.DomHandler=h,e.default=h})(ou);var Pw={},Tae={},I_={},HV={};Object.defineProperty(HV,"__esModule",{value:!0}),HV.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}));var UV={};Object.defineProperty(UV,"__esModule",{value:!0}),UV.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}));var GV={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(u){var h="";return u>65535&&(u-=65536,h+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),h+=String.fromCharCode(u),h};function s(u){var h;return u>=55296&&u<=57343||u>1114111?65533:(h=r.get(u))!==null&&h!==void 0?h:u}e.replaceCodePoint=s;function a(u){return(0,e.fromCodePoint)(s(u))}e.default=a})(GV),function(e){var t=ve&&ve.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTML=e.determineBranch=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var r=t(HV);e.htmlDecodeTree=r.default;var s=t(UV);e.xmlDecodeTree=s.default;var a=t(GV);e.decodeCodePoint=a.default;var u=GV;Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var h;(function(O){O[O.NUM=35]="NUM",O[O.SEMI=59]="SEMI",O[O.ZERO=48]="ZERO",O[O.NINE=57]="NINE",O[O.LOWER_A=97]="LOWER_A",O[O.LOWER_F=102]="LOWER_F",O[O.LOWER_X=120]="LOWER_X",O[O.To_LOWER_BIT=32]="To_LOWER_BIT"})(h||(h={}));var f;(function(O){O[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE"})(f=e.BinTrieFlags||(e.BinTrieFlags={}));function g(O){return function(M,G){for(var B="",U=0,j=0;(j=M.indexOf("&",j))>=0;){if(B+=M.slice(U,j),U=j,j+=1,M.charCodeAt(j)===h.NUM){var Z=j+1,ee=10,J=M.charCodeAt(Z);(J|h.To_LOWER_BIT)===h.LOWER_X&&(ee=16,j+=1,Z+=1);do J=M.charCodeAt(++j);while(J>=h.ZERO&&J<=h.NINE||ee===16&&(J|h.To_LOWER_BIT)>=h.LOWER_A&&(J|h.To_LOWER_BIT)<=h.LOWER_F);if(Z!==j){var he=M.substring(Z,j),pe=parseInt(he,ee);if(M.charCodeAt(j)===h.SEMI)j+=1;else if(G)continue;B+=(0,a.default)(pe),U=j}continue}for(var ae=0,ye=1,Ee=0,ue=O[Ee];j<M.length&&(Ee=v(O,ue,Ee+1,M.charCodeAt(j)),!(Ee<0));j++,ye++){ue=O[Ee];var be=ue&f.VALUE_LENGTH;if(be){(!G||M.charCodeAt(j)===h.SEMI)&&(ae=Ee,ye=0);var Me=(be>>14)-1;if(Me===0)break;Ee+=Me}}if(ae!==0){var Me=(O[ae]&f.VALUE_LENGTH)>>14;B+=Me===1?String.fromCharCode(O[ae]&~f.VALUE_LENGTH):Me===2?String.fromCharCode(O[ae+1]):String.fromCharCode(O[ae+1],O[ae+2]),U=j-ye+1}}return B+M.slice(U)}}function v(O,P,M,G){var B=(P&f.BRANCH_LENGTH)>>7,U=P&f.JUMP_TABLE;if(B===0)return U!==0&&G===U?M:-1;if(U){var j=G-U;return j<0||j>=B?-1:O[M+j]-1}for(var Z=M,ee=Z+B-1;Z<=ee;){var J=Z+ee>>>1,he=O[J];if(he<G)Z=J+1;else if(he>G)ee=J-1;else return O[J+B]}return-1}e.determineBranch=v;var p=g(r.default),E=g(s.default);function T(O){return p(O,!1)}e.decodeHTML=T;function S(O){return p(O,!0)}e.decodeHTMLStrict=S;function x(O){return E(O,!0)}e.decodeXML=x}(I_);var D_={},$V={};Object.defineProperty($V,"__esModule",{value:!0});function sB(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}$V.default=new Map(sB([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(sB([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(sB([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(sB([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Nw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(a,u){return a.codePointAt(u)}:function(a,u){return(a.charCodeAt(u)&64512)===55296?(a.charCodeAt(u)-55296)*1024+a.charCodeAt(u+1)-56320+65536:a.charCodeAt(u)};function r(a){for(var u="",h=0,f;(f=e.xmlReplacer.exec(a))!==null;){var g=f.index,v=a.charCodeAt(g),p=t.get(v);p!==void 0?(u+=a.substring(h,g)+p,h=g+1):(u+="".concat(a.substring(h,g),"&#x").concat((0,e.getCodePoint)(a,g).toString(16),";"),h=e.xmlReplacer.lastIndex+=+((v&64512)===55296))}return u+a.substr(h)}e.encodeXML=r,e.escape=r;function s(a,u){return function(f){for(var g,v=0,p="";g=a.exec(f);)v!==g.index&&(p+=f.substring(v,g.index)),p+=u.get(g[0].charCodeAt(0)),v=g.index+1;return p+f.substring(v)}}e.escapeUTF8=s(/[&<>'"]/g,t),e.escapeAttribute=s(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=s(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Nw);var pPe=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D_,"__esModule",{value:!0}),D_.encodeNonAsciiHTML=D_.encodeHTML=void 0;var mPe=pPe($V),Eae=Nw,gPe=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function vPe(e){return Sae(gPe,e)}D_.encodeHTML=vPe;function yPe(e){return Sae(Eae.xmlReplacer,e)}D_.encodeNonAsciiHTML=yPe;function Sae(e,t){for(var r="",s=0,a;(a=e.exec(t))!==null;){var u=a.index;r+=t.substring(s,u);var h=t.charCodeAt(u),f=mPe.default.get(h);if(typeof f=="object"){if(u+1<t.length){var g=t.charCodeAt(u+1),v=typeof f.n=="number"?f.n===g?f.o:void 0:f.n.get(g);if(v!==void 0){r+=v,s=e.lastIndex+=1;continue}}f=f.v}if(f!==void 0)r+=f,s=u+1;else{var p=(0,Eae.getCodePoint)(t,u);r+="&#x".concat(p.toString(16),";"),s=e.lastIndex+=+(p!==h)}}return r+t.substr(s)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.DecodingMode=e.EntityLevel=void 0;var t=I_,r=D_,s=Nw,a;(function(S){S[S.XML=0]="XML",S[S.HTML=1]="HTML"})(a=e.EntityLevel||(e.EntityLevel={}));var u;(function(S){S[S.Legacy=0]="Legacy",S[S.Strict=1]="Strict"})(u=e.DecodingMode||(e.DecodingMode={}));var h;(function(S){S[S.UTF8=0]="UTF8",S[S.ASCII=1]="ASCII",S[S.Extensive=2]="Extensive",S[S.Attribute=3]="Attribute",S[S.Text=4]="Text"})(h=e.EncodingMode||(e.EncodingMode={}));function f(S,x){x===void 0&&(x=a.XML);var O=typeof x=="number"?{level:x}:x;return O.level===a.HTML?O.mode===u.Strict?(0,t.decodeHTMLStrict)(S):(0,t.decodeHTML)(S):(0,t.decodeXML)(S)}e.decode=f;function g(S,x){x===void 0&&(x=a.XML);var O=typeof x=="number"?{level:x}:x;return O.level===a.HTML?O.mode===u.Legacy?(0,t.decodeHTML)(S):(0,t.decodeHTMLStrict)(S):(0,t.decodeXML)(S)}e.decodeStrict=g;function v(S,x){x===void 0&&(x=a.XML);var O=typeof x=="number"?{level:x}:x;return O.mode===h.UTF8?(0,s.escapeUTF8)(S):O.mode===h.Attribute?(0,s.escapeAttribute)(S):O.mode===h.Text?(0,s.escapeText)(S):O.level===a.HTML?O.mode===h.ASCII?(0,r.encodeNonAsciiHTML)(S):(0,r.encodeHTML)(S):(0,s.encodeXML)(S)}e.encode=v;var p=Nw;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return p.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return p.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return p.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return p.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return p.escapeText}});var E=D_;Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return E.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return E.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return E.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return E.encodeHTML}});var T=I_;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return T.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return T.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return T.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return T.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return T.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return T.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return T.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return T.decodeXML}})})(Tae);var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.attributeNames=Mw.elementNames=void 0,Mw.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),Mw.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}));var Lw=ve&&ve.__assign||function(){return Lw=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Lw.apply(this,arguments)},bPe=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),_Pe=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TPe=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bPe(t,e,r);return _Pe(t,e),t};Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.render=void 0;var Qg=TPe(Rw),lB=Tae,Aae=Mw,EPe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function SPe(e){return e.replace(/"/g,"&quot;")}function APe(e,t){var r;if(e){var s=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?SPe:t.xmlMode||t.encodeEntities!=="utf8"?lB.encodeXML:lB.escapeAttribute;return Object.keys(e).map(function(a){var u,h,f=(u=e[a])!==null&&u!==void 0?u:"";return t.xmlMode==="foreign"&&(a=(h=Aae.attributeNames.get(a))!==null&&h!==void 0?h:a),!t.emptyAttrs&&!t.xmlMode&&f===""?a:"".concat(a,'="').concat(s(f),'"')}).join(" ")}}var wae=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function uB(e,t){t===void 0&&(t={});for(var r=("length"in e)?e:[e],s="",a=0;a<r.length;a++)s+=wPe(r[a],t);return s}Pw.render=uB,Pw.default=uB;function wPe(e,t){switch(e.type){case Qg.Root:return uB(e.children,t);case Qg.Doctype:case Qg.Directive:return DPe(e);case Qg.Comment:return RPe(e);case Qg.CDATA:return kPe(e);case Qg.Script:case Qg.Style:case Qg.Tag:return IPe(e,t);case Qg.Text:return OPe(e,t)}}var CPe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),xPe=new Set(["svg","math"]);function IPe(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=Aae.elementNames.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&CPe.has(e.parent.name)&&(t=Lw(Lw({},t),{xmlMode:!1}))),!t.xmlMode&&xPe.has(e.name)&&(t=Lw(Lw({},t),{xmlMode:"foreign"}));var s="<".concat(e.name),a=APe(e.attribs,t);return a&&(s+=" ".concat(a)),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&wae.has(e.name))?(t.xmlMode||(s+=" "),s+="/>"):(s+=">",e.children.length>0&&(s+=uB(e.children,t)),(t.xmlMode||!wae.has(e.name))&&(s+="</".concat(e.name,">"))),s}function DPe(e){return"<".concat(e.data,">")}function OPe(e,t){var r,s=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&EPe.has(e.parent.name))&&(s=t.xmlMode||t.encodeEntities!=="utf8"?(0,lB.encodeXML)(s):(0,lB.escapeText)(s)),s}function kPe(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}function RPe(e){return"<!--".concat(e.data,"-->")}var PPe=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.innerText=Gc.textContent=Gc.getText=Gc.getInnerHTML=Gc.getOuterHTML=void 0;var zp=ou,NPe=PPe(Pw),MPe=Rw;function Cae(e,t){return(0,NPe.default)(e,t)}Gc.getOuterHTML=Cae;function LPe(e,t){return(0,zp.hasChildren)(e)?e.children.map(function(r){return Cae(r,t)}).join(""):""}Gc.getInnerHTML=LPe;function cB(e){return Array.isArray(e)?e.map(cB).join(""):(0,zp.isTag)(e)?e.name==="br"?`
`:cB(e.children):(0,zp.isCDATA)(e)?cB(e.children):(0,zp.isText)(e)?e.data:""}Gc.getText=cB;function zV(e){return Array.isArray(e)?e.map(zV).join(""):(0,zp.hasChildren)(e)&&!(0,zp.isComment)(e)?zV(e.children):(0,zp.isText)(e)?e.data:""}Gc.textContent=zV;function VV(e){return Array.isArray(e)?e.map(VV).join(""):(0,zp.hasChildren)(e)&&(e.type===MPe.ElementType.Tag||(0,zp.isCDATA)(e))?VV(e.children):(0,zp.isText)(e)?e.data:""}Gc.innerText=VV;var Es={};Object.defineProperty(Es,"__esModule",{value:!0}),Es.prevElementSibling=Es.nextElementSibling=Es.getName=Es.hasAttrib=Es.getAttributeValue=Es.getSiblings=Es.getParent=Es.getChildren=void 0;var jV=ou;function xae(e){return(0,jV.hasChildren)(e)?e.children:[]}Es.getChildren=xae;function Iae(e){return e.parent||null}Es.getParent=Iae;function FPe(e){var t,r,s=Iae(e);if(s!=null)return xae(s);for(var a=[e],u=e.prev,h=e.next;u!=null;)a.unshift(u),t=u,u=t.prev;for(;h!=null;)a.push(h),r=h,h=r.next;return a}Es.getSiblings=FPe;function BPe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}Es.getAttributeValue=BPe;function HPe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}Es.hasAttrib=HPe;function UPe(e){return e.name}Es.getName=UPe;function GPe(e){for(var t,r=e.next;r!==null&&!(0,jV.isTag)(r);)t=r,r=t.next;return r}Es.nextElementSibling=GPe;function $Pe(e){for(var t,r=e.prev;r!==null&&!(0,jV.isTag)(r);)t=r,r=t.prev;return r}Es.prevElementSibling=$Pe;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.prepend=Yu.prependChild=Yu.append=Yu.appendChild=Yu.replaceElement=Yu.removeElement=void 0;function zR(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Yu.removeElement=zR;function zPe(e,t){var r=t.prev=e.prev;r&&(r.next=t);var s=t.next=e.next;s&&(s.prev=t);var a=t.parent=e.parent;if(a){var u=a.children;u[u.lastIndexOf(e)]=t,e.parent=null}}Yu.replaceElement=zPe;function VPe(e,t){if(zR(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}Yu.appendChild=VPe;function jPe(e,t){zR(t);var r=e.parent,s=e.next;if(t.next=s,t.prev=e,e.next=t,t.parent=r,s){if(s.prev=t,r){var a=r.children;a.splice(a.lastIndexOf(s),0,t)}}else r&&r.children.push(t)}Yu.append=jPe;function WPe(e,t){if(zR(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}Yu.prependChild=WPe;function XPe(e,t){zR(t);var r=e.parent;if(r){var s=r.children;s.splice(s.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}Yu.prepend=XPe;var su={};Object.defineProperty(su,"__esModule",{value:!0}),su.findAll=su.existsOne=su.findOne=su.findOneChild=su.find=su.filter=void 0;var VR=ou;function YPe(e,t,r,s){return r===void 0&&(r=!0),s===void 0&&(s=1/0),Array.isArray(t)||(t=[t]),WV(e,t,r,s)}su.filter=YPe;function WV(e,t,r,s){for(var a=[],u=0,h=t;u<h.length;u++){var f=h[u];if(e(f)&&(a.push(f),--s<=0))break;if(r&&(0,VR.hasChildren)(f)&&f.children.length>0){var g=WV(e,f.children,r,s);if(a.push.apply(a,g),s-=g.length,s<=0)break}}return a}su.find=WV;function qPe(e,t){return t.find(e)}su.findOneChild=qPe;function Dae(e,t,r){r===void 0&&(r=!0);for(var s=null,a=0;a<t.length&&!s;a++){var u=t[a];if((0,VR.isTag)(u))e(u)?s=u:r&&u.children.length>0&&(s=Dae(e,u.children,!0));else continue}return s}su.findOne=Dae;function Oae(e,t){return t.some(function(r){return(0,VR.isTag)(r)&&(e(r)||r.children.length>0&&Oae(e,r.children))})}su.existsOne=Oae;function ZPe(e,t){for(var r,s=[],a=t.filter(VR.isTag),u;u=a.shift();){var h=(r=u.children)===null||r===void 0?void 0:r.filter(VR.isTag);h&&h.length>0&&a.unshift.apply(a,h),e(u)&&s.push(u)}return s}su.findAll=ZPe;var $c={};Object.defineProperty($c,"__esModule",{value:!0}),$c.getElementsByTagType=$c.getElementsByTagName=$c.getElementById=$c.getElements=$c.testElement=void 0;var O_=ou,hB=su,fB={tag_name:function(e){return typeof e=="function"?function(t){return(0,O_.isTag)(t)&&e(t.name)}:e==="*"?O_.isTag:function(t){return(0,O_.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,O_.isText)(t)&&e(t.data)}:function(t){return(0,O_.isText)(t)&&t.data===e}}};function kae(e,t){return typeof t=="function"?function(r){return(0,O_.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,O_.isTag)(r)&&r.attribs[e]===t}}function KPe(e,t){return function(r){return e(r)||t(r)}}function Rae(e){var t=Object.keys(e).map(function(r){var s=e[r];return Object.prototype.hasOwnProperty.call(fB,r)?fB[r](s):kae(r,s)});return t.length===0?null:t.reduce(KPe)}function QPe(e,t){var r=Rae(e);return r?r(t):!0}$c.testElement=QPe;function JPe(e,t,r,s){s===void 0&&(s=1/0);var a=Rae(e);return a?(0,hB.filter)(a,t,r,s):[]}$c.getElements=JPe;function eNe(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,hB.findOne)(kae("id",e),t,r)}$c.getElementById=eNe;function tNe(e,t,r,s){return r===void 0&&(r=!0),s===void 0&&(s=1/0),(0,hB.filter)(fB.tag_name(e),t,r,s)}$c.getElementsByTagName=tNe;function rNe(e,t,r,s){return r===void 0&&(r=!0),s===void 0&&(s=1/0),(0,hB.filter)(fB.tag_type(e),t,r,s)}$c.getElementsByTagType=rNe;var Pae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t=ou;function r(h){for(var f=h.length;--f>=0;){var g=h[f];if(f>0&&h.lastIndexOf(g,f-1)>=0){h.splice(f,1);continue}for(var v=g.parent;v;v=v.parent)if(h.includes(v)){h.splice(f,1);break}}return h}e.removeSubsets=r;var s;(function(h){h[h.DISCONNECTED=1]="DISCONNECTED",h[h.PRECEDING=2]="PRECEDING",h[h.FOLLOWING=4]="FOLLOWING",h[h.CONTAINS=8]="CONTAINS",h[h.CONTAINED_BY=16]="CONTAINED_BY"})(s=e.DocumentPosition||(e.DocumentPosition={}));function a(h,f){var g=[],v=[];if(h===f)return 0;for(var p=(0,t.hasChildren)(h)?h:h.parent;p;)g.unshift(p),p=p.parent;for(p=(0,t.hasChildren)(f)?f:f.parent;p;)v.unshift(p),p=p.parent;for(var E=Math.min(g.length,v.length),T=0;T<E&&g[T]===v[T];)T++;if(T===0)return s.DISCONNECTED;var S=g[T-1],x=S.children,O=g[T],P=v[T];return x.indexOf(O)>x.indexOf(P)?S===f?s.FOLLOWING|s.CONTAINED_BY:s.FOLLOWING:S===h?s.PRECEDING|s.CONTAINS:s.PRECEDING}e.compareDocumentPosition=a;function u(h){return h=h.filter(function(f,g,v){return!v.includes(f,g+1)}),h.sort(function(f,g){var v=a(f,g);return v&s.PRECEDING?-1:v&s.FOLLOWING?1:0}),h}e.uniqueSort=u})(Pae);var dB={};Object.defineProperty(dB,"__esModule",{value:!0}),dB.getFeed=void 0;var nNe=Gc,jR=$c;function iNe(e){var t=pB(uNe,e);return t?t.name==="feed"?aNe(t):oNe(t):null}dB.getFeed=iNe;function aNe(e){var t,r=e.children,s={type:"atom",items:(0,jR.getElementsByTagName)("entry",r).map(function(h){var f,g=h.children,v={media:Nae(g)};qu(v,"id","id",g),qu(v,"title","title",g);var p=(f=pB("link",g))===null||f===void 0?void 0:f.attribs.href;p&&(v.link=p);var E=k_("summary",g)||k_("content",g);E&&(v.description=E);var T=k_("updated",g);return T&&(v.pubDate=new Date(T)),v})};qu(s,"id","id",r),qu(s,"title","title",r);var a=(t=pB("link",r))===null||t===void 0?void 0:t.attribs.href;a&&(s.link=a),qu(s,"description","subtitle",r);var u=k_("updated",r);return u&&(s.updated=new Date(u)),qu(s,"author","email",r,!0),s}function oNe(e){var t,r,s=(r=(t=pB("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],a={type:e.name.substr(0,3),id:"",items:(0,jR.getElementsByTagName)("item",e.children).map(function(h){var f=h.children,g={media:Nae(f)};qu(g,"id","guid",f),qu(g,"title","title",f),qu(g,"link","link",f),qu(g,"description","description",f);var v=k_("pubDate",f);return v&&(g.pubDate=new Date(v)),g})};qu(a,"title","title",s),qu(a,"link","link",s),qu(a,"description","description",s);var u=k_("lastBuildDate",s);return u&&(a.updated=new Date(u)),qu(a,"author","managingEditor",s,!0),a}var sNe=["url","type","lang"],lNe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Nae(e){return(0,jR.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,s={medium:r.medium,isDefault:!!r.isDefault},a=0,u=sNe;a<u.length;a++){var h=u[a];r[h]&&(s[h]=r[h])}for(var f=0,g=lNe;f<g.length;f++){var h=g[f];r[h]&&(s[h]=parseInt(r[h],10))}return r.expression&&(s.expression=r.expression),s})}function pB(e,t){return(0,jR.getElementsByTagName)(e,t,!0,1)[0]}function k_(e,t,r){return r===void 0&&(r=!1),(0,nNe.textContent)((0,jR.getElementsByTagName)(e,t,r,1)).trim()}function qu(e,t,r,s,a){a===void 0&&(a=!1);var u=k_(r,s,a);u&&(e[t]=u)}function uNe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=ve&&ve.__createBinding||(Object.create?function(a,u,h,f){f===void 0&&(f=h);var g=Object.getOwnPropertyDescriptor(u,h);(!g||("get"in g?!u.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,f,g)}:function(a,u,h,f){f===void 0&&(f=h),a[f]=u[h]}),r=ve&&ve.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(Gc,e),r(Es,e),r(Yu,e),r(su,e),r($c,e),r(Pae,e),r(dB,e);var s=ou;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})})($p);var R_=ve&&ve.__assign||function(){return R_=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},R_.apply(this,arguments)},cNe=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),hNe=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fNe=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cNe(t,e,r);return hNe(t,e),t};Object.defineProperty(No,"__esModule",{value:!0}),No.merge=No.contains=No.root=No.parseHTML=No.text=No.xml=No.html=void 0;var dNe=$p,XV=fNe(kw);function Mae(e,t,r){return e?e(t??e._root.children,null,void 0,r).toString():""}function pNe(e,t){return!t&&typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function mNe(e,t){var r=pNe(e)?(t=e,void 0):e,s=R_(R_(R_({},XV.default),this===null||this===void 0?void 0:this._options),(0,XV.flatten)(t??{}));return Mae(this,r,s)}No.html=mNe;function gNe(e){var t=R_(R_({},this._options),{xmlMode:!0});return Mae(this,e,t)}No.xml=gNe;function vNe(e){for(var t=e||(this?this.root():[]),r="",s=0;s<t.length;s++)r+=(0,dNe.textContent)(t[s]);return r}No.text=vNe;function yNe(e,t,r){if(r===void 0&&(r=typeof t=="boolean"?t:!1),!e||typeof e!="string")return null;typeof t=="boolean"&&(r=t);var s=this.load(e,XV.default,!1);return r||s("script").remove(),s.root()[0].children.slice()}No.parseHTML=yNe;function bNe(){return this(this._root)}No.root=bNe;function _Ne(e,t){if(t===e)return!1;for(var r=t;r&&r!==r.parent;)if(r=r.parent,r===e)return!0;return!1}No.contains=_Ne;function TNe(e,t){if(!(!Lae(e)||!Lae(t))){for(var r=e.length,s=+t.length,a=0;a<s;a++)e[r++]=t[a];return e.length=r,e}}No.merge=TNe;function Lae(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(var t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var mB={},Xo={},vy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t=ou,r=ou;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}});function s(p){return p.cheerio!=null}e.isCheerio=s;function a(p){return p.replace(/[_.-](\w|$)/g,function(E,T){return T.toUpperCase()})}e.camelCase=a;function u(p){return p.replace(/[A-Z]/g,"-$&").toLowerCase()}e.cssCase=u;function h(p,E){for(var T=p.length,S=0;S<T;S++)E(p[S],S);return p}e.domEach=h;function f(p){var E="length"in p?Array.prototype.map.call(p,function(S){return(0,t.cloneNode)(S,!0)}):[(0,t.cloneNode)(p,!0)],T=new t.Document(E);return E.forEach(function(S){S.parent=T}),E}e.cloneDom=f;var g;(function(p){p[p.LowerA=97]="LowerA",p[p.LowerZ=122]="LowerZ",p[p.UpperA=65]="UpperA",p[p.UpperZ=90]="UpperZ",p[p.Exclamation=33]="Exclamation"})(g||(g={}));function v(p){var E=p.indexOf("<");if(E<0||E>p.length-3)return!1;var T=p.charCodeAt(E+1);return(T>=g.LowerA&&T<=g.LowerZ||T>=g.UpperA&&T<=g.UpperZ||T===g.Exclamation)&&p.includes(">",E+2)}e.isHtml=v})(vy),Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.toggleClass=Xo.removeClass=Xo.addClass=Xo.hasClass=Xo.removeAttr=Xo.val=Xo.data=Xo.prop=Xo.attr=void 0;var Fae=No,ua=vy,Bae=$p,Fw=Object.prototype.hasOwnProperty,WR=/\s+/,YV="data-",Hae={null:null,true:!0,false:!1},qV=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ENe=/^{[^]*}$|^\[[^]*]$/;function gB(e,t,r){var s;if(!(!e||!(0,ua.isTag)(e))){if((s=e.attribs)!==null&&s!==void 0||(e.attribs={}),!t)return e.attribs;if(Fw.call(e.attribs,t))return!r&&qV.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return(0,Fae.text)(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function Bw(e,t,r){r===null?zae(e,t):e.attribs[t]="".concat(r)}function SNe(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return(0,ua.domEach)(this,function(r,s){(0,ua.isTag)(r)&&Bw(r,e,t.call(r,s,r.attribs[e]))})}return(0,ua.domEach)(this,function(r){(0,ua.isTag)(r)&&(typeof e=="object"?Object.keys(e).forEach(function(s){var a=e[s];Bw(r,s,a)}):Bw(r,e,t))})}return arguments.length>1?this:gB(this[0],e,this.options.xmlMode)}Xo.attr=SNe;function Uae(e,t,r){return t in e?e[t]:!r&&qV.test(t)?gB(e,t,!1)!==void 0:gB(e,t,r)}function ZV(e,t,r,s){t in e?e[t]=r:Bw(e,t,!s&&qV.test(t)?r?"":null:"".concat(r))}function ANe(e,t){var r=this,s;if(typeof e=="string"&&t===void 0){var a=this[0];if(!a||!(0,ua.isTag)(a))return;switch(e){case"style":{var u=this.css(),h=Object.keys(u);return h.forEach(function(g,v){u[v]=g}),u.length=h.length,u}case"tagName":case"nodeName":return a.name.toUpperCase();case"href":case"src":{var f=(s=a.attribs)===null||s===void 0?void 0:s[e];return typeof URL<"u"&&(e==="href"&&(a.tagName==="a"||a.name==="link")||e==="src"&&(a.tagName==="img"||a.tagName==="iframe"||a.tagName==="audio"||a.tagName==="video"||a.tagName==="source"))&&f!==void 0&&this.options.baseURI?new URL(f,this.options.baseURI).href:f}case"innerText":return(0,Bae.innerText)(a);case"textContent":return(0,Bae.textContent)(a);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Uae(a,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return(0,ua.domEach)(this,function(g,v){(0,ua.isTag)(g)&&ZV(g,e,t.call(g,v,Uae(g,e,r.options.xmlMode)),r.options.xmlMode)})}return(0,ua.domEach)(this,function(g){(0,ua.isTag)(g)&&(typeof e=="object"?Object.keys(e).forEach(function(v){var p=e[v];ZV(g,v,p,r.options.xmlMode)}):ZV(g,e,t,r.options.xmlMode))})}}Xo.prop=ANe;function Gae(e,t,r){var s,a=e;(s=a.data)!==null&&s!==void 0||(a.data={}),typeof t=="object"?Object.assign(a.data,t):typeof t=="string"&&r!==void 0&&(a.data[t]=r)}function $ae(e,t){var r,s,a;t==null?(r=Object.keys(e.attribs).filter(function(g){return g.startsWith(YV)}),s=r.map(function(g){return(0,ua.camelCase)(g.slice(YV.length))})):(r=[YV+(0,ua.cssCase)(t)],s=[t]);for(var u=0;u<r.length;++u){var h=r[u],f=s[u];if(Fw.call(e.attribs,h)&&!Fw.call(e.data,f)){if(a=e.attribs[h],Fw.call(Hae,a))a=Hae[a];else if(a===String(Number(a)))a=Number(a);else if(ENe.test(a))try{a=JSON.parse(a)}catch{}e.data[f]=a}}return t==null?e.data:a}function wNe(e,t){var r,s=this[0];if(!(!s||!(0,ua.isTag)(s))){var a=s;return(r=a.data)!==null&&r!==void 0||(a.data={}),e?typeof e=="object"||t!==void 0?((0,ua.domEach)(this,function(u){(0,ua.isTag)(u)&&(typeof e=="object"?Gae(u,e):Gae(u,e,t))}),this):Fw.call(a.data,e)?a.data[e]:$ae(a,e):$ae(a)}}Xo.data=wNe;function CNe(e){var t=arguments.length===0,r=this[0];if(!r||!(0,ua.isTag)(r))return t?void 0:this;switch(r.name){case"textarea":return this.text(e);case"select":{var s=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");for(var a=typeof e!="object"?[e]:e,u=0;u<a.length;u++)this.find('option[value="'.concat(a[u],'"]')).attr("selected","");return this}return this.attr("multiple")?s.toArray().map(function(h){return(0,Fae.text)(h.children)}):s.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}Xo.val=CNe;function zae(e,t){!e.attribs||!Fw.call(e.attribs,t)||delete e.attribs[t]}function vB(e){return e?e.trim().split(WR):[]}function xNe(e){for(var t=vB(e),r=function(u){(0,ua.domEach)(s,function(h){(0,ua.isTag)(h)&&zae(h,t[u])})},s=this,a=0;a<t.length;a++)r(a);return this}Xo.removeAttr=xNe;function INe(e){return this.toArray().some(function(t){var r=(0,ua.isTag)(t)&&t.attribs.class,s=-1;if(r&&e.length)for(;(s=r.indexOf(e,s+1))>-1;){var a=s+e.length;if((s===0||WR.test(r[s-1]))&&(a===r.length||WR.test(r[a])))return!0}return!1})}Xo.hasClass=INe;function Vae(e){if(typeof e=="function")return(0,ua.domEach)(this,function(v,p){if((0,ua.isTag)(v)){var E=v.attribs.class||"";Vae.call([v],e.call(v,p,E))}});if(!e||typeof e!="string")return this;for(var t=e.split(WR),r=this.length,s=0;s<r;s++){var a=this[s];if((0,ua.isTag)(a)){var u=gB(a,"class",!1);if(!u)Bw(a,"class",t.join(" ").trim());else{for(var h=" ".concat(u," "),f=0;f<t.length;f++){var g="".concat(t[f]," ");h.includes(" ".concat(g))||(h+=g)}Bw(a,"class",h.trim())}}}return this}Xo.addClass=Vae;function jae(e){if(typeof e=="function")return(0,ua.domEach)(this,function(a,u){(0,ua.isTag)(a)&&jae.call([a],e.call(a,u,a.attribs.class||""))});var t=vB(e),r=t.length,s=arguments.length===0;return(0,ua.domEach)(this,function(a){if((0,ua.isTag)(a))if(s)a.attribs.class="";else{for(var u=vB(a.attribs.class),h=!1,f=0;f<r;f++){var g=u.indexOf(t[f]);g>=0&&(u.splice(g,1),h=!0,f--)}h&&(a.attribs.class=u.join(" "))}})}Xo.removeClass=jae;function Wae(e,t){if(typeof e=="function")return(0,ua.domEach)(this,function(E,T){(0,ua.isTag)(E)&&Wae.call([E],e.call(E,T,E.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;for(var r=e.split(WR),s=r.length,a=typeof t=="boolean"?t?1:-1:0,u=this.length,h=0;h<u;h++){var f=this[h];if((0,ua.isTag)(f)){for(var g=vB(f.attribs.class),v=0;v<s;v++){var p=g.indexOf(r[v]);a>=0&&p<0?g.push(r[v]):a<=0&&p>=0&&g.splice(p,1)}f.attribs.class=g.join(" ")}}return this}Xo.toggleClass=Wae;var Yr={},Xae={},bi;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(bi||(bi={}));const DNe={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var qa;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(qa||(qa={}));const Yae=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,ONe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,kNe=new Map([[126,qa.Element],[94,qa.Start],[36,qa.End],[42,qa.Any],[33,qa.Not],[124,qa.Hyphen]]),RNe=new Set(["has","not","matches","is","where","host","host-context"]);function qae(e){switch(e.type){case bi.Adjacent:case bi.Child:case bi.Descendant:case bi.Parent:case bi.Sibling:case bi.ColumnCombinator:return!0;default:return!1}}const PNe=new Set(["contains","icontains"]);function NNe(e,t,r){const s=parseInt(t,16)-65536;return s!==s||r?t:s<0?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,s&1023|56320)}function XR(e){return e.replace(ONe,NNe)}function KV(e){return e===39||e===34}function Zae(e){return e===32||e===9||e===10||e===12||e===13}function MNe(e){const t=[],r=Kae(t,`${e}`,0);if(r<e.length)throw new Error(`Unmatched selector: ${e.slice(r)}`);return t}function Kae(e,t,r){let s=[];function a(T){const S=t.slice(r+T).match(Yae);if(!S)throw new Error(`Expected name, found ${t.slice(r)}`);const[x]=S;return r+=T+x.length,XR(x)}function u(T){for(r+=T;r<t.length&&Zae(t.charCodeAt(r));)r++}function h(){r+=1;const T=r;let S=1;for(;S>0&&r<t.length;r++)t.charCodeAt(r)===40&&!f(r)?S++:t.charCodeAt(r)===41&&!f(r)&&S--;if(S)throw new Error("Parenthesis not matched");return XR(t.slice(T,r-1))}function f(T){let S=0;for(;t.charCodeAt(--T)===92;)S++;return(S&1)===1}function g(){if(s.length>0&&qae(s[s.length-1]))throw new Error("Did not expect successive traversals.")}function v(T){if(s.length>0&&s[s.length-1].type===bi.Descendant){s[s.length-1].type=T;return}g(),s.push({type:T})}function p(T,S){s.push({type:bi.Attribute,name:T,action:S,value:a(1),namespace:null,ignoreCase:"quirks"})}function E(){if(s.length&&s[s.length-1].type===bi.Descendant&&s.pop(),s.length===0)throw new Error("Empty sub-selector");e.push(s)}if(u(0),t.length===r)return r;e:for(;r<t.length;){const T=t.charCodeAt(r);switch(T){case 32:case 9:case 10:case 12:case 13:{(s.length===0||s[0].type!==bi.Descendant)&&(g(),s.push({type:bi.Descendant})),u(1);break}case 62:{v(bi.Child),u(1);break}case 60:{v(bi.Parent),u(1);break}case 126:{v(bi.Sibling),u(1);break}case 43:{v(bi.Adjacent),u(1);break}case 46:{p("class",qa.Element);break}case 35:{p("id",qa.Equals);break}case 91:{u(1);let S,x=null;t.charCodeAt(r)===124?S=a(1):t.startsWith("*|",r)?(x="*",S=a(2)):(S=a(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(x=S,S=a(1))),u(0);let O=qa.Exists;const P=kNe.get(t.charCodeAt(r));if(P){if(O=P,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(r)===61&&(O=qa.Equals,u(1));let M="",G=null;if(O!=="exists"){if(KV(t.charCodeAt(r))){const j=t.charCodeAt(r);let Z=r+1;for(;Z<t.length&&(t.charCodeAt(Z)!==j||f(Z));)Z+=1;if(t.charCodeAt(Z)!==j)throw new Error("Attribute value didn't end");M=XR(t.slice(r+1,Z)),r=Z+1}else{const j=r;for(;r<t.length&&(!Zae(t.charCodeAt(r))&&t.charCodeAt(r)!==93||f(r));)r+=1;M=XR(t.slice(j,r))}u(0);const U=t.charCodeAt(r)|32;U===115?(G=!1,u(1)):U===105&&(G=!0,u(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const B={type:bi.Attribute,name:S,action:O,value:M,namespace:x,ignoreCase:G};s.push(B);break}case 58:{if(t.charCodeAt(r+1)===58){s.push({type:bi.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(r)===40?h():null});continue}const S=a(1).toLowerCase();let x=null;if(t.charCodeAt(r)===40)if(RNe.has(S)){if(KV(t.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${S} cannot be quoted`);if(x=[],r=Kae(x,t,r+1),t.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${S} (${t})`);r+=1}else{if(x=h(),PNe.has(S)){const O=x.charCodeAt(0);O===x.charCodeAt(x.length-1)&&KV(O)&&(x=x.slice(1,-1))}x=XR(x)}s.push({type:bi.Pseudo,name:S,data:x});break}case 44:{E(),s=[],u(1);break}default:{if(t.startsWith("/*",r)){const O=t.indexOf("*/",r+2);if(O<0)throw new Error("Comment was not terminated");r=O+2,s.length===0&&u(0);break}let S=null,x;if(T===42)r+=1,x="*";else if(T===124){if(x="",t.charCodeAt(r+1)===124){v(bi.ColumnCombinator),u(2);break}}else if(Yae.test(t.slice(r)))x=a(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(S=x,t.charCodeAt(r+1)===42?(x="*",r+=2):x=a(1)),s.push(x==="*"?{type:bi.Universal,namespace:S}:{type:bi.Tag,name:x,namespace:S})}}}return E(),r}const Qae=["\\",'"'],Jae=[...Qae,"(",")"],LNe=new Set(Qae.map(e=>e.charCodeAt(0))),eoe=new Set(Jae.map(e=>e.charCodeAt(0))),Hw=new Set([...Jae,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function toe(e){return e.map(t=>t.map(FNe).join("")).join(", ")}function FNe(e,t,r){switch(e.type){case bi.Child:return t===0?"> ":" > ";case bi.Parent:return t===0?"< ":" < ";case bi.Sibling:return t===0?"~ ":" ~ ";case bi.Adjacent:return t===0?"+ ":" + ";case bi.Descendant:return" ";case bi.ColumnCombinator:return t===0?"|| ":" || ";case bi.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":`${noe(e.namespace)}*`;case bi.Tag:return roe(e);case bi.PseudoElement:return`::${Jg(e.name,Hw)}${e.data===null?"":`(${Jg(e.data,eoe)})`}`;case bi.Pseudo:return`:${Jg(e.name,Hw)}${e.data===null?"":`(${typeof e.data=="string"?Jg(e.data,eoe):toe(e.data)})`}`;case bi.Attribute:{if(e.name==="id"&&e.action===qa.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${Jg(e.value,Hw)}`;if(e.name==="class"&&e.action===qa.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${Jg(e.value,Hw)}`;const s=roe(e);return e.action===qa.Exists?`[${s}]`:`[${s}${BNe(e.action)}="${Jg(e.value,LNe)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function BNe(e){switch(e){case qa.Equals:return"";case qa.Element:return"~";case qa.Start:return"^";case qa.End:return"$";case qa.Any:return"*";case qa.Not:return"!";case qa.Hyphen:return"|";case qa.Exists:throw new Error("Shouldn't be here")}}function roe(e){return`${noe(e.namespace)}${Jg(e.name,Hw)}`}function noe(e){return e!==null?`${e==="*"?"*":Jg(e,Hw)}|`:""}function Jg(e,t){let r=0,s="";for(let a=0;a<e.length;a++)t.has(e.charCodeAt(a))&&(s+=`${e.slice(r,a)}\\${e.charAt(a)}`,r=a+1);return s.length>0?s+e.slice(r):e}const YR=ot(Object.freeze(Object.defineProperty({__proto__:null,isTraversal:qae,parse:MNe,stringify:toe,get SelectorType(){return bi},IgnoreCaseMode:DNe,get AttributeAction(){return qa}},Symbol.toStringTag,{value:"Module"})));var QV={},P_={trueFunc:function(){return!0},falseFunc:function(){return!1}},yy={},Uw={};Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.isTraversal=void 0;var zc=YR,ioe=new Map([[zc.SelectorType.Universal,50],[zc.SelectorType.Tag,30],[zc.SelectorType.Attribute,1],[zc.SelectorType.Pseudo,0]]);function HNe(e){return!ioe.has(e.type)}Uw.isTraversal=HNe;var UNe=new Map([[zc.AttributeAction.Exists,10],[zc.AttributeAction.Equals,8],[zc.AttributeAction.Not,7],[zc.AttributeAction.Start,6],[zc.AttributeAction.End,6],[zc.AttributeAction.Any,5]]);function GNe(e){for(var t=e.map(aoe),r=1;r<e.length;r++){var s=t[r];if(!(s<0))for(var a=r-1;a>=0&&s<t[a];a--){var u=e[a+1];e[a+1]=e[a],e[a]=u,t[a+1]=t[a],t[a]=s}}}Uw.default=GNe;function aoe(e){var t,r,s=(t=ioe.get(e.type))!==null&&t!==void 0?t:-1;return e.type===zc.SelectorType.Attribute?(s=(r=UNe.get(e.action))!==null&&r!==void 0?r:4,e.action===zc.AttributeAction.Equals&&e.name==="id"&&(s=9),e.ignoreCase&&(s>>=1)):e.type===zc.SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?s=0:Array.isArray(e.data)?(s=Math.min.apply(Math,e.data.map(function(a){return Math.min.apply(Math,a.map(aoe))})),s<0&&(s=0)):s=2:s=3),s}var yB={},bB={},$Ne=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bB,"__esModule",{value:!0}),bB.attributeRules=void 0;var _B=$Ne(P_),zNe=/[-[\]{}()*+?.,\\^$|#\s]/g;function ooe(e){return e.replace(zNe,"\\$&")}var VNe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function N_(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&VNe.has(e.name)}bB.attributeRules={equals:function(e,t,r){var s=r.adapter,a=t.name,u=t.value;return N_(t,r)?(u=u.toLowerCase(),function(h){var f=s.getAttributeValue(h,a);return f!=null&&f.length===u.length&&f.toLowerCase()===u&&e(h)}):function(h){return s.getAttributeValue(h,a)===u&&e(h)}},hyphen:function(e,t,r){var s=r.adapter,a=t.name,u=t.value,h=u.length;return N_(t,r)?(u=u.toLowerCase(),function(g){var v=s.getAttributeValue(g,a);return v!=null&&(v.length===h||v.charAt(h)==="-")&&v.substr(0,h).toLowerCase()===u&&e(g)}):function(g){var v=s.getAttributeValue(g,a);return v!=null&&(v.length===h||v.charAt(h)==="-")&&v.substr(0,h)===u&&e(g)}},element:function(e,t,r){var s=r.adapter,a=t.name,u=t.value;if(/\s/.test(u))return _B.default.falseFunc;var h=new RegExp("(?:^|\\s)".concat(ooe(u),"(?:$|\\s)"),N_(t,r)?"i":"");return function(g){var v=s.getAttributeValue(g,a);return v!=null&&v.length>=u.length&&h.test(v)&&e(g)}},exists:function(e,t,r){var s=t.name,a=r.adapter;return function(u){return a.hasAttrib(u,s)&&e(u)}},start:function(e,t,r){var s=r.adapter,a=t.name,u=t.value,h=u.length;return h===0?_B.default.falseFunc:N_(t,r)?(u=u.toLowerCase(),function(f){var g=s.getAttributeValue(f,a);return g!=null&&g.length>=h&&g.substr(0,h).toLowerCase()===u&&e(f)}):function(f){var g;return!!(!((g=s.getAttributeValue(f,a))===null||g===void 0)&&g.startsWith(u))&&e(f)}},end:function(e,t,r){var s=r.adapter,a=t.name,u=t.value,h=-u.length;return h===0?_B.default.falseFunc:N_(t,r)?(u=u.toLowerCase(),function(f){var g;return((g=s.getAttributeValue(f,a))===null||g===void 0?void 0:g.substr(h).toLowerCase())===u&&e(f)}):function(f){var g;return!!(!((g=s.getAttributeValue(f,a))===null||g===void 0)&&g.endsWith(u))&&e(f)}},any:function(e,t,r){var s=r.adapter,a=t.name,u=t.value;if(u==="")return _B.default.falseFunc;if(N_(t,r)){var h=new RegExp(ooe(u),"i");return function(g){var v=s.getAttributeValue(g,a);return v!=null&&v.length>=u.length&&h.test(v)&&e(g)}}return function(f){var g;return!!(!((g=s.getAttributeValue(f,a))===null||g===void 0)&&g.includes(u))&&e(f)}},not:function(e,t,r){var s=r.adapter,a=t.name,u=t.value;return u===""?function(h){return!!s.getAttributeValue(h,a)&&e(h)}:N_(t,r)?(u=u.toLowerCase(),function(h){var f=s.getAttributeValue(h,a);return(f==null||f.length!==u.length||f.toLowerCase()!==u)&&e(h)}):function(h){return s.getAttributeValue(h,a)!==u&&e(h)}}};var JV={},soe={},loe={},TB={};Object.defineProperty(TB,"__esModule",{value:!0}),TB.parse=void 0;var jNe=new Set([9,10,12,13,32]),uoe="0".charCodeAt(0),WNe="9".charCodeAt(0);function XNe(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];var t=0,r=0,s=u(),a=h();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=s*(a??1),f(),t<e.length?(s=u(),f(),a=h()):s=a=0),a===null||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[r,s*a];function u(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function h(){for(var g=t,v=0;t<e.length&&e.charCodeAt(t)>=uoe&&e.charCodeAt(t)<=WNe;)v=v*10+(e.charCodeAt(t)-uoe),t++;return t===g?null:v}function f(){for(;t<e.length&&jNe.has(e.charCodeAt(t));)t++}}TB.parse=XNe;var Gw={},YNe=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.generate=Gw.compile=void 0;var coe=YNe(P_);function qNe(e){var t=e[0],r=e[1]-1;if(r<0&&t<=0)return coe.default.falseFunc;if(t===-1)return function(u){return u<=r};if(t===0)return function(u){return u===r};if(t===1)return r<0?coe.default.trueFunc:function(u){return u>=r};var s=Math.abs(t),a=(r%s+s)%s;return t>1?function(u){return u>=r&&u%s===a}:function(u){return u<=r&&u%s===a}}Gw.compile=qNe;function ZNe(e){var t=e[0],r=e[1]-1,s=0;if(t<0){var a=-t,u=(r%a+a)%a;return function(){var h=u+a*s++;return h>r?null:h}}return t===0?r<0?function(){return null}:function(){return s++===0?r:null}:(r<0&&(r+=t*Math.ceil(-r/t)),function(){return t*s+++r})}Gw.generate=ZNe,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=TB;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var r=Gw;Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return r.generate}});function s(u){return(0,r.compile)((0,t.parse)(u))}e.default=s;function a(u){return(0,r.generate)((0,t.parse)(u))}e.sequence=a}(loe),function(e){var t=ve&&ve.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var r=t(loe),s=t(P_);function a(h,f){return function(g){var v=f.getParent(g);return v!=null&&f.isTag(v)&&h(g)}}e.filters={contains:function(h,f,g){var v=g.adapter;return function(E){return h(E)&&v.getText(E).includes(f)}},icontains:function(h,f,g){var v=g.adapter,p=f.toLowerCase();return function(T){return h(T)&&v.getText(T).toLowerCase().includes(p)}},"nth-child":function(h,f,g){var v=g.adapter,p=g.equals,E=(0,r.default)(f);return E===s.default.falseFunc?s.default.falseFunc:E===s.default.trueFunc?a(h,v):function(S){for(var x=v.getSiblings(S),O=0,P=0;P<x.length&&!p(S,x[P]);P++)v.isTag(x[P])&&O++;return E(O)&&h(S)}},"nth-last-child":function(h,f,g){var v=g.adapter,p=g.equals,E=(0,r.default)(f);return E===s.default.falseFunc?s.default.falseFunc:E===s.default.trueFunc?a(h,v):function(S){for(var x=v.getSiblings(S),O=0,P=x.length-1;P>=0&&!p(S,x[P]);P--)v.isTag(x[P])&&O++;return E(O)&&h(S)}},"nth-of-type":function(h,f,g){var v=g.adapter,p=g.equals,E=(0,r.default)(f);return E===s.default.falseFunc?s.default.falseFunc:E===s.default.trueFunc?a(h,v):function(S){for(var x=v.getSiblings(S),O=0,P=0;P<x.length;P++){var M=x[P];if(p(S,M))break;v.isTag(M)&&v.getName(M)===v.getName(S)&&O++}return E(O)&&h(S)}},"nth-last-of-type":function(h,f,g){var v=g.adapter,p=g.equals,E=(0,r.default)(f);return E===s.default.falseFunc?s.default.falseFunc:E===s.default.trueFunc?a(h,v):function(S){for(var x=v.getSiblings(S),O=0,P=x.length-1;P>=0;P--){var M=x[P];if(p(S,M))break;v.isTag(M)&&v.getName(M)===v.getName(S)&&O++}return E(O)&&h(S)}},root:function(h,f,g){var v=g.adapter;return function(p){var E=v.getParent(p);return(E==null||!v.isTag(E))&&h(p)}},scope:function(h,f,g,v){var p=g.equals;return!v||v.length===0?e.filters.root(h,f,g):v.length===1?function(E){return p(v[0],E)&&h(E)}:function(E){return v.includes(E)&&h(E)}},hover:u("isHovered"),visited:u("isVisited"),active:u("isActive")};function u(h){return function(g,v,p){var E=p.adapter,T=E[h];return typeof T!="function"?s.default.falseFunc:function(x){return T(x)&&g(x)}}}}(soe);var $w={};Object.defineProperty($w,"__esModule",{value:!0}),$w.verifyPseudoArgs=$w.pseudos=void 0,$w.pseudos={empty:function(e,t){var r=t.adapter;return!r.getChildren(e).some(function(s){return r.isTag(s)||r.getText(s)!==""})},"first-child":function(e,t){var r=t.adapter,s=t.equals;if(r.prevElementSibling)return r.prevElementSibling(e)==null;var a=r.getSiblings(e).find(function(u){return r.isTag(u)});return a!=null&&s(e,a)},"last-child":function(e,t){for(var r=t.adapter,s=t.equals,a=r.getSiblings(e),u=a.length-1;u>=0;u--){if(s(e,a[u]))return!0;if(r.isTag(a[u]))break}return!1},"first-of-type":function(e,t){for(var r=t.adapter,s=t.equals,a=r.getSiblings(e),u=r.getName(e),h=0;h<a.length;h++){var f=a[h];if(s(e,f))return!0;if(r.isTag(f)&&r.getName(f)===u)break}return!1},"last-of-type":function(e,t){for(var r=t.adapter,s=t.equals,a=r.getSiblings(e),u=r.getName(e),h=a.length-1;h>=0;h--){var f=a[h];if(s(e,f))return!0;if(r.isTag(f)&&r.getName(f)===u)break}return!1},"only-of-type":function(e,t){var r=t.adapter,s=t.equals,a=r.getName(e);return r.getSiblings(e).every(function(u){return s(e,u)||!r.isTag(u)||r.getName(u)!==a})},"only-child":function(e,t){var r=t.adapter,s=t.equals;return r.getSiblings(e).every(function(a){return s(e,a)||!r.isTag(a)})}};function KNe(e,t,r,s){if(r===null){if(e.length>s)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(e.length===s)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))}$w.verifyPseudoArgs=KNe;var EB={};Object.defineProperty(EB,"__esModule",{value:!0}),EB.aliases=void 0,EB.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var SB={};(function(e){var t=ve&&ve.__spreadArray||function(v,p,E){if(E||arguments.length===2)for(var T=0,S=p.length,x;T<S;T++)(x||!(T in p))&&(x||(x=Array.prototype.slice.call(p,0,T)),x[T]=p[T]);return v.concat(x||Array.prototype.slice.call(p))},r=ve&&ve.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var s=r(P_),a=Uw;e.PLACEHOLDER_ELEMENT={};function u(v,p){return v===s.default.falseFunc?s.default.falseFunc:function(E){return p.isTag(E)&&v(E)}}e.ensureIsTag=u;function h(v,p){var E=p.getSiblings(v);if(E.length<=1)return[];var T=E.indexOf(v);return T<0||T===E.length-1?[]:E.slice(T+1).filter(p.isTag)}e.getNextSiblings=h;function f(v){return{xmlMode:!!v.xmlMode,lowerCaseAttributeNames:!!v.lowerCaseAttributeNames,lowerCaseTags:!!v.lowerCaseTags,quirksMode:!!v.quirksMode,cacheResults:!!v.cacheResults,pseudos:v.pseudos,adapter:v.adapter,equals:v.equals}}var g=function(v,p,E,T,S){var x=S(p,f(E),T);return x===s.default.trueFunc?v:x===s.default.falseFunc?s.default.falseFunc:function(O){return x(O)&&v(O)}};e.subselects={is:g,matches:g,where:g,not:function(v,p,E,T,S){var x=S(p,f(E),T);return x===s.default.falseFunc?v:x===s.default.trueFunc?s.default.falseFunc:function(O){return!x(O)&&v(O)}},has:function(v,p,E,T,S){var x=E.adapter,O=f(E);O.relativeSelector=!0;var P=p.some(function(j){return j.some(a.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,M=S(p,O,P);if(M===s.default.falseFunc)return s.default.falseFunc;var G=u(M,x);if(P&&M!==s.default.trueFunc){var B=M.shouldTestNextSiblings,U=B===void 0?!1:B;return function(j){if(!v(j))return!1;P[0]=j;var Z=x.getChildren(j),ee=U?t(t([],Z,!0),h(j,x),!0):Z;return x.existsOne(G,ee)}}return function(j){return v(j)&&x.existsOne(G,x.getChildren(j))}}}})(SB),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=YR,r=soe;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return r.filters}});var s=$w;Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return s.pseudos}});var a=EB;Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return a.aliases}});var u=SB;function h(f,g,v,p,E){var T,S=g.name,x=g.data;if(Array.isArray(x)){if(!(S in u.subselects))throw new Error("Unknown pseudo-class :".concat(S,"(").concat(x,")"));return u.subselects[S](f,x,v,p,E)}var O=(T=v.pseudos)===null||T===void 0?void 0:T[S],P=typeof O=="string"?O:a.aliases[S];if(typeof P=="string"){if(x!=null)throw new Error("Pseudo ".concat(S," doesn't have any arguments"));var M=(0,t.parse)(P);return u.subselects.is(f,M,v,p,E)}if(typeof O=="function")return(0,s.verifyPseudoArgs)(O,S,x,1),function(B){return O(B,x)&&f(B)};if(S in r.filters)return r.filters[S](f,x,v,p);if(S in s.pseudos){var G=s.pseudos[S];return(0,s.verifyPseudoArgs)(G,S,x,2),function(B){return G(B,v,x)&&f(B)}}throw new Error("Unknown pseudo-class :".concat(S))}e.compilePseudoSelector=h}(JV),Object.defineProperty(yB,"__esModule",{value:!0}),yB.compileGeneralSelector=void 0;var QNe=bB,JNe=JV,nd=YR;function ej(e,t){var r=t.getParent(e);return r&&t.isTag(r)?r:null}function e2e(e,t,r,s,a){var u=r.adapter,h=r.equals;switch(t.type){case nd.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case nd.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case nd.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),QNe.attributeRules[t.action](e,t,r)}case nd.SelectorType.Pseudo:return(0,JNe.compilePseudoSelector)(e,t,r,s,a);case nd.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var f=t.name;return(!r.xmlMode||r.lowerCaseTags)&&(f=f.toLowerCase()),function(p){return u.getName(p)===f&&e(p)}}case nd.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(p){for(var E=p;E=ej(E,u);)if(e(E))return!0;return!1};var g=new WeakSet;return function(p){for(var E=p;E=ej(E,u);)if(!g.has(E)){if(u.isTag(E)&&e(E))return!0;g.add(E)}return!1}}case"_flexibleDescendant":return function(p){var E=p;do if(e(E))return!0;while(E=ej(E,u));return!1};case nd.SelectorType.Parent:return function(p){return u.getChildren(p).some(function(E){return u.isTag(E)&&e(E)})};case nd.SelectorType.Child:return function(p){var E=u.getParent(p);return E!=null&&u.isTag(E)&&e(E)};case nd.SelectorType.Sibling:return function(p){for(var E=u.getSiblings(p),T=0;T<E.length;T++){var S=E[T];if(h(p,S))break;if(u.isTag(S)&&e(S))return!0}return!1};case nd.SelectorType.Adjacent:return u.prevElementSibling?function(p){var E=u.prevElementSibling(p);return E!=null&&e(E)}:function(p){for(var E=u.getSiblings(p),T,S=0;S<E.length;S++){var x=E[S];if(h(p,x))break;u.isTag(x)&&(T=x)}return!!T&&e(T)};case nd.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}yB.compileGeneralSelector=e2e;var t2e=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),r2e=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n2e=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&t2e(t,e,r);return r2e(t,e),t},i2e=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yy,"__esModule",{value:!0}),yy.compileToken=yy.compileUnsafe=yy.compile=void 0;var ev=YR,by=i2e(P_),tj=n2e(Uw),a2e=yB,hoe=SB;function o2e(e,t,r){var s=foe(e,t,r);return(0,hoe.ensureIsTag)(s,t.adapter)}yy.compile=o2e;function foe(e,t,r){var s=typeof e=="string"?(0,ev.parse)(e):e;return rj(s,t,r)}yy.compileUnsafe=foe;function doe(e){return e.type===ev.SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(function(t){return t.some(doe)}))}var s2e={type:ev.SelectorType.Descendant},l2e={type:"_flexibleDescendant"},u2e={type:ev.SelectorType.Pseudo,name:"scope",data:null};function c2e(e,t,r){for(var s=t.adapter,a=!!(r!=null&&r.every(function(g){var v=s.isTag(g)&&s.getParent(g);return g===hoe.PLACEHOLDER_ELEMENT||v&&s.isTag(v)})),u=0,h=e;u<h.length;u++){var f=h[u];if(!(f.length>0&&(0,tj.isTraversal)(f[0])&&f[0].type!==ev.SelectorType.Descendant))if(a&&!f.some(doe))f.unshift(s2e);else continue;f.unshift(u2e)}}function rj(e,t,r){var s;e.forEach(tj.default),r=(s=t.context)!==null&&s!==void 0?s:r;var a=Array.isArray(r),u=r&&(Array.isArray(r)?r:[r]);if(t.relativeSelector!==!1)c2e(e,t,u);else if(e.some(function(g){return g.length>0&&(0,tj.isTraversal)(g[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var h=!1,f=e.map(function(g){if(g.length>=2){var v=g[0],p=g[1];v.type!==ev.SelectorType.Pseudo||v.name!=="scope"||(a&&p.type===ev.SelectorType.Descendant?g[1]=l2e:(p.type===ev.SelectorType.Adjacent||p.type===ev.SelectorType.Sibling)&&(h=!0))}return h2e(g,t,u)}).reduce(f2e,by.default.falseFunc);return f.shouldTestNextSiblings=h,f}yy.compileToken=rj;function h2e(e,t,r){var s;return e.reduce(function(a,u){return a===by.default.falseFunc?by.default.falseFunc:(0,a2e.compileGeneralSelector)(a,u,t,r,rj)},(s=t.rootFunc)!==null&&s!==void 0?s:by.default.trueFunc)}function f2e(e,t){return t===by.default.falseFunc||e===by.default.trueFunc?e:e===by.default.falseFunc||t===by.default.trueFunc?t:function(s){return e(s)||t(s)}}(function(e){var t=ve&&ve.__createBinding||(Object.create?function(G,B,U,j){j===void 0&&(j=U);var Z=Object.getOwnPropertyDescriptor(B,U);(!Z||("get"in Z?!B.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return B[U]}}),Object.defineProperty(G,j,Z)}:function(G,B,U,j){j===void 0&&(j=U),G[j]=B[U]}),r=ve&&ve.__setModuleDefault||(Object.create?function(G,B){Object.defineProperty(G,"default",{enumerable:!0,value:B})}:function(G,B){G.default=B}),s=ve&&ve.__importStar||function(G){if(G&&G.__esModule)return G;var B={};if(G!=null)for(var U in G)U!=="default"&&Object.prototype.hasOwnProperty.call(G,U)&&t(B,G,U);return r(B,G),B},a=ve&&ve.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var u=s($p),h=a(P_),f=yy,g=SB,v=function(G,B){return G===B},p={adapter:u,equals:v};function E(G){var B,U,j,Z,ee=G??p;return(B=ee.adapter)!==null&&B!==void 0||(ee.adapter=u),(U=ee.equals)!==null&&U!==void 0||(ee.equals=(Z=(j=ee.adapter)===null||j===void 0?void 0:j.equals)!==null&&Z!==void 0?Z:v),ee}function T(G){return function(U,j,Z){var ee=E(j);return G(U,ee,Z)}}e.compile=T(f.compile),e._compileUnsafe=T(f.compileUnsafe),e._compileToken=T(f.compileToken);function S(G){return function(U,j,Z){var ee=E(Z);typeof U!="function"&&(U=(0,f.compileUnsafe)(U,ee,j));var J=x(j,ee.adapter,U.shouldTestNextSiblings);return G(U,J,ee)}}function x(G,B,U){return U===void 0&&(U=!1),U&&(G=O(G,B)),Array.isArray(G)?B.removeSubsets(G):B.getChildren(G)}e.prepareContext=x;function O(G,B){for(var U=Array.isArray(G)?G.slice(0):[G],j=U.length,Z=0;Z<j;Z++){var ee=(0,g.getNextSiblings)(U[Z],B);U.push.apply(U,ee)}return U}e.selectAll=S(function(G,B,U){return G===h.default.falseFunc||!B||B.length===0?[]:U.adapter.findAll(G,B)}),e.selectOne=S(function(G,B,U){return G===h.default.falseFunc||!B||B.length===0?null:U.adapter.findOne(G,B)});function P(G,B,U){var j=E(U);return(typeof B=="function"?B:(0,f.compile)(B,j))(G)}e.is=P,e.default=e.selectAll;var M=JV;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return M.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return M.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return M.aliases}})})(QV);var zw={},nj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(s){return s.type!=="pseudo"?!1:e.filterNames.has(s.name)?!0:s.name==="not"&&Array.isArray(s.data)?s.data.some(function(a){return a.some(t)}):!1}e.isFilter=t;function r(s,a,u){var h=a!=null?parseInt(a,10):NaN;switch(s){case"first":return 1;case"nth":case"eq":return isFinite(h)?h>=0?h+1:1/0:0;case"lt":return isFinite(h)?h>=0?Math.min(h,u):1/0:0;case"gt":return isFinite(h)?1/0:0;case"odd":return 2*u;case"even":return 2*u-1;case"last":case"not":return 1/0}}e.getLimit=r})(nj),Object.defineProperty(zw,"__esModule",{value:!0}),zw.groupSelectors=zw.getDocumentRoot=void 0;var d2e=nj;function p2e(e){for(;e.parent;)e=e.parent;return e}zw.getDocumentRoot=p2e;function m2e(e){for(var t=[],r=[],s=0,a=e;s<a.length;s++){var u=a[s];u.some(d2e.isFilter)?t.push(u):r.push(u)}return[r,t]}zw.groupSelectors=m2e,function(e){var t=ve&&ve.__assign||function(){return t=Object.assign||function(pe){for(var ae,ye=1,Ee=arguments.length;ye<Ee;ye++){ae=arguments[ye];for(var ue in ae)Object.prototype.hasOwnProperty.call(ae,ue)&&(pe[ue]=ae[ue])}return pe},t.apply(this,arguments)},r=ve&&ve.__createBinding||(Object.create?function(pe,ae,ye,Ee){Ee===void 0&&(Ee=ye);var ue=Object.getOwnPropertyDescriptor(ae,ye);(!ue||("get"in ue?!ae.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return ae[ye]}}),Object.defineProperty(pe,Ee,ue)}:function(pe,ae,ye,Ee){Ee===void 0&&(Ee=ye),pe[Ee]=ae[ye]}),s=ve&&ve.__setModuleDefault||(Object.create?function(pe,ae){Object.defineProperty(pe,"default",{enumerable:!0,value:ae})}:function(pe,ae){pe.default=ae}),a=ve&&ve.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ae={};if(pe!=null)for(var ye in pe)ye!=="default"&&Object.prototype.hasOwnProperty.call(pe,ye)&&r(ae,pe,ye);return s(ae,pe),ae},u=ve&&ve.__spreadArray||function(pe,ae,ye){if(ye||arguments.length===2)for(var Ee=0,ue=ae.length,be;Ee<ue;Ee++)(be||!(Ee in ae))&&(be||(be=Array.prototype.slice.call(ae,0,Ee)),be[Ee]=ae[Ee]);return pe.concat(be||Array.prototype.slice.call(ae))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var h=YR,f=QV,g=a($p),v=a(P_),p=zw,E=nj,T=QV;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return T.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return T.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return T.aliases}});var S={type:h.SelectorType.Universal,namespace:null},x={type:h.SelectorType.Pseudo,name:"scope",data:null};function O(pe,ae,ye){return ye===void 0&&(ye={}),P([pe],ae,ye)}e.is=O;function P(pe,ae,ye){if(ye===void 0&&(ye={}),typeof ae=="function")return pe.some(ae);var Ee=(0,p.groupSelectors)((0,h.parse)(ae)),ue=Ee[0],be=Ee[1];return ue.length>0&&pe.some((0,f._compileToken)(ue,ye))||be.some(function(Me){return U(Me,pe,ye).length>0})}e.some=P;function M(pe,ae,ye,Ee){var ue=typeof ye=="string"?parseInt(ye,10):NaN;switch(pe){case"first":case"lt":return ae;case"last":return ae.length>0?[ae[ae.length-1]]:ae;case"nth":case"eq":return isFinite(ue)&&Math.abs(ue)<ae.length?[ue<0?ae[ae.length+ue]:ae[ue]]:[];case"gt":return isFinite(ue)?ae.slice(ue+1):[];case"even":return ae.filter(function(Me,Xe){return Xe%2===0});case"odd":return ae.filter(function(Me,Xe){return Xe%2===1});case"not":{var be=new Set(B(ye,ae,Ee));return ae.filter(function(Me){return!be.has(Me)})}}}function G(pe,ae,ye){return ye===void 0&&(ye={}),B((0,h.parse)(pe),ae,ye)}e.filter=G;function B(pe,ae,ye){if(ae.length===0)return[];var Ee=(0,p.groupSelectors)(pe),ue=Ee[0],be=Ee[1],Me;if(ue.length){var Xe=he(ae,ue,ye);if(be.length===0)return Xe;Xe.length&&(Me=new Set(Xe))}for(var rt=0;rt<be.length&&(Me==null?void 0:Me.size)!==ae.length;rt++){var st=be[rt],mt=Me?ae.filter(function(Le){return g.isTag(Le)&&!Me.has(Le)}):ae;if(mt.length===0)break;var Xe=U(st,ae,ye);if(Xe.length)if(Me)Xe.forEach(function(Le){return Me.add(Le)});else{if(rt===be.length-1)return Xe;Me=new Set(Xe)}}return typeof Me<"u"?Me.size===ae.length?ae:ae.filter(function(kt){return Me.has(kt)}):[]}function U(pe,ae,ye){var Ee;if(pe.some(h.isTraversal)){var ue=(Ee=ye.root)!==null&&Ee!==void 0?Ee:(0,p.getDocumentRoot)(ae[0]),be=t(t({},ye),{context:ae,relativeSelector:!1});return pe.push(x),Z(ue,pe,be,!0,ae.length)}return Z(ae,pe,ye,!1,ae.length)}function j(pe,ae,ye,Ee){if(ye===void 0&&(ye={}),Ee===void 0&&(Ee=1/0),typeof pe=="function")return J(ae,pe);var ue=(0,p.groupSelectors)((0,h.parse)(pe)),be=ue[0],Me=ue[1],Xe=Me.map(function(rt){return Z(ae,rt,ye,!0,Ee)});return be.length&&Xe.push(ee(ae,be,ye,Ee)),Xe.length===0?[]:Xe.length===1?Xe[0]:g.uniqueSort(Xe.reduce(function(rt,st){return u(u([],rt,!0),st,!0)}))}e.select=j;function Z(pe,ae,ye,Ee,ue){var be=ae.findIndex(E.isFilter),Me=ae.slice(0,be),Xe=ae[be],rt=ae.length-1===be?ue:1/0,st=(0,E.getLimit)(Xe.name,Xe.data,rt);if(st===0)return[];var mt=Me.length===0&&!Array.isArray(pe)?g.getChildren(pe).filter(g.isTag):Me.length===0?(Array.isArray(pe)?pe:[pe]).filter(g.isTag):Ee||Me.some(h.isTraversal)?ee(pe,[Me],ye,st):he(pe,[Me],ye),kt=mt.slice(0,st),Le=M(Xe.name,kt,Xe.data,ye);if(Le.length===0||ae.length===be+1)return Le;var Ie=ae.slice(be+1),Ne=Ie.some(h.isTraversal);if(Ne){if((0,h.isTraversal)(Ie[0])){var Fe=Ie[0].type;(Fe===h.SelectorType.Sibling||Fe===h.SelectorType.Adjacent)&&(Le=(0,f.prepareContext)(Le,g,!0)),Ie.unshift(S)}ye=t(t({},ye),{relativeSelector:!1,rootFunc:function(dt){return Le.includes(dt)}})}else ye.rootFunc&&ye.rootFunc!==v.trueFunc&&(ye=t(t({},ye),{rootFunc:v.trueFunc}));return Ie.some(E.isFilter)?Z(Le,Ie,ye,!1,ue):Ne?ee(Le,[Ie],ye,ue):he(Le,[Ie],ye)}function ee(pe,ae,ye,Ee){var ue=(0,f._compileToken)(ae,ye,pe);return J(pe,ue,Ee)}function J(pe,ae,ye){ye===void 0&&(ye=1/0);var Ee=(0,f.prepareContext)(pe,g,ae.shouldTestNextSiblings);return g.find(function(ue){return g.isTag(ue)&&ae(ue)},Ee,!0,ye)}function he(pe,ae,ye){var Ee=(Array.isArray(pe)?pe:[pe]).filter(g.isTag);if(Ee.length===0)return Ee;var ue=(0,f._compileToken)(ae,ye);return ue===v.trueFunc?Ee:Ee.filter(ue)}}(Xae);var g2e=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),v2e=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y2e=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&g2e(t,e,r);return v2e(t,e),t},ij=ve&&ve.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,u;s<a;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.addBack=Yr.add=Yr.end=Yr.slice=Yr.index=Yr.toArray=Yr.get=Yr.eq=Yr.last=Yr.first=Yr.has=Yr.not=Yr.is=Yr.filterArray=Yr.filter=Yr.map=Yr.each=Yr.contents=Yr.children=Yr.siblings=Yr.prevUntil=Yr.prevAll=Yr.prev=Yr.nextUntil=Yr.nextAll=Yr.next=Yr.closest=Yr.parentsUntil=Yr.parents=Yr.parent=Yr.find=void 0;var AB=ou,Vw=y2e(Xae),id=vy,b2e=No,Vp=$p,_2e=/^\s*[~+]/;function T2e(e){var t;if(!e)return this._make([]);var r=this.toArray();if(typeof e!="string"){var s=(0,id.isCheerio)(e)?e.toArray():[e];return this._make(s.filter(function(h){return r.some(function(f){return(0,b2e.contains)(f,h)})}))}var a=_2e.test(e)?r:this.children().toArray(),u={context:r,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(Vw.select(e,a,u))}Yr.find=T2e;function aj(e){return function(t){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return function(a){var u,h=e(t,this);return a&&(h=lj(h,a,this.options.xmlMode,(u=this._root)===null||u===void 0?void 0:u[0])),this._make(this.length>1&&h.length>1?r.reduce(function(f,g){return g(f)},h):h)}}}var qR=aj(function(e,t){for(var r,s=[],a=0;a<t.length;a++){var u=e(t[a]);s.push(u)}return(r=new Array).concat.apply(r,s)}),oj=aj(function(e,t){for(var r=[],s=0;s<t.length;s++){var a=e(t[s]);a!==null&&r.push(a)}return r});function sj(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=null,a=aj(function(u,h){var f=[];return(0,id.domEach)(h,function(g){for(var v;(v=u(g))&&!(s!=null&&s(v,f.length));g=v)f.push(v)}),f}).apply(void 0,ij([e],t,!1));return function(u,h){var f=this;s=typeof u=="string"?function(v){return Vw.is(v,u,f.options)}:u?ZR(u):null;var g=a.call(this,h);return s=null,g}}function jw(e){return Array.from(new Set(e))}Yr.parent=oj(function(e){var t=e.parent;return t&&!(0,AB.isDocument)(t)?t:null},jw),Yr.parents=qR(function(e){for(var t=[];e.parent&&!(0,AB.isDocument)(e.parent);)t.push(e.parent),e=e.parent;return t},Vp.uniqueSort,function(e){return e.reverse()}),Yr.parentsUntil=sj(function(e){var t=e.parent;return t&&!(0,AB.isDocument)(t)?t:null},Vp.uniqueSort,function(e){return e.reverse()});function E2e(e){var t,r=[];if(!e)return this._make(r);var s={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?function(u){return Vw.is(u,e,s)}:ZR(e);return(0,id.domEach)(this,function(u){for(;u&&(0,id.isTag)(u);){if(a(u,0)){r.includes(u)||r.push(u);break}u=u.parent}}),this._make(r)}Yr.closest=E2e,Yr.next=oj(function(e){return(0,Vp.nextElementSibling)(e)}),Yr.nextAll=qR(function(e){for(var t=[];e.next;)e=e.next,(0,id.isTag)(e)&&t.push(e);return t},jw),Yr.nextUntil=sj(function(e){return(0,Vp.nextElementSibling)(e)},jw),Yr.prev=oj(function(e){return(0,Vp.prevElementSibling)(e)}),Yr.prevAll=qR(function(e){for(var t=[];e.prev;)e=e.prev,(0,id.isTag)(e)&&t.push(e);return t},jw),Yr.prevUntil=sj(function(e){return(0,Vp.prevElementSibling)(e)},jw),Yr.siblings=qR(function(e){return(0,Vp.getSiblings)(e).filter(function(t){return(0,id.isTag)(t)&&t!==e})},Vp.uniqueSort),Yr.children=qR(function(e){return(0,Vp.getChildren)(e).filter(id.isTag)},jw);function S2e(){var e=this.toArray().reduce(function(t,r){return(0,AB.hasChildren)(r)?t.concat(r.children):t},[]);return this._make(e)}Yr.contents=S2e;function A2e(e){for(var t=0,r=this.length;t<r&&e.call(this[t],t,this[t])!==!1;)++t;return this}Yr.each=A2e;function w2e(e){for(var t=[],r=0;r<this.length;r++){var s=this[r],a=e.call(s,r,s);a!=null&&(t=t.concat(a))}return this._make(t)}Yr.map=w2e;function ZR(e){return typeof e=="function"?function(t,r){return e.call(t,r,t)}:(0,id.isCheerio)(e)?function(t){return Array.prototype.includes.call(e,t)}:function(t){return e===t}}function C2e(e){var t;return this._make(lj(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}Yr.filter=C2e;function lj(e,t,r,s){return typeof t=="string"?Vw.filter(t,e,{xmlMode:r,root:s}):e.filter(ZR(t))}Yr.filterArray=lj;function x2e(e){var t=this.toArray();return typeof e=="string"?Vw.some(t.filter(id.isTag),e,this.options):e?t.some(ZR(e)):!1}Yr.is=x2e;function I2e(e){var t=this.toArray();if(typeof e=="string"){var r=new Set(Vw.filter(e,t,this.options));t=t.filter(function(a){return!r.has(a)})}else{var s=ZR(e);t=t.filter(function(a,u){return!s(a,u)})}return this._make(t)}Yr.not=I2e;function D2e(e){var t=this;return this.filter(typeof e=="string"?":has(".concat(e,")"):function(r,s){return t._make(s).find(e).length>0})}Yr.has=D2e;function O2e(){return this.length>1?this._make(this[0]):this}Yr.first=O2e;function k2e(){return this.length>0?this._make(this[this.length-1]):this}Yr.last=k2e;function R2e(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}Yr.eq=R2e;function P2e(e){return e==null?this.toArray():this[e<0?this.length+e:e]}Yr.get=P2e;function N2e(){return Array.prototype.slice.call(this)}Yr.toArray=N2e;function M2e(e){var t,r;return e==null?(t=this.parent().children(),r=this[0]):typeof e=="string"?(t=this._make(e),r=this[0]):(t=this,r=(0,id.isCheerio)(e)?e[0]:e),Array.prototype.indexOf.call(t,r)}Yr.index=M2e;function L2e(e,t){return this._make(Array.prototype.slice.call(this,e,t))}Yr.slice=L2e;function F2e(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}Yr.end=F2e;function B2e(e,t){var r=this._make(e,t),s=(0,Vp.uniqueSort)(ij(ij([],this.get(),!0),r.get(),!0));return this._make(s)}Yr.add=B2e;function H2e(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}Yr.addBack=H2e;var Wn={},M_={};Object.defineProperty(M_,"__esModule",{value:!0}),M_.update=M_.getParse=void 0;var U2e=$p,poe=ou;function G2e(e){return function(r,s,a,u){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return e(r,s,a,u);var h=r;if(!Array.isArray(h)&&(0,poe.isDocument)(h))return h;var f=new poe.Document([]);return moe(h,f),f}}M_.getParse=G2e;function moe(e,t){var r=Array.isArray(e)?e:[e];t?t.children=r:t=null;for(var s=0;s<r.length;s++){var a=r[s];a.parent&&a.parent.children!==r&&(0,U2e.removeElement)(a),t?(a.prev=r[s-1]||null,a.next=r[s+1]||null):a.prev=a.next=null,a.parent=t}return t}M_.update=moe;var $2e=ve&&ve.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,u;s<a;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.clone=Wn.text=Wn.toString=Wn.html=Wn.empty=Wn.replaceWith=Wn.remove=Wn.insertBefore=Wn.before=Wn.insertAfter=Wn.after=Wn.wrapAll=Wn.unwrap=Wn.wrapInner=Wn.wrap=Wn.prepend=Wn.append=Wn.prependTo=Wn.appendTo=Wn._makeDomArray=void 0;var jp=ou,Ww=M_,goe=No,ss=vy,z2e=$p;function V2e(e,t){var r=this;return e==null?[]:(0,ss.isCheerio)(e)?t?(0,ss.cloneDom)(e.get()):e.get():Array.isArray(e)?e.reduce(function(s,a){return s.concat(r._makeDomArray(a,t))},[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?(0,ss.cloneDom)([e]):[e]}Wn._makeDomArray=V2e;function voe(e){return function(){for(var t=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=this.length-1;return(0,ss.domEach)(this,function(u,h){if((0,jp.hasChildren)(u)){var f=typeof r[0]=="function"?r[0].call(u,h,t._render(u.children)):r,g=t._makeDomArray(f,h<a);e(g,u.children,u)}})}}function _y(e,t,r,s,a){for(var u,h,f=$2e([t,r],s,!0),g=t===0?null:e[t-1],v=t+r>=e.length?null:e[t+r],p=0;p<s.length;++p){var E=s[p],T=E.parent;if(T){var S=T.children,x=S.indexOf(E);x>-1&&(T.children.splice(x,1),a===T&&t>x&&f[0]--)}E.parent=a,E.prev&&(E.prev.next=(u=E.next)!==null&&u!==void 0?u:null),E.next&&(E.next.prev=(h=E.prev)!==null&&h!==void 0?h:null),E.prev=p===0?g:s[p-1],E.next=p===s.length-1?v:s[p+1]}return g&&(g.next=s[0]),v&&(v.prev=s[s.length-1]),e.splice.apply(e,f)}function j2e(e){var t=(0,ss.isCheerio)(e)?e:this._make(e);return t.append(this),this}Wn.appendTo=j2e;function W2e(e){var t=(0,ss.isCheerio)(e)?e:this._make(e);return t.prepend(this),this}Wn.prependTo=W2e,Wn.append=voe(function(e,t,r){_y(t,t.length,0,e,r)}),Wn.prepend=voe(function(e,t,r){_y(t,0,0,e,r)});function yoe(e){return function(t){for(var r=this.length-1,s=this.parents().last(),a=0;a<this.length;a++){var u=this[a],h=typeof t=="function"?t.call(u,a,u):typeof t=="string"&&!(0,ss.isHtml)(t)?s.find(t).clone():t,f=this._makeDomArray(h,a<r)[0];if(!(!f||!(0,jp.hasChildren)(f))){for(var g=f,v=0;v<g.children.length;){var p=g.children[v];(0,ss.isTag)(p)?(g=p,v=0):v++}e(u,g,[f])}}return this}}Wn.wrap=yoe(function(e,t,r){var s=e.parent;if(s){var a=s.children,u=a.indexOf(e);(0,Ww.update)([e],t),_y(a,u,0,r,s)}}),Wn.wrapInner=yoe(function(e,t,r){(0,jp.hasChildren)(e)&&((0,Ww.update)(e.children,t),(0,Ww.update)(r,e))});function X2e(e){var t=this;return this.parent(e).not("body").each(function(r,s){t._make(s).replaceWith(s.children)}),this}Wn.unwrap=X2e;function Y2e(e){var t=this[0];if(t){for(var r=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),s=void 0,a=0;a<r.length;a++)r[a].type==="tag"&&(s=r[a]);for(var u=0;s&&u<s.children.length;){var h=s.children[u];h.type==="tag"?(s=h,u=0):u++}s&&this._make(s).append(this)}return this}Wn.wrapAll=Y2e;function q2e(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var s=this.length-1;return(0,ss.domEach)(this,function(a,u){var h=a.parent;if(!(!(0,jp.hasChildren)(a)||!h)){var f=h.children,g=f.indexOf(a);if(!(g<0)){var v=typeof t[0]=="function"?t[0].call(a,u,e._render(a.children)):t,p=e._makeDomArray(v,u<s);_y(f,g+1,0,p,h)}}})}Wn.after=q2e;function Z2e(e){var t=this;typeof e=="string"&&(e=this._make(e)),this.remove();var r=[];return this._makeDomArray(e).forEach(function(s){var a=t.clone().toArray(),u=s.parent;if(u){var h=u.children,f=h.indexOf(s);f<0||(_y(h,f+1,0,a,u),r.push.apply(r,a))}}),this._make(r)}Wn.insertAfter=Z2e;function K2e(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var s=this.length-1;return(0,ss.domEach)(this,function(a,u){var h=a.parent;if(!(!(0,jp.hasChildren)(a)||!h)){var f=h.children,g=f.indexOf(a);if(!(g<0)){var v=typeof t[0]=="function"?t[0].call(a,u,e._render(a.children)):t,p=e._makeDomArray(v,u<s);_y(f,g,0,p,h)}}})}Wn.before=K2e;function Q2e(e){var t=this,r=this._make(e);this.remove();var s=[];return(0,ss.domEach)(r,function(a){var u=t.clone().toArray(),h=a.parent;if(h){var f=h.children,g=f.indexOf(a);g<0||(_y(f,g,0,u,h),s.push.apply(s,u))}}),this._make(s)}Wn.insertBefore=Q2e;function J2e(e){var t=e?this.filter(e):this;return(0,ss.domEach)(t,function(r){(0,z2e.removeElement)(r),r.prev=r.next=r.parent=null}),this}Wn.remove=J2e;function eMe(e){var t=this;return(0,ss.domEach)(this,function(r,s){var a=r.parent;if(a){var u=a.children,h=typeof e=="function"?e.call(r,s,r):e,f=t._makeDomArray(h);(0,Ww.update)(f,null);var g=u.indexOf(r);_y(u,g,1,f,a),f.includes(r)||(r.parent=r.prev=r.next=null)}})}Wn.replaceWith=eMe;function tMe(){return(0,ss.domEach)(this,function(e){(0,jp.hasChildren)(e)&&(e.children.forEach(function(t){t.next=t.prev=t.parent=null}),e.children.length=0)})}Wn.empty=tMe;function rMe(e){var t=this;if(e===void 0){var r=this[0];return!r||!(0,jp.hasChildren)(r)?null:this._render(r.children)}return(0,ss.domEach)(this,function(s){if((0,jp.hasChildren)(s)){s.children.forEach(function(u){u.next=u.prev=u.parent=null});var a=(0,ss.isCheerio)(e)?e.toArray():t._parse("".concat(e),t.options,!1,s).children;(0,Ww.update)(a,s)}})}Wn.html=rMe;function nMe(){return this._render(this)}Wn.toString=nMe;function iMe(e){var t=this;return e===void 0?(0,goe.text)(this):typeof e=="function"?(0,ss.domEach)(this,function(r,s){return t._make(r).text(e.call(r,s,(0,goe.text)([r])))}):(0,ss.domEach)(this,function(r){if((0,jp.hasChildren)(r)){r.children.forEach(function(a){a.next=a.prev=a.parent=null});var s=new jp.Text("".concat(e));(0,Ww.update)(s,r)}})}Wn.text=iMe;function aMe(){return this._make((0,ss.cloneDom)(this.get()))}Wn.clone=aMe;var wB={};Object.defineProperty(wB,"__esModule",{value:!0}),wB.css=void 0;var uj=vy;function oMe(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return(0,uj.domEach)(this,function(r,s){(0,uj.isTag)(r)&&boe(r,e,t,s)});if(this.length!==0)return _oe(this[0],e)}wB.css=oMe;function boe(e,t,r,s){if(typeof t=="string"){var a=_oe(e),u=typeof r=="function"?r.call(e,s,a[t]):r;u===""?delete a[t]:u!=null&&(a[t]=u),e.attribs.style=sMe(a)}else typeof t=="object"&&Object.keys(t).forEach(function(h,f){boe(e,h,t[h],f)})}function _oe(e,t){if(!(!e||!(0,uj.isTag)(e))){var r=lMe(e.attribs.style);if(typeof t=="string")return r[t];if(Array.isArray(t)){var s={};return t.forEach(function(a){r[a]!=null&&(s[a]=r[a])}),s}return r}}function sMe(e){return Object.keys(e).reduce(function(t,r){return"".concat(t).concat(t?" ":"").concat(r,": ").concat(e[r],";")},"")}function lMe(e){if(e=(e||"").trim(),!e)return{};for(var t={},r,s=0,a=e.split(";");s<a.length;s++){var u=a[s],h=u.indexOf(":");if(h<1||h===u.length-1){var f=u.trimEnd();f.length>0&&r!==void 0&&(t[r]+=";".concat(f))}else r=u.slice(0,h).trim(),t[r]=u.slice(h+1).trim()}return t}var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.serializeArray=Xw.serialize=void 0;var uMe=vy,Toe="input,select,textarea,keygen",cMe=/%20/g,Eoe=/\r?\n/g;function hMe(){var e=this.serializeArray(),t=e.map(function(r){return"".concat(encodeURIComponent(r.name),"=").concat(encodeURIComponent(r.value))});return t.join("&").replace(cMe,"+")}Xw.serialize=hMe;function fMe(){var e=this;return this.map(function(t,r){var s=e._make(r);return(0,uMe.isTag)(r)&&r.name==="form"?s.find(Toe).toArray():s.filter(Toe).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(t,r){var s,a=e._make(r),u=a.attr("name"),h=(s=a.val())!==null&&s!==void 0?s:"";return Array.isArray(h)?h.map(function(f){return{name:u,value:f.replace(Eoe,`\r
`)}}):{name:u,value:h.replace(Eoe,`\r
`)}}).toArray()}Xw.serializeArray=fMe;var dMe=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),pMe=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KR=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dMe(t,e,r);return pMe(t,e),t};Object.defineProperty(mB,"__esModule",{value:!0}),mB.Cheerio=void 0;var mMe=KR(Xo),gMe=KR(Yr),vMe=KR(Wn),yMe=KR(wB),bMe=KR(Xw),QR=function(){function e(t,r,s){if(this.length=0,this.options=s,this._root=r,t){for(var a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}return e}();mB.Cheerio=QR,QR.prototype.cheerio="[cheerio object]",QR.prototype.splice=Array.prototype.splice,QR.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(QR.prototype,mMe,gMe,vMe,yMe,bMe);var _Me=ve&&ve.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Yw=ve&&ve.__assign||function(){return Yw=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Yw.apply(this,arguments)},TMe=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),EMe=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Soe=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TMe(t,e,r);return EMe(t,e),t};Object.defineProperty(nB,"__esModule",{value:!0}),nB.getLoad=void 0;var cj=Soe(kw),SMe=Soe(No),AMe=mB,JR=vy;function wMe(e,t){return function r(s,a,u){if(u===void 0&&(u=!0),s==null)throw new Error("cheerio.load() expects a string");var h=Yw(Yw({},cj.default),(0,cj.flatten)(a)),f=e(s,h,u,null),g=function(p){_Me(E,p);function E(){return p!==null&&p.apply(this,arguments)||this}return E.prototype._make=function(T,S){var x=v(T,S);return x.prevObject=this,x},E.prototype._parse=function(T,S,x,O){return e(T,S,x,O)},E.prototype._render=function(T){return t(T,this.options)},E}(AMe.Cheerio);function v(p,E,T,S){if(T===void 0&&(T=f),p&&(0,JR.isCheerio)(p))return p;var x=Yw(Yw({},h),(0,cj.flatten)(S)),O=typeof T=="string"?[e(T,x,!1,null)]:"length"in T?T:[T],P=(0,JR.isCheerio)(O)?O:new g(O,null,x);if(P._root=P,!p)return new g(void 0,P,x);var M=typeof p=="string"&&(0,JR.isHtml)(p)?e(p,x,!1,null).children:CMe(p)?[p]:Array.isArray(p)?p:void 0,G=new g(M,P,x);if(M)return G;if(typeof p!="string")throw new Error("Unexpected type of selector");var B=p,U=E?typeof E=="string"?(0,JR.isHtml)(E)?new g([e(E,x,!1,null)],P,x):(B="".concat(E," ").concat(B),P):(0,JR.isCheerio)(E)?E:new g(Array.isArray(E)?E:[E],P,x):P;return U?U.find(B):G}return Object.assign(v,SMe,{load:r,_root:f,_options:h,fn:g.prototype,prototype:g.prototype}),v}}nB.getLoad=wMe;function CMe(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var qw={},Aoe={},eP={},L_={},CB={},xB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);e.REPLACEMENT_CHARACTER="",function(f){f[f.EOF=-1]="EOF",f[f.NULL=0]="NULL",f[f.TABULATION=9]="TABULATION",f[f.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",f[f.LINE_FEED=10]="LINE_FEED",f[f.FORM_FEED=12]="FORM_FEED",f[f.SPACE=32]="SPACE",f[f.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",f[f.QUOTATION_MARK=34]="QUOTATION_MARK",f[f.NUMBER_SIGN=35]="NUMBER_SIGN",f[f.AMPERSAND=38]="AMPERSAND",f[f.APOSTROPHE=39]="APOSTROPHE",f[f.HYPHEN_MINUS=45]="HYPHEN_MINUS",f[f.SOLIDUS=47]="SOLIDUS",f[f.DIGIT_0=48]="DIGIT_0",f[f.DIGIT_9=57]="DIGIT_9",f[f.SEMICOLON=59]="SEMICOLON",f[f.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",f[f.EQUALS_SIGN=61]="EQUALS_SIGN",f[f.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",f[f.QUESTION_MARK=63]="QUESTION_MARK",f[f.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",f[f.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",f[f.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",f[f.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",f[f.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",f[f.GRAVE_ACCENT=96]="GRAVE_ACCENT",f[f.LATIN_SMALL_A=97]="LATIN_SMALL_A",f[f.LATIN_SMALL_F=102]="LATIN_SMALL_F",f[f.LATIN_SMALL_X=120]="LATIN_SMALL_X",f[f.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",f[f.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(e.CODE_POINTS||(e.CODE_POINTS={})),e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function r(f){return f>=55296&&f<=57343}e.isSurrogate=r;function s(f){return f>=56320&&f<=57343}e.isSurrogatePair=s;function a(f,g){return(f-55296)*1024+9216+g}e.getSurrogatePairCodePoint=a;function u(f){return f!==32&&f!==10&&f!==13&&f!==9&&f!==12&&f>=1&&f<=31||f>=127&&f<=159}e.isControlCodePoint=u;function h(f){return f>=64976&&f<=65007||t.has(f)}e.isUndefinedCodePoint=h})(xB);var tP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(e.ERR||(e.ERR={}))})(tP),Object.defineProperty(CB,"__esModule",{value:!0}),CB.Preprocessor=void 0;const lu=xB,hj=tP,xMe=65536;let IMe=function(){function e(t){L(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=xMe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return V(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(r){const{line:s,col:a,offset:u}=this;return{code:r,startLine:s,endLine:s,startCol:a,endCol:a,startOffset:u,endOffset:u}}},{key:"_err",value:function(r){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(r)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(r){if(this.pos!==this.html.length-1){const s=this.html.charCodeAt(this.pos+1);if((0,lu.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,lu.getSurrogatePairCodePoint)(r,s)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,lu.CODE_POINTS.EOF;return this._err(hj.ERR.surrogateInInputStream),r}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(r,s){this.html.length>0?this.html+=r:this.html=r,this.endOfChunkHit=!1,this.lastChunkWritten=s}},{key:"insertHtmlAtCurrentPos",value:function(r){this.html=this.html.substring(0,this.pos+1)+r+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(r,s){if(this.pos+r.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(r,this.pos);for(let a=0;a<r.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==r.charCodeAt(a))return!1;return!0}},{key:"peek",value:function(r){const s=this.pos+r;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,lu.CODE_POINTS.EOF;const a=this.html.charCodeAt(s);return a===lu.CODE_POINTS.CARRIAGE_RETURN?lu.CODE_POINTS.LINE_FEED:a}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,lu.CODE_POINTS.EOF;let r=this.html.charCodeAt(this.pos);return r===lu.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,lu.CODE_POINTS.LINE_FEED):r===lu.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,lu.isSurrogate)(r)&&(r=this._processSurrogate(r)),this.handler.onParseError===null||r>31&&r<127||r===lu.CODE_POINTS.LINE_FEED||r===lu.CODE_POINTS.CARRIAGE_RETURN||r>159&&r<64976||this._checkForProblematicCharacters(r),r)}},{key:"_checkForProblematicCharacters",value:function(r){(0,lu.isControlCodePoint)(r)?this._err(hj.ERR.controlCharacterInInputStream):(0,lu.isUndefinedCodePoint)(r)&&this._err(hj.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(r){for(this.pos-=r;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e}();CB.Preprocessor=IMe;var IB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"}(e.TokenType||(e.TokenType={}));function t(r,s){for(let a=r.attrs.length-1;a>=0;a--)if(r.attrs[a].name===s)return r.attrs[a].value;return null}e.getTokenAttr=t})(IB);var tv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0;var t;(function(p){p.HTML="http://www.w3.org/1999/xhtml",p.MATHML="http://www.w3.org/1998/Math/MathML",p.SVG="http://www.w3.org/2000/svg",p.XLINK="http://www.w3.org/1999/xlink",p.XML="http://www.w3.org/XML/1998/namespace",p.XMLNS="http://www.w3.org/2000/xmlns/"})(t=e.NS||(e.NS={})),function(p){p.TYPE="type",p.ACTION="action",p.ENCODING="encoding",p.PROMPT="prompt",p.NAME="name",p.COLOR="color",p.FACE="face",p.SIZE="size"}(e.ATTRS||(e.ATTRS={})),function(p){p.NO_QUIRKS="no-quirks",p.QUIRKS="quirks",p.LIMITED_QUIRKS="limited-quirks"}(e.DOCUMENT_MODE||(e.DOCUMENT_MODE={}));var r;(function(p){p.A="a",p.ADDRESS="address",p.ANNOTATION_XML="annotation-xml",p.APPLET="applet",p.AREA="area",p.ARTICLE="article",p.ASIDE="aside",p.B="b",p.BASE="base",p.BASEFONT="basefont",p.BGSOUND="bgsound",p.BIG="big",p.BLOCKQUOTE="blockquote",p.BODY="body",p.BR="br",p.BUTTON="button",p.CAPTION="caption",p.CENTER="center",p.CODE="code",p.COL="col",p.COLGROUP="colgroup",p.DD="dd",p.DESC="desc",p.DETAILS="details",p.DIALOG="dialog",p.DIR="dir",p.DIV="div",p.DL="dl",p.DT="dt",p.EM="em",p.EMBED="embed",p.FIELDSET="fieldset",p.FIGCAPTION="figcaption",p.FIGURE="figure",p.FONT="font",p.FOOTER="footer",p.FOREIGN_OBJECT="foreignObject",p.FORM="form",p.FRAME="frame",p.FRAMESET="frameset",p.H1="h1",p.H2="h2",p.H3="h3",p.H4="h4",p.H5="h5",p.H6="h6",p.HEAD="head",p.HEADER="header",p.HGROUP="hgroup",p.HR="hr",p.HTML="html",p.I="i",p.IMG="img",p.IMAGE="image",p.INPUT="input",p.IFRAME="iframe",p.KEYGEN="keygen",p.LABEL="label",p.LI="li",p.LINK="link",p.LISTING="listing",p.MAIN="main",p.MALIGNMARK="malignmark",p.MARQUEE="marquee",p.MATH="math",p.MENU="menu",p.META="meta",p.MGLYPH="mglyph",p.MI="mi",p.MO="mo",p.MN="mn",p.MS="ms",p.MTEXT="mtext",p.NAV="nav",p.NOBR="nobr",p.NOFRAMES="noframes",p.NOEMBED="noembed",p.NOSCRIPT="noscript",p.OBJECT="object",p.OL="ol",p.OPTGROUP="optgroup",p.OPTION="option",p.P="p",p.PARAM="param",p.PLAINTEXT="plaintext",p.PRE="pre",p.RB="rb",p.RP="rp",p.RT="rt",p.RTC="rtc",p.RUBY="ruby",p.S="s",p.SCRIPT="script",p.SECTION="section",p.SELECT="select",p.SOURCE="source",p.SMALL="small",p.SPAN="span",p.STRIKE="strike",p.STRONG="strong",p.STYLE="style",p.SUB="sub",p.SUMMARY="summary",p.SUP="sup",p.TABLE="table",p.TBODY="tbody",p.TEMPLATE="template",p.TEXTAREA="textarea",p.TFOOT="tfoot",p.TD="td",p.TH="th",p.THEAD="thead",p.TITLE="title",p.TR="tr",p.TRACK="track",p.TT="tt",p.U="u",p.UL="ul",p.SVG="svg",p.VAR="var",p.WBR="wbr",p.XMP="xmp"})(r=e.TAG_NAMES||(e.TAG_NAMES={}));var s;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.A=1]="A",p[p.ADDRESS=2]="ADDRESS",p[p.ANNOTATION_XML=3]="ANNOTATION_XML",p[p.APPLET=4]="APPLET",p[p.AREA=5]="AREA",p[p.ARTICLE=6]="ARTICLE",p[p.ASIDE=7]="ASIDE",p[p.B=8]="B",p[p.BASE=9]="BASE",p[p.BASEFONT=10]="BASEFONT",p[p.BGSOUND=11]="BGSOUND",p[p.BIG=12]="BIG",p[p.BLOCKQUOTE=13]="BLOCKQUOTE",p[p.BODY=14]="BODY",p[p.BR=15]="BR",p[p.BUTTON=16]="BUTTON",p[p.CAPTION=17]="CAPTION",p[p.CENTER=18]="CENTER",p[p.CODE=19]="CODE",p[p.COL=20]="COL",p[p.COLGROUP=21]="COLGROUP",p[p.DD=22]="DD",p[p.DESC=23]="DESC",p[p.DETAILS=24]="DETAILS",p[p.DIALOG=25]="DIALOG",p[p.DIR=26]="DIR",p[p.DIV=27]="DIV",p[p.DL=28]="DL",p[p.DT=29]="DT",p[p.EM=30]="EM",p[p.EMBED=31]="EMBED",p[p.FIELDSET=32]="FIELDSET",p[p.FIGCAPTION=33]="FIGCAPTION",p[p.FIGURE=34]="FIGURE",p[p.FONT=35]="FONT",p[p.FOOTER=36]="FOOTER",p[p.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",p[p.FORM=38]="FORM",p[p.FRAME=39]="FRAME",p[p.FRAMESET=40]="FRAMESET",p[p.H1=41]="H1",p[p.H2=42]="H2",p[p.H3=43]="H3",p[p.H4=44]="H4",p[p.H5=45]="H5",p[p.H6=46]="H6",p[p.HEAD=47]="HEAD",p[p.HEADER=48]="HEADER",p[p.HGROUP=49]="HGROUP",p[p.HR=50]="HR",p[p.HTML=51]="HTML",p[p.I=52]="I",p[p.IMG=53]="IMG",p[p.IMAGE=54]="IMAGE",p[p.INPUT=55]="INPUT",p[p.IFRAME=56]="IFRAME",p[p.KEYGEN=57]="KEYGEN",p[p.LABEL=58]="LABEL",p[p.LI=59]="LI",p[p.LINK=60]="LINK",p[p.LISTING=61]="LISTING",p[p.MAIN=62]="MAIN",p[p.MALIGNMARK=63]="MALIGNMARK",p[p.MARQUEE=64]="MARQUEE",p[p.MATH=65]="MATH",p[p.MENU=66]="MENU",p[p.META=67]="META",p[p.MGLYPH=68]="MGLYPH",p[p.MI=69]="MI",p[p.MO=70]="MO",p[p.MN=71]="MN",p[p.MS=72]="MS",p[p.MTEXT=73]="MTEXT",p[p.NAV=74]="NAV",p[p.NOBR=75]="NOBR",p[p.NOFRAMES=76]="NOFRAMES",p[p.NOEMBED=77]="NOEMBED",p[p.NOSCRIPT=78]="NOSCRIPT",p[p.OBJECT=79]="OBJECT",p[p.OL=80]="OL",p[p.OPTGROUP=81]="OPTGROUP",p[p.OPTION=82]="OPTION",p[p.P=83]="P",p[p.PARAM=84]="PARAM",p[p.PLAINTEXT=85]="PLAINTEXT",p[p.PRE=86]="PRE",p[p.RB=87]="RB",p[p.RP=88]="RP",p[p.RT=89]="RT",p[p.RTC=90]="RTC",p[p.RUBY=91]="RUBY",p[p.S=92]="S",p[p.SCRIPT=93]="SCRIPT",p[p.SECTION=94]="SECTION",p[p.SELECT=95]="SELECT",p[p.SOURCE=96]="SOURCE",p[p.SMALL=97]="SMALL",p[p.SPAN=98]="SPAN",p[p.STRIKE=99]="STRIKE",p[p.STRONG=100]="STRONG",p[p.STYLE=101]="STYLE",p[p.SUB=102]="SUB",p[p.SUMMARY=103]="SUMMARY",p[p.SUP=104]="SUP",p[p.TABLE=105]="TABLE",p[p.TBODY=106]="TBODY",p[p.TEMPLATE=107]="TEMPLATE",p[p.TEXTAREA=108]="TEXTAREA",p[p.TFOOT=109]="TFOOT",p[p.TD=110]="TD",p[p.TH=111]="TH",p[p.THEAD=112]="THEAD",p[p.TITLE=113]="TITLE",p[p.TR=114]="TR",p[p.TRACK=115]="TRACK",p[p.TT=116]="TT",p[p.U=117]="U",p[p.UL=118]="UL",p[p.SVG=119]="SVG",p[p.VAR=120]="VAR",p[p.WBR=121]="WBR",p[p.XMP=122]="XMP"})(s=e.TAG_ID||(e.TAG_ID={}));const a=new Map([[r.A,s.A],[r.ADDRESS,s.ADDRESS],[r.ANNOTATION_XML,s.ANNOTATION_XML],[r.APPLET,s.APPLET],[r.AREA,s.AREA],[r.ARTICLE,s.ARTICLE],[r.ASIDE,s.ASIDE],[r.B,s.B],[r.BASE,s.BASE],[r.BASEFONT,s.BASEFONT],[r.BGSOUND,s.BGSOUND],[r.BIG,s.BIG],[r.BLOCKQUOTE,s.BLOCKQUOTE],[r.BODY,s.BODY],[r.BR,s.BR],[r.BUTTON,s.BUTTON],[r.CAPTION,s.CAPTION],[r.CENTER,s.CENTER],[r.CODE,s.CODE],[r.COL,s.COL],[r.COLGROUP,s.COLGROUP],[r.DD,s.DD],[r.DESC,s.DESC],[r.DETAILS,s.DETAILS],[r.DIALOG,s.DIALOG],[r.DIR,s.DIR],[r.DIV,s.DIV],[r.DL,s.DL],[r.DT,s.DT],[r.EM,s.EM],[r.EMBED,s.EMBED],[r.FIELDSET,s.FIELDSET],[r.FIGCAPTION,s.FIGCAPTION],[r.FIGURE,s.FIGURE],[r.FONT,s.FONT],[r.FOOTER,s.FOOTER],[r.FOREIGN_OBJECT,s.FOREIGN_OBJECT],[r.FORM,s.FORM],[r.FRAME,s.FRAME],[r.FRAMESET,s.FRAMESET],[r.H1,s.H1],[r.H2,s.H2],[r.H3,s.H3],[r.H4,s.H4],[r.H5,s.H5],[r.H6,s.H6],[r.HEAD,s.HEAD],[r.HEADER,s.HEADER],[r.HGROUP,s.HGROUP],[r.HR,s.HR],[r.HTML,s.HTML],[r.I,s.I],[r.IMG,s.IMG],[r.IMAGE,s.IMAGE],[r.INPUT,s.INPUT],[r.IFRAME,s.IFRAME],[r.KEYGEN,s.KEYGEN],[r.LABEL,s.LABEL],[r.LI,s.LI],[r.LINK,s.LINK],[r.LISTING,s.LISTING],[r.MAIN,s.MAIN],[r.MALIGNMARK,s.MALIGNMARK],[r.MARQUEE,s.MARQUEE],[r.MATH,s.MATH],[r.MENU,s.MENU],[r.META,s.META],[r.MGLYPH,s.MGLYPH],[r.MI,s.MI],[r.MO,s.MO],[r.MN,s.MN],[r.MS,s.MS],[r.MTEXT,s.MTEXT],[r.NAV,s.NAV],[r.NOBR,s.NOBR],[r.NOFRAMES,s.NOFRAMES],[r.NOEMBED,s.NOEMBED],[r.NOSCRIPT,s.NOSCRIPT],[r.OBJECT,s.OBJECT],[r.OL,s.OL],[r.OPTGROUP,s.OPTGROUP],[r.OPTION,s.OPTION],[r.P,s.P],[r.PARAM,s.PARAM],[r.PLAINTEXT,s.PLAINTEXT],[r.PRE,s.PRE],[r.RB,s.RB],[r.RP,s.RP],[r.RT,s.RT],[r.RTC,s.RTC],[r.RUBY,s.RUBY],[r.S,s.S],[r.SCRIPT,s.SCRIPT],[r.SECTION,s.SECTION],[r.SELECT,s.SELECT],[r.SOURCE,s.SOURCE],[r.SMALL,s.SMALL],[r.SPAN,s.SPAN],[r.STRIKE,s.STRIKE],[r.STRONG,s.STRONG],[r.STYLE,s.STYLE],[r.SUB,s.SUB],[r.SUMMARY,s.SUMMARY],[r.SUP,s.SUP],[r.TABLE,s.TABLE],[r.TBODY,s.TBODY],[r.TEMPLATE,s.TEMPLATE],[r.TEXTAREA,s.TEXTAREA],[r.TFOOT,s.TFOOT],[r.TD,s.TD],[r.TH,s.TH],[r.THEAD,s.THEAD],[r.TITLE,s.TITLE],[r.TR,s.TR],[r.TRACK,s.TRACK],[r.TT,s.TT],[r.U,s.U],[r.UL,s.UL],[r.SVG,s.SVG],[r.VAR,s.VAR],[r.WBR,s.WBR],[r.XMP,s.XMP]]);function u(p){var E;return(E=a.get(p))!==null&&E!==void 0?E:s.UNKNOWN}e.getTagID=u;const h=s;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([h.ADDRESS,h.APPLET,h.AREA,h.ARTICLE,h.ASIDE,h.BASE,h.BASEFONT,h.BGSOUND,h.BLOCKQUOTE,h.BODY,h.BR,h.BUTTON,h.CAPTION,h.CENTER,h.COL,h.COLGROUP,h.DD,h.DETAILS,h.DIR,h.DIV,h.DL,h.DT,h.EMBED,h.FIELDSET,h.FIGCAPTION,h.FIGURE,h.FOOTER,h.FORM,h.FRAME,h.FRAMESET,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HEADER,h.HGROUP,h.HR,h.HTML,h.IFRAME,h.IMG,h.INPUT,h.LI,h.LINK,h.LISTING,h.MAIN,h.MARQUEE,h.MENU,h.META,h.NAV,h.NOEMBED,h.NOFRAMES,h.NOSCRIPT,h.OBJECT,h.OL,h.P,h.PARAM,h.PLAINTEXT,h.PRE,h.SCRIPT,h.SECTION,h.SELECT,h.SOURCE,h.STYLE,h.SUMMARY,h.TABLE,h.TBODY,h.TD,h.TEMPLATE,h.TEXTAREA,h.TFOOT,h.TH,h.THEAD,h.TITLE,h.TR,h.TRACK,h.UL,h.WBR,h.XMP]),[t.MATHML]:new Set([h.MI,h.MO,h.MN,h.MS,h.MTEXT,h.ANNOTATION_XML]),[t.SVG]:new Set([h.TITLE,h.FOREIGN_OBJECT,h.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set};function f(p){return p===h.H1||p===h.H2||p===h.H3||p===h.H4||p===h.H5||p===h.H6}e.isNumberedHeader=f;const g=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function v(p,E){return g.has(p)||E&&p===r.NOSCRIPT}e.hasUnescapedText=v})(tv),Object.defineProperty(L_,"__esModule",{value:!0}),L_.Tokenizer=L_.TokenizerMode=void 0;const DMe=CB,Oe=xB,Zu=IB,Wp=I_,Jt=tP,fj=tv,OMe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var He;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(He||(He={})),L_.TokenizerMode={DATA:He.DATA,RCDATA:He.RCDATA,RAWTEXT:He.RAWTEXT,SCRIPT_DATA:He.SCRIPT_DATA,PLAINTEXT:He.PLAINTEXT,CDATA_SECTION:He.CDATA_SECTION};function rP(e){return e>=Oe.CODE_POINTS.DIGIT_0&&e<=Oe.CODE_POINTS.DIGIT_9}function nP(e){return e>=Oe.CODE_POINTS.LATIN_CAPITAL_A&&e<=Oe.CODE_POINTS.LATIN_CAPITAL_Z}function kMe(e){return e>=Oe.CODE_POINTS.LATIN_SMALL_A&&e<=Oe.CODE_POINTS.LATIN_SMALL_Z}function Ty(e){return kMe(e)||nP(e)}function dj(e){return Ty(e)||rP(e)}function woe(e){return e>=Oe.CODE_POINTS.LATIN_CAPITAL_A&&e<=Oe.CODE_POINTS.LATIN_CAPITAL_F}function Coe(e){return e>=Oe.CODE_POINTS.LATIN_SMALL_A&&e<=Oe.CODE_POINTS.LATIN_SMALL_F}function RMe(e){return rP(e)||woe(e)||Coe(e)}function DB(e){return e+32}function xoe(e){return e===Oe.CODE_POINTS.SPACE||e===Oe.CODE_POINTS.LINE_FEED||e===Oe.CODE_POINTS.TABULATION||e===Oe.CODE_POINTS.FORM_FEED}function PMe(e){return e===Oe.CODE_POINTS.EQUALS_SIGN||dj(e)}function Ioe(e){return xoe(e)||e===Oe.CODE_POINTS.SOLIDUS||e===Oe.CODE_POINTS.GREATER_THAN_SIGN}let NMe=function(){function e(t,r){L(this,e),this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=He.DATA,this.returnState=He.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new DMe.Preprocessor(r),this.currentLocation=this.getCurrentLocation(-1)}return V(e,[{key:"_err",value:function(r){var s,a;(a=(s=this.handler).onParseError)===null||a===void 0||a.call(s,this.preprocessor.getError(r))}},{key:"getCurrentLocation",value:function(r){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-r,startOffset:this.preprocessor.offset-r,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const r=this._consume();this._ensureHibernation()||this._callState(r)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(r){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||r==null||r())}},{key:"write",value:function(r,s,a){this.active=!0,this.preprocessor.write(r,s),this._runParsingLoop(),this.paused||a==null||a()}},{key:"insertHtmlAtCurrentPos",value:function(r){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(r),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(r){this.consumedAfterSnapshot-=r,this.preprocessor.retreat(r)}},{key:"_reconsumeInState",value:function(r,s){this.state=r,this._callState(s)}},{key:"_advanceBy",value:function(r){this.consumedAfterSnapshot+=r;for(let s=0;s<r;s++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(r,s){return this.preprocessor.startsWith(r,s)?(this._advanceBy(r.length-1),!0):!1}},{key:"_createStartTagToken",value:function(){this.currentToken={type:Zu.TokenType.START_TAG,tagName:"",tagID:fj.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:Zu.TokenType.END_TAG,tagName:"",tagID:fj.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(r){this.currentToken={type:Zu.TokenType.COMMENT,data:"",location:this.getCurrentLocation(r)}}},{key:"_createDoctypeToken",value:function(r){this.currentToken={type:Zu.TokenType.DOCTYPE,name:r,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(r,s){this.currentCharacterToken={type:r,chars:s,location:this.currentLocation}}},{key:"_createAttr",value:function(r){this.currentAttr={name:r,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var r,s;const a=this.currentToken;if((0,Zu.getTokenAttr)(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const u=(r=(s=a.location).attrs)!==null&&r!==void 0?r:s.attrs=Object.create(null);u[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Jt.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(r){this._emitCurrentCharacterToken(r.location),this.currentToken=null,r.location&&(r.location.endLine=this.preprocessor.line,r.location.endCol=this.preprocessor.col+1,r.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const r=this.currentToken;this.prepareToken(r),r.tagID=(0,fj.getTagID)(r.tagName),r.type===Zu.TokenType.START_TAG?(this.lastStartTagName=r.tagName,this.handler.onStartTag(r)):(r.attrs.length>0&&this._err(Jt.ERR.endTagWithAttributes),r.selfClosing&&this._err(Jt.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(r)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(r){this.prepareToken(r),this.handler.onComment(r),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(r){this.prepareToken(r),this.handler.onDoctype(r),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(r){if(this.currentCharacterToken){switch(r&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentCharacterToken.type){case Zu.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Zu.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Zu.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const r=this.getCurrentLocation(0);r&&(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset),this._emitCurrentCharacterToken(r),this.handler.onEof({type:Zu.TokenType.EOF,location:r}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(r,s){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==r)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=s;return}this._createCharacterToken(r,s)}},{key:"_emitCodePoint",value:function(r){const s=xoe(r)?Zu.TokenType.WHITESPACE_CHARACTER:r===Oe.CODE_POINTS.NULL?Zu.TokenType.NULL_CHARACTER:Zu.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(s,String.fromCodePoint(r))}},{key:"_emitChars",value:function(r){this._appendCharToCurrentCharacterToken(Zu.TokenType.CHARACTER,r)}},{key:"_matchNamedCharacterReference",value:function(r){let s=null,a=0,u=!1;for(let h=0,f=Wp.htmlDecodeTree[0];h>=0&&(h=(0,Wp.determineBranch)(Wp.htmlDecodeTree,f,h+1,r),!(h<0));r=this._consume()){a+=1,f=Wp.htmlDecodeTree[h];const g=f&Wp.BinTrieFlags.VALUE_LENGTH;if(g){const v=(g>>14)-1;if(r!==Oe.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&PMe(this.preprocessor.peek(1))?(s=[Oe.CODE_POINTS.AMPERSAND],h+=v):(s=v===0?[Wp.htmlDecodeTree[h]&~Wp.BinTrieFlags.VALUE_LENGTH]:v===1?[Wp.htmlDecodeTree[++h]]:[Wp.htmlDecodeTree[++h],Wp.htmlDecodeTree[++h]],a=0,u=r!==Oe.CODE_POINTS.SEMICOLON),v===0){this._consume();break}}}return this._unconsume(a),u&&!this.preprocessor.endOfChunkHit&&this._err(Jt.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),s}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===He.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===He.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===He.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(r){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(r):this._emitCodePoint(r)}},{key:"_callState",value:function(r){switch(this.state){case He.DATA:{this._stateData(r);break}case He.RCDATA:{this._stateRcdata(r);break}case He.RAWTEXT:{this._stateRawtext(r);break}case He.SCRIPT_DATA:{this._stateScriptData(r);break}case He.PLAINTEXT:{this._statePlaintext(r);break}case He.TAG_OPEN:{this._stateTagOpen(r);break}case He.END_TAG_OPEN:{this._stateEndTagOpen(r);break}case He.TAG_NAME:{this._stateTagName(r);break}case He.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(r);break}case He.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(r);break}case He.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(r);break}case He.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(r);break}case He.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(r);break}case He.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(r);break}case He.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(r);break}case He.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(r);break}case He.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(r);break}case He.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(r);break}case He.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(r);break}case He.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(r);break}case He.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(r);break}case He.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(r);break}case He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(r);break}case He.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(r);break}case He.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(r);break}case He.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(r);break}case He.ATTRIBUTE_NAME:{this._stateAttributeName(r);break}case He.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(r);break}case He.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(r);break}case He.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(r);break}case He.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(r);break}case He.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(r);break}case He.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(r);break}case He.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(r);break}case He.BOGUS_COMMENT:{this._stateBogusComment(r);break}case He.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(r);break}case He.COMMENT_START:{this._stateCommentStart(r);break}case He.COMMENT_START_DASH:{this._stateCommentStartDash(r);break}case He.COMMENT:{this._stateComment(r);break}case He.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(r);break}case He.COMMENT_END_DASH:{this._stateCommentEndDash(r);break}case He.COMMENT_END:{this._stateCommentEnd(r);break}case He.COMMENT_END_BANG:{this._stateCommentEndBang(r);break}case He.DOCTYPE:{this._stateDoctype(r);break}case He.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(r);break}case He.DOCTYPE_NAME:{this._stateDoctypeName(r);break}case He.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(r);break}case He.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(r);break}case He.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(r);break}case He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(r);break}case He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(r);break}case He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(r);break}case He.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(r);break}case He.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(r);break}case He.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(r);break}case He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(r);break}case He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(r);break}case He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(r);break}case He.BOGUS_DOCTYPE:{this._stateBogusDoctype(r);break}case He.CDATA_SECTION:{this._stateCdataSection(r);break}case He.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(r);break}case He.CDATA_SECTION_END:{this._stateCdataSectionEnd(r);break}case He.CHARACTER_REFERENCE:{this._stateCharacterReference(r);break}case He.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(r);break}case He.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(r);break}case He.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(r);break}case He.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(r);break}case He.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(r);break}case He.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(r);break}case He.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(r);break}default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(r){switch(r){case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.TAG_OPEN;break}case Oe.CODE_POINTS.AMPERSAND:{this.returnState=He.DATA,this.state=He.CHARACTER_REFERENCE;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitCodePoint(r);break}case Oe.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRcdata",value:function(r){switch(r){case Oe.CODE_POINTS.AMPERSAND:{this.returnState=He.RCDATA,this.state=He.CHARACTER_REFERENCE;break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.RCDATA_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRawtext",value:function(r){switch(r){case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.RAWTEXT_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptData",value:function(r){switch(r){case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_statePlaintext",value:function(r){switch(r){case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateTagOpen",value:function(r){if(Ty(r))this._createStartTagToken(),this.state=He.TAG_NAME,this._stateTagName(r);else switch(r){case Oe.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.MARKUP_DECLARATION_OPEN;break}case Oe.CODE_POINTS.SOLIDUS:{this.state=He.END_TAG_OPEN;break}case Oe.CODE_POINTS.QUESTION_MARK:{this._err(Jt.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Jt.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=He.DATA,this._stateData(r)}}},{key:"_stateEndTagOpen",value:function(r){if(Ty(r))this._createEndTagToken(),this.state=He.TAG_NAME,this._stateTagName(r);else switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingEndTagName),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Jt.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r)}}},{key:"_stateTagName",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Oe.CODE_POINTS.SOLIDUS:{this.state=He.SELF_CLOSING_START_TAG;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentTagToken();break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.tagName+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:s.tagName+=String.fromCodePoint(nP(r)?DB(r):r)}}},{key:"_stateRcdataLessThanSign",value:function(r){r===Oe.CODE_POINTS.SOLIDUS?this.state=He.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"_stateRcdataEndTagOpen",value:function(r){Ty(r)?(this.state=He.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(r)):(this._emitChars("</"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"handleSpecialEndTag",value:function(r){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const s=this.currentToken;switch(s.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=He.BEFORE_ATTRIBUTE_NAME,!1;case Oe.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=He.SELF_CLOSING_START_TAG,!1;case Oe.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=He.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"_stateRawtextLessThanSign",value:function(r){r===Oe.CODE_POINTS.SOLIDUS?this.state=He.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagOpen",value:function(r){Ty(r)?(this.state=He.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(r)):(this._emitChars("</"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateScriptDataLessThanSign",value:function(r){switch(r){case Oe.CODE_POINTS.SOLIDUS:{this.state=He.SCRIPT_DATA_END_TAG_OPEN;break}case Oe.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=He.SCRIPT_DATA,this._stateScriptData(r)}}},{key:"_stateScriptDataEndTagOpen",value:function(r){Ty(r)?(this.state=He.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(r)):(this._emitChars("</"),this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStart",value:function(r){r===Oe.CODE_POINTS.HYPHEN_MINUS?(this.state=He.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStartDash",value:function(r){r===Oe.CODE_POINTS.HYPHEN_MINUS?(this.state=He.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscaped",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDash",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_ESCAPED,this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDashDash",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.SCRIPT_DATA,this._emitChars(">");break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_ESCAPED,this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(r){r===Oe.CODE_POINTS.SOLIDUS?this.state=He.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ty(r)?(this._emitChars("<"),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(r)):(this._emitChars("<"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(r){Ty(r)?(this.state=He.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(r)):(this._emitChars("</"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(r){if(this.preprocessor.startsWith(Oe.SEQUENCES.SCRIPT,!1)&&Ioe(this.preprocessor.peek(Oe.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let s=0;s<Oe.SEQUENCES.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscaped",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.SCRIPT_DATA,this._emitChars(">");break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Oe.REPLACEMENT_CHARACTER);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(r){r===Oe.CODE_POINTS.SOLIDUS?(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(r){if(this.preprocessor.startsWith(Oe.SEQUENCES.SCRIPT,!1)&&Ioe(this.preprocessor.peek(Oe.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let s=0;s<Oe.SEQUENCES.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=He.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateBeforeAttributeName",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.SOLIDUS:case Oe.CODE_POINTS.GREATER_THAN_SIGN:case Oe.CODE_POINTS.EOF:{this.state=He.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case Oe.CODE_POINTS.EQUALS_SIGN:{this._err(Jt.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=He.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=He.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateAttributeName",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:case Oe.CODE_POINTS.SOLIDUS:case Oe.CODE_POINTS.GREATER_THAN_SIGN:case Oe.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=He.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case Oe.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=He.BEFORE_ATTRIBUTE_VALUE;break}case Oe.CODE_POINTS.QUOTATION_MARK:case Oe.CODE_POINTS.APOSTROPHE:case Oe.CODE_POINTS.LESS_THAN_SIGN:{this._err(Jt.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(r);break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.currentAttr.name+=Oe.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(nP(r)?DB(r):r)}}},{key:"_stateAfterAttributeName",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.SOLIDUS:{this.state=He.SELF_CLOSING_START_TAG;break}case Oe.CODE_POINTS.EQUALS_SIGN:{this.state=He.BEFORE_ATTRIBUTE_VALUE;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentTagToken();break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=He.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateBeforeAttributeValue",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.QUOTATION_MARK:{this.state=He.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{this.state=He.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingAttributeValue),this.state=He.DATA,this.emitCurrentTagToken();break}default:this.state=He.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(r)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(r){switch(r){case Oe.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Oe.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=He.CHARACTER_REFERENCE;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueSingleQuoted",value:function(r){switch(r){case Oe.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Oe.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=He.CHARACTER_REFERENCE;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueUnquoted",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Oe.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_UNQUOTED,this.state=He.CHARACTER_REFERENCE;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=He.DATA,this.emitCurrentTagToken();break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.QUOTATION_MARK:case Oe.CODE_POINTS.APOSTROPHE:case Oe.CODE_POINTS.LESS_THAN_SIGN:case Oe.CODE_POINTS.EQUALS_SIGN:case Oe.CODE_POINTS.GRAVE_ACCENT:{this._err(Jt.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(r);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAfterAttributeValueQuoted",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Oe.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=He.SELF_CLOSING_START_TAG;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=He.DATA,this.emitCurrentTagToken();break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(Jt.ERR.missingWhitespaceBetweenAttributes),this.state=He.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateSelfClosingStartTag",value:function(r){switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{const s=this.currentToken;s.selfClosing=!0,this.state=He.DATA,this.emitCurrentTagToken();break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(Jt.ERR.unexpectedSolidusInTag),this.state=He.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateBogusComment",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentComment(s);break}case Oe.CODE_POINTS.EOF:{this.emitCurrentComment(s),this._emitEOFToken();break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.data+=Oe.REPLACEMENT_CHARACTER;break}default:s.data+=String.fromCodePoint(r)}}},{key:"_stateMarkupDeclarationOpen",value:function(r){this._consumeSequenceIfMatch(Oe.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(Oe.SEQUENCES.DASH_DASH.length+1),this.state=He.COMMENT_START):this._consumeSequenceIfMatch(Oe.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Oe.SEQUENCES.DOCTYPE.length+1),this.state=He.DOCTYPE):this._consumeSequenceIfMatch(Oe.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=He.CDATA_SECTION:(this._err(Jt.ERR.cdataInHtmlContent),this._createCommentToken(Oe.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=He.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Jt.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r))}},{key:"_stateCommentStart",value:function(r){switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_START_DASH;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptClosingOfEmptyComment),this.state=He.DATA;const s=this.currentToken;this.emitCurrentComment(s);break}default:this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentStartDash",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptClosingOfEmptyComment),this.state=He.DATA,this.emitCurrentComment(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateComment",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END_DASH;break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{s.data+="<",this.state=He.COMMENT_LESS_THAN_SIGN;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.data+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+=String.fromCodePoint(r)}}},{key:"_stateCommentLessThanSign",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.EXCLAMATION_MARK:{s.data+="!",this.state=He.COMMENT_LESS_THAN_SIGN_BANG;break}case Oe.CODE_POINTS.LESS_THAN_SIGN:{s.data+="<";break}default:this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentLessThanSignBang",value:function(r){r===Oe.CODE_POINTS.HYPHEN_MINUS?this.state=He.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=He.COMMENT,this._stateComment(r))}},{key:"_stateCommentLessThanSignBangDash",value:function(r){r===Oe.CODE_POINTS.HYPHEN_MINUS?this.state=He.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=He.COMMENT_END_DASH,this._stateCommentEndDash(r))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(r){r!==Oe.CODE_POINTS.GREATER_THAN_SIGN&&r!==Oe.CODE_POINTS.EOF&&this._err(Jt.ERR.nestedComment),this.state=He.COMMENT_END,this._stateCommentEnd(r)}},{key:"_stateCommentEndDash",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEnd",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentComment(s);break}case Oe.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.COMMENT_END_BANG;break}case Oe.CODE_POINTS.HYPHEN_MINUS:{s.data+="-";break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEndBang",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.HYPHEN_MINUS:{s.data+="--!",this.state=He.COMMENT_END_DASH;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.incorrectlyClosedComment),this.state=He.DATA,this.emitCurrentComment(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--!",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateDoctype",value:function(r){switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_NAME;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingWhitespaceBeforeDoctypeName),this.state=He.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r)}}},{key:"_stateBeforeDoctypeName",value:function(r){if(nP(r))this._createDoctypeToken(String.fromCharCode(DB(r))),this.state=He.DOCTYPE_NAME;else switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),this._createDoctypeToken(Oe.REPLACEMENT_CHARACTER),this.state=He.DOCTYPE_NAME;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingDoctypeName),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(r)),this.state=He.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.AFTER_DOCTYPE_NAME;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.name+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.name+=String.fromCodePoint(nP(r)?DB(r):r)}}},{key:"_stateAfterDoctypeName",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Oe.SEQUENCES.PUBLIC,!1)?this.state=He.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Oe.SEQUENCES.SYSTEM,!1)?this.state=He.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Jt.ERR.invalidCharacterSequenceAfterDoctypeName),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Oe.CODE_POINTS.QUOTATION_MARK:{this._err(Jt.ERR.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{this._err(Jt.ERR.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.QUOTATION_MARK:{s.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{s.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.publicId+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(r)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.publicId+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.QUOTATION_MARK:{this._err(Jt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{this._err(Jt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.QUOTATION_MARK:{s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Oe.CODE_POINTS.QUOTATION_MARK:{this._err(Jt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{this._err(Jt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.QUOTATION_MARK:{s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Oe.CODE_POINTS.APOSTROPHE:{s.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(s);break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.systemId+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(r)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter),s.systemId+=Oe.REPLACEMENT_CHARACTER;break}case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this._err(Jt.ERR.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.SPACE:case Oe.CODE_POINTS.LINE_FEED:case Oe.CODE_POINTS.TABULATION:case Oe.CODE_POINTS.FORM_FEED:break;case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(Jt.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBogusDoctype",value:function(r){const s=this.currentToken;switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=He.DATA;break}case Oe.CODE_POINTS.NULL:{this._err(Jt.ERR.unexpectedNullCharacter);break}case Oe.CODE_POINTS.EOF:{this.emitCurrentDoctype(s),this._emitEOFToken();break}}}},{key:"_stateCdataSection",value:function(r){switch(r){case Oe.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=He.CDATA_SECTION_BRACKET;break}case Oe.CODE_POINTS.EOF:{this._err(Jt.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateCdataSectionBracket",value:function(r){r===Oe.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=He.CDATA_SECTION_END:(this._emitChars("]"),this.state=He.CDATA_SECTION,this._stateCdataSection(r))}},{key:"_stateCdataSectionEnd",value:function(r){switch(r){case Oe.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA;break}case Oe.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=He.CDATA_SECTION,this._stateCdataSection(r)}}},{key:"_stateCharacterReference",value:function(r){r===Oe.CODE_POINTS.NUMBER_SIGN?this.state=He.NUMERIC_CHARACTER_REFERENCE:dj(r)?(this.state=He.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(r)):(this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,r))}},{key:"_stateNamedCharacterReference",value:function(r){const s=this._matchNamedCharacterReference(r);if(!this._ensureHibernation())if(s){for(let a=0;a<s.length;a++)this._flushCodePointConsumedAsCharacterReference(s[a]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.AMPERSAND),this.state=He.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(r){dj(r)?this._flushCodePointConsumedAsCharacterReference(r):(r===Oe.CODE_POINTS.SEMICOLON&&this._err(Jt.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,r))}},{key:"_stateNumericCharacterReference",value:function(r){this.charRefCode=0,r===Oe.CODE_POINTS.LATIN_SMALL_X||r===Oe.CODE_POINTS.LATIN_CAPITAL_X?this.state=He.HEXADEMICAL_CHARACTER_REFERENCE_START:rP(r)?(this.state=He.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(r)):(this._err(Jt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,r))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(r){RMe(r)?(this.state=He.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(r)):(this._err(Jt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Oe.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}},{key:"_stateHexademicalCharacterReference",value:function(r){woe(r)?this.charRefCode=this.charRefCode*16+r-55:Coe(r)?this.charRefCode=this.charRefCode*16+r-87:rP(r)?this.charRefCode=this.charRefCode*16+r-48:r===Oe.CODE_POINTS.SEMICOLON?this.state=He.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Jt.ERR.missingSemicolonAfterCharacterReference),this.state=He.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateDecimalCharacterReference",value:function(r){rP(r)?this.charRefCode=this.charRefCode*10+r-48:r===Oe.CODE_POINTS.SEMICOLON?this.state=He.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Jt.ERR.missingSemicolonAfterCharacterReference),this.state=He.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateNumericCharacterReferenceEnd",value:function(r){if(this.charRefCode===Oe.CODE_POINTS.NULL)this._err(Jt.ERR.nullCharacterReference),this.charRefCode=Oe.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Jt.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=Oe.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,Oe.isSurrogate)(this.charRefCode))this._err(Jt.ERR.surrogateCharacterReference),this.charRefCode=Oe.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,Oe.isUndefinedCodePoint)(this.charRefCode))this._err(Jt.ERR.noncharacterCharacterReference);else if((0,Oe.isControlCodePoint)(this.charRefCode)||this.charRefCode===Oe.CODE_POINTS.CARRIAGE_RETURN){this._err(Jt.ERR.controlCharacterReference);const s=OMe.get(this.charRefCode);s!==void 0&&(this.charRefCode=s)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,r)}}]),e}();L_.Tokenizer=NMe;var OB={};Object.defineProperty(OB,"__esModule",{value:!0}),OB.OpenElementStack=void 0;const sr=tv,Doe=new Set([sr.TAG_ID.DD,sr.TAG_ID.DT,sr.TAG_ID.LI,sr.TAG_ID.OPTGROUP,sr.TAG_ID.OPTION,sr.TAG_ID.P,sr.TAG_ID.RB,sr.TAG_ID.RP,sr.TAG_ID.RT,sr.TAG_ID.RTC]),Ooe=new Set([...Doe,sr.TAG_ID.CAPTION,sr.TAG_ID.COLGROUP,sr.TAG_ID.TBODY,sr.TAG_ID.TD,sr.TAG_ID.TFOOT,sr.TAG_ID.TH,sr.TAG_ID.THEAD,sr.TAG_ID.TR]),kB=new Map([[sr.TAG_ID.APPLET,sr.NS.HTML],[sr.TAG_ID.CAPTION,sr.NS.HTML],[sr.TAG_ID.HTML,sr.NS.HTML],[sr.TAG_ID.MARQUEE,sr.NS.HTML],[sr.TAG_ID.OBJECT,sr.NS.HTML],[sr.TAG_ID.TABLE,sr.NS.HTML],[sr.TAG_ID.TD,sr.NS.HTML],[sr.TAG_ID.TEMPLATE,sr.NS.HTML],[sr.TAG_ID.TH,sr.NS.HTML],[sr.TAG_ID.ANNOTATION_XML,sr.NS.MATHML],[sr.TAG_ID.MI,sr.NS.MATHML],[sr.TAG_ID.MN,sr.NS.MATHML],[sr.TAG_ID.MO,sr.NS.MATHML],[sr.TAG_ID.MS,sr.NS.MATHML],[sr.TAG_ID.MTEXT,sr.NS.MATHML],[sr.TAG_ID.DESC,sr.NS.SVG],[sr.TAG_ID.FOREIGN_OBJECT,sr.NS.SVG],[sr.TAG_ID.TITLE,sr.NS.SVG]]),MMe=[sr.TAG_ID.H1,sr.TAG_ID.H2,sr.TAG_ID.H3,sr.TAG_ID.H4,sr.TAG_ID.H5,sr.TAG_ID.H6],LMe=[sr.TAG_ID.TR,sr.TAG_ID.TEMPLATE,sr.TAG_ID.HTML],FMe=[sr.TAG_ID.TBODY,sr.TAG_ID.TFOOT,sr.TAG_ID.THEAD,sr.TAG_ID.TEMPLATE,sr.TAG_ID.HTML],BMe=[sr.TAG_ID.TABLE,sr.TAG_ID.TEMPLATE,sr.TAG_ID.HTML],HMe=[sr.TAG_ID.TD,sr.TAG_ID.TH];let UMe=function(){function e(t,r,s){L(this,e),this.treeAdapter=r,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=sr.TAG_ID.UNKNOWN,this.current=t}return V(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(r){return this.items.lastIndexOf(r,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===sr.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===sr.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(r,s){this.stackTop++,this.items[this.stackTop]=r,this.current=r,this.tagIDs[this.stackTop]=s,this.currentTagId=s,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(r,s,!0)}},{key:"pop",value:function(){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!0)}},{key:"replace",value:function(r,s){const a=this._indexOf(r);this.items[a]=s,a===this.stackTop&&(this.current=s)}},{key:"insertAfter",value:function(r,s,a){const u=this._indexOf(r)+1;this.items.splice(u,0,s),this.tagIDs.splice(u,0,a),this.stackTop++,u===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,u===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(r){let s=this.stackTop+1;do s=this.tagIDs.lastIndexOf(r,s-1);while(s>0&&this.treeAdapter.getNamespaceURI(this.items[s])!==sr.NS.HTML);this.shortenToLength(s<0?0:s)}},{key:"shortenToLength",value:function(r){for(;this.stackTop>=r;){const s=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(s,this.stackTop<r)}}},{key:"popUntilElementPopped",value:function(r){const s=this._indexOf(r);this.shortenToLength(s<0?0:s)}},{key:"popUntilPopped",value:function(r,s){const a=this._indexOfTagNames(r,s);this.shortenToLength(a<0?0:a)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(MMe,sr.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(HMe,sr.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(r,s){for(let a=this.stackTop;a>=0;a--)if(r.includes(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===s)return a;return-1}},{key:"clearBackTo",value:function(r,s){const a=this._indexOfTagNames(r,s);this.shortenToLength(a+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo(BMe,sr.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(FMe,sr.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(LMe,sr.NS.HTML)}},{key:"remove",value:function(r){const s=this._indexOf(r);s>=0&&(s===this.stackTop?this.pop():(this.items.splice(s,1),this.tagIDs.splice(s,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===sr.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(r){return this._indexOf(r)>-1}},{key:"getCommonAncestor",value:function(r){const s=this._indexOf(r)-1;return s>=0?this.items[s]:null}},{key:"isRootHtmlElementCurrent",value:function(){return this.stackTop===0&&this.tagIDs[0]===sr.TAG_ID.HTML}},{key:"hasInScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===sr.NS.HTML)return!0;if(kB.get(a)===u)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r],a=this.treeAdapter.getNamespaceURI(this.items[r]);if((0,sr.isNumberedHeader)(s)&&a===sr.NS.HTML)return!0;if(kB.get(s)===a)return!1}return!0}},{key:"hasInListItemScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===sr.NS.HTML)return!0;if((a===sr.TAG_ID.UL||a===sr.TAG_ID.OL)&&u===sr.NS.HTML||kB.get(a)===u)return!1}return!0}},{key:"hasInButtonScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===sr.NS.HTML)return!0;if(a===sr.TAG_ID.BUTTON&&u===sr.NS.HTML||kB.get(a)===u)return!1}return!0}},{key:"hasInTableScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===sr.NS.HTML){if(a===r)return!0;if(a===sr.TAG_ID.TABLE||a===sr.TAG_ID.TEMPLATE||a===sr.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===sr.NS.HTML){if(s===sr.TAG_ID.TBODY||s===sr.TAG_ID.THEAD||s===sr.TAG_ID.TFOOT)return!0;if(s===sr.TAG_ID.TABLE||s===sr.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===sr.NS.HTML){if(a===r)return!0;if(a!==sr.TAG_ID.OPTION&&a!==sr.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;Doe.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;Ooe.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(r){for(;this.currentTagId!==r&&Ooe.has(this.currentTagId);)this.pop()}}]),e}();OB.OpenElementStack=UMe;var koe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;const t=3;var r;(function(u){u[u.Marker=0]="Marker",u[u.Element=1]="Element"})(r=e.EntryType||(e.EntryType={}));const s={type:r.Marker};let a=function(){function u(h){L(this,u),this.treeAdapter=h,this.entries=[],this.bookmark=null}return V(u,[{key:"_getNoahArkConditionCandidates",value:function(f,g){const v=[],p=g.length,E=this.treeAdapter.getTagName(f),T=this.treeAdapter.getNamespaceURI(f);for(let S=0;S<this.entries.length;S++){const x=this.entries[S];if(x.type===r.Marker)break;const{element:O}=x;if(this.treeAdapter.getTagName(O)===E&&this.treeAdapter.getNamespaceURI(O)===T){const P=this.treeAdapter.getAttrList(O);P.length===p&&v.push({idx:S,attrs:P})}}return v}},{key:"_ensureNoahArkCondition",value:function(f){if(this.entries.length<t)return;const g=this.treeAdapter.getAttrList(f),v=this._getNoahArkConditionCandidates(f,g);if(v.length<t)return;const p=new Map(g.map(T=>[T.name,T.value]));let E=0;for(let T=0;T<v.length;T++){const S=v[T];S.attrs.every(x=>p.get(x.name)===x.value)&&(E+=1,E>=t&&this.entries.splice(S.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(s)}},{key:"pushElement",value:function(f,g){this._ensureNoahArkCondition(f),this.entries.unshift({type:r.Element,element:f,token:g})}},{key:"insertElementAfterBookmark",value:function(f,g){const v=this.entries.indexOf(this.bookmark);this.entries.splice(v,0,{type:r.Element,element:f,token:g})}},{key:"removeEntry",value:function(f){const g=this.entries.indexOf(f);g>=0&&this.entries.splice(g,1)}},{key:"clearToLastMarker",value:function(){const f=this.entries.indexOf(s);f>=0?this.entries.splice(0,f+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(f){const g=this.entries.find(v=>v.type===r.Marker||this.treeAdapter.getTagName(v.element)===f);return g&&g.type===r.Element?g:null}},{key:"getElementEntry",value:function(f){return this.entries.find(g=>g.type===r.Element&&g.element===f)}}]),u}();e.FormattingElementList=a})(koe);var RB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=tv;function r(s){return{nodeName:"#text",value:s,parentNode:null}}e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(s,a,u){return{nodeName:s,tagName:s,attrs:u,namespaceURI:a,childNodes:[],parentNode:null}},createCommentNode(s){return{nodeName:"#comment",data:s,parentNode:null}},appendChild(s,a){s.childNodes.push(a),a.parentNode=s},insertBefore(s,a,u){const h=s.childNodes.indexOf(u);s.childNodes.splice(h,0,a),a.parentNode=s},setTemplateContent(s,a){s.content=a},getTemplateContent(s){return s.content},setDocumentType(s,a,u,h){const f=s.childNodes.find(g=>g.nodeName==="#documentType");if(f)f.name=a,f.publicId=u,f.systemId=h;else{const g={nodeName:"#documentType",name:a,publicId:u,systemId:h,parentNode:null};e.defaultTreeAdapter.appendChild(s,g)}},setDocumentMode(s,a){s.mode=a},getDocumentMode(s){return s.mode},detachNode(s){if(s.parentNode){const a=s.parentNode.childNodes.indexOf(s);s.parentNode.childNodes.splice(a,1),s.parentNode=null}},insertText(s,a){if(s.childNodes.length>0){const u=s.childNodes[s.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(u)){u.value+=a;return}}e.defaultTreeAdapter.appendChild(s,r(a))},insertTextBefore(s,a,u){const h=s.childNodes[s.childNodes.indexOf(u)-1];h&&e.defaultTreeAdapter.isTextNode(h)?h.value+=a:e.defaultTreeAdapter.insertBefore(s,r(a),u)},adoptAttributes(s,a){const u=new Set(s.attrs.map(h=>h.name));for(let h=0;h<a.length;h++)u.has(a[h].name)||s.attrs.push(a[h])},getFirstChild(s){return s.childNodes[0]},getChildNodes(s){return s.childNodes},getParentNode(s){return s.parentNode},getAttrList(s){return s.attrs},getTagName(s){return s.tagName},getNamespaceURI(s){return s.namespaceURI},getTextNodeContent(s){return s.value},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){return s.name},getDocumentTypeNodePublicId(s){return s.publicId},getDocumentTypeNodeSystemId(s){return s.systemId},isTextNode(s){return s.nodeName==="#text"},isCommentNode(s){return s.nodeName==="#comment"},isDocumentTypeNode(s){return s.nodeName==="#documentType"},isElementNode(s){return Object.prototype.hasOwnProperty.call(s,"tagName")},setNodeSourceCodeLocation(s,a){s.sourceCodeLocation=a},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,a){s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),a)}}})(RB);var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.getDocumentMode=Zw.isConforming=void 0;const Kw=tv,Roe="html",GMe="about:legacy-compat",$Me="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Poe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],zMe=[...Poe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],VMe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Noe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],jMe=[...Noe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Moe(e,t){return t.some(r=>e.startsWith(r))}function WMe(e){return e.name===Roe&&e.publicId===null&&(e.systemId===null||e.systemId===GMe)}Zw.isConforming=WMe;function XMe(e){if(e.name!==Roe)return Kw.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===$Me)return Kw.DOCUMENT_MODE.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),VMe.has(r))return Kw.DOCUMENT_MODE.QUIRKS;let s=t===null?zMe:Poe;if(Moe(r,s))return Kw.DOCUMENT_MODE.QUIRKS;if(s=t===null?Noe:jMe,Moe(r,s))return Kw.DOCUMENT_MODE.LIMITED_QUIRKS}return Kw.DOCUMENT_MODE.NO_QUIRKS}Zw.getDocumentMode=XMe;var pj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=tv,r={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s="definitionurl",a="definitionURL",u=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(P=>[P.toLowerCase(),P])),h=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(P=>[P.toLowerCase(),P]));const f=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function g(P){const M=P.tagID;return M===t.TAG_ID.FONT&&P.attrs.some(({name:B})=>B===t.ATTRS.COLOR||B===t.ATTRS.SIZE||B===t.ATTRS.FACE)||f.has(M)}e.causesExit=g;function v(P){for(let M=0;M<P.attrs.length;M++)if(P.attrs[M].name===s){P.attrs[M].name=a;break}}e.adjustTokenMathMLAttrs=v;function p(P){for(let M=0;M<P.attrs.length;M++){const G=u.get(P.attrs[M].name);G!=null&&(P.attrs[M].name=G)}}e.adjustTokenSVGAttrs=p;function E(P){for(let M=0;M<P.attrs.length;M++){const G=h.get(P.attrs[M].name);G&&(P.attrs[M].prefix=G.prefix,P.attrs[M].name=G.name,P.attrs[M].namespace=G.namespace)}}e.adjustTokenXMLAttrs=E;function T(P){const M=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(P.tagName);M!=null&&(P.tagName=M,P.tagID=(0,t.getTagID)(P.tagName))}e.adjustTokenSVGTagName=T;function S(P,M){return M===t.NS.MATHML&&(P===t.TAG_ID.MI||P===t.TAG_ID.MO||P===t.TAG_ID.MN||P===t.TAG_ID.MS||P===t.TAG_ID.MTEXT)}function x(P,M,G){if(M===t.NS.MATHML&&P===t.TAG_ID.ANNOTATION_XML){for(let B=0;B<G.length;B++)if(G[B].name===t.ATTRS.ENCODING){const U=G[B].value.toLowerCase();return U===r.TEXT_HTML||U===r.APPLICATION_XML}}return M===t.NS.SVG&&(P===t.TAG_ID.FOREIGN_OBJECT||P===t.TAG_ID.DESC||P===t.TAG_ID.TITLE)}function O(P,M,G,B){return(!B||B===t.NS.HTML)&&x(P,M,G)||(!B||B===t.NS.MATHML)&&S(P,M)}e.isIntegrationPoint=O})(pj),Object.defineProperty(eP,"__esModule",{value:!0}),eP.Parser=void 0;const uu=L_,YMe=OB,Loe=koe,qMe=RB,Foe=Zw,Xp=pj,qs=tP,Boe=xB,oe=tv,ls=IB,ZMe="hidden",KMe=8,QMe=3;var it;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(it||(it={}));const JMe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Hoe=new Set([oe.TAG_ID.TABLE,oe.TAG_ID.TBODY,oe.TAG_ID.TFOOT,oe.TAG_ID.THEAD,oe.TAG_ID.TR]),Uoe={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:qMe.defaultTreeAdapter,onParseError:null};let eLe=function(){function e(t,r,s=null,a=null){L(this,e),this.fragmentContext=s,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=it.INITIAL,this.originalInsertionMode=it.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},Uoe),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new uu.Tokenizer(this.options,this),this.activeFormattingElements=new Loe.FormattingElementList(this.treeAdapter),this.fragmentContextID=s?(0,oe.getTagID)(this.treeAdapter.getTagName(s)):oe.TAG_ID.UNKNOWN,this._setContextModes(s??this.document,this.fragmentContextID),this.openElements=new YMe.OpenElementStack(this.document,this.treeAdapter,this)}return V(e,[{key:"getFragment",value:function(){const r=this.treeAdapter.getFirstChild(this.document),s=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,s),s}},{key:"_err",value:function(r,s,a){var u;if(!this.onParseError)return;const h=(u=r.location)!==null&&u!==void 0?u:JMe,f={code:s,startLine:h.startLine,startCol:h.startCol,startOffset:h.startOffset,endLine:a?h.startLine:h.endLine,endCol:a?h.startCol:h.endCol,endOffset:a?h.startOffset:h.endOffset};this.onParseError(f)}},{key:"onItemPush",value:function(r,s,a){var u,h;(h=(u=this.treeAdapter).onItemPush)===null||h===void 0||h.call(u,r),a&&this.openElements.stackTop>0&&this._setContextModes(r,s)}},{key:"onItemPop",value:function(r,s){var a,u;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(r,this.currentToken),(u=(a=this.treeAdapter).onItemPop)===null||u===void 0||u.call(a,r,this.openElements.current),s){let h,f;this.openElements.stackTop===0&&this.fragmentContext?(h=this.fragmentContext,f=this.fragmentContextID):{current:h,currentTagId:f}=this.openElements,this._setContextModes(h,f)}}},{key:"_setContextModes",value:function(r,s){const a=r===this.document||this.treeAdapter.getNamespaceURI(r)===oe.NS.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&!this._isIntegrationPoint(s,r)}},{key:"_switchToTextParsing",value:function(r,s){this._insertElement(r,oe.NS.HTML),this.tokenizer.state=s,this.originalInsertionMode=this.insertionMode,this.insertionMode=it.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=it.TEXT,this.originalInsertionMode=it.IN_BODY,this.tokenizer.state=uu.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let r=this.fragmentContext;for(;r;){if(this.treeAdapter.getTagName(r)===oe.TAG_NAMES.FORM){this.formElement=r;break}r=this.treeAdapter.getParentNode(r)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==oe.NS.HTML))switch(this.fragmentContextID){case oe.TAG_ID.TITLE:case oe.TAG_ID.TEXTAREA:{this.tokenizer.state=uu.TokenizerMode.RCDATA;break}case oe.TAG_ID.STYLE:case oe.TAG_ID.XMP:case oe.TAG_ID.IFRAME:case oe.TAG_ID.NOEMBED:case oe.TAG_ID.NOFRAMES:case oe.TAG_ID.NOSCRIPT:{this.tokenizer.state=uu.TokenizerMode.RAWTEXT;break}case oe.TAG_ID.SCRIPT:{this.tokenizer.state=uu.TokenizerMode.SCRIPT_DATA;break}case oe.TAG_ID.PLAINTEXT:{this.tokenizer.state=uu.TokenizerMode.PLAINTEXT;break}}}},{key:"_setDocumentType",value:function(r){const s=r.name||"",a=r.publicId||"",u=r.systemId||"";if(this.treeAdapter.setDocumentType(this.document,s,a,u),r.location){const f=this.treeAdapter.getChildNodes(this.document).find(g=>this.treeAdapter.isDocumentTypeNode(g));f&&this.treeAdapter.setNodeSourceCodeLocation(f,r.location)}}},{key:"_attachElementToTree",value:function(r,s){if(this.options.sourceCodeLocationInfo){const a=s&&Object.assign(Object.assign({},s),{startTag:s});this.treeAdapter.setNodeSourceCodeLocation(r,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(r);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a,r)}}},{key:"_appendElement",value:function(r,s){const a=this.treeAdapter.createElement(r.tagName,s,r.attrs);this._attachElementToTree(a,r.location)}},{key:"_insertElement",value:function(r,s){const a=this.treeAdapter.createElement(r.tagName,s,r.attrs);this._attachElementToTree(a,r.location),this.openElements.push(a,r.tagID)}},{key:"_insertFakeElement",value:function(r,s){const a=this.treeAdapter.createElement(r,oe.NS.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,s)}},{key:"_insertTemplate",value:function(r){const s=this.treeAdapter.createElement(r.tagName,oe.NS.HTML,r.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(s,a),this._attachElementToTree(s,r.location),this.openElements.push(s,r.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}},{key:"_insertFakeRootElement",value:function(){const r=this.treeAdapter.createElement(oe.TAG_NAMES.HTML,oe.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null),this.treeAdapter.appendChild(this.openElements.current,r),this.openElements.push(r,oe.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(r,s){const a=this.treeAdapter.createCommentNode(r.data);this.treeAdapter.appendChild(s,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,r.location)}},{key:"_insertCharacters",value:function(r){let s,a;if(this._shouldFosterParentOnInsertion()?({parent:s,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(s,r.chars,a):this.treeAdapter.insertText(s,r.chars)):(s=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(s,r.chars)),!r.location)return;const u=this.treeAdapter.getChildNodes(s),h=a?u.lastIndexOf(a):u.length,f=u[h-1];if(this.treeAdapter.getNodeSourceCodeLocation(f)){const{endLine:v,endCol:p,endOffset:E}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(f,{endLine:v,endCol:p,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(f,r.location)}},{key:"_adoptNodes",value:function(r,s){for(let a=this.treeAdapter.getFirstChild(r);a;a=this.treeAdapter.getFirstChild(r))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(s,a)}},{key:"_setEndLocation",value:function(r,s){if(this.treeAdapter.getNodeSourceCodeLocation(r)&&s.location){const a=s.location,u=this.treeAdapter.getTagName(r),h=s.type===ls.TokenType.END_TAG&&u===s.tagName?{endTag:Object.assign({},a),endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(r,h)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(r){if(!this.currentNotInHTML)return!1;let s,a;return this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,r.tagID===oe.TAG_ID.SVG&&this.treeAdapter.getTagName(s)===oe.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(s)===oe.NS.MATHML?!1:this.tokenizer.inForeignNode||(r.tagID===oe.TAG_ID.MGLYPH||r.tagID===oe.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(a,s,oe.NS.HTML)}},{key:"_processToken",value:function(r){switch(r.type){case ls.TokenType.CHARACTER:{this.onCharacter(r);break}case ls.TokenType.NULL_CHARACTER:{this.onNullCharacter(r);break}case ls.TokenType.COMMENT:{this.onComment(r);break}case ls.TokenType.DOCTYPE:{this.onDoctype(r);break}case ls.TokenType.START_TAG:{this._processStartTag(r);break}case ls.TokenType.END_TAG:{this.onEndTag(r);break}case ls.TokenType.EOF:{this.onEof(r);break}case ls.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(r);break}}}},{key:"_isIntegrationPoint",value:function(r,s,a){const u=this.treeAdapter.getNamespaceURI(s),h=this.treeAdapter.getAttrList(s);return Xp.isIntegrationPoint(r,u,h,a)}},{key:"_reconstructActiveFormattingElements",value:function(){const r=this.activeFormattingElements.entries.length;if(r){const s=this.activeFormattingElements.entries.findIndex(u=>u.type===Loe.EntryType.Marker||this.openElements.contains(u.element)),a=s<0?r-1:s-1;for(let u=a;u>=0;u--){const h=this.activeFormattingElements.entries[u];this._insertElement(h.token,this.treeAdapter.getNamespaceURI(h.element)),h.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=it.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(oe.TAG_ID.P),this.openElements.popUntilTagNamePopped(oe.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let r=this.openElements.stackTop;r>=0;r--)switch(r===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[r]){case oe.TAG_ID.TR:{this.insertionMode=it.IN_ROW;return}case oe.TAG_ID.TBODY:case oe.TAG_ID.THEAD:case oe.TAG_ID.TFOOT:{this.insertionMode=it.IN_TABLE_BODY;return}case oe.TAG_ID.CAPTION:{this.insertionMode=it.IN_CAPTION;return}case oe.TAG_ID.COLGROUP:{this.insertionMode=it.IN_COLUMN_GROUP;return}case oe.TAG_ID.TABLE:{this.insertionMode=it.IN_TABLE;return}case oe.TAG_ID.BODY:{this.insertionMode=it.IN_BODY;return}case oe.TAG_ID.FRAMESET:{this.insertionMode=it.IN_FRAMESET;return}case oe.TAG_ID.SELECT:{this._resetInsertionModeForSelect(r);return}case oe.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case oe.TAG_ID.HTML:{this.insertionMode=this.headElement?it.AFTER_HEAD:it.BEFORE_HEAD;return}case oe.TAG_ID.TD:case oe.TAG_ID.TH:{if(r>0){this.insertionMode=it.IN_CELL;return}break}case oe.TAG_ID.HEAD:{if(r>0){this.insertionMode=it.IN_HEAD;return}break}}this.insertionMode=it.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(r){if(r>0)for(let s=r-1;s>0;s--){const a=this.openElements.tagIDs[s];if(a===oe.TAG_ID.TEMPLATE)break;if(a===oe.TAG_ID.TABLE){this.insertionMode=it.IN_SELECT_IN_TABLE;return}}this.insertionMode=it.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(r){return Hoe.has(r)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let r=this.openElements.stackTop;r>=0;r--){const s=this.openElements.items[r];switch(this.openElements.tagIDs[r]){case oe.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(s)===oe.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(s),beforeElement:null};break}case oe.TAG_ID.TABLE:{const a=this.treeAdapter.getParentNode(s);return a?{parent:a,beforeElement:s}:{parent:this.openElements.items[r-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(r){const s=this._findFosterParentingLocation();s.beforeElement?this.treeAdapter.insertBefore(s.parent,r,s.beforeElement):this.treeAdapter.appendChild(s.parent,r)}},{key:"_isSpecialElement",value:function(r,s){const a=this.treeAdapter.getNamespaceURI(r);return oe.SPECIAL_ELEMENTS[a].has(s)}},{key:"onCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){O5e(this,r);return}switch(this.insertionMode){case it.INITIAL:{iP(this,r);break}case it.BEFORE_HTML:{aP(this,r);break}case it.BEFORE_HEAD:{oP(this,r);break}case it.IN_HEAD:{sP(this,r);break}case it.IN_HEAD_NO_SCRIPT:{lP(this,r);break}case it.AFTER_HEAD:{uP(this,r);break}case it.IN_BODY:case it.IN_CAPTION:case it.IN_CELL:case it.IN_TEMPLATE:{$oe(this,r);break}case it.TEXT:case it.IN_SELECT:case it.IN_SELECT_IN_TABLE:{this._insertCharacters(r);break}case it.IN_TABLE:case it.IN_TABLE_BODY:case it.IN_ROW:{yj(this,r);break}case it.IN_TABLE_TEXT:{Zoe(this,r);break}case it.IN_COLUMN_GROUP:{MB(this,r);break}case it.AFTER_BODY:{BB(this,r);break}case it.AFTER_AFTER_BODY:{HB(this,r);break}}}},{key:"onNullCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){D5e(this,r);return}switch(this.insertionMode){case it.INITIAL:{iP(this,r);break}case it.BEFORE_HTML:{aP(this,r);break}case it.BEFORE_HEAD:{oP(this,r);break}case it.IN_HEAD:{sP(this,r);break}case it.IN_HEAD_NO_SCRIPT:{lP(this,r);break}case it.AFTER_HEAD:{uP(this,r);break}case it.TEXT:{this._insertCharacters(r);break}case it.IN_TABLE:case it.IN_TABLE_BODY:case it.IN_ROW:{yj(this,r);break}case it.IN_COLUMN_GROUP:{MB(this,r);break}case it.AFTER_BODY:{BB(this,r);break}case it.AFTER_AFTER_BODY:{HB(this,r);break}}}},{key:"onComment",value:function(r){if(this.skipNextNewLine=!1,this.currentNotInHTML){gj(this,r);return}switch(this.insertionMode){case it.INITIAL:case it.BEFORE_HTML:case it.BEFORE_HEAD:case it.IN_HEAD:case it.IN_HEAD_NO_SCRIPT:case it.AFTER_HEAD:case it.IN_BODY:case it.IN_TABLE:case it.IN_CAPTION:case it.IN_COLUMN_GROUP:case it.IN_TABLE_BODY:case it.IN_ROW:case it.IN_CELL:case it.IN_SELECT:case it.IN_SELECT_IN_TABLE:case it.IN_TEMPLATE:case it.IN_FRAMESET:case it.AFTER_FRAMESET:{gj(this,r);break}case it.IN_TABLE_TEXT:{fP(this,r);break}case it.AFTER_BODY:{sLe(this,r);break}case it.AFTER_AFTER_BODY:case it.AFTER_AFTER_FRAMESET:{lLe(this,r);break}}}},{key:"onDoctype",value:function(r){switch(this.skipNextNewLine=!1,this.insertionMode){case it.INITIAL:{uLe(this,r);break}case it.BEFORE_HEAD:case it.IN_HEAD:case it.IN_HEAD_NO_SCRIPT:case it.AFTER_HEAD:{this._err(r,qs.ERR.misplacedDoctype);break}case it.IN_TABLE_TEXT:{fP(this,r);break}}}},{key:"onStartTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this._processStartTag(r),r.selfClosing&&!r.ackSelfClosing&&this._err(r,qs.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(r){this.shouldProcessStartTagTokenInForeignContent(r)?k5e(this,r):this._startTagOutsideForeignContent(r)}},{key:"_startTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case it.INITIAL:{iP(this,r);break}case it.BEFORE_HTML:{cLe(this,r);break}case it.BEFORE_HEAD:{fLe(this,r);break}case it.IN_HEAD:{ad(this,r);break}case it.IN_HEAD_NO_SCRIPT:{mLe(this,r);break}case it.AFTER_HEAD:{vLe(this,r);break}case it.IN_BODY:{Al(this,r);break}case it.IN_TABLE:{Qw(this,r);break}case it.IN_TABLE_TEXT:{fP(this,r);break}case it.IN_CAPTION:{d5e(this,r);break}case it.IN_COLUMN_GROUP:{bj(this,r);break}case it.IN_TABLE_BODY:{LB(this,r);break}case it.IN_ROW:{FB(this,r);break}case it.IN_CELL:{g5e(this,r);break}case it.IN_SELECT:{Joe(this,r);break}case it.IN_SELECT_IN_TABLE:{y5e(this,r);break}case it.IN_TEMPLATE:{_5e(this,r);break}case it.AFTER_BODY:{E5e(this,r);break}case it.IN_FRAMESET:{S5e(this,r);break}case it.AFTER_FRAMESET:{w5e(this,r);break}case it.AFTER_AFTER_BODY:{x5e(this,r);break}case it.AFTER_AFTER_FRAMESET:{I5e(this,r);break}}}},{key:"onEndTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this.currentNotInHTML?R5e(this,r):this._endTagOutsideForeignContent(r)}},{key:"_endTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case it.INITIAL:{iP(this,r);break}case it.BEFORE_HTML:{hLe(this,r);break}case it.BEFORE_HEAD:{dLe(this,r);break}case it.IN_HEAD:{pLe(this,r);break}case it.IN_HEAD_NO_SCRIPT:{gLe(this,r);break}case it.AFTER_HEAD:{yLe(this,r);break}case it.IN_BODY:{NB(this,r);break}case it.TEXT:{n5e(this,r);break}case it.IN_TABLE:{cP(this,r);break}case it.IN_TABLE_TEXT:{fP(this,r);break}case it.IN_CAPTION:{p5e(this,r);break}case it.IN_COLUMN_GROUP:{m5e(this,r);break}case it.IN_TABLE_BODY:{_j(this,r);break}case it.IN_ROW:{Qoe(this,r);break}case it.IN_CELL:{v5e(this,r);break}case it.IN_SELECT:{ese(this,r);break}case it.IN_SELECT_IN_TABLE:{b5e(this,r);break}case it.IN_TEMPLATE:{T5e(this,r);break}case it.AFTER_BODY:{rse(this,r);break}case it.IN_FRAMESET:{A5e(this,r);break}case it.AFTER_FRAMESET:{C5e(this,r);break}case it.AFTER_AFTER_BODY:{HB(this,r);break}}}},{key:"onEof",value:function(r){switch(this.insertionMode){case it.INITIAL:{iP(this,r);break}case it.BEFORE_HTML:{aP(this,r);break}case it.BEFORE_HEAD:{oP(this,r);break}case it.IN_HEAD:{sP(this,r);break}case it.IN_HEAD_NO_SCRIPT:{lP(this,r);break}case it.AFTER_HEAD:{uP(this,r);break}case it.IN_BODY:case it.IN_TABLE:case it.IN_CAPTION:case it.IN_COLUMN_GROUP:case it.IN_TABLE_BODY:case it.IN_ROW:case it.IN_CELL:case it.IN_SELECT:case it.IN_SELECT_IN_TABLE:{Yoe(this,r);break}case it.TEXT:{i5e(this,r);break}case it.IN_TABLE_TEXT:{fP(this,r);break}case it.IN_TEMPLATE:{tse(this,r);break}case it.AFTER_BODY:case it.IN_FRAMESET:case it.AFTER_FRAMESET:case it.AFTER_AFTER_BODY:case it.AFTER_AFTER_FRAMESET:{vj(this,r);break}}}},{key:"onWhitespaceCharacter",value:function(r){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,r.chars.charCodeAt(0)===Boe.CODE_POINTS.LINE_FEED)){if(r.chars.length===1)return;r.chars=r.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(r);return}switch(this.insertionMode){case it.IN_HEAD:case it.IN_HEAD_NO_SCRIPT:case it.AFTER_HEAD:case it.TEXT:case it.IN_COLUMN_GROUP:case it.IN_SELECT:case it.IN_SELECT_IN_TABLE:case it.IN_FRAMESET:case it.AFTER_FRAMESET:{this._insertCharacters(r);break}case it.IN_BODY:case it.IN_CAPTION:case it.IN_CELL:case it.IN_TEMPLATE:case it.AFTER_BODY:case it.AFTER_AFTER_BODY:case it.AFTER_AFTER_FRAMESET:{Goe(this,r);break}case it.IN_TABLE:case it.IN_TABLE_BODY:case it.IN_ROW:{yj(this,r);break}case it.IN_TABLE_TEXT:{qoe(this,r);break}}}}],[{key:"parse",value:function(r,s){const a=new this(s);return a.tokenizer.write(r,!0),a.document}},{key:"getFragmentParser",value:function(r,s){const a=Object.assign(Object.assign({},Uoe),s);r??(r=a.treeAdapter.createElement(oe.TAG_NAMES.TEMPLATE,oe.NS.HTML,[]));const u=a.treeAdapter.createElement("documentmock",oe.NS.HTML,[]),h=new this(a,u,r);return h.fragmentContextID===oe.TAG_ID.TEMPLATE&&h.tmplInsertionModeStack.unshift(it.IN_TEMPLATE),h._initTokenizerForFragmentParsing(),h._insertFakeRootElement(),h._resetInsertionMode(),h._findFormInFragmentContext(),h}}]),e}();eP.Parser=eLe;function tLe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):Xoe(e,t),r}function rLe(e,t){let r=null,s=e.openElements.stackTop;for(;s>=0;s--){const a=e.openElements.items[s];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[s])&&(r=a)}return r||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),r}function nLe(e,t,r){let s=t,a=e.openElements.getCommonAncestor(t);for(let u=0,h=a;h!==r;u++,h=a){a=e.openElements.getCommonAncestor(h);const f=e.activeFormattingElements.getElementEntry(h),g=f&&u>=QMe;!f||g?(g&&e.activeFormattingElements.removeEntry(f),e.openElements.remove(h)):(h=iLe(e,f),s===t&&(e.activeFormattingElements.bookmark=f),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(h,s),s=h)}return s}function iLe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s}function aLe(e,t,r){const s=e.treeAdapter.getTagName(t),a=(0,oe.getTagID)(s);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const u=e.treeAdapter.getNamespaceURI(t);a===oe.TAG_ID.TEMPLATE&&u===oe.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function oLe(e,t,r){const s=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,u=e.treeAdapter.createElement(a.tagName,s,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,u,a.tagID)}function mj(e,t){for(let r=0;r<KMe;r++){const s=tLe(e,t);if(!s)break;const a=rLe(e,s);if(!a)break;e.activeFormattingElements.bookmark=s;const u=nLe(e,a,s.element),h=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(u),h&&aLe(e,h,u),oLe(e,a,s)}}function gj(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function sLe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function lLe(e,t){e._appendCommentNode(t,e.document)}function vj(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=r;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(s);if(a&&!a.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],h=e.treeAdapter.getNodeSourceCodeLocation(u);h&&!h.endTag&&e._setEndLocation(u,t)}}}}function uLe(e,t){e._setDocumentType(t);const r=t.forceQuirks?oe.DOCUMENT_MODE.QUIRKS:Foe.getDocumentMode(t);Foe.isConforming(t)||e._err(t,qs.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=it.BEFORE_HTML}function iP(e,t){e._err(t,qs.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,oe.DOCUMENT_MODE.QUIRKS),e.insertionMode=it.BEFORE_HTML,e._processToken(t)}function cLe(e,t){t.tagID===oe.TAG_ID.HTML?(e._insertElement(t,oe.NS.HTML),e.insertionMode=it.BEFORE_HEAD):aP(e,t)}function hLe(e,t){const r=t.tagID;(r===oe.TAG_ID.HTML||r===oe.TAG_ID.HEAD||r===oe.TAG_ID.BODY||r===oe.TAG_ID.BR)&&aP(e,t)}function aP(e,t){e._insertFakeRootElement(),e.insertionMode=it.BEFORE_HEAD,e._processToken(t)}function fLe(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.HEAD:{e._insertElement(t,oe.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=it.IN_HEAD;break}default:oP(e,t)}}function dLe(e,t){const r=t.tagID;r===oe.TAG_ID.HEAD||r===oe.TAG_ID.BODY||r===oe.TAG_ID.HTML||r===oe.TAG_ID.BR?oP(e,t):e._err(t,qs.ERR.endTagWithoutMatchingOpenElement)}function oP(e,t){e._insertFakeElement(oe.TAG_NAMES.HEAD,oe.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=it.IN_HEAD,e._processToken(t)}function ad(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.BASE:case oe.TAG_ID.BASEFONT:case oe.TAG_ID.BGSOUND:case oe.TAG_ID.LINK:case oe.TAG_ID.META:{e._appendElement(t,oe.NS.HTML),t.ackSelfClosing=!0;break}case oe.TAG_ID.TITLE:{e._switchToTextParsing(t,uu.TokenizerMode.RCDATA);break}case oe.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,uu.TokenizerMode.RAWTEXT):(e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_HEAD_NO_SCRIPT);break}case oe.TAG_ID.NOFRAMES:case oe.TAG_ID.STYLE:{e._switchToTextParsing(t,uu.TokenizerMode.RAWTEXT);break}case oe.TAG_ID.SCRIPT:{e._switchToTextParsing(t,uu.TokenizerMode.SCRIPT_DATA);break}case oe.TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=it.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(it.IN_TEMPLATE);break}case oe.TAG_ID.HEAD:{e._err(t,qs.ERR.misplacedStartTagForHeadElement);break}default:sP(e,t)}}function pLe(e,t){switch(t.tagID){case oe.TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=it.AFTER_HEAD;break}case oe.TAG_ID.BODY:case oe.TAG_ID.BR:case oe.TAG_ID.HTML:{sP(e,t);break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}default:e._err(t,qs.ERR.endTagWithoutMatchingOpenElement)}}function F_(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==oe.TAG_ID.TEMPLATE&&e._err(t,qs.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(oe.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,qs.ERR.endTagWithoutMatchingOpenElement)}function sP(e,t){e.openElements.pop(),e.insertionMode=it.AFTER_HEAD,e._processToken(t)}function mLe(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.BASEFONT:case oe.TAG_ID.BGSOUND:case oe.TAG_ID.HEAD:case oe.TAG_ID.LINK:case oe.TAG_ID.META:case oe.TAG_ID.NOFRAMES:case oe.TAG_ID.STYLE:{ad(e,t);break}case oe.TAG_ID.NOSCRIPT:{e._err(t,qs.ERR.nestedNoscriptInHead);break}default:lP(e,t)}}function gLe(e,t){switch(t.tagID){case oe.TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=it.IN_HEAD;break}case oe.TAG_ID.BR:{lP(e,t);break}default:e._err(t,qs.ERR.endTagWithoutMatchingOpenElement)}}function lP(e,t){const r=t.type===ls.TokenType.EOF?qs.ERR.openElementsLeftAfterEof:qs.ERR.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=it.IN_HEAD,e._processToken(t)}function vLe(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.BODY:{e._insertElement(t,oe.NS.HTML),e.framesetOk=!1,e.insertionMode=it.IN_BODY;break}case oe.TAG_ID.FRAMESET:{e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_FRAMESET;break}case oe.TAG_ID.BASE:case oe.TAG_ID.BASEFONT:case oe.TAG_ID.BGSOUND:case oe.TAG_ID.LINK:case oe.TAG_ID.META:case oe.TAG_ID.NOFRAMES:case oe.TAG_ID.SCRIPT:case oe.TAG_ID.STYLE:case oe.TAG_ID.TEMPLATE:case oe.TAG_ID.TITLE:{e._err(t,qs.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,oe.TAG_ID.HEAD),ad(e,t),e.openElements.remove(e.headElement);break}case oe.TAG_ID.HEAD:{e._err(t,qs.ERR.misplacedStartTagForHeadElement);break}default:uP(e,t)}}function yLe(e,t){switch(t.tagID){case oe.TAG_ID.BODY:case oe.TAG_ID.HTML:case oe.TAG_ID.BR:{uP(e,t);break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}default:e._err(t,qs.ERR.endTagWithoutMatchingOpenElement)}}function uP(e,t){e._insertFakeElement(oe.TAG_NAMES.BODY,oe.TAG_ID.BODY),e.insertionMode=it.IN_BODY,PB(e,t)}function PB(e,t){switch(t.type){case ls.TokenType.CHARACTER:{$oe(e,t);break}case ls.TokenType.WHITESPACE_CHARACTER:{Goe(e,t);break}case ls.TokenType.COMMENT:{gj(e,t);break}case ls.TokenType.START_TAG:{Al(e,t);break}case ls.TokenType.END_TAG:{NB(e,t);break}case ls.TokenType.EOF:{Yoe(e,t);break}}}function Goe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function $oe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function bLe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function _Le(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function TLe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_FRAMESET)}function ELe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML)}function SLe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),(0,oe.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,oe.NS.HTML)}function ALe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function wLe(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML),r||(e.formElement=e.openElements.current))}function CLe(e,t){e.framesetOk=!1;const r=t.tagID;for(let s=e.openElements.stackTop;s>=0;s--){const a=e.openElements.tagIDs[s];if(r===oe.TAG_ID.LI&&a===oe.TAG_ID.LI||(r===oe.TAG_ID.DD||r===oe.TAG_ID.DT)&&(a===oe.TAG_ID.DD||a===oe.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==oe.TAG_ID.ADDRESS&&a!==oe.TAG_ID.DIV&&a!==oe.TAG_ID.P&&e._isSpecialElement(e.openElements.items[s],a))break}e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML)}function xLe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML),e.tokenizer.state=uu.TokenizerMode.PLAINTEXT}function ILe(e,t){e.openElements.hasInScope(oe.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(oe.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML),e.framesetOk=!1}function DLe(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(oe.TAG_NAMES.A);r&&(mj(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function OLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kLe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(oe.TAG_ID.NOBR)&&(mj(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,oe.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function RLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function PLe(e,t){e.treeAdapter.getDocumentMode(e.document)!==oe.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._insertElement(t,oe.NS.HTML),e.framesetOk=!1,e.insertionMode=it.IN_TABLE}function zoe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Voe(e){const t=(0,ls.getTokenAttr)(e,oe.ATTRS.TYPE);return t!=null&&t.toLowerCase()===ZMe}function NLe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.NS.HTML),Voe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function MLe(e,t){e._appendElement(t,oe.NS.HTML),t.ackSelfClosing=!0}function LLe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._appendElement(t,oe.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function FLe(e,t){t.tagName=oe.TAG_NAMES.IMG,t.tagID=oe.TAG_ID.IMG,zoe(e,t)}function BLe(e,t){e._insertElement(t,oe.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=uu.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=it.TEXT}function HLe(e,t){e.openElements.hasInButtonScope(oe.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,uu.TokenizerMode.RAWTEXT)}function ULe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,uu.TokenizerMode.RAWTEXT)}function joe(e,t){e._switchToTextParsing(t,uu.TokenizerMode.RAWTEXT)}function GLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===it.IN_TABLE||e.insertionMode===it.IN_CAPTION||e.insertionMode===it.IN_TABLE_BODY||e.insertionMode===it.IN_ROW||e.insertionMode===it.IN_CELL?it.IN_SELECT_IN_TABLE:it.IN_SELECT}function $Le(e,t){e.openElements.currentTagId===oe.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML)}function zLe(e,t){e.openElements.hasInScope(oe.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,oe.NS.HTML)}function VLe(e,t){e.openElements.hasInScope(oe.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(oe.TAG_ID.RTC),e._insertElement(t,oe.NS.HTML)}function jLe(e,t){e._reconstructActiveFormattingElements(),Xp.adjustTokenMathMLAttrs(t),Xp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,oe.NS.MATHML):e._insertElement(t,oe.NS.MATHML),t.ackSelfClosing=!0}function WLe(e,t){e._reconstructActiveFormattingElements(),Xp.adjustTokenSVGAttrs(t),Xp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,oe.NS.SVG):e._insertElement(t,oe.NS.SVG),t.ackSelfClosing=!0}function Woe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.NS.HTML)}function Al(e,t){switch(t.tagID){case oe.TAG_ID.I:case oe.TAG_ID.S:case oe.TAG_ID.B:case oe.TAG_ID.U:case oe.TAG_ID.EM:case oe.TAG_ID.TT:case oe.TAG_ID.BIG:case oe.TAG_ID.CODE:case oe.TAG_ID.FONT:case oe.TAG_ID.SMALL:case oe.TAG_ID.STRIKE:case oe.TAG_ID.STRONG:{OLe(e,t);break}case oe.TAG_ID.A:{DLe(e,t);break}case oe.TAG_ID.H1:case oe.TAG_ID.H2:case oe.TAG_ID.H3:case oe.TAG_ID.H4:case oe.TAG_ID.H5:case oe.TAG_ID.H6:{SLe(e,t);break}case oe.TAG_ID.P:case oe.TAG_ID.DL:case oe.TAG_ID.OL:case oe.TAG_ID.UL:case oe.TAG_ID.DIV:case oe.TAG_ID.DIR:case oe.TAG_ID.NAV:case oe.TAG_ID.MAIN:case oe.TAG_ID.MENU:case oe.TAG_ID.ASIDE:case oe.TAG_ID.CENTER:case oe.TAG_ID.FIGURE:case oe.TAG_ID.FOOTER:case oe.TAG_ID.HEADER:case oe.TAG_ID.HGROUP:case oe.TAG_ID.DIALOG:case oe.TAG_ID.DETAILS:case oe.TAG_ID.ADDRESS:case oe.TAG_ID.ARTICLE:case oe.TAG_ID.SECTION:case oe.TAG_ID.SUMMARY:case oe.TAG_ID.FIELDSET:case oe.TAG_ID.BLOCKQUOTE:case oe.TAG_ID.FIGCAPTION:{ELe(e,t);break}case oe.TAG_ID.LI:case oe.TAG_ID.DD:case oe.TAG_ID.DT:{CLe(e,t);break}case oe.TAG_ID.BR:case oe.TAG_ID.IMG:case oe.TAG_ID.WBR:case oe.TAG_ID.AREA:case oe.TAG_ID.EMBED:case oe.TAG_ID.KEYGEN:{zoe(e,t);break}case oe.TAG_ID.HR:{LLe(e,t);break}case oe.TAG_ID.RB:case oe.TAG_ID.RTC:{zLe(e,t);break}case oe.TAG_ID.RT:case oe.TAG_ID.RP:{VLe(e,t);break}case oe.TAG_ID.PRE:case oe.TAG_ID.LISTING:{ALe(e,t);break}case oe.TAG_ID.XMP:{HLe(e,t);break}case oe.TAG_ID.SVG:{WLe(e,t);break}case oe.TAG_ID.HTML:{bLe(e,t);break}case oe.TAG_ID.BASE:case oe.TAG_ID.LINK:case oe.TAG_ID.META:case oe.TAG_ID.STYLE:case oe.TAG_ID.TITLE:case oe.TAG_ID.SCRIPT:case oe.TAG_ID.BGSOUND:case oe.TAG_ID.BASEFONT:case oe.TAG_ID.TEMPLATE:{ad(e,t);break}case oe.TAG_ID.BODY:{_Le(e,t);break}case oe.TAG_ID.FORM:{wLe(e,t);break}case oe.TAG_ID.NOBR:{kLe(e,t);break}case oe.TAG_ID.MATH:{jLe(e,t);break}case oe.TAG_ID.TABLE:{PLe(e,t);break}case oe.TAG_ID.INPUT:{NLe(e,t);break}case oe.TAG_ID.PARAM:case oe.TAG_ID.TRACK:case oe.TAG_ID.SOURCE:{MLe(e,t);break}case oe.TAG_ID.IMAGE:{FLe(e,t);break}case oe.TAG_ID.BUTTON:{ILe(e,t);break}case oe.TAG_ID.APPLET:case oe.TAG_ID.OBJECT:case oe.TAG_ID.MARQUEE:{RLe(e,t);break}case oe.TAG_ID.IFRAME:{ULe(e,t);break}case oe.TAG_ID.SELECT:{GLe(e,t);break}case oe.TAG_ID.OPTION:case oe.TAG_ID.OPTGROUP:{$Le(e,t);break}case oe.TAG_ID.NOEMBED:{joe(e,t);break}case oe.TAG_ID.FRAMESET:{TLe(e,t);break}case oe.TAG_ID.TEXTAREA:{BLe(e,t);break}case oe.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?joe(e,t):Woe(e,t);break}case oe.TAG_ID.PLAINTEXT:{xLe(e,t);break}case oe.TAG_ID.COL:case oe.TAG_ID.TH:case oe.TAG_ID.TD:case oe.TAG_ID.TR:case oe.TAG_ID.HEAD:case oe.TAG_ID.FRAME:case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:case oe.TAG_ID.CAPTION:case oe.TAG_ID.COLGROUP:break;default:Woe(e,t)}}function XLe(e,t){if(e.openElements.hasInScope(oe.TAG_ID.BODY)&&(e.insertionMode=it.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function YLe(e,t){e.openElements.hasInScope(oe.TAG_ID.BODY)&&(e.insertionMode=it.AFTER_BODY,rse(e,t))}function qLe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function ZLe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(oe.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(oe.TAG_ID.FORM):r&&e.openElements.remove(r))}function KLe(e){e.openElements.hasInButtonScope(oe.TAG_ID.P)||e._insertFakeElement(oe.TAG_NAMES.P,oe.TAG_ID.P),e._closePElement()}function QLe(e){e.openElements.hasInListItemScope(oe.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(oe.TAG_ID.LI),e.openElements.popUntilTagNamePopped(oe.TAG_ID.LI))}function JLe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function e5e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function t5e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function r5e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(oe.TAG_NAMES.BR,oe.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function Xoe(e,t){const r=t.tagName,s=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],h=e.openElements.tagIDs[a];if(s===h&&(s!==oe.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(u)===r)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,h))break}}function NB(e,t){switch(t.tagID){case oe.TAG_ID.A:case oe.TAG_ID.B:case oe.TAG_ID.I:case oe.TAG_ID.S:case oe.TAG_ID.U:case oe.TAG_ID.EM:case oe.TAG_ID.TT:case oe.TAG_ID.BIG:case oe.TAG_ID.CODE:case oe.TAG_ID.FONT:case oe.TAG_ID.NOBR:case oe.TAG_ID.SMALL:case oe.TAG_ID.STRIKE:case oe.TAG_ID.STRONG:{mj(e,t);break}case oe.TAG_ID.P:{KLe(e);break}case oe.TAG_ID.DL:case oe.TAG_ID.UL:case oe.TAG_ID.OL:case oe.TAG_ID.DIR:case oe.TAG_ID.DIV:case oe.TAG_ID.NAV:case oe.TAG_ID.PRE:case oe.TAG_ID.MAIN:case oe.TAG_ID.MENU:case oe.TAG_ID.ASIDE:case oe.TAG_ID.BUTTON:case oe.TAG_ID.CENTER:case oe.TAG_ID.FIGURE:case oe.TAG_ID.FOOTER:case oe.TAG_ID.HEADER:case oe.TAG_ID.HGROUP:case oe.TAG_ID.DIALOG:case oe.TAG_ID.ADDRESS:case oe.TAG_ID.ARTICLE:case oe.TAG_ID.DETAILS:case oe.TAG_ID.SECTION:case oe.TAG_ID.SUMMARY:case oe.TAG_ID.LISTING:case oe.TAG_ID.FIELDSET:case oe.TAG_ID.BLOCKQUOTE:case oe.TAG_ID.FIGCAPTION:{qLe(e,t);break}case oe.TAG_ID.LI:{QLe(e);break}case oe.TAG_ID.DD:case oe.TAG_ID.DT:{JLe(e,t);break}case oe.TAG_ID.H1:case oe.TAG_ID.H2:case oe.TAG_ID.H3:case oe.TAG_ID.H4:case oe.TAG_ID.H5:case oe.TAG_ID.H6:{e5e(e);break}case oe.TAG_ID.BR:{r5e(e);break}case oe.TAG_ID.BODY:{XLe(e,t);break}case oe.TAG_ID.HTML:{YLe(e,t);break}case oe.TAG_ID.FORM:{ZLe(e);break}case oe.TAG_ID.APPLET:case oe.TAG_ID.OBJECT:case oe.TAG_ID.MARQUEE:{t5e(e,t);break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}default:Xoe(e,t)}}function Yoe(e,t){e.tmplInsertionModeStack.length>0?tse(e,t):vj(e,t)}function n5e(e,t){var r;t.tagID===oe.TAG_ID.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function i5e(e,t){e._err(t,qs.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function yj(e,t){if(Hoe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=it.IN_TABLE_TEXT,t.type){case ls.TokenType.CHARACTER:{Zoe(e,t);break}case ls.TokenType.WHITESPACE_CHARACTER:{qoe(e,t);break}}else hP(e,t)}function a5e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_CAPTION}function o5e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_COLUMN_GROUP}function s5e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(oe.TAG_NAMES.COLGROUP,oe.TAG_ID.COLGROUP),e.insertionMode=it.IN_COLUMN_GROUP,bj(e,t)}function l5e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_TABLE_BODY}function u5e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(oe.TAG_NAMES.TBODY,oe.TAG_ID.TBODY),e.insertionMode=it.IN_TABLE_BODY,LB(e,t)}function c5e(e,t){e.openElements.hasInTableScope(oe.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(oe.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function h5e(e,t){Voe(t)?e._appendElement(t,oe.NS.HTML):hP(e,t),t.ackSelfClosing=!0}function f5e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,oe.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Qw(e,t){switch(t.tagID){case oe.TAG_ID.TD:case oe.TAG_ID.TH:case oe.TAG_ID.TR:{u5e(e,t);break}case oe.TAG_ID.STYLE:case oe.TAG_ID.SCRIPT:case oe.TAG_ID.TEMPLATE:{ad(e,t);break}case oe.TAG_ID.COL:{s5e(e,t);break}case oe.TAG_ID.FORM:{f5e(e,t);break}case oe.TAG_ID.TABLE:{c5e(e,t);break}case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:{l5e(e,t);break}case oe.TAG_ID.INPUT:{h5e(e,t);break}case oe.TAG_ID.CAPTION:{a5e(e,t);break}case oe.TAG_ID.COLGROUP:{o5e(e,t);break}default:hP(e,t)}}function cP(e,t){switch(t.tagID){case oe.TAG_ID.TABLE:{e.openElements.hasInTableScope(oe.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(oe.TAG_ID.TABLE),e._resetInsertionMode());break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}case oe.TAG_ID.BODY:case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.HTML:case oe.TAG_ID.TBODY:case oe.TAG_ID.TD:case oe.TAG_ID.TFOOT:case oe.TAG_ID.TH:case oe.TAG_ID.THEAD:case oe.TAG_ID.TR:break;default:hP(e,t)}}function hP(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,PB(e,t),e.fosterParentingEnabled=r}function qoe(e,t){e.pendingCharacterTokens.push(t)}function Zoe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function fP(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)hP(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Koe=new Set([oe.TAG_ID.CAPTION,oe.TAG_ID.COL,oe.TAG_ID.COLGROUP,oe.TAG_ID.TBODY,oe.TAG_ID.TD,oe.TAG_ID.TFOOT,oe.TAG_ID.TH,oe.TAG_ID.THEAD,oe.TAG_ID.TR]);function d5e(e,t){const r=t.tagID;Koe.has(r)?e.openElements.hasInTableScope(oe.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(oe.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=it.IN_TABLE,Qw(e,t)):Al(e,t)}function p5e(e,t){const r=t.tagID;switch(r){case oe.TAG_ID.CAPTION:case oe.TAG_ID.TABLE:{e.openElements.hasInTableScope(oe.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(oe.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=it.IN_TABLE,r===oe.TAG_ID.TABLE&&cP(e,t));break}case oe.TAG_ID.BODY:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.HTML:case oe.TAG_ID.TBODY:case oe.TAG_ID.TD:case oe.TAG_ID.TFOOT:case oe.TAG_ID.TH:case oe.TAG_ID.THEAD:case oe.TAG_ID.TR:break;default:NB(e,t)}}function bj(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.COL:{e._appendElement(t,oe.NS.HTML),t.ackSelfClosing=!0;break}case oe.TAG_ID.TEMPLATE:{ad(e,t);break}default:MB(e,t)}}function m5e(e,t){switch(t.tagID){case oe.TAG_ID.COLGROUP:{e.openElements.currentTagId===oe.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=it.IN_TABLE);break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}case oe.TAG_ID.COL:break;default:MB(e,t)}}function MB(e,t){e.openElements.currentTagId===oe.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=it.IN_TABLE,e._processToken(t))}function LB(e,t){switch(t.tagID){case oe.TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_ROW;break}case oe.TAG_ID.TH:case oe.TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(oe.TAG_NAMES.TR,oe.TAG_ID.TR),e.insertionMode=it.IN_ROW,FB(e,t);break}case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE,Qw(e,t));break}default:Qw(e,t)}}function _j(e,t){const r=t.tagID;switch(t.tagID){case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE);break}case oe.TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE,cP(e,t));break}case oe.TAG_ID.BODY:case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.HTML:case oe.TAG_ID.TD:case oe.TAG_ID.TH:case oe.TAG_ID.TR:break;default:cP(e,t)}}function FB(e,t){switch(t.tagID){case oe.TAG_ID.TH:case oe.TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,oe.NS.HTML),e.insertionMode=it.IN_CELL,e.activeFormattingElements.insertMarker();break}case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:case oe.TAG_ID.TR:{e.openElements.hasInTableScope(oe.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE_BODY,LB(e,t));break}default:Qw(e,t)}}function Qoe(e,t){switch(t.tagID){case oe.TAG_ID.TR:{e.openElements.hasInTableScope(oe.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE_BODY);break}case oe.TAG_ID.TABLE:{e.openElements.hasInTableScope(oe.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE_BODY,_j(e,t));break}case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(oe.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=it.IN_TABLE_BODY,_j(e,t));break}case oe.TAG_ID.BODY:case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.HTML:case oe.TAG_ID.TD:case oe.TAG_ID.TH:break;default:cP(e,t)}}function g5e(e,t){const r=t.tagID;Koe.has(r)?(e.openElements.hasInTableScope(oe.TAG_ID.TD)||e.openElements.hasInTableScope(oe.TAG_ID.TH))&&(e._closeTableCell(),FB(e,t)):Al(e,t)}function v5e(e,t){const r=t.tagID;switch(r){case oe.TAG_ID.TD:case oe.TAG_ID.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=it.IN_ROW);break}case oe.TAG_ID.TABLE:case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:case oe.TAG_ID.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),Qoe(e,t));break}case oe.TAG_ID.BODY:case oe.TAG_ID.CAPTION:case oe.TAG_ID.COL:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.HTML:break;default:NB(e,t)}}function Joe(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.OPTION:{e.openElements.currentTagId===oe.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,oe.NS.HTML);break}case oe.TAG_ID.OPTGROUP:{e.openElements.currentTagId===oe.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===oe.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,oe.NS.HTML);break}case oe.TAG_ID.INPUT:case oe.TAG_ID.KEYGEN:case oe.TAG_ID.TEXTAREA:case oe.TAG_ID.SELECT:{e.openElements.hasInSelectScope(oe.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(oe.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==oe.TAG_ID.SELECT&&e._processStartTag(t));break}case oe.TAG_ID.SCRIPT:case oe.TAG_ID.TEMPLATE:{ad(e,t);break}}}function ese(e,t){switch(t.tagID){case oe.TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===oe.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===oe.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===oe.TAG_ID.OPTGROUP&&e.openElements.pop();break}case oe.TAG_ID.OPTION:{e.openElements.currentTagId===oe.TAG_ID.OPTION&&e.openElements.pop();break}case oe.TAG_ID.SELECT:{e.openElements.hasInSelectScope(oe.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(oe.TAG_ID.SELECT),e._resetInsertionMode());break}case oe.TAG_ID.TEMPLATE:{F_(e,t);break}}}function y5e(e,t){const r=t.tagID;r===oe.TAG_ID.CAPTION||r===oe.TAG_ID.TABLE||r===oe.TAG_ID.TBODY||r===oe.TAG_ID.TFOOT||r===oe.TAG_ID.THEAD||r===oe.TAG_ID.TR||r===oe.TAG_ID.TD||r===oe.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(oe.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Joe(e,t)}function b5e(e,t){const r=t.tagID;r===oe.TAG_ID.CAPTION||r===oe.TAG_ID.TABLE||r===oe.TAG_ID.TBODY||r===oe.TAG_ID.TFOOT||r===oe.TAG_ID.THEAD||r===oe.TAG_ID.TR||r===oe.TAG_ID.TD||r===oe.TAG_ID.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(oe.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):ese(e,t)}function _5e(e,t){switch(t.tagID){case oe.TAG_ID.BASE:case oe.TAG_ID.BASEFONT:case oe.TAG_ID.BGSOUND:case oe.TAG_ID.LINK:case oe.TAG_ID.META:case oe.TAG_ID.NOFRAMES:case oe.TAG_ID.SCRIPT:case oe.TAG_ID.STYLE:case oe.TAG_ID.TEMPLATE:case oe.TAG_ID.TITLE:{ad(e,t);break}case oe.TAG_ID.CAPTION:case oe.TAG_ID.COLGROUP:case oe.TAG_ID.TBODY:case oe.TAG_ID.TFOOT:case oe.TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=it.IN_TABLE,e.insertionMode=it.IN_TABLE,Qw(e,t);break}case oe.TAG_ID.COL:{e.tmplInsertionModeStack[0]=it.IN_COLUMN_GROUP,e.insertionMode=it.IN_COLUMN_GROUP,bj(e,t);break}case oe.TAG_ID.TR:{e.tmplInsertionModeStack[0]=it.IN_TABLE_BODY,e.insertionMode=it.IN_TABLE_BODY,LB(e,t);break}case oe.TAG_ID.TD:case oe.TAG_ID.TH:{e.tmplInsertionModeStack[0]=it.IN_ROW,e.insertionMode=it.IN_ROW,FB(e,t);break}default:e.tmplInsertionModeStack[0]=it.IN_BODY,e.insertionMode=it.IN_BODY,Al(e,t)}}function T5e(e,t){t.tagID===oe.TAG_ID.TEMPLATE&&F_(e,t)}function tse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(oe.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):vj(e,t)}function E5e(e,t){t.tagID===oe.TAG_ID.HTML?Al(e,t):BB(e,t)}function rse(e,t){var r;if(t.tagID===oe.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=it.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===oe.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const s=e.openElements.items[1];s&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(s))===null||r===void 0)&&r.endTag)&&e._setEndLocation(s,t)}}else BB(e,t)}function BB(e,t){e.insertionMode=it.IN_BODY,PB(e,t)}function S5e(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.FRAMESET:{e._insertElement(t,oe.NS.HTML);break}case oe.TAG_ID.FRAME:{e._appendElement(t,oe.NS.HTML),t.ackSelfClosing=!0;break}case oe.TAG_ID.NOFRAMES:{ad(e,t);break}}}function A5e(e,t){t.tagID===oe.TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==oe.TAG_ID.FRAMESET&&(e.insertionMode=it.AFTER_FRAMESET))}function w5e(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.NOFRAMES:{ad(e,t);break}}}function C5e(e,t){t.tagID===oe.TAG_ID.HTML&&(e.insertionMode=it.AFTER_AFTER_FRAMESET)}function x5e(e,t){t.tagID===oe.TAG_ID.HTML?Al(e,t):HB(e,t)}function HB(e,t){e.insertionMode=it.IN_BODY,PB(e,t)}function I5e(e,t){switch(t.tagID){case oe.TAG_ID.HTML:{Al(e,t);break}case oe.TAG_ID.NOFRAMES:{ad(e,t);break}}}function D5e(e,t){t.chars=Boe.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function O5e(e,t){e._insertCharacters(t),e.framesetOk=!1}function nse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==oe.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function k5e(e,t){if(Xp.causesExit(t))nse(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(r);s===oe.NS.MATHML?Xp.adjustTokenMathMLAttrs(t):s===oe.NS.SVG&&(Xp.adjustTokenSVGTagName(t),Xp.adjustTokenSVGAttrs(t)),Xp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0}}function R5e(e,t){if(t.tagID===oe.TAG_ID.P||t.tagID===oe.TAG_ID.BR){nse(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const s=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(s)===oe.NS.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(s);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}var Jw={};Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.serializeOuter=Jw.serialize=void 0;const Ia=tv,ise=Nw,P5e=RB,N5e=new Set([Ia.TAG_NAMES.AREA,Ia.TAG_NAMES.BASE,Ia.TAG_NAMES.BASEFONT,Ia.TAG_NAMES.BGSOUND,Ia.TAG_NAMES.BR,Ia.TAG_NAMES.COL,Ia.TAG_NAMES.EMBED,Ia.TAG_NAMES.FRAME,Ia.TAG_NAMES.HR,Ia.TAG_NAMES.IMG,Ia.TAG_NAMES.INPUT,Ia.TAG_NAMES.KEYGEN,Ia.TAG_NAMES.LINK,Ia.TAG_NAMES.META,Ia.TAG_NAMES.PARAM,Ia.TAG_NAMES.SOURCE,Ia.TAG_NAMES.TRACK,Ia.TAG_NAMES.WBR]);function ase(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Ia.NS.HTML&&N5e.has(t.treeAdapter.getTagName(e))}const ose={treeAdapter:P5e.defaultTreeAdapter,scriptingEnabled:!0};function M5e(e,t){const r=Object.assign(Object.assign({},ose),t);return ase(e,r)?"":sse(e,r)}Jw.serialize=M5e;function L5e(e,t){const r=Object.assign(Object.assign({},ose),t);return lse(e,r)}Jw.serializeOuter=L5e;function sse(e,t){let r="";const s=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===Ia.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Ia.NS.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(s);if(a)for(const u of a)r+=lse(u,t);return r}function lse(e,t){return t.treeAdapter.isElementNode(e)?F5e(e,t):t.treeAdapter.isTextNode(e)?H5e(e,t):t.treeAdapter.isCommentNode(e)?U5e(e,t):t.treeAdapter.isDocumentTypeNode(e)?G5e(e,t):""}function F5e(e,t){const r=t.treeAdapter.getTagName(e);return`<${r}${B5e(e,t)}>${ase(e,t)?"":`${sse(e,t)}</${r}>`}`}function B5e(e,{treeAdapter:t}){let r="";for(const s of t.getAttrList(e)){if(r+=" ",!s.namespace)r+=s.name;else switch(s.namespace){case Ia.NS.XML:{r+=`xml:${s.name}`;break}case Ia.NS.XMLNS:{s.name!=="xmlns"&&(r+="xmlns:"),r+=s.name;break}case Ia.NS.XLINK:{r+=`xlink:${s.name}`;break}default:r+=`${s.prefix}:${s.name}`}r+=`="${(0,ise.escapeAttribute)(s.value)}"`}return r}function H5e(e,t){const{treeAdapter:r}=t,s=r.getTextNodeContent(e),a=r.getParentNode(e),u=a&&r.isElementNode(a)&&r.getTagName(a);return u&&r.getNamespaceURI(a)===Ia.NS.HTML&&(0,Ia.hasUnescapedText)(u,t.scriptingEnabled)?s:(0,ise.escapeText)(s)}function U5e(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function G5e(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=eP;var r=RB;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return r.defaultTreeAdapter}});var s=eP;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=Jw;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return a.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return a.serializeOuter}});var u=tP;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return u.ERR}}),e.foreignContent=pj,e.html=tv,e.Token=IB;var h=L_;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return h.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return h.TokenizerMode}});function f(v,p){return t.Parser.parse(v,p)}e.parse=f;function g(v,p,E){typeof v=="string"&&(E=p,p=v,v=null);const T=t.Parser.getFragmentParser(v,E);return T.tokenizer.write(p,!0),T.getFragment()}e.parseFragment=g})(Aoe);var use={},cse={},dP={},B_={},UB={},GB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);e.REPLACEMENT_CHARACTER="",function(f){f[f.EOF=-1]="EOF",f[f.NULL=0]="NULL",f[f.TABULATION=9]="TABULATION",f[f.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",f[f.LINE_FEED=10]="LINE_FEED",f[f.FORM_FEED=12]="FORM_FEED",f[f.SPACE=32]="SPACE",f[f.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",f[f.QUOTATION_MARK=34]="QUOTATION_MARK",f[f.NUMBER_SIGN=35]="NUMBER_SIGN",f[f.AMPERSAND=38]="AMPERSAND",f[f.APOSTROPHE=39]="APOSTROPHE",f[f.HYPHEN_MINUS=45]="HYPHEN_MINUS",f[f.SOLIDUS=47]="SOLIDUS",f[f.DIGIT_0=48]="DIGIT_0",f[f.DIGIT_9=57]="DIGIT_9",f[f.SEMICOLON=59]="SEMICOLON",f[f.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",f[f.EQUALS_SIGN=61]="EQUALS_SIGN",f[f.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",f[f.QUESTION_MARK=63]="QUESTION_MARK",f[f.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",f[f.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",f[f.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",f[f.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",f[f.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",f[f.GRAVE_ACCENT=96]="GRAVE_ACCENT",f[f.LATIN_SMALL_A=97]="LATIN_SMALL_A",f[f.LATIN_SMALL_F=102]="LATIN_SMALL_F",f[f.LATIN_SMALL_X=120]="LATIN_SMALL_X",f[f.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",f[f.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(e.CODE_POINTS||(e.CODE_POINTS={})),e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function r(f){return f>=55296&&f<=57343}e.isSurrogate=r;function s(f){return f>=56320&&f<=57343}e.isSurrogatePair=s;function a(f,g){return(f-55296)*1024+9216+g}e.getSurrogatePairCodePoint=a;function u(f){return f!==32&&f!==10&&f!==13&&f!==9&&f!==12&&f>=1&&f<=31||f>=127&&f<=159}e.isControlCodePoint=u;function h(f){return f>=64976&&f<=65007||t.has(f)}e.isUndefinedCodePoint=h})(GB);var pP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(e.ERR||(e.ERR={}))})(pP),Object.defineProperty(UB,"__esModule",{value:!0}),UB.Preprocessor=void 0;const cu=GB,Tj=pP,$5e=65536;let z5e=function(){function e(t){L(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=$5e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return V(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(r){const{line:s,col:a,offset:u}=this;return{code:r,startLine:s,endLine:s,startCol:a,endCol:a,startOffset:u,endOffset:u}}},{key:"_err",value:function(r){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(r)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(r){if(this.pos!==this.html.length-1){const s=this.html.charCodeAt(this.pos+1);if((0,cu.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,cu.getSurrogatePairCodePoint)(r,s)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,cu.CODE_POINTS.EOF;return this._err(Tj.ERR.surrogateInInputStream),r}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(r,s){this.html.length>0?this.html+=r:this.html=r,this.endOfChunkHit=!1,this.lastChunkWritten=s}},{key:"insertHtmlAtCurrentPos",value:function(r){this.html=this.html.substring(0,this.pos+1)+r+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(r,s){if(this.pos+r.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(r,this.pos);for(let a=0;a<r.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==r.charCodeAt(a))return!1;return!0}},{key:"peek",value:function(r){const s=this.pos+r;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,cu.CODE_POINTS.EOF;const a=this.html.charCodeAt(s);return a===cu.CODE_POINTS.CARRIAGE_RETURN?cu.CODE_POINTS.LINE_FEED:a}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,cu.CODE_POINTS.EOF;let r=this.html.charCodeAt(this.pos);return r===cu.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,cu.CODE_POINTS.LINE_FEED):r===cu.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,cu.isSurrogate)(r)&&(r=this._processSurrogate(r)),this.handler.onParseError===null||r>31&&r<127||r===cu.CODE_POINTS.LINE_FEED||r===cu.CODE_POINTS.CARRIAGE_RETURN||r>159&&r<64976||this._checkForProblematicCharacters(r),r)}},{key:"_checkForProblematicCharacters",value:function(r){(0,cu.isControlCodePoint)(r)?this._err(Tj.ERR.controlCharacterInInputStream):(0,cu.isUndefinedCodePoint)(r)&&this._err(Tj.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(r){for(this.pos-=r;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e}();UB.Preprocessor=z5e;var $B={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"}(e.TokenType||(e.TokenType={}));function t(r,s){for(let a=r.attrs.length-1;a>=0;a--)if(r.attrs[a].name===s)return r.attrs[a].value;return null}e.getTokenAttr=t})($B);var rv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0;var t;(function(p){p.HTML="http://www.w3.org/1999/xhtml",p.MATHML="http://www.w3.org/1998/Math/MathML",p.SVG="http://www.w3.org/2000/svg",p.XLINK="http://www.w3.org/1999/xlink",p.XML="http://www.w3.org/XML/1998/namespace",p.XMLNS="http://www.w3.org/2000/xmlns/"})(t=e.NS||(e.NS={})),function(p){p.TYPE="type",p.ACTION="action",p.ENCODING="encoding",p.PROMPT="prompt",p.NAME="name",p.COLOR="color",p.FACE="face",p.SIZE="size"}(e.ATTRS||(e.ATTRS={})),function(p){p.NO_QUIRKS="no-quirks",p.QUIRKS="quirks",p.LIMITED_QUIRKS="limited-quirks"}(e.DOCUMENT_MODE||(e.DOCUMENT_MODE={}));var r;(function(p){p.A="a",p.ADDRESS="address",p.ANNOTATION_XML="annotation-xml",p.APPLET="applet",p.AREA="area",p.ARTICLE="article",p.ASIDE="aside",p.B="b",p.BASE="base",p.BASEFONT="basefont",p.BGSOUND="bgsound",p.BIG="big",p.BLOCKQUOTE="blockquote",p.BODY="body",p.BR="br",p.BUTTON="button",p.CAPTION="caption",p.CENTER="center",p.CODE="code",p.COL="col",p.COLGROUP="colgroup",p.DD="dd",p.DESC="desc",p.DETAILS="details",p.DIALOG="dialog",p.DIR="dir",p.DIV="div",p.DL="dl",p.DT="dt",p.EM="em",p.EMBED="embed",p.FIELDSET="fieldset",p.FIGCAPTION="figcaption",p.FIGURE="figure",p.FONT="font",p.FOOTER="footer",p.FOREIGN_OBJECT="foreignObject",p.FORM="form",p.FRAME="frame",p.FRAMESET="frameset",p.H1="h1",p.H2="h2",p.H3="h3",p.H4="h4",p.H5="h5",p.H6="h6",p.HEAD="head",p.HEADER="header",p.HGROUP="hgroup",p.HR="hr",p.HTML="html",p.I="i",p.IMG="img",p.IMAGE="image",p.INPUT="input",p.IFRAME="iframe",p.KEYGEN="keygen",p.LABEL="label",p.LI="li",p.LINK="link",p.LISTING="listing",p.MAIN="main",p.MALIGNMARK="malignmark",p.MARQUEE="marquee",p.MATH="math",p.MENU="menu",p.META="meta",p.MGLYPH="mglyph",p.MI="mi",p.MO="mo",p.MN="mn",p.MS="ms",p.MTEXT="mtext",p.NAV="nav",p.NOBR="nobr",p.NOFRAMES="noframes",p.NOEMBED="noembed",p.NOSCRIPT="noscript",p.OBJECT="object",p.OL="ol",p.OPTGROUP="optgroup",p.OPTION="option",p.P="p",p.PARAM="param",p.PLAINTEXT="plaintext",p.PRE="pre",p.RB="rb",p.RP="rp",p.RT="rt",p.RTC="rtc",p.RUBY="ruby",p.S="s",p.SCRIPT="script",p.SECTION="section",p.SELECT="select",p.SOURCE="source",p.SMALL="small",p.SPAN="span",p.STRIKE="strike",p.STRONG="strong",p.STYLE="style",p.SUB="sub",p.SUMMARY="summary",p.SUP="sup",p.TABLE="table",p.TBODY="tbody",p.TEMPLATE="template",p.TEXTAREA="textarea",p.TFOOT="tfoot",p.TD="td",p.TH="th",p.THEAD="thead",p.TITLE="title",p.TR="tr",p.TRACK="track",p.TT="tt",p.U="u",p.UL="ul",p.SVG="svg",p.VAR="var",p.WBR="wbr",p.XMP="xmp"})(r=e.TAG_NAMES||(e.TAG_NAMES={}));var s;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.A=1]="A",p[p.ADDRESS=2]="ADDRESS",p[p.ANNOTATION_XML=3]="ANNOTATION_XML",p[p.APPLET=4]="APPLET",p[p.AREA=5]="AREA",p[p.ARTICLE=6]="ARTICLE",p[p.ASIDE=7]="ASIDE",p[p.B=8]="B",p[p.BASE=9]="BASE",p[p.BASEFONT=10]="BASEFONT",p[p.BGSOUND=11]="BGSOUND",p[p.BIG=12]="BIG",p[p.BLOCKQUOTE=13]="BLOCKQUOTE",p[p.BODY=14]="BODY",p[p.BR=15]="BR",p[p.BUTTON=16]="BUTTON",p[p.CAPTION=17]="CAPTION",p[p.CENTER=18]="CENTER",p[p.CODE=19]="CODE",p[p.COL=20]="COL",p[p.COLGROUP=21]="COLGROUP",p[p.DD=22]="DD",p[p.DESC=23]="DESC",p[p.DETAILS=24]="DETAILS",p[p.DIALOG=25]="DIALOG",p[p.DIR=26]="DIR",p[p.DIV=27]="DIV",p[p.DL=28]="DL",p[p.DT=29]="DT",p[p.EM=30]="EM",p[p.EMBED=31]="EMBED",p[p.FIELDSET=32]="FIELDSET",p[p.FIGCAPTION=33]="FIGCAPTION",p[p.FIGURE=34]="FIGURE",p[p.FONT=35]="FONT",p[p.FOOTER=36]="FOOTER",p[p.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",p[p.FORM=38]="FORM",p[p.FRAME=39]="FRAME",p[p.FRAMESET=40]="FRAMESET",p[p.H1=41]="H1",p[p.H2=42]="H2",p[p.H3=43]="H3",p[p.H4=44]="H4",p[p.H5=45]="H5",p[p.H6=46]="H6",p[p.HEAD=47]="HEAD",p[p.HEADER=48]="HEADER",p[p.HGROUP=49]="HGROUP",p[p.HR=50]="HR",p[p.HTML=51]="HTML",p[p.I=52]="I",p[p.IMG=53]="IMG",p[p.IMAGE=54]="IMAGE",p[p.INPUT=55]="INPUT",p[p.IFRAME=56]="IFRAME",p[p.KEYGEN=57]="KEYGEN",p[p.LABEL=58]="LABEL",p[p.LI=59]="LI",p[p.LINK=60]="LINK",p[p.LISTING=61]="LISTING",p[p.MAIN=62]="MAIN",p[p.MALIGNMARK=63]="MALIGNMARK",p[p.MARQUEE=64]="MARQUEE",p[p.MATH=65]="MATH",p[p.MENU=66]="MENU",p[p.META=67]="META",p[p.MGLYPH=68]="MGLYPH",p[p.MI=69]="MI",p[p.MO=70]="MO",p[p.MN=71]="MN",p[p.MS=72]="MS",p[p.MTEXT=73]="MTEXT",p[p.NAV=74]="NAV",p[p.NOBR=75]="NOBR",p[p.NOFRAMES=76]="NOFRAMES",p[p.NOEMBED=77]="NOEMBED",p[p.NOSCRIPT=78]="NOSCRIPT",p[p.OBJECT=79]="OBJECT",p[p.OL=80]="OL",p[p.OPTGROUP=81]="OPTGROUP",p[p.OPTION=82]="OPTION",p[p.P=83]="P",p[p.PARAM=84]="PARAM",p[p.PLAINTEXT=85]="PLAINTEXT",p[p.PRE=86]="PRE",p[p.RB=87]="RB",p[p.RP=88]="RP",p[p.RT=89]="RT",p[p.RTC=90]="RTC",p[p.RUBY=91]="RUBY",p[p.S=92]="S",p[p.SCRIPT=93]="SCRIPT",p[p.SECTION=94]="SECTION",p[p.SELECT=95]="SELECT",p[p.SOURCE=96]="SOURCE",p[p.SMALL=97]="SMALL",p[p.SPAN=98]="SPAN",p[p.STRIKE=99]="STRIKE",p[p.STRONG=100]="STRONG",p[p.STYLE=101]="STYLE",p[p.SUB=102]="SUB",p[p.SUMMARY=103]="SUMMARY",p[p.SUP=104]="SUP",p[p.TABLE=105]="TABLE",p[p.TBODY=106]="TBODY",p[p.TEMPLATE=107]="TEMPLATE",p[p.TEXTAREA=108]="TEXTAREA",p[p.TFOOT=109]="TFOOT",p[p.TD=110]="TD",p[p.TH=111]="TH",p[p.THEAD=112]="THEAD",p[p.TITLE=113]="TITLE",p[p.TR=114]="TR",p[p.TRACK=115]="TRACK",p[p.TT=116]="TT",p[p.U=117]="U",p[p.UL=118]="UL",p[p.SVG=119]="SVG",p[p.VAR=120]="VAR",p[p.WBR=121]="WBR",p[p.XMP=122]="XMP"})(s=e.TAG_ID||(e.TAG_ID={}));const a=new Map([[r.A,s.A],[r.ADDRESS,s.ADDRESS],[r.ANNOTATION_XML,s.ANNOTATION_XML],[r.APPLET,s.APPLET],[r.AREA,s.AREA],[r.ARTICLE,s.ARTICLE],[r.ASIDE,s.ASIDE],[r.B,s.B],[r.BASE,s.BASE],[r.BASEFONT,s.BASEFONT],[r.BGSOUND,s.BGSOUND],[r.BIG,s.BIG],[r.BLOCKQUOTE,s.BLOCKQUOTE],[r.BODY,s.BODY],[r.BR,s.BR],[r.BUTTON,s.BUTTON],[r.CAPTION,s.CAPTION],[r.CENTER,s.CENTER],[r.CODE,s.CODE],[r.COL,s.COL],[r.COLGROUP,s.COLGROUP],[r.DD,s.DD],[r.DESC,s.DESC],[r.DETAILS,s.DETAILS],[r.DIALOG,s.DIALOG],[r.DIR,s.DIR],[r.DIV,s.DIV],[r.DL,s.DL],[r.DT,s.DT],[r.EM,s.EM],[r.EMBED,s.EMBED],[r.FIELDSET,s.FIELDSET],[r.FIGCAPTION,s.FIGCAPTION],[r.FIGURE,s.FIGURE],[r.FONT,s.FONT],[r.FOOTER,s.FOOTER],[r.FOREIGN_OBJECT,s.FOREIGN_OBJECT],[r.FORM,s.FORM],[r.FRAME,s.FRAME],[r.FRAMESET,s.FRAMESET],[r.H1,s.H1],[r.H2,s.H2],[r.H3,s.H3],[r.H4,s.H4],[r.H5,s.H5],[r.H6,s.H6],[r.HEAD,s.HEAD],[r.HEADER,s.HEADER],[r.HGROUP,s.HGROUP],[r.HR,s.HR],[r.HTML,s.HTML],[r.I,s.I],[r.IMG,s.IMG],[r.IMAGE,s.IMAGE],[r.INPUT,s.INPUT],[r.IFRAME,s.IFRAME],[r.KEYGEN,s.KEYGEN],[r.LABEL,s.LABEL],[r.LI,s.LI],[r.LINK,s.LINK],[r.LISTING,s.LISTING],[r.MAIN,s.MAIN],[r.MALIGNMARK,s.MALIGNMARK],[r.MARQUEE,s.MARQUEE],[r.MATH,s.MATH],[r.MENU,s.MENU],[r.META,s.META],[r.MGLYPH,s.MGLYPH],[r.MI,s.MI],[r.MO,s.MO],[r.MN,s.MN],[r.MS,s.MS],[r.MTEXT,s.MTEXT],[r.NAV,s.NAV],[r.NOBR,s.NOBR],[r.NOFRAMES,s.NOFRAMES],[r.NOEMBED,s.NOEMBED],[r.NOSCRIPT,s.NOSCRIPT],[r.OBJECT,s.OBJECT],[r.OL,s.OL],[r.OPTGROUP,s.OPTGROUP],[r.OPTION,s.OPTION],[r.P,s.P],[r.PARAM,s.PARAM],[r.PLAINTEXT,s.PLAINTEXT],[r.PRE,s.PRE],[r.RB,s.RB],[r.RP,s.RP],[r.RT,s.RT],[r.RTC,s.RTC],[r.RUBY,s.RUBY],[r.S,s.S],[r.SCRIPT,s.SCRIPT],[r.SECTION,s.SECTION],[r.SELECT,s.SELECT],[r.SOURCE,s.SOURCE],[r.SMALL,s.SMALL],[r.SPAN,s.SPAN],[r.STRIKE,s.STRIKE],[r.STRONG,s.STRONG],[r.STYLE,s.STYLE],[r.SUB,s.SUB],[r.SUMMARY,s.SUMMARY],[r.SUP,s.SUP],[r.TABLE,s.TABLE],[r.TBODY,s.TBODY],[r.TEMPLATE,s.TEMPLATE],[r.TEXTAREA,s.TEXTAREA],[r.TFOOT,s.TFOOT],[r.TD,s.TD],[r.TH,s.TH],[r.THEAD,s.THEAD],[r.TITLE,s.TITLE],[r.TR,s.TR],[r.TRACK,s.TRACK],[r.TT,s.TT],[r.U,s.U],[r.UL,s.UL],[r.SVG,s.SVG],[r.VAR,s.VAR],[r.WBR,s.WBR],[r.XMP,s.XMP]]);function u(p){var E;return(E=a.get(p))!==null&&E!==void 0?E:s.UNKNOWN}e.getTagID=u;const h=s;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([h.ADDRESS,h.APPLET,h.AREA,h.ARTICLE,h.ASIDE,h.BASE,h.BASEFONT,h.BGSOUND,h.BLOCKQUOTE,h.BODY,h.BR,h.BUTTON,h.CAPTION,h.CENTER,h.COL,h.COLGROUP,h.DD,h.DETAILS,h.DIR,h.DIV,h.DL,h.DT,h.EMBED,h.FIELDSET,h.FIGCAPTION,h.FIGURE,h.FOOTER,h.FORM,h.FRAME,h.FRAMESET,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HEADER,h.HGROUP,h.HR,h.HTML,h.IFRAME,h.IMG,h.INPUT,h.LI,h.LINK,h.LISTING,h.MAIN,h.MARQUEE,h.MENU,h.META,h.NAV,h.NOEMBED,h.NOFRAMES,h.NOSCRIPT,h.OBJECT,h.OL,h.P,h.PARAM,h.PLAINTEXT,h.PRE,h.SCRIPT,h.SECTION,h.SELECT,h.SOURCE,h.STYLE,h.SUMMARY,h.TABLE,h.TBODY,h.TD,h.TEMPLATE,h.TEXTAREA,h.TFOOT,h.TH,h.THEAD,h.TITLE,h.TR,h.TRACK,h.UL,h.WBR,h.XMP]),[t.MATHML]:new Set([h.MI,h.MO,h.MN,h.MS,h.MTEXT,h.ANNOTATION_XML]),[t.SVG]:new Set([h.TITLE,h.FOREIGN_OBJECT,h.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set};function f(p){return p===h.H1||p===h.H2||p===h.H3||p===h.H4||p===h.H5||p===h.H6}e.isNumberedHeader=f;const g=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function v(p,E){return g.has(p)||E&&p===r.NOSCRIPT}e.hasUnescapedText=v})(rv),Object.defineProperty(B_,"__esModule",{value:!0}),B_.Tokenizer=B_.TokenizerMode=void 0;const V5e=UB,ke=GB,Ku=$B,Yp=I_,er=pP,Ej=rv,j5e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var Ue;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(Ue||(Ue={})),B_.TokenizerMode={DATA:Ue.DATA,RCDATA:Ue.RCDATA,RAWTEXT:Ue.RAWTEXT,SCRIPT_DATA:Ue.SCRIPT_DATA,PLAINTEXT:Ue.PLAINTEXT,CDATA_SECTION:Ue.CDATA_SECTION};function mP(e){return e>=ke.CODE_POINTS.DIGIT_0&&e<=ke.CODE_POINTS.DIGIT_9}function gP(e){return e>=ke.CODE_POINTS.LATIN_CAPITAL_A&&e<=ke.CODE_POINTS.LATIN_CAPITAL_Z}function W5e(e){return e>=ke.CODE_POINTS.LATIN_SMALL_A&&e<=ke.CODE_POINTS.LATIN_SMALL_Z}function Ey(e){return W5e(e)||gP(e)}function Sj(e){return Ey(e)||mP(e)}function hse(e){return e>=ke.CODE_POINTS.LATIN_CAPITAL_A&&e<=ke.CODE_POINTS.LATIN_CAPITAL_F}function fse(e){return e>=ke.CODE_POINTS.LATIN_SMALL_A&&e<=ke.CODE_POINTS.LATIN_SMALL_F}function X5e(e){return mP(e)||hse(e)||fse(e)}function zB(e){return e+32}function dse(e){return e===ke.CODE_POINTS.SPACE||e===ke.CODE_POINTS.LINE_FEED||e===ke.CODE_POINTS.TABULATION||e===ke.CODE_POINTS.FORM_FEED}function Y5e(e){return e===ke.CODE_POINTS.EQUALS_SIGN||Sj(e)}function pse(e){return dse(e)||e===ke.CODE_POINTS.SOLIDUS||e===ke.CODE_POINTS.GREATER_THAN_SIGN}let q5e=function(){function e(t,r){L(this,e),this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Ue.DATA,this.returnState=Ue.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new V5e.Preprocessor(r),this.currentLocation=this.getCurrentLocation(-1)}return V(e,[{key:"_err",value:function(r){var s,a;(a=(s=this.handler).onParseError)===null||a===void 0||a.call(s,this.preprocessor.getError(r))}},{key:"getCurrentLocation",value:function(r){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-r,startOffset:this.preprocessor.offset-r,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const r=this._consume();this._ensureHibernation()||this._callState(r)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(r){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||r==null||r())}},{key:"write",value:function(r,s,a){this.active=!0,this.preprocessor.write(r,s),this._runParsingLoop(),this.paused||a==null||a()}},{key:"insertHtmlAtCurrentPos",value:function(r){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(r),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(r){this.consumedAfterSnapshot-=r,this.preprocessor.retreat(r)}},{key:"_reconsumeInState",value:function(r,s){this.state=r,this._callState(s)}},{key:"_advanceBy",value:function(r){this.consumedAfterSnapshot+=r;for(let s=0;s<r;s++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(r,s){return this.preprocessor.startsWith(r,s)?(this._advanceBy(r.length-1),!0):!1}},{key:"_createStartTagToken",value:function(){this.currentToken={type:Ku.TokenType.START_TAG,tagName:"",tagID:Ej.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:Ku.TokenType.END_TAG,tagName:"",tagID:Ej.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(r){this.currentToken={type:Ku.TokenType.COMMENT,data:"",location:this.getCurrentLocation(r)}}},{key:"_createDoctypeToken",value:function(r){this.currentToken={type:Ku.TokenType.DOCTYPE,name:r,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(r,s){this.currentCharacterToken={type:r,chars:s,location:this.currentLocation}}},{key:"_createAttr",value:function(r){this.currentAttr={name:r,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var r,s;const a=this.currentToken;if((0,Ku.getTokenAttr)(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const u=(r=(s=a.location).attrs)!==null&&r!==void 0?r:s.attrs=Object.create(null);u[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(er.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(r){this._emitCurrentCharacterToken(r.location),this.currentToken=null,r.location&&(r.location.endLine=this.preprocessor.line,r.location.endCol=this.preprocessor.col+1,r.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const r=this.currentToken;this.prepareToken(r),r.tagID=(0,Ej.getTagID)(r.tagName),r.type===Ku.TokenType.START_TAG?(this.lastStartTagName=r.tagName,this.handler.onStartTag(r)):(r.attrs.length>0&&this._err(er.ERR.endTagWithAttributes),r.selfClosing&&this._err(er.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(r)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(r){this.prepareToken(r),this.handler.onComment(r),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(r){this.prepareToken(r),this.handler.onDoctype(r),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(r){if(this.currentCharacterToken){switch(r&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentCharacterToken.type){case Ku.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ku.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ku.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const r=this.getCurrentLocation(0);r&&(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset),this._emitCurrentCharacterToken(r),this.handler.onEof({type:Ku.TokenType.EOF,location:r}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(r,s){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==r)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=s;return}this._createCharacterToken(r,s)}},{key:"_emitCodePoint",value:function(r){const s=dse(r)?Ku.TokenType.WHITESPACE_CHARACTER:r===ke.CODE_POINTS.NULL?Ku.TokenType.NULL_CHARACTER:Ku.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(s,String.fromCodePoint(r))}},{key:"_emitChars",value:function(r){this._appendCharToCurrentCharacterToken(Ku.TokenType.CHARACTER,r)}},{key:"_matchNamedCharacterReference",value:function(r){let s=null,a=0,u=!1;for(let h=0,f=Yp.htmlDecodeTree[0];h>=0&&(h=(0,Yp.determineBranch)(Yp.htmlDecodeTree,f,h+1,r),!(h<0));r=this._consume()){a+=1,f=Yp.htmlDecodeTree[h];const g=f&Yp.BinTrieFlags.VALUE_LENGTH;if(g){const v=(g>>14)-1;if(r!==ke.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Y5e(this.preprocessor.peek(1))?(s=[ke.CODE_POINTS.AMPERSAND],h+=v):(s=v===0?[Yp.htmlDecodeTree[h]&~Yp.BinTrieFlags.VALUE_LENGTH]:v===1?[Yp.htmlDecodeTree[++h]]:[Yp.htmlDecodeTree[++h],Yp.htmlDecodeTree[++h]],a=0,u=r!==ke.CODE_POINTS.SEMICOLON),v===0){this._consume();break}}}return this._unconsume(a),u&&!this.preprocessor.endOfChunkHit&&this._err(er.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),s}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===Ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Ue.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Ue.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(r){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(r):this._emitCodePoint(r)}},{key:"_callState",value:function(r){switch(this.state){case Ue.DATA:{this._stateData(r);break}case Ue.RCDATA:{this._stateRcdata(r);break}case Ue.RAWTEXT:{this._stateRawtext(r);break}case Ue.SCRIPT_DATA:{this._stateScriptData(r);break}case Ue.PLAINTEXT:{this._statePlaintext(r);break}case Ue.TAG_OPEN:{this._stateTagOpen(r);break}case Ue.END_TAG_OPEN:{this._stateEndTagOpen(r);break}case Ue.TAG_NAME:{this._stateTagName(r);break}case Ue.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(r);break}case Ue.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(r);break}case Ue.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(r);break}case Ue.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(r);break}case Ue.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(r);break}case Ue.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(r);break}case Ue.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(r);break}case Ue.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(r);break}case Ue.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(r);break}case Ue.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(r);break}case Ue.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(r);break}case Ue.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(r);break}case Ue.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(r);break}case Ue.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(r);break}case Ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(r);break}case Ue.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(r);break}case Ue.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(r);break}case Ue.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(r);break}case Ue.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(r);break}case Ue.ATTRIBUTE_NAME:{this._stateAttributeName(r);break}case Ue.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(r);break}case Ue.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(r);break}case Ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(r);break}case Ue.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(r);break}case Ue.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(r);break}case Ue.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(r);break}case Ue.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(r);break}case Ue.BOGUS_COMMENT:{this._stateBogusComment(r);break}case Ue.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(r);break}case Ue.COMMENT_START:{this._stateCommentStart(r);break}case Ue.COMMENT_START_DASH:{this._stateCommentStartDash(r);break}case Ue.COMMENT:{this._stateComment(r);break}case Ue.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(r);break}case Ue.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(r);break}case Ue.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(r);break}case Ue.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(r);break}case Ue.COMMENT_END_DASH:{this._stateCommentEndDash(r);break}case Ue.COMMENT_END:{this._stateCommentEnd(r);break}case Ue.COMMENT_END_BANG:{this._stateCommentEndBang(r);break}case Ue.DOCTYPE:{this._stateDoctype(r);break}case Ue.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(r);break}case Ue.DOCTYPE_NAME:{this._stateDoctypeName(r);break}case Ue.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(r);break}case Ue.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(r);break}case Ue.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(r);break}case Ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(r);break}case Ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(r);break}case Ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(r);break}case Ue.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(r);break}case Ue.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(r);break}case Ue.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(r);break}case Ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(r);break}case Ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(r);break}case Ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(r);break}case Ue.BOGUS_DOCTYPE:{this._stateBogusDoctype(r);break}case Ue.CDATA_SECTION:{this._stateCdataSection(r);break}case Ue.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(r);break}case Ue.CDATA_SECTION_END:{this._stateCdataSectionEnd(r);break}case Ue.CHARACTER_REFERENCE:{this._stateCharacterReference(r);break}case Ue.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(r);break}case Ue.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(r);break}case Ue.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(r);break}case Ue.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(r);break}case Ue.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(r);break}case Ue.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(r);break}case Ue.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(r);break}default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(r){switch(r){case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.TAG_OPEN;break}case ke.CODE_POINTS.AMPERSAND:{this.returnState=Ue.DATA,this.state=Ue.CHARACTER_REFERENCE;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitCodePoint(r);break}case ke.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRcdata",value:function(r){switch(r){case ke.CODE_POINTS.AMPERSAND:{this.returnState=Ue.RCDATA,this.state=Ue.CHARACTER_REFERENCE;break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.RCDATA_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRawtext",value:function(r){switch(r){case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.RAWTEXT_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptData",value:function(r){switch(r){case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_statePlaintext",value:function(r){switch(r){case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateTagOpen",value:function(r){if(Ey(r))this._createStartTagToken(),this.state=Ue.TAG_NAME,this._stateTagName(r);else switch(r){case ke.CODE_POINTS.EXCLAMATION_MARK:{this.state=Ue.MARKUP_DECLARATION_OPEN;break}case ke.CODE_POINTS.SOLIDUS:{this.state=Ue.END_TAG_OPEN;break}case ke.CODE_POINTS.QUESTION_MARK:{this._err(er.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Ue.BOGUS_COMMENT,this._stateBogusComment(r);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(er.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Ue.DATA,this._stateData(r)}}},{key:"_stateEndTagOpen",value:function(r){if(Ey(r))this._createEndTagToken(),this.state=Ue.TAG_NAME,this._stateTagName(r);else switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingEndTagName),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(er.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Ue.BOGUS_COMMENT,this._stateBogusComment(r)}}},{key:"_stateTagName",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.BEFORE_ATTRIBUTE_NAME;break}case ke.CODE_POINTS.SOLIDUS:{this.state=Ue.SELF_CLOSING_START_TAG;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentTagToken();break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.tagName+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:s.tagName+=String.fromCodePoint(gP(r)?zB(r):r)}}},{key:"_stateRcdataLessThanSign",value:function(r){r===ke.CODE_POINTS.SOLIDUS?this.state=Ue.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Ue.RCDATA,this._stateRcdata(r))}},{key:"_stateRcdataEndTagOpen",value:function(r){Ey(r)?(this.state=Ue.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(r)):(this._emitChars("</"),this.state=Ue.RCDATA,this._stateRcdata(r))}},{key:"handleSpecialEndTag",value:function(r){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const s=this.currentToken;switch(s.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Ue.BEFORE_ATTRIBUTE_NAME,!1;case ke.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Ue.SELF_CLOSING_START_TAG,!1;case ke.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Ue.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=Ue.RCDATA,this._stateRcdata(r))}},{key:"_stateRawtextLessThanSign",value:function(r){r===ke.CODE_POINTS.SOLIDUS?this.state=Ue.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Ue.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagOpen",value:function(r){Ey(r)?(this.state=Ue.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(r)):(this._emitChars("</"),this.state=Ue.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=Ue.RAWTEXT,this._stateRawtext(r))}},{key:"_stateScriptDataLessThanSign",value:function(r){switch(r){case ke.CODE_POINTS.SOLIDUS:{this.state=Ue.SCRIPT_DATA_END_TAG_OPEN;break}case ke.CODE_POINTS.EXCLAMATION_MARK:{this.state=Ue.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Ue.SCRIPT_DATA,this._stateScriptData(r)}}},{key:"_stateScriptDataEndTagOpen",value:function(r){Ey(r)?(this.state=Ue.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(r)):(this._emitChars("</"),this.state=Ue.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=Ue.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStart",value:function(r){r===ke.CODE_POINTS.HYPHEN_MINUS?(this.state=Ue.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Ue.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStartDash",value:function(r){r===ke.CODE_POINTS.HYPHEN_MINUS?(this.state=Ue.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Ue.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscaped",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDash",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.state=Ue.SCRIPT_DATA_ESCAPED,this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ue.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDashDash",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.SCRIPT_DATA,this._emitChars(">");break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.state=Ue.SCRIPT_DATA_ESCAPED,this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ue.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(r){r===ke.CODE_POINTS.SOLIDUS?this.state=Ue.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ey(r)?(this._emitChars("<"),this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(r)):(this._emitChars("<"),this.state=Ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(r){Ey(r)?(this.state=Ue.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(r)):(this._emitChars("</"),this.state=Ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=Ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(r){if(this.preprocessor.startsWith(ke.SEQUENCES.SCRIPT,!1)&&pse(this.preprocessor.peek(ke.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let s=0;s<ke.SEQUENCES.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscaped",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case ke.CODE_POINTS.LESS_THAN_SIGN:{this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.SCRIPT_DATA,this._emitChars(">");break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ke.REPLACEMENT_CHARACTER);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(r){r===ke.CODE_POINTS.SOLIDUS?(this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(r){if(this.preprocessor.startsWith(ke.SEQUENCES.SCRIPT,!1)&&pse(this.preprocessor.peek(ke.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let s=0;s<ke.SEQUENCES.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=Ue.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateBeforeAttributeName",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.SOLIDUS:case ke.CODE_POINTS.GREATER_THAN_SIGN:case ke.CODE_POINTS.EOF:{this.state=Ue.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case ke.CODE_POINTS.EQUALS_SIGN:{this._err(er.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ue.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Ue.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateAttributeName",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:case ke.CODE_POINTS.SOLIDUS:case ke.CODE_POINTS.GREATER_THAN_SIGN:case ke.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=Ue.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case ke.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=Ue.BEFORE_ATTRIBUTE_VALUE;break}case ke.CODE_POINTS.QUOTATION_MARK:case ke.CODE_POINTS.APOSTROPHE:case ke.CODE_POINTS.LESS_THAN_SIGN:{this._err(er.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(r);break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.currentAttr.name+=ke.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(gP(r)?zB(r):r)}}},{key:"_stateAfterAttributeName",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.SOLIDUS:{this.state=Ue.SELF_CLOSING_START_TAG;break}case ke.CODE_POINTS.EQUALS_SIGN:{this.state=Ue.BEFORE_ATTRIBUTE_VALUE;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentTagToken();break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Ue.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateBeforeAttributeValue",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.QUOTATION_MARK:{this.state=Ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{this.state=Ue.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingAttributeValue),this.state=Ue.DATA,this.emitCurrentTagToken();break}default:this.state=Ue.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(r)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(r){switch(r){case ke.CODE_POINTS.QUOTATION_MARK:{this.state=Ue.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ke.CODE_POINTS.AMPERSAND:{this.returnState=Ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=Ue.CHARACTER_REFERENCE;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.currentAttr.value+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueSingleQuoted",value:function(r){switch(r){case ke.CODE_POINTS.APOSTROPHE:{this.state=Ue.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ke.CODE_POINTS.AMPERSAND:{this.returnState=Ue.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=Ue.CHARACTER_REFERENCE;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.currentAttr.value+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueUnquoted",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=Ue.BEFORE_ATTRIBUTE_NAME;break}case ke.CODE_POINTS.AMPERSAND:{this.returnState=Ue.ATTRIBUTE_VALUE_UNQUOTED,this.state=Ue.CHARACTER_REFERENCE;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Ue.DATA,this.emitCurrentTagToken();break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this.currentAttr.value+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.QUOTATION_MARK:case ke.CODE_POINTS.APOSTROPHE:case ke.CODE_POINTS.LESS_THAN_SIGN:case ke.CODE_POINTS.EQUALS_SIGN:case ke.CODE_POINTS.GRAVE_ACCENT:{this._err(er.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(r);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAfterAttributeValueQuoted",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=Ue.BEFORE_ATTRIBUTE_NAME;break}case ke.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=Ue.SELF_CLOSING_START_TAG;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Ue.DATA,this.emitCurrentTagToken();break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this._err(er.ERR.missingWhitespaceBetweenAttributes),this.state=Ue.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateSelfClosingStartTag",value:function(r){switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{const s=this.currentToken;s.selfClosing=!0,this.state=Ue.DATA,this.emitCurrentTagToken();break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInTag),this._emitEOFToken();break}default:this._err(er.ERR.unexpectedSolidusInTag),this.state=Ue.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateBogusComment",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentComment(s);break}case ke.CODE_POINTS.EOF:{this.emitCurrentComment(s),this._emitEOFToken();break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.data+=ke.REPLACEMENT_CHARACTER;break}default:s.data+=String.fromCodePoint(r)}}},{key:"_stateMarkupDeclarationOpen",value:function(r){this._consumeSequenceIfMatch(ke.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(ke.SEQUENCES.DASH_DASH.length+1),this.state=Ue.COMMENT_START):this._consumeSequenceIfMatch(ke.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ke.SEQUENCES.DOCTYPE.length+1),this.state=Ue.DOCTYPE):this._consumeSequenceIfMatch(ke.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=Ue.CDATA_SECTION:(this._err(er.ERR.cdataInHtmlContent),this._createCommentToken(ke.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Ue.BOGUS_COMMENT):this._ensureHibernation()||(this._err(er.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Ue.BOGUS_COMMENT,this._stateBogusComment(r))}},{key:"_stateCommentStart",value:function(r){switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.COMMENT_START_DASH;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptClosingOfEmptyComment),this.state=Ue.DATA;const s=this.currentToken;this.emitCurrentComment(s);break}default:this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateCommentStartDash",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.COMMENT_END;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptClosingOfEmptyComment),this.state=Ue.DATA,this.emitCurrentComment(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateComment",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.COMMENT_END_DASH;break}case ke.CODE_POINTS.LESS_THAN_SIGN:{s.data+="<",this.state=Ue.COMMENT_LESS_THAN_SIGN;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.data+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+=String.fromCodePoint(r)}}},{key:"_stateCommentLessThanSign",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.EXCLAMATION_MARK:{s.data+="!",this.state=Ue.COMMENT_LESS_THAN_SIGN_BANG;break}case ke.CODE_POINTS.LESS_THAN_SIGN:{s.data+="<";break}default:this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateCommentLessThanSignBang",value:function(r){r===ke.CODE_POINTS.HYPHEN_MINUS?this.state=Ue.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Ue.COMMENT,this._stateComment(r))}},{key:"_stateCommentLessThanSignBangDash",value:function(r){r===ke.CODE_POINTS.HYPHEN_MINUS?this.state=Ue.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Ue.COMMENT_END_DASH,this._stateCommentEndDash(r))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(r){r!==ke.CODE_POINTS.GREATER_THAN_SIGN&&r!==ke.CODE_POINTS.EOF&&this._err(er.ERR.nestedComment),this.state=Ue.COMMENT_END,this._stateCommentEnd(r)}},{key:"_stateCommentEndDash",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{this.state=Ue.COMMENT_END;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEnd",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentComment(s);break}case ke.CODE_POINTS.EXCLAMATION_MARK:{this.state=Ue.COMMENT_END_BANG;break}case ke.CODE_POINTS.HYPHEN_MINUS:{s.data+="-";break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--",this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEndBang",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.HYPHEN_MINUS:{s.data+="--!",this.state=Ue.COMMENT_END_DASH;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.incorrectlyClosedComment),this.state=Ue.DATA,this.emitCurrentComment(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--!",this.state=Ue.COMMENT,this._stateComment(r)}}},{key:"_stateDoctype",value:function(r){switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.BEFORE_DOCTYPE_NAME;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingWhitespaceBeforeDoctypeName),this.state=Ue.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r)}}},{key:"_stateBeforeDoctypeName",value:function(r){if(gP(r))this._createDoctypeToken(String.fromCharCode(zB(r))),this.state=Ue.DOCTYPE_NAME;else switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),this._createDoctypeToken(ke.REPLACEMENT_CHARACTER),this.state=Ue.DOCTYPE_NAME;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingDoctypeName),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),this._createDoctypeToken(null);const s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(r)),this.state=Ue.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.AFTER_DOCTYPE_NAME;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.name+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.name+=String.fromCodePoint(gP(r)?zB(r):r)}}},{key:"_stateAfterDoctypeName",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ke.SEQUENCES.PUBLIC,!1)?this.state=Ue.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ke.SEQUENCES.SYSTEM,!1)?this.state=Ue.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(er.ERR.invalidCharacterSequenceAfterDoctypeName),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ke.CODE_POINTS.QUOTATION_MARK:{this._err(er.ERR.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=Ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{this._err(er.ERR.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=Ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.QUOTATION_MARK:{s.publicId="",this.state=Ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{s.publicId="",this.state=Ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.QUOTATION_MARK:{this.state=Ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.publicId+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(r)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.APOSTROPHE:{this.state=Ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.publicId+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.QUOTATION_MARK:{this._err(er.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{this._err(er.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.QUOTATION_MARK:{s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:{this.state=Ue.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ke.CODE_POINTS.QUOTATION_MARK:{this._err(er.ERR.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{this._err(er.ERR.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.QUOTATION_MARK:{s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ke.CODE_POINTS.APOSTROPHE:{s.systemId="",this.state=Ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.DATA,this.emitCurrentDoctype(s);break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.QUOTATION_MARK:{this.state=Ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.systemId+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(r)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.APOSTROPHE:{this.state=Ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter),s.systemId+=ke.REPLACEMENT_CHARACTER;break}case ke.CODE_POINTS.GREATER_THAN_SIGN:{this._err(er.ERR.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.SPACE:case ke.CODE_POINTS.LINE_FEED:case ke.CODE_POINTS.TABULATION:case ke.CODE_POINTS.FORM_FEED:break;case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(er.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Ue.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBogusDoctype",value:function(r){const s=this.currentToken;switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=Ue.DATA;break}case ke.CODE_POINTS.NULL:{this._err(er.ERR.unexpectedNullCharacter);break}case ke.CODE_POINTS.EOF:{this.emitCurrentDoctype(s),this._emitEOFToken();break}}}},{key:"_stateCdataSection",value:function(r){switch(r){case ke.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=Ue.CDATA_SECTION_BRACKET;break}case ke.CODE_POINTS.EOF:{this._err(er.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateCdataSectionBracket",value:function(r){r===ke.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=Ue.CDATA_SECTION_END:(this._emitChars("]"),this.state=Ue.CDATA_SECTION,this._stateCdataSection(r))}},{key:"_stateCdataSectionEnd",value:function(r){switch(r){case ke.CODE_POINTS.GREATER_THAN_SIGN:{this.state=Ue.DATA;break}case ke.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Ue.CDATA_SECTION,this._stateCdataSection(r)}}},{key:"_stateCharacterReference",value:function(r){r===ke.CODE_POINTS.NUMBER_SIGN?this.state=Ue.NUMERIC_CHARACTER_REFERENCE:Sj(r)?(this.state=Ue.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(r)):(this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,r))}},{key:"_stateNamedCharacterReference",value:function(r){const s=this._matchNamedCharacterReference(r);if(!this._ensureHibernation())if(s){for(let a=0;a<s.length;a++)this._flushCodePointConsumedAsCharacterReference(s[a]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.AMPERSAND),this.state=Ue.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(r){Sj(r)?this._flushCodePointConsumedAsCharacterReference(r):(r===ke.CODE_POINTS.SEMICOLON&&this._err(er.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,r))}},{key:"_stateNumericCharacterReference",value:function(r){this.charRefCode=0,r===ke.CODE_POINTS.LATIN_SMALL_X||r===ke.CODE_POINTS.LATIN_CAPITAL_X?this.state=Ue.HEXADEMICAL_CHARACTER_REFERENCE_START:mP(r)?(this.state=Ue.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(r)):(this._err(er.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,r))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(r){X5e(r)?(this.state=Ue.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(r)):(this._err(er.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ke.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}},{key:"_stateHexademicalCharacterReference",value:function(r){hse(r)?this.charRefCode=this.charRefCode*16+r-55:fse(r)?this.charRefCode=this.charRefCode*16+r-87:mP(r)?this.charRefCode=this.charRefCode*16+r-48:r===ke.CODE_POINTS.SEMICOLON?this.state=Ue.NUMERIC_CHARACTER_REFERENCE_END:(this._err(er.ERR.missingSemicolonAfterCharacterReference),this.state=Ue.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateDecimalCharacterReference",value:function(r){mP(r)?this.charRefCode=this.charRefCode*10+r-48:r===ke.CODE_POINTS.SEMICOLON?this.state=Ue.NUMERIC_CHARACTER_REFERENCE_END:(this._err(er.ERR.missingSemicolonAfterCharacterReference),this.state=Ue.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateNumericCharacterReferenceEnd",value:function(r){if(this.charRefCode===ke.CODE_POINTS.NULL)this._err(er.ERR.nullCharacterReference),this.charRefCode=ke.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(er.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=ke.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,ke.isSurrogate)(this.charRefCode))this._err(er.ERR.surrogateCharacterReference),this.charRefCode=ke.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,ke.isUndefinedCodePoint)(this.charRefCode))this._err(er.ERR.noncharacterCharacterReference);else if((0,ke.isControlCodePoint)(this.charRefCode)||this.charRefCode===ke.CODE_POINTS.CARRIAGE_RETURN){this._err(er.ERR.controlCharacterReference);const s=j5e.get(this.charRefCode);s!==void 0&&(this.charRefCode=s)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,r)}}]),e}();B_.Tokenizer=q5e;var VB={};Object.defineProperty(VB,"__esModule",{value:!0}),VB.OpenElementStack=void 0;const lr=rv,mse=new Set([lr.TAG_ID.DD,lr.TAG_ID.DT,lr.TAG_ID.LI,lr.TAG_ID.OPTGROUP,lr.TAG_ID.OPTION,lr.TAG_ID.P,lr.TAG_ID.RB,lr.TAG_ID.RP,lr.TAG_ID.RT,lr.TAG_ID.RTC]),gse=new Set([...mse,lr.TAG_ID.CAPTION,lr.TAG_ID.COLGROUP,lr.TAG_ID.TBODY,lr.TAG_ID.TD,lr.TAG_ID.TFOOT,lr.TAG_ID.TH,lr.TAG_ID.THEAD,lr.TAG_ID.TR]),jB=new Map([[lr.TAG_ID.APPLET,lr.NS.HTML],[lr.TAG_ID.CAPTION,lr.NS.HTML],[lr.TAG_ID.HTML,lr.NS.HTML],[lr.TAG_ID.MARQUEE,lr.NS.HTML],[lr.TAG_ID.OBJECT,lr.NS.HTML],[lr.TAG_ID.TABLE,lr.NS.HTML],[lr.TAG_ID.TD,lr.NS.HTML],[lr.TAG_ID.TEMPLATE,lr.NS.HTML],[lr.TAG_ID.TH,lr.NS.HTML],[lr.TAG_ID.ANNOTATION_XML,lr.NS.MATHML],[lr.TAG_ID.MI,lr.NS.MATHML],[lr.TAG_ID.MN,lr.NS.MATHML],[lr.TAG_ID.MO,lr.NS.MATHML],[lr.TAG_ID.MS,lr.NS.MATHML],[lr.TAG_ID.MTEXT,lr.NS.MATHML],[lr.TAG_ID.DESC,lr.NS.SVG],[lr.TAG_ID.FOREIGN_OBJECT,lr.NS.SVG],[lr.TAG_ID.TITLE,lr.NS.SVG]]),Z5e=[lr.TAG_ID.H1,lr.TAG_ID.H2,lr.TAG_ID.H3,lr.TAG_ID.H4,lr.TAG_ID.H5,lr.TAG_ID.H6],K5e=[lr.TAG_ID.TR,lr.TAG_ID.TEMPLATE,lr.TAG_ID.HTML],Q5e=[lr.TAG_ID.TBODY,lr.TAG_ID.TFOOT,lr.TAG_ID.THEAD,lr.TAG_ID.TEMPLATE,lr.TAG_ID.HTML],J5e=[lr.TAG_ID.TABLE,lr.TAG_ID.TEMPLATE,lr.TAG_ID.HTML],e3e=[lr.TAG_ID.TD,lr.TAG_ID.TH];let t3e=function(){function e(t,r,s){L(this,e),this.treeAdapter=r,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=lr.TAG_ID.UNKNOWN,this.current=t}return V(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(r){return this.items.lastIndexOf(r,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===lr.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===lr.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(r,s){this.stackTop++,this.items[this.stackTop]=r,this.current=r,this.tagIDs[this.stackTop]=s,this.currentTagId=s,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(r,s,!0)}},{key:"pop",value:function(){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!0)}},{key:"replace",value:function(r,s){const a=this._indexOf(r);this.items[a]=s,a===this.stackTop&&(this.current=s)}},{key:"insertAfter",value:function(r,s,a){const u=this._indexOf(r)+1;this.items.splice(u,0,s),this.tagIDs.splice(u,0,a),this.stackTop++,u===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,u===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(r){let s=this.stackTop+1;do s=this.tagIDs.lastIndexOf(r,s-1);while(s>0&&this.treeAdapter.getNamespaceURI(this.items[s])!==lr.NS.HTML);this.shortenToLength(s<0?0:s)}},{key:"shortenToLength",value:function(r){for(;this.stackTop>=r;){const s=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(s,this.stackTop<r)}}},{key:"popUntilElementPopped",value:function(r){const s=this._indexOf(r);this.shortenToLength(s<0?0:s)}},{key:"popUntilPopped",value:function(r,s){const a=this._indexOfTagNames(r,s);this.shortenToLength(a<0?0:a)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(Z5e,lr.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(e3e,lr.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(r,s){for(let a=this.stackTop;a>=0;a--)if(r.includes(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===s)return a;return-1}},{key:"clearBackTo",value:function(r,s){const a=this._indexOfTagNames(r,s);this.shortenToLength(a+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo(J5e,lr.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(Q5e,lr.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(K5e,lr.NS.HTML)}},{key:"remove",value:function(r){const s=this._indexOf(r);s>=0&&(s===this.stackTop?this.pop():(this.items.splice(s,1),this.tagIDs.splice(s,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===lr.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(r){return this._indexOf(r)>-1}},{key:"getCommonAncestor",value:function(r){const s=this._indexOf(r)-1;return s>=0?this.items[s]:null}},{key:"isRootHtmlElementCurrent",value:function(){return this.stackTop===0&&this.tagIDs[0]===lr.TAG_ID.HTML}},{key:"hasInScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===lr.NS.HTML)return!0;if(jB.get(a)===u)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r],a=this.treeAdapter.getNamespaceURI(this.items[r]);if((0,lr.isNumberedHeader)(s)&&a===lr.NS.HTML)return!0;if(jB.get(s)===a)return!1}return!0}},{key:"hasInListItemScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===lr.NS.HTML)return!0;if((a===lr.TAG_ID.UL||a===lr.TAG_ID.OL)&&u===lr.NS.HTML||jB.get(a)===u)return!1}return!0}},{key:"hasInButtonScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s],u=this.treeAdapter.getNamespaceURI(this.items[s]);if(a===r&&u===lr.NS.HTML)return!0;if(a===lr.TAG_ID.BUTTON&&u===lr.NS.HTML||jB.get(a)===u)return!1}return!0}},{key:"hasInTableScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===lr.NS.HTML){if(a===r)return!0;if(a===lr.TAG_ID.TABLE||a===lr.TAG_ID.TEMPLATE||a===lr.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===lr.NS.HTML){if(s===lr.TAG_ID.TBODY||s===lr.TAG_ID.THEAD||s===lr.TAG_ID.TFOOT)return!0;if(s===lr.TAG_ID.TABLE||s===lr.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(r){for(let s=this.stackTop;s>=0;s--){const a=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===lr.NS.HTML){if(a===r)return!0;if(a!==lr.TAG_ID.OPTION&&a!==lr.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;mse.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;gse.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(r){for(;this.currentTagId!==r&&gse.has(this.currentTagId);)this.pop()}}]),e}();VB.OpenElementStack=t3e;var vse={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;const t=3;var r;(function(u){u[u.Marker=0]="Marker",u[u.Element=1]="Element"})(r=e.EntryType||(e.EntryType={}));const s={type:r.Marker};let a=function(){function u(h){L(this,u),this.treeAdapter=h,this.entries=[],this.bookmark=null}return V(u,[{key:"_getNoahArkConditionCandidates",value:function(f,g){const v=[],p=g.length,E=this.treeAdapter.getTagName(f),T=this.treeAdapter.getNamespaceURI(f);for(let S=0;S<this.entries.length;S++){const x=this.entries[S];if(x.type===r.Marker)break;const{element:O}=x;if(this.treeAdapter.getTagName(O)===E&&this.treeAdapter.getNamespaceURI(O)===T){const P=this.treeAdapter.getAttrList(O);P.length===p&&v.push({idx:S,attrs:P})}}return v}},{key:"_ensureNoahArkCondition",value:function(f){if(this.entries.length<t)return;const g=this.treeAdapter.getAttrList(f),v=this._getNoahArkConditionCandidates(f,g);if(v.length<t)return;const p=new Map(g.map(T=>[T.name,T.value]));let E=0;for(let T=0;T<v.length;T++){const S=v[T];S.attrs.every(x=>p.get(x.name)===x.value)&&(E+=1,E>=t&&this.entries.splice(S.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(s)}},{key:"pushElement",value:function(f,g){this._ensureNoahArkCondition(f),this.entries.unshift({type:r.Element,element:f,token:g})}},{key:"insertElementAfterBookmark",value:function(f,g){const v=this.entries.indexOf(this.bookmark);this.entries.splice(v,0,{type:r.Element,element:f,token:g})}},{key:"removeEntry",value:function(f){const g=this.entries.indexOf(f);g>=0&&this.entries.splice(g,1)}},{key:"clearToLastMarker",value:function(){const f=this.entries.indexOf(s);f>=0?this.entries.splice(0,f+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(f){const g=this.entries.find(v=>v.type===r.Marker||this.treeAdapter.getTagName(v.element)===f);return g&&g.type===r.Element?g:null}},{key:"getElementEntry",value:function(f){return this.entries.find(g=>g.type===r.Element&&g.element===f)}}]),u}();e.FormattingElementList=a})(vse);var WB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=rv;function r(s){return{nodeName:"#text",value:s,parentNode:null}}e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(s,a,u){return{nodeName:s,tagName:s,attrs:u,namespaceURI:a,childNodes:[],parentNode:null}},createCommentNode(s){return{nodeName:"#comment",data:s,parentNode:null}},appendChild(s,a){s.childNodes.push(a),a.parentNode=s},insertBefore(s,a,u){const h=s.childNodes.indexOf(u);s.childNodes.splice(h,0,a),a.parentNode=s},setTemplateContent(s,a){s.content=a},getTemplateContent(s){return s.content},setDocumentType(s,a,u,h){const f=s.childNodes.find(g=>g.nodeName==="#documentType");if(f)f.name=a,f.publicId=u,f.systemId=h;else{const g={nodeName:"#documentType",name:a,publicId:u,systemId:h,parentNode:null};e.defaultTreeAdapter.appendChild(s,g)}},setDocumentMode(s,a){s.mode=a},getDocumentMode(s){return s.mode},detachNode(s){if(s.parentNode){const a=s.parentNode.childNodes.indexOf(s);s.parentNode.childNodes.splice(a,1),s.parentNode=null}},insertText(s,a){if(s.childNodes.length>0){const u=s.childNodes[s.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(u)){u.value+=a;return}}e.defaultTreeAdapter.appendChild(s,r(a))},insertTextBefore(s,a,u){const h=s.childNodes[s.childNodes.indexOf(u)-1];h&&e.defaultTreeAdapter.isTextNode(h)?h.value+=a:e.defaultTreeAdapter.insertBefore(s,r(a),u)},adoptAttributes(s,a){const u=new Set(s.attrs.map(h=>h.name));for(let h=0;h<a.length;h++)u.has(a[h].name)||s.attrs.push(a[h])},getFirstChild(s){return s.childNodes[0]},getChildNodes(s){return s.childNodes},getParentNode(s){return s.parentNode},getAttrList(s){return s.attrs},getTagName(s){return s.tagName},getNamespaceURI(s){return s.namespaceURI},getTextNodeContent(s){return s.value},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){return s.name},getDocumentTypeNodePublicId(s){return s.publicId},getDocumentTypeNodeSystemId(s){return s.systemId},isTextNode(s){return s.nodeName==="#text"},isCommentNode(s){return s.nodeName==="#comment"},isDocumentTypeNode(s){return s.nodeName==="#documentType"},isElementNode(s){return Object.prototype.hasOwnProperty.call(s,"tagName")},setNodeSourceCodeLocation(s,a){s.sourceCodeLocation=a},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,a){s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),a)}}})(WB);var eC={};Object.defineProperty(eC,"__esModule",{value:!0}),eC.getDocumentMode=eC.isConforming=void 0;const tC=rv,yse="html",r3e="about:legacy-compat",n3e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",bse=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],i3e=[...bse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],a3e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),_se=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],o3e=[..._se,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Tse(e,t){return t.some(r=>e.startsWith(r))}function s3e(e){return e.name===yse&&e.publicId===null&&(e.systemId===null||e.systemId===r3e)}eC.isConforming=s3e;function l3e(e){if(e.name!==yse)return tC.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===n3e)return tC.DOCUMENT_MODE.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),a3e.has(r))return tC.DOCUMENT_MODE.QUIRKS;let s=t===null?i3e:bse;if(Tse(r,s))return tC.DOCUMENT_MODE.QUIRKS;if(s=t===null?_se:o3e,Tse(r,s))return tC.DOCUMENT_MODE.LIMITED_QUIRKS}return tC.DOCUMENT_MODE.NO_QUIRKS}eC.getDocumentMode=l3e;var Aj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=rv,r={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s="definitionurl",a="definitionURL",u=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(P=>[P.toLowerCase(),P])),h=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(P=>[P.toLowerCase(),P]));const f=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function g(P){const M=P.tagID;return M===t.TAG_ID.FONT&&P.attrs.some(({name:B})=>B===t.ATTRS.COLOR||B===t.ATTRS.SIZE||B===t.ATTRS.FACE)||f.has(M)}e.causesExit=g;function v(P){for(let M=0;M<P.attrs.length;M++)if(P.attrs[M].name===s){P.attrs[M].name=a;break}}e.adjustTokenMathMLAttrs=v;function p(P){for(let M=0;M<P.attrs.length;M++){const G=u.get(P.attrs[M].name);G!=null&&(P.attrs[M].name=G)}}e.adjustTokenSVGAttrs=p;function E(P){for(let M=0;M<P.attrs.length;M++){const G=h.get(P.attrs[M].name);G&&(P.attrs[M].prefix=G.prefix,P.attrs[M].name=G.name,P.attrs[M].namespace=G.namespace)}}e.adjustTokenXMLAttrs=E;function T(P){const M=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(P.tagName);M!=null&&(P.tagName=M,P.tagID=(0,t.getTagID)(P.tagName))}e.adjustTokenSVGTagName=T;function S(P,M){return M===t.NS.MATHML&&(P===t.TAG_ID.MI||P===t.TAG_ID.MO||P===t.TAG_ID.MN||P===t.TAG_ID.MS||P===t.TAG_ID.MTEXT)}function x(P,M,G){if(M===t.NS.MATHML&&P===t.TAG_ID.ANNOTATION_XML){for(let B=0;B<G.length;B++)if(G[B].name===t.ATTRS.ENCODING){const U=G[B].value.toLowerCase();return U===r.TEXT_HTML||U===r.APPLICATION_XML}}return M===t.NS.SVG&&(P===t.TAG_ID.FOREIGN_OBJECT||P===t.TAG_ID.DESC||P===t.TAG_ID.TITLE)}function O(P,M,G,B){return(!B||B===t.NS.HTML)&&x(P,M,G)||(!B||B===t.NS.MATHML)&&S(P,M)}e.isIntegrationPoint=O})(Aj),Object.defineProperty(dP,"__esModule",{value:!0}),dP.Parser=void 0;const hu=B_,u3e=VB,Ese=vse,c3e=WB,Sse=eC,qp=Aj,Zs=pP,Ase=GB,se=rv,us=$B,h3e="hidden",f3e=8,d3e=3;var at;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(at||(at={}));const p3e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},wse=new Set([se.TAG_ID.TABLE,se.TAG_ID.TBODY,se.TAG_ID.TFOOT,se.TAG_ID.THEAD,se.TAG_ID.TR]),Cse={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:c3e.defaultTreeAdapter,onParseError:null};let m3e=function(){function e(t,r,s=null,a=null){L(this,e),this.fragmentContext=s,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=at.INITIAL,this.originalInsertionMode=at.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},Cse),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new hu.Tokenizer(this.options,this),this.activeFormattingElements=new Ese.FormattingElementList(this.treeAdapter),this.fragmentContextID=s?(0,se.getTagID)(this.treeAdapter.getTagName(s)):se.TAG_ID.UNKNOWN,this._setContextModes(s??this.document,this.fragmentContextID),this.openElements=new u3e.OpenElementStack(this.document,this.treeAdapter,this)}return V(e,[{key:"getFragment",value:function(){const r=this.treeAdapter.getFirstChild(this.document),s=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,s),s}},{key:"_err",value:function(r,s,a){var u;if(!this.onParseError)return;const h=(u=r.location)!==null&&u!==void 0?u:p3e,f={code:s,startLine:h.startLine,startCol:h.startCol,startOffset:h.startOffset,endLine:a?h.startLine:h.endLine,endCol:a?h.startCol:h.endCol,endOffset:a?h.startOffset:h.endOffset};this.onParseError(f)}},{key:"onItemPush",value:function(r,s,a){var u,h;(h=(u=this.treeAdapter).onItemPush)===null||h===void 0||h.call(u,r),a&&this.openElements.stackTop>0&&this._setContextModes(r,s)}},{key:"onItemPop",value:function(r,s){var a,u;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(r,this.currentToken),(u=(a=this.treeAdapter).onItemPop)===null||u===void 0||u.call(a,r,this.openElements.current),s){let h,f;this.openElements.stackTop===0&&this.fragmentContext?(h=this.fragmentContext,f=this.fragmentContextID):{current:h,currentTagId:f}=this.openElements,this._setContextModes(h,f)}}},{key:"_setContextModes",value:function(r,s){const a=r===this.document||this.treeAdapter.getNamespaceURI(r)===se.NS.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&!this._isIntegrationPoint(s,r)}},{key:"_switchToTextParsing",value:function(r,s){this._insertElement(r,se.NS.HTML),this.tokenizer.state=s,this.originalInsertionMode=this.insertionMode,this.insertionMode=at.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=at.TEXT,this.originalInsertionMode=at.IN_BODY,this.tokenizer.state=hu.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let r=this.fragmentContext;for(;r;){if(this.treeAdapter.getTagName(r)===se.TAG_NAMES.FORM){this.formElement=r;break}r=this.treeAdapter.getParentNode(r)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==se.NS.HTML))switch(this.fragmentContextID){case se.TAG_ID.TITLE:case se.TAG_ID.TEXTAREA:{this.tokenizer.state=hu.TokenizerMode.RCDATA;break}case se.TAG_ID.STYLE:case se.TAG_ID.XMP:case se.TAG_ID.IFRAME:case se.TAG_ID.NOEMBED:case se.TAG_ID.NOFRAMES:case se.TAG_ID.NOSCRIPT:{this.tokenizer.state=hu.TokenizerMode.RAWTEXT;break}case se.TAG_ID.SCRIPT:{this.tokenizer.state=hu.TokenizerMode.SCRIPT_DATA;break}case se.TAG_ID.PLAINTEXT:{this.tokenizer.state=hu.TokenizerMode.PLAINTEXT;break}}}},{key:"_setDocumentType",value:function(r){const s=r.name||"",a=r.publicId||"",u=r.systemId||"";if(this.treeAdapter.setDocumentType(this.document,s,a,u),r.location){const f=this.treeAdapter.getChildNodes(this.document).find(g=>this.treeAdapter.isDocumentTypeNode(g));f&&this.treeAdapter.setNodeSourceCodeLocation(f,r.location)}}},{key:"_attachElementToTree",value:function(r,s){if(this.options.sourceCodeLocationInfo){const a=s&&Object.assign(Object.assign({},s),{startTag:s});this.treeAdapter.setNodeSourceCodeLocation(r,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(r);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a,r)}}},{key:"_appendElement",value:function(r,s){const a=this.treeAdapter.createElement(r.tagName,s,r.attrs);this._attachElementToTree(a,r.location)}},{key:"_insertElement",value:function(r,s){const a=this.treeAdapter.createElement(r.tagName,s,r.attrs);this._attachElementToTree(a,r.location),this.openElements.push(a,r.tagID)}},{key:"_insertFakeElement",value:function(r,s){const a=this.treeAdapter.createElement(r,se.NS.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,s)}},{key:"_insertTemplate",value:function(r){const s=this.treeAdapter.createElement(r.tagName,se.NS.HTML,r.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(s,a),this._attachElementToTree(s,r.location),this.openElements.push(s,r.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}},{key:"_insertFakeRootElement",value:function(){const r=this.treeAdapter.createElement(se.TAG_NAMES.HTML,se.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null),this.treeAdapter.appendChild(this.openElements.current,r),this.openElements.push(r,se.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(r,s){const a=this.treeAdapter.createCommentNode(r.data);this.treeAdapter.appendChild(s,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,r.location)}},{key:"_insertCharacters",value:function(r){let s,a;if(this._shouldFosterParentOnInsertion()?({parent:s,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(s,r.chars,a):this.treeAdapter.insertText(s,r.chars)):(s=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(s,r.chars)),!r.location)return;const u=this.treeAdapter.getChildNodes(s),h=a?u.lastIndexOf(a):u.length,f=u[h-1];if(this.treeAdapter.getNodeSourceCodeLocation(f)){const{endLine:v,endCol:p,endOffset:E}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(f,{endLine:v,endCol:p,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(f,r.location)}},{key:"_adoptNodes",value:function(r,s){for(let a=this.treeAdapter.getFirstChild(r);a;a=this.treeAdapter.getFirstChild(r))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(s,a)}},{key:"_setEndLocation",value:function(r,s){if(this.treeAdapter.getNodeSourceCodeLocation(r)&&s.location){const a=s.location,u=this.treeAdapter.getTagName(r),h=s.type===us.TokenType.END_TAG&&u===s.tagName?{endTag:Object.assign({},a),endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(r,h)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(r){if(!this.currentNotInHTML)return!1;let s,a;return this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,r.tagID===se.TAG_ID.SVG&&this.treeAdapter.getTagName(s)===se.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(s)===se.NS.MATHML?!1:this.tokenizer.inForeignNode||(r.tagID===se.TAG_ID.MGLYPH||r.tagID===se.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(a,s,se.NS.HTML)}},{key:"_processToken",value:function(r){switch(r.type){case us.TokenType.CHARACTER:{this.onCharacter(r);break}case us.TokenType.NULL_CHARACTER:{this.onNullCharacter(r);break}case us.TokenType.COMMENT:{this.onComment(r);break}case us.TokenType.DOCTYPE:{this.onDoctype(r);break}case us.TokenType.START_TAG:{this._processStartTag(r);break}case us.TokenType.END_TAG:{this.onEndTag(r);break}case us.TokenType.EOF:{this.onEof(r);break}case us.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(r);break}}}},{key:"_isIntegrationPoint",value:function(r,s,a){const u=this.treeAdapter.getNamespaceURI(s),h=this.treeAdapter.getAttrList(s);return qp.isIntegrationPoint(r,u,h,a)}},{key:"_reconstructActiveFormattingElements",value:function(){const r=this.activeFormattingElements.entries.length;if(r){const s=this.activeFormattingElements.entries.findIndex(u=>u.type===Ese.EntryType.Marker||this.openElements.contains(u.element)),a=s<0?r-1:s-1;for(let u=a;u>=0;u--){const h=this.activeFormattingElements.entries[u];this._insertElement(h.token,this.treeAdapter.getNamespaceURI(h.element)),h.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=at.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(se.TAG_ID.P),this.openElements.popUntilTagNamePopped(se.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let r=this.openElements.stackTop;r>=0;r--)switch(r===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[r]){case se.TAG_ID.TR:{this.insertionMode=at.IN_ROW;return}case se.TAG_ID.TBODY:case se.TAG_ID.THEAD:case se.TAG_ID.TFOOT:{this.insertionMode=at.IN_TABLE_BODY;return}case se.TAG_ID.CAPTION:{this.insertionMode=at.IN_CAPTION;return}case se.TAG_ID.COLGROUP:{this.insertionMode=at.IN_COLUMN_GROUP;return}case se.TAG_ID.TABLE:{this.insertionMode=at.IN_TABLE;return}case se.TAG_ID.BODY:{this.insertionMode=at.IN_BODY;return}case se.TAG_ID.FRAMESET:{this.insertionMode=at.IN_FRAMESET;return}case se.TAG_ID.SELECT:{this._resetInsertionModeForSelect(r);return}case se.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case se.TAG_ID.HTML:{this.insertionMode=this.headElement?at.AFTER_HEAD:at.BEFORE_HEAD;return}case se.TAG_ID.TD:case se.TAG_ID.TH:{if(r>0){this.insertionMode=at.IN_CELL;return}break}case se.TAG_ID.HEAD:{if(r>0){this.insertionMode=at.IN_HEAD;return}break}}this.insertionMode=at.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(r){if(r>0)for(let s=r-1;s>0;s--){const a=this.openElements.tagIDs[s];if(a===se.TAG_ID.TEMPLATE)break;if(a===se.TAG_ID.TABLE){this.insertionMode=at.IN_SELECT_IN_TABLE;return}}this.insertionMode=at.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(r){return wse.has(r)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let r=this.openElements.stackTop;r>=0;r--){const s=this.openElements.items[r];switch(this.openElements.tagIDs[r]){case se.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(s)===se.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(s),beforeElement:null};break}case se.TAG_ID.TABLE:{const a=this.treeAdapter.getParentNode(s);return a?{parent:a,beforeElement:s}:{parent:this.openElements.items[r-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(r){const s=this._findFosterParentingLocation();s.beforeElement?this.treeAdapter.insertBefore(s.parent,r,s.beforeElement):this.treeAdapter.appendChild(s.parent,r)}},{key:"_isSpecialElement",value:function(r,s){const a=this.treeAdapter.getNamespaceURI(r);return se.SPECIAL_ELEMENTS[a].has(s)}},{key:"onCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){jFe(this,r);return}switch(this.insertionMode){case at.INITIAL:{vP(this,r);break}case at.BEFORE_HTML:{yP(this,r);break}case at.BEFORE_HEAD:{bP(this,r);break}case at.IN_HEAD:{_P(this,r);break}case at.IN_HEAD_NO_SCRIPT:{TP(this,r);break}case at.AFTER_HEAD:{EP(this,r);break}case at.IN_BODY:case at.IN_CAPTION:case at.IN_CELL:case at.IN_TEMPLATE:{Ise(this,r);break}case at.TEXT:case at.IN_SELECT:case at.IN_SELECT_IN_TABLE:{this._insertCharacters(r);break}case at.IN_TABLE:case at.IN_TABLE_BODY:case at.IN_ROW:{Ij(this,r);break}case at.IN_TABLE_TEXT:{Lse(this,r);break}case at.IN_COLUMN_GROUP:{qB(this,r);break}case at.AFTER_BODY:{QB(this,r);break}case at.AFTER_AFTER_BODY:{JB(this,r);break}}}},{key:"onNullCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){VFe(this,r);return}switch(this.insertionMode){case at.INITIAL:{vP(this,r);break}case at.BEFORE_HTML:{yP(this,r);break}case at.BEFORE_HEAD:{bP(this,r);break}case at.IN_HEAD:{_P(this,r);break}case at.IN_HEAD_NO_SCRIPT:{TP(this,r);break}case at.AFTER_HEAD:{EP(this,r);break}case at.TEXT:{this._insertCharacters(r);break}case at.IN_TABLE:case at.IN_TABLE_BODY:case at.IN_ROW:{Ij(this,r);break}case at.IN_COLUMN_GROUP:{qB(this,r);break}case at.AFTER_BODY:{QB(this,r);break}case at.AFTER_AFTER_BODY:{JB(this,r);break}}}},{key:"onComment",value:function(r){if(this.skipNextNewLine=!1,this.currentNotInHTML){Cj(this,r);return}switch(this.insertionMode){case at.INITIAL:case at.BEFORE_HTML:case at.BEFORE_HEAD:case at.IN_HEAD:case at.IN_HEAD_NO_SCRIPT:case at.AFTER_HEAD:case at.IN_BODY:case at.IN_TABLE:case at.IN_CAPTION:case at.IN_COLUMN_GROUP:case at.IN_TABLE_BODY:case at.IN_ROW:case at.IN_CELL:case at.IN_SELECT:case at.IN_SELECT_IN_TABLE:case at.IN_TEMPLATE:case at.IN_FRAMESET:case at.AFTER_FRAMESET:{Cj(this,r);break}case at.IN_TABLE_TEXT:{wP(this,r);break}case at.AFTER_BODY:{E3e(this,r);break}case at.AFTER_AFTER_BODY:case at.AFTER_AFTER_FRAMESET:{S3e(this,r);break}}}},{key:"onDoctype",value:function(r){switch(this.skipNextNewLine=!1,this.insertionMode){case at.INITIAL:{A3e(this,r);break}case at.BEFORE_HEAD:case at.IN_HEAD:case at.IN_HEAD_NO_SCRIPT:case at.AFTER_HEAD:{this._err(r,Zs.ERR.misplacedDoctype);break}case at.IN_TABLE_TEXT:{wP(this,r);break}}}},{key:"onStartTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this._processStartTag(r),r.selfClosing&&!r.ackSelfClosing&&this._err(r,Zs.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(r){this.shouldProcessStartTagTokenInForeignContent(r)?WFe(this,r):this._startTagOutsideForeignContent(r)}},{key:"_startTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case at.INITIAL:{vP(this,r);break}case at.BEFORE_HTML:{w3e(this,r);break}case at.BEFORE_HEAD:{x3e(this,r);break}case at.IN_HEAD:{od(this,r);break}case at.IN_HEAD_NO_SCRIPT:{O3e(this,r);break}case at.AFTER_HEAD:{R3e(this,r);break}case at.IN_BODY:{wl(this,r);break}case at.IN_TABLE:{rC(this,r);break}case at.IN_TABLE_TEXT:{wP(this,r);break}case at.IN_CAPTION:{IFe(this,r);break}case at.IN_COLUMN_GROUP:{Dj(this,r);break}case at.IN_TABLE_BODY:{ZB(this,r);break}case at.IN_ROW:{KB(this,r);break}case at.IN_CELL:{kFe(this,r);break}case at.IN_SELECT:{Hse(this,r);break}case at.IN_SELECT_IN_TABLE:{PFe(this,r);break}case at.IN_TEMPLATE:{MFe(this,r);break}case at.AFTER_BODY:{FFe(this,r);break}case at.IN_FRAMESET:{BFe(this,r);break}case at.AFTER_FRAMESET:{UFe(this,r);break}case at.AFTER_AFTER_BODY:{$Fe(this,r);break}case at.AFTER_AFTER_FRAMESET:{zFe(this,r);break}}}},{key:"onEndTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this.currentNotInHTML?XFe(this,r):this._endTagOutsideForeignContent(r)}},{key:"_endTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case at.INITIAL:{vP(this,r);break}case at.BEFORE_HTML:{C3e(this,r);break}case at.BEFORE_HEAD:{I3e(this,r);break}case at.IN_HEAD:{D3e(this,r);break}case at.IN_HEAD_NO_SCRIPT:{k3e(this,r);break}case at.AFTER_HEAD:{P3e(this,r);break}case at.IN_BODY:{YB(this,r);break}case at.TEXT:{yFe(this,r);break}case at.IN_TABLE:{SP(this,r);break}case at.IN_TABLE_TEXT:{wP(this,r);break}case at.IN_CAPTION:{DFe(this,r);break}case at.IN_COLUMN_GROUP:{OFe(this,r);break}case at.IN_TABLE_BODY:{Oj(this,r);break}case at.IN_ROW:{Bse(this,r);break}case at.IN_CELL:{RFe(this,r);break}case at.IN_SELECT:{Use(this,r);break}case at.IN_SELECT_IN_TABLE:{NFe(this,r);break}case at.IN_TEMPLATE:{LFe(this,r);break}case at.AFTER_BODY:{$se(this,r);break}case at.IN_FRAMESET:{HFe(this,r);break}case at.AFTER_FRAMESET:{GFe(this,r);break}case at.AFTER_AFTER_BODY:{JB(this,r);break}}}},{key:"onEof",value:function(r){switch(this.insertionMode){case at.INITIAL:{vP(this,r);break}case at.BEFORE_HTML:{yP(this,r);break}case at.BEFORE_HEAD:{bP(this,r);break}case at.IN_HEAD:{_P(this,r);break}case at.IN_HEAD_NO_SCRIPT:{TP(this,r);break}case at.AFTER_HEAD:{EP(this,r);break}case at.IN_BODY:case at.IN_TABLE:case at.IN_CAPTION:case at.IN_COLUMN_GROUP:case at.IN_TABLE_BODY:case at.IN_ROW:case at.IN_CELL:case at.IN_SELECT:case at.IN_SELECT_IN_TABLE:{Nse(this,r);break}case at.TEXT:{bFe(this,r);break}case at.IN_TABLE_TEXT:{wP(this,r);break}case at.IN_TEMPLATE:{Gse(this,r);break}case at.AFTER_BODY:case at.IN_FRAMESET:case at.AFTER_FRAMESET:case at.AFTER_AFTER_BODY:case at.AFTER_AFTER_FRAMESET:{xj(this,r);break}}}},{key:"onWhitespaceCharacter",value:function(r){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,r.chars.charCodeAt(0)===Ase.CODE_POINTS.LINE_FEED)){if(r.chars.length===1)return;r.chars=r.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(r);return}switch(this.insertionMode){case at.IN_HEAD:case at.IN_HEAD_NO_SCRIPT:case at.AFTER_HEAD:case at.TEXT:case at.IN_COLUMN_GROUP:case at.IN_SELECT:case at.IN_SELECT_IN_TABLE:case at.IN_FRAMESET:case at.AFTER_FRAMESET:{this._insertCharacters(r);break}case at.IN_BODY:case at.IN_CAPTION:case at.IN_CELL:case at.IN_TEMPLATE:case at.AFTER_BODY:case at.AFTER_AFTER_BODY:case at.AFTER_AFTER_FRAMESET:{xse(this,r);break}case at.IN_TABLE:case at.IN_TABLE_BODY:case at.IN_ROW:{Ij(this,r);break}case at.IN_TABLE_TEXT:{Mse(this,r);break}}}}],[{key:"parse",value:function(r,s){const a=new this(s);return a.tokenizer.write(r,!0),a.document}},{key:"getFragmentParser",value:function(r,s){const a=Object.assign(Object.assign({},Cse),s);r??(r=a.treeAdapter.createElement(se.TAG_NAMES.TEMPLATE,se.NS.HTML,[]));const u=a.treeAdapter.createElement("documentmock",se.NS.HTML,[]),h=new this(a,u,r);return h.fragmentContextID===se.TAG_ID.TEMPLATE&&h.tmplInsertionModeStack.unshift(at.IN_TEMPLATE),h._initTokenizerForFragmentParsing(),h._insertFakeRootElement(),h._resetInsertionMode(),h._findFormInFragmentContext(),h}}]),e}();dP.Parser=m3e;function g3e(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):Pse(e,t),r}function v3e(e,t){let r=null,s=e.openElements.stackTop;for(;s>=0;s--){const a=e.openElements.items[s];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[s])&&(r=a)}return r||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),r}function y3e(e,t,r){let s=t,a=e.openElements.getCommonAncestor(t);for(let u=0,h=a;h!==r;u++,h=a){a=e.openElements.getCommonAncestor(h);const f=e.activeFormattingElements.getElementEntry(h),g=f&&u>=d3e;!f||g?(g&&e.activeFormattingElements.removeEntry(f),e.openElements.remove(h)):(h=b3e(e,f),s===t&&(e.activeFormattingElements.bookmark=f),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(h,s),s=h)}return s}function b3e(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s}function _3e(e,t,r){const s=e.treeAdapter.getTagName(t),a=(0,se.getTagID)(s);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const u=e.treeAdapter.getNamespaceURI(t);a===se.TAG_ID.TEMPLATE&&u===se.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function T3e(e,t,r){const s=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,u=e.treeAdapter.createElement(a.tagName,s,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,u,a.tagID)}function wj(e,t){for(let r=0;r<f3e;r++){const s=g3e(e,t);if(!s)break;const a=v3e(e,s);if(!a)break;e.activeFormattingElements.bookmark=s;const u=y3e(e,a,s.element),h=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(u),h&&_3e(e,h,u),T3e(e,a,s)}}function Cj(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function E3e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function S3e(e,t){e._appendCommentNode(t,e.document)}function xj(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=r;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(s);if(a&&!a.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],h=e.treeAdapter.getNodeSourceCodeLocation(u);h&&!h.endTag&&e._setEndLocation(u,t)}}}}function A3e(e,t){e._setDocumentType(t);const r=t.forceQuirks?se.DOCUMENT_MODE.QUIRKS:Sse.getDocumentMode(t);Sse.isConforming(t)||e._err(t,Zs.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=at.BEFORE_HTML}function vP(e,t){e._err(t,Zs.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,se.DOCUMENT_MODE.QUIRKS),e.insertionMode=at.BEFORE_HTML,e._processToken(t)}function w3e(e,t){t.tagID===se.TAG_ID.HTML?(e._insertElement(t,se.NS.HTML),e.insertionMode=at.BEFORE_HEAD):yP(e,t)}function C3e(e,t){const r=t.tagID;(r===se.TAG_ID.HTML||r===se.TAG_ID.HEAD||r===se.TAG_ID.BODY||r===se.TAG_ID.BR)&&yP(e,t)}function yP(e,t){e._insertFakeRootElement(),e.insertionMode=at.BEFORE_HEAD,e._processToken(t)}function x3e(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.HEAD:{e._insertElement(t,se.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=at.IN_HEAD;break}default:bP(e,t)}}function I3e(e,t){const r=t.tagID;r===se.TAG_ID.HEAD||r===se.TAG_ID.BODY||r===se.TAG_ID.HTML||r===se.TAG_ID.BR?bP(e,t):e._err(t,Zs.ERR.endTagWithoutMatchingOpenElement)}function bP(e,t){e._insertFakeElement(se.TAG_NAMES.HEAD,se.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=at.IN_HEAD,e._processToken(t)}function od(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.BASE:case se.TAG_ID.BASEFONT:case se.TAG_ID.BGSOUND:case se.TAG_ID.LINK:case se.TAG_ID.META:{e._appendElement(t,se.NS.HTML),t.ackSelfClosing=!0;break}case se.TAG_ID.TITLE:{e._switchToTextParsing(t,hu.TokenizerMode.RCDATA);break}case se.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,hu.TokenizerMode.RAWTEXT):(e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_HEAD_NO_SCRIPT);break}case se.TAG_ID.NOFRAMES:case se.TAG_ID.STYLE:{e._switchToTextParsing(t,hu.TokenizerMode.RAWTEXT);break}case se.TAG_ID.SCRIPT:{e._switchToTextParsing(t,hu.TokenizerMode.SCRIPT_DATA);break}case se.TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=at.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(at.IN_TEMPLATE);break}case se.TAG_ID.HEAD:{e._err(t,Zs.ERR.misplacedStartTagForHeadElement);break}default:_P(e,t)}}function D3e(e,t){switch(t.tagID){case se.TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=at.AFTER_HEAD;break}case se.TAG_ID.BODY:case se.TAG_ID.BR:case se.TAG_ID.HTML:{_P(e,t);break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}default:e._err(t,Zs.ERR.endTagWithoutMatchingOpenElement)}}function H_(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==se.TAG_ID.TEMPLATE&&e._err(t,Zs.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(se.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Zs.ERR.endTagWithoutMatchingOpenElement)}function _P(e,t){e.openElements.pop(),e.insertionMode=at.AFTER_HEAD,e._processToken(t)}function O3e(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.BASEFONT:case se.TAG_ID.BGSOUND:case se.TAG_ID.HEAD:case se.TAG_ID.LINK:case se.TAG_ID.META:case se.TAG_ID.NOFRAMES:case se.TAG_ID.STYLE:{od(e,t);break}case se.TAG_ID.NOSCRIPT:{e._err(t,Zs.ERR.nestedNoscriptInHead);break}default:TP(e,t)}}function k3e(e,t){switch(t.tagID){case se.TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=at.IN_HEAD;break}case se.TAG_ID.BR:{TP(e,t);break}default:e._err(t,Zs.ERR.endTagWithoutMatchingOpenElement)}}function TP(e,t){const r=t.type===us.TokenType.EOF?Zs.ERR.openElementsLeftAfterEof:Zs.ERR.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=at.IN_HEAD,e._processToken(t)}function R3e(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.BODY:{e._insertElement(t,se.NS.HTML),e.framesetOk=!1,e.insertionMode=at.IN_BODY;break}case se.TAG_ID.FRAMESET:{e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_FRAMESET;break}case se.TAG_ID.BASE:case se.TAG_ID.BASEFONT:case se.TAG_ID.BGSOUND:case se.TAG_ID.LINK:case se.TAG_ID.META:case se.TAG_ID.NOFRAMES:case se.TAG_ID.SCRIPT:case se.TAG_ID.STYLE:case se.TAG_ID.TEMPLATE:case se.TAG_ID.TITLE:{e._err(t,Zs.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,se.TAG_ID.HEAD),od(e,t),e.openElements.remove(e.headElement);break}case se.TAG_ID.HEAD:{e._err(t,Zs.ERR.misplacedStartTagForHeadElement);break}default:EP(e,t)}}function P3e(e,t){switch(t.tagID){case se.TAG_ID.BODY:case se.TAG_ID.HTML:case se.TAG_ID.BR:{EP(e,t);break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}default:e._err(t,Zs.ERR.endTagWithoutMatchingOpenElement)}}function EP(e,t){e._insertFakeElement(se.TAG_NAMES.BODY,se.TAG_ID.BODY),e.insertionMode=at.IN_BODY,XB(e,t)}function XB(e,t){switch(t.type){case us.TokenType.CHARACTER:{Ise(e,t);break}case us.TokenType.WHITESPACE_CHARACTER:{xse(e,t);break}case us.TokenType.COMMENT:{Cj(e,t);break}case us.TokenType.START_TAG:{wl(e,t);break}case us.TokenType.END_TAG:{YB(e,t);break}case us.TokenType.EOF:{Nse(e,t);break}}}function xse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ise(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function N3e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function M3e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function L3e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_FRAMESET)}function F3e(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML)}function B3e(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),(0,se.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,se.NS.HTML)}function H3e(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function U3e(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML),r||(e.formElement=e.openElements.current))}function G3e(e,t){e.framesetOk=!1;const r=t.tagID;for(let s=e.openElements.stackTop;s>=0;s--){const a=e.openElements.tagIDs[s];if(r===se.TAG_ID.LI&&a===se.TAG_ID.LI||(r===se.TAG_ID.DD||r===se.TAG_ID.DT)&&(a===se.TAG_ID.DD||a===se.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==se.TAG_ID.ADDRESS&&a!==se.TAG_ID.DIV&&a!==se.TAG_ID.P&&e._isSpecialElement(e.openElements.items[s],a))break}e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML)}function $3e(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML),e.tokenizer.state=hu.TokenizerMode.PLAINTEXT}function z3e(e,t){e.openElements.hasInScope(se.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(se.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML),e.framesetOk=!1}function V3e(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(se.TAG_NAMES.A);r&&(wj(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function j3e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function W3e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(se.TAG_ID.NOBR)&&(wj(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,se.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function X3e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Y3e(e,t){e.treeAdapter.getDocumentMode(e.document)!==se.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._insertElement(t,se.NS.HTML),e.framesetOk=!1,e.insertionMode=at.IN_TABLE}function Dse(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ose(e){const t=(0,us.getTokenAttr)(e,se.ATTRS.TYPE);return t!=null&&t.toLowerCase()===h3e}function q3e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.NS.HTML),Ose(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Z3e(e,t){e._appendElement(t,se.NS.HTML),t.ackSelfClosing=!0}function K3e(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._appendElement(t,se.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Q3e(e,t){t.tagName=se.TAG_NAMES.IMG,t.tagID=se.TAG_ID.IMG,Dse(e,t)}function J3e(e,t){e._insertElement(t,se.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=hu.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=at.TEXT}function eFe(e,t){e.openElements.hasInButtonScope(se.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,hu.TokenizerMode.RAWTEXT)}function tFe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,hu.TokenizerMode.RAWTEXT)}function kse(e,t){e._switchToTextParsing(t,hu.TokenizerMode.RAWTEXT)}function rFe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===at.IN_TABLE||e.insertionMode===at.IN_CAPTION||e.insertionMode===at.IN_TABLE_BODY||e.insertionMode===at.IN_ROW||e.insertionMode===at.IN_CELL?at.IN_SELECT_IN_TABLE:at.IN_SELECT}function nFe(e,t){e.openElements.currentTagId===se.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML)}function iFe(e,t){e.openElements.hasInScope(se.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,se.NS.HTML)}function aFe(e,t){e.openElements.hasInScope(se.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(se.TAG_ID.RTC),e._insertElement(t,se.NS.HTML)}function oFe(e,t){e._reconstructActiveFormattingElements(),qp.adjustTokenMathMLAttrs(t),qp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,se.NS.MATHML):e._insertElement(t,se.NS.MATHML),t.ackSelfClosing=!0}function sFe(e,t){e._reconstructActiveFormattingElements(),qp.adjustTokenSVGAttrs(t),qp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,se.NS.SVG):e._insertElement(t,se.NS.SVG),t.ackSelfClosing=!0}function Rse(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.NS.HTML)}function wl(e,t){switch(t.tagID){case se.TAG_ID.I:case se.TAG_ID.S:case se.TAG_ID.B:case se.TAG_ID.U:case se.TAG_ID.EM:case se.TAG_ID.TT:case se.TAG_ID.BIG:case se.TAG_ID.CODE:case se.TAG_ID.FONT:case se.TAG_ID.SMALL:case se.TAG_ID.STRIKE:case se.TAG_ID.STRONG:{j3e(e,t);break}case se.TAG_ID.A:{V3e(e,t);break}case se.TAG_ID.H1:case se.TAG_ID.H2:case se.TAG_ID.H3:case se.TAG_ID.H4:case se.TAG_ID.H5:case se.TAG_ID.H6:{B3e(e,t);break}case se.TAG_ID.P:case se.TAG_ID.DL:case se.TAG_ID.OL:case se.TAG_ID.UL:case se.TAG_ID.DIV:case se.TAG_ID.DIR:case se.TAG_ID.NAV:case se.TAG_ID.MAIN:case se.TAG_ID.MENU:case se.TAG_ID.ASIDE:case se.TAG_ID.CENTER:case se.TAG_ID.FIGURE:case se.TAG_ID.FOOTER:case se.TAG_ID.HEADER:case se.TAG_ID.HGROUP:case se.TAG_ID.DIALOG:case se.TAG_ID.DETAILS:case se.TAG_ID.ADDRESS:case se.TAG_ID.ARTICLE:case se.TAG_ID.SECTION:case se.TAG_ID.SUMMARY:case se.TAG_ID.FIELDSET:case se.TAG_ID.BLOCKQUOTE:case se.TAG_ID.FIGCAPTION:{F3e(e,t);break}case se.TAG_ID.LI:case se.TAG_ID.DD:case se.TAG_ID.DT:{G3e(e,t);break}case se.TAG_ID.BR:case se.TAG_ID.IMG:case se.TAG_ID.WBR:case se.TAG_ID.AREA:case se.TAG_ID.EMBED:case se.TAG_ID.KEYGEN:{Dse(e,t);break}case se.TAG_ID.HR:{K3e(e,t);break}case se.TAG_ID.RB:case se.TAG_ID.RTC:{iFe(e,t);break}case se.TAG_ID.RT:case se.TAG_ID.RP:{aFe(e,t);break}case se.TAG_ID.PRE:case se.TAG_ID.LISTING:{H3e(e,t);break}case se.TAG_ID.XMP:{eFe(e,t);break}case se.TAG_ID.SVG:{sFe(e,t);break}case se.TAG_ID.HTML:{N3e(e,t);break}case se.TAG_ID.BASE:case se.TAG_ID.LINK:case se.TAG_ID.META:case se.TAG_ID.STYLE:case se.TAG_ID.TITLE:case se.TAG_ID.SCRIPT:case se.TAG_ID.BGSOUND:case se.TAG_ID.BASEFONT:case se.TAG_ID.TEMPLATE:{od(e,t);break}case se.TAG_ID.BODY:{M3e(e,t);break}case se.TAG_ID.FORM:{U3e(e,t);break}case se.TAG_ID.NOBR:{W3e(e,t);break}case se.TAG_ID.MATH:{oFe(e,t);break}case se.TAG_ID.TABLE:{Y3e(e,t);break}case se.TAG_ID.INPUT:{q3e(e,t);break}case se.TAG_ID.PARAM:case se.TAG_ID.TRACK:case se.TAG_ID.SOURCE:{Z3e(e,t);break}case se.TAG_ID.IMAGE:{Q3e(e,t);break}case se.TAG_ID.BUTTON:{z3e(e,t);break}case se.TAG_ID.APPLET:case se.TAG_ID.OBJECT:case se.TAG_ID.MARQUEE:{X3e(e,t);break}case se.TAG_ID.IFRAME:{tFe(e,t);break}case se.TAG_ID.SELECT:{rFe(e,t);break}case se.TAG_ID.OPTION:case se.TAG_ID.OPTGROUP:{nFe(e,t);break}case se.TAG_ID.NOEMBED:{kse(e,t);break}case se.TAG_ID.FRAMESET:{L3e(e,t);break}case se.TAG_ID.TEXTAREA:{J3e(e,t);break}case se.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?kse(e,t):Rse(e,t);break}case se.TAG_ID.PLAINTEXT:{$3e(e,t);break}case se.TAG_ID.COL:case se.TAG_ID.TH:case se.TAG_ID.TD:case se.TAG_ID.TR:case se.TAG_ID.HEAD:case se.TAG_ID.FRAME:case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:case se.TAG_ID.CAPTION:case se.TAG_ID.COLGROUP:break;default:Rse(e,t)}}function lFe(e,t){if(e.openElements.hasInScope(se.TAG_ID.BODY)&&(e.insertionMode=at.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function uFe(e,t){e.openElements.hasInScope(se.TAG_ID.BODY)&&(e.insertionMode=at.AFTER_BODY,$se(e,t))}function cFe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function hFe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(se.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(se.TAG_ID.FORM):r&&e.openElements.remove(r))}function fFe(e){e.openElements.hasInButtonScope(se.TAG_ID.P)||e._insertFakeElement(se.TAG_NAMES.P,se.TAG_ID.P),e._closePElement()}function dFe(e){e.openElements.hasInListItemScope(se.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(se.TAG_ID.LI),e.openElements.popUntilTagNamePopped(se.TAG_ID.LI))}function pFe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function mFe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function gFe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function vFe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(se.TAG_NAMES.BR,se.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function Pse(e,t){const r=t.tagName,s=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],h=e.openElements.tagIDs[a];if(s===h&&(s!==se.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(u)===r)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,h))break}}function YB(e,t){switch(t.tagID){case se.TAG_ID.A:case se.TAG_ID.B:case se.TAG_ID.I:case se.TAG_ID.S:case se.TAG_ID.U:case se.TAG_ID.EM:case se.TAG_ID.TT:case se.TAG_ID.BIG:case se.TAG_ID.CODE:case se.TAG_ID.FONT:case se.TAG_ID.NOBR:case se.TAG_ID.SMALL:case se.TAG_ID.STRIKE:case se.TAG_ID.STRONG:{wj(e,t);break}case se.TAG_ID.P:{fFe(e);break}case se.TAG_ID.DL:case se.TAG_ID.UL:case se.TAG_ID.OL:case se.TAG_ID.DIR:case se.TAG_ID.DIV:case se.TAG_ID.NAV:case se.TAG_ID.PRE:case se.TAG_ID.MAIN:case se.TAG_ID.MENU:case se.TAG_ID.ASIDE:case se.TAG_ID.BUTTON:case se.TAG_ID.CENTER:case se.TAG_ID.FIGURE:case se.TAG_ID.FOOTER:case se.TAG_ID.HEADER:case se.TAG_ID.HGROUP:case se.TAG_ID.DIALOG:case se.TAG_ID.ADDRESS:case se.TAG_ID.ARTICLE:case se.TAG_ID.DETAILS:case se.TAG_ID.SECTION:case se.TAG_ID.SUMMARY:case se.TAG_ID.LISTING:case se.TAG_ID.FIELDSET:case se.TAG_ID.BLOCKQUOTE:case se.TAG_ID.FIGCAPTION:{cFe(e,t);break}case se.TAG_ID.LI:{dFe(e);break}case se.TAG_ID.DD:case se.TAG_ID.DT:{pFe(e,t);break}case se.TAG_ID.H1:case se.TAG_ID.H2:case se.TAG_ID.H3:case se.TAG_ID.H4:case se.TAG_ID.H5:case se.TAG_ID.H6:{mFe(e);break}case se.TAG_ID.BR:{vFe(e);break}case se.TAG_ID.BODY:{lFe(e,t);break}case se.TAG_ID.HTML:{uFe(e,t);break}case se.TAG_ID.FORM:{hFe(e);break}case se.TAG_ID.APPLET:case se.TAG_ID.OBJECT:case se.TAG_ID.MARQUEE:{gFe(e,t);break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}default:Pse(e,t)}}function Nse(e,t){e.tmplInsertionModeStack.length>0?Gse(e,t):xj(e,t)}function yFe(e,t){var r;t.tagID===se.TAG_ID.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function bFe(e,t){e._err(t,Zs.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ij(e,t){if(wse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=at.IN_TABLE_TEXT,t.type){case us.TokenType.CHARACTER:{Lse(e,t);break}case us.TokenType.WHITESPACE_CHARACTER:{Mse(e,t);break}}else AP(e,t)}function _Fe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_CAPTION}function TFe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_COLUMN_GROUP}function EFe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.TAG_NAMES.COLGROUP,se.TAG_ID.COLGROUP),e.insertionMode=at.IN_COLUMN_GROUP,Dj(e,t)}function SFe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_TABLE_BODY}function AFe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.TAG_NAMES.TBODY,se.TAG_ID.TBODY),e.insertionMode=at.IN_TABLE_BODY,ZB(e,t)}function wFe(e,t){e.openElements.hasInTableScope(se.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(se.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function CFe(e,t){Ose(t)?e._appendElement(t,se.NS.HTML):AP(e,t),t.ackSelfClosing=!0}function xFe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,se.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function rC(e,t){switch(t.tagID){case se.TAG_ID.TD:case se.TAG_ID.TH:case se.TAG_ID.TR:{AFe(e,t);break}case se.TAG_ID.STYLE:case se.TAG_ID.SCRIPT:case se.TAG_ID.TEMPLATE:{od(e,t);break}case se.TAG_ID.COL:{EFe(e,t);break}case se.TAG_ID.FORM:{xFe(e,t);break}case se.TAG_ID.TABLE:{wFe(e,t);break}case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:{SFe(e,t);break}case se.TAG_ID.INPUT:{CFe(e,t);break}case se.TAG_ID.CAPTION:{_Fe(e,t);break}case se.TAG_ID.COLGROUP:{TFe(e,t);break}default:AP(e,t)}}function SP(e,t){switch(t.tagID){case se.TAG_ID.TABLE:{e.openElements.hasInTableScope(se.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(se.TAG_ID.TABLE),e._resetInsertionMode());break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}case se.TAG_ID.BODY:case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.HTML:case se.TAG_ID.TBODY:case se.TAG_ID.TD:case se.TAG_ID.TFOOT:case se.TAG_ID.TH:case se.TAG_ID.THEAD:case se.TAG_ID.TR:break;default:AP(e,t)}}function AP(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,XB(e,t),e.fosterParentingEnabled=r}function Mse(e,t){e.pendingCharacterTokens.push(t)}function Lse(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function wP(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)AP(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Fse=new Set([se.TAG_ID.CAPTION,se.TAG_ID.COL,se.TAG_ID.COLGROUP,se.TAG_ID.TBODY,se.TAG_ID.TD,se.TAG_ID.TFOOT,se.TAG_ID.TH,se.TAG_ID.THEAD,se.TAG_ID.TR]);function IFe(e,t){const r=t.tagID;Fse.has(r)?e.openElements.hasInTableScope(se.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(se.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=at.IN_TABLE,rC(e,t)):wl(e,t)}function DFe(e,t){const r=t.tagID;switch(r){case se.TAG_ID.CAPTION:case se.TAG_ID.TABLE:{e.openElements.hasInTableScope(se.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(se.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=at.IN_TABLE,r===se.TAG_ID.TABLE&&SP(e,t));break}case se.TAG_ID.BODY:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.HTML:case se.TAG_ID.TBODY:case se.TAG_ID.TD:case se.TAG_ID.TFOOT:case se.TAG_ID.TH:case se.TAG_ID.THEAD:case se.TAG_ID.TR:break;default:YB(e,t)}}function Dj(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.COL:{e._appendElement(t,se.NS.HTML),t.ackSelfClosing=!0;break}case se.TAG_ID.TEMPLATE:{od(e,t);break}default:qB(e,t)}}function OFe(e,t){switch(t.tagID){case se.TAG_ID.COLGROUP:{e.openElements.currentTagId===se.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=at.IN_TABLE);break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}case se.TAG_ID.COL:break;default:qB(e,t)}}function qB(e,t){e.openElements.currentTagId===se.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=at.IN_TABLE,e._processToken(t))}function ZB(e,t){switch(t.tagID){case se.TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_ROW;break}case se.TAG_ID.TH:case se.TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(se.TAG_NAMES.TR,se.TAG_ID.TR),e.insertionMode=at.IN_ROW,KB(e,t);break}case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE,rC(e,t));break}default:rC(e,t)}}function Oj(e,t){const r=t.tagID;switch(t.tagID){case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE);break}case se.TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE,SP(e,t));break}case se.TAG_ID.BODY:case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.HTML:case se.TAG_ID.TD:case se.TAG_ID.TH:case se.TAG_ID.TR:break;default:SP(e,t)}}function KB(e,t){switch(t.tagID){case se.TAG_ID.TH:case se.TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,se.NS.HTML),e.insertionMode=at.IN_CELL,e.activeFormattingElements.insertMarker();break}case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:case se.TAG_ID.TR:{e.openElements.hasInTableScope(se.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE_BODY,ZB(e,t));break}default:rC(e,t)}}function Bse(e,t){switch(t.tagID){case se.TAG_ID.TR:{e.openElements.hasInTableScope(se.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE_BODY);break}case se.TAG_ID.TABLE:{e.openElements.hasInTableScope(se.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE_BODY,Oj(e,t));break}case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(se.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=at.IN_TABLE_BODY,Oj(e,t));break}case se.TAG_ID.BODY:case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.HTML:case se.TAG_ID.TD:case se.TAG_ID.TH:break;default:SP(e,t)}}function kFe(e,t){const r=t.tagID;Fse.has(r)?(e.openElements.hasInTableScope(se.TAG_ID.TD)||e.openElements.hasInTableScope(se.TAG_ID.TH))&&(e._closeTableCell(),KB(e,t)):wl(e,t)}function RFe(e,t){const r=t.tagID;switch(r){case se.TAG_ID.TD:case se.TAG_ID.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=at.IN_ROW);break}case se.TAG_ID.TABLE:case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:case se.TAG_ID.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),Bse(e,t));break}case se.TAG_ID.BODY:case se.TAG_ID.CAPTION:case se.TAG_ID.COL:case se.TAG_ID.COLGROUP:case se.TAG_ID.HTML:break;default:YB(e,t)}}function Hse(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.OPTION:{e.openElements.currentTagId===se.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,se.NS.HTML);break}case se.TAG_ID.OPTGROUP:{e.openElements.currentTagId===se.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===se.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,se.NS.HTML);break}case se.TAG_ID.INPUT:case se.TAG_ID.KEYGEN:case se.TAG_ID.TEXTAREA:case se.TAG_ID.SELECT:{e.openElements.hasInSelectScope(se.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(se.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==se.TAG_ID.SELECT&&e._processStartTag(t));break}case se.TAG_ID.SCRIPT:case se.TAG_ID.TEMPLATE:{od(e,t);break}}}function Use(e,t){switch(t.tagID){case se.TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===se.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===se.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===se.TAG_ID.OPTGROUP&&e.openElements.pop();break}case se.TAG_ID.OPTION:{e.openElements.currentTagId===se.TAG_ID.OPTION&&e.openElements.pop();break}case se.TAG_ID.SELECT:{e.openElements.hasInSelectScope(se.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(se.TAG_ID.SELECT),e._resetInsertionMode());break}case se.TAG_ID.TEMPLATE:{H_(e,t);break}}}function PFe(e,t){const r=t.tagID;r===se.TAG_ID.CAPTION||r===se.TAG_ID.TABLE||r===se.TAG_ID.TBODY||r===se.TAG_ID.TFOOT||r===se.TAG_ID.THEAD||r===se.TAG_ID.TR||r===se.TAG_ID.TD||r===se.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(se.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Hse(e,t)}function NFe(e,t){const r=t.tagID;r===se.TAG_ID.CAPTION||r===se.TAG_ID.TABLE||r===se.TAG_ID.TBODY||r===se.TAG_ID.TFOOT||r===se.TAG_ID.THEAD||r===se.TAG_ID.TR||r===se.TAG_ID.TD||r===se.TAG_ID.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(se.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Use(e,t)}function MFe(e,t){switch(t.tagID){case se.TAG_ID.BASE:case se.TAG_ID.BASEFONT:case se.TAG_ID.BGSOUND:case se.TAG_ID.LINK:case se.TAG_ID.META:case se.TAG_ID.NOFRAMES:case se.TAG_ID.SCRIPT:case se.TAG_ID.STYLE:case se.TAG_ID.TEMPLATE:case se.TAG_ID.TITLE:{od(e,t);break}case se.TAG_ID.CAPTION:case se.TAG_ID.COLGROUP:case se.TAG_ID.TBODY:case se.TAG_ID.TFOOT:case se.TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=at.IN_TABLE,e.insertionMode=at.IN_TABLE,rC(e,t);break}case se.TAG_ID.COL:{e.tmplInsertionModeStack[0]=at.IN_COLUMN_GROUP,e.insertionMode=at.IN_COLUMN_GROUP,Dj(e,t);break}case se.TAG_ID.TR:{e.tmplInsertionModeStack[0]=at.IN_TABLE_BODY,e.insertionMode=at.IN_TABLE_BODY,ZB(e,t);break}case se.TAG_ID.TD:case se.TAG_ID.TH:{e.tmplInsertionModeStack[0]=at.IN_ROW,e.insertionMode=at.IN_ROW,KB(e,t);break}default:e.tmplInsertionModeStack[0]=at.IN_BODY,e.insertionMode=at.IN_BODY,wl(e,t)}}function LFe(e,t){t.tagID===se.TAG_ID.TEMPLATE&&H_(e,t)}function Gse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(se.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):xj(e,t)}function FFe(e,t){t.tagID===se.TAG_ID.HTML?wl(e,t):QB(e,t)}function $se(e,t){var r;if(t.tagID===se.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=at.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===se.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const s=e.openElements.items[1];s&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(s))===null||r===void 0)&&r.endTag)&&e._setEndLocation(s,t)}}else QB(e,t)}function QB(e,t){e.insertionMode=at.IN_BODY,XB(e,t)}function BFe(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.FRAMESET:{e._insertElement(t,se.NS.HTML);break}case se.TAG_ID.FRAME:{e._appendElement(t,se.NS.HTML),t.ackSelfClosing=!0;break}case se.TAG_ID.NOFRAMES:{od(e,t);break}}}function HFe(e,t){t.tagID===se.TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==se.TAG_ID.FRAMESET&&(e.insertionMode=at.AFTER_FRAMESET))}function UFe(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.NOFRAMES:{od(e,t);break}}}function GFe(e,t){t.tagID===se.TAG_ID.HTML&&(e.insertionMode=at.AFTER_AFTER_FRAMESET)}function $Fe(e,t){t.tagID===se.TAG_ID.HTML?wl(e,t):JB(e,t)}function JB(e,t){e.insertionMode=at.IN_BODY,XB(e,t)}function zFe(e,t){switch(t.tagID){case se.TAG_ID.HTML:{wl(e,t);break}case se.TAG_ID.NOFRAMES:{od(e,t);break}}}function VFe(e,t){t.chars=Ase.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function jFe(e,t){e._insertCharacters(t),e.framesetOk=!1}function zse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==se.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function WFe(e,t){if(qp.causesExit(t))zse(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(r);s===se.NS.MATHML?qp.adjustTokenMathMLAttrs(t):s===se.NS.SVG&&(qp.adjustTokenSVGTagName(t),qp.adjustTokenSVGAttrs(t)),qp.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0}}function XFe(e,t){if(t.tagID===se.TAG_ID.P||t.tagID===se.TAG_ID.BR){zse(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const s=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(s)===se.NS.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(s);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}var nC={};Object.defineProperty(nC,"__esModule",{value:!0}),nC.serializeOuter=nC.serialize=void 0;const Da=rv,Vse=Nw,YFe=WB,qFe=new Set([Da.TAG_NAMES.AREA,Da.TAG_NAMES.BASE,Da.TAG_NAMES.BASEFONT,Da.TAG_NAMES.BGSOUND,Da.TAG_NAMES.BR,Da.TAG_NAMES.COL,Da.TAG_NAMES.EMBED,Da.TAG_NAMES.FRAME,Da.TAG_NAMES.HR,Da.TAG_NAMES.IMG,Da.TAG_NAMES.INPUT,Da.TAG_NAMES.KEYGEN,Da.TAG_NAMES.LINK,Da.TAG_NAMES.META,Da.TAG_NAMES.PARAM,Da.TAG_NAMES.SOURCE,Da.TAG_NAMES.TRACK,Da.TAG_NAMES.WBR]);function jse(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Da.NS.HTML&&qFe.has(t.treeAdapter.getTagName(e))}const Wse={treeAdapter:YFe.defaultTreeAdapter,scriptingEnabled:!0};function ZFe(e,t){const r=Object.assign(Object.assign({},Wse),t);return jse(e,r)?"":Xse(e,r)}nC.serialize=ZFe;function KFe(e,t){const r=Object.assign(Object.assign({},Wse),t);return Yse(e,r)}nC.serializeOuter=KFe;function Xse(e,t){let r="";const s=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===Da.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Da.NS.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(s);if(a)for(const u of a)r+=Yse(u,t);return r}function Yse(e,t){return t.treeAdapter.isElementNode(e)?QFe(e,t):t.treeAdapter.isTextNode(e)?eBe(e,t):t.treeAdapter.isCommentNode(e)?tBe(e,t):t.treeAdapter.isDocumentTypeNode(e)?rBe(e,t):""}function QFe(e,t){const r=t.treeAdapter.getTagName(e);return`<${r}${JFe(e,t)}>${jse(e,t)?"":`${Xse(e,t)}</${r}>`}`}function JFe(e,{treeAdapter:t}){let r="";for(const s of t.getAttrList(e)){if(r+=" ",!s.namespace)r+=s.name;else switch(s.namespace){case Da.NS.XML:{r+=`xml:${s.name}`;break}case Da.NS.XMLNS:{s.name!=="xmlns"&&(r+="xmlns:"),r+=s.name;break}case Da.NS.XLINK:{r+=`xlink:${s.name}`;break}default:r+=`${s.prefix}:${s.name}`}r+=`="${(0,Vse.escapeAttribute)(s.value)}"`}return r}function eBe(e,t){const{treeAdapter:r}=t,s=r.getTextNodeContent(e),a=r.getParentNode(e),u=a&&r.isElementNode(a)&&r.getTagName(a);return u&&r.getNamespaceURI(a)===Da.NS.HTML&&(0,Da.hasUnescapedText)(u,t.scriptingEnabled)?s:(0,Vse.escapeText)(s)}function tBe(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function rBe(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=dP;var r=WB;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return r.defaultTreeAdapter}});var s=dP;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=nC;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return a.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return a.serializeOuter}});var u=pP;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return u.ERR}}),e.foreignContent=Aj,e.html=rv,e.Token=$B;var h=B_;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return h.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return h.TokenizerMode}});function f(v,p){return t.Parser.parse(v,p)}e.parse=f;function g(v,p,E){typeof v=="string"&&(E=p,p=v,v=null);const T=t.Parser.getFragmentParser(v,E);return T.tokenizer.write(p,!0),T.getFragment()}e.parseFragment=g})(cse),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=e.serializeDoctypeContent=void 0;const t=cse,r=ou;function s(h){return new r.Text(h)}function a(h){const f=h.includes('"')?"'":'"';return f+h+f}function u(h,f,g){let v="!DOCTYPE ";return h&&(v+=h),f?v+=` PUBLIC ${a(f)}`:g&&(v+=" SYSTEM"),g&&(v+=` ${a(g)}`),v}e.serializeDoctypeContent=u,e.adapter={isCommentNode:r.isComment,isElementNode:r.isTag,isTextNode:r.isText,createDocument(){const h=new r.Document([]);return h["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,h},createDocumentFragment(){return new r.Document([])},createElement(h,f,g){const v=Object.create(null),p=Object.create(null),E=Object.create(null);for(let S=0;S<g.length;S++){const x=g[S].name;v[x]=g[S].value,p[x]=g[S].namespace,E[x]=g[S].prefix}const T=new r.Element(h,v,[]);return T.namespace=f,T["x-attribsNamespace"]=p,T["x-attribsPrefix"]=E,T},createCommentNode(h){return new r.Comment(h)},appendChild(h,f){const g=h.children[h.children.length-1];g&&(g.next=f,f.prev=g),h.children.push(f),f.parent=h},insertBefore(h,f,g){const v=h.children.indexOf(g),{prev:p}=g;p&&(p.next=f,f.prev=p),g.prev=f,f.next=g,h.children.splice(v,0,f),f.parent=h},setTemplateContent(h,f){e.adapter.appendChild(h,f)},getTemplateContent(h){return h.children[0]},setDocumentType(h,f,g,v){const p=u(f,g,v);let E=h.children.find(T=>(0,r.isDirective)(T)&&T.name==="!doctype");E?E.data=p??null:(E=new r.ProcessingInstruction("!doctype",p),e.adapter.appendChild(h,E)),E["x-name"]=f??void 0,E["x-publicId"]=g??void 0,E["x-systemId"]=v??void 0},setDocumentMode(h,f){h["x-mode"]=f},getDocumentMode(h){return h["x-mode"]},detachNode(h){if(h.parent){const f=h.parent.children.indexOf(h),{prev:g,next:v}=h;h.prev=null,h.next=null,g&&(g.next=v),v&&(v.prev=g),h.parent.children.splice(f,1),h.parent=null}},insertText(h,f){const g=h.children[h.children.length-1];g&&(0,r.isText)(g)?g.data+=f:e.adapter.appendChild(h,s(f))},insertTextBefore(h,f,g){const v=h.children[h.children.indexOf(g)-1];v&&(0,r.isText)(v)?v.data+=f:e.adapter.insertBefore(h,s(f),g)},adoptAttributes(h,f){for(let g=0;g<f.length;g++){const v=f[g].name;typeof h.attribs[v]>"u"&&(h.attribs[v]=f[g].value,h["x-attribsNamespace"][v]=f[g].namespace,h["x-attribsPrefix"][v]=f[g].prefix)}},getFirstChild(h){return h.children[0]},getChildNodes(h){return h.children},getParentNode(h){return h.parent},getAttrList(h){return h.attributes},getTagName(h){return h.name},getNamespaceURI(h){return h.namespace},getTextNodeContent(h){return h.data},getCommentNodeContent(h){return h.data},getDocumentTypeNodeName(h){var f;return(f=h["x-name"])!==null&&f!==void 0?f:""},getDocumentTypeNodePublicId(h){var f;return(f=h["x-publicId"])!==null&&f!==void 0?f:""},getDocumentTypeNodeSystemId(h){var f;return(f=h["x-systemId"])!==null&&f!==void 0?f:""},isDocumentTypeNode(h){return(0,r.isDirective)(h)&&h.name==="!doctype"},setNodeSourceCodeLocation(h,f){f&&(h.startIndex=f.startOffset,h.endIndex=f.endOffset),h.sourceCodeLocation=f},getNodeSourceCodeLocation(h){return h.sourceCodeLocation},updateNodeSourceCodeLocation(h,f){f.endOffset!=null&&(h.endIndex=f.endOffset),h.sourceCodeLocation=Object.assign(Object.assign({},h.sourceCodeLocation),f)}}}(use);var nBe=ve&&ve.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,u;s<a;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(qw,"__esModule",{value:!0}),qw.renderWithParse5=qw.parseWithParse5=void 0;var iBe=ou,kj=Aoe,qse=use;function aBe(e,t,r,s){var a={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:qse.adapter,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return r?(0,kj.parse)(e,a):(0,kj.parseFragment)(s,e,a)}qw.parseWithParse5=aBe;var oBe={treeAdapter:qse.adapter};function sBe(e){for(var t,r=("length"in e)?e:[e],s=0;s<r.length;s+=1){var a=r[s];(0,iBe.isDocument)(a)&&(t=Array.prototype.splice).call.apply(t,nBe([r,s,1],a.children,!1))}for(var u="",s=0;s<r.length;s+=1){var a=r[s];u+=(0,kj.serializeOuter)(a,oBe)}return u}qw.renderWithParse5=sBe;var Zse={},e6={},Rj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=I_,r;(function(T){T[T.Tab=9]="Tab",T[T.NewLine=10]="NewLine",T[T.FormFeed=12]="FormFeed",T[T.CarriageReturn=13]="CarriageReturn",T[T.Space=32]="Space",T[T.ExclamationMark=33]="ExclamationMark",T[T.Num=35]="Num",T[T.Amp=38]="Amp",T[T.SingleQuote=39]="SingleQuote",T[T.DoubleQuote=34]="DoubleQuote",T[T.Dash=45]="Dash",T[T.Slash=47]="Slash",T[T.Zero=48]="Zero",T[T.Nine=57]="Nine",T[T.Semi=59]="Semi",T[T.Lt=60]="Lt",T[T.Eq=61]="Eq",T[T.Gt=62]="Gt",T[T.Questionmark=63]="Questionmark",T[T.UpperA=65]="UpperA",T[T.LowerA=97]="LowerA",T[T.UpperF=70]="UpperF",T[T.LowerF=102]="LowerF",T[T.UpperZ=90]="UpperZ",T[T.LowerZ=122]="LowerZ",T[T.LowerX=120]="LowerX",T[T.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var s;(function(T){T[T.Text=1]="Text",T[T.BeforeTagName=2]="BeforeTagName",T[T.InTagName=3]="InTagName",T[T.InSelfClosingTag=4]="InSelfClosingTag",T[T.BeforeClosingTagName=5]="BeforeClosingTagName",T[T.InClosingTagName=6]="InClosingTagName",T[T.AfterClosingTagName=7]="AfterClosingTagName",T[T.BeforeAttributeName=8]="BeforeAttributeName",T[T.InAttributeName=9]="InAttributeName",T[T.AfterAttributeName=10]="AfterAttributeName",T[T.BeforeAttributeValue=11]="BeforeAttributeValue",T[T.InAttributeValueDq=12]="InAttributeValueDq",T[T.InAttributeValueSq=13]="InAttributeValueSq",T[T.InAttributeValueNq=14]="InAttributeValueNq",T[T.BeforeDeclaration=15]="BeforeDeclaration",T[T.InDeclaration=16]="InDeclaration",T[T.InProcessingInstruction=17]="InProcessingInstruction",T[T.BeforeComment=18]="BeforeComment",T[T.CDATASequence=19]="CDATASequence",T[T.InSpecialComment=20]="InSpecialComment",T[T.InCommentLike=21]="InCommentLike",T[T.BeforeSpecialS=22]="BeforeSpecialS",T[T.SpecialStartSequence=23]="SpecialStartSequence",T[T.InSpecialTag=24]="InSpecialTag",T[T.BeforeEntity=25]="BeforeEntity",T[T.BeforeNumericEntity=26]="BeforeNumericEntity",T[T.InNamedEntity=27]="InNamedEntity",T[T.InNumericEntity=28]="InNumericEntity",T[T.InHexEntity=29]="InHexEntity"})(s||(s={}));function a(T){return T===r.Space||T===r.NewLine||T===r.Tab||T===r.FormFeed||T===r.CarriageReturn}function u(T){return T===r.Slash||T===r.Gt||a(T)}function h(T){return T>=r.Zero&&T<=r.Nine}function f(T){return T>=r.LowerA&&T<=r.LowerZ||T>=r.UpperA&&T<=r.UpperZ}function g(T){return T>=r.UpperA&&T<=r.UpperF||T>=r.LowerA&&T<=r.LowerF}var v;(function(T){T[T.NoValue=0]="NoValue",T[T.Unquoted=1]="Unquoted",T[T.Single=2]="Single",T[T.Double=3]="Double"})(v=e.QuoteType||(e.QuoteType={}));var p={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},E=function(){function T(S,x){var O=S.xmlMode,P=O===void 0?!1:O,M=S.decodeEntities,G=M===void 0?!0:M;this.cbs=x,this.state=s.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=s.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=P,this.decodeEntities=G,this.entityTrie=P?t.xmlDecodeTree:t.htmlDecodeTree}return T.prototype.reset=function(){this.state=s.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=s.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},T.prototype.write=function(S){this.offset+=this.buffer.length,this.buffer=S,this.parse()},T.prototype.end=function(){this.running&&this.finish()},T.prototype.pause=function(){this.running=!1},T.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},T.prototype.getIndex=function(){return this.index},T.prototype.getSectionStart=function(){return this.sectionStart},T.prototype.stateText=function(S){S===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=s.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&S===r.Amp&&(this.state=s.BeforeEntity)},T.prototype.stateSpecialStartSequence=function(S){var x=this.sequenceIndex===this.currentSequence.length,O=x?u(S):(S|32)===this.currentSequence[this.sequenceIndex];if(!O)this.isSpecial=!1;else if(!x){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=s.InTagName,this.stateInTagName(S)},T.prototype.stateInSpecialTag=function(S){if(this.sequenceIndex===this.currentSequence.length){if(S===r.Gt||a(S)){var x=this.index-this.currentSequence.length;if(this.sectionStart<x){var O=this.index;this.index=x,this.cbs.ontext(this.sectionStart,x),this.index=O}this.isSpecial=!1,this.sectionStart=x+2,this.stateInClosingTagName(S);return}this.sequenceIndex=0}(S|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===p.TitleEnd?this.decodeEntities&&S===r.Amp&&(this.state=s.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(S===r.Lt)},T.prototype.stateCDATASequence=function(S){S===p.Cdata[this.sequenceIndex]?++this.sequenceIndex===p.Cdata.length&&(this.state=s.InCommentLike,this.currentSequence=p.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=s.InDeclaration,this.stateInDeclaration(S))},T.prototype.fastForwardTo=function(S){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===S)return!0;return this.index=this.buffer.length+this.offset-1,!1},T.prototype.stateInCommentLike=function(S){S===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===p.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=s.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):S!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},T.prototype.isTagStartChar=function(S){return this.xmlMode?!u(S):f(S)},T.prototype.startSpecial=function(S,x){this.isSpecial=!0,this.currentSequence=S,this.sequenceIndex=x,this.state=s.SpecialStartSequence},T.prototype.stateBeforeTagName=function(S){if(S===r.ExclamationMark)this.state=s.BeforeDeclaration,this.sectionStart=this.index+1;else if(S===r.Questionmark)this.state=s.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(S)){var x=S|32;this.sectionStart=this.index,!this.xmlMode&&x===p.TitleEnd[2]?this.startSpecial(p.TitleEnd,3):this.state=!this.xmlMode&&x===p.ScriptEnd[2]?s.BeforeSpecialS:s.InTagName}else S===r.Slash?this.state=s.BeforeClosingTagName:(this.state=s.Text,this.stateText(S))},T.prototype.stateInTagName=function(S){u(S)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=s.BeforeAttributeName,this.stateBeforeAttributeName(S))},T.prototype.stateBeforeClosingTagName=function(S){a(S)||(S===r.Gt?this.state=s.Text:(this.state=this.isTagStartChar(S)?s.InClosingTagName:s.InSpecialComment,this.sectionStart=this.index))},T.prototype.stateInClosingTagName=function(S){(S===r.Gt||a(S))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=s.AfterClosingTagName,this.stateAfterClosingTagName(S))},T.prototype.stateAfterClosingTagName=function(S){(S===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=s.Text,this.sectionStart=this.index+1)},T.prototype.stateBeforeAttributeName=function(S){S===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=s.InSpecialTag,this.sequenceIndex=0):this.state=s.Text,this.baseState=this.state,this.sectionStart=this.index+1):S===r.Slash?this.state=s.InSelfClosingTag:a(S)||(this.state=s.InAttributeName,this.sectionStart=this.index)},T.prototype.stateInSelfClosingTag=function(S){S===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=s.Text,this.baseState=s.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(S)||(this.state=s.BeforeAttributeName,this.stateBeforeAttributeName(S))},T.prototype.stateInAttributeName=function(S){(S===r.Eq||u(S))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=s.AfterAttributeName,this.stateAfterAttributeName(S))},T.prototype.stateAfterAttributeName=function(S){S===r.Eq?this.state=s.BeforeAttributeValue:S===r.Slash||S===r.Gt?(this.cbs.onattribend(v.NoValue,this.index),this.state=s.BeforeAttributeName,this.stateBeforeAttributeName(S)):a(S)||(this.cbs.onattribend(v.NoValue,this.index),this.state=s.InAttributeName,this.sectionStart=this.index)},T.prototype.stateBeforeAttributeValue=function(S){S===r.DoubleQuote?(this.state=s.InAttributeValueDq,this.sectionStart=this.index+1):S===r.SingleQuote?(this.state=s.InAttributeValueSq,this.sectionStart=this.index+1):a(S)||(this.sectionStart=this.index,this.state=s.InAttributeValueNq,this.stateInAttributeValueNoQuotes(S))},T.prototype.handleInAttributeValue=function(S,x){S===x||!this.decodeEntities&&this.fastForwardTo(x)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(x===r.DoubleQuote?v.Double:v.Single,this.index),this.state=s.BeforeAttributeName):this.decodeEntities&&S===r.Amp&&(this.baseState=this.state,this.state=s.BeforeEntity)},T.prototype.stateInAttributeValueDoubleQuotes=function(S){this.handleInAttributeValue(S,r.DoubleQuote)},T.prototype.stateInAttributeValueSingleQuotes=function(S){this.handleInAttributeValue(S,r.SingleQuote)},T.prototype.stateInAttributeValueNoQuotes=function(S){a(S)||S===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(v.Unquoted,this.index),this.state=s.BeforeAttributeName,this.stateBeforeAttributeName(S)):this.decodeEntities&&S===r.Amp&&(this.baseState=this.state,this.state=s.BeforeEntity)},T.prototype.stateBeforeDeclaration=function(S){S===r.OpeningSquareBracket?(this.state=s.CDATASequence,this.sequenceIndex=0):this.state=S===r.Dash?s.BeforeComment:s.InDeclaration},T.prototype.stateInDeclaration=function(S){(S===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=s.Text,this.sectionStart=this.index+1)},T.prototype.stateInProcessingInstruction=function(S){(S===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=s.Text,this.sectionStart=this.index+1)},T.prototype.stateBeforeComment=function(S){S===r.Dash?(this.state=s.InCommentLike,this.currentSequence=p.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=s.InDeclaration},T.prototype.stateInSpecialComment=function(S){(S===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=s.Text,this.sectionStart=this.index+1)},T.prototype.stateBeforeSpecialS=function(S){var x=S|32;x===p.ScriptEnd[3]?this.startSpecial(p.ScriptEnd,4):x===p.StyleEnd[3]?this.startSpecial(p.StyleEnd,4):(this.state=s.InTagName,this.stateInTagName(S))},T.prototype.stateBeforeEntity=function(S){this.entityExcess=1,this.entityResult=0,S===r.Num?this.state=s.BeforeNumericEntity:S===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=s.InNamedEntity,this.stateInNamedEntity(S))},T.prototype.stateInNamedEntity=function(S){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,S),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var x=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(x){var O=(x>>14)-1;if(!this.allowLegacyEntity()&&S!==r.Semi)this.trieIndex+=O;else{var P=this.index-this.entityExcess+1;P>this.sectionStart&&this.emitPartial(this.sectionStart,P),this.entityResult=this.trieIndex,this.trieIndex+=O,this.entityExcess=0,this.sectionStart=this.index+1,O===0&&this.emitNamedEntity()}}},T.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var S=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(S){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},T.prototype.stateBeforeNumericEntity=function(S){(S|32)===r.LowerX?(this.entityExcess++,this.state=s.InHexEntity):(this.state=s.InNumericEntity,this.stateInNumericEntity(S))},T.prototype.emitNumericEntity=function(S){var x=this.index-this.entityExcess-1,O=x+2+ +(this.state===s.InHexEntity);O!==this.index&&(x>this.sectionStart&&this.emitPartial(this.sectionStart,x),this.sectionStart=this.index+Number(S),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},T.prototype.stateInNumericEntity=function(S){S===r.Semi?this.emitNumericEntity(!0):h(S)?(this.entityResult=this.entityResult*10+(S-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},T.prototype.stateInHexEntity=function(S){S===r.Semi?this.emitNumericEntity(!0):h(S)?(this.entityResult=this.entityResult*16+(S-r.Zero),this.entityExcess++):g(S)?(this.entityResult=this.entityResult*16+((S|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},T.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===s.Text||this.baseState===s.InSpecialTag)},T.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===s.Text||this.state===s.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===s.InAttributeValueDq||this.state===s.InAttributeValueSq||this.state===s.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},T.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},T.prototype.parse=function(){for(;this.shouldContinue();){var S=this.buffer.charCodeAt(this.index-this.offset);this.state===s.Text?this.stateText(S):this.state===s.SpecialStartSequence?this.stateSpecialStartSequence(S):this.state===s.InSpecialTag?this.stateInSpecialTag(S):this.state===s.CDATASequence?this.stateCDATASequence(S):this.state===s.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(S):this.state===s.InAttributeName?this.stateInAttributeName(S):this.state===s.InCommentLike?this.stateInCommentLike(S):this.state===s.InSpecialComment?this.stateInSpecialComment(S):this.state===s.BeforeAttributeName?this.stateBeforeAttributeName(S):this.state===s.InTagName?this.stateInTagName(S):this.state===s.InClosingTagName?this.stateInClosingTagName(S):this.state===s.BeforeTagName?this.stateBeforeTagName(S):this.state===s.AfterAttributeName?this.stateAfterAttributeName(S):this.state===s.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(S):this.state===s.BeforeAttributeValue?this.stateBeforeAttributeValue(S):this.state===s.BeforeClosingTagName?this.stateBeforeClosingTagName(S):this.state===s.AfterClosingTagName?this.stateAfterClosingTagName(S):this.state===s.BeforeSpecialS?this.stateBeforeSpecialS(S):this.state===s.InAttributeValueNq?this.stateInAttributeValueNoQuotes(S):this.state===s.InSelfClosingTag?this.stateInSelfClosingTag(S):this.state===s.InDeclaration?this.stateInDeclaration(S):this.state===s.BeforeDeclaration?this.stateBeforeDeclaration(S):this.state===s.BeforeComment?this.stateBeforeComment(S):this.state===s.InProcessingInstruction?this.stateInProcessingInstruction(S):this.state===s.InNamedEntity?this.stateInNamedEntity(S):this.state===s.BeforeEntity?this.stateBeforeEntity(S):this.state===s.InHexEntity?this.stateInHexEntity(S):this.state===s.InNumericEntity?this.stateInNumericEntity(S):this.stateBeforeNumericEntity(S),this.index++}this.cleanup()},T.prototype.finish=function(){this.state===s.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},T.prototype.handleTrailingData=function(){var S=this.buffer.length+this.offset;this.state===s.InCommentLike?this.currentSequence===p.CdataEnd?this.cbs.oncdata(this.sectionStart,S,0):this.cbs.oncomment(this.sectionStart,S,0):this.state===s.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===s.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===s.InTagName||this.state===s.BeforeAttributeName||this.state===s.BeforeAttributeValue||this.state===s.AfterAttributeName||this.state===s.InAttributeName||this.state===s.InAttributeValueSq||this.state===s.InAttributeValueDq||this.state===s.InAttributeValueNq||this.state===s.InClosingTagName||this.cbs.ontext(this.sectionStart,S)},T.prototype.emitPartial=function(S,x){this.baseState!==s.Text&&this.baseState!==s.InSpecialTag?this.cbs.onattribdata(S,x):this.cbs.ontext(S,x)},T.prototype.emitCodePoint=function(S){this.baseState!==s.Text&&this.baseState!==s.InSpecialTag?this.cbs.onattribentity(S):this.cbs.ontextentity(S)},T}();e.default=E})(Rj);var lBe=ve&&ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),uBe=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cBe=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lBe(t,e,r);return uBe(t,e),t};Object.defineProperty(e6,"__esModule",{value:!0}),e6.Parser=void 0;var t6=cBe(Rj),Kse=I_,iC=new Set(["input","option","optgroup","select","button","datalist","textarea"]),ma=new Set(["p"]),Qse=new Set(["thead","tbody"]),Jse=new Set(["dd","dt"]),ele=new Set(["rt","rp"]),hBe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",ma],["h1",ma],["h2",ma],["h3",ma],["h4",ma],["h5",ma],["h6",ma],["select",iC],["input",iC],["output",iC],["button",iC],["datalist",iC],["textarea",iC],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Jse],["dt",Jse],["address",ma],["article",ma],["aside",ma],["blockquote",ma],["details",ma],["div",ma],["dl",ma],["fieldset",ma],["figcaption",ma],["figure",ma],["footer",ma],["form",ma],["header",ma],["hr",ma],["main",ma],["nav",ma],["ol",ma],["pre",ma],["section",ma],["table",ma],["ul",ma],["rt",ele],["rp",ele],["tbody",Qse],["tfoot",Qse]]),fBe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),tle=new Set(["math","svg"]),rle=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),dBe=/\s|\//,pBe=function(){function e(t,r){r===void 0&&(r={});var s,a,u,h,f;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(s=r.lowerCaseTags)!==null&&s!==void 0?s:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((u=r.Tokenizer)!==null&&u!==void 0?u:t6.default)(this.options,this),(f=(h=this.cbs).onparserinit)===null||f===void 0||f.call(h,this)}return e.prototype.ontext=function(t,r){var s,a,u=this.getSlice(t,r);this.endIndex=r-1,(a=(s=this.cbs).ontext)===null||a===void 0||a.call(s,u),this.startIndex=r},e.prototype.ontextentity=function(t){var r,s,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,(0,Kse.fromCodePoint)(t)),this.startIndex=a},e.prototype.isVoidElement=function(t){return!this.options.xmlMode&&fBe.has(t)},e.prototype.onopentagname=function(t,r){this.endIndex=r;var s=this.getSlice(t,r);this.lowerCaseTagNames&&(s=s.toLowerCase()),this.emitOpenTag(s)},e.prototype.emitOpenTag=function(t){var r,s,a,u;this.openTagStart=this.startIndex,this.tagname=t;var h=!this.options.xmlMode&&hBe.get(t);if(h)for(;this.stack.length>0&&h.has(this.stack[this.stack.length-1]);){var f=this.stack.pop();(s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,f,!0)}this.isVoidElement(t)||(this.stack.push(t),tle.has(t)?this.foreignContext.push(!0):rle.has(t)&&this.foreignContext.push(!1)),(u=(a=this.cbs).onopentagname)===null||u===void 0||u.call(a,t),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(t){var r,s;this.startIndex=this.openTagStart,this.attribs&&((s=(r=this.cbs).onopentag)===null||s===void 0||s.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},e.prototype.onclosetag=function(t,r){var s,a,u,h,f,g;this.endIndex=r;var v=this.getSlice(t,r);if(this.lowerCaseTagNames&&(v=v.toLowerCase()),(tle.has(v)||rle.has(v))&&this.foreignContext.pop(),this.isVoidElement(v))!this.options.xmlMode&&v==="br"&&((a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,"br"),(h=(u=this.cbs).onopentag)===null||h===void 0||h.call(u,"br",{},!0),(g=(f=this.cbs).onclosetag)===null||g===void 0||g.call(f,"br",!1));else{var p=this.stack.lastIndexOf(v);if(p!==-1)if(this.cbs.onclosetag)for(var E=this.stack.length-p;E--;)this.cbs.onclosetag(this.stack.pop(),E!==0);else this.stack.length=p;else!this.options.xmlMode&&v==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},e.prototype.onselfclosingtag=function(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},e.prototype.closeCurrentTag=function(t){var r,s,a=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===a&&((s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,a,!t),this.stack.pop())},e.prototype.onattribname=function(t,r){this.startIndex=t;var s=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?s.toLowerCase():s},e.prototype.onattribdata=function(t,r){this.attribvalue+=this.getSlice(t,r)},e.prototype.onattribentity=function(t){this.attribvalue+=(0,Kse.fromCodePoint)(t)},e.prototype.onattribend=function(t,r){var s,a;this.endIndex=r,(a=(s=this.cbs).onattribute)===null||a===void 0||a.call(s,this.attribname,this.attribvalue,t===t6.QuoteType.Double?'"':t===t6.QuoteType.Single?"'":t===t6.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(t){var r=t.search(dBe),s=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(s=s.toLowerCase()),s},e.prototype.ondeclaration=function(t,r){this.endIndex=r;var s=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(s);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(s))}this.startIndex=r+1},e.prototype.onprocessinginstruction=function(t,r){this.endIndex=r;var s=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(s);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(s))}this.startIndex=r+1},e.prototype.oncomment=function(t,r,s){var a,u,h,f;this.endIndex=r,(u=(a=this.cbs).oncomment)===null||u===void 0||u.call(a,this.getSlice(t,r-s)),(f=(h=this.cbs).oncommentend)===null||f===void 0||f.call(h),this.startIndex=r+1},e.prototype.oncdata=function(t,r,s){var a,u,h,f,g,v,p,E,T,S;this.endIndex=r;var x=this.getSlice(t,r-s);this.options.xmlMode||this.options.recognizeCDATA?((u=(a=this.cbs).oncdatastart)===null||u===void 0||u.call(a),(f=(h=this.cbs).ontext)===null||f===void 0||f.call(h,x),(v=(g=this.cbs).oncdataend)===null||v===void 0||v.call(g)):((E=(p=this.cbs).oncomment)===null||E===void 0||E.call(p,"[CDATA[".concat(x,"]]")),(S=(T=this.cbs).oncommentend)===null||S===void 0||S.call(T)),this.startIndex=r+1},e.prototype.onend=function(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var s=this.stack.length;s>0;this.cbs.onclosetag(this.stack[--s],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)},e.prototype.reset=function(){var t,r,s,a;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(s=this.cbs).onparserinit)===null||a===void 0||a.call(s,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.getSlice=function(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var s=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),s+=this.buffers[0].slice(0,r-this.bufferOffset);return s},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(t){var r,s;if(this.ended){(s=(r=this.cbs).onerror)===null||s===void 0||s.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)},e.prototype.end=function(t){var r,s;if(this.ended){(s=(r=this.cbs).onerror)===null||s===void 0||s.call(r,Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(t){this.write(t)},e.prototype.done=function(t){this.end(t)},e}();e6.Parser=pBe,function(e){var t=ve&&ve.__createBinding||(Object.create?function(x,O,P,M){M===void 0&&(M=P);var G=Object.getOwnPropertyDescriptor(O,P);(!G||("get"in G?!O.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(x,M,G)}:function(x,O,P,M){M===void 0&&(M=P),x[M]=O[P]}),r=ve&&ve.__setModuleDefault||(Object.create?function(x,O){Object.defineProperty(x,"default",{enumerable:!0,value:O})}:function(x,O){x.default=O}),s=ve&&ve.__importStar||function(x){if(x&&x.__esModule)return x;var O={};if(x!=null)for(var P in x)P!=="default"&&Object.prototype.hasOwnProperty.call(x,P)&&t(O,x,P);return r(O,x),O},a=ve&&ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultHandler=e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var u=e6;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return u.Parser}});var h=ou;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return h.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return h.DomHandler}});function f(x,O){var P=new h.DomHandler(void 0,O);return new u.Parser(P,O).end(x),P.root}e.parseDocument=f;function g(x,O){return f(x,O).children}e.parseDOM=g;function v(x,O,P){var M=new h.DomHandler(x,O,P);return new u.Parser(M,O)}e.createDomStream=v;var p=Rj;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}});var E=s(Rw);e.ElementType=E;var T=$p;Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return T.getFeed}});function S(x,O){return O===void 0&&(O={xmlMode:!0}),(0,T.getFeed)(g(x,O))}e.parseFeed=S,e.DomUtils=s($p)}(Zse),function(e){var t=ve&&ve.__createBinding||(Object.create?function(x,O,P,M){M===void 0&&(M=P);var G=Object.getOwnPropertyDescriptor(O,P);(!G||("get"in G?!O.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(x,M,G)}:function(x,O,P,M){M===void 0&&(M=P),x[M]=O[P]}),r=ve&&ve.__setModuleDefault||(Object.create?function(x,O){Object.defineProperty(x,"default",{enumerable:!0,value:O})}:function(x,O){x.default=O}),s=ve&&ve.__exportStar||function(x,O){for(var P in x)P!=="default"&&!Object.prototype.hasOwnProperty.call(O,P)&&t(O,x,P)},a=ve&&ve.__importStar||function(x){if(x&&x.__esModule)return x;var O={};if(x!=null)for(var P in x)P!=="default"&&Object.prototype.hasOwnProperty.call(x,P)&&t(O,x,P);return r(O,x),O},u=ve&&ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,s(sae,e);var h=nB,f=M_,g=qw,v=u(Pw),p=Zse,E=(0,f.getParse)(function(x,O,P,M){return O.xmlMode||O._useHtmlParser2?(0,p.parseDocument)(x,O):(0,g.parseWithParse5)(x,O,P,M)});e.load=(0,h.getLoad)(E,function(x,O){return O.xmlMode||O._useHtmlParser2?(0,v.default)(x,O):(0,g.renderWithParse5)(x)}),e.default=(0,e.load)([]);var T=No;Object.defineProperty(e,"html",{enumerable:!0,get:function(){return T.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return T.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return T.text}});var S=a(No);e.contains=S.contains,e.merge=S.merge,e.parseHTML=S.parseHTML,e.root=S.root}(oae);var U_={},r6={},mBe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function gBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n6(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var nle=function(){function e(){gBe(this,e),this.options={}}return mBe(e,[{key:"createRenderer",value:function(){function t(r){throw n6("createRenderer","EnzymeAdapter")}return t}()},{key:"nodeToElement",value:function(){function t(r){throw n6("nodeToElement","EnzymeAdapter")}return t}()},{key:"matchesElementType",value:function(){function t(r,s){if(!r)return r;var a=r.type;return a===s}return t}()},{key:"isValidElement",value:function(){function t(r){throw n6("isValidElement","EnzymeAdapter")}return t}()},{key:"createElement",value:function(){function t(r,s){throw n6("createElement","EnzymeAdapter")}return t}()},{key:"invokeSetStateCallback",value:function(){function t(r,s){s.call(r)}return t}()}]),e}();nle.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"};var ile=nle;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=ile,r=s(t);function s(u){return u&&u.__esModule?u:{default:u}}function a(u){if(!u)throw new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(typeof u=="function")throw Object.getPrototypeOf(u)===r.default?new Error(`
        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -
        you provided an adapter *constructor*.
        To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
        before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
        corresponding to the library currently being tested. For example:

        import Adapter from 'enzyme-adapter-react-15';

        To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
      `):new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured -
      an enzyme adapter must be an object instance; you provided a function.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(!(u instanceof r.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}})(r6),Object.defineProperty(U_,"__esModule",{value:!0}),U_.get=_Be,U_.merge=sle,U_.reset=TBe;var vBe=Cw,ale=ole(vBe),yBe=r6,bBe=ole(yBe);function ole(e){return e&&e.__esModule?e:{default:e}}var Pj={};function _Be(){return(0,ale.default)({},Pj)}function sle(e){e.adapter&&(0,bBe.default)(e.adapter),(0,ale.default)(Pj,e)}function TBe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pj={},sle(e)}var cs={},Nj={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(s){function a(u,h){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a}(function(s,a){return typeof s!="object"||s===null||typeof a!="object"||a===null?!1:Object.keys(a).every(function(u){if(!s.propertyIsEnumerable(u))return!1;var h=a[u],f=s[u];return!(typeof h=="object"&&h!==null?!r(f,h):f!==h)})});t.default=r,e.exports=t.default})(Nj,Nj.exports);var Sy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=r6,r=a(t),s=U_;function a(h){return h&&h.__esModule?h:{default:h}}function u(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(h.adapter)return(0,r.default)(h.adapter),h.adapter;var f=(0,s.get)(),g=f.adapter;return(0,r.default)(g),g}})(Sy),Object.defineProperty(cs,"__esModule",{value:!0});var EBe=function(){function e(t,r){var s=[],a=!0,u=!1,h=void 0;try{for(var f=t[Symbol.iterator](),g;!(a=(g=f.next()).done)&&(s.push(g.value),!(r&&s.length===r));a=!0);}catch(v){u=!0,h=v}finally{try{!a&&f.return&&f.return()}finally{if(u)throw h}}return s}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cs.propsOfNode=i6,cs.childrenOfNode=aC,cs.hasClassName=BBe,cs.treeForEach=Mj,cs.treeFilter=Lj,cs.findParentNode=HBe,cs.pathToNode=ule,cs.parentsOfNode=GBe,cs.nodeHasId=$Be,cs.nodeMatchesObjectProps=WBe,cs.getTextFromNode=cle,cs.getTextFromHostNodes=hle,cs.getHTMLFromHostNodes=fle;var SBe=Cw,ABe=G_(SBe),wBe=BR,lle=G_(wBe),CBe=Gie,xBe=G_(CBe),IBe=Nj.exports,DBe=G_(IBe),OBe=MV,kBe=G_(OBe),RBe=gV,PBe=G_(RBe),NBe=Sy,MBe=G_(NBe);function G_(e){return e&&e.__esModule?e:{default:e}}function LBe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FBe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function i6(e){return e&&e.props||{}}function aC(e){if(!e)return[];var t=(0,MBe.default)(),r=t.isFragment&&typeof t.isFragment=="function",s=Array.isArray(e.rendered)?(0,lle.default)(e.rendered,1):[e.rendered];return r?(0,lle.default)(s.map(function(a){return t.isFragment(a)?aC(a):a}),1):s}function BBe(e,t){var r=i6(e).className||"";return r=String(r).replace(/\s/g," "),(0,PBe.default)(t)?t.test(r):(" "+String(r)+" ").indexOf(" "+String(t)+" ")>-1}function Mj(e,t){e&&t(e),aC(e).forEach(function(r){return Mj(r,t)})}function Lj(e,t){var r=[];return Mj(e,function(s){t(s)&&r.push(s)}),r}function HBe(e,t){var r=Lj(e,function(s){return s.rendered?aC(s).indexOf(t)!==-1:!1});return r[0]||null}function UBe(e,t){return e.filter(function(r){return Lj(r,t).length!==0})}function ule(e,t){for(var r=[t],s=[],a=function(g){return e===g};r.length;){var u=r.pop(),h=aC(u);if(u===e)return UBe(s,a);s.push(u),h.length===0&&s.pop(),r.push.apply(r,FBe(h))}return null}function GBe(e,t){return(ule(e,t)||[]).reverse()}function $Be(e,t){return i6(e).id===t}var zBe={};function VBe(e){return typeof e<"u"?e:zBe}function jBe(e){return(0,xBe.default)(e).reduce(function(t,r){var s=EBe(r,2),a=s[0],u=s[1];return(0,ABe.default)({},t,LBe({},a,VBe(u)))},{})}function WBe(e,t){return(0,DBe.default)(i6(e),jBe(t))}function XBe(e){return typeof e=="string"?String(e||""):e&&e.textContent||""}function Fj(e,t){var r=t.getCustom,s=t.handleHostNodes,a=t.recurse,u=t.nullRenderReturnsNull,h=u===void 0?!1:u;return e==null?"":typeof e=="string"||typeof e=="number"?String(e):r&&e.type&&typeof e.type=="function"?r(e):s&&e.nodeType==="host"?s(e):e.rendered==null&&h?null:aC(e).map(a).join("")}function cle(e){return Fj(e,{recurse:cle,getCustom:function(){function t(r){var s=r.type;return"<"+String(s.displayName||(0,kBe.default)(s))+" />"}return t}()})}function hle(e,t){return Fj(e,{recurse:function(){function r(s){return hle(s,t)}return r}(),handleHostNodes:function(){function r(s){var a=[].concat(t.nodeToHostNode(s,!0));return a.map(XBe).join("")}return r}()})}function YBe(e){return e==null?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")}function fle(e,t){return Fj(e,{recurse:function(){function r(s){return fle(s,t)}return r}(),handleHostNodes:function(){function r(s){var a=[].concat(t.nodeToHostNode(s,!0));return a.map(YBe).join("")}return r}(),nullRenderReturnsNull:!0})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEqual=e.ITERATOR_SYMBOL=void 0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},r=function(){function ne(X,Q){var _e=[],ze=!0,tt=!1,yt=void 0;try{for(var _r=X[Symbol.iterator](),Mr;!(ze=(Mr=_r.next()).done)&&(_e.push(Mr.value),!(Q&&_e.length===Q));ze=!0);}catch(qr){tt=!0,yt=qr}finally{try{!ze&&_r.return&&_r.return()}finally{if(tt)throw yt}}return _e}return function(X,Q){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return ne(X,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.getAdapter=Me,e.makeOptions=rt,e.isCustomComponent=st,e.isCustomComponentElement=mt,e.propsOfNode=kt,e.typeOfNode=Le,e.nodeHasType=Ie,e.nodeMatches=Ft,e.nodeEqual=qt,e.containsChildrenSubArray=Sr,e.childrenToSimplifiedArray=Cr,e.isReactElementAlike=sn,e.withSetStateAllowed=Ur,e.AND=Bn,e.displayNameOfNode=Mn,e.sym=ci,e.privateSet=Ja,e.cloneElement=kn,e.spyMethod=Ht;var s=rB.exports;Object.defineProperty(e,"shallowEqual",{enumerable:!0,get:function(){function ne(){return Ee(s).default}return ne}()}),e.isEmptyValue=Ve,e.renderedDive=et,e.loadCheerioRoot=_t;var a=Cw,u=Ee(a),h=Eh.exports,f=Ee(h),g=NV,v=Ee(g),p=Gie,E=Ee(p),T=MV,S=Ee(T),x=k,O=Ee(x),P=BR,M=Ee(P),G=cPe,B=Ee(G),U=oae,j=Ee(U),Z=vy,ee=U_,J=cs,he=Sy,pe=Ee(he),ae=r6,ye=Ee(ae);function Ee(ne){return ne&&ne.__esModule?ne:{default:ne}}function ue(ne,X,Q){return X in ne?Object.defineProperty(ne,X,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ne[X]=Q,ne}function be(ne,X){var Q={};for(var _e in ne)X.indexOf(_e)>=0||Object.prototype.hasOwnProperty.call(ne,_e)&&(Q[_e]=ne[_e]);return Q}e.ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator;function Me(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,pe.default)(ne)}function Xe(ne,X){if(ne&&X&&ne!==X)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function rt(ne){var X=(0,ee.get)(),Q=X.attachTo,_e=X.hydrateIn,ze=be(X,["attachTo","hydrateIn"]);Xe(Q,_e);var tt=ne.attachTo,yt=ne.hydrateIn;Xe(tt,yt);var _r=yt||_e||Q||tt||void 0,Mr=yt||_e||void 0,qr=(0,u.default)({},_r&&{attachTo:_r},Mr&&{hydrateIn:Mr});return(0,u.default)({},ze,ne,qr)}function st(ne,X){return(0,ye.default)(X),X.isCustomComponent?!!X.isCustomComponent(ne):typeof ne=="function"}function mt(ne,X){return X.isCustomComponentElement?!!X.isCustomComponentElement(ne):!!ne&&X.isValidElement(ne)&&typeof ne.type=="function"}function kt(ne){return(0,E.default)(ne&&ne.props||{}).filter(function(X){var Q=r(X,2),_e=Q[1];return typeof _e<"u"}).reduce(function(X,Q){var _e=r(Q,2),ze=_e[0],tt=_e[1];return(0,u.default)(X,ue({},ze,tt))},{})}function Le(ne){return ne?ne.type:null}function Ie(ne,X){if(!X||!ne)return!1;var Q=(0,pe.default)();if(Q.displayNameOfNode){var _e=Q.displayNameOfNode(ne);return _e===X}return ne.type?typeof ne.type=="string"?ne.type===X:(typeof ne.type=="function"?(0,S.default)(ne.type)===X:ne.type.name===X)||ne.type.displayName===X:!1}function Ne(ne,X,Q,_e){var ze=_e?Ft:qt;if(ne===X)return!0;if(!Array.isArray(ne)&&!Array.isArray(X))return ze(ne,X,Q);var tt=(0,M.default)(ne,1/0),yt=(0,M.default)(X,1/0);if(tt.length!==yt.length)return!1;if(tt.length===0&&yt.length===0)return!0;for(var _r=0;_r<tt.length;_r+=1)if(!ze(tt[_r],yt[_r],Q))return!1;return!0}function Fe(ne,X,Q){return Ne(ne,X,Q,!0)}function dt(ne,X,Q){return Ne(ne,X,Q,!1)}function Et(ne,X){var Q=r(X,2),_e=Q[0],ze=Q[1],tt=ze==null?{}:ue({},_e,ze);return(0,u.default)({},ne,tt)}function Vt(ne,X,Q,_e){if(ne===X)return!0;if(!ne||!X||ne.type!==X.type)return!1;var ze=kt(ne),tt=kt(X);_e&&(ze=(0,E.default)(ze).reduce(Et,{}),tt=(0,E.default)(tt).reduce(Et,{}));for(var yt=Object.keys(ze),_r=0;_r<yt.length;_r+=1){var Mr=yt[_r];if(Mr!=="children")if(Mr in tt){if(tt[Mr]!==ze[Mr])if(t(tt[Mr])===t(ze[Mr])&&t(ze[Mr])==="object"){if(!(0,f.default)(ze[Mr],tt[Mr]))return!1}else return!1}else return!1}var qr="children"in ze,jr="children"in tt,on=_e?Fe:dt;if((qr||jr)&&!on(Cr(ze.children,_e),Cr(tt.children,_e),Q))return!1;if(!On(ne)){var eo=Object.keys(tt);return Q(yt.length-qr,eo.length-jr)}return!1}function Ft(ne,X){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default;return Vt(ne,X,Q,!0)}function qt(ne,X){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default;return Vt(ne,X,Q,!1)}function Sr(ne,X,Q){var _e=(0,J.childrenOfNode)(X),ze=function(yt,_r){return jt(ne,_e.slice(_r,_r+Q.length),Q)};return _e.some(ze)}function jt(ne,X,Q){return X.length===Q.length&&X.every(function(_e,ze){return ne(_e,Q[ze])})}function Hr(ne){var X=[],Q=function(ze){ze===null||ze===!1||typeof ze>"u"||X.push(ze)};return Array.isArray(ne)?ne.forEach(Q):Q(ne),X}function Cr(ne){for(var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Q=Hr(ne),_e=[],ze=0;ze<Q.length;ze+=1){var tt=Q[ze],yt=_e.pop();typeof yt>"u"?_e.push(tt):On(tt)&&On(yt)?_e.push(yt+tt):(_e.push(yt),_e.push(tt))}return X?_e.map(function(_r){return typeof _r=="string"?(0,B.default)(_r):_r}):_e}function On(ne){return typeof ne=="string"||typeof ne=="number"}function sn(ne,X){return X.isValidElement(ne)||On(ne)||Array.isArray(ne)}function Ur(ne){var X=!1;typeof globalThis.document>"u"&&(X=!0,globalThis.document={}),ne(),X&&(globalThis.document=void 0,delete globalThis.document)}function Bn(ne){var X=ne.slice().reverse();return function(Q){return X.every(function(_e){return _e(Q)})}}function Mn(ne){if(!ne)return null;var X=ne.type;return X?X.displayName||(typeof X=="function"?(0,S.default)(X):X.name||X):null}function ci(ne){return typeof Symbol=="function"?Symbol.for("enzyme."+String(ne)):ne}function Ja(ne,X,Q){Object.defineProperty(ne,X,{value:Q,enumerable:!1,writable:!0})}function kn(ne,X,Q){return ne.createElement(X.type,(0,u.default)({},X.props,Q))}function Ht(ne,X){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},_e=void 0,ze=ne[X],tt=(0,O.default)(ne,X),yt=void 0;return tt&&(yt=Object.getOwnPropertyDescriptor(ne,X)),Object.defineProperty(ne,X,{configurable:!0,enumerable:!yt||!!yt.enumerable,value:Q(ze)||function(){function _r(){for(var Mr=arguments.length,qr=Array(Mr),jr=0;jr<Mr;jr++)qr[jr]=arguments[jr];var on=ze.apply(this,qr);return _e=on,on}return _r}()}),{restore:function(){function _r(){tt?yt?Object.defineProperty(ne,X,yt):ne[X]=ze:delete ne[X]}return _r}(),getLastReturnValue:function(){function _r(){return _e}return _r}()}}function Ve(ne){return ne===null||ne===!1}function et(ne){return Ve(ne)?!0:[].concat(ne).every(function(X){if(X){var Q=X.rendered;return Ve(Q)||et(Q)}return Ve(X)})}function _t(ne){return ne?(0,Z.isHtml)(ne)?j.default.load("")(ne):j.default.load(ne,null,!1).root():j.default.root()}})(HR);var Ay={},qBe=1/0,ZBe="[object Symbol]",dle=/[&<>"'`]/g,KBe=RegExp(dle.source),QBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},JBe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,e6e=typeof self=="object"&&self&&self.Object===Object&&self,t6e=JBe||e6e||Function("return this")();function r6e(e){return function(t){return e==null?void 0:e[t]}}var n6e=r6e(QBe),i6e=Object.prototype,a6e=i6e.toString,ple=t6e.Symbol,mle=ple?ple.prototype:void 0,gle=mle?mle.toString:void 0;function o6e(e){if(typeof e=="string")return e;if(l6e(e))return gle?gle.call(e):"";var t=e+"";return t=="0"&&1/e==-qBe?"-0":t}function s6e(e){return!!e&&typeof e=="object"}function l6e(e){return typeof e=="symbol"||s6e(e)&&a6e.call(e)==ZBe}function u6e(e){return e==null?"":o6e(e)}function c6e(e){return e=u6e(e),e&&KBe.test(e)?e.replace(dle,n6e):e}var h6e=c6e,f6e=String.prototype.valueOf,d6e=function(t){try{return f6e.call(t),!0}catch{return!1}},p6e=Object.prototype.toString,m6e="[object String]",g6e=FR(),vle=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:g6e?d6e(t):p6e.call(t)===m6e},v6e=Number.prototype.toString,y6e=function(t){try{return v6e.call(t),!0}catch{return!1}},b6e=Object.prototype.toString,_6e="[object Number]",T6e=FR(),E6e=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:T6e?y6e(t):b6e.call(t)===_6e},yle=El,S6e=yle("Boolean.prototype.toString"),A6e=yle("Object.prototype.toString"),w6e=function(t){try{return S6e(t),!0}catch{return!1}},C6e="[object Boolean]",x6e=FR(),I6e=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:x6e&&Symbol.toStringTag in t?w6e(t):A6e(t)===C6e};Object.defineProperty(Ay,"__esModule",{value:!0});var ble=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Ay.typeName=Ele,Ay.spaces=Sle,Ay.indent=Ale,Ay.debugNode=Hj,Ay.debugNodes=Y6e;var D6e=h6e,O6e=nv(D6e),k6e=MV,_le=nv(k6e),R6e=vle,P6e=nv(R6e),N6e=E6e,M6e=nv(N6e),L6e=eB,F6e=nv(L6e),B6e=I6e,H6e=nv(B6e),U6e=ane,oC=nv(U6e),G6e=k,sC=nv(G6e),Tle=cs,$6e=Sy,Bj=nv($6e);function nv(e){return e&&e.__esModule?e:{default:e}}var z6e=Function.bind.call(Function.call,Boolean.prototype.valueOf);function Ele(e){var t=(0,Bj.default)();return t.displayNameOfNode?(0,Bj.default)().displayNameOfNode(e)||"Component":typeof e.type=="function"?e.type.displayName||(0,_le.default)(e.type)||"Component":e.type}function Sle(e){return Array(e+1).join(" ")}function Ale(e,t){return t.split(`
`).map(function(r){return""+String(Sle(e))+String(r)}).join(`
`)}function V6e(e,t){return(0,P6e.default)(e)?(0,oC.default)(String(e),{quoteStyle:"double"}):(0,M6e.default)(e)?"{"+String((0,oC.default)(Number(e)))+"}":(0,H6e.default)(e)?"{"+String((0,oC.default)(z6e(e)))+"}":(0,F6e.default)(e)?"{"+String((0,oC.default)(e))+"}":(typeof e>"u"?"undefined":ble(e))==="object"?t.verbose?"{"+String((0,oC.default)(e))+"}":"{{...}}":"{["+(typeof e>"u"?"undefined":ble(e))+"]}"}function j6e(e,t){var r=(0,Tle.propsOfNode)(e),s=Object.keys(r).filter(function(a){return a!=="children"});return s.map(function(a){return String(a)+"="+String(V6e(r[a],t))}).join(" ")}function W6e(e,t){return e.length?`
`+String(e.map(function(r){return Ale(t,r)}).join(`
`))+`
`:""}function X6e(e){return(0,sC.default)(e,"nodeType")&&typeof e.nodeType=="string"&&(0,sC.default)(e,"type")&&(0,sC.default)(e,"key")&&(0,sC.default)(e,"ref")&&(0,sC.default)(e,"instance")&&(0,sC.default)(e,"rendered")}function Hj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"||typeof e=="number")return(0,O6e.default)(e);if(typeof e=="function"){var s=(0,_le.default)(e);return"[function"+(s?" "+String(s):"")+"]"}if(!e)return"";var a=(0,Bj.default)();if(!a.isValidElement(e)&&!X6e(e))return"{"+String((0,oC.default)(e))+"}";var u=(0,Tle.childrenOfNode)(e).map(function(T){return Hj(T,t,r)}).filter(Boolean),h=Ele(e),f=r.ignoreProps?"":j6e(e,r),g=f?" ":"",v=u.length?">":" ",p=W6e(u,t),E=u.length?"</"+String(h)+">":"/>";return"<"+String(h)+g+String(f)+v+String(p)+E}function Y6e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.map(function(r){return Hj(r,void 0,t)}).join(`


`)}var lC={},uC={},Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});var wle=function(t){return JSON.stringify(t)},q6e=function(t){var r=t.body,s=[],a=!0,u=!1,h=void 0;try{for(var f=r[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var v=g.value,p=void 0;if(v.type==="universalSelector")p="*";else if(v.type==="typeSelector")p=v.name;else if(v.type==="idSelector")p="#"+v.name;else if(v.type==="classSelector")p="."+v.name;else if(v.type==="attributePresenceSelector")p="["+v.name+"]";else if(v.type==="attributeValueSelector")p="["+v.name+v.operator+wle(v.value)+"]";else if(v.type==="pseudoClassSelector")p=":"+v.name,v.parameters.length&&(p+="("+v.parameters.map(wle).join(", ")+")");else if(v.type==="pseudoElementSelector")p="::"+v.name;else throw new Error("Unknown token.");s.push(p)}}catch(E){u=!0,h=E}finally{try{!a&&f.return&&f.return()}finally{if(u)throw h}}return s.join("")};Uj.default=function(){var e=function(r){var s=[],a=!0,u=!1,h=void 0;try{for(var f=r[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var v=g.value;if(v.type==="selector")s.push(q6e(v));else if(v.type==="descendantCombinator")s.push(" ");else if(v.type==="childCombinator")s.push(" > ");else if(v.type==="adjacentSiblingCombinator")s.push(" + ");else if(v.type==="generalSiblingCombinator")s.push(" ~ ");else throw new Error("Unknown token.")}}catch(p){u=!0,h=p}finally{try{!a&&f.return&&f.return()}finally{if(u)throw h}}return s.join("")};return{generate:e}};var Gj={},Cle={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(ve,function(){function t(v,p,E){return this.id=++t.highestId,this.name=v,this.symbols=p,this.postprocess=E,this}t.highestId=0,t.prototype.toString=function(v){var p=typeof v>"u"?this.symbols.map(g).join(" "):this.symbols.slice(0,v).map(g).join(" ")+"  "+this.symbols.slice(v).map(g).join(" ");return this.name+"  "+p};function r(v,p,E,T){this.rule=v,this.dot=p,this.reference=E,this.data=[],this.wantedBy=T,this.isComplete=this.dot===v.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(v){var p=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return p.left=this,p.right=v,p.isComplete&&(p.data=p.build(),p.right=void 0),p},r.prototype.build=function(){var v=[],p=this;do v.push(p.right.data),p=p.left;while(p.left);return v.reverse(),v},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,h.fail))};function s(v,p){this.grammar=v,this.index=p,this.states=[],this.wants={},this.scannable=[],this.completed={}}s.prototype.process=function(v){for(var p=this.states,E=this.wants,T=this.completed,S=0;S<p.length;S++){var x=p[S];if(x.isComplete){if(x.finish(),x.data!==h.fail){for(var O=x.wantedBy,P=O.length;P--;){var M=O[P];this.complete(M,x)}if(x.reference===this.index){var G=x.rule.name;(this.completed[G]=this.completed[G]||[]).push(x)}}}else{var G=x.rule.symbols[x.dot];if(typeof G!="string"){this.scannable.push(x);continue}if(E[G]){if(E[G].push(x),T.hasOwnProperty(G))for(var B=T[G],P=0;P<B.length;P++){var U=B[P];this.complete(x,U)}}else E[G]=[x],this.predict(G)}}},s.prototype.predict=function(v){for(var p=this.grammar.byName[v]||[],E=0;E<p.length;E++){var T=p[E],S=this.wants[v],x=new r(T,0,this.index,S);this.states.push(x)}},s.prototype.complete=function(v,p){var E=v.nextState(p);this.states.push(E)};function a(v,p){this.rules=v,this.start=p||this.rules[0].name;var E=this.byName={};this.rules.forEach(function(T){E.hasOwnProperty(T.name)||(E[T.name]=[]),E[T.name].push(T)})}a.fromCompiled=function(T,p){var E=T.Lexer;T.ParserStart&&(p=T.ParserStart,T=T.ParserRules);var T=T.map(function(x){return new t(x.name,x.symbols,x.postprocess)}),S=new a(T,p);return S.lexer=E,S};function u(){this.reset("")}u.prototype.reset=function(v,p){this.buffer=v,this.index=0,this.line=p?p.line:1,this.lastLineBreak=p?-p.col:0},u.prototype.next=function(){if(this.index<this.buffer.length){var v=this.buffer[this.index++];return v===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:v}}},u.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},u.prototype.formatError=function(v,p){var E=this.buffer;if(typeof E=="string"){var T=E.split(`
`).slice(Math.max(0,this.line-5),this.line),S=E.indexOf(`
`,this.index);S===-1&&(S=E.length);var x=this.index-this.lastLineBreak,O=String(this.line).length;return p+=" at line "+this.line+" col "+x+`:

`,p+=T.map(function(M,G){return P(this.line-T.length+G+1,O)+" "+M},this).join(`
`),p+=`
`+P("",O+x)+`^
`,p}else return p+" at index "+(this.index-1);function P(M,G){var B=String(M);return Array(G-B.length+1).join(" ")+B}};function h(v,p,E){if(v instanceof a)var T=v,E=p;else var T=a.fromCompiled(v,p);this.grammar=T,this.options={keepHistory:!1,lexer:T.lexer||new u};for(var S in E||{})this.options[S]=E[S];this.lexer=this.options.lexer,this.lexerState=void 0;var x=new s(T,0);this.table=[x],x.wants[T.start]=[],x.predict(T.start),x.process(),this.current=0}h.fail={},h.prototype.feed=function(v){var p=this.lexer;p.reset(v,this.lexerState);for(var E;;){try{if(E=p.next(),!E)break}catch(ee){var O=new s(this.grammar,this.current+1);this.table.push(O);var T=new Error(this.reportLexerError(ee));throw T.offset=this.current,T.token=ee.token,T}var S=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var x=this.current+1,O=new s(this.grammar,x);this.table.push(O);for(var P=E.text!==void 0?E.text:E.value,M=p.constructor===u?E.value:E,G=S.scannable,B=G.length;B--;){var U=G[B],j=U.rule.symbols[U.dot];if(j.test?j.test(M):j.type?j.type===E.type:j.literal===P){var Z=U.nextState({data:M,token:E,isToken:!0,reference:x-1});O.states.push(Z)}}if(O.process(),O.states.length===0){var T=new Error(this.reportError(E));throw T.offset=this.current,T.token=E,T}this.options.keepHistory&&(S.lexerState=p.save()),this.current++}return S&&(this.lexerState=p.save()),this.results=this.finish(),this},h.prototype.reportLexerError=function(v){var p,E,T=v.token;return T?(p="input "+JSON.stringify(T.text[0])+" (lexer error)",E=this.lexer.formatError(T,"Syntax error")):(p="input (lexer error)",E=v.message),this.reportErrorCommon(E,p)},h.prototype.reportError=function(v){var p=(v.type?v.type+" token: ":"")+JSON.stringify(v.value!==void 0?v.value:v),E=this.lexer.formatError(v,"Syntax error");return this.reportErrorCommon(E,p)},h.prototype.reportErrorCommon=function(v,p){var E=[];E.push(v);var T=this.table.length-2,S=this.table[T],x=S.states.filter(function(P){var M=P.rule.symbols[P.dot];return M&&typeof M!="string"});if(x.length===0)E.push("Unexpected "+p+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(S.states,E);else{E.push("Unexpected "+p+`. Instead, I was expecting to see one of the following:
`);var O=x.map(function(P){return this.buildFirstStateStack(P,[])||[P]},this);O.forEach(function(P){var M=P[0],G=M.rule.symbols[M.dot],B=this.getSymbolDisplay(G);E.push("A "+B+" based on:"),this.displayStateStack(P,E)},this)}return E.push(""),E.join(`
`)},h.prototype.displayStateStack=function(v,p){for(var E,T=0,S=0;S<v.length;S++){var x=v[S],O=x.rule.toString(x.dot);O===E?T++:(T>0&&p.push("    ^ "+T+" more lines identical to this"),T=0,p.push("    "+O)),E=O}},h.prototype.getSymbolDisplay=function(v){return f(v)},h.prototype.buildFirstStateStack=function(v,p){if(p.indexOf(v)!==-1)return null;if(v.wantedBy.length===0)return[v];var E=v.wantedBy[0],T=[v].concat(p),S=this.buildFirstStateStack(E,T);return S===null?null:[v].concat(S)},h.prototype.save=function(){var v=this.table[this.current];return v.lexerState=this.lexerState,v},h.prototype.restore=function(v){var p=v.index;this.current=p,this.table[p]=v,this.table.splice(p+1),this.lexerState=v.lexerState,this.results=this.finish()},h.prototype.rewind=function(v){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[v])},h.prototype.finish=function(){var v=[],p=this.grammar.start,E=this.table[this.table.length-1];return E.states.forEach(function(T){T.rule.name===p&&T.dot===T.rule.symbols.length&&T.reference===0&&T.data!==h.fail&&v.push(T)}),v.map(function(T){return T.data})};function f(v){var p=typeof v;if(p==="string")return v;if(p==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return"character matching "+v;if(v.type)return v.type+" token";if(v.test)return"token matching "+String(v.test);throw new Error("Unknown symbol type: "+v)}}function g(v){var p=typeof v;if(p==="string")return v;if(p==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return v.toString();if(v.type)return"%"+v.type;if(v.test)return"<"+String(v.test)+">";throw new Error("Unknown symbol type: "+v)}}return{Parser:h,Grammar:a,Rule:t}})})(Cle);var xle={exports:{}},Z6e=1/0,K6e=9007199254740991,Q6e="[object Arguments]",J6e="[object Function]",e4e="[object GeneratorFunction]",t4e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,r4e=typeof self=="object"&&self&&self.Object===Object&&self,n4e=t4e||r4e||Function("return this")();function i4e(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var $j=Object.prototype,a4e=$j.hasOwnProperty,Ile=$j.toString,Dle=n4e.Symbol,o4e=$j.propertyIsEnumerable,Ole=Dle?Dle.isConcatSpreadable:void 0;function kle(e,t,r,s,a){var u=-1,h=e.length;for(r||(r=s4e),a||(a=[]);++u<h;){var f=e[u];t>0&&r(f)?t>1?kle(f,t-1,r,s,a):i4e(a,f):s||(a[a.length]=f)}return a}function s4e(e){return c4e(e)||u4e(e)||!!(Ole&&e&&e[Ole])}function l4e(e){var t=e?e.length:0;return t?kle(e,Z6e):[]}function u4e(e){return f4e(e)&&a4e.call(e,"callee")&&(!o4e.call(e,"callee")||Ile.call(e)==Q6e)}var c4e=Array.isArray;function h4e(e){return e!=null&&p4e(e.length)&&!d4e(e)}function f4e(e){return g4e(e)&&h4e(e)}function d4e(e){var t=m4e(e)?Ile.call(e):"";return t==J6e||t==e4e}function p4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=K6e}function m4e(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function g4e(e){return!!e&&typeof e=="object"}var v4e=l4e;(function(e){(function(){function t(E){return E[0]}var r=v4e,s=function(T,S){return function(x){return x[T].concat([x[S]])}},a=function(T){return T=T.filter(function(S){return S!==null}),r(T)},u={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},h=function(T){return(Array.isArray(T[0])?T[0]:[T[0]]).concat({type:u[T[2]]}).concat(T[4])},f=function(T,S,x){var O=r(T).join(""),P=parseFloat(O);return isNaN(P)?x:P},g=function(T,S,x){return T[0]==="true"?!0:T[0]==="false"?!1:x},v=function(T,S,x){if(T[0]==="NaN")return NaN;if(T[0]!=="undefined")return T[0]==="null"?null:x},p={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:h},{name:"selector",symbols:["selectorBody"],postprocess:function(T){return{type:"selector",body:T[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(T){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(T){return T[0].concat([T[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(T,S,x){var O=a(T);return O.length?O:x}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(T){return T[0].concat([T[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:a},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(T){return{type:"typeSelector",name:T[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(T){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(T){return(T[0]||"")+T[1]+T[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(T){return T[0]+T[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(T){return{type:"classSelector",name:T[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(T){return{type:"idSelector",name:T[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(T){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(T){return{type:"attributePresenceSelector",name:T[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(T){return T.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(T){return T.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(T){return T.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(T){return T.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(T){return T.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(T){return{type:"attributeValueSelector",name:T[1],value:T[3],operator:T[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(T){return T.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:g},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(T){return T.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:g},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(T){return T.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:v},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(T){return T.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:v},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(T){return T.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:v},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:f},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:f},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:f},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:f},{name:"numericValue",symbols:["int"],postprocess:f},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:f},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(T){return T.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:f},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(T){return T.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:f},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(T){return T.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:f},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:s(0,3)},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(T){return T[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(T){return T.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(T){return{type:"pseudoElementSelector",name:T[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(T){return{type:"pseudoClassSelector",name:T[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(T){return{type:"pseudoClassSelector",name:T[1],parameters:T[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(T){return T[0]+T[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(T){return T[0].concat([T[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(T){return T[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(T){return T.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(T){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(T){return T[0].concat([T[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(T){return T[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(T){return T.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(T){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(T){return T[0].concat([T[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(T){return null}}],ParserStart:"combinator"};e.exports=p})()})(xle),Object.defineProperty(Gj,"__esModule",{value:!0});var y4e=Cle.exports,b4e=xle.exports,Rle=_4e(b4e);function _4e(e){return e&&e.__esModule?e:{default:e}}Gj.default=function(){var e=function(r){var s=new y4e.Parser(Rle.default.ParserRules,Rle.default.ParserStart),a=s.feed(r).results;if(a.length===0)throw new Error("Found no parsings.");if(a.length>1)throw new Error("Ambiguous results.");return a[0]};return{parse:e}},Object.defineProperty(uC,"__esModule",{value:!0}),uC.createParser=uC.createGenerator=void 0;var T4e=Uj,E4e=Ple(T4e),S4e=Gj,A4e=Ple(S4e);function Ple(e){return e&&e.__esModule?e:{default:e}}uC.createGenerator=E4e.default,uC.createParser=A4e.default;var w4e=x_.exports,Nle=El,C4e=Nle("Object.prototype.propertyIsEnumerable"),x4e=Nle("Array.prototype.push"),Mle=function(t){var r=w4e(t),s=[];for(var a in r)C4e(r,a)&&x4e(s,r[a]);return s},I4e=Mle,Lle=function(){return typeof Object.values=="function"?Object.values:I4e},D4e=Lle,O4e=Tl,k4e=function(){var t=D4e();return O4e(Object,{values:t},{values:function(){return Object.values!==t}}),t},R4e=Tl,P4e=Up.exports,N4e=Mle,Fle=Lle,M4e=k4e,Ble=P4e(Fle(),Object);R4e(Ble,{getPolyfill:Fle,implementation:N4e,shim:M4e});var L4e=Ble,F4e=Gne,B4e=jne(),H4e=nie(),U4e=LR,G4e=aie(),$4e=nV.exports,z4e=_ie(),V4e=rV,j4e=Aie,Hle=kV,W4e=El,X4e=vle,Ule=Object("a"),Y4e=Ule[0]!=="a"||!(0 in Ule),q4e=W4e("String.prototype.split"),Gle=function(t){var r=j4e(this),s=Y4e&&X4e(r)?q4e(r,""):r,a=z4e(s);if(!$4e(t))throw new TypeError("Array.prototype.filter callback must be a function");var u;arguments.length>1&&(u=arguments[1]);for(var h=F4e(r,0),f=0,g=0;f<a;){var v=Hle(f),p=G4e(r,v);if(p){var E=U4e(r,v),T=V4e(B4e(t,u,[E,f,r]));T&&(H4e(h,Hle(g),E),g+=1)}f+=1}return h},Z4e=function(t){var r=!0,s=!0,a=!1;if(typeof t=="function"){try{t.call("f",function(u,h,f){typeof f!="object"&&(r=!1)}),t.call([null],function(){"use strict";s=typeof this=="string"},"x")}catch{a=!0}return!a&&r&&s}return!1},K4e=Z4e,Q4e=Gle,$le=function(){var t=Array.prototype.filter;return K4e(t)?t:Q4e},zj,zle;function J4e(){if(zle)return zj;zle=1;var e=Tl,t=$le;return zj=function(){var s=t();return e(Array.prototype,{filter:s},{filter:function(){return Array.prototype.filter!==s}}),s},zj}var e8e=Tl,t8e=x_.exports,r8e=Up.exports,n8e=El,i8e=Gle,Vle=$le,a8e=r8e.apply(Vle()),o8e=J4e(),s8e=n8e("Array.prototype.slice"),jle=function(t,r){return t8e(t),a8e(t,s8e(arguments,1))};e8e(jle,{getPolyfill:Vle,implementation:i8e,shim:o8e});var l8e=jle,u8e=El,c8e=u8e("Array.prototype.push"),h8e=function(e,t){for(var r=[],s=0;s<e.length;s+=1)c8e(r,t(e[s],s));return r},f8e=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont","HTMLBaseFontElementConstructor"],["HTMLPhraseElement","cite","HTMLElement"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound","HTMLElement"],["HTMLPhraseElement","blink","HTMLElement"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid","HTMLElement"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a","HTMLElement"],["HTMLAreaElement","area","HTMLElement"],["HTMLAudioElement","audio","HTMLElement"],["HTMLBaseElement","base","HTMLElement"],["HTMLBodyElement","body","HTMLElement"],["HTMLBRElement","br","HTMLElement"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content","HTMLElement"],["HTMLDataElement","data","HTMLElement"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog","HTMLElement"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index","HTMLElement"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLElement","main"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter","HTMLElement"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture","HTMLElement"],["HTMLPreElement","pre"],["HTMLProgressElement","progress","HTMLElement"],["HTMLQuoteElement","q","HTMLBlockquoteElement"],["HTMLQuoteElement","blockquote","HTMLBlockElement","HTMLBlockquoteElement"],["HTMLScriptElement","script"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow","HTMLElement"],["HTMLSourceElement","source"],["HTMLSpanElement","span","HTMLElement"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template","HTMLElement"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time","HTMLElement"],["HTMLTitleElement","title"],["HTMLTrackElement","track","HTMLElement"],["HTMLUListElement","ul"],["HTMLVideoElement","video"],["HTMLElement","abbr"],["HTMLElement","address"],["HTMLElement","aside"],["HTMLElement","b"],["HTMLElement","bdi"],["HTMLElement","bdo"],["HTMLElement","code"],["HTMLElement","dd"],["HTMLDetailsElement","details","HTMLElement"],["HTMLElement","dfn"],["HTMLElement","dt"],["HTMLElement","em"],["HTMLElement","figcaption"],["HTMLElement","figure"],["HTMLElement","footer"],["HTMLElement","header"],["HTMLElement","hgroup"],["HTMLElement","i"],["HTMLElement","kbd"],["HTMLElement","mark"],["HTMLElement","nav"],["HTMLElement","rp"],["HTMLElement","rt"],["HTMLElement","ruby"],["HTMLElement","s"],["HTMLElement","samp"],["HTMLSlotElement","slot","HTMLElement"],["HTMLElement","small"],["HTMLElement","strong"],["HTMLElement","summary"],["HTMLElement","u"],["HTMLElement","var"],["HTMLElement","wbr"]],d8e=function(t,r,s){if(typeof document<"u"&&typeof document.createElement=="function"){var a=document.createElement(t).constructor;if(a!==s)return a}},p8e=function(){var t=globalThis.HTMLUnknownElement;return{all:globalThis.HTMLElement,elements:h8e(f8e,function(r){for(var s=r[0],a=r[1],u,h,f=2;f<arguments.length&&!h;f+=1)u=r[f],h=u&&globalThis[u];var g=globalThis[s];return{constructor:d8e(a,h||g,t),constructorName:h?u:s,expectedConstructor:h||g,tag:a}}),unknown:t}},m8e=l8e,g8e=p8e,v8e=function(t){if(!t)return[];var r=g8e();return t===r.unknown?[]:t===r.all?r.elements:m8e(r.elements,function(s){return s.constructor===t})};Object.defineProperty(lC,"__esModule",{value:!0});var Wle=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y8e=function(){function e(t,r){var s=[],a=!0,u=!1,h=void 0;try{for(var f=t[Symbol.iterator](),g;!(a=(g=f.next()).done)&&(s.push(g.value),!(r&&s.length===r));a=!0);}catch(v){u=!0,h=v}finally{try{!a&&f.return&&f.return()}finally{if(u)throw h}}return s}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();lC.buildPredicate=tue,lC.reduceTreeBySelector=a6,lC.reduceTreesBySelector=tHe;var b8e=uC,_8e=L4e,T8e=cC(_8e),E8e=BR,Vj=cC(E8e),S8e=NV,A8e=cC(S8e),w8e=k,C8e=cC(w8e),x8e=v8e,I8e=cC(x8e),fu=cs,Xle=HR,D8e=Sy,Yle=cC(D8e);function cC(e){return e&&e.__esModule?e:{default:e}}function O8e(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}var k8e=(0,b8e.createParser)(),R8e="childCombinator",P8e="adjacentSiblingCombinator",N8e="generalSiblingCombinator",M8e="descendantCombinator",qle="selector",L8e="typeSelector",F8e="classSelector",B8e="idSelector",H8e="universalSelector",Zle="attributePresenceSelector",U8e="attributeValueSelector",G8e="pseudoClassSelector",$8e="pseudoElementSelector",Kle="=",z8e="~=",V8e="|=",j8e="^=",W8e="$=",X8e="*=";function Qle(e){return[].concat(O8e(new Set(e)))}function jj(e,t){return Qle(t.reduce(e,[]))}function Jle(e){try{return k8e.parse(e)}catch{throw new Error("Failed to parse selector: "+String(e))}}function eue(e,t){var r=t.operator,s=t.value,a=t.name,u=(0,Xle.propsOfNode)(e),h=Object.getOwnPropertyDescriptor(u,a);if(h&&h.get)return!1;var f=u[a];if(typeof f>"u")return!1;if(t.type===Zle)return(0,C8e.default)(u,t.name);if((typeof f!="string"||typeof s!="string")&&r!==Kle)return!1;switch(r){case Kle:return(0,A8e.default)(f,s);case z8e:return f.split(" ").indexOf(s)!==-1;case V8e:return f===s||f.startsWith(String(s)+"-");case j8e:return s===""?!1:f.slice(0,s.length)===s;case W8e:return s===""?!1:f.slice(-s.length)===s;case X8e:return s===""?!1:f.indexOf(s)!==-1;default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(r)+'"')}}function Y8e(e,t,r){var s=t.name,a=t.parameters;if(s==="not")return a.every(function(T){return a6(T,e).length===0});if(s==="empty")return(0,fu.treeFilter)(e,function(T){return T!==e}).length===0;if(s==="first-child"){var u=(0,fu.findParentNode)(r,e),h=u.rendered,f=y8e(h,1),g=f[0];return g===e}if(s==="last-child"){var v=(0,fu.findParentNode)(r,e),p=v.rendered;return p[p.length-1]===e}if(s==="focus"){if(typeof document>"u")throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a globalThis `document`.');var E=(0,Yle.default)();return document.activeElement&&E.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}function q8e(e,t,r){if(e===null||typeof e=="string")return!1;switch(t.type){case H8e:return!0;case F8e:return(0,fu.hasClassName)(e,t.name);case L8e:return(0,Xle.nodeHasType)(e,t.name);case B8e:return(0,fu.nodeHasId)(e,t.name);case Zle:return eue(e,t);case U8e:return eue(e,t);case $8e:case G8e:return Y8e(e,t,r);default:throw new Error("Unknown token type: "+String(t.type))}}function Wj(e,t){return function(r){return e.body.every(function(s){return q8e(r,s,t)})}}function Z8e(e){return e.some(function(t){return t.type!==qle})}function tue(e){if(typeof e=="string"){var t=Jle(e);if(Z8e(t))throw new TypeError("This method does not support complex CSS selectors");return Wj(t[0])}var r=(0,Yle.default)(),s=r.isValidElementType?r.isValidElementType(e):typeof e=="function";if(s)return function(u){return r.matchesElementType(u,e)};if((typeof e>"u"?"undefined":Wle(e))==="object"){if(!Array.isArray(e)&&e!==null&&Object.keys(e).length>0){var a=(0,T8e.default)(e).some(function(u){return typeof u>"u"});if(a)throw new TypeError("Enzyme::Props cant have `undefined` values. Try using findWhere() instead.");return function(u){return(0,fu.nodeMatchesObjectProps)(u,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function K8e(e,t,r){return e.reduce(function(s,a){var u=(0,fu.findParentNode)(r,a);if(!u)return s;var h=(0,fu.childrenOfNode)(u),f=h.indexOf(a),g=h[f+1];return g&&t(g)&&s.push(g),s},[])}function Q8e(e,t,r){return jj(function(s,a){var u=(0,fu.findParentNode)(r,a);if(!u)return s;var h=(0,fu.childrenOfNode)(u),f=h.indexOf(a),g=h.slice(f+1);return s.concat(g.filter(t))},e)}function J8e(e,t){return jj(function(r,s){return r.concat((0,fu.childrenOfNode)(s).filter(t))},e)}function eHe(e,t){return jj(function(r,s){return r.concat((0,fu.treeFilter)(s,t))},(0,Vj.default)(e.map(fu.childrenOfNode)))}function a6(e,t){if(typeof e!="string"){var r=(0,I8e.default)(e);if(r.length>0)return(0,Vj.default)(r.map(function(p){return a6(p.tag,t)}))}if(typeof e=="function"||(typeof e>"u"?"undefined":Wle(e))==="object")return(0,fu.treeFilter)(t,tue(e));var s=[];if(typeof e=="string")for(var a=Jle(e),u=0;u<a.length;){var h=a[u];if(h.type===qle){var f=Wj(h,t);s=s.concat((0,fu.treeFilter)(t,f))}else{var g=h.type;u+=1;var v=Wj(a[u],t);switch(g){case P8e:s=K8e(s,v,t);break;case N8e:s=Q8e(s,v,t);break;case R8e:s=J8e(s,v);break;case M8e:{s=eHe(s,v);break}default:throw new Error("Unknown combinator selector: "+String(g))}}u+=1}else throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");return s}function tHe(e,t){var r=t.map(function(s){return a6(e,s)});return Qle((0,Vj.default)(r,1))}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},r=function(){function Le(Ie,Ne){for(var Fe=0;Fe<Ne.length;Fe++){var dt=Ne[Fe];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Ie,dt.key,dt)}}return function(Ie,Ne,Fe){return Ne&&Le(Ie.prototype,Ne),Fe&&Le(Ie,Fe),Ie}}(),s=Cw,a=O(s),u=BR,h=O(u),f=k,g=O(f),v=HR,p=Sy,E=O(p),T=Ay,S=cs,x=lC;function O(Le){return Le&&Le.__esModule?Le:{default:Le}}function P(Le,Ie,Ne){return Ie in Le?Object.defineProperty(Le,Ie,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Le[Ie]=Ne,Le}function M(Le,Ie){if(!Le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie&&(typeof Ie=="object"||typeof Ie=="function")?Ie:Le}function G(Le,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ie);Le.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:Le,enumerable:!1,writable:!0,configurable:!0}}),Ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Le,Ie):Le.__proto__=Ie)}function B(Le,Ie){if(!(Le instanceof Ie))throw new TypeError("Cannot call a class as a function")}var U=(0,v.sym)("__node__"),j=(0,v.sym)("__nodes__"),Z=(0,v.sym)("__renderer__"),ee=(0,v.sym)("__unrendered__"),J=(0,v.sym)("__root__"),he=(0,v.sym)("__options__"),pe=(0,v.sym)("__rootNodes__"),ae=(0,v.sym)("__wrappingComponent__"),ye=(0,v.sym)("__linkedRoots__"),Ee=(0,v.sym)("__updatedBy__");function ue(Le,Ie){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.treeFilter;return Le.flatMap(function(Fe){return Ne(Fe.getNodeInternal(),Ie)})}function be(Le,Ie){return Le.wrap(Le.getNodesInternal().filter(Ie).filter(Boolean))}function Me(Le){if(Le[J].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return Le[J]!==Le?Le[pe][0]:Le[J][U]}function Xe(Le,Ie){return(0,S.parentsOfNode)(Ie,Me(Le))}function rt(Le,Ie){Ie?Array.isArray(Ie)?((0,v.privateSet)(Le,U,Ie[0]),(0,v.privateSet)(Le,j,Ie)):((0,v.privateSet)(Le,U,Ie),(0,v.privateSet)(Le,j,[Ie])):((0,v.privateSet)(Le,U,null),(0,v.privateSet)(Le,j,[])),(0,v.privateSet)(Le,"length",Le[j].length)}var st=function(){function Le(Ie,Ne){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(B(this,Le),!globalThis.window&&!globalThis.document)throw new Error("It looks like you called `mount()` without a globalThis document being loaded.");var dt=(0,v.makeOptions)(Fe);if(Ne)(0,v.privateSet)(this,Z,Ne[Z]),(0,v.privateSet)(this,J,Ne),rt(this,Ie),(0,v.privateSet)(this,pe,Ne[j]),(0,v.privateSet)(this,he,Ne[he]),(0,v.privateSet)(this,ye,[]);else{var Et=(0,E.default)(dt);if(!Et.isValidElement(Ie))throw new TypeError("ReactWrapper can only wrap valid elements");var Vt=Et.createRenderer((0,a.default)({mode:"mount"},dt));if((0,v.privateSet)(this,Z,Vt),Vt.render(Ie,dt.context),(0,v.privateSet)(this,J,this),rt(this,this[Z].getNode()),(0,v.privateSet)(this,he,dt),(0,v.privateSet)(this,ye,[]),(0,v.isCustomComponent)(dt.wrappingComponent,Et)){if(typeof this[Z].getWrappingComponentRenderer!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");(0,v.privateSet)(this,ae,new mt(this,this[Z].getWrappingComponentRenderer())),this[ye].push(this[ae])}}(0,v.privateSet)(this,ee,Ie),(0,v.privateSet)(this,Ee,null)}return r(Le,[{key:"root",value:function(){function Ie(){return this[J]}return Ie}()},{key:"getNodeInternal",value:function(){function Ie(){if(this.length!==1)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[j][0]}return Ie}()},{key:"getNodesInternal",value:function(){function Ie(){return this[j]}return Ie}()},{key:"getElement",value:function(){function Ie(){var Ne=this;return this.single("getElement",function(){return(0,E.default)(Ne[he]).nodeToElement(Ne[U])})}return Ie}()},{key:"getElements",value:function(){function Ie(){var Ne=this;return this[j].map(function(Fe){return(0,E.default)(Ne[he]).nodeToElement(Fe)})}return Ie}()},{key:"getNode",value:function(){function Ie(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return Ie}()},{key:"getNodes",value:function(){function Ie(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return Ie}()},{key:"getDOMNode",value:function(){function Ie(){var Ne=(0,E.default)(this[he]);return this.single("getDOMNode",function(Fe){return Ne.nodeToHostNode(Fe,!0)})}return Ie}()},{key:"ref",value:function(){function Ie(Ne){if(this[J]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[Ne]}return Ie}()},{key:"instance",value:function(){function Ie(){var Ne=this;return this.single("instance",function(){return Ne[U].instance})}return Ie}()},{key:"getWrappingComponent",value:function(){function Ie(){if(this[J]!==this)throw new Error("ReactWrapper::getWrappingComponent() can only be called on the root");if(!this[he].wrappingComponent)throw new Error("ReactWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[ae]}return Ie}()},{key:"update",value:function(){function Ie(){var Ne=this,Fe=this[J];return this!==Fe?Fe.update():(rt(this,this[Z].getNode()),this[ye].forEach(function(dt){if(dt!==Ne[Ee]){dt[Ee]=Ne;try{dt.update()}finally{dt[Ee]=null}}}),this)}return Ie}()},{key:"unmount",value:function(){function Ie(){var Ne=this;if(this[J]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",function(){Ne[Z].unmount(),Ne.update()}),this}return Ie}()},{key:"mount",value:function(){function Ie(){var Ne=this;if(this[J]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[Z].render(this[ee],this[he].context,function(){return Ne.update()}),this}return Ie}()},{key:"setProps",value:function(){function Ie(Ne){var Fe=this,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[J]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof dt!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var Et=(0,E.default)(this[he]);return this[ee]=(0,v.cloneElement)(Et,this[ee],Ne),this[Z].render(this[ee],null,function(){Fe.update(),dt&&dt()}),this}return Ie}()},{key:"setState",value:function(){function Ie(Ne){var Fe=this,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this.instance()===null||this.getNodeInternal().nodeType!=="class")throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof dt!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(Ne,function(){if(Fe.update(),dt){var Et=(0,E.default)(Fe[he]),Vt=Fe.instance();Et.invokeSetStateCallback?Et.invokeSetStateCallback(Vt,dt):dt.call(Vt)}}),this}return Ie}()},{key:"setContext",value:function(){function Ie(Ne){var Fe=this;if(this[J]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[he].context)throw new Error("ReactWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[Z].render(this[ee],Ne,function(){return Fe.update()}),this}return Ie}()},{key:"contains",value:function(){function Ie(Ne){var Fe=(0,E.default)(this[he]),dt=Array.isArray(Ne)?function(Et){return(0,v.containsChildrenSubArray)(v.nodeEqual,Et,Ne.map(function(Vt){return Fe.elementToNode(Vt)}))}:function(Et){return(0,v.nodeEqual)(Fe.elementToNode(Ne),Et)};return ue(this,dt).length>0}return Ie}()},{key:"containsMatchingElement",value:function(){function Ie(Ne){var Fe=(0,E.default)(this[he]).elementToNode(Ne),dt=function(){function Et(Vt){return(0,v.nodeMatches)(Fe,Vt,function(Ft,qt){return Ft<=qt})}return Et}();return ue(this,dt).length>0}return Ie}()},{key:"containsAllMatchingElements",value:function(){function Ie(Ne){var Fe=this;if(!Array.isArray(Ne))throw new TypeError("nodes should be an Array");return Ne.every(function(dt){return Fe.containsMatchingElement(dt)})}return Ie}()},{key:"containsAnyMatchingElements",value:function(){function Ie(Ne){var Fe=this;return Array.isArray(Ne)&&Ne.some(function(dt){return Fe.containsMatchingElement(dt)})}return Ie}()},{key:"equals",value:function(){function Ie(Ne){var Fe=this;return this.single("equals",function(){return(0,v.nodeEqual)(Fe.getNodeInternal(),Ne)})}return Ie}()},{key:"matchesElement",value:function(){function Ie(Ne){var Fe=this;return this.single("matchesElement",function(){var dt=(0,E.default)(Fe[he]),Et=dt.elementToNode(Ne);return(0,v.nodeMatches)(Et,Fe.getNodeInternal(),function(Vt,Ft){return Vt<=Ft})})}return Ie}()},{key:"find",value:function(){function Ie(Ne){return this.wrap((0,x.reduceTreesBySelector)(Ne,this.getNodesInternal()))}return Ie}()},{key:"is",value:function(){function Ie(Ne){var Fe=(0,x.buildPredicate)(Ne);return this.single("is",function(dt){return Fe(dt)})}return Ie}()},{key:"isEmptyRender",value:function(){function Ie(){var Ne=this.getNodeInternal();return(0,v.renderedDive)(Ne)}return Ie}()},{key:"filterWhere",value:function(){function Ie(Ne){var Fe=this;return be(this,function(dt){return Ne(Fe.wrap(dt))})}return Ie}()},{key:"filter",value:function(){function Ie(Ne){var Fe=(0,x.buildPredicate)(Ne);return be(this,Fe)}return Ie}()},{key:"not",value:function(){function Ie(Ne){var Fe=(0,x.buildPredicate)(Ne);return be(this,function(dt){return!Fe(dt)})}return Ie}()},{key:"text",value:function(){function Ie(){var Ne=(0,E.default)(this[he]);return this.single("text",function(Fe){return(0,S.getTextFromHostNodes)(Fe,Ne)})}return Ie}()},{key:"html",value:function(){function Ie(){var Ne=(0,E.default)(this[he]);return this.single("html",function(Fe){return(0,S.getHTMLFromHostNodes)(Fe,Ne)})}return Ie}()},{key:"render",value:function(){function Ie(){var Ne=this.html();return(0,v.loadCheerioRoot)(Ne)}return Ie}()},{key:"simulate",value:function(){function Ie(Ne){var Fe=this,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.single("simulate",function(Et){return Fe[Z].simulateEvent(Et,Ne,dt),Fe[J].update(),Fe})}return Ie}()},{key:"simulateError",value:function(){function Ie(Ne){var Fe=this;if(this[J]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",function(dt){if(dt.nodeType==="host")throw new Error("ReactWrapper::simulateError() can only be called on custom components");var Et=Fe[Z];if(typeof Et.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var Vt=Me(Fe),Ft=[dt].concat(Xe(Fe,dt));return Et.simulateError(Ft,Vt,Ne),Fe[J].update(),Fe})}return Ie}()},{key:"props",value:function(){function Ie(){return this.single("props",S.propsOfNode)}return Ie}()},{key:"state",value:function(){function Ie(Ne){var Fe=this,dt=this[J]===this?this[Z].getNode():this.getNodeInternal();if(this.instance()===null||dt.nodeType!=="class")throw new Error("ReactWrapper::state() can only be called on class components");var Et=this.single("state",function(){return Fe.instance().state});if(typeof Ne<"u"){if(Et==null)throw new TypeError('ReactWrapper::state("'+String(Ne)+'") requires that `state` not be `null` or `undefined`');return Et[Ne]}return Et}return Ie}()},{key:"context",value:function(){function Ie(Ne){var Fe=this;if(this[J]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var dt=this.single("context",function(){return Fe.instance()});if(dt===null)throw new Error("ReactWrapper::context() can only be called on components with instances");var Et=dt.context;return typeof Ne<"u"?Et[Ne]:Et}return Ie}()},{key:"children",value:function(){function Ie(Ne){var Fe=this.flatMap(function(dt){return(0,S.childrenOfNode)(dt.getNodeInternal())});return Ne?Fe.filter(Ne):Fe}return Ie}()},{key:"childAt",value:function(){function Ie(Ne){var Fe=this;return this.single("childAt",function(){return Fe.children().at(Ne)})}return Ie}()},{key:"parents",value:function(){function Ie(Ne){var Fe=this;return this.single("parents",function(dt){var Et=Fe.wrap(Xe(Fe,dt));return Ne?Et.filter(Ne):Et})}return Ie}()},{key:"parent",value:function(){function Ie(){return this.flatMap(function(Ne){return[Ne.parents().get(0)]})}return Ie}()},{key:"closest",value:function(){function Ie(Ne){if(this.is(Ne))return this;var Fe=this.parents().filter(Ne);return Fe.length>0?Fe.first():this.findWhere(function(){return!1})}return Ie}()},{key:"prop",value:function(){function Ie(Ne){return this.props()[Ne]}return Ie}()},{key:"invoke",value:function(){function Ie(Ne){var Fe=this;return this.single("invoke",function(){var dt=Fe.prop(Ne);if(typeof dt!="function")throw new TypeError("ReactWrapper::invoke() requires the name of a prop whose value is a function");return function(){for(var Et=arguments.length,Vt=Array(Et),Ft=0;Ft<Et;Ft++)Vt[Ft]=arguments[Ft];var qt=typeof Fe[Z].wrapInvoke=="function"?Fe[Z].wrapInvoke(function(){return dt.apply(void 0,Vt)}):dt.apply(void 0,Vt);return Fe[J].update(),qt}})}return Ie}()},{key:"renderProp",value:function(){function Ie(Ne){var Fe=this,dt=(0,E.default)(this[he]);if(typeof dt.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(Et){if(Et.nodeType==="host")throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if(typeof Ne!="string")throw new TypeError("ReactWrapper::renderProp(): `propName` must be a string");var Vt=Fe.props();if(!(0,g.default)(Vt,Ne))throw new Error("ReactWrapper::renderProp(): no prop called "+String(Ne)+" found");var Ft=Vt[Ne];if(typeof Ft!="function")throw new TypeError("ReactWrapper::renderProp(): expected prop "+String(Ne)+" to contain a function, but it holds "+(typeof Ft>"u"?"undefined":t(Ft))+"");return function(){var qt=Ft.apply(void 0,arguments),Sr=dt.wrap(qt);return Fe.wrap(Sr,null,Fe[he])}})}return Ie}()},{key:"key",value:function(){function Ie(){return this.single("key",function(Ne){return Ne.key===void 0?null:Ne.key})}return Ie}()},{key:"type",value:function(){function Ie(){return this.single("type",function(Ne){return(0,v.typeOfNode)(Ne)})}return Ie}()},{key:"name",value:function(){function Ie(){var Ne=(0,E.default)(this[he]);return this.single("name",function(Fe){return Ne.displayNameOfNode?Ne.displayNameOfNode(Fe):(0,v.displayNameOfNode)(Fe)})}return Ie}()},{key:"hasClass",value:function(){function Ie(Ne){return typeof Ne=="string"&&Ne.indexOf(".")!==-1&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(Fe){return(0,S.hasClassName)(Fe,Ne)})}return Ie}()},{key:"forEach",value:function(){function Ie(Ne){var Fe=this;return this.getNodesInternal().forEach(function(dt,Et){return Ne.call(Fe,Fe.wrap(dt),Et)}),this}return Ie}()},{key:"map",value:function(){function Ie(Ne){var Fe=this;return this.getNodesInternal().map(function(dt,Et){return Ne.call(Fe,Fe.wrap(dt),Et)})}return Ie}()},{key:"reduce",value:function(){function Ie(Ne){var Fe=this,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(Et,Vt,Ft){return Ne.call(Fe,Et,Fe.wrap(Vt),Ft)},dt):this.getNodesInternal().reduce(function(Et,Vt,Ft){return Ne.call(Fe,Ft===1?Fe.wrap(Et):Et,Fe.wrap(Vt),Ft)})}return Ie}()},{key:"reduceRight",value:function(){function Ie(Ne){var Fe=this,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(Et,Vt,Ft){return Ne.call(Fe,Et,Fe.wrap(Vt),Ft)},dt):this.getNodesInternal().reduceRight(function(Et,Vt,Ft){return Ne.call(Fe,Ft===1?Fe.wrap(Et):Et,Fe.wrap(Vt),Ft)})}return Ie}()},{key:"slice",value:function(){function Ie(Ne,Fe){return this.wrap(this.getNodesInternal().slice(Ne,Fe))}return Ie}()},{key:"some",value:function(){function Ie(Ne){if(this[J]===this)throw new Error("ReactWrapper::some() can not be called on the root");var Fe=(0,x.buildPredicate)(Ne);return this.getNodesInternal().some(Fe)}return Ie}()},{key:"someWhere",value:function(){function Ie(Ne){var Fe=this;return this.getNodesInternal().some(function(dt,Et){return Ne.call(Fe,Fe.wrap(dt),Et)})}return Ie}()},{key:"every",value:function(){function Ie(Ne){var Fe=(0,x.buildPredicate)(Ne);return this.getNodesInternal().every(Fe)}return Ie}()},{key:"everyWhere",value:function(){function Ie(Ne){var Fe=this;return this.getNodesInternal().every(function(dt,Et){return Ne.call(Fe,Fe.wrap(dt),Et)})}return Ie}()},{key:"flatMap",value:function(){function Ie(Ne){var Fe=this,dt=this.getNodesInternal().map(function(Vt,Ft){return Ne.call(Fe,Fe.wrap(Vt),Ft)}),Et=(0,h.default)(dt,1);return this.wrap(Et.filter(Boolean))}return Ie}()},{key:"findWhere",value:function(){function Ie(Ne){var Fe=this;return ue(this,function(dt){var Et=Fe.wrap(dt);return Et.length>0&&Ne(Et)})}return Ie}()},{key:"get",value:function(){function Ie(Ne){return this.getElements()[Ne]}return Ie}()},{key:"at",value:function(){function Ie(Ne){var Fe=this.getNodesInternal();return Ne<Fe.length?this.wrap(Fe[Ne]):this.wrap([])}return Ie}()},{key:"first",value:function(){function Ie(){return this.at(0)}return Ie}()},{key:"last",value:function(){function Ie(){return this.at(this.length-1)}return Ie}()},{key:"isEmpty",value:function(){function Ie(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return Ie}()},{key:"exists",value:function(){function Ie(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(Ne).exists():this.length>0}return Ie}()},{key:"single",value:function(){function Ie(Ne,Fe){var dt=typeof Ne=="string"?Ne:"unknown",Et=typeof Fe=="function"?Fe:Ne;if(this.length!==1)throw new Error("Method "+dt+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return Et.call(this,this.getNodeInternal())}return Ie}()},{key:"wrap",value:function(){function Ie(Ne){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[J];if(Ne instanceof Le)return Ne;for(var dt=arguments.length,Et=Array(dt>2?dt-2:0),Vt=2;Vt<dt;Vt++)Et[Vt-2]=arguments[Vt];return new(Function.prototype.bind.apply(Le,[null].concat([Ne,Fe],Et)))}return Ie}()},{key:"debug",value:function(){function Ie(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.debugNodes)(this.getNodesInternal(),Ne)}return Ie}()},{key:"tap",value:function(){function Ie(Ne){return Ne(this),this}return Ie}()},{key:"detach",value:function(){function Ie(){if(this[J]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[he].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[Z].unmount()}return Ie}()},{key:"hostNodes",value:function(){function Ie(){return this.filterWhere(function(Ne){return typeof Ne.type()=="string"})}return Ie}()}]),Le}(),mt=function(Le){G(Ie,Le);function Ie(Ne,Fe){B(this,Ie);var dt=M(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).call(this,Fe.getNode(),Ne));return(0,v.privateSet)(dt,J,dt),(0,v.privateSet)(dt,Z,Fe),dt[ye].push(Ne),dt}return r(Ie,[{key:"getWrappingComponent",value:function(){function Ne(){throw new TypeError("ReactWrapper::getWrappingComponent() can only be called on the root")}return Ne}()}]),Ie}(st);v.ITERATOR_SYMBOL&&Object.defineProperty(st.prototype,v.ITERATOR_SYMBOL,{configurable:!0,value:function(){function Le(){var Ie,Ne=this[j][v.ITERATOR_SYMBOL](),Fe=(0,E.default)(this[he]);return Ie={},P(Ie,v.ITERATOR_SYMBOL,function(){return this}),P(Ie,"next",function(){function dt(){var Et=Ne.next();return Et.done?{done:!0}:{done:!1,value:Fe.nodeToElement(Et.value)}}return dt}()),Ie}return Le}()});function kt(Le,Ie){Object.defineProperty(st.prototype,Le,{get:function(){function Ne(){throw new Error(`
        Attempted to access ReactWrapper::`+String(Le)+`, which was previously a private property on
        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.
        `+String(Ie)+`
      `)}return Ne}(),enumerable:!1,configurable:!1})}kt("node","Consider using the getElement() method instead."),kt("nodes","Consider using the getElements() method instead."),kt("renderer",""),kt("options",""),kt("complexSelector",""),e.default=st})(Bp);var Xj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function Ht(Ve,et,_t){Ve===null&&(Ve=Function.prototype);var ne=Object.getOwnPropertyDescriptor(Ve,et);if(ne===void 0){var X=Object.getPrototypeOf(Ve);return X===null?void 0:Ht(X,et,_t)}else{if("value"in ne)return ne.value;var Q=ne.get;return Q===void 0?void 0:Q.call(_t)}}return Ht}(),r=function(){function Ht(Ve,et){for(var _t=0;_t<et.length;_t++){var ne=et[_t];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Ve,ne.key,ne)}}return function(Ve,et,_t){return et&&Ht(Ve.prototype,et),_t&&Ht(Ve,_t),Ve}}(),s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ht){return typeof Ht}:function(Ht){return Ht&&typeof Symbol=="function"&&Ht.constructor===Symbol&&Ht!==Symbol.prototype?"symbol":typeof Ht},a=Cw,u=G(a),h=BR,f=G(h),g=k,v=G(g),p=rB.exports,E=G(p),T=HR,S=Sy,x=G(S),O=Ay,P=cs,M=lC;function G(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function B(Ht,Ve){if(!Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve&&(typeof Ve=="object"||typeof Ve=="function")?Ve:Ht}function U(Ht,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ve);Ht.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Ht,enumerable:!1,writable:!0,configurable:!0}}),Ve&&(Object.setPrototypeOf?Object.setPrototypeOf(Ht,Ve):Ht.__proto__=Ve)}function j(Ht){if(Array.isArray(Ht)){for(var Ve=0,et=Array(Ht.length);Ve<Ht.length;Ve++)et[Ve]=Ht[Ve];return et}else return Array.from(Ht)}function Z(Ht,Ve){if(!(Ht instanceof Ve))throw new TypeError("Cannot call a class as a function")}function ee(Ht,Ve,et){return Ve in Ht?Object.defineProperty(Ht,Ve,{value:et,enumerable:!0,configurable:!0,writable:!0}):Ht[Ve]=et,Ht}var J=(0,T.sym)("__node__"),he=(0,T.sym)("__nodes__"),pe=(0,T.sym)("__renderer__"),ae=(0,T.sym)("__unrendered__"),ye=(0,T.sym)("__root__"),Ee=(0,T.sym)("__options__"),ue=(0,T.sym)("__setState__"),be=(0,T.sym)("__rootNodes__"),Me=(0,T.sym)("__childContext__"),Xe=(0,T.sym)("__wrappingComponent__"),rt=(0,T.sym)("__primaryWrapper__"),st=(0,T.sym)("__rootFinder__"),mt=(0,T.sym)("__providerValues__");function kt(Ht,Ve){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.treeFilter;return Ht.flatMap(function(_t){return et(_t.getNodeInternal(),Ve)})}function Le(Ht,Ve){return Ht.wrap(Ht.getNodesInternal().filter(Ve).filter(Boolean))}function Ie(Ht){var Ve=Ht.lifecycleExperimental,et=Ht.disableLifecycleMethods,_t=Ht.enableComponentDidUpdateOnSetState,ne=Ht.supportPrevContextArgumentOfComponentDidUpdate,X=Ht.lifecycles;if(typeof Ve<"u"&&typeof Ve!="boolean")throw new Error("lifecycleExperimental must be either true or false if provided");if(typeof et<"u"&&typeof et!="boolean")throw new Error("disableLifecycleMethods must be either true or false if provided");if(Ve!=null&&et!=null&&Ve===et)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(typeof _t<"u"&&X.componentDidUpdate&&X.componentDidUpdate.onSetState!==_t)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(typeof ne<"u"&&X.componentDidUpdate&&X.componentDidUpdate.prevContext!==ne)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function Ne(Ht){var Ve=Ht.options,et=Ve.lifecycles,_t=et===void 0?{}:et,ne=Ve.enableComponentDidUpdateOnSetState,X=Ve.supportPrevContextArgumentOfComponentDidUpdate,Q=typeof ne<"u",_e=typeof X<"u",ze=Q||_e?(0,u.default)({},Q&&{onSetState:!!ne},_e&&{prevContext:!!X}):null,tt=_t.getDerivedStateFromProps,yt=tt?{hasShouldComponentUpdateBug:!!tt.hasShouldComponentUpdateBug}:!1;return(0,u.default)({},_t,{setState:(0,u.default)({},_t.setState),getChildContext:(0,u.default)({calledByRenderer:!0},_t.getChildContext)},ze&&{componentDidUpdate:ze},{getDerivedStateFromProps:yt})}function Fe(Ht){return Ht.nodeType==="host"?Ht:Ht.rendered}function dt(Ht){if(Ht[ye].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return Ht[ye]!==Ht?Ht[be][0]:Ht[ye][J]}function Et(Ht,Ve){return(0,P.parentsOfNode)(Ve,dt(Ht))}function Vt(Ht,Ve){Array.isArray(Ve)?((0,T.privateSet)(Ht,J,Ve[0]),(0,T.privateSet)(Ht,he,Ve)):((0,T.privateSet)(Ht,J,Ve),(0,T.privateSet)(Ht,he,[Ve])),(0,T.privateSet)(Ht,"length",Ht[he].length)}function Ft(Ht,Ve,et,_t){return!(0,E.default)(Ht,Ve)||!(0,E.default)(et,_t)}function qt(Ht){return Ht&&Ht.isPureReactComponent}function Sr(Ht,Ve,et){var _t=Ht.instance,ne=Ht.type,X=(0,T.displayNameOfNode)(Ht);if(s(ne.childContextTypes)!=="object")return console.warn(String(X)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var Q=_t.getChildContext();return Object.keys(Q).forEach(function(_e){if(!(_e in ne.childContextTypes))throw new Error(String(X)+'.getChildContext(): key "'+String(_e)+'" is not defined in childContextTypes.')}),typeof et.checkPropTypes=="function"&&et.checkPropTypes(ne.childContextTypes,Q,"child context",Ve),Q}function jt(Ht,Ve){return!(0,T.isCustomComponentElement)(Ht,Ve)||!Ht.type.prototype||typeof Ht.type.prototype.getChildContext!="function"?null:(0,T.spyMethod)(Ht.type.prototype,"getChildContext")}function Hr(Ht,Ve,et,_t,ne){var X=Ve[pe];if(Ht.options.legacyContextMode==="parent")if(ne)(0,T.privateSet)(Ve,Me,ne.getLastReturnValue()),ne.restore();else if(typeof et.getChildContext=="function"){var Q=[Ve[J]].concat(Et(Ve,Ve[J])),_e=Sr(_t,Q,X);(0,T.privateSet)(Ve,Me,_e)}else(0,T.privateSet)(Ve,Me,null)}function Cr(Ht,Ve){var et=Ht.type.getDerivedStateFromProps;if(typeof et=="function")var _t=Ht.instance,ne=(0,T.spyMethod)(_t,"shouldComponentUpdate",function(Q){return function(){function _e(){_t.state=Ve;for(var ze=arguments.length,tt=Array(ze),yt=0;yt<ze;yt++)tt[yt]=arguments[yt];var _r=Q.apply(_t,tt),Mr=tt[1];return _t.state=Mr,X(),_r}return _e}()}),X=ne.restore}function On(Ht,Ve,et){var _t=Ht[J],ne=_t&&et.nodeToElement(_t);if(Ht.type()===Ve)return Ht.dive();if(ne&&(0,T.isCustomComponentElement)(ne,et))return On(Ht.dive(),Ve,et);for(var X=Ht.children(),Q=0;Q<X.length;Q+=1){var _e=On(X.at(Q),Ve,et);if(typeof _e<"u")return _e}}function sn(Ht,Ve){var et=On(Ht,Ht[st],Ve);if(!et)throw new Error("`wrappingComponent` must render its children!");return{legacyContext:et[Ee].context,providerValues:et[mt]}}function Ur(Ht,Ve,et,_t){var ne=(0,T.makeOptions)(et),X=(0,x.default)(et);if((0,T.privateSet)(ne,mt,et[mt]),Ve||!(0,T.isCustomComponent)(ne.wrappingComponent,X))return ne;if(typeof X.wrapWithWrappingComponent!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");var Q=X.wrapWithWrappingComponent(Ht,ne),_e=Q.node,ze=Q.RootFinder,tt=new Ja(_e,_t,ze),yt=sn(tt,X),_r=yt.legacyContext,Mr=yt.providerValues;return(0,T.privateSet)(_t,Xe,tt),(0,u.default)({},ne,ee({context:(0,u.default)({},ne.context,_r)},mt,Mr))}function Bn(Ht){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=(0,u.default)({},Ht[Ee],Ve,{context:Ve.context||(0,u.default)({},Ht[Ee].context,Ht[ye][Me])});return(0,T.privateSet)(et,mt,Ht[ye][mt]),et}var Mn=function(){function Ht(Ve,et){var _t=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z(this,Ht),Ie(ne);var X=Ur(Ve,et,ne,this),Q=(0,x.default)(X),_e=Ne(Q);if(et)(0,T.privateSet)(this,ye,et),(0,T.privateSet)(this,ae,null),(0,T.privateSet)(this,pe,et[pe]),Vt(this,Ve),(0,T.privateSet)(this,Ee,et[Ee]),(0,T.privateSet)(this,be,et[he]),(0,T.privateSet)(this,mt,null);else{if(!Q.isValidElement(Ve))throw new TypeError("ShallowWrapper can only wrap valid elements");var ze=_e.getChildContext.calledByRenderer?jt(Ve,Q):null;(0,T.privateSet)(this,ye,this),(0,T.privateSet)(this,ae,Ve);var tt=Q.createRenderer((0,u.default)({mode:"shallow"},X));(0,T.privateSet)(this,pe,tt);var yt=new Map(X[mt]||[]);this[pe].render(Ve,X.context,{providerValues:yt});var _r=this[pe].getNode();Vt(this,Fe(_r)),(0,T.privateSet)(this,Ee,X),(0,T.privateSet)(this,mt,yt);var Mr=_r.instance;Mr&&!X.disableLifecycleMethods&&(_e.componentDidUpdate.onSetState&&!Mr[ue]&&((0,T.privateSet)(Mr,ue,Mr.setState),Mr.setState=function(qr){var jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return _t.setState.apply(_t,j(jr==null?[qr]:[qr,jr]))}),typeof Mr.componentDidMount=="function"&&this[pe].batchedUpdates(function(){Mr.componentDidMount()}),Hr(Q,this,Mr,_r,ze))}}return r(Ht,[{key:"root",value:function(){function Ve(){return this[ye]}return Ve}()},{key:"getNodeInternal",value:function(){function Ve(){if(this.length!==1)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[ye]===this&&this.update(),this[J]}return Ve}()},{key:"getNodesInternal",value:function(){function Ve(){return this[ye]===this&&this.length===1&&this.update(),this[he]}return Ve}()},{key:"getElement",value:function(){function Ve(){var et=this;return this.single("getElement",function(_t){return(0,x.default)(et[Ee]).nodeToElement(_t)})}return Ve}()},{key:"getElements",value:function(){function Ve(){var et=this;return this.getNodesInternal().map(function(_t){return(0,x.default)(et[Ee]).nodeToElement(_t)})}return Ve}()},{key:"getNode",value:function(){function Ve(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return Ve}()},{key:"getNodes",value:function(){function Ve(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return Ve}()},{key:"instance",value:function(){function Ve(){if(this[ye]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[pe].getNode().instance}return Ve}()},{key:"getWrappingComponent",value:function(){function Ve(){if(this[ye]!==this)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");if(!this[Ee].wrappingComponent)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[Xe]}return Ve}()},{key:"update",value:function(){function Ve(){if(this[ye]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(this.length!==1)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return Vt(this,Fe(this[pe].getNode())),this}return Ve}()},{key:"unmount",value:function(){function Ve(){return this[pe].unmount(),this[ye][Xe]&&this[ye][Xe].unmount(),this}return Ve}()},{key:"rerender",value:function(){function Ve(et,_t){var ne=this,X=(0,x.default)(this[Ee]);return this.single("rerender",function(){(0,T.withSetStateAllowed)(function(){var Q=ne[pe].getNode(),_e=Q.instance||{},ze=Q.type||{},tt=_e.state,yt=_e.props||ne[ae].props,_r=_e.context||ne[Ee].context,Mr=_t||_r;_t&&(ne[Ee]=(0,u.default)({},ne[Ee],{context:Mr})),ne[pe].batchedUpdates(function(){var qr=Ne(X),jr=!0,on=void 0,eo=void 0;if(!ne[Ee].disableLifecycleMethods&&_e){if(typeof _e.shouldComponentUpdate=="function"){var tl=qr.getDerivedStateFromProps;tl&&tl.hasShouldComponentUpdateBug&&Cr(Q,tt),on=(0,T.spyMethod)(_e,"shouldComponentUpdate")}qr.getChildContext.calledByRenderer&&typeof _e.getChildContext=="function"&&(eo=(0,T.spyMethod)(_e,"getChildContext"))}if(!on&&qt(_e)&&(jr=Ft(yt,et,tt,_e.state)),et&&(ne[ae]=(0,T.cloneElement)(X,ne[ae],et)),ne[pe].render(ne[ae],Mr,{providerValues:ne[mt]}),on&&(jr=on.getLastReturnValue(),on.restore()),jr&&!ne[Ee].disableLifecycleMethods&&_e)if(Hr(X,ne,_e,Q,eo),qr.getSnapshotBeforeUpdate){var Kc=void 0;typeof _e.getSnapshotBeforeUpdate=="function"&&(Kc=_e.getSnapshotBeforeUpdate(yt,tt)),qr.componentDidUpdate&&typeof _e.componentDidUpdate=="function"&&(!tt||(0,E.default)(tt,ne.instance().state)||typeof ze.getDerivedStateFromProps=="function")&&_e.componentDidUpdate(yt,tt,Kc)}else qr.componentDidUpdate&&typeof _e.componentDidUpdate=="function"&&(qr.componentDidUpdate.prevContext?_e.componentDidUpdate(yt,tt,_r):(!tt||(0,E.default)(ne.instance().state,tt))&&_e.componentDidUpdate(yt,tt));else(0,E.default)(et,_e.props)||(_e.props=(Object.freeze||Object)((0,u.default)({},_e.props,et)));ne.update()})})}),this}return Ve}()},{key:"setProps",value:function(){function Ve(et){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[ye]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof _t!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(et),_t&&_t(),this}return Ve}()},{key:"setState",value:function(){function Ve(et){var _t=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[ye]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(this.instance()===null||this[pe].getNode().nodeType!=="class")throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof ne!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",function(){(0,T.withSetStateAllowed)(function(){var X=(0,x.default)(_t[Ee]),Q=Ne(X),_e=_t[pe].getNode(),ze=_e.instance,tt=ze.props,yt=ze.state,_r=ze.context,Mr=typeof et=="function"?et.call(ze,yt,tt):et,qr=!Q.setState.skipsComponentDidUpdateOnNullish||Mr!=null,jr=void 0,on=void 0,eo=!0;if(!_t[Ee].disableLifecycleMethods&&ze){if(Q.componentDidUpdate&&Q.componentDidUpdate.onSetState&&typeof ze.shouldComponentUpdate=="function"){var tl=Q.getDerivedStateFromProps;tl&&tl.hasShouldComponentUpdateBug&&Cr(_e,et),jr=(0,T.spyMethod)(ze,"shouldComponentUpdate")}Q.getChildContext.calledByRenderer&&typeof ze.getChildContext=="function"&&(on=(0,T.spyMethod)(ze,"getChildContext"))}if(!jr&&qt(ze)&&(eo=Ft(tt,ze.props,yt,(0,u.default)({},yt,Mr))),ze[ue]?ze[ue](Mr):ze.setState(Mr),jr&&(eo=jr.getLastReturnValue(),jr.restore()),qr&&eo&&!_t[Ee].disableLifecycleMethods&&(Hr(X,_t,ze,_e,on),Q.componentDidUpdate&&Q.componentDidUpdate.onSetState))if(Q.getSnapshotBeforeUpdate&&typeof ze.getSnapshotBeforeUpdate=="function"){var Kc=ze.getSnapshotBeforeUpdate(tt,yt);typeof ze.componentDidUpdate=="function"&&ze.componentDidUpdate(tt,yt,Kc)}else typeof ze.componentDidUpdate=="function"&&(Q.componentDidUpdate.prevContext?ze.componentDidUpdate(tt,yt,_r):ze.componentDidUpdate(tt,yt));_t.update(),ne&&(X.invokeSetStateCallback?X.invokeSetStateCallback(ze,ne):ne.call(ze))})}),this}return Ve}()},{key:"setContext",value:function(){function Ve(et){if(this[ye]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[Ee].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,et)}return Ve}()},{key:"contains",value:function(){function Ve(et){var _t=(0,x.default)(this[Ee]);if(!(0,T.isReactElementAlike)(et,_t))throw new Error("ShallowWrapper::contains() can only be called with a ReactElement (or an array of them), a string, or a number as an argument.");var ne=Array.isArray(et)?function(X){return(0,T.containsChildrenSubArray)(T.nodeEqual,X,et.map(function(Q){return _t.elementToNode(Q)}))}:function(X){return(0,T.nodeEqual)(_t.elementToNode(et),X)};return kt(this,ne).length>0}return Ve}()},{key:"containsMatchingElement",value:function(){function Ve(et){var _t=(0,x.default)(this[Ee]),ne=_t.elementToNode(et),X=function(){function Q(_e){return(0,T.nodeMatches)(ne,_e,function(ze,tt){return ze<=tt})}return Q}();return kt(this,X).length>0}return Ve}()},{key:"containsAllMatchingElements",value:function(){function Ve(et){var _t=this;if(!Array.isArray(et))throw new TypeError("nodes should be an Array");return et.every(function(ne){return _t.containsMatchingElement(ne)})}return Ve}()},{key:"containsAnyMatchingElements",value:function(){function Ve(et){var _t=this;return Array.isArray(et)&&et.some(function(ne){return _t.containsMatchingElement(ne)})}return Ve}()},{key:"equals",value:function(){function Ve(et){var _t=this;return this.single("equals",function(){return(0,T.nodeEqual)(_t.getNodeInternal(),et)})}return Ve}()},{key:"matchesElement",value:function(){function Ve(et){var _t=this;return this.single("matchesElement",function(){var ne=(0,x.default)(_t[Ee]),X=ne.elementToNode(et);return(0,T.nodeMatches)(X,_t.getNodeInternal(),function(Q,_e){return Q<=_e})})}return Ve}()},{key:"find",value:function(){function Ve(et){return this.wrap((0,M.reduceTreesBySelector)(et,this.getNodesInternal()))}return Ve}()},{key:"is",value:function(){function Ve(et){var _t=(0,M.buildPredicate)(et);return this.single("is",function(ne){return _t(ne)})}return Ve}()},{key:"isEmptyRender",value:function(){function Ve(){var et=this.getNodesInternal();return et.every(function(_t){return(0,T.isEmptyValue)(_t)})}return Ve}()},{key:"filterWhere",value:function(){function Ve(et){var _t=this;return Le(this,function(ne){return et(_t.wrap(ne))})}return Ve}()},{key:"filter",value:function(){function Ve(et){var _t=(0,M.buildPredicate)(et);return Le(this,_t)}return Ve}()},{key:"not",value:function(){function Ve(et){var _t=(0,M.buildPredicate)(et);return Le(this,function(ne){return!_t(ne)})}return Ve}()},{key:"text",value:function(){function Ve(){return this.single("text",P.getTextFromNode)}return Ve}()},{key:"html",value:function(){function Ve(){var et=this;return this.single("html",function(_t){if(et.type()===null)return null;var ne=(0,x.default)(et[Ee]),X=ne.createRenderer((0,u.default)({},et[Ee],{mode:"string"}));return X.render(ne.nodeToElement(_t))})}return Ve}()},{key:"render",value:function(){function Ve(){var et=this.html();return(0,T.loadCheerioRoot)(et)}return Ve}()},{key:"simulate",value:function(){function Ve(et){for(var _t=this,ne=arguments.length,X=Array(ne>1?ne-1:0),Q=1;Q<ne;Q++)X[Q-1]=arguments[Q];return this.single("simulate",function(_e){var ze;return(ze=_t[pe]).simulateEvent.apply(ze,[_e,et].concat(X)),_t[ye].update(),_t})}return Ve}()},{key:"simulateError",value:function(){function Ve(et){var _t=this;return this.single("simulateError",function(ne){if(ne.nodeType==="host")throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var X=_t[pe];if(typeof X.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var Q=dt(_t),_e=[ne].concat(Et(_t,ne));return X.simulateError(_e,Q,et),_t})}return Ve}()},{key:"props",value:function(){function Ve(){return this.single("props",P.propsOfNode)}return Ve}()},{key:"state",value:function(){function Ve(et){var _t=this;if(this[ye]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(this.instance()===null||this[pe].getNode().nodeType!=="class")throw new Error("ShallowWrapper::state() can only be called on class components");var ne=this.single("state",function(){return _t.instance().state});if(typeof et<"u"){if(ne==null)throw new TypeError('ShallowWrapper::state("'+String(et)+'") requires that `state` not be `null` or `undefined`');return ne[et]}return ne}return Ve}()},{key:"context",value:function(){function Ve(et){var _t=this;if(this[ye]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[Ee].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(this.instance()===null)throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var ne=this.single("context",function(){return _t.instance().context});return et?ne[et]:ne}return Ve}()},{key:"children",value:function(){function Ve(et){var _t=this.flatMap(function(ne){return(0,P.childrenOfNode)(ne.getNodeInternal())});return et?_t.filter(et):_t}return Ve}()},{key:"childAt",value:function(){function Ve(et){var _t=this;return this.single("childAt",function(){return _t.children().at(et)})}return Ve}()},{key:"parents",value:function(){function Ve(et){var _t=this;return this.single("parents",function(ne){var X=_t.wrap(Et(_t,ne));return et?X.filter(et):X})}return Ve}()},{key:"parent",value:function(){function Ve(){return this.flatMap(function(et){return[et.parents().get(0)]})}return Ve}()},{key:"closest",value:function(){function Ve(et){if(this.is(et))return this;var _t=this.parents().filter(et);return _t.length>0?_t.first():this.findWhere(function(){return!1})}return Ve}()},{key:"shallow",value:function(){function Ve(){var et=this,_t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.single("shallow",function(ne){var X=Bn(et,_t);return et.wrap((0,x.default)(et[Ee]).nodeToElement(ne),null,X)})}return Ve}()},{key:"prop",value:function(){function Ve(et){return this.props()[et]}return Ve}()},{key:"invoke",value:function(){function Ve(et){var _t=this;return this.single("invoke",function(){var ne=_t.prop(et);if(typeof ne!="function")throw new TypeError("ShallowWrapper::invoke() requires the name of a prop whose value is a function");return function(){var X=ne.apply(void 0,arguments);return _t[ye].update(),X}})}return Ve}()},{key:"renderProp",value:function(){function Ve(et){var _t=this,ne=(0,x.default)(this[Ee]);if(typeof ne.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(X){if(X.nodeType==="host")throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if(typeof et!="string")throw new TypeError("ShallowWrapper::renderProp(): `propName` must be a string");var Q=_t.props();if(!(0,v.default)(Q,et))throw new Error("ShallowWrapper::renderProp(): no prop called "+String(et)+" found");var _e=Q[et];if(typeof _e!="function")throw new TypeError("ShallowWrapper::renderProp(): expected prop "+String(et)+" to contain a function, but it holds "+(typeof _e>"u"?"undefined":s(_e))+"");return function(){var ze=_e.apply(void 0,arguments),tt=ne.wrap(ze);return _t.wrap(tt,null,_t[Ee])}})}return Ve}()},{key:"key",value:function(){function Ve(){return this.single("key",function(et){return et.key===void 0?null:et.key})}return Ve}()},{key:"type",value:function(){function Ve(){return this.single("type",function(et){return(0,T.typeOfNode)(et)})}return Ve}()},{key:"name",value:function(){function Ve(){var et=(0,x.default)(this[Ee]);return this.single("name",function(_t){return et.displayNameOfNode?et.displayNameOfNode(_t):(0,T.displayNameOfNode)(_t)})}return Ve}()},{key:"hasClass",value:function(){function Ve(et){return typeof et=="string"&&et.indexOf(".")!==-1&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(_t){return(0,P.hasClassName)(_t,et)})}return Ve}()},{key:"forEach",value:function(){function Ve(et){var _t=this;return this.getNodesInternal().forEach(function(ne,X){return et.call(_t,_t.wrap(ne),X)}),this}return Ve}()},{key:"map",value:function(){function Ve(et){var _t=this;return this.getNodesInternal().map(function(ne,X){return et.call(_t,_t.wrap(ne),X)})}return Ve}()},{key:"reduce",value:function(){function Ve(et){var _t=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(X,Q,_e){return et.call(_t,X,_t.wrap(Q),_e)},ne):this.getNodesInternal().reduce(function(X,Q,_e){return et.call(_t,_e===1?_t.wrap(X):X,_t.wrap(Q),_e)})}return Ve}()},{key:"reduceRight",value:function(){function Ve(et){var _t=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(X,Q,_e){return et.call(_t,X,_t.wrap(Q),_e)},ne):this.getNodesInternal().reduceRight(function(X,Q,_e){return et.call(_t,_e===1?_t.wrap(X):X,_t.wrap(Q),_e)})}return Ve}()},{key:"slice",value:function(){function Ve(et,_t){return this.wrap(this.getNodesInternal().slice(et,_t))}return Ve}()},{key:"some",value:function(){function Ve(et){if(this[ye]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var _t=(0,M.buildPredicate)(et);return this.getNodesInternal().some(_t)}return Ve}()},{key:"someWhere",value:function(){function Ve(et){var _t=this;return this.getNodesInternal().some(function(ne,X){return et.call(_t,_t.wrap(ne),X)})}return Ve}()},{key:"every",value:function(){function Ve(et){var _t=(0,M.buildPredicate)(et);return this.getNodesInternal().every(_t)}return Ve}()},{key:"everyWhere",value:function(){function Ve(et){var _t=this;return this.getNodesInternal().every(function(ne,X){return et.call(_t,_t.wrap(ne),X)})}return Ve}()},{key:"flatMap",value:function(){function Ve(et){var _t=this,ne=this.getNodesInternal().map(function(Q,_e){return et.call(_t,_t.wrap(Q),_e)}),X=(0,f.default)(ne,1);return this.wrap(X.filter(Boolean))}return Ve}()},{key:"findWhere",value:function(){function Ve(et){var _t=this;return kt(this,function(ne){var X=_t.wrap(ne);return X.length>0&&et(X)})}return Ve}()},{key:"get",value:function(){function Ve(et){return this.getElements()[et]}return Ve}()},{key:"at",value:function(){function Ve(et){var _t=this.getNodesInternal();return et<_t.length?this.wrap(_t[et]):this.wrap([])}return Ve}()},{key:"first",value:function(){function Ve(){return this.at(0)}return Ve}()},{key:"last",value:function(){function Ve(){return this.at(this.length-1)}return Ve}()},{key:"isEmpty",value:function(){function Ve(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return Ve}()},{key:"exists",value:function(){function Ve(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(et).exists():this.length>0}return Ve}()},{key:"single",value:function(){function Ve(et,_t){var ne=typeof et=="string"?et:"unknown",X=typeof _t=="function"?_t:et;if(this.length!==1)throw new Error("Method "+ne+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return X.call(this,this.getNodeInternal())}return Ve}()},{key:"wrap",value:function(){function Ve(et){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[ye];if(et instanceof Ht)return et;for(var ne=arguments.length,X=Array(ne>2?ne-2:0),Q=2;Q<ne;Q++)X[Q-2]=arguments[Q];return new(Function.prototype.bind.apply(Ht,[null].concat([et,_t],X)))}return Ve}()},{key:"debug",value:function(){function Ve(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,O.debugNodes)(this.getNodesInternal(),et)}return Ve}()},{key:"tap",value:function(){function Ve(et){return et(this),this}return Ve}()},{key:"dive",value:function(){function Ve(){var et=this,_t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=(0,x.default)(this[Ee]),X="dive";return this.single(X,function(Q){if(Q&&Q.nodeType==="host")throw new TypeError("ShallowWrapper::"+X+"() can not be called on Host Components");var _e=(0,x.default)(et[Ee]).nodeToElement(Q);if(!(0,T.isCustomComponentElement)(_e,ne))throw new TypeError("ShallowWrapper::"+X+"() can only be called on components");var ze=Bn(et,_t);return et.wrap(_e,null,ze)})}return Ve}()},{key:"hostNodes",value:function(){function Ve(){return this.filterWhere(function(et){return typeof et.type()=="string"})}return Ve}()}]),Ht}();function ci(Ht){var Ve=(0,x.default)(Ht[Ee]),et=Ht[rt],_t=et[pe],ne=_t.getNode(),X=sn(Ht,Ve),Q=X.legacyContext,_e=X.providerValues,ze=et[mt];if(et.setContext((0,u.default)({},Ht[rt][Ee].context,Q)),et[mt]=new Map([].concat(j(ze),j(_e))),typeof Ve.isContextConsumer=="function"&&Ve.isContextConsumer(ne.type)){var tt=ne.type,yt=Ve.getProviderFromConsumer(tt),_r=_e.get(yt),Mr=ze.get(yt);_r!==Mr&&et.rerender()}}var Ja=function(Ht){U(Ve,Ht);function Ve(et,_t,ne){Z(this,Ve);var X=B(this,(Ve.__proto__||Object.getPrototypeOf(Ve)).call(this,et));return(0,T.privateSet)(X,rt,_t),(0,T.privateSet)(X,st,ne),X}return r(Ve,[{key:"rerender",value:function(){function et(){for(var _t,ne=arguments.length,X=Array(ne),Q=0;Q<ne;Q++)X[Q]=arguments[Q];var _e=(_t=t(Ve.prototype.__proto__||Object.getPrototypeOf(Ve.prototype),"rerender",this)).call.apply(_t,[this].concat(X));return ci(this),_e}return et}()},{key:"setState",value:function(){function et(){for(var _t,ne=arguments.length,X=Array(ne),Q=0;Q<ne;Q++)X[Q]=arguments[Q];var _e=(_t=t(Ve.prototype.__proto__||Object.getPrototypeOf(Ve.prototype),"setState",this)).call.apply(_t,[this].concat(X));return ci(this),_e}return et}()},{key:"getWrappingComponent",value:function(){function et(){throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root")}return et}()}]),Ve}(Mn);T.ITERATOR_SYMBOL&&Object.defineProperty(Mn.prototype,T.ITERATOR_SYMBOL,{configurable:!0,value:function(){function Ht(){var Ve,et=this.getNodesInternal()[T.ITERATOR_SYMBOL](),_t=(0,x.default)(this[Ee]);return Ve={},ee(Ve,T.ITERATOR_SYMBOL,function(){return this}),ee(Ve,"next",function(){function ne(){var X=et.next();return X.done?{done:!0}:{done:!1,value:_t.nodeToElement(X.value)}}return ne}()),Ve}return Ht}()});function kn(Ht,Ve){Object.defineProperty(Mn.prototype,Ht,{get:function(){function et(){throw new Error(`
        Attempted to access ShallowWrapper::`+String(Ht)+`, which was previously a private property on
        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.
        `+String(Ve)+`
      `)}return et}(),enumerable:!1,configurable:!1})}kn("node","Consider using the getElement() method instead."),kn("nodes","Consider using the getElements() method instead."),kn("renderer",""),kn("options",""),kn("complexSelector",""),e.default=Mn})(Xj);var rue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=Bp,r=s(t);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,h){return new r.default(u,null,h)}})(rue);var nue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=Xj,r=s(t);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,h){return new r.default(u,null,h)}})(nue);var iue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=Cw,r=h(t),s=Sy,a=h(s),u=HR;function h(g){return g&&g.__esModule?g:{default:g}}function f(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=(0,a.default)(v),E=p.createRenderer((0,r.default)({mode:"string"},v)),T=E.render(g,v.context);return(0,u.loadCheerioRoot)(T)}})(iue);var rHe=Bp,nHe=hC(rHe),iHe=Xj,aHe=hC(iHe),oHe=ile,sHe=hC(oHe),lHe=rue,uHe=hC(lHe),cHe=nue,hHe=hC(cHe),fHe=iue,dHe=hC(fHe),pHe=U_;function hC(e){return e&&e.__esModule?e:{default:e}}var mHe={render:dHe.default,shallow:hHe.default,mount:uHe.default,ShallowWrapper:aHe.default,ReactWrapper:nHe.default,configure:pHe.merge,EnzymeAdapter:sHe.default};const Yj=100,gHe=(e,t,r,s)=>{for(const{viewId:a,trackId:u,track:h}of e.instance().iterateOverTracks())a===t&&u===r&&(h.options={...h.options,...s});e.setState(e.instance().state)},vHe=e=>{for(const t of e.iterateOverTracks())if(HF(e,t.viewId,t.trackId).activeTransitions>0)return!0;return!1},qj=(e,t)=>{vHe(e)?setTimeout(()=>{qj(e,t)},Yj):t()},o6=e=>{ay>0?setTimeout(()=>o6(e),Yj):e()},yHe=e=>{for(const t of e.iterateOverTracks()){let r=fy(e,t.viewId,t.trackId);if(!(!t.track.server&&!t.track.tilesetUid&&!(t.track.data&&t.track.data.type==="divided")))if(t.track.data&&t.track.data.type==="divided"||t.track.server&&t.track.tilesetUid){if(r.originalTrack&&(r=r.originalTrack),!(r.tilesetInfo||r.chromInfo)||r.fetching&&r.fetching.size)return!0}else throw Error('"server" and "tilesetUid" belong together')}return!1},CP=(e,t)=>{yHe(e)?setTimeout(()=>{CP(e,t)},Yj):t()},Zj=(e,t,r,s,a={})=>{const{style:u="width:800px; background-color: lightgreen;",bounded:h=!1,extendedDelay:f=!1}=a;t&&(t.unmount(),t.detach()),e&&globalThis.document.body.removeChild(e);const g=globalThis.document.createElement("div");globalThis.document.body.appendChild(g),g.setAttribute("style",u),g.setAttribute("id","simple-hg-component");const v=mHe.mount(F.default.createElement(I8,{options:{bounded:h},viewConfig:r}),{attachTo:g});return v.update(),o6(()=>{if(f){const p=()=>setTimeout(()=>{s()},1e3);CP(v.instance(),p)}else CP(v.instance(),s)}),[g,v]},bHe=e=>{e&&(Te.default.unmountComponentAtNode(e),document.body.removeChild(e))};async function _He(e,t,r,s){let a;return await new Promise(u=>{a=Zj(e,t,r,u,s)}),a}var fC=0,xP=0,IP=0,aue=1e3,s6,DP,l6=0,$_=0,u6=0,OP=typeof performance=="object"&&performance.now?performance:Date,oue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Kj(){return $_||(oue(THe),$_=OP.now()+u6)}function THe(){$_=0}function c6(){this._call=this._time=this._next=null}c6.prototype=sue.prototype={constructor:c6,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Kj():+r)+(t==null?0:+t),!this._next&&DP!==this&&(DP?DP._next=this:s6=this,DP=this),this._call=e,this._time=r,Qj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qj())}};function sue(e,t,r){var s=new c6;return s.restart(e,t,r),s}function EHe(){Kj(),++fC;for(var e=s6,t;e;)(t=$_-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fC}function lue(){$_=(l6=OP.now())+u6,fC=xP=0;try{EHe()}finally{fC=0,AHe(),$_=0}}function SHe(){var e=OP.now(),t=e-l6;t>aue&&(u6-=t,l6=e)}function AHe(){for(var e,t=s6,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:s6=r);DP=e,Qj(s)}function Qj(e){if(!fC){xP&&(xP=clearTimeout(xP));var t=e-$_;t>24?(e<1/0&&(xP=setTimeout(lue,e-OP.now()-u6)),IP&&(IP=clearInterval(IP))):(IP||(l6=OP.now(),IP=setInterval(SHe,aue)),fC=1,oue(lue))}}function uue(e,t,r){var s=new c6;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,r),s}var wHe=mp("start","end","cancel","interrupt"),CHe=[],cue=0,Jj=1,eW=2,h6=3,hue=4,tW=5,f6=6;function d6(e,t,r,s,a,u){var h=e.__transition;if(!h)e.__transition={};else if(r in h)return;xHe(e,r,{name:t,index:s,group:a,on:wHe,tween:CHe,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:cue})}function rW(e,t){var r=sd(e,t);if(r.state>cue)throw new Error("too late; already scheduled");return r}function Zp(e,t){var r=sd(e,t);if(r.state>h6)throw new Error("too late; already running");return r}function sd(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function xHe(e,t,r){var s=e.__transition,a;s[t]=r,r.timer=sue(u,0,r.time);function u(v){r.state=Jj,r.timer.restart(h,r.delay,r.time),r.delay<=v&&h(v-r.delay)}function h(v){var p,E,T,S;if(r.state!==Jj)return g();for(p in s)if(S=s[p],S.name===r.name){if(S.state===h6)return uue(h);S.state===hue?(S.state=f6,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete s[p]):+p<t&&(S.state=f6,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete s[p])}if(uue(function(){r.state===h6&&(r.state=hue,r.timer.restart(f,r.delay,r.time),f(v))}),r.state=eW,r.on.call("start",e,e.__data__,r.index,r.group),r.state===eW){for(r.state=h6,a=new Array(T=r.tween.length),p=0,E=-1;p<T;++p)(S=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(a[++E]=S);a.length=E+1}}function f(v){for(var p=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(g),r.state=tW,1),E=-1,T=a.length;++E<T;)a[E].call(e,p);r.state===tW&&(r.on.call("end",e,e.__data__,r.index,r.group),g())}function g(){r.state=f6,r.timer.stop(),delete s[t];for(var v in s)return;delete e.__transition}}function kP(e,t){var r=e.__transition,s,a,u=!0,h;if(r){t=t==null?null:t+"";for(h in r){if((s=r[h]).name!==t){u=!1;continue}a=s.state>eW&&s.state<tW,s.state=f6,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[h]}u&&delete e.__transition}}function IHe(e){return this.each(function(){kP(this,e)})}function DHe(e,t){var r,s;return function(){var a=Zp(this,e),u=a.tween;if(u!==r){s=r=u;for(var h=0,f=s.length;h<f;++h)if(s[h].name===t){s=s.slice(),s.splice(h,1);break}}a.tween=s}}function OHe(e,t,r){var s,a;if(typeof r!="function")throw new Error;return function(){var u=Zp(this,e),h=u.tween;if(h!==s){a=(s=h).slice();for(var f={name:t,value:r},g=0,v=a.length;g<v;++g)if(a[g].name===t){a[g]=f;break}g===v&&a.push(f)}u.tween=a}}function kHe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var s=sd(this.node(),r).tween,a=0,u=s.length,h;a<u;++a)if((h=s[a]).name===e)return h.value;return null}return this.each((t==null?DHe:OHe)(r,e,t))}function nW(e,t,r){var s=e._id;return e.each(function(){var a=Zp(this,s);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return sd(a,s).value[t]}}function fue(e,t){var r;return(typeof t=="number"?ul:t instanceof Ma?h0:(r=Ma(t))?(t=r,h0):ag)(e,t)}function RHe(e){return function(){this.removeAttribute(e)}}function PHe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NHe(e,t,r){var s,a=r+"",u;return function(){var h=this.getAttribute(e);return h===a?null:h===s?u:u=t(s=h,r)}}function MHe(e,t,r){var s,a=r+"",u;return function(){var h=this.getAttributeNS(e.space,e.local);return h===a?null:h===s?u:u=t(s=h,r)}}function LHe(e,t,r){var s,a,u;return function(){var h,f=r(this),g;return f==null?void this.removeAttribute(e):(h=this.getAttribute(e),g=f+"",h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f)))}}function FHe(e,t,r){var s,a,u;return function(){var h,f=r(this),g;return f==null?void this.removeAttributeNS(e.space,e.local):(h=this.getAttributeNS(e.space,e.local),g=f+"",h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f)))}}function BHe(e,t){var r=Gt(e),s=r==="transform"?Yb:fue;return this.attrTween(e,typeof t=="function"?(r.local?FHe:LHe)(r,s,nW(this,"attr."+e,t)):t==null?(r.local?PHe:RHe)(r):(r.local?MHe:NHe)(r,s,t))}function HHe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function UHe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function GHe(e,t){var r,s;function a(){var u=t.apply(this,arguments);return u!==s&&(r=(s=u)&&UHe(e,u)),r}return a._value=t,a}function $He(e,t){var r,s;function a(){var u=t.apply(this,arguments);return u!==s&&(r=(s=u)&&HHe(e,u)),r}return a._value=t,a}function zHe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var s=Gt(e);return this.tween(r,(s.local?GHe:$He)(s,t))}function VHe(e,t){return function(){rW(this,e).delay=+t.apply(this,arguments)}}function jHe(e,t){return t=+t,function(){rW(this,e).delay=t}}function WHe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VHe:jHe)(t,e)):sd(this.node(),t).delay}function XHe(e,t){return function(){Zp(this,e).duration=+t.apply(this,arguments)}}function YHe(e,t){return t=+t,function(){Zp(this,e).duration=t}}function qHe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XHe:YHe)(t,e)):sd(this.node(),t).duration}function ZHe(e,t){if(typeof t!="function")throw new Error;return function(){Zp(this,e).ease=t}}function KHe(e){var t=this._id;return arguments.length?this.each(ZHe(t,e)):sd(this.node(),t).ease}function QHe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Zp(this,e).ease=r}}function JHe(e){if(typeof e!="function")throw new Error;return this.each(QHe(this._id,e))}function eUe(e){typeof e!="function"&&(e=yi(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var u=t[a],h=u.length,f=s[a]=[],g,v=0;v<h;++v)(g=u[v])&&e.call(g,g.__data__,v,u)&&f.push(g);return new Kp(s,this._parents,this._name,this._id)}function tUe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,s=t.length,a=r.length,u=Math.min(s,a),h=new Array(s),f=0;f<u;++f)for(var g=t[f],v=r[f],p=g.length,E=h[f]=new Array(p),T,S=0;S<p;++S)(T=g[S]||v[S])&&(E[S]=T);for(;f<s;++f)h[f]=t[f];return new Kp(h,this._parents,this._name,this._id)}function rUe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function nUe(e,t,r){var s,a,u=rUe(t)?rW:Zp;return function(){var h=u(this,e),f=h.on;f!==s&&(a=(s=f).copy()).on(t,r),h.on=a}}function iUe(e,t){var r=this._id;return arguments.length<2?sd(this.node(),r).on.on(e):this.each(nUe(r,e,t))}function aUe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function oUe(){return this.on("end.remove",aUe(this._id))}function sUe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Wt(e));for(var s=this._groups,a=s.length,u=new Array(a),h=0;h<a;++h)for(var f=s[h],g=f.length,v=u[h]=new Array(g),p,E,T=0;T<g;++T)(p=f[T])&&(E=e.call(p,p.__data__,T,f))&&("__data__"in p&&(E.__data__=p.__data__),v[T]=E,d6(v[T],t,r,T,v,sd(p,r)));return new Kp(u,this._parents,t,r)}function lUe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Dr(e));for(var s=this._groups,a=s.length,u=[],h=[],f=0;f<a;++f)for(var g=s[f],v=g.length,p,E=0;E<v;++E)if(p=g[E]){for(var T=e.call(p,p.__data__,E,g),S,x=sd(p,r),O=0,P=T.length;O<P;++O)(S=T[O])&&d6(S,t,r,O,T,x);u.push(T),h.push(p)}return new Kp(u,h,t,r)}var uUe=vt.prototype.constructor;function cUe(){return new uUe(this._groups,this._parents)}function hUe(e,t){var r,s,a;return function(){var u=Pi(this,e),h=(this.style.removeProperty(e),Pi(this,e));return u===h?null:u===r&&h===s?a:a=t(r=u,s=h)}}function due(e){return function(){this.style.removeProperty(e)}}function fUe(e,t,r){var s,a=r+"",u;return function(){var h=Pi(this,e);return h===a?null:h===s?u:u=t(s=h,r)}}function dUe(e,t,r){var s,a,u;return function(){var h=Pi(this,e),f=r(this),g=f+"";return f==null&&(g=f=(this.style.removeProperty(e),Pi(this,e))),h===g?null:h===s&&g===a?u:(a=g,u=t(s=h,f))}}function pUe(e,t){var r,s,a,u="style."+t,h="end."+u,f;return function(){var g=Zp(this,e),v=g.on,p=g.value[u]==null?f||(f=due(t)):void 0;(v!==r||a!==p)&&(s=(r=v).copy()).on(h,a=p),g.on=s}}function mUe(e,t,r){var s=(e+="")=="transform"?FL:fue;return t==null?this.styleTween(e,hUe(e,s)).on("end.style."+e,due(e)):typeof t=="function"?this.styleTween(e,dUe(e,s,nW(this,"style."+e,t))).each(pUe(this._id,e)):this.styleTween(e,fUe(e,s,t),r).on("end.style."+e,null)}function gUe(e,t,r){return function(s){this.style.setProperty(e,t.call(this,s),r)}}function vUe(e,t,r){var s,a;function u(){var h=t.apply(this,arguments);return h!==a&&(s=(a=h)&&gUe(e,h,r)),s}return u._value=t,u}function yUe(e,t,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,vUe(e,t,r??""))}function bUe(e){return function(){this.textContent=e}}function _Ue(e){return function(){var t=e(this);this.textContent=t??""}}function TUe(e){return this.tween("text",typeof e=="function"?_Ue(nW(this,"text",e)):bUe(e==null?"":e+""))}function EUe(e){return function(t){this.textContent=e.call(this,t)}}function SUe(e){var t,r;function s(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&EUe(a)),t}return s._value=e,s}function AUe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,SUe(e))}function wUe(){for(var e=this._name,t=this._id,r=mue(),s=this._groups,a=s.length,u=0;u<a;++u)for(var h=s[u],f=h.length,g,v=0;v<f;++v)if(g=h[v]){var p=sd(g,t);d6(g,e,r,v,h,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Kp(s,this._parents,e,r)}function CUe(){var e,t,r=this,s=r._id,a=r.size();return new Promise(function(u,h){var f={value:h},g={value:function(){--a===0&&u()}};r.each(function(){var v=Zp(this,s),p=v.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(g)),v.on=t}),a===0&&u()})}var xUe=0;function Kp(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function pue(e){return vt().transition(e)}function mue(){return++xUe}var iv=vt.prototype;Kp.prototype=pue.prototype={constructor:Kp,select:sUe,selectAll:lUe,selectChild:iv.selectChild,selectChildren:iv.selectChildren,filter:eUe,merge:tUe,selection:cUe,transition:wUe,call:iv.call,nodes:iv.nodes,node:iv.node,size:iv.size,empty:iv.empty,each:iv.each,on:iUe,attr:BHe,attrTween:zHe,style:mUe,styleTween:yUe,text:TUe,textTween:AUe,remove:oUe,tween:kHe,delay:WHe,duration:qHe,ease:KHe,easeVarying:JHe,end:CUe,[Symbol.iterator]:iv[Symbol.iterator]};function IUe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var DUe={time:null,delay:0,duration:250,ease:IUe};function OUe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function kUe(e){var t,r;e instanceof Kp?(t=e._id,e=e._name):(t=mue(),(r=DUe).time=Kj(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,u=0;u<a;++u)for(var h=s[u],f=h.length,g,v=0;v<f;++v)(g=h[v])&&d6(g,e,t,v,h,r||OUe(g,t));return new Kp(s,this._parents,e,t)}vt.prototype.interrupt=IHe,vt.prototype.transition=kUe;var RUe=[null];function PUe(e,t){var r=e.__transition,s,a;if(r){t=t==null?null:t+"";for(a in r)if((s=r[a]).state>Jj&&s.name===t)return new Kp([[e]],RUe,t,+a)}return null}const NUe=Object.freeze(Object.defineProperty({__proto__:null,transition:pue,active:PUe,interrupt:kP},Symbol.toStringTag,{value:"Module"})),p6=e=>()=>e;function MUe(e,{sourceEvent:t,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function Qp(e,t,r){this.k=e,this.x=t,this.y=r}Qp.prototype={constructor:Qp,scale:function(e){return e===1?this:new Qp(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Qp(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ss=new Qp(1,0,0);gue.prototype=Qp.prototype;function gue(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ss;return e.__zoom}function iW(e){e.stopImmediatePropagation()}function RP(e){e.preventDefault(),e.stopImmediatePropagation()}function LUe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function FUe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vue(){return this.__zoom||Ss}function BUe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function HUe(){return navigator.maxTouchPoints||"ontouchstart"in this}function UUe(e,t,r){var s=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],u=e.invertY(t[0][1])-r[0][1],h=e.invertY(t[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),h>u?(u+h)/2:Math.min(0,u)||Math.max(0,h))}function aW(){var e=LUe,t=FUe,r=UUe,s=BUe,a=HUe,u=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],f=250,g=pD,v=mp("start","zoom","end"),p,E,T,S=500,x=150,O=0,P=10;function M(ue){ue.property("__zoom",vue).on("wheel.zoom",J,{passive:!1}).on("mousedown.zoom",he).on("dblclick.zoom",pe).filter(a).on("touchstart.zoom",ae).on("touchmove.zoom",ye).on("touchend.zoom touchcancel.zoom",Ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(ue,be,Me,Xe){var rt=ue.selection?ue.selection():ue;rt.property("__zoom",vue),ue!==rt?j(ue,be,Me,Xe):rt.interrupt().each(function(){Z(this,arguments).event(Xe).start().zoom(null,typeof be=="function"?be.apply(this,arguments):be).end()})},M.scaleBy=function(ue,be,Me,Xe){M.scaleTo(ue,function(){var rt=this.__zoom.k,st=typeof be=="function"?be.apply(this,arguments):be;return rt*st},Me,Xe)},M.scaleTo=function(ue,be,Me,Xe){M.transform(ue,function(){var rt=t.apply(this,arguments),st=this.__zoom,mt=Me==null?U(rt):typeof Me=="function"?Me.apply(this,arguments):Me,kt=st.invert(mt),Le=typeof be=="function"?be.apply(this,arguments):be;return r(B(G(st,Le),mt,kt),rt,h)},Me,Xe)},M.translateBy=function(ue,be,Me,Xe){M.transform(ue,function(){return r(this.__zoom.translate(typeof be=="function"?be.apply(this,arguments):be,typeof Me=="function"?Me.apply(this,arguments):Me),t.apply(this,arguments),h)},null,Xe)},M.translateTo=function(ue,be,Me,Xe,rt){M.transform(ue,function(){var st=t.apply(this,arguments),mt=this.__zoom,kt=Xe==null?U(st):typeof Xe=="function"?Xe.apply(this,arguments):Xe;return r(Ss.translate(kt[0],kt[1]).scale(mt.k).translate(typeof be=="function"?-be.apply(this,arguments):-be,typeof Me=="function"?-Me.apply(this,arguments):-Me),st,h)},Xe,rt)};function G(ue,be){return be=Math.max(u[0],Math.min(u[1],be)),be===ue.k?ue:new Qp(be,ue.x,ue.y)}function B(ue,be,Me){var Xe=be[0]-Me[0]*ue.k,rt=be[1]-Me[1]*ue.k;return Xe===ue.x&&rt===ue.y?ue:new Qp(ue.k,Xe,rt)}function U(ue){return[(+ue[0][0]+ +ue[1][0])/2,(+ue[0][1]+ +ue[1][1])/2]}function j(ue,be,Me,Xe){ue.on("start.zoom",function(){Z(this,arguments).event(Xe).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(Xe).end()}).tween("zoom",function(){var rt=this,st=arguments,mt=Z(rt,st).event(Xe),kt=t.apply(rt,st),Le=Me==null?U(kt):typeof Me=="function"?Me.apply(rt,st):Me,Ie=Math.max(kt[1][0]-kt[0][0],kt[1][1]-kt[0][1]),Ne=rt.__zoom,Fe=typeof be=="function"?be.apply(rt,st):be,dt=g(Ne.invert(Le).concat(Ie/Ne.k),Fe.invert(Le).concat(Ie/Fe.k));return function(Et){if(Et===1)Et=Fe;else{var Vt=dt(Et),Ft=Ie/Vt[2];Et=new Qp(Ft,Le[0]-Vt[0]*Ft,Le[1]-Vt[1]*Ft)}mt.zoom(null,Et)}})}function Z(ue,be,Me){return!Me&&ue.__zooming||new ee(ue,be)}function ee(ue,be){this.that=ue,this.args=be,this.active=0,this.sourceEvent=null,this.extent=t.apply(ue,be),this.taps=0}ee.prototype={event:function(ue){return ue&&(this.sourceEvent=ue),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(ue,be){return this.mouse&&ue!=="mouse"&&(this.mouse[1]=be.invert(this.mouse[0])),this.touch0&&ue!=="touch"&&(this.touch0[1]=be.invert(this.touch0[0])),this.touch1&&ue!=="touch"&&(this.touch1[1]=be.invert(this.touch1[0])),this.that.__zoom=be,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(ue){var be=Ut(this.that).datum();v.call(ue,this.that,new MUe(ue,{sourceEvent:this.sourceEvent,target:M,type:ue,transform:this.that.__zoom,dispatch:v}),be)}};function J(ue,...be){if(!e.apply(this,arguments))return;var Me=Z(this,be).event(ue),Xe=this.__zoom,rt=Math.max(u[0],Math.min(u[1],Xe.k*Math.pow(2,s.apply(this,arguments)))),st=nn(ue);if(Me.wheel)(Me.mouse[0][0]!==st[0]||Me.mouse[0][1]!==st[1])&&(Me.mouse[1]=Xe.invert(Me.mouse[0]=st)),clearTimeout(Me.wheel);else{if(Xe.k===rt)return;Me.mouse=[st,Xe.invert(st)],kP(this),Me.start()}RP(ue),Me.wheel=setTimeout(mt,x),Me.zoom("mouse",r(B(G(Xe,rt),Me.mouse[0],Me.mouse[1]),Me.extent,h));function mt(){Me.wheel=null,Me.end()}}function he(ue,...be){if(T||!e.apply(this,arguments))return;var Me=ue.currentTarget,Xe=Z(this,be,!0).event(ue),rt=Ut(ue.view).on("mousemove.zoom",Le,!0).on("mouseup.zoom",Ie,!0),st=nn(ue,Me),mt=ue.clientX,kt=ue.clientY;Dg(ue.view),iW(ue),Xe.mouse=[st,this.__zoom.invert(st)],kP(this),Xe.start();function Le(Ne){if(RP(Ne),!Xe.moved){var Fe=Ne.clientX-mt,dt=Ne.clientY-kt;Xe.moved=Fe*Fe+dt*dt>O}Xe.event(Ne).zoom("mouse",r(B(Xe.that.__zoom,Xe.mouse[0]=nn(Ne,Me),Xe.mouse[1]),Xe.extent,h))}function Ie(Ne){rt.on("mousemove.zoom mouseup.zoom",null),G1(Ne.view,Xe.moved),RP(Ne),Xe.event(Ne).end()}}function pe(ue,...be){if(e.apply(this,arguments)){var Me=this.__zoom,Xe=nn(ue.changedTouches?ue.changedTouches[0]:ue,this),rt=Me.invert(Xe),st=Me.k*(ue.shiftKey?.5:2),mt=r(B(G(Me,st),Xe,rt),t.apply(this,be),h);RP(ue),f>0?Ut(this).transition().duration(f).call(j,mt,Xe,ue):Ut(this).call(M.transform,mt,Xe,ue)}}function ae(ue,...be){if(e.apply(this,arguments)){var Me=ue.touches,Xe=Me.length,rt=Z(this,be,ue.changedTouches.length===Xe).event(ue),st,mt,kt,Le;for(iW(ue),mt=0;mt<Xe;++mt)kt=Me[mt],Le=nn(kt,this),Le=[Le,this.__zoom.invert(Le),kt.identifier],rt.touch0?!rt.touch1&&rt.touch0[2]!==Le[2]&&(rt.touch1=Le,rt.taps=0):(rt.touch0=Le,st=!0,rt.taps=1+!!p);p&&(p=clearTimeout(p)),st&&(rt.taps<2&&(E=Le[0],p=setTimeout(function(){p=null},S)),kP(this),rt.start())}}function ye(ue,...be){if(this.__zooming){var Me=Z(this,be).event(ue),Xe=ue.changedTouches,rt=Xe.length,st,mt,kt,Le;for(RP(ue),st=0;st<rt;++st)mt=Xe[st],kt=nn(mt,this),Me.touch0&&Me.touch0[2]===mt.identifier?Me.touch0[0]=kt:Me.touch1&&Me.touch1[2]===mt.identifier&&(Me.touch1[0]=kt);if(mt=Me.that.__zoom,Me.touch1){var Ie=Me.touch0[0],Ne=Me.touch0[1],Fe=Me.touch1[0],dt=Me.touch1[1],Et=(Et=Fe[0]-Ie[0])*Et+(Et=Fe[1]-Ie[1])*Et,Vt=(Vt=dt[0]-Ne[0])*Vt+(Vt=dt[1]-Ne[1])*Vt;mt=G(mt,Math.sqrt(Et/Vt)),kt=[(Ie[0]+Fe[0])/2,(Ie[1]+Fe[1])/2],Le=[(Ne[0]+dt[0])/2,(Ne[1]+dt[1])/2]}else if(Me.touch0)kt=Me.touch0[0],Le=Me.touch0[1];else return;Me.zoom("touch",r(B(mt,kt,Le),Me.extent,h))}}function Ee(ue,...be){if(this.__zooming){var Me=Z(this,be).event(ue),Xe=ue.changedTouches,rt=Xe.length,st,mt;for(iW(ue),T&&clearTimeout(T),T=setTimeout(function(){T=null},S),st=0;st<rt;++st)mt=Xe[st],Me.touch0&&Me.touch0[2]===mt.identifier?delete Me.touch0:Me.touch1&&Me.touch1[2]===mt.identifier&&delete Me.touch1;if(Me.touch1&&!Me.touch0&&(Me.touch0=Me.touch1,delete Me.touch1),Me.touch0)Me.touch0[1]=this.__zoom.invert(Me.touch0[0]);else if(Me.end(),Me.taps===2&&(mt=nn(mt,this),Math.hypot(E[0]-mt[0],E[1]-mt[1])<P)){var kt=Ut(this).on("dblclick.zoom");kt&&kt.apply(this,arguments)}}}return M.wheelDelta=function(ue){return arguments.length?(s=typeof ue=="function"?ue:p6(+ue),M):s},M.filter=function(ue){return arguments.length?(e=typeof ue=="function"?ue:p6(!!ue),M):e},M.touchable=function(ue){return arguments.length?(a=typeof ue=="function"?ue:p6(!!ue),M):a},M.extent=function(ue){return arguments.length?(t=typeof ue=="function"?ue:p6([[+ue[0][0],+ue[0][1]],[+ue[1][0],+ue[1][1]]]),M):t},M.scaleExtent=function(ue){return arguments.length?(u[0]=+ue[0],u[1]=+ue[1],M):[u[0],u[1]]},M.translateExtent=function(ue){return arguments.length?(h[0][0]=+ue[0][0],h[1][0]=+ue[1][0],h[0][1]=+ue[0][1],h[1][1]=+ue[1][1],M):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},M.constrain=function(ue){return arguments.length?(r=ue,M):r},M.duration=function(ue){return arguments.length?(f=+ue,M):f},M.interpolate=function(ue){return arguments.length?(g=ue,M):g},M.on=function(){var ue=v.on.apply(v,arguments);return ue===v?M:ue},M.clickDistance=function(ue){return arguments.length?(O=(ue=+ue)*ue,M):Math.sqrt(O)},M.tapDistance=function(ue){return arguments.length?(P=+ue,M):P},M}const GUe=Object.freeze(Object.defineProperty({__proto__:null,zoom:aW,zoomTransform:gue,zoomIdentity:Ss,ZoomTransform:Qp},Symbol.toStringTag,{value:"Module"})),$Ue=40,As=0,Qu=5,yue=4;let m6=function(){function e(t){L(this,e),this.pAxis=new or.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return V(e,[{key:"startAxis",value:function(r){const s=this.pAxis;s.clear(),s.lineStyle(1,this.track.getTheme()===Gi?Kr("#ffffff"):0,1),s.moveTo(0,0),s.lineTo(0,r)}},{key:"createAxisTexts",value:function(r,s){this.tickValues=this.calculateAxisTickValues(r,s);let a=0;const u=this.track.getTheme()===Gi?"white":"black";for(!this.track.options||!this.track.options.axisLabelFormatting||this.track.options.axisLabelFormatting==="scientific"?this.tickFormat=cl(".2"):this.tickFormat=h=>h;a<this.tickValues.length;){const h=this.tickValues[a];for(;this.axisTexts.length<=a;){const f=new or.PIXI.Text(h,{fontSize:`${this.axisTextFontSize}px`,fontFamily:this.axisTextFontFamily,fill:u});this.axisTexts.push(f),this.pAxis.addChild(f)}this.axisTexts[a].text=this.tickFormat(h),this.axisTexts[a].anchor.y=.5,this.axisTexts[a].anchor.x=.5,a++}for(;this.axisTexts.length>this.tickValues.length;){const h=this.axisTexts.pop();this.pAxis.removeChild(h),h.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(r,s){const a=Math.max(Math.ceil(s/$Ue),1);let u=r.ticks(a);return u.length<1&&(u=r.ticks(a+1),u.length>1&&(u=[u[0]])),u}},{key:"drawAxisLeft",value:function(r,s){this.startAxis(s),this.createAxisTexts(r,s);const a=this.pAxis;this.track.getTheme()===Gi&&a.lineStyle(a.lineWidth||a._lineStyle.width,Kr("#ffffff")),a.moveTo(0,0),a.lineTo(-(As+Qu),0),a.moveTo(0,s),a.lineTo(-(As+Qu),s);for(let u=0;u<this.axisTexts.length;u++){const h=this.tickValues[u];this.axisTexts[u].x=-(As+Qu+yue+this.axisTexts[u].width/2),this.axisTexts[u].y=r(h),a.moveTo(-As,r(h)),a.lineTo(-(As+Qu),r(h)),this.track&&this.track.flipText&&(this.axisTexts[u].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(r,s){this.startAxis(s),this.createAxisTexts(r,s);const a=this.pAxis;this.track.getTheme()===Gi&&a.lineStyle(a.lineWidth||a._lineStyle.width,Kr("#ffffff")),a.moveTo(0,0),a.lineTo(As+Qu,0),a.moveTo(0,s),a.lineTo(As+Qu,s);for(let u=0;u<this.axisTexts.length;u++){const h=this.tickValues[u];this.axisTexts[u].x=As+Qu+yue+this.axisTexts[u].width/2,this.axisTexts[u].y=r(h),a.moveTo(As,r(h)),a.lineTo(As+Qu,r(h)),this.track&&this.track.flipText&&(this.axisTexts[u].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(let r=this.axisTexts.length-1;r>=0;r--)this.axisTexts[r].visible=!0;for(let r=this.axisTexts.length-1;r>=0;r--){if(!this.axisTexts[r].visible)continue;let s=r-1;for(;s>=0&&this.axisTexts[r].y+this.axisTexts[r].height/2>this.axisTexts[s].y-this.axisTexts[s].height/2;){this.axisTexts[s].visible=!1;s-=1}}}},{key:"exportVerticalAxis",value:function(r){const s=document.createElement("g");s.setAttribute("class","axis-vertical");let a="black";this.track&&this.track.options.lineStrokeColor&&(a=this.track.options.lineStrokeColor),this.track.getTheme()===Gi&&(a="#cccccc");const u=document.createElement("path");return u.setAttribute("fill","transparent"),u.setAttribute("stroke",a),u.setAttribute("id","axis-line"),u.setAttribute("d",`M0,0 L0,${r}`),s.appendChild(u),s}},{key:"createAxisSVGLine",value:function(){let r="black";this.track&&this.track.options.lineStrokeColor&&(r=this.track.options.lineStrokeColor),this.track.getTheme()===Gi&&(r="#cccccc");const s=document.createElement("path");return s.setAttribute("id","tick-mark"),s.setAttribute("fill","transparent"),s.setAttribute("stroke",r),s}},{key:"createAxisSVGText",value:function(r){const s=document.createElement("text");return s.innerHTML=r,s.setAttribute("id","axis-text"),s.setAttribute("text-anchor","middle"),s.setAttribute("font-family",this.axisTextFontFamily),s.setAttribute("font-size",this.axisTextFontSize),s.setAttribute("dy",this.axisTextFontSize/2-2),s}},{key:"exportAxisLeftSVG",value:function(r,s){const a=this.exportVerticalAxis(s),u=this.createAxisSVGLine();a.appendChild(u),u.setAttribute("d",`M0,0 L${+(As+Qu)},0`);const h=this.createAxisSVGLine();a.appendChild(h),h.setAttribute("d",`M0,${s} L${+(As+Qu)},${s}`);for(let f=0;f<this.axisTexts.length;f++){const g=this.tickValues[f],v=this.axisTexts[f],p=this.createAxisSVGLine();a.appendChild(p),p.setAttribute("d",`M${+As},${r(g)} L${+(As+Qu)},${r(g)}`);const E=document.createElement("g");if(a.appendChild(E),v.visible){const T=this.createAxisSVGText(v.text);E.appendChild(T)}E.setAttribute("transform",`translate(${v.position.x},${v.position.y})
             scale(${v.scale.x},${v.scale.y})`)}return a}},{key:"exportAxisRightSVG",value:function(r,s){const a=this.exportVerticalAxis(s),u=this.createAxisSVGLine();a.appendChild(u),u.setAttribute("d",`M0,0 L${-(As+Qu)},0`);const h=this.createAxisSVGLine();a.appendChild(h),h.setAttribute("d",`M0,${s} L${-(As+Qu)},${s}`);for(let f=0;f<this.axisTexts.length;f++){const g=this.tickValues[f],v=this.axisTexts[f],p=this.createAxisSVGLine();a.appendChild(p),p.setAttribute("d",`M${-As},${r(g)} L${-(As+Qu)},${r(g)}`);const E=document.createElement("g");if(a.appendChild(E),v.visible){const T=this.createAxisSVGText(v.text);E.appendChild(T)}E.setAttribute("transform",`translate(${v.position.x},${v.position.y})
             scale(${v.scale.x},${v.scale.y})`)}return a}},{key:"clearAxis",value:function(){const r=this.pAxis;for(;this.axisTexts.length;){const s=this.axisTexts.pop();r.removeChild(s)}r.clear()}}]),e}();const bue=(e,t)=>{const r=[];for(let s=e;s<t;s++)r.push(s);return r},zUe=(e,t)=>{const r=e.map(f=>+f).sort((f,g)=>g-f),s=t.range()[1]-t.range()[0],u=r.map(f=>(t.domain()[1]-t.domain()[0])/f).map(f=>f/s),h=u.filter(f=>f<1);return h.length===0?0:u.indexOf(h[h.length-1])},VUe=(e,t,r,s)=>{const a=e.range()[1]-e.range()[0],u=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),f=Math.max(0,Math.ceil(Math.log(a/384)/Math.LN2));let g=Math.round(Math.log(u)/Math.LN2)+f,v=0;return s&&(v=Math.floor(Math.log(256)/Math.log(2)-Math.log(s)/Math.log(2))),g+=v,g},_ue=(e,t,r)=>{if(typeof r>"u"&&(r=Number.MAX_SAFE_INTEGER),e.resolutions)return zUe(e.resolutions,t,e.min_pos[0],e.max_pos[0]-2);const s=VUe(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),a=Math.min(s,r);return Math.max(a,0)},jUe=(e,t,r,s,a,u)=>{const h=Math.min(e,a),f=u/2**h,g=1e-7;return bue(Math.max(0,Math.floor((t.domain()[0]-r)/f)),Math.min(2**h,Math.ceil((t.domain()[1]-r-g)/f)))},WUe=(e,t,r,s=Number.MAX_VALUE,a=256)=>{const h=e*a,f=20,g=Math.max(0,Math.floor((t.domain()[0]-r)/h)),v=Math.ceil(Math.min(s,t.domain()[1]-r-1e-7)/h);let p=bue(g,v);return p.length>f&&(console.warn(`Too many visible tiles: ${p.length} truncating to ${f}`),p=p.slice(0,f)),p},XUe=(e,t)=>{if(!e)return[];const r=_ue(e,t,e.max_zoom);if(e.resolutions){const u=e.resolutions.map(g=>+g).sort((g,v)=>v-g);return WUe(u[r],t,e.min_pos[0],e.max_pos[0]).map(g=>[r,g])}return jUe(r,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map(u=>[r,u])},YUe=(e,t)=>{if(e.axis||(e.axis=new m6(e),e.pBase.addChild(e.axis.pAxis)),!e.options.axisPositionVertical&&!e.options.axisPositionHorizontal){e.axis.clearAxis();return}if(e.options.axisPositionVertical&&e.options.axisPositionVertical==="hidden"){e.axis.clearAxis();return}if(e.options.axisPositionHorizontal&&e.options.axisPositionHorizontal==="hidden"){e.axis.clearAxis();return}const r=e.options.axisMargin||0;e.options.axisPositionHorizontal==="left"||e.options.axisPositionVertical==="top"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):e.options.axisPositionHorizontal==="outsideLeft"||e.options.axisPositionVertical==="outsideTop"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):e.options.axisPositionHorizontal==="right"||e.options.axisPositionVertical==="bottom"?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):(e.options.axisPositionHorizontal==="outsideRight"||e.options.axisPositionVertical==="outsideBottom")&&(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))},qUe=(e,t)=>{const r=e.valueScaleTransform,{y:s,k:a}=r,u=e.dimensions[1];s+t/a>-(a-1)*u&&s+t/a<0&&(e.valueScaleTransform=r.translate(0,t/a)),Object.values(e.fetchedTiles).forEach(h=>{h.graphics.position.y=e.valueScaleTransform.y}),e.animate()},ZUe=(e,t,r,s)=>{const a=r.k,u=r.y,h=(e-u)/a,f=Math.max(a/t,1);let g=a*h+u-f*h;return g=Math.max(g,-(f-1)*s),g=Math.min(g,0),Ss.translate(0,g).scale(f)},KUe=(e,t)=>{const r=+t.split(".")[0],s=+t.split(".")[1],a=e.max_width,u=e.min_pos[0],h=a/2**r;return{tileX:u+s*h,tileWidth:h}};function QUe(e,t){Object.values(e.fetchedTiles).forEach(r=>{if(!r.drawnAtScale)return;const s=r.drawnAtScale.range(),a=e._xScale.range();if(s[0]!==a[0]||s[1]!==a[1]){e.renderTile(r);return}const u=(r.drawnAtScale.domain()[1]-r.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(u>2||u<.5)e.renderTile(r);else{const f=e._xScale.domain().map(r.drawnAtScale)[0];for(const g of t)g(r).scale.x=u,g(r).x=-f*u}})}const z_={calculate1DVisibleTiles:XUe,calculate1DZoomLevel:_ue,drawAxis:YUe,movedY:qUe,getTilePosAndDimensions:KUe,stretchRects:QUe,zoomedY:ZUe},JUe=Object.freeze(Object.defineProperty({__proto__:null,absToChr:ko,accessorTransposition:Nk,addArrays:rF,addClass:iF,base64ToCanvas:x7,chromInfoBisector:Pk,chrToAbs:$A,cloneEvent:Fk,colorDomainToRgbaArray:wp,colorToHex:Kr,colorToRgba:tw,dataToGenomicLoci:J0,debounce:ey,decToHexStr:Hc,dictFromTuples:pF,dictItems:Ts,dictKeys:yl,dictValues:zi,download:Dp,fillInMinWidths:Op,flatten:rd,forEach:rw,forwardEvent:ry,genomeLociToPixels:m_,genomicRangeToChromosomeChunks:nw,getDefaultTrackForDatatype:Kk,getElementDim:xF,getTrackByUid:_l,getTrackConfFromHGC:tz,getTrackObjById:Xg,getTrackPositionByUid:Wu,getXylofon:oR,gradient:IF,hasClass:GA,hasParent:DF,hexStrToInt:sR,intoTheVoid:nu,isTrackOrChildTrack:OF,isWithin:Mp,latToY:uR,loadChromInfos:kF,lngToX:rz,map:fw,max:cR,maxNonZero:hR,min:pw,minNonZero:fR,mod:dR,ndarrayAssign:pR,ndarrayFlatten:PF,ndarrayToList:vw,numericifyVersion:yw,objVals:b_,or:__,parseChromsizesRows:ly,pixiTextToSvg:bw,q:cz,reduce:ty,rangeQuery2d:hz,relToAbsChromPos:fz,removeClass:vR,resetD3BrushStyle:Lp,rgbToHex:pz,scalesCenterAndK:Po,scalesToGenomeLoci:uy,showMousePosition:Zg,some:mz,sum:Fp,svgLine:MF,throttleAndDebounce:TR,tileToCanvas:LF,timeout:ER,totalTrackPixelHeight:FF,toVoid:Uc,trimTrailingSlash:T_,valueToColor:_w,expandCombinedTracks:E_,segmentsToRows:S_,visitPositionedTracks:Bh,visitTracks:oy,DenseDataExtrema1D:cy,DenseDataExtrema2D:xR,getAggregationFunction:IR,selectedItemsToSize:A_,IS_TRACK_RANGE_SELECTABLE:hy,getTrackObjectFromHGC:fy,getTrackRenderer:HF,getTiledPlot:gz,changeOptions:gHe,waitForJsonComplete:o6,waitForTilesLoaded:CP,waitForTransitionsFinished:qj,mountHGComponent:Zj,mountHGComponentAsync:_He,removeHGComponent:bHe,trackUtils:z_},Symbol.toStringTag,{value:"Module"})),{Provider:e9e,Consumer:t9e}=F.default.createContext({close:Uc,open:Uc}),V_=e=>F.default.forwardRef((t,r)=>F.default.createElement(t9e,null,s=>F.default.createElement(e,{ref:r,...t,theme:s}))),wy={"track-control":"_track-control_w7hx2_1","track-control-vertical":"_track-control-vertical_w7hx2_2","track-control-dark":"_track-control-dark_w7hx2_15","track-control-active":"_track-control-active_w7hx2_16 _track-control_w7hx2_1","track-control-left":"_track-control-left_w7hx2_24","track-control-vertical-active":"_track-control-vertical-active_w7hx2_30","track-control-padding-right":"_track-control-padding-right_w7hx2_48","track-control-button":"_track-control-button_w7hx2_52","track-control-button-vertical":"_track-control-button-vertical_w7hx2_81"},r9e=e=>si({[wy["track-control-active"]]:e.isVisible,[wy["track-control"]]:!e.isVisible,[wy["track-control-left"]]:e.isAlignLeft,[wy["track-control-vertical"]]:e.isVertical,[wy["track-control-padding-right"]]:e.paddingRight,[wy["track-control-dark"]]:e.theme===Gi}),g6=e=>si("no-zoom",wy["track-control-button"],{[wy["track-control-button-vertical"]]:e.isVertical});let oW=null,Tue=null;function Eue(e){(!e||!oW||Object.keys(e).some(s=>oW[s]!==e[s]))&&(oW=e,Tue=UA(()=>F.default.createElement("svg",{className:g6(e),style:{height:"20px",width:"20px",...e.imgStyleMove}},F.default.createElement("title",null,"Move track"),F.default.createElement("use",{xlinkHref:"#move"}))));let t,r;return F.default.createElement("div",{className:r9e(e)},e.isMoveable&&F.default.createElement(Tue,null),F.default.createElement("svg",{ref:s=>{t=s},className:g6(e),onClick:()=>{e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleSettings}},F.default.createElement("title",null,"Configure track"),F.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&F.default.createElement("svg",{className:g6(e),onClick:()=>e.onAddSeries(e.uid),style:{height:"20px",width:"20px",...e.imgStyleAdd}},F.default.createElement("title",null,"Add series"),F.default.createElement("use",{xlinkHref:"#plus"})),F.default.createElement("svg",{ref:s=>{r=s},className:g6(e),onClick:()=>{e.onCloseTrackMenuOpened(e.uid,r.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleClose}},F.default.createElement("title",null,"Close track"),F.default.createElement("use",{xlinkHref:"#cross"})))}Eue.propTypes={imgStyleAdd:$.exports.object,imgStyleClose:$.exports.object,imgStyleMove:$.exports.object,imgStyleSettings:$.exports.object,isAlignLeft:$.exports.bool,isMoveable:$.exports.bool,isVertical:$.exports.bool,isVisible:$.exports.bool,onConfigTrackMenuOpened:$.exports.func,onCloseTrackMenuOpened:$.exports.func,onAddSeries:$.exports.func,paddingRight:$.exports.bool,theme:$.exports.symbol.isRequired,uid:$.exports.string};const v6=V_(Eue),sW={"center-track":"_center-track_fiu64_1","center-track-container":"_center-track-container_fiu64_6"},ld={"track-range-selection":"_track-range-selection_5bcsr_1","track-range-selection-active":"_track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-primary":"_track-range-selection-active-primary_5bcsr_14 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-secondary":"_track-range-selection-active-secondary_5bcsr_18 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-group-inactive":"_track-range-selection-group-inactive_5bcsr_22","track-range-selection-group-brush-selection":"_track-range-selection-group-brush-selection_5bcsr_26"},y6={pointerEvents:"all"};function dC(e){return e&&e.sourceEvent}let lW=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={isVisible:!1},a.brushBehaviorX=a_().on("brush",a.brushedX.bind(b(a))).on("end",a.brushedXEnded.bind(b(a))),a.brushBehaviorY=Bg().on("brush",a.brushedY.bind(b(a))).on("end",a.brushedYEnded.bind(b(a))),a.brushBehaviorXY=PA().on("start",a.brushStarted.bind(b(a))).on("brush",a.brushedXY.bind(b(a))).on("end",a.brushedXYEnded.bind(b(a))),a}return V(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(a,u){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){const h=a.rangeSelection[0]||null;this.moveBrushXY([h,a.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==u}if(this.props.rangeSelection!==a.rangeSelection){const h=a.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(h,a.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(h,a.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(h,a.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(h,a.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([h,a.rangeSelection[1]],a.rangeSelectionEnd);const f=this.props.is1dRangeSelection&&!a.is1dRangeSelection&&h===null;return this.state!==u||f}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),Lp(this.brushElX,ld["track-range-selection-group-brush-selection"]),Lp(this.brushElY,ld["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,Lp(this.brushElXY,ld["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(a){const u=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!dC(a)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||u)&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(a.selection))}},{key:"brushedXEnded",value:function(a){const u=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!dC(a)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||u)&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(a.selection))}},{key:"brushedY",value:function(a){const u=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!dC(a)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||u)&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(a.selection))}},{key:"brushedYEnded",value:function(a){const u=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!dC(a)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||u)&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(a.selection))}},{key:"brushedXY",value:function(a){const u=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!dC(a)||!this.props.onRangeSelectionXY||u||this.props.is1dRangeSelection)&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[a.selection[0][0],a.selection[1][0]],[a.selection[0][1],a.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(a){if(this.props.is1dRangeSelection)return;const u=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,a.selection&&a.sourceEvent&&this.props.onRangeSelectionXY&&!u&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[a.selection[0][0],a.selection[1][0]],[a.selection[0][1],a.selection[1][1]]])),a.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}},{key:"brushStarted",value:function(a){dC(a)&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(a,u=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const h=a?[this.props.scaleX(a[0]),this.props.scaleX(a[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,u?this.brushElX.transition().call(this.brushBehaviorX.move,h):this.brushElX.call(this.brushBehaviorX.move,h)}},{key:"moveBrushY",value:function(a,u=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const h=a?[this.props.scaleY(a[0]),this.props.scaleY(a[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,u?this.brushElY.transition().call(this.brushBehaviorY.move,h):this.brushElY.call(this.brushBehaviorY.move,h)}},{key:"moveBrushXY",value:function(a,u=!1){if(!this.brushEl)return;const h=[[this.props.scaleX(a[0][0]),this.props.scaleY(a[1][0])],[this.props.scaleX(a[0][1]),this.props.scaleY(a[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,u?this.brushElXY.transition().call(this.brushBehaviorXY.move,h):this.brushElXY.call(this.brushBehaviorXY.move,h)}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){const a=this.props.tracks.map(v=>hy(v)).reduce(__,!1),u=this.props.tracks.some(v=>v.contents?v.contents.some(p=>p.type==="heatmap"?p.options.colorbarPosition==="topRight":!1):v.type==="heatmap"?v.options.colorbarPosition==="topRight":!1);let h="track-range-selection";this.props.isRangeSelectionActive&&(h+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");const f=si(!this.props.is1dRangeSelection&&ld["track-range-selection-group-inactive"]),g=si(this.props.is1dRangeSelection&&ld["track-range-selection-group-inactive"]);return F.default.createElement("div",{className:si(this.props.className,sW["center-track"]),onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},a&&F.default.createElement("svg",{className:ld[h],style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"},F.default.createElement("g",{ref:v=>{this.brushElX=Ut(v)},className:f}),F.default.createElement("g",{ref:v=>{this.brushElY=Ut(v)},className:f}),F.default.createElement("g",{ref:v=>{this.brushElXY=Ut(v)},className:g})),this.props.editable&&F.default.createElement(v6,{imgStyleAdd:y6,imgStyleClose:y6,imgStyleMove:y6,imgStyleSettings:y6,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:u,uid:this.props.uid}))}}]),r}(F.default.Component);lW.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:$.exports.bool,isRangeSelectionActive:!1,scaleX:e=>e,scaleY:e=>e},lW.propTypes={className:$.exports.string,configTrackMenuId:$.exports.string,editable:$.exports.bool,height:$.exports.number.isRequired,is1dRangeSelection:$.exports.bool,isRangeSelectionActive:$.exports.bool,onAddSeries:$.exports.func.isRequired,onCloseTrackMenuOpened:$.exports.func.isRequired,onConfigTrackMenuOpened:$.exports.func.isRequired,onRangeSelectionX:$.exports.func.isRequired,onRangeSelectionXEnd:$.exports.func.isRequired,onRangeSelectionY:$.exports.func.isRequired,onRangeSelectionYEnd:$.exports.func.isRequired,onRangeSelectionXY:$.exports.func.isRequired,onRangeSelectionXYEnd:$.exports.func.isRequired,onRangeSelectionReset:$.exports.func.isRequired,onRangeSelectionStart:$.exports.func.isRequired,rangeSelection:$.exports.array.isRequired,rangeSelectionEnd:$.exports.bool,scaleX:$.exports.func,scaleY:$.exports.func,tracks:$.exports.array.isRequired,uid:$.exports.string.isRequired,width:$.exports.number.isRequired};const uW={__fake__:!0,publish:Uc,subscribe:Uc,unsubscribe:Uc},{Provider:n9e,Consumer:i9e}=F.default.createContext(uW),pC=e=>F.default.forwardRef((t,r)=>F.default.createElement(i9e,null,s=>F.default.createElement(e,{ref:r,...t,pubSub:s}))),a9e={"drag-listening-div-active":"_drag-listening-div-active_19gkt_1"};let cW=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={dragOnTop:!1},a}return V(r,[{key:"render",value:function(){let a="red";return this.props.enabled&&this.state.dragOnTop?a="green":this.props.enabled&&(a="blue"),F.default.createElement("div",{className:si("DragListeningDiv",{[a9e["drag-listening-div-active"]]:this.props.enabled}),onDragEnter:()=>{this.setState({dragOnTop:!0})},onDragLeave:()=>{this.setState({dragOnTop:!1})},onDragOver:u=>{u.preventDefault()},onDrop:()=>{if(!this.props.enabled)return;const u=this.props.draggingHappening,h={type:this.props.defaultTrackType,uid:Yn.nice(),tilesetUid:u.tilesetUid,server:u.server};this.props.onTrackDropped(h),this.props.pubSub.publish("trackDropped",h)},style:{background:a,opacity:.6,...this.props.style}})}}]),r}(F.default.Component);cW.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:()=>{}},cW.propTypes={enabled:$.exports.bool,style:$.exports.object,defaultTrackType:$.exports.object,draggingHappening:$.exports.object,onTrackDropped:$.exports.func,position:$.exports.string.isRequired,pubSub:$.exports.object.isRequired};const b6=pC(cW),j_={"gallery-tracks":"_gallery-tracks_fbxxi_1","gallery-track":"_gallery-track_fbxxi_1","gallery-sub-track":"_gallery-sub-track_fbxxi_18","gallery-invisible-track":"_gallery-invisible-track_fbxxi_19"},ud={"tiled-plot":"_tiled-plot_1y7td_1",horizontalList:"_horizontalList_1y7td_7",list:"_list_1y7td_14",stylizedList:"_stylizedList_1y7td_21",stylizedItem:"_stylizedItem_1y7td_28",stylizedHelper:"_stylizedHelper_1y7td_39",horizontalItem:"_horizontalItem_1y7td_44","resizable-track":"_resizable-track_1y7td_55",domain:"_domain_1y7td_60"},_6={pointerEvents:"all"};let Sue=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={hovering:!1},a}return V(r,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){return F.default.createElement("div",{className:si("gallery-tracks",j_["gallery-tracks"])},this.props.tracks&&this.props.tracks.map((a,u)=>F.default.createElement("div",{key:a.uid||u,className:j_["gallery-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:a.height*u,right:a.height*u,bottom:a.height*u,left:a.height*u}},F.default.createElement("div",{className:j_["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,left:0,height:a.height}}),F.default.createElement("div",{className:j_["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,bottom:0,width:a.height}}),F.default.createElement("div",{className:j_["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{right:0,bottom:0,left:0,height:a.height}}),F.default.createElement("div",{className:j_["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,bottom:0,left:0,width:a.height}}),F.default.createElement("div",{className:j_["gallery-invisible-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:a.height,right:a.height,bottom:a.height,left:a.height}}),this.props.editable&&F.default.createElement(v6,{configMenuVisible:!0,imgStyleAdd:_6,imgStyleClose:_6,imgStyleMove:_6,imgStyleSettings:_6,isMoveable:!1,isVisible:this.state.hovering,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:a.uid||u}))))}}]),r}(F.default.Component);Sue.propTypes={editable:$.exports.bool,onCloseTrackMenuOpened:$.exports.func.isRequired,onConfigTrackMenuOpened:$.exports.func.isRequired,tracks:$.exports.array};let mC=function(){function e(t){L(this,e),this.context=t;const{id:r,pubSub:s,getTheme:a}=t;s?this.pubSub=s:this.pubSub=uW,this.id=r,this._xScale=Rn(),this._yScale=Rn(),this._refXScale=Rn(),this._refYScale=Rn(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],a?this.getTheme=a:this.getTheme=()=>{},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return V(e,[{key:"isWithin",value:function(r,s){let a=r,u=s,h=this.position[0],f=this.position[1];return this.isLeftModified&&(a=s,u=r,h=this.position[1],f=this.position[0]),Mp(a,u,h,this.dimensions[0]+h,f,this.dimensions[1]+f)}},{key:"getProp",value:function(r){return()=>this[r]}},{key:"getData",value:function(){}},{key:"click",value:function(r,s,a){return{type:"generic",event:a,payload:null}}},{key:"clickOutside",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(r){this.dimensions=r,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(r){return arguments.length?(this._refXScale=r,this):this._refXScale}},{key:"refYScale",value:function(r){return arguments.length?(this._refYScale=r,this):this._refYScale}},{key:"xScale",value:function(r){return arguments.length?(this._xScale=r,this):this._xScale}},{key:"yScale",value:function(r){return arguments.length?(this._yScale=r,this):this._yScale}},{key:"zoomed",value:function(r,s){this.xScale(r),this.yScale(s)}},{key:"refScalesChanged",value:function(r,s){this._refXScale=r,this._refYScale=s}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(r){this.position=r}},{key:"defaultMouseMoveHandler",value:function(r){}},{key:"remove",value:function(){this.pubSubs.forEach(r=>this.pubSub.unsubscribe(r)),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(r,s){return this.isWithin(r,s)}},{key:"zoomedY",value:function(r,s){}},{key:"movedY",value:function(r){}}]),e}();function o9e(e,t){const r=hg(t,e);return mh(`.${r}`,e)(e)}function s9e(e,t){const r=e.map(u=>+u).sort((u,h)=>h-u),s=r[t],a=r[r.length-1];return o9e(s,a)}function l9e(e,t,r,s){const a=t/(2**e*r);if(!Number.isNaN(a)){const u=t/(2**s*r),h=hg(u,a);return mh(`.${h}`,a)(a)}return console.warn("NaN resolution, screen is probably too small."),""}let du=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{scene:h}=s;u.scene=h,u.delayDrawing=!1,u.pBase=new or.PIXI.Graphics,u.pMasked=new or.PIXI.Graphics,u.pMask=new or.PIXI.Graphics,u.pMain=new or.PIXI.Graphics,u.pBorder=new or.PIXI.Graphics,u.pBackground=new or.PIXI.Graphics,u.pForeground=new or.PIXI.Graphics,u.pLabel=new or.PIXI.Graphics,u.pMobile=new or.PIXI.Graphics,u.pAxis=new or.PIXI.Graphics,u.pMouseOver=new or.PIXI.Graphics,u.scene.addChild(u.pBase),u.pBase.addChild(u.pMasked),u.pMasked.addChild(u.pBackground),u.pMasked.addChild(u.pMain),u.pMasked.addChild(u.pMask),u.pMasked.addChild(u.pMobile),u.pMasked.addChild(u.pBorder),u.pMasked.addChild(u.pLabel),u.pMasked.addChild(u.pForeground),u.pMasked.addChild(u.pMouseOver),u.pBase.addChild(u.pAxis),u.pMasked.mask=u.pMask,u.prevOptions="",u.options=Object.assign(u.options,a);const f=u.getName();return u.labelTextFontFamily="Arial",u.labelTextFontSize=12,u.labelXOffset=0,u.labelText=new or.PIXI.Text(f,{fontSize:`${u.labelTextFontSize}px`,fontFamily:u.labelTextFontFamily,fill:"black"}),u.pLabel.addChild(u.labelText),u.errorText=new or.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),u.errorText.anchor.x=.5,u.errorText.anchor.y=.5,u.pLabel.addChild(u.errorText),u}return V(r,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(a){this.position=a,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(a,u){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(a[0],a[1],u[0],u[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){const a=this.pBorder;if(a.clear(),!this.options||!this.options.trackBorderWidth)return;const u=Kr(this.options.trackBorderColor?this.options.trackBorderColor:"white");a.lineStyle(this.options.trackBorderWidth,u),a.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){const a=this.pBorder;a.clear(),a.lineStyle(1,Kr("red")),a.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){const a=this.pBackground;if(a.clear(),!this.options||!this.options.backgroundColor)return;let u=1,h=this.options.backgroundColor;this.options.backgroundColor==="transparent"&&(u=0,h="white");const f=Kr(h);a.beginFill(f,u),a.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"getLabelColor",value:function(){return this.options.labelColor&&this.options.labelColor!=="[glyph-color]"?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(!this.labelText)return;const a=this.pLabel;if(a.clear(),!this.options||!this.options.labelPosition||this.options.labelPosition==="hidden"){this.labelText.alpha=0;return}a.beginFill(Kr(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);const u=Kr(this.getLabelColor()),h=2;if(this.dimensions[0]<0)return;let f=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?`${this.tilesetInfo.coordSystem} | `:"";if(f+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){const T=l9e(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);f+=`
[Current data resolution: ${T}]`}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){const T=s9e(this.tilesetInfo.resolutions,this.calculateZoomLevel());f+=`
[Current data resolution: ${T}]`}if(this.options&&this.options.dataTransform){let T=null;if(this.tilesetInfo&&this.tilesetInfo.transforms)for(const S of this.tilesetInfo.transforms)S.value===this.options.dataTransform&&(T=S);T?f+=`
[Transform: ${T.name}]`:this.options.dataTransform==="None"?f+=`
[Transform: None ]`:f+=`
[Transform: Default ]`}this.labelText.text=f,this.labelText.style={fontSize:`${this.labelTextFontSize}px`,fontFamily:this.labelTextFontFamily,fill:u},this.labelText.alpha=typeof this.options.labelTextOpacity<"u"?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);const g=+this.options.labelLeftMargin||0,v=+this.options.labelRightMargin||0,p=+this.options.labelTopMargin||0,E=+this.options.labelBottomMargin||0;this.options.labelPosition==="topLeft"?(this.labelText.x=this.position[0]+g+this.labelXOffset,this.labelText.y=this.position[1]+p,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,a.drawRect(this.position[0]+g+this.labelXOffset,this.position[1]+p,this.labelText.width+h,this.labelText.height+h)):this.options.labelPosition==="bottomLeft"&&!this.flipText||this.options.labelPosition==="topRight"&&this.flipText?(this.labelText.x=this.position[0]+(g||p),this.labelText.y=this.position[1]+this.dimensions[1]-(E||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,a.drawRect(this.position[0]+(g||p)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-h-(E||v),this.labelText.width+h,this.labelText.height+h)):this.options.labelPosition==="topRight"&&!this.flipText||this.options.labelPosition==="bottomLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(v||E),this.labelText.y=this.position[1]+(p||g),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,a.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-h-(v||E)-this.labelXOffset,this.position[1]+(p||g),this.labelText.width+h,this.labelText.height+h)):this.options.labelPosition==="bottomRight"?(this.labelText.x=this.position[0]+this.dimensions[0]-v,this.labelText.y=this.position[1]+this.dimensions[1]-E,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,a.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-h-v-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-h-E,this.labelText.width+h,this.labelText.height+h)):this.options.labelPosition==="outerLeft"&&!this.flipText||this.options.labelPosition==="outerTop"&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):this.options.labelPosition==="outerTop"&&!this.flipText||this.options.labelPosition==="outerLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):this.options.labelPosition==="outerBottom"&&!this.flipText||this.options.labelPosition==="outerRight"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):this.options.labelPosition==="outerRight"&&!this.flipText||this.options.labelPosition==="outerBottom"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,this.options.labelPosition==="outerLeft"||this.options.labelPosition==="outerRight"||this.options.labelPosition==="outerTop"||this.options.labelPosition==="outerBottom"?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}},{key:"rerender",value:function(a){this.options=a,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){const a=document.createElement("g"),u=document.createElement("rect");u.setAttribute("x",`${this.position[0]}`),u.setAttribute("y",`${this.position[1]}`),u.setAttribute("width",`${this.dimensions[0]}`),u.setAttribute("height",`${this.dimensions[1]}`),this.options&&this.options.backgroundColor?u.setAttribute("fill",this.options.backgroundColor):u.setAttribute("fill-opacity","0");const h=document.createElement("g");h.setAttribute("class","g-clipped"),a.appendChild(h),h.appendChild(u);const f=document.createElement("g");h.setAttribute("class","g-track"),h.appendChild(f);const g=document.createElement("g");h.setAttribute("class","g-labels"),h.appendChild(g);const v=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(v);const p=document.createElementNS("http://www.w3.org/2000/svg","polygon");v.appendChild(p),p.setAttribute("points",`${this.position[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]+this.dimensions[1]} ${this.position[0]},${this.position[1]+this.dimensions[1]} `);const E=Yn.nice();v.setAttribute("id",E),h.setAttribute("style",`clip-path:url(#${E});`);const T=this.labelText.text.split(`
`);let S=0;const x=3,O=(this.labelTextFontSize+2)*T.length+x;this.labelText.anchor.y===.5?S=O/2:this.labelText.anchor.y===1&&(S=-O);for(let P=0;P<T.length;P++){const M=document.createElement("text");if(M.setAttribute("font-family",this.labelTextFontFamily),M.setAttribute("font-size",`${this.labelTextFontSize}px`),M.innerText=T[P],this.options.labelPosition==="topLeft"||this.options.labelPosition==="topRight"){const G=S+(P+1)*(this.labelTextFontSize+2);M.setAttribute("dy",G)}else(this.options.labelPosition==="bottomLeft"||this.options.labelPosition==="bottomRight")&&M.setAttribute("dy",S+P*(this.labelTextFontSize+2));M.setAttribute("fill",this.options.labelColor),this.labelText.anchor.x===.5?M.setAttribute("text-anchor","middle"):this.labelText.anchor.x===1&&M.setAttribute("text-anchor","end"),g.appendChild(M)}return g.setAttribute("transform",`translate(${this.labelText.x},${this.labelText.y})scale(${this.labelText.scale.x},1)`),[a,f]}}]),r}(mC),T6=function(){function e(t,r){if(L(this,e),this.tilesetInfoLoading=!0,!t){console.error("No dataconfig provided");return}this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=Yn.nice(),this.pubSub=r,this.dataConfig.children&&(this.dataConfig.children=t.children.map(s=>new e(s,r)))}return V(e,[{key:"registerFileUrl",value:async function({server:r,url:s,filetype:a,coordSystem:u}){const h=`${T_(r)}/register_url/`;return fetch(h,{method:"POST",body:JSON.stringify({fileurl:s,filetype:a,coordSystem:u}),headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"tilesetInfo",value:function(r){return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then(s=>s.json()).then(s=>{this.dataConfig.tilesetUid=s.uid,this.tilesetInfoAfterRegister(r)}).catch(s=>{console.error("Error registering url",s)}):new Promise(()=>{this.tilesetInfoAfterRegister(r)})}},{key:"tilesetInfoAfterRegister",value:function(r){if(!this.dataConfig.children)!this.dataConfig.server||!this.dataConfig.tilesetUid?(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),r(null)):Lr.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,s=>{this.dataConfig.tilesetInfo=s[this.dataConfig.tilesetUid],r(s[this.dataConfig.tilesetUid],this.dataConfig.tilesetUid)},s=>{this.tilesetInfoLoading=!1,r({error:s})},this.pubSub);else{const s=this.dataConfig.children.map(a=>new Promise(u=>{a.tilesetInfo(u)}));Promise.all(s).then(a=>{r(a[0])})}}},{key:"fullTileId",value:function(r,s){return`${r}.${s}`}},{key:"fetchTilesDebounced",value:function(r,s){if(this.dataConfig.type==="horizontal-section")this.fetchHorizontalSection(r,s);else if(this.dataConfig.type==="vertical-section")this.fetchHorizontalSection(r,s,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new Promise(u=>{Lr.fetchTilesDebounced({id:Yn.nice(),server:this.dataConfig.server,done:u,ids:s.map(h=>`${this.dataConfig.tilesetUid}.${h}`),options:this.dataConfig.options},this.pubSub,!0)}).then(u=>{const h=zi(u)[0].tilesetUid,f={};for(let g=0;g<s.length;g++){const v=this.fullTileId(h,s[g]);u[v].tilePositionId=s[g],f[s[g]]=u[v]}r(f)});else{const a=this.dataConfig.children.map(u=>new Promise(h=>{u.fetchTilesDebounced(h,s)},this.pubSub,!0));Promise.all(a).then(u=>{if(this.dataConfig.type==="divided"){const h=this.makeDivided(u,s);r(h)}else console.warn("Unimplemented dataConfig type. Returning first data source.",this.dataConfig),r(u[0])})}}},{key:"divideData",value:function(r,s){const a=new Float32Array(r.length);for(let u=0;u<a.length;u++)s[u]===0?a[u]=NaN:a[u]=r[u]/s[u];return a}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(r,s,a,u){if(!u)return r.slice(s[1]*a,s[1]*(a+1));const h=new Array(s[1]);for(let f=a;f<r.length;f+=s[0])h[Math.floor(f/s[0])]=r[f];return h}},{key:"fetchHorizontalSection",value:function(r,s,a=!1){const u=[],h=[];for(const g of s){const v=g.split("."),p=+v[0],E=+v[1],T=Rn().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]);let S=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){const P=this.dataConfig.tilesetInfo.resolutions.map(M=>+M).sort((M,G)=>G-M);S=Lr.calculateTilesFromResolution(P[p],T,this.dataConfig.tilesetInfo.min_pos[a?1:0],this.dataConfig.tilesetInfo.max_pos[a?1:0])}else S=Lr.calculateTiles(p,T,this.dataConfig.tilesetInfo.min_pos[a?1:0],this.dataConfig.tilesetInfo.max_pos[a?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);const x=[E,S[0]].sort((P,M)=>P-M);x[0]===E?h.push(!1):h.push(!0);const O=`${p}.${x[0]}.${x[1]}`;u.push(O)}new Promise(g=>{Lr.fetchTilesDebounced({id:Yn.nice(),server:this.dataConfig.server,done:g,ids:u.map(v=>`${this.dataConfig.tilesetUid}.${v}`)},this.pubSub,!0)}).then(g=>{const v=zi(g)[0].tilesetUid,p={};for(let E=0;E<u.length;E++){const T=u[E].split("."),S=+T[0],x=+T[1],O=+T[2],P=Lr.calculateTileAndPosInTile(this.dataConfig.tilesetInfo,this.dataConfig.tilesetInfo.max_width,this.dataConfig.tilesetInfo.min_pos[1],S,+this.dataConfig.slicePos)[1],M=this.fullTileId(v,u[E]),G=g[M];let B=null;if(x===O){B=this.extractDataSlice(G.dense,[256,256],P);const j=this.extractDataSlice(G.dense,[256,256],P,1);for(let Z=0;Z<B.length;Z++)B[Z]+=j[Z]}else h[E]?B=this.extractDataSlice(G.dense,[256,256],P,1):B=this.extractDataSlice(G.dense,[256,256],P);const U={min_value:Math.min.apply(null,B),max_value:Math.max.apply(null,B),denseDataExtrema:new cy(B),minNonZero:fR(B),maxNonZero:hR(B),dense:B,dtype:G.dtype,server:G.server,tilePos:h[E]?[O]:[x],tilePositionId:s[E],tilesetUid:v,zoomLevel:G.zoomLevel};p[s[E]]=U}r(p)})}},{key:"makeDivided",value:function(r,s){r.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);const a={};for(let u=0;u<s.length;u++){const h=r[0][s[u]].zoomLevel,f=r[0][s[u]].tilePos;let g={zoomLevel:h,tilePos:f,tilePositionId:s[u]};if(r[0][s[u]].dense&&r[1][s[u]].dense){const v=this.divideData(r[0][s[u]].dense,r[1][s[u]].dense),p=f.length===2?new xR(v):new cy(v);g={dense:v,denseDataExtrema:p,minNonZero:fR(v),maxNonZero:hR(v),zoomLevel:h,tilePos:f,tilePositionId:s[u]}}a[s[u]]=g}return a}}]),e}();var av={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(u,h){return Object.prototype.hasOwnProperty.call(u,h)}e.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)r(f,g)&&(u[g]=f[g])}}return u},e.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var s={arraySet:function(u,h,f,g,v){if(h.subarray&&u.subarray){u.set(h.subarray(f,f+g),v);return}for(var p=0;p<g;p++)u[v+p]=h[f+p]},flattenChunks:function(u){var h,f,g,v,p,E;for(g=0,h=0,f=u.length;h<f;h++)g+=u[h].length;for(E=new Uint8Array(g),v=0,h=0,f=u.length;h<f;h++)p=u[h],E.set(p,v),v+=p.length;return E}},a={arraySet:function(u,h,f,g,v){for(var p=0;p<g;p++)u[v+p]=h[f+p]},flattenChunks:function(u){return[].concat.apply([],u)}};e.setTyped=function(u){u?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)})(av);var PP={},Jp={},gC={},u9e=av,c9e=4,Aue=0,wue=1,h9e=2;function vC(e){for(var t=e.length;--t>=0;)e[t]=0}var f9e=0,Cue=1,d9e=2,p9e=3,m9e=258,hW=29,NP=256,MP=NP+1+hW,yC=30,fW=19,xue=2*MP+1,W_=15,dW=16,g9e=7,pW=256,Iue=16,Due=17,Oue=18,mW=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E6=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v9e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],kue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y9e=512,ov=new Array((MP+2)*2);vC(ov);var LP=new Array(yC*2);vC(LP);var FP=new Array(y9e);vC(FP);var BP=new Array(m9e-p9e+1);vC(BP);var gW=new Array(hW);vC(gW);var S6=new Array(yC);vC(S6);function vW(e,t,r,s,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=s,this.max_length=a,this.has_stree=e&&e.length}var Rue,Pue,Nue;function yW(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Mue(e){return e<256?FP[e]:FP[256+(e>>>7)]}function HP(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Ju(e,t,r){e.bi_valid>dW-r?(e.bi_buf|=t<<e.bi_valid&65535,HP(e,e.bi_buf),e.bi_buf=t>>dW-e.bi_valid,e.bi_valid+=r-dW):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function em(e,t,r){Ju(e,r[t*2],r[t*2+1])}function Lue(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function b9e(e){e.bi_valid===16?(HP(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function _9e(e,t){var r=t.dyn_tree,s=t.max_code,a=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,v,p,E,T,S,x,O=0;for(T=0;T<=W_;T++)e.bl_count[T]=0;for(r[e.heap[e.heap_max]*2+1]=0,v=e.heap_max+1;v<xue;v++)p=e.heap[v],T=r[r[p*2+1]*2+1]+1,T>g&&(T=g,O++),r[p*2+1]=T,!(p>s)&&(e.bl_count[T]++,S=0,p>=f&&(S=h[p-f]),x=r[p*2],e.opt_len+=x*(T+S),u&&(e.static_len+=x*(a[p*2+1]+S)));if(O!==0){do{for(T=g-1;e.bl_count[T]===0;)T--;e.bl_count[T]--,e.bl_count[T+1]+=2,e.bl_count[g]--,O-=2}while(O>0);for(T=g;T!==0;T--)for(p=e.bl_count[T];p!==0;)E=e.heap[--v],!(E>s)&&(r[E*2+1]!==T&&(e.opt_len+=(T-r[E*2+1])*r[E*2],r[E*2+1]=T),p--)}}function Fue(e,t,r){var s=new Array(W_+1),a=0,u,h;for(u=1;u<=W_;u++)s[u]=a=a+r[u-1]<<1;for(h=0;h<=t;h++){var f=e[h*2+1];f!==0&&(e[h*2]=Lue(s[f]++,f))}}function T9e(){var e,t,r,s,a,u=new Array(W_+1);for(r=0,s=0;s<hW-1;s++)for(gW[s]=r,e=0;e<1<<mW[s];e++)BP[r++]=s;for(BP[r-1]=s,a=0,s=0;s<16;s++)for(S6[s]=a,e=0;e<1<<E6[s];e++)FP[a++]=s;for(a>>=7;s<yC;s++)for(S6[s]=a<<7,e=0;e<1<<E6[s]-7;e++)FP[256+a++]=s;for(t=0;t<=W_;t++)u[t]=0;for(e=0;e<=143;)ov[e*2+1]=8,e++,u[8]++;for(;e<=255;)ov[e*2+1]=9,e++,u[9]++;for(;e<=279;)ov[e*2+1]=7,e++,u[7]++;for(;e<=287;)ov[e*2+1]=8,e++,u[8]++;for(Fue(ov,MP+1,u),e=0;e<yC;e++)LP[e*2+1]=5,LP[e*2]=Lue(e,5);Rue=new vW(ov,mW,NP+1,MP,W_),Pue=new vW(LP,E6,0,yC,W_),Nue=new vW(new Array(0),v9e,0,fW,g9e)}function Bue(e){var t;for(t=0;t<MP;t++)e.dyn_ltree[t*2]=0;for(t=0;t<yC;t++)e.dyn_dtree[t*2]=0;for(t=0;t<fW;t++)e.bl_tree[t*2]=0;e.dyn_ltree[pW*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Hue(e){e.bi_valid>8?HP(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function E9e(e,t,r,s){Hue(e),s&&(HP(e,r),HP(e,~r)),u9e.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Uue(e,t,r,s){var a=t*2,u=r*2;return e[a]<e[u]||e[a]===e[u]&&s[t]<=s[r]}function bW(e,t,r){for(var s=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&Uue(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Uue(t,s,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=s}function Gue(e,t,r){var s,a,u=0,h,f;if(e.last_lit!==0)do s=e.pending_buf[e.d_buf+u*2]<<8|e.pending_buf[e.d_buf+u*2+1],a=e.pending_buf[e.l_buf+u],u++,s===0?em(e,a,t):(h=BP[a],em(e,h+NP+1,t),f=mW[h],f!==0&&(a-=gW[h],Ju(e,a,f)),s--,h=Mue(s),em(e,h,r),f=E6[h],f!==0&&(s-=S6[h],Ju(e,s,f)));while(u<e.last_lit);em(e,pW,t)}function _W(e,t){var r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,h,f,g=-1,v;for(e.heap_len=0,e.heap_max=xue,h=0;h<u;h++)r[h*2]!==0?(e.heap[++e.heap_len]=g=h,e.depth[h]=0):r[h*2+1]=0;for(;e.heap_len<2;)v=e.heap[++e.heap_len]=g<2?++g:0,r[v*2]=1,e.depth[v]=0,e.opt_len--,a&&(e.static_len-=s[v*2+1]);for(t.max_code=g,h=e.heap_len>>1;h>=1;h--)bW(e,r,h);v=u;do h=e.heap[1],e.heap[1]=e.heap[e.heap_len--],bW(e,r,1),f=e.heap[1],e.heap[--e.heap_max]=h,e.heap[--e.heap_max]=f,r[v*2]=r[h*2]+r[f*2],e.depth[v]=(e.depth[h]>=e.depth[f]?e.depth[h]:e.depth[f])+1,r[h*2+1]=r[f*2+1]=v,e.heap[1]=v++,bW(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],_9e(e,t),Fue(r,g,e.bl_count)}function $ue(e,t,r){var s,a=-1,u,h=t[0*2+1],f=0,g=7,v=4;for(h===0&&(g=138,v=3),t[(r+1)*2+1]=65535,s=0;s<=r;s++)u=h,h=t[(s+1)*2+1],!(++f<g&&u===h)&&(f<v?e.bl_tree[u*2]+=f:u!==0?(u!==a&&e.bl_tree[u*2]++,e.bl_tree[Iue*2]++):f<=10?e.bl_tree[Due*2]++:e.bl_tree[Oue*2]++,f=0,a=u,h===0?(g=138,v=3):u===h?(g=6,v=3):(g=7,v=4))}function zue(e,t,r){var s,a=-1,u,h=t[0*2+1],f=0,g=7,v=4;for(h===0&&(g=138,v=3),s=0;s<=r;s++)if(u=h,h=t[(s+1)*2+1],!(++f<g&&u===h)){if(f<v)do em(e,u,e.bl_tree);while(--f!==0);else u!==0?(u!==a&&(em(e,u,e.bl_tree),f--),em(e,Iue,e.bl_tree),Ju(e,f-3,2)):f<=10?(em(e,Due,e.bl_tree),Ju(e,f-3,3)):(em(e,Oue,e.bl_tree),Ju(e,f-11,7));f=0,a=u,h===0?(g=138,v=3):u===h?(g=6,v=3):(g=7,v=4)}}function S9e(e){var t;for($ue(e,e.dyn_ltree,e.l_desc.max_code),$ue(e,e.dyn_dtree,e.d_desc.max_code),_W(e,e.bl_desc),t=fW-1;t>=3&&e.bl_tree[kue[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function A9e(e,t,r,s){var a;for(Ju(e,t-257,5),Ju(e,r-1,5),Ju(e,s-4,4),a=0;a<s;a++)Ju(e,e.bl_tree[kue[a]*2+1],3);zue(e,e.dyn_ltree,t-1),zue(e,e.dyn_dtree,r-1)}function w9e(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Aue;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return wue;for(r=32;r<NP;r++)if(e.dyn_ltree[r*2]!==0)return wue;return Aue}var Vue=!1;function C9e(e){Vue||(T9e(),Vue=!0),e.l_desc=new yW(e.dyn_ltree,Rue),e.d_desc=new yW(e.dyn_dtree,Pue),e.bl_desc=new yW(e.bl_tree,Nue),e.bi_buf=0,e.bi_valid=0,Bue(e)}function jue(e,t,r,s){Ju(e,(f9e<<1)+(s?1:0),3),E9e(e,t,r,!0)}function x9e(e){Ju(e,Cue<<1,3),em(e,pW,ov),b9e(e)}function I9e(e,t,r,s){var a,u,h=0;e.level>0?(e.strm.data_type===h9e&&(e.strm.data_type=w9e(e)),_W(e,e.l_desc),_W(e,e.d_desc),h=S9e(e),a=e.opt_len+3+7>>>3,u=e.static_len+3+7>>>3,u<=a&&(a=u)):a=u=r+5,r+4<=a&&t!==-1?jue(e,t,r,s):e.strategy===c9e||u===a?(Ju(e,(Cue<<1)+(s?1:0),3),Gue(e,ov,LP)):(Ju(e,(d9e<<1)+(s?1:0),3),A9e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),Gue(e,e.dyn_ltree,e.dyn_dtree)),Bue(e),s&&Hue(e)}function D9e(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(BP[r]+NP+1)*2]++,e.dyn_dtree[Mue(t)*2]++),e.last_lit===e.lit_bufsize-1}gC._tr_init=C9e,gC._tr_stored_block=jue,gC._tr_flush_block=I9e,gC._tr_tally=D9e,gC._tr_align=x9e;function O9e(e,t,r,s){for(var a=e&65535|0,u=e>>>16&65535|0,h=0;r!==0;){h=r>2e3?2e3:r,r-=h;do a=a+t[s++]|0,u=u+a|0;while(--h);a%=65521,u%=65521}return a|u<<16|0}var Wue=O9e;function k9e(){for(var e,t=[],r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var R9e=k9e();function P9e(e,t,r,s){var a=R9e,u=s+r;e^=-1;for(var h=s;h<u;h++)e=e>>>8^a[(e^t[h])&255];return e^-1}var Xue=P9e,TW={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pu=av,$h=gC,Yue=Wue,Cy=Xue,N9e=TW,X_=0,M9e=1,L9e=3,xy=4,que=5,tm=0,Zue=1,zh=-2,F9e=-3,EW=-5,B9e=-1,H9e=1,A6=2,U9e=3,G9e=4,$9e=0,z9e=2,w6=8,V9e=9,j9e=15,W9e=8,X9e=29,Y9e=256,SW=Y9e+1+X9e,q9e=30,Z9e=19,K9e=2*SW+1,Q9e=15,_i=3,Iy=258,cd=Iy+_i+1,J9e=32,C6=42,AW=69,x6=73,I6=91,D6=103,Y_=113,UP=666,hs=1,GP=2,q_=3,bC=4,eGe=3;function Dy(e,t){return e.msg=N9e[t],t}function Kue(e){return(e<<1)-(e>4?9:0)}function Oy(e){for(var t=e.length;--t>=0;)e[t]=0}function ky(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(pu.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Ks(e,t){$h._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ky(e.strm)}function Li(e,t){e.pending_buf[e.pending++]=t}function $P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function tGe(e,t,r,s){var a=e.avail_in;return a>s&&(a=s),a===0?0:(e.avail_in-=a,pu.arraySet(t,e.input,e.next_in,a,r),e.state.wrap===1?e.adler=Yue(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Cy(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)}function Que(e,t){var r=e.max_chain_length,s=e.strstart,a,u,h=e.prev_length,f=e.nice_match,g=e.strstart>e.w_size-cd?e.strstart-(e.w_size-cd):0,v=e.window,p=e.w_mask,E=e.prev,T=e.strstart+Iy,S=v[s+h-1],x=v[s+h];e.prev_length>=e.good_match&&(r>>=2),f>e.lookahead&&(f=e.lookahead);do if(a=t,!(v[a+h]!==x||v[a+h-1]!==S||v[a]!==v[s]||v[++a]!==v[s+1])){s+=2,a++;do;while(v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&v[++s]===v[++a]&&s<T);if(u=Iy-(T-s),s=T-Iy,u>h){if(e.match_start=t,h=u,u>=f)break;S=v[s+h-1],x=v[s+h]}}while((t=E[t&p])>g&&--r!==0);return h<=e.lookahead?h:e.lookahead}function Z_(e){var t=e.w_size,r,s,a,u,h;do{if(u=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cd)){pu.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,s=e.hash_size,r=s;do a=e.head[--r],e.head[r]=a>=t?a-t:0;while(--s);s=t,r=s;do a=e.prev[--r],e.prev[r]=a>=t?a-t:0;while(--s);u+=t}if(e.strm.avail_in===0)break;if(s=tGe(e.strm,e.window,e.strstart+e.lookahead,u),e.lookahead+=s,e.lookahead+e.insert>=_i)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+_i-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<_i)););}while(e.lookahead<cd&&e.strm.avail_in!==0)}function rGe(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Z_(e),e.lookahead===0&&t===X_)return hs;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var s=e.block_start+r;if((e.strstart===0||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,Ks(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-cd&&(Ks(e,!1),e.strm.avail_out===0))return hs}return e.insert=0,t===xy?(Ks(e,!0),e.strm.avail_out===0?q_:bC):(e.strstart>e.block_start&&(Ks(e,!1),e.strm.avail_out===0),hs)}function wW(e,t){for(var r,s;;){if(e.lookahead<cd){if(Z_(e),e.lookahead<cd&&t===X_)return hs;if(e.lookahead===0)break}if(r=0,e.lookahead>=_i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_i-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-cd&&(e.match_length=Que(e,r)),e.match_length>=_i)if(s=$h._tr_tally(e,e.strstart-e.match_start,e.match_length-_i),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_i){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_i-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else s=$h._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Ks(e,!1),e.strm.avail_out===0))return hs}return e.insert=e.strstart<_i-1?e.strstart:_i-1,t===xy?(Ks(e,!0),e.strm.avail_out===0?q_:bC):e.last_lit&&(Ks(e,!1),e.strm.avail_out===0)?hs:GP}function _C(e,t){for(var r,s,a;;){if(e.lookahead<cd){if(Z_(e),e.lookahead<cd&&t===X_)return hs;if(e.lookahead===0)break}if(r=0,e.lookahead>=_i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_i-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_i-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-cd&&(e.match_length=Que(e,r),e.match_length<=5&&(e.strategy===H9e||e.match_length===_i&&e.strstart-e.match_start>4096)&&(e.match_length=_i-1)),e.prev_length>=_i&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-_i,s=$h._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_i),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_i-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=_i-1,e.strstart++,s&&(Ks(e,!1),e.strm.avail_out===0))return hs}else if(e.match_available){if(s=$h._tr_tally(e,0,e.window[e.strstart-1]),s&&Ks(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return hs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=$h._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_i-1?e.strstart:_i-1,t===xy?(Ks(e,!0),e.strm.avail_out===0?q_:bC):e.last_lit&&(Ks(e,!1),e.strm.avail_out===0)?hs:GP}function nGe(e,t){for(var r,s,a,u,h=e.window;;){if(e.lookahead<=Iy){if(Z_(e),e.lookahead<=Iy&&t===X_)return hs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=_i&&e.strstart>0&&(a=e.strstart-1,s=h[a],s===h[++a]&&s===h[++a]&&s===h[++a])){u=e.strstart+Iy;do;while(s===h[++a]&&s===h[++a]&&s===h[++a]&&s===h[++a]&&s===h[++a]&&s===h[++a]&&s===h[++a]&&s===h[++a]&&a<u);e.match_length=Iy-(u-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_i?(r=$h._tr_tally(e,1,e.match_length-_i),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=$h._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ks(e,!1),e.strm.avail_out===0))return hs}return e.insert=0,t===xy?(Ks(e,!0),e.strm.avail_out===0?q_:bC):e.last_lit&&(Ks(e,!1),e.strm.avail_out===0)?hs:GP}function iGe(e,t){for(var r;;){if(e.lookahead===0&&(Z_(e),e.lookahead===0)){if(t===X_)return hs;break}if(e.match_length=0,r=$h._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ks(e,!1),e.strm.avail_out===0))return hs}return e.insert=0,t===xy?(Ks(e,!0),e.strm.avail_out===0?q_:bC):e.last_lit&&(Ks(e,!1),e.strm.avail_out===0)?hs:GP}function rm(e,t,r,s,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=s,this.func=a}var TC;TC=[new rm(0,0,0,0,rGe),new rm(4,4,8,4,wW),new rm(4,5,16,8,wW),new rm(4,6,32,32,wW),new rm(4,4,16,16,_C),new rm(8,16,32,32,_C),new rm(8,16,128,128,_C),new rm(8,32,128,256,_C),new rm(32,128,258,1024,_C),new rm(32,258,258,4096,_C)];function aGe(e){e.window_size=2*e.w_size,Oy(e.head),e.max_lazy_match=TC[e.level].max_lazy,e.good_match=TC[e.level].good_length,e.nice_match=TC[e.level].nice_length,e.max_chain_length=TC[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=_i-1,e.match_available=0,e.ins_h=0}function oGe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w6,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new pu.Buf16(K9e*2),this.dyn_dtree=new pu.Buf16((2*q9e+1)*2),this.bl_tree=new pu.Buf16((2*Z9e+1)*2),Oy(this.dyn_ltree),Oy(this.dyn_dtree),Oy(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new pu.Buf16(Q9e+1),this.heap=new pu.Buf16(2*SW+1),Oy(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new pu.Buf16(2*SW+1),Oy(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jue(e){var t;return!e||!e.state?Dy(e,zh):(e.total_in=e.total_out=0,e.data_type=z9e,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C6:Y_,e.adler=t.wrap===2?0:1,t.last_flush=X_,$h._tr_init(t),tm)}function ece(e){var t=Jue(e);return t===tm&&aGe(e.state),t}function sGe(e,t){return!e||!e.state||e.state.wrap!==2?zh:(e.state.gzhead=t,tm)}function tce(e,t,r,s,a,u){if(!e)return zh;var h=1;if(t===B9e&&(t=6),s<0?(h=0,s=-s):s>15&&(h=2,s-=16),a<1||a>V9e||r!==w6||s<8||s>15||t<0||t>9||u<0||u>G9e)return Dy(e,zh);s===8&&(s=9);var f=new oGe;return e.state=f,f.strm=e,f.wrap=h,f.gzhead=null,f.w_bits=s,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=a+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+_i-1)/_i),f.window=new pu.Buf8(f.w_size*2),f.head=new pu.Buf16(f.hash_size),f.prev=new pu.Buf16(f.w_size),f.lit_bufsize=1<<a+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new pu.Buf8(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=(1+2)*f.lit_bufsize,f.level=t,f.strategy=u,f.method=r,ece(e)}function lGe(e,t){return tce(e,t,w6,j9e,W9e,$9e)}function uGe(e,t){var r,s,a,u;if(!e||!e.state||t>que||t<0)return e?Dy(e,zh):zh;if(s=e.state,!e.output||!e.input&&e.avail_in!==0||s.status===UP&&t!==xy)return Dy(e,e.avail_out===0?EW:zh);if(s.strm=e,r=s.last_flush,s.last_flush=t,s.status===C6)if(s.wrap===2)e.adler=0,Li(s,31),Li(s,139),Li(s,8),s.gzhead?(Li(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),Li(s,s.gzhead.time&255),Li(s,s.gzhead.time>>8&255),Li(s,s.gzhead.time>>16&255),Li(s,s.gzhead.time>>24&255),Li(s,s.level===9?2:s.strategy>=A6||s.level<2?4:0),Li(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(Li(s,s.gzhead.extra.length&255),Li(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=Cy(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=AW):(Li(s,0),Li(s,0),Li(s,0),Li(s,0),Li(s,0),Li(s,s.level===9?2:s.strategy>=A6||s.level<2?4:0),Li(s,eGe),s.status=Y_);else{var h=w6+(s.w_bits-8<<4)<<8,f=-1;s.strategy>=A6||s.level<2?f=0:s.level<6?f=1:s.level===6?f=2:f=3,h|=f<<6,s.strstart!==0&&(h|=J9e),h+=31-h%31,s.status=Y_,$P(s,h),s.strstart!==0&&($P(s,e.adler>>>16),$P(s,e.adler&65535)),e.adler=1}if(s.status===AW)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(s.gzhead.extra.length&65535)&&!(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),ky(e),a=s.pending,s.pending===s.pending_buf_size));)Li(s,s.gzhead.extra[s.gzindex]&255),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=x6)}else s.status=x6;if(s.status===x6)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),ky(e),a=s.pending,s.pending===s.pending_buf_size)){u=1;break}s.gzindex<s.gzhead.name.length?u=s.gzhead.name.charCodeAt(s.gzindex++)&255:u=0,Li(s,u)}while(u!==0);s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),u===0&&(s.gzindex=0,s.status=I6)}else s.status=I6;if(s.status===I6)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),ky(e),a=s.pending,s.pending===s.pending_buf_size)){u=1;break}s.gzindex<s.gzhead.comment.length?u=s.gzhead.comment.charCodeAt(s.gzindex++)&255:u=0,Li(s,u)}while(u!==0);s.gzhead.hcrc&&s.pending>a&&(e.adler=Cy(e.adler,s.pending_buf,s.pending-a,a)),u===0&&(s.status=D6)}else s.status=D6;if(s.status===D6&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ky(e),s.pending+2<=s.pending_buf_size&&(Li(s,e.adler&255),Li(s,e.adler>>8&255),e.adler=0,s.status=Y_)):s.status=Y_),s.pending!==0){if(ky(e),e.avail_out===0)return s.last_flush=-1,tm}else if(e.avail_in===0&&Kue(t)<=Kue(r)&&t!==xy)return Dy(e,EW);if(s.status===UP&&e.avail_in!==0)return Dy(e,EW);if(e.avail_in!==0||s.lookahead!==0||t!==X_&&s.status!==UP){var g=s.strategy===A6?iGe(s,t):s.strategy===U9e?nGe(s,t):TC[s.level].func(s,t);if((g===q_||g===bC)&&(s.status=UP),g===hs||g===q_)return e.avail_out===0&&(s.last_flush=-1),tm;if(g===GP&&(t===M9e?$h._tr_align(s):t!==que&&($h._tr_stored_block(s,0,0,!1),t===L9e&&(Oy(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),ky(e),e.avail_out===0))return s.last_flush=-1,tm}return t!==xy?tm:s.wrap<=0?Zue:(s.wrap===2?(Li(s,e.adler&255),Li(s,e.adler>>8&255),Li(s,e.adler>>16&255),Li(s,e.adler>>24&255),Li(s,e.total_in&255),Li(s,e.total_in>>8&255),Li(s,e.total_in>>16&255),Li(s,e.total_in>>24&255)):($P(s,e.adler>>>16),$P(s,e.adler&65535)),ky(e),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?tm:Zue)}function cGe(e){var t;return!e||!e.state?zh:(t=e.state.status,t!==C6&&t!==AW&&t!==x6&&t!==I6&&t!==D6&&t!==Y_&&t!==UP?Dy(e,zh):(e.state=null,t===Y_?Dy(e,F9e):tm))}function hGe(e,t){var r=t.length,s,a,u,h,f,g,v,p;if(!e||!e.state||(s=e.state,h=s.wrap,h===2||h===1&&s.status!==C6||s.lookahead))return zh;for(h===1&&(e.adler=Yue(e.adler,t,r,0)),s.wrap=0,r>=s.w_size&&(h===0&&(Oy(s.head),s.strstart=0,s.block_start=0,s.insert=0),p=new pu.Buf8(s.w_size),pu.arraySet(p,t,r-s.w_size,s.w_size,0),t=p,r=s.w_size),f=e.avail_in,g=e.next_in,v=e.input,e.avail_in=r,e.next_in=0,e.input=t,Z_(s);s.lookahead>=_i;){a=s.strstart,u=s.lookahead-(_i-1);do s.ins_h=(s.ins_h<<s.hash_shift^s.window[a+_i-1])&s.hash_mask,s.prev[a&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=a,a++;while(--u);s.strstart=a,s.lookahead=_i-1,Z_(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=_i-1,s.match_available=0,e.next_in=g,e.input=v,e.avail_in=f,s.wrap=h,tm}Jp.deflateInit=lGe,Jp.deflateInit2=tce,Jp.deflateReset=ece,Jp.deflateResetKeep=Jue,Jp.deflateSetHeader=sGe,Jp.deflate=uGe,Jp.deflateEnd=cGe,Jp.deflateSetDictionary=hGe,Jp.deflateInfo="pako deflate (from Nodeca project)";var K_={},O6=av,rce=!0,nce=!0;try{String.fromCharCode.apply(null,[0])}catch{rce=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nce=!1}for(var zP=new O6.Buf8(256),Ry=0;Ry<256;Ry++)zP[Ry]=Ry>=252?6:Ry>=248?5:Ry>=240?4:Ry>=224?3:Ry>=192?2:1;zP[254]=zP[254]=1,K_.string2buf=function(e){var t,r,s,a,u,h=e.length,f=0;for(a=0;a<h;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<h&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),f+=r<128?1:r<2048?2:r<65536?3:4;for(t=new O6.Buf8(f),u=0,a=0;u<f;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<h&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?t[u++]=r:r<2048?(t[u++]=192|r>>>6,t[u++]=128|r&63):r<65536?(t[u++]=224|r>>>12,t[u++]=128|r>>>6&63,t[u++]=128|r&63):(t[u++]=240|r>>>18,t[u++]=128|r>>>12&63,t[u++]=128|r>>>6&63,t[u++]=128|r&63);return t};function ice(e,t){if(t<65534&&(e.subarray&&nce||!e.subarray&&rce))return String.fromCharCode.apply(null,O6.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}K_.buf2binstring=function(e){return ice(e,e.length)},K_.binstring2buf=function(e){for(var t=new O6.Buf8(e.length),r=0,s=t.length;r<s;r++)t[r]=e.charCodeAt(r);return t},K_.buf2string=function(e,t){var r,s,a,u,h=t||e.length,f=new Array(h*2);for(s=0,r=0;r<h;){if(a=e[r++],a<128){f[s++]=a;continue}if(u=zP[a],u>4){f[s++]=65533,r+=u-1;continue}for(a&=u===2?31:u===3?15:7;u>1&&r<h;)a=a<<6|e[r++]&63,u--;if(u>1){f[s++]=65533;continue}a<65536?f[s++]=a:(a-=65536,f[s++]=55296|a>>10&1023,f[s++]=56320|a&1023)}return ice(f,s)},K_.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+zP[e[r]]>t?r:t};function fGe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ace=fGe,VP=Jp,jP=av,CW=K_,xW=TW,dGe=ace,oce=Object.prototype.toString,pGe=0,IW=4,EC=0,sce=1,lce=2,mGe=-1,gGe=0,vGe=8;function Q_(e){if(!(this instanceof Q_))return new Q_(e);this.options=jP.assign({level:mGe,method:vGe,chunkSize:16384,windowBits:15,memLevel:8,strategy:gGe,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dGe,this.strm.avail_out=0;var r=VP.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==EC)throw new Error(xW[r]);if(t.header&&VP.deflateSetHeader(this.strm,t.header),t.dictionary){var s;if(typeof t.dictionary=="string"?s=CW.string2buf(t.dictionary):oce.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,r=VP.deflateSetDictionary(this.strm,s),r!==EC)throw new Error(xW[r]);this._dict_set=!0}}Q_.prototype.push=function(e,t){var r=this.strm,s=this.options.chunkSize,a,u;if(this.ended)return!1;u=t===~~t?t:t===!0?IW:pGe,typeof e=="string"?r.input=CW.string2buf(e):oce.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new jP.Buf8(s),r.next_out=0,r.avail_out=s),a=VP.deflate(r,u),a!==sce&&a!==EC)return this.onEnd(a),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(u===IW||u===lce))&&(this.options.to==="string"?this.onData(CW.buf2binstring(jP.shrinkBuf(r.output,r.next_out))):this.onData(jP.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&a!==sce);return u===IW?(a=VP.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===EC):(u===lce&&(this.onEnd(EC),r.avail_out=0),!0)},Q_.prototype.onData=function(e){this.chunks.push(e)},Q_.prototype.onEnd=function(e){e===EC&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jP.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function DW(e,t){var r=new Q_(t);if(r.push(e,!0),r.err)throw r.msg||xW[r.err];return r.result}function yGe(e,t){return t=t||{},t.raw=!0,DW(e,t)}function bGe(e,t){return t=t||{},t.gzip=!0,DW(e,t)}PP.Deflate=Q_,PP.deflate=DW,PP.deflateRaw=yGe,PP.gzip=bGe;var WP={},hd={},k6=30,_Ge=12,TGe=function(t,r){var s,a,u,h,f,g,v,p,E,T,S,x,O,P,M,G,B,U,j,Z,ee,J,he,pe,ae;s=t.state,a=t.next_in,pe=t.input,u=a+(t.avail_in-5),h=t.next_out,ae=t.output,f=h-(r-t.avail_out),g=h+(t.avail_out-257),v=s.dmax,p=s.wsize,E=s.whave,T=s.wnext,S=s.window,x=s.hold,O=s.bits,P=s.lencode,M=s.distcode,G=(1<<s.lenbits)-1,B=(1<<s.distbits)-1;e:do{O<15&&(x+=pe[a++]<<O,O+=8,x+=pe[a++]<<O,O+=8),U=P[x&G];t:for(;;){if(j=U>>>24,x>>>=j,O-=j,j=U>>>16&255,j===0)ae[h++]=U&65535;else if(j&16){Z=U&65535,j&=15,j&&(O<j&&(x+=pe[a++]<<O,O+=8),Z+=x&(1<<j)-1,x>>>=j,O-=j),O<15&&(x+=pe[a++]<<O,O+=8,x+=pe[a++]<<O,O+=8),U=M[x&B];r:for(;;){if(j=U>>>24,x>>>=j,O-=j,j=U>>>16&255,j&16){if(ee=U&65535,j&=15,O<j&&(x+=pe[a++]<<O,O+=8,O<j&&(x+=pe[a++]<<O,O+=8)),ee+=x&(1<<j)-1,ee>v){t.msg="invalid distance too far back",s.mode=k6;break e}if(x>>>=j,O-=j,j=h-f,ee>j){if(j=ee-j,j>E&&s.sane){t.msg="invalid distance too far back",s.mode=k6;break e}if(J=0,he=S,T===0){if(J+=p-j,j<Z){Z-=j;do ae[h++]=S[J++];while(--j);J=h-ee,he=ae}}else if(T<j){if(J+=p+T-j,j-=T,j<Z){Z-=j;do ae[h++]=S[J++];while(--j);if(J=0,T<Z){j=T,Z-=j;do ae[h++]=S[J++];while(--j);J=h-ee,he=ae}}}else if(J+=T-j,j<Z){Z-=j;do ae[h++]=S[J++];while(--j);J=h-ee,he=ae}for(;Z>2;)ae[h++]=he[J++],ae[h++]=he[J++],ae[h++]=he[J++],Z-=3;Z&&(ae[h++]=he[J++],Z>1&&(ae[h++]=he[J++]))}else{J=h-ee;do ae[h++]=ae[J++],ae[h++]=ae[J++],ae[h++]=ae[J++],Z-=3;while(Z>2);Z&&(ae[h++]=ae[J++],Z>1&&(ae[h++]=ae[J++]))}}else if(j&64){t.msg="invalid distance code",s.mode=k6;break e}else{U=M[(U&65535)+(x&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){s.mode=_Ge;break e}else{t.msg="invalid literal/length code",s.mode=k6;break e}else{U=P[(U&65535)+(x&(1<<j)-1)];continue t}break}}while(a<u&&h<g);Z=O>>3,a-=Z,O-=Z<<3,x&=(1<<O)-1,t.next_in=a,t.next_out=h,t.avail_in=a<u?5+(u-a):5-(a-u),t.avail_out=h<g?257+(g-h):257-(h-g),s.hold=x,s.bits=O},uce=av,SC=15,cce=852,hce=592,fce=0,OW=1,dce=2,EGe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],SGe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],AGe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],wGe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],CGe=function(t,r,s,a,u,h,f,g){var v=g.bits,p=0,E=0,T=0,S=0,x=0,O=0,P=0,M=0,G=0,B=0,U,j,Z,ee,J,he=null,pe=0,ae,ye=new uce.Buf16(SC+1),Ee=new uce.Buf16(SC+1),ue=null,be=0,Me,Xe,rt;for(p=0;p<=SC;p++)ye[p]=0;for(E=0;E<a;E++)ye[r[s+E]]++;for(x=v,S=SC;S>=1&&ye[S]===0;S--);if(x>S&&(x=S),S===0)return u[h++]=1<<24|64<<16|0,u[h++]=1<<24|64<<16|0,g.bits=1,0;for(T=1;T<S&&ye[T]===0;T++);for(x<T&&(x=T),M=1,p=1;p<=SC;p++)if(M<<=1,M-=ye[p],M<0)return-1;if(M>0&&(t===fce||S!==1))return-1;for(Ee[1]=0,p=1;p<SC;p++)Ee[p+1]=Ee[p]+ye[p];for(E=0;E<a;E++)r[s+E]!==0&&(f[Ee[r[s+E]]++]=E);if(t===fce?(he=ue=f,ae=19):t===OW?(he=EGe,pe-=257,ue=SGe,be-=257,ae=256):(he=AGe,ue=wGe,ae=-1),B=0,E=0,p=T,J=h,O=x,P=0,Z=-1,G=1<<x,ee=G-1,t===OW&&G>cce||t===dce&&G>hce)return 1;for(;;){Me=p-P,f[E]<ae?(Xe=0,rt=f[E]):f[E]>ae?(Xe=ue[be+f[E]],rt=he[pe+f[E]]):(Xe=32+64,rt=0),U=1<<p-P,j=1<<O,T=j;do j-=U,u[J+(B>>P)+j]=Me<<24|Xe<<16|rt|0;while(j!==0);for(U=1<<p-1;B&U;)U>>=1;if(U!==0?(B&=U-1,B+=U):B=0,E++,--ye[p]===0){if(p===S)break;p=r[s+f[E]]}if(p>x&&(B&ee)!==Z){for(P===0&&(P=x),J+=T,O=p-P,M=1<<O;O+P<S&&(M-=ye[O+P],!(M<=0));)O++,M<<=1;if(G+=1<<O,t===OW&&G>cce||t===dce&&G>hce)return 1;Z=B&ee,u[Z]=x<<24|O<<16|J-h|0}}return B!==0&&(u[J+B]=p-P<<24|64<<16|0),g.bits=x,0},Vc=av,kW=Wue,nm=Xue,xGe=TGe,XP=CGe,IGe=0,pce=1,mce=2,gce=4,DGe=5,R6=6,J_=0,OGe=1,kGe=2,Vh=-2,vce=-3,yce=-4,RGe=-5,bce=8,_ce=1,Tce=2,Ece=3,Sce=4,Ace=5,wce=6,Cce=7,xce=8,Ice=9,Dce=10,P6=11,sv=12,RW=13,Oce=14,PW=15,kce=16,Rce=17,Pce=18,Nce=19,N6=20,M6=21,Mce=22,Lce=23,Fce=24,Bce=25,Hce=26,NW=27,Uce=28,Gce=29,Za=30,$ce=31,PGe=32,NGe=852,MGe=592,LGe=15,FGe=LGe;function zce(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function BGe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Vc.Buf16(320),this.work=new Vc.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Vce(e){var t;return!e||!e.state?Vh:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=_ce,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Vc.Buf32(NGe),t.distcode=t.distdyn=new Vc.Buf32(MGe),t.sane=1,t.back=-1,J_)}function jce(e){var t;return!e||!e.state?Vh:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,Vce(e))}function Wce(e,t){var r,s;return!e||!e.state||(s=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Vh:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,jce(e))}function Xce(e,t){var r,s;return e?(s=new BGe,e.state=s,s.window=null,r=Wce(e,t),r!==J_&&(e.state=null),r):Vh}function HGe(e){return Xce(e,FGe)}var Yce=!0,MW,LW;function UGe(e){if(Yce){var t;for(MW=new Vc.Buf32(512),LW=new Vc.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(XP(pce,e.lens,0,288,MW,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;XP(mce,e.lens,0,32,LW,0,e.work,{bits:5}),Yce=!1}e.lencode=MW,e.lenbits=9,e.distcode=LW,e.distbits=5}function qce(e,t,r,s){var a,u=e.state;return u.window===null&&(u.wsize=1<<u.wbits,u.wnext=0,u.whave=0,u.window=new Vc.Buf8(u.wsize)),s>=u.wsize?(Vc.arraySet(u.window,t,r-u.wsize,u.wsize,0),u.wnext=0,u.whave=u.wsize):(a=u.wsize-u.wnext,a>s&&(a=s),Vc.arraySet(u.window,t,r-s,a,u.wnext),s-=a,s?(Vc.arraySet(u.window,t,r-s,s,0),u.wnext=s,u.whave=u.wsize):(u.wnext+=a,u.wnext===u.wsize&&(u.wnext=0),u.whave<u.wsize&&(u.whave+=a))),0}function GGe(e,t){var r,s,a,u,h,f,g,v,p,E,T,S,x,O,P=0,M,G,B,U,j,Z,ee,J,he=new Vc.Buf8(4),pe,ae,ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Vh;r=e.state,r.mode===sv&&(r.mode=RW),h=e.next_out,a=e.output,g=e.avail_out,u=e.next_in,s=e.input,f=e.avail_in,v=r.hold,p=r.bits,E=f,T=g,J=J_;e:for(;;)switch(r.mode){case _ce:if(r.wrap===0){r.mode=RW;break}for(;p<16;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(r.wrap&2&&v===35615){r.check=0,he[0]=v&255,he[1]=v>>>8&255,r.check=nm(r.check,he,2,0),v=0,p=0,r.mode=Tce;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((v&255)<<8)+(v>>8))%31){e.msg="incorrect header check",r.mode=Za;break}if((v&15)!==bce){e.msg="unknown compression method",r.mode=Za;break}if(v>>>=4,p-=4,ee=(v&15)+8,r.wbits===0)r.wbits=ee;else if(ee>r.wbits){e.msg="invalid window size",r.mode=Za;break}r.dmax=1<<ee,e.adler=r.check=1,r.mode=v&512?Dce:sv,v=0,p=0;break;case Tce:for(;p<16;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(r.flags=v,(r.flags&255)!==bce){e.msg="unknown compression method",r.mode=Za;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Za;break}r.head&&(r.head.text=v>>8&1),r.flags&512&&(he[0]=v&255,he[1]=v>>>8&255,r.check=nm(r.check,he,2,0)),v=0,p=0,r.mode=Ece;case Ece:for(;p<32;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.head&&(r.head.time=v),r.flags&512&&(he[0]=v&255,he[1]=v>>>8&255,he[2]=v>>>16&255,he[3]=v>>>24&255,r.check=nm(r.check,he,4,0)),v=0,p=0,r.mode=Sce;case Sce:for(;p<16;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.head&&(r.head.xflags=v&255,r.head.os=v>>8),r.flags&512&&(he[0]=v&255,he[1]=v>>>8&255,r.check=nm(r.check,he,2,0)),v=0,p=0,r.mode=Ace;case Ace:if(r.flags&1024){for(;p<16;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.length=v,r.head&&(r.head.extra_len=v),r.flags&512&&(he[0]=v&255,he[1]=v>>>8&255,r.check=nm(r.check,he,2,0)),v=0,p=0}else r.head&&(r.head.extra=null);r.mode=wce;case wce:if(r.flags&1024&&(S=r.length,S>f&&(S=f),S&&(r.head&&(ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Vc.arraySet(r.head.extra,s,u,S,ee)),r.flags&512&&(r.check=nm(r.check,s,S,u)),f-=S,u+=S,r.length-=S),r.length))break e;r.length=0,r.mode=Cce;case Cce:if(r.flags&2048){if(f===0)break e;S=0;do ee=s[u+S++],r.head&&ee&&r.length<65536&&(r.head.name+=String.fromCharCode(ee));while(ee&&S<f);if(r.flags&512&&(r.check=nm(r.check,s,S,u)),f-=S,u+=S,ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xce;case xce:if(r.flags&4096){if(f===0)break e;S=0;do ee=s[u+S++],r.head&&ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(ee));while(ee&&S<f);if(r.flags&512&&(r.check=nm(r.check,s,S,u)),f-=S,u+=S,ee)break e}else r.head&&(r.head.comment=null);r.mode=Ice;case Ice:if(r.flags&512){for(;p<16;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(v!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Za;break}v=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=sv;break;case Dce:for(;p<32;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}e.adler=r.check=zce(v),v=0,p=0,r.mode=P6;case P6:if(r.havedict===0)return e.next_out=h,e.avail_out=g,e.next_in=u,e.avail_in=f,r.hold=v,r.bits=p,kGe;e.adler=r.check=1,r.mode=sv;case sv:if(t===DGe||t===R6)break e;case RW:if(r.last){v>>>=p&7,p-=p&7,r.mode=NW;break}for(;p<3;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}switch(r.last=v&1,v>>>=1,p-=1,v&3){case 0:r.mode=Oce;break;case 1:if(UGe(r),r.mode=N6,t===R6){v>>>=2,p-=2;break e}break;case 2:r.mode=Rce;break;case 3:e.msg="invalid block type",r.mode=Za}v>>>=2,p-=2;break;case Oce:for(v>>>=p&7,p-=p&7;p<32;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if((v&65535)!==(v>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Za;break}if(r.length=v&65535,v=0,p=0,r.mode=PW,t===R6)break e;case PW:r.mode=kce;case kce:if(S=r.length,S){if(S>f&&(S=f),S>g&&(S=g),S===0)break e;Vc.arraySet(a,s,u,S,h),f-=S,u+=S,g-=S,h+=S,r.length-=S;break}r.mode=sv;break;case Rce:for(;p<14;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(r.nlen=(v&31)+257,v>>>=5,p-=5,r.ndist=(v&31)+1,v>>>=5,p-=5,r.ncode=(v&15)+4,v>>>=4,p-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Za;break}r.have=0,r.mode=Pce;case Pce:for(;r.have<r.ncode;){for(;p<3;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.lens[ye[r.have++]]=v&7,v>>>=3,p-=3}for(;r.have<19;)r.lens[ye[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,pe={bits:r.lenbits},J=XP(IGe,r.lens,0,19,r.lencode,0,r.work,pe),r.lenbits=pe.bits,J){e.msg="invalid code lengths set",r.mode=Za;break}r.have=0,r.mode=Nce;case Nce:for(;r.have<r.nlen+r.ndist;){for(;P=r.lencode[v&(1<<r.lenbits)-1],M=P>>>24,G=P>>>16&255,B=P&65535,!(M<=p);){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(B<16)v>>>=M,p-=M,r.lens[r.have++]=B;else{if(B===16){for(ae=M+2;p<ae;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(v>>>=M,p-=M,r.have===0){e.msg="invalid bit length repeat",r.mode=Za;break}ee=r.lens[r.have-1],S=3+(v&3),v>>>=2,p-=2}else if(B===17){for(ae=M+3;p<ae;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}v>>>=M,p-=M,ee=0,S=3+(v&7),v>>>=3,p-=3}else{for(ae=M+7;p<ae;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}v>>>=M,p-=M,ee=0,S=11+(v&127),v>>>=7,p-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Za;break}for(;S--;)r.lens[r.have++]=ee}}if(r.mode===Za)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Za;break}if(r.lenbits=9,pe={bits:r.lenbits},J=XP(pce,r.lens,0,r.nlen,r.lencode,0,r.work,pe),r.lenbits=pe.bits,J){e.msg="invalid literal/lengths set",r.mode=Za;break}if(r.distbits=6,r.distcode=r.distdyn,pe={bits:r.distbits},J=XP(mce,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,pe),r.distbits=pe.bits,J){e.msg="invalid distances set",r.mode=Za;break}if(r.mode=N6,t===R6)break e;case N6:r.mode=M6;case M6:if(f>=6&&g>=258){e.next_out=h,e.avail_out=g,e.next_in=u,e.avail_in=f,r.hold=v,r.bits=p,xGe(e,T),h=e.next_out,a=e.output,g=e.avail_out,u=e.next_in,s=e.input,f=e.avail_in,v=r.hold,p=r.bits,r.mode===sv&&(r.back=-1);break}for(r.back=0;P=r.lencode[v&(1<<r.lenbits)-1],M=P>>>24,G=P>>>16&255,B=P&65535,!(M<=p);){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(G&&!(G&240)){for(U=M,j=G,Z=B;P=r.lencode[Z+((v&(1<<U+j)-1)>>U)],M=P>>>24,G=P>>>16&255,B=P&65535,!(U+M<=p);){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}v>>>=U,p-=U,r.back+=U}if(v>>>=M,p-=M,r.back+=M,r.length=B,G===0){r.mode=Hce;break}if(G&32){r.back=-1,r.mode=sv;break}if(G&64){e.msg="invalid literal/length code",r.mode=Za;break}r.extra=G&15,r.mode=Mce;case Mce:if(r.extra){for(ae=r.extra;p<ae;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Lce;case Lce:for(;P=r.distcode[v&(1<<r.distbits)-1],M=P>>>24,G=P>>>16&255,B=P&65535,!(M<=p);){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(!(G&240)){for(U=M,j=G,Z=B;P=r.distcode[Z+((v&(1<<U+j)-1)>>U)],M=P>>>24,G=P>>>16&255,B=P&65535,!(U+M<=p);){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}v>>>=U,p-=U,r.back+=U}if(v>>>=M,p-=M,r.back+=M,G&64){e.msg="invalid distance code",r.mode=Za;break}r.offset=B,r.extra=G&15,r.mode=Fce;case Fce:if(r.extra){for(ae=r.extra;p<ae;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Za;break}r.mode=Bce;case Bce:if(g===0)break e;if(S=T-g,r.offset>S){if(S=r.offset-S,S>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Za;break}S>r.wnext?(S-=r.wnext,x=r.wsize-S):x=r.wnext-S,S>r.length&&(S=r.length),O=r.window}else O=a,x=h-r.offset,S=r.length;S>g&&(S=g),g-=S,r.length-=S;do a[h++]=O[x++];while(--S);r.length===0&&(r.mode=M6);break;case Hce:if(g===0)break e;a[h++]=r.length,g--,r.mode=M6;break;case NW:if(r.wrap){for(;p<32;){if(f===0)break e;f--,v|=s[u++]<<p,p+=8}if(T-=g,e.total_out+=T,r.total+=T,T&&(e.adler=r.check=r.flags?nm(r.check,a,T,h-T):kW(r.check,a,T,h-T)),T=g,(r.flags?v:zce(v))!==r.check){e.msg="incorrect data check",r.mode=Za;break}v=0,p=0}r.mode=Uce;case Uce:if(r.wrap&&r.flags){for(;p<32;){if(f===0)break e;f--,v+=s[u++]<<p,p+=8}if(v!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Za;break}v=0,p=0}r.mode=Gce;case Gce:J=OGe;break e;case Za:J=vce;break e;case $ce:return yce;case PGe:default:return Vh}return e.next_out=h,e.avail_out=g,e.next_in=u,e.avail_in=f,r.hold=v,r.bits=p,(r.wsize||T!==e.avail_out&&r.mode<Za&&(r.mode<NW||t!==gce))&&qce(e,e.output,e.next_out,T-e.avail_out),E-=e.avail_in,T-=e.avail_out,e.total_in+=E,e.total_out+=T,r.total+=T,r.wrap&&T&&(e.adler=r.check=r.flags?nm(r.check,a,T,e.next_out-T):kW(r.check,a,T,e.next_out-T)),e.data_type=r.bits+(r.last?64:0)+(r.mode===sv?128:0)+(r.mode===N6||r.mode===PW?256:0),(E===0&&T===0||t===gce)&&J===J_&&(J=RGe),J}function $Ge(e){if(!e||!e.state)return Vh;var t=e.state;return t.window&&(t.window=null),e.state=null,J_}function zGe(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?Vh:(r.head=t,t.done=!1,J_)}function VGe(e,t){var r=t.length,s,a,u;return!e||!e.state||(s=e.state,s.wrap!==0&&s.mode!==P6)?Vh:s.mode===P6&&(a=1,a=kW(a,t,r,0),a!==s.check)?vce:(u=qce(e,t,r,r),u?(s.mode=$ce,yce):(s.havedict=1,J_))}hd.inflateReset=jce,hd.inflateReset2=Wce,hd.inflateResetKeep=Vce,hd.inflateInit=HGe,hd.inflateInit2=Xce,hd.inflate=GGe,hd.inflateEnd=$Ge,hd.inflateGetHeader=zGe,hd.inflateSetDictionary=VGe,hd.inflateInfo="pako inflate (from Nodeca project)";var Zce={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function jGe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var WGe=jGe,AC=hd,YP=av,L6=K_,Mo=Zce,FW=TW,XGe=ace,YGe=WGe,Kce=Object.prototype.toString;function eT(e){if(!(this instanceof eT))return new eT(e);this.options=YP.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XGe,this.strm.avail_out=0;var r=AC.inflateInit2(this.strm,t.windowBits);if(r!==Mo.Z_OK)throw new Error(FW[r]);if(this.header=new YGe,AC.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=L6.string2buf(t.dictionary):Kce.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=AC.inflateSetDictionary(this.strm,t.dictionary),r!==Mo.Z_OK)))throw new Error(FW[r])}eT.prototype.push=function(e,t){var r=this.strm,s=this.options.chunkSize,a=this.options.dictionary,u,h,f,g,v,p=!1;if(this.ended)return!1;h=t===~~t?t:t===!0?Mo.Z_FINISH:Mo.Z_NO_FLUSH,typeof e=="string"?r.input=L6.binstring2buf(e):Kce.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new YP.Buf8(s),r.next_out=0,r.avail_out=s),u=AC.inflate(r,Mo.Z_NO_FLUSH),u===Mo.Z_NEED_DICT&&a&&(u=AC.inflateSetDictionary(this.strm,a)),u===Mo.Z_BUF_ERROR&&p===!0&&(u=Mo.Z_OK,p=!1),u!==Mo.Z_STREAM_END&&u!==Mo.Z_OK)return this.onEnd(u),this.ended=!0,!1;r.next_out&&(r.avail_out===0||u===Mo.Z_STREAM_END||r.avail_in===0&&(h===Mo.Z_FINISH||h===Mo.Z_SYNC_FLUSH))&&(this.options.to==="string"?(f=L6.utf8border(r.output,r.next_out),g=r.next_out-f,v=L6.buf2string(r.output,f),r.next_out=g,r.avail_out=s-g,g&&YP.arraySet(r.output,r.output,f,g,0),this.onData(v)):this.onData(YP.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(p=!0)}while((r.avail_in>0||r.avail_out===0)&&u!==Mo.Z_STREAM_END);return u===Mo.Z_STREAM_END&&(h=Mo.Z_FINISH),h===Mo.Z_FINISH?(u=AC.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===Mo.Z_OK):(h===Mo.Z_SYNC_FLUSH&&(this.onEnd(Mo.Z_OK),r.avail_out=0),!0)},eT.prototype.onData=function(e){this.chunks.push(e)},eT.prototype.onEnd=function(e){e===Mo.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YP.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function BW(e,t){var r=new eT(t);if(r.push(e,!0),r.err)throw r.msg||FW[r.err];return r.result}function qGe(e,t){return t=t||{},t.raw=!0,BW(e,t)}WP.Inflate=eT,WP.inflate=BW,WP.inflateRaw=qGe,WP.ungzip=BW;var ZGe=av.assign,KGe=PP,QGe=WP,JGe=Zce,Qce={};ZGe(Qce,KGe,QGe,JGe);var e$e=Qce,t$e=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];const r$e=t$e;function n$e(e){if(typeof e!="string")throw new TypeError("input must be a string");let t=[],r,s,a={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",AUTHORS_TAG:"AUTHORS",CONSORTIUM_TAG:"CONSRTM",TITLE_TAG:"TITLE",JOURNAL_TAG:"JOURNAL",PUBMED_TAG:"PUBMED",REMARK_TAG:"REMARK",FEATURES_TAG:"FEATURES",BASE_COUNT_TAG:"BASE COUNT",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},u=e.split(/\r?\n/),h,f,g,v,p,E=!1;for(let ue of u){if(ue===null)break;let be=J(ue),Me=pe(ue),Xe=ye(ue),rt=ae(ue);if(be===a.END_SEQUENCE_TAG||rt?(h=be,f=null):Xe&&(f=be),!(ue.trim()===""||be===";")){if(!E&&h!==a.LOCUS_TAG)break;switch(h){case a.LOCUS_TAG:E=!0,P(ue);break;case a.FEATURES_TAG:B(ue,be,Me);break;case a.ORIGIN_TAG:O(ue,be);break;case a.DEFINITION_TAG:case a.ACCESSION_TAG:case a.VERSION_TAG:case a.KEYWORDS_TAG:he(h,ue,h.toLowerCase());break;case a.SOURCE_TAG:f===a.ORGANISM_TAG?he(f,ue,"organism"):he(be,ue,"source");break;case a.REFERENCE_TAG:if(be===a.REFERENCE_TAG){const st=r.references||[];r.references=st,st.push({})}G(ue,f);break;case a.END_SEQUENCE_TAG:T();break}}}return t[t.length-1]!==r&&T(),t;function T(){x(),t.push(r)}function S(){return r.features[r.features.length-1]}function x(){if(r&&r.features)for(let ue=0;ue<r.features.length;ue++)r.features[ue]=Ee(r.features[ue])}function O(ue,be){if(be!==a.ORIGIN_TAG){let Me=ue.replace(/[\s]*[0-9]*/g,"");r.sequence+=Me}}function P(ue){r={features:[],name:"Untitled sequence",sequence:"",references:[]},ue=M(a.LOCUS_TAG,ue);const be=ue.match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*([^\s]+)?$/);let Me=be[1],Xe=+be[2],rt=be[3],st=be[4]==="circular";const mt=r;let kt="";be[6]?(mt.genbankDivision=be[5],kt=be[6]):kt=be[5],mt.circular=st,mt.moleculeType=rt;const Le=kt.match(/^(\d{2})-(.{3})-(\d{4})$/),Ie=new Date;Ie.setFullYear(+Le[3]),Ie.setUTCMonth(r$e.indexOf(Le[2].toUpperCase())),Ie.setDate(+Le[1]),Ie.setUTCHours(12),Ie.setMinutes(0),Ie.setSeconds(0),Ie.setMilliseconds(0),mt.date=Ie.toISOString(),mt.name=Me,mt.size=Xe}function M(ue,be){return be=be.replace(/^\s*/,""),be.indexOf(ue)===0&&(be=be.replace(ue,"")),be.trim()}function G(ue,be){const Me=r.references;let Xe=Me[Me.length-1];be?he(be,ue,be.toLowerCase(),Xe):he(a.REFERENCE_TAG,ue,"description",Xe)}function B(ue,be,Me){let Xe;if(be===a.FEATURES_TAG){v=!0;return}if(v&&(g=Jce(ue),v=!1),i$e(ue,g))p?(Z(ue.trim()),p=!0):(s&&(s[s.length-1]+=ue.trim().replace(/"/g,"")),p=!1);else if(j(ue))S()&&(ee(ue),p=!1);else{Me.match(/complement/g)?Xe=-1:Xe=1,U();let rt=S();rt.type=be,rt.strand=Xe,Z(Me),p=!0}}function U(){r.features.push({notes:{}})}function j(ue){let be=!1;return(ue.trim().charAt(0).match(/\//)||ue.match(/^[\s]*\/[\w]+=[\S]+/))&&(be=!0),be}function Z(ue){ue=ue.trim();let be=[];ue.replace(/(\d+)/g,function(Xe,rt){be.push(rt)});let Me=S();Me.start=+be[0],Me.end=be[1]===void 0?+be[0]:+be[1]}function ee(ue){let be,Me;be=ue.trim(),be=be.replace(/^\/|"$/g,""),Me=be.split(/="|=/);let Xe=Me[1];Xe&&(Xe=Xe.replace(/\\/g," "),ue.match(/="/g)?Xe=Xe.replace(/".*/g,""):Xe.match(/^\d+$/g)&&(Xe=+Xe));let rt=Me[0],st=S().notes;st[rt]?st[rt].push(Xe):st[rt]=[Xe],s=st[rt]}function J(ue){let be;return ue=ue.trim(),be=ue.split(/[\s]+/),be[0]}function he(ue,be,Me,Xe){Xe=Xe||r;let rt=M(ue,be);Xe[Me]=Xe[Me]?`${Xe[Me]} `:"",Xe[Me]+=rt}function pe(ue){let be;return ue.indexOf("=")<0?(ue=ue.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,""),ue=ue.trim(),ue):(be=ue.split(/=/),be[1])}function ae(ue){let be=!1;return ue.substr(0,10).match(/^[\S]+/)&&(be=!0),be}function ye(ue){let be=!1;return ue.substr(0,10).match(/^[\s]+[\S]+/)&&(be=!0),be}function Ee(ue){return ue.notes.label?ue.name=ue.notes.label[0]:ue.notes.gene?ue.name=ue.notes.gene[0]:ue.notes.ApEinfo_label?ue.name=ue.notes.ApEinfo_label[0]:ue.notes.name?ue.name=ue.notes.name[0]:ue.notes.organism?ue.name=ue.notes.organism[0]:ue.notes.locus_tag?ue.name=ue.notes.locus_tag[0]:ue.notes.note?ue.name=ue.notes.note[0]:ue.name="Untitled Feature",ue.name=typeof ue.name=="string"?ue.name:String(ue.name),ue}}function i$e(e,t){let r=Jce(e);return!(t===r||e.trim().charAt(0).match(/\//))}function Jce(e){let t=/^\s*/.exec(e);return t!==null?t[0].length:0}var a$e=n$e;function ehe(e,t){const r=[];if(!e.length)return[];let a=e[0].start,u=e[0].end;for(let h=1;h<e.length;h++)e[h].start<u+5*1/t?u=Math.max(u,e[h].end):(r.push({type:"filler",start:a,end:u}),a=e[h].start,u=e[h].end);return r.push({start:a,end:u,type:"filler"}),r}function o$e(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[r],e[r]=s}return e}function s$e(e){const t=e.end-e.start,r=e.strand===1?"+":"-",s=Yn.nice();return e.type==="filler"?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:s}:{xStart:e.start,xEnd:e.end,strand:r,chrOffset:0,importance:e.end-e.start,uid:s,type:e.type,fields:["chrom",e.start,e.end,e.name,t,r,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}const the=e=>{const t=a$e(e),r=o$e(t[0].features.filter(s=>s.type!=="source").sort((s,a)=>s.start-a.start));return[t,r]};let rhe=function(){function e(t){if(L(this,e),this.dataConfig=t,this.trackUid=Yn.nice(),t.url){const s=t.url.slice(t.url.length-3)===".gz";this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then(a=>s?a.arrayBuffer():a.text()).then(a=>{const u=s?e$e.inflate(a,{to:"string"}):a;[this.gbJson,this.cdss]=the(u)})}else t.text&&(this.dataPromise=new Promise((r,s)=>{[this.gbJson,this.cdss]=the(t.text),r()}))}return V(e,[{key:"tilesetInfo",value:function(r){return this.tilesetInfoLoading=!0,this.dataPromise.then(()=>{this.tilesetInfoLoading=!1;const s=1024;let a={};return a={tile_size:s,max_zoom:Math.ceil(Math.log(this.gbJson[0].size/s)/Math.log(2)),max_width:this.gbJson[0].size,min_pos:[0],max_pos:[this.gbJson[0].size]},r&&r(a),a}).catch(s=>{this.tilesetInfoLoading=!1,r&&r({error:`Error parsing genbank: ${s}`})})}},{key:"fetchTilesDebounced",value:function(r,s){const a={},u=[],h=[];for(const f of s){const g=f.split("."),v=parseInt(g[0],10),p=parseInt(g[1],10);if(Number.isNaN(p)||Number.isNaN(v)){console.warn("Invalid tile zoom or position:",v,p);continue}u.push(f),h.push(this.tile(v,p))}return Promise.all(h).then(f=>{for(let g=0;g<f.length;g++){const v=u[g];a[v]=f[g],a[v].tilePositionId=v}r(a)}),a}},{key:"tile",value:function(r,s){return this.tilesetInfo().then(a=>{const u=+a.max_width/2**+r,h=a.min_pos[0]+s*u,f=a.min_pos[0]+(s+1)*u,g=this.cdss.filter(x=>x.end>h&&x.start<f),v=1024/2**(a.max_zoom-r),p=ehe(g.filter(x=>x.strand===1),v),E=ehe(g.filter(x=>x.strand!==1),v);p.forEach(x=>{x.strand="+"}),E.forEach(x=>{x.strand="-"});let T=[];const S=20;for(let x=0;x<this.cdss.length&&!(T.length>=S);x++)this.cdss[x].end>=h&&this.cdss[x].start<=f&&T.push(this.cdss[x]);return T=[...T,...p,...E],T.map(x=>s$e(x))})}}]),e}(),nhe=function(){function e(t){L(this,e),this.dataConfig=t,this.tilesetInfoData=Object.values(this.dataConfig.tilesetInfo)[0]}return V(e,[{key:"tilesetInfo",value:function(r){this.tilesetInfoLoading=!1,r(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(r,s){this.tilesData={};for(const h of Object.keys(this.dataConfig.tiles)){const g=`localtile.${h.split(".").slice(1).join(".")}`;this.tilesData[g]=this.dataConfig.tiles[h]}const a={},u=s.map(h=>`localtile.${h}`);g_(this.tilesData,"",u);for(const h of s)a[h]=this.tilesData[`localtile.${h}`];r(a)}},{key:"tile",value:function(r,s){}}]),e}(),l$e=function(){function e(){L(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return V(e,[{key:"enqueueTask",value:function(r,s,a=null){a===null?this.taskList.push({handler:r,data:s}):(this.taskList=this.taskList.filter(u=>u.trackId!==a),this.taskList.push({handler:r,data:s,trackId:a})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(r){for(;(r.timeRemaining()>0||r.didTimeout)&&this.taskList.length;){const s=this.taskList.shift();s.data===null?s.handler():s.handler(s.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e}();const u$e=new l$e;function c$e(e,t,r,s,a){const u=e||a,h=0;return u==="log"&&t>0?["log",Rf().range([254,0]).domain([t+h,s+h])]:["linear",Rn().range([254,0]).domain([t,s])]}let Py=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{pubSub:h,dataConfig:f,handleTilesetInfoReceived:g,animate:v,onValueScaleChanged:p}=s;return u.renderVersion=1,u.visibleTiles=new Set,u.visibleTileIds=new Set,u.renderingTiles=new Set,u.fetching=new Set,u.scale={},u.fetchedTiles={},u.tileGraphics={},u.maxZoom=0,u.medianVisibleValue=null,u.backgroundTaskScheduler=u$e,u.continuousScaling="requestIdleCallback"in window,u.valueScaleMin=null,u.fixedValueScaleMin=null,u.valueScaleMax=null,u.fixedValueScaleMax=null,u.listeners={},u.pubSub=h,u.animate=v,u.onValueScaleChanged=p,u.prevValueScale=null,s.dataFetcher?u.dataFetcher=s.dataFetcher:u.dataFetcher=new T6(f,u.pubSub),u.tilesetInfo=null,u.uuid=Yn.nice(),u.trackNotFoundText=new or.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),u.pLabel.addChild(u.trackNotFoundText),u.refreshTilesDebounced=TR(u.refreshTiles.bind(b(u)),VA,VA),u.dataFetcher.tilesetInfo((E,T)=>{if(E){if(u.tilesetInfo=E,u.dataFetcher.dataConfig.tilesetUid||(u.dataFetcher.dataConfig.tilesetUid=T),u.tilesetUid=u.dataFetcher.dataConfig.tilesetUid,u.server=u.dataFetcher.dataConfig.server||"unknown",u.tilesetInfo&&u.tilesetInfo.chromsizes&&(u.chromInfo=ly(u.tilesetInfo.chromsizes)),"error"in u.tilesetInfo){console.warn("Error retrieving tilesetInfo:",f,u.tilesetInfo.error),u.tilesetInfo=null,u.setError(u.tilesetInfo.error);return}u.tilesetInfo.resolutions?u.maxZoom=u.tilesetInfo.resolutions.length:u.maxZoom=+u.tilesetInfo.max_zoom,u.options&&u.options.maxZoom&&(u.options.maxZoom>=0?u.maxZoom=Math.min(u.options.maxZoom,u.maxZoom):console.error("Invalid maxZoom on track:",b(u))),u.refreshTiles(),g&&g(E),u.options||(u.options={}),u.options.name=u.options.name||E.name,u.checkValueScaleLimits(),u.draw(),u.drawLabel(),u.animate()}}),u}return V(r,[{key:"setError",value:function(a){this.errorTextText=a,this.draw(),this.animate()}},{key:"setFixedValueScaleMin",value:function(a){Number.isNaN(+a)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+a}},{key:"setFixedValueScaleMax",value:function(a){Number.isNaN(+a)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+a}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=typeof this.options.valueScaleMin<"u"?+this.options.valueScaleMin:null,this.fixedValueScaleMin!==null&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=typeof this.options.valueScaleMax<"u"?+this.options.valueScaleMax:null,this.fixedValueScaleMax!==null&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(a,u){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(u)}},{key:"off",value:function(a,u){const h=this.listeners[a].indexOf(u);h===-1||h>=this.listeners[a].length||this.listeners[a].splice(h,1)}},{key:"rerender",value:function(a){i(D(r.prototype),"rerender",this).call(this,a),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(a=>this.visibleTileIds.has(a))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(a=>this.fetchedTiles[a])}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u),mirrored:u.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"removeOldTiles",value:function(){this.calculateVisibleTiles();const u=[...new Set(Object.keys(this.fetchedTiles))].filter(h=>!this.visibleTileIds.has(h));this.removeTiles(u)}},{key:"refreshTiles",value:function(){if(!this.tilesetInfo)return;this.calculateVisibleTiles();const a=new Set(Object.keys(this.fetchedTiles)),u=[...this.visibleTiles].filter(h=>!this.fetching.has(h.remoteId)&&!a.has(h.tileId));for(let h=0;h<u.length;h++)this.fetching.add(u[h].remoteId);this.removeOldTiles(),this.fetchNewTiles(u)}},{key:"parentInFetched",value:function(a){const u=a.tileData.tilesetUid;let h=a.tileData.zoomLevel,f=a.tileData.tilePos;for(;h>0;)if(h-=1,f=f.map(v=>Math.floor(v/2)),`${u}.${h}.${f.join(".")}`in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(a){const u=a.tileData.zoomLevel-1,h=a.tileData.tilePos.map(g=>Math.floor(g/2));return`${a.tileData.tilesetUid}.${u}.${h.join(".")}`}},{key:"removeTiles",value:function(a){!a.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(a.forEach(u=>{const h=u;this.destroyTile(this.fetchedTiles[h]),h in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[h]),delete this.tileGraphics[h]),delete this.fetchedTiles[h]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(a,u,h=1,f=0,g=0){this.xScale(a),this.yScale(u),this.refreshTilesDebounced(),this.pMobile.position.x=f,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=h,this.pMobile.scale.y=1}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a)}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a)}},{key:"areAllVisibleTilesLoaded",value:function(){const a=new Set(Object.keys(this.fetchedTiles)),u=[...this.visibleTileIds];for(let h=0;h<u.length;h++)if(!a.has(u[h]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(a){return a?(this.scale.minValue=a,this):this.valueScaleMin!==null?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(a){return a?(this.scale.maxValue=a,this):this.valueScaleMax!==null?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){const a=Object.keys(this.fetchedTiles);this.renderVersion+=1;for(let u=0;u<a.length;u++)if(!(a[u]in this.tileGraphics)){const h=new or.PIXI.Graphics;this.pMain.addChild(h),this.fetchedTiles[a[u]].graphics=h,this.initTile(this.fetchedTiles[a[u]]),this.tileGraphics[a[u]]=h}}},{key:"updateExistingGraphics",value:function(){const a=Object.keys(this.fetchedTiles);for(let u=0;u<a.length;u++){const h=this.fetchedTiles[a[u]];this.updateTile(h)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged)for(const a of this.listeners.dataChanged)a(this.visibleAndFetchedTiles().map(u=>u.tileData))}},{key:"loadTileData",value:function(a,u){let h=this.lruCache.get(a.tileId);return h||(h=u(a.data,a.type),this.lruCache.put(a.tileId,h)),h}},{key:"fetchNewTiles",value:function(a){if(a.length>0){const u=[...new Set(a.map(h=>h.remoteId))];this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),u)}}},{key:"receivedTiles",value:function(a){for(let u=0;u<this.visibleTiles.length;u++){const{tileId:h}=this.visibleTiles[u];if(a[this.visibleTiles[u].remoteId]&&this.visibleTiles[u].remoteId in a){if(h in this.fetchedTiles||(this.fetchedTiles[h]=this.visibleTiles[u]),Array.isArray(a[this.visibleTiles[u].remoteId])){const f=a[this.visibleTiles[u].remoteId];this.fetchedTiles[h].tileData=[...f],Object.keys(f).filter(g=>Number.isNaN(+g)).forEach(g=>{this.fetchedTiles[h].tileData[g]=f[g]})}else this.fetchedTiles[h].tileData={...a[this.visibleTiles[u].remoteId]};this.fetchedTiles[h].tileData.error&&console.warn("Error in loaded tile",h,this.fetchedTiles[h].tileData)}}for(const u in a)if(a[u]){const h=a[u].tilePositionId;this.fetching.has(h)&&this.fetching.delete(h)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||JSON.stringify(this.valueScale.domain())!==JSON.stringify(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){if(this.delayDrawing)return;this.tilesetInfo?this.trackNotFoundText.visible=!1:(this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text=`Tileset info not found. Server: [${this.server}] tilesetUid: [${this.tilesetUid}]`,[this.trackNotFoundText.x,this.trackNotFoundText.y]=this.position,this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});const a=Object.values(this.fetchedTiles).map(u=>u.tileData&&u.tileData.error&&`${u.tileId}: ${u.tileData.error}`).filter(u=>u);a.length?this.errorTextText=a.join(`
`):this.errorTextText="",i(D(r.prototype),"draw",this).call(this),Object.keys(this.fetchedTiles).forEach(u=>{this.drawTile(this.fetchedTiles[u])}),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let a=this.visibleAndFetchedIds();a.length===0&&(a=Object.keys(this.fetchedTiles));const u=[].concat(...a.filter(h=>this.fetchedTiles[h].tileData.dense).map(h=>Array.from(this.fetchedTiles[h].tileData.dense))).filter(h=>h>0);return this.medianVisibleValue=tD(u),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){return[].concat(...this.visibleAndFetchedIds().map(a=>Array.from(this.fetchedTiles[a].tileData.dense)))}},{key:"minVisibleValue",value:function(a=!1){return this.minVisibleValueInTiles(a)}},{key:"minVisibleValueInTiles",value:function(a=!1){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));let h=Math.min(...u.map(f=>this.fetchedTiles[f].tileData.minNonZero));return h===Number.MAX_SAFE_INTEGER&&(h=null),a?h:this.valueScaleMin!==null?this.valueScaleMin:h}},{key:"maxVisibleValue",value:function(a=!1){return this.maxVisibleValueInTiles(a)}},{key:"maxVisibleValueInTiles",value:function(a=!1){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));let h=Math.max(...u.map(f=>this.fetchedTiles[f].tileData.maxNonZero));return h===Number.MIN_SAFE_INTEGER&&(h=null),a?h:this.valueScaleMax!==null?this.valueScaleMax:h}},{key:"makeValueScale",value:function(a,u,h,f){let g=null,v=0,p=f;(p===null||typeof p>"u")&&(p=6);let E=Math.min(this.dimensions[1]-p,p),T=Math.max(this.dimensions[1]-p,p);if(this.dimensions[1]-p<p&&(E=this.dimensions[1]/2,T=this.dimensions[1]/2),this.options.valueScaling==="log")v=u,v||(v=a),g=Rf().domain([v,h+v]).range([E,T]);else if(this.options.valueScaling==="quantile"){const S=this.dimensions[1]-p,x=p,O=xD().domain(this.allVisibleValues()).range(Gs(S,x,(x-S)/256));return O.ticks=P=>Vd(S,x,P),[O,0]}else if(this.options.valueScaling==="setquantile"){const S=this.dimensions[1]-p,x=p,O=new Set(this.allVisibleValues()),P=xD().domain([...O]).range(Gs(S,x,(x-S)/256));return P.ticks=M=>Vd(S,x,M),[P,0]}else g=Rn().domain([a,h]).range([T,E]);return[g,v]}}]),r}(du);const ihe=200,Ny=10,qP=40,Cl=10,My=Cl,ahe=4,wC=1,Ly=4,ohe=5,h$e=256,ZP=Ny+qP+Cl+wC+My+Ly;let KP=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r);const h={...s};h.onValueScaleChanged=()=>{s.onValueScaleChanged(),u.drawColorbar()},u=t.call(this,h,a);const{pubSub:f,animate:g,svgElement:v,onTrackOptionsChanged:p,onMouseMoveZoom:E,isShowGlobalMousePosition:T,isValueScaleLocked:S}=s;return u.pubSub=f,u.is2d=!0,u.animate=g,u.uid=Yn.nice(),u.scaleBrush=Bg(),u.onTrackOptionsChanged=p,u.isShowGlobalMousePosition=T,u.isValueScaleLocked=S,u.pColorbarArea=new or.PIXI.Graphics,u.pMasked.addChild(u.pColorbarArea),u.pColorbar=new or.PIXI.Graphics,u.pColorbarArea.addChild(u.pColorbar),u.axis=new m6(b(u)),u.pColorbarArea.addChild(u.axis.pAxis),u.colorScale=Fc,a&&a.colorRange&&(u.colorScale=wp(a.colorRange)),u.gBase=Ut(v).append("g"),u.gMain=u.gBase.append("g"),u.gColorscaleBrush=u.gMain.append("g"),u.brushing=!1,u.prevOptions="",u.prevIndUpperLeftTile="",u.onMouseMoveZoom=E,u.setDataLensSize(11),u.dataLens=new Float32Array(u.dataLensSize**2),u.mouseMoveHandlerBound=u.mouseMoveHandler.bind(b(u)),u.onMouseMoveZoom&&u.pubSubs.push(u.pubSub.subscribe("app.mouseMove",u.mouseMoveHandlerBound)),u.options&&u.options.showMousePosition&&!u.hideMousePosition&&(u.hideMousePosition=Zg(b(u),u.is2d,u.isShowGlobalMousePosition())),u.prevOptions=JSON.stringify(a),u}return V(r,[{key:"mouseMoveHandler",value:function(a){this.isWithin(a.x,a.y)&&(this.mouseX=a.x,this.mouseY=a.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(a=this.mouseX,u=this.mouseY){if(typeof a>"u"||typeof u>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;const h=a-this.position[0],f=u-this.position[1];let g,v;try{v=this.getVisibleRectangleData(h-this.dataLensPadding,f-this.dataLensPadding,this.dataLensSize,this.dataLensSize),g=v.get(this.dataLensPadding,this.dataLensPadding)}catch{return}const p=this.dataLensSize;let E;try{E=_w(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch{return}if(!E)return;const T=Math.round(this._xScale.invert(h)),S=Math.round(this._yScale.invert(f));let x=[T,S],O=[Math.round(this._xScale.invert(h-this.dataLensPadding)),Math.round(this._xScale.invert(h+this.dataLensPadding))],P=[Math.round(this._yScale.invert(f-this.dataLensPadding)),Math.round(this._yScale.invert(f+this.dataLensPadding))];this.chromInfo&&(x=x.map(M=>ko(M,this.chromInfo).slice(0,2)),O=O.map(M=>ko(M,this.chromInfo).slice(0,2)),P=P.map(M=>ko(M,this.chromInfo).slice(0,2))),this.onMouseMoveZoom({trackId:this.id,data:g,absX:a,absY:u,relX:h,relY:f,dataX:T,dataY:S,orientation:"2d",dataLens:v,dim:p,toRgb:E,center:x,xRange:O,yRange:P,isGenomicCoords:!!this.chromInfo})}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(a,u,h){const{tileX:f,tileY:g,tileWidth:v,tileHeight:p}=this.getTilePosAndDimensions(a,u),E={};return E.width=this._refXScale(f+v)-this._refXScale(f),E.height=this._refYScale(g+p)-this._refYScale(g),h?(E.x=this._refXScale(g),E.y=this._refYScale(f)):(E.x=this._refXScale(f),E.y=this._refYScale(g)),E}},{key:"updateValueScale",value:function(){let a=this.minValue(),u=this.maxValue();const h=1e-6;a!=null&&u!==void 0&&u!==null&&Math.abs(a-u)<h&&(a=Math.max(h,a-.001),u+=.001);const[f,g]=c$e(this.options&&this.options.heatmapValueScaling||"log",a,this.medianVisibleValue,u,"log");return this.valueScale=g,this.limitedValueScale=this.valueScale.copy(),this.options&&typeof this.options.scaleStartPercent<"u"&&typeof this.options.scaleEndPercent<"u"&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[f,g]}},{key:"rerender",value:function(a,u){i(D(r.prototype),"rerender",this).call(this,a,u),this.updateValueScale();const h=JSON.stringify(a);this.drawColorbar(),!(!u&&h===this.prevOptions)&&(this.prevOptions=h,this.options=a,i(D(r.prototype),"rerender",this).call(this,a,u),this.calculateVisibleTiles(),a&&a.colorRange&&(this.colorScale=wp(a.colorRange)),this.visibleAndFetchedTiles().forEach(f=>this.renderTile(f)),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Zg(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=ZP:this.labelXOffset=0,i(D(r.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(a){const u=document.createElement("canvas");u.width=this.binsPerTile(),u.height=this.binsPerTile();const h=u.getContext("2d");h.fillStyle="transparent",h.fillRect(0,0,u.width,u.height);const f=new ImageData(a,u.width,u.height);return h.putImageData(f,0,0),u}},{key:"exportData",value:function(){if(this.tilesetInfo){const a=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),u={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:a.shape,data:PF(a)};Dp("data.json",JSON.stringify(u))}}},{key:"setSpriteProperties",value:function(a,u,h,f){const g=this.getAbsTileDim(u,h,f);a.width=g.width,a.height=g.height,a.x=g.x,a.y=g.y,f&&h[0]!==h[1]&&(a.rotation=-Math.PI/2,a.scale.x=Math.abs(a.scale.x)*-1)}},{key:"refXScale",value:function(a){i(D(r.prototype),"refXScale",this).call(this,a),this.draw()}},{key:"refYScale",value:function(a){i(D(r.prototype),"refYScale",this).call(this,a),this.draw()}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(a){const u=JSON.parse(JSON.stringify(this.options)),h=this.valueScale.copy().range([this.colorbarHeight,0]),f=h.invert(a[0]),v=(h.invert(a[1])-h.domain()[0])/(h.domain()[1]-h.domain()[0]),p=(f-h.domain()[0])/(h.domain()[1]-h.domain()[0]);return u.scaleStartPercent=v.toFixed(ohe),u.scaleEndPercent=p.toFixed(ohe),u}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(a){if(!a.selection)return;const u=this.newBrushOptions(a.selection),h=JSON.stringify(u);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",f=>f.type==="n"?a.selection[0]:a.selection[1]-ahe/2),h!==this.prevOptions&&(this.prevOptions=h,this.rerender(u,!0),this.onTrackOptionsChanged(u),this.isValueScaleLocked()&&this.onValueScaleChanged())}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.drawColorbar()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),!this.options||!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"){this.removeColorbar();return}if(this.pColorbarArea.visible=!0,!this.valueScale||Number.isNaN(+this.valueScale.domain()[0])||Number.isNaN(+this.valueScale.domain()[1]))return;const a=Math.min(this.dimensions[1]/2,ihe);if(this.colorbarHeight=a-2*Cl,this.colorbarHeight<0){this.removeColorbar();return}if(this.valueScale.domain()[1]===this.valueScale.domain()[0]){this.removeColorbar();return}const u=this.valueScale.copy().range([this.colorbarHeight,0]);this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.scaleBrush.extent([[Ly,0],[My,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[My-Ly,this.colorbarHeight]]),this.options.colorbarPosition==="topLeft"&&([this.pColorbarArea.x,this.pColorbarArea.y]=this.position,this.pColorbar.y=Cl,this.axis.pAxis.y=Cl,this.axis.pAxis.x=Ly+My+wC+Ny,this.pColorbar.x=Ly+My+wC,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+Ly},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="topRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-ZP,this.pColorbarArea.y=this.position[1],this.pColorbar.y=Cl,this.axis.pAxis.y=Cl,this.axis.pAxis.x=qP+Cl,this.pColorbar.x=qP+Cl,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+Ny+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-ZP,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-a,this.pColorbar.y=Cl,this.axis.pAxis.y=Cl,this.axis.pAxis.x=qP+Cl,this.pColorbar.x=qP+Cl,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+Ny+wC},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomLeft"&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-a,this.pColorbar.y=Cl,this.axis.pAxis.y=Cl,this.axis.pAxis.x=Ly+My+wC+Ny,this.pColorbar.x=Ly+My+wC,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.pColorbarArea.clear(),this.pColorbarArea.beginFill(Kr(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,ZP,a),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};const h=u.domain()[1]-u.domain()[0],f=u(this.options.scaleStartPercent*h+u.domain()[0]),g=u(this.options.scaleEndPercent*h+u.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",My).attr("height",ahe).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[g,f]));const v=Rn().domain([0,255]).range([0,this.colorbarHeight]);for(let p=0;p<this.colorbarHeight;p++){const E=this.limitedValueScale(u.invert(p)),T=Math.max(0,Math.min(254,Math.floor(E)));this.pColorbar.beginFill(Kr(`rgb(${this.colorScale[T][0]},${this.colorScale[T][1]},${this.colorScale[T][2]})`)),this.pColorbar.drawRect(0,p,Ny,1)}this.pAxis.position.x=Ny,this.pAxis.position.y=v(0),this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.axis.drawAxisRight(u,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&this.axis.drawAxisLeft(u,this.colorbarHeight)}},{key:"exportColorBarSVG",value:function(){const a=document.createElement("g");if(a.setAttribute("class","color-bar"),!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"||!this.valueScale)return a;a.setAttribute("transform",`translate(${this.pColorbarArea.x}, ${this.pColorbarArea.y})`);const u=document.createElement("rect");a.appendChild(u);const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.pColorbar.x}, ${this.pColorbar.y})`);const f=Math.min(this.dimensions[1]/2,ihe);this.colorbarHeight=f-2*Cl,u.setAttribute("x",0),u.setAttribute("y",0),u.setAttribute("width",ZP),u.setAttribute("height",f),u.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");const g=256,v=Rn().domain([0,g-1]).range([0,this.colorbarHeight]),p=this.colorbarHeight/g;for(let x=0;x<g;x++){const O=document.createElement("rect");h.appendChild(O),O.setAttribute("x",0),O.setAttribute("y",v(x)),O.setAttribute("width",Ny),O.setAttribute("height",p),O.setAttribute("class","color-rect");const P=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(x))))),M=this.colorScale[P];M?O.setAttribute("style",`fill: rgb(${M[0]}, ${M[1]}, ${M[2]})`):O.setAttribute("style","fill: rgb(255,255,255,0)")}const E=document.createElement("g");a.appendChild(E),E.setAttribute("transform",`translate(${this.axis.pAxis.position.x},${this.axis.pAxis.position.y})`);let T=null;const S=this.valueScale.copy().range([this.colorbarHeight,0]);return this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?T=this.axis.exportAxisRightSVG(S,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&(T=this.axis.exportAxisLeftSVG(S,this.colorbarHeight)),E.appendChild(T),a}},{key:"setDataLensSize",value:function(a){this.dataLensPadding=Math.max(0,Math.floor((a-1)/2)),this.dataLensSize=this.dataLensPadding*2+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||h$e}},{key:"getVisibleRectangleData",value:function(a,u,h,f){let g=this.calculateZoomLevel();g=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,g):g;const p=Lr.calculateTileWidth(this.tilesetInfo,g,this.binsPerTile())/this.binsPerTile(),E=[this._xScale.invert(a),this._xScale.invert(a+h)],T=[this._yScale.invert(u),this._yScale.invert(u+f)],S=[Math.max(E[0],this.tilesetInfo.min_pos[0]),Math.min(E[1],this.tilesetInfo.max_pos[0])],x=[Math.max(T[0],this.tilesetInfo.min_pos[1]),Math.min(T[1],this.tilesetInfo.max_pos[1])],O=Math.floor(S[0]/p),P=Math.floor(x[0]/p),M=Math.max(0,Math.ceil((S[1]-S[0])/p)),G=Math.max(0,Math.ceil((x[1]-x[0])/p)),B=sy(new Array(G*M).fill(NaN),[G,M]);return this.visibleAndFetchedTiles().forEach(U=>{const j=U.mirrored?[U.tileData.tilePos[1],U.tileData.tilePos[0]]:U.tileData.tilePos,{tileX:Z,tileY:ee,tileWidth:J,tileHeight:he}=this.getTilePosAndDimensions(U.tileData.zoomLevel,j,this.binsPerTile()),pe=Math.floor(Z/p),ae=Math.floor((Z+J)/p),ye=Math.floor(ee/p),Ee=Math.floor((ee+he)/p);let ue=Math.max(O,pe)-pe,be=Math.max(P,ye)-ye;const Me=Math.min(O+M,ae)-pe,Xe=Math.min(P+G,Ee)-ye,rt=Math.max(pe-O,0),st=Math.max(ye-P,0),mt=Me-ue,kt=Xe-be;if(!(mt<0||kt<0)){if(U.mirrored&&ue>be){const Le=ue;ue=be,be=Le}pR(B.hi(st+kt,rt+mt).lo(st,rt),U.dataArray.hi(be+kt,ue+mt).lo(be,ue))}}),B}},{key:"initTile",value:function(a){i(D(r.prototype),"initTile",this).call(this,a),a.tileData.dense.length===this.binsPerTile()**2&&(a.dataArray=sy(Array.from(a.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&a.tileData.tilePos[0]===a.tileData.tilePos[1]&&a.mirrored&&(a.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),i(D(r.prototype),"initTile",this).call(this,a))),!(this.scale.minValue===null||this.scale.maxValue===null)&&this.renderTile(a)}},{key:"updateTile",value:function(a){a.scale&&this.scale&&this.scale.minValue===a.scale.minValue&&this.scale.maxValue===a.scale.maxValue||(this.renderTile(a),this.drawColorbar())}},{key:"destroyTile",value:function(a){a.sprite.destroy(!0),a.canvas=null,a.sprite=null,a.texture=null}},{key:"pixDataFunction",value:function(a,u){if(u){const{graphics:h}=a,f=this.tileDataToCanvas(u.pixData);a.sprite&&a.sprite.destroy(!0);const g=or.PIXI.VERSION[0]==="4"?or.PIXI.Texture.fromCanvas(f,or.PIXI.SCALE_MODES.NEAREST):or.PIXI.Texture.from(f,{scaleMode:or.PIXI.SCALE_MODES.NEAREST}),v=new or.PIXI.Sprite(g);a.sprite=v,a.texture=g,a.canvas=f,this.setSpriteProperties(a.sprite,a.tileData.zoomLevel,a.tileData.tilePos,a.mirrored),h.removeChildren(),h.addChild(a.sprite)}this.renderingTiles.delete(a.tileId)}},{key:"renderTile",value:function(a){const[u]=this.updateValueScale(),h=0;if(this.renderingTiles.add(a.tileId),this.tilesetInfo.tile_size&&a.tileData.dense.length<this.tilesetInfo.tile_size){const f=new Float32Array(this.tilesetInfo.tile_size);f.fill(NaN),f.set(a.tileData.dense),a.tileData.dense=f}Lr.tileDataToPixData(a,u,this.limitedValueScale.domain(),h,this.colorScale,f=>this.pixDataFunction(a,f),this.mirrorTiles()&&!a.mirrored&&a.tileData.tilePos[0]===a.tileData.tilePos[1],this.options.extent==="upper-right"&&a.tileData.tilePos[0]===a.tileData.tilePos[1],this.options.zeroValueColor?tw(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,i(D(r.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(a,u){i(D(r.prototype),"refScalesChanged",this).call(this,a,u),b_(this.fetchedTiles).filter(h=>h.sprite).forEach(h=>this.setSpriteProperties(h.sprite,h.tileData.zoomLevel,h.tileData.tilePos,h.mirrored))}},{key:"superSVG",value:function(){return i(D(r.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const g of this.visibleAndFetchedTiles()){const v=g.sprite.rotation*180/Math.PI,p=document.createElement("g");p.setAttribute("transform",`translate(${g.sprite.x},${g.sprite.y}) rotate(${v}) scale(${g.sprite.scale.x},${g.sprite.scale.y})`);const E=document.createElement("image");E.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g.canvas.toDataURL()),E.setAttribute("width",g.canvas.width),E.setAttribute("height",g.canvas.height),E.setAttribute("style","image-rendering: pixelated"),p.appendChild(E),h.appendChild(p)}const f=this.exportColorBarSVG();return a.appendChild(f),[u,u]}},{key:"getVisiblePartOfUppLeftTile",value:function(){const a=this.visibleAndFetchedTiles().map(x=>{const O=x.mirrored?[x.tileData.tilePos[1],x.tileData.tilePos[0]]:x.tileData.tilePos;return[O[0],O[1],x.tileId]});if(a.length===0)return null;let u=a[0];for(let x=0;x<a.length;x++){const O=a[x];(O[0]<u[0]||O[1]<u[1])&&(u=O)}const h=Math.min(Bc,this.binsPerTile()),f=this.binsPerTile()/h,g=this.visibleAndFetchedTiles().filter(x=>x.tileId===u[2])[0],v=this.getIndicesOfVisibleDataInTile(g),p=v[0],E=v[1],T=p-p%f,S=E-E%f;return[g.tileId,T,S]}},{key:"getIndicesOfVisibleDataInTile",value:function(a){const u=this._xScale.range(),h=this._yScale.range(),f=a.mirrored?[a.tileData.tilePos[1],a.tileData.tilePos[0]]:a.tileData.tilePos,{tileX:g,tileY:v,tileWidth:p,tileHeight:E}=this.getTilePosAndDimensions(a.tileData.zoomLevel,f,this.binsPerTile()),T=Rn().domain([0,this.binsPerTile()]).range([g,g+p]),S=Math.max(0,Math.round(T.invert(this._xScale.invert(u[0])))-1),x=Math.min(this.binsPerTile(),Math.round(T.invert(this._xScale.invert(u[1])))),O=Rn().domain([0,this.binsPerTile()]).range([v,v+E]),P=Math.max(0,Math.round(O.invert(this._yScale.invert(h[0])))-1),M=Math.min(this.binsPerTile(),Math.round(O.invert(this._yScale.invert(h[1]))));return a.mirrored&&f[0]!==f[1]?[P,S,M,x]:[S,P,x,M]}},{key:"minVisibleValue",value:function(a=!1){const u=this.visibleAndFetchedTiles().map(f=>{if(f.tileData.denseDataExtrema===void 0)return null;const g=this.getIndicesOfVisibleDataInTile(f);return f.tileData.denseDataExtrema.getMinNonZeroInSubset(g)});if(u.length===0&&this.valueScaleMax===null)return null;const h=Math.min.apply(null,u);return h===Number.MAX_SAFE_INTEGER?i(D(r.prototype),"minVisibleValue",this).call(this,a):a?h:this.valueScaleMin!==null?this.valueScaleMin:h}},{key:"maxVisibleValue",value:function(a=!1){const u=this.visibleAndFetchedTiles().map(f=>{if(f.tileData.denseDataExtrema===void 0)return null;const g=this.getIndicesOfVisibleDataInTile(f);return f.tileData.denseDataExtrema.getMaxNonZeroInSubset(g)});if(u.length===0&&this.valueScaleMax===null)return null;const h=Math.max.apply(null,u);return h===Number.MIN_SAFE_INTEGER?i(D(r.prototype),"maxVisibleValue",this).call(this,a):a?h:this.valueScaleMax!==null?this.valueScaleMax:h}},{key:"zoomed",value:function(a,u,h,f,g){if(this.brushing)return;i(D(r.prototype),"zoomed",this).call(this,a,u),this.pMain.position.x=f,this.pMain.position.y=g,this.pMain.scale.x=h,this.pMain.scale.y=h;const v=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){const p=JSON.stringify(this.getVisiblePartOfUppLeftTile());if(this.valueScaleMin===null&&this.valueScaleMax===null&&!v&&p!==this.prevIndUpperLeftTile){const E=this.minVisibleValue(),T=this.maxVisibleValue(),S=1e-6;E!==null&&T!==null&&(Math.abs(this.minValue()-E)>S||Math.abs(this.maxValue()-T)>S)&&(this.minValue(E),this.maxValue(T),this.scheduleRerender()),this.prevIndUpperLeftTile=p}v&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}},{key:"addTileId",value:function(a,u,h,f,g,v=!1){const p=[u,h,f];p.mirrored=v,p.dataTransform=g,a.push(p)}},{key:"tilesToId",value:function(a,u,h){const f=a,g=u,v=this.options&&this.options.dataTransform||"default",p=[];for(let E=0;E<f.length;E++)for(let T=0;T<g.length;T++)this.mirrorTiles()?(f[E]>=g[T]?this.options.extent!=="lower-left"&&this.addTileId(p,h,g[T],f[E],v,!0):this.options.extent!=="upper-right"&&this.addTileId(p,h,f[E],g[T],v),f[E]===g[T]&&this.options.extent==="lower-left"&&this.addTileId(p,h,f[E],g[T],v)):this.addTileId(p,h,f[E],g[T],v);return p}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const a=this.tilesetInfo.resolutions.map(u=>+u).sort((u,h)=>h-u);this.xTiles=Lr.calculateTilesFromResolution(a[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=Lr.calculateTilesFromResolution(a[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Lr.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(this.tilesetInfo.mirror_tiles===!1||this.tilesetInfo.mirror_tiles==="false"))}},{key:"getMouseOverHtml",value:function(a,u){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";const h=Lr.calculateResolution(this.tilesetInfo,this.zoomLevel),f=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),g=Math.ceil(Math.log(f/h)/Math.log(10));this.setDataLensSize(1);const v=this._xScale.invert(a),p=this._yScale.invert(u);let E="<b>Position:</b> ";if(this.chromInfo){const S=ko(v,this.chromInfo),x=ko(p,this.chromInfo),O=P=>cl(`.${g}s`)(P);E+=`${S[0]}:${O(S[1])} & ${x[0]}:${O(x[1])}`,E+="<br/>"}let T=null;try{T=this.getVisibleRectangleData(a,u,1,1).get(0,0)}catch{return""}return this.options&&this.options.heatmapValueScaling==="log"?T>0?`${E}<b>Value:</b> 1e${cl(".3f")(Math.log(T)/Math.log(10))}`:T===0?`${E}<b>Value:</b> 0`:`${E}<b>Value:</b> N/A`:`${E}<b>Value:</b> ${cl(".3f")(T)}`}},{key:"getTilePosAndDimensions",value:function(a,u,h){const f=h||this.binsPerTile();if(this.tilesetInfo.resolutions){const M=this.tilesetInfo.resolutions.map(Z=>+Z).sort((Z,ee)=>ee-Z)[a],G=M*f,B=G,U=M*f*u[0],j=M*f*u[1];return{tileX:U,tileY:j,tileWidth:G,tileHeight:B}}const g=u[0],v=u[1],p=this.tilesetInfo.min_pos[0],E=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],T=this.tilesetInfo.max_width/2**a,S=this.tilesetInfo.max_width/2**a,x=p+g*T,O=E+v*S;return{tileX:x,tileY:O,tileWidth:T,tileHeight:S}}},{key:"calculateZoomLevel",value:function(){const a=this.tilesetInfo.min_pos[0],u=this.tilesetInfo.max_pos[0],h=this.tilesetInfo.min_pos[1],f=this.tilesetInfo.max_pos[1];let g=null;if(this.tilesetInfo.resolutions){const v=Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,a,u),p=Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,h,f);g=Math.min(v,p)}else{const v=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),p=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());g=Math.max(v,p),g=Math.min(g,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?g=Math.min(this.options.maxZoom,g):console.error("Invalid maxZoom on track:",this)),g}},{key:"tileToLocalId",value:function(a){return a.dataTransform&&a.dataTransform!=="default"?`${a.join(".")}.${a.mirrored}.${a.dataTransform}`:`${a.join(".")}.${a.mirrored}`}},{key:"tileToRemoteId",value:function(a){return a.dataTransform&&a.dataTransform!=="default"?`${a.join(".")}.${a.dataTransform}`:`${a.join(".")}`}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}}]),r}(Py);function she(e){if(!e.graphics)return;const t=e.graphics,{tileX:r,tileY:s,tileWidth:a}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos);e.drawnAtScale=this._xScale.copy();const u=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),h=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=u,e.text.scale.y=h;const f=this._xScale(a)-this._xScale(0);if(e.textGraphics.scale.x=f/256,e.textGraphics.scale.y=f/256,t.clear(),t.lineStyle(4*u,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){const g=this._refXScale(s+a)-this._refXScale(s),v=this._refYScale(r+a)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(s)+g/2,e.textGraphics.position.y=this._refYScale(r)+v/2,t.drawRect(this._refXScale(s),this._refYScale(r),g,v)}else{const g=this._refXScale(r+a)-this._refXScale(r),v=this._refYScale(s+a)-this._refYScale(s);e.textGraphics.position.x=this._refXScale(r)+g/2,e.textGraphics.position.y=this._refYScale(s)+v/2,t.drawRect(this._refXScale(r),this._refYScale(s),g,v)}}function lhe(e){const t=e.graphics;e.textGraphics=new or.PIXI.Graphics,e.mirrored?e.text=new or.PIXI.Text(`${e.tileData.zoomLevel}/${[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new or.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}let uhe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(a){lhe.bind(this)(a),this.drawTile(a)}},{key:"destroyTile",value:function(a,u){}},{key:"drawTile",value:function(a){she.bind(this)(a)}},{key:"fetchNewTiles",value:function(a){a.forEach(u=>{const f=u.remoteId.split("."),g={zoomLevel:f[0],tilePos:f.slice(1,f.length).map(v=>+v)};this.fetchedTiles[u.tileId]=u,this.fetchedTiles[u.tileId].tileData=g,this.fetching.has(u.remoteId)&&this.fetching.delete(u.remoteId)}),this.synchronizeTilesAndGraphics()}}]),r}(KP);const f$e=1024;let HW=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{onMouseMoveZoom:h,isValueScaleLocked:f,getLockGroupExtrema:g}=s;return u.onMouseMoveZoom=h,u.isValueScaleLocked=f,u.getLockGroupExtrema=g,u.onMouseMoveZoom&&u.pubSubs.push(u.pubSub.subscribe("app.mouseMove",u.mouseMoveHandler.bind(b(u)))),u}return V(r,[{key:"initTile",value:function(a){i(D(r.prototype),"initTile",this).call(this,a)}},{key:"tileToLocalId",value:function(a){return`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return`${a.join(".")}`}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u)})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const h=this.tilesetInfo.resolutions.map(v=>+v).sort((v,p)=>p-v),g=Lr.calculateTilesFromResolution(h[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map(v=>[this.zoomLevel,v]);this.setVisibleTiles(g);return}const u=Lr.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map(h=>[this.zoomLevel,h]);this.setVisibleTiles(u)}},{key:"getTilePosAndDimensions",value:function(a,u,h){const f=u[0],g=u[0];if(this.tilesetInfo.resolutions){const M=h||f$e,B=this.tilesetInfo.resolutions.map(J=>+J).sort((J,he)=>he-J)[a],U=B*M,j=U,Z=B*M*u[0],ee=B*M*u[1];return{tileX:Z,tileY:ee,tileWidth:U,tileHeight:j}}const v=this.tilesetInfo.max_width,p=this.tilesetInfo.max_width,E=this.tilesetInfo.min_pos[0],T=this.tilesetInfo.min_pos[1],S=v/2**a,x=p/2**a,O=E+f*S,P=T+g*x;return{tileX:O,tileY:P,tileWidth:S,tileHeight:x}}},{key:"updateTile",value:function(a){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(a){const u=this._xScale.range();if(!this.tilesetInfo)return[null,null];const{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),g=Rn().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([h,h+f]),v=Math.max(0,Math.round(g.invert(this._xScale.invert(u[0])))),p=Math.min(a.tileData.dense.length,Math.round(g.invert(this._xScale.invert(u[1]))));return[v,p]}},{key:"minVisibleValue",value:function(a=!1){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));const h=u.map(g=>this.fetchedTiles[g]).map(g=>{const v=this.getIndicesOfVisibleDataInTile(g);return g.tileData.denseDataExtrema.getMinNonZeroInSubset(v)}),f=Math.min(...h);return a?f:this.valueScaleMin!==null?this.valueScaleMin:f}},{key:"maxVisibleValue",value:function(a=!1){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));const h=u.map(g=>this.fetchedTiles[g]).map(g=>{const v=this.getIndicesOfVisibleDataInTile(g);return g.tileData.denseDataExtrema.getMaxNonZeroInSubset(v)}),f=Math.max(...h);return a?f:this.valueScaleMax!==null?this.valueScaleMax:f}},{key:"getAggregatedVisibleValue",value:function(a="max"){const u=a==="min"?Math.min:Math.max,h=a==="min"?1/0:-1/0;let f=this.visibleAndFetchedIds();f.length===0&&(f=Object.keys(this.fetchedTiles));const g=this._xScale.range();return f.map(v=>this.fetchedTiles[v]).map(v=>{if(!v.tileData.tilePos)return a==="min"?this.minVisibleValue():this.maxVisibleValue();const{tileX:p,tileWidth:E}=this.getTilePosAndDimensions(v.tileData.zoomLevel,v.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),T=Rn().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([p,p+E]),S=Math.max(0,Math.round(T.invert(this._xScale.invert(g[0])))),x=Math.min(v.tileData.dense.length,Math.round(T.invert(this._xScale.invert(g[1]))));return v.tileData.dense.slice(S,x)}).reduce((v,p)=>u(v,...p),h)}},{key:"getDataAtPos",value:function(a){let u;if(!this.tilesetInfo)return u;const h=this.calculateZoomLevel(),f=Lr.calculateTileWidth(this.tilesetInfo,h,this.tilesetInfo.tile_size),g=this._xScale.invert(a)/f,v=this.tileToLocalId([h,Math.floor(g)]),p=this.fetchedTiles[v];if(!p)return u;const E=this.tilesetInfo.tile_size*(g-Math.floor(g));return p.tileData.dense?p.tileData.dense[Math.floor(E)]:null}},{key:"mouseMoveHandler",value:function({x:a,y:u}={}){this.isWithin(a,u)&&(this.mouseX=a,this.mouseY=u,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(...a){i(D(r.prototype),"zoomed",this).call(this,...a),this.mouseMoveZoomHandler()}}]),r}(Py),CC=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{animate:h,isShowGlobalMousePosition:f}=s;return u.constIndicator=new or.PIXI.Graphics,u.pMain.addChild(u.constIndicator),u.axis=new m6(b(u)),u.pBase.addChild(u.axis.pAxis),u.animate=h,u.options=a,u.isShowGlobalMousePosition=f,u.pubSubs=[],u.options.showMousePosition&&!u.hideMousePosition&&(u.hideMousePosition=Zg(b(u),u.is2d,u.isShowGlobalMousePosition())),u}return V(r,[{key:"rerender",value:function(a,u){const h=JSON.stringify(a);!u&&h===this.prevOptions||(i(D(r.prototype),"rerender",this).call(this,a,u),this.prevOptions=h,this.options=a,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Zg(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size);let u=Math.min(a,this.maxZoom);return u=Math.max(u,0),u}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(a){if(!this.options.axisPositionVertical&&!this.options.axisPositionHorizontal){this.axis.clearAxis();return}if(this.options.axisPositionVertical&&this.options.axisPositionVertical==="hidden"){this.axis.clearAxis();return}if(this.options.axisPositionHorizontal&&this.options.axisPositionHorizontal==="hidden"){this.axis.clearAxis();return}const u=this.options.axisMargin||0;this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"?(this.axis.pAxis.position.x=this.position[0]+u,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(a,this.dimensions[1])):this.options.axisPositionHorizontal==="outsideLeft"||this.options.axisPositionVertical==="outsideTop"?(this.axis.pAxis.position.x=this.position[0]+u,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(a,this.dimensions[1])):this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-u,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(a,this.dimensions[1])):(this.options.axisPositionHorizontal==="outsideRight"||this.options.axisPositionVertical==="outsideBottom")&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-u,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(a,this.dimensions[1]))}},{key:"mouseMoveZoomHandler",value:function(a=this.mouseX,u=this.mouseY){if(typeof a>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;let h=0,f=0,g="1d-horizontal";this.isLeftModified?(h=u-this.position[1],f=a-this.position[0],g="1d-vertical"):(h=a-this.position[0],f=u-this.position[1]);const v=a-this.position[0],p=u-this.position[1],E=this._xScale.invert(h),T=this._yScale.invert(f),S=this.getDataAtPos(h);S&&this.onMouseMoveZoom({trackId:this.id,data:S,absX:a,absY:u,relX:v,relY:p,dataX:E,dataY:T,orientation:g})}},{key:"drawConstIndicator",value:function(){if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach(({color:a="black",opacity:u=1,label:h=null,labelColor:f="black",labelOpacity:g=1,labelPosition:v="leftTop",labelSize:p=12,value:E=0}={})=>{const T=Kr(a),S=Kr(f);this.constIndicator.beginFill(T,u);const x=this.valueScale(E);let O=0,P=0;if(h){const M=new or.PIXI.Text(h,{fontFamily:"Arial",fontSize:p,fill:S});switch(M.alpha=g,v){case"right":M.anchor.x=1,M.anchor.y=.5,M.x=this.position[0]+this.dimensions[0]-6,M.y=x,P=M.width+8;break;case"rightBottom":M.anchor.x=1,M.anchor.y=0,M.x=this.position[0]+this.dimensions[0]-6,M.y=x;break;case"rightTop":M.anchor.x=1,M.anchor.y=1,M.x=this.position[0]+this.dimensions[0]-6,M.y=x;break;case"left":M.anchor.x=0,M.anchor.y=.5,M.x=this.position[0]+2,M.y=x,O=M.width+4;break;case"leftBottom":M.anchor.x=0,M.anchor.y=0,M.x=this.position[0]+2,M.y=x;break;case"leftTop":default:M.anchor.x=0,M.anchor.y=1,M.x=this.position[0]+2,M.y=x;break}this.constIndicator.addChild(M)}this.constIndicator.drawRect(this.position[0]+O,x,this.dimensions[0]-P,1)})}}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u),u.setAttribute("class","horizontal-tiled-1d-track");const h=document.createElement("g");return a.appendChild(h),this.options.constIndicators&&this.options.constIndicators.forEach(({color:f="black",opacity:g=1,label:v=null,labelColor:p="black",labelOpacity:E=1,labelPosition:T="leftTop",labelSize:S=12,value:x=0}={})=>{const O=this.valueScale(x);if(v){const M=document.createElement("text");switch(M.textContent=v,M.setAttribute("x",this.position[0]),M.setAttribute("y",O),M.setAttribute("style",`font-family: 'Arial'; font-size: ${S}px; fill: ${p}; fill-opacity: ${E};`),T){case"rightBottom":M.setAttribute("x",this.position[0]+this.dimensions[0]-6),M.setAttribute("y",O+S+2),M.setAttribute("text-anchor","end");break;case"right":case"rightTop":M.setAttribute("x",this.position[0]+this.dimensions[0]-6),M.setAttribute("y",O-2),M.setAttribute("text-anchor","end");break;case"leftBottom":M.setAttribute("x",this.position[0]+2),M.setAttribute("y",O+S+2);break;case"left":case"leftTop":default:M.setAttribute("x",this.position[0]+2),M.setAttribute("y",O-2);break}h.appendChild(M)}const P=document.createElement("line");P.setAttribute("x1",this.position[0]),P.setAttribute("y1",O),P.setAttribute("x2",this.dimensions[0]),P.setAttribute("y2",O),P.setAttribute("stroke",f),P.setAttribute("stroke-opacity",g),h.appendChild(P)}),[u,a]}}]),r}(HW),che=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.pMain=u.pMobile,u}return V(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(a){const u=a.graphics;a.textGraphics=new or.PIXI.Graphics,a.text=new or.PIXI.Text(`${a.tileData.zoomLevel}/${a.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),a.textGraphics.addChild(a.text),a.text.anchor.x=.5,a.text.anchor.y=.5,u.addChild(a.textGraphics),this.drawTile(a)}},{key:"destroyTile",value:function(a){}},{key:"drawTile",value:function(a){if(i(D(r.prototype),"drawTile",this).call(this,a),!a.graphics)return;const u=a.graphics,{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos),g=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));a.text.scale.x=g,u.clear();const v=this.dimensions[1],p=this._refXScale(h+f)-this._refXScale(h);a.textGraphics.position.x=this._refXScale(h)+p/2,a.textGraphics.position.y=v/2;const E=this._refXScale(h);u.lineStyle(4*g,255,1),u.beginFill(16740363,.4),u.alpha=.5,u.moveTo(E,0),u.lineTo(E,v),u.moveTo(E+p,0),u.lineTo(E+p,v),u.lineStyle(0,255,1),u.drawRect(E,0,p,v)}}]),r}(CC),hhe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(a,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(a,u){i(D(r.prototype),"zoomed",this).call(this,a,u);const h=1,f=(u(1)-u(0))/(this._refYScale(1)-this._refYScale(0)),g=this.position[0],v=u(0)+this.position[1]-this._refYScale(1)*f;this.pMain.position.x=g,this.pMain.position.y=v,this.pMain.scale.x=h,this.pMain.scale.y=f}}]),r}(HW),fhe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(a){const u=a.graphics;a.textGraphics=new or.PIXI.Graphics,a.text=new or.PIXI.Text(`${a.tileData.zoomLevel}/${a.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),a.textGraphics.addChild(a.text),a.text.anchor.x=.5,a.text.anchor.y=.5,a.text.rotation=-Math.PI/2,u.addChild(a.textGraphics),this.drawTile(a,u)}},{key:"destroyTile",value:function(a,u){}},{key:"drawTile",value:function(a){if(i(D(r.prototype),"drawTile",this).call(this,a),!a.graphics)return;const u=a.graphics,{tileY:h,tileHeight:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos),g=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));a.text.scale.x=g,u.clear(),u.lineStyle(4*g,255,1),u.beginFill(16740363,.4),u.alpha=.5;const v=this.dimensions[0],p=this._refYScale(h+f)-this._refYScale(h);a.textGraphics.position.x=v/2,a.textGraphics.position.y=this._refYScale(h)+p/2,u.drawRect(0,this._refYScale(h),v,p)}},{key:"fetchNewTiles",value:function(a){a.forEach(u=>{const f=u.remoteId.split("."),g={zoomLevel:f[1],tilePos:f.slice(2,f.length).map(v=>+v)};this.fetchedTiles[u.tileId]=u,this.fetchedTiles[u.tileId].tileData=g,this.fetching.has(u.remoteId)&&this.fetching.delete(u.remoteId)}),this.synchronizeTilesAndGraphics()}}]),r}(hhe);var UW=Array.prototype.slice;function d$e(e){return e}var F6=1,B6=2,GW=3,QP=4,dhe=1e-6;function p$e(e){return"translate("+e+",0)"}function m$e(e){return"translate(0,"+e+")"}function g$e(e){return t=>+e(t)}function v$e(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function y$e(){return!this.__axis}function H6(e,t){var r=[],s=null,a=null,u=6,h=6,f=3,g=typeof window<"u"&&window.devicePixelRatio>1?0:.5,v=e===F6||e===QP?-1:1,p=e===QP||e===B6?"x":"y",E=e===F6||e===GW?p$e:m$e;function T(S){var x=s??(t.ticks?t.ticks.apply(t,r):t.domain()),O=a??(t.tickFormat?t.tickFormat.apply(t,r):d$e),P=Math.max(u,0)+f,M=t.range(),G=+M[0]+g,B=+M[M.length-1]+g,U=(t.bandwidth?v$e:g$e)(t.copy(),g),j=S.selection?S.selection():S,Z=j.selectAll(".domain").data([null]),ee=j.selectAll(".tick").data(x,t).order(),J=ee.exit(),he=ee.enter().append("g").attr("class","tick"),pe=ee.select("line"),ae=ee.select("text");Z=Z.merge(Z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ee=ee.merge(he),pe=pe.merge(he.append("line").attr("stroke","currentColor").attr(p+"2",v*u)),ae=ae.merge(he.append("text").attr("fill","currentColor").attr(p,v*P).attr("dy",e===F6?"0em":e===GW?"0.71em":"0.32em")),S!==j&&(Z=Z.transition(S),ee=ee.transition(S),pe=pe.transition(S),ae=ae.transition(S),J=J.transition(S).attr("opacity",dhe).attr("transform",function(ye){return isFinite(ye=U(ye))?E(ye+g):this.getAttribute("transform")}),he.attr("opacity",dhe).attr("transform",function(ye){var Ee=this.parentNode.__axis;return E((Ee&&isFinite(Ee=Ee(ye))?Ee:U(ye))+g)})),J.remove(),Z.attr("d",e===QP||e===B6?h?"M"+v*h+","+G+"H"+g+"V"+B+"H"+v*h:"M"+g+","+G+"V"+B:h?"M"+G+","+v*h+"V"+g+"H"+B+"V"+v*h:"M"+G+","+g+"H"+B),ee.attr("opacity",1).attr("transform",function(ye){return E(U(ye)+g)}),pe.attr(p+"2",v*u),ae.attr(p,v*P).text(O),j.filter(y$e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===B6?"start":e===QP?"end":"middle"),j.each(function(){this.__axis=U})}return T.scale=function(S){return arguments.length?(t=S,T):t},T.ticks=function(){return r=UW.call(arguments),T},T.tickArguments=function(S){return arguments.length?(r=S==null?[]:UW.call(S),T):r.slice()},T.tickValues=function(S){return arguments.length?(s=S==null?null:UW.call(S),T):s&&s.slice()},T.tickFormat=function(S){return arguments.length?(a=S,T):a},T.tickSize=function(S){return arguments.length?(u=h=+S,T):u},T.tickSizeInner=function(S){return arguments.length?(u=+S,T):u},T.tickSizeOuter=function(S){return arguments.length?(h=+S,T):h},T.tickPadding=function(S){return arguments.length?(f=+S,T):f},T.offset=function(S){return arguments.length?(g=+S,T):g},T}function phe(e){return H6(F6,e)}function b$e(e){return H6(B6,e)}function _$e(e){return H6(GW,e)}function mhe(e){return H6(QP,e)}const T$e=Object.freeze(Object.defineProperty({__proto__:null,axisTop:phe,axisRight:b$e,axisBottom:_$e,axisLeft:mhe},Symbol.toStringTag,{value:"Module"}));let Fy=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{svgElement:h}=s;return u.gMain=Ut(h).append("g"),u.clipUid=Yn.nice(),u.clipRect=u.gMain.append("clipPath").attr("id",`track-bounds-${u.clipUid}`).append("rect"),u.gMain.attr("clip-path",`url(#track-bounds-${u.clipUid})`),u}return V(r,[{key:"setPosition",value:function(a){this.position=a,this.gMain.attr("transform",`translate(${this.position[0]},${this.position[1]})`),this.draw()}},{key:"setDimensions",value:function(a){this.dimensions=a,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),a[0]>=0&&a[1]>=0?(this.clipRect.attr("width",a[0]),this.clipRect.attr("height",a[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),r}(mC),ghe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.axis=phe(u._xScale),u.gAxis=u.gMain.append("g"),u.tilesetInfo=!0,u}return V(r,[{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform",`translate(0,${a[1]})`)}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(a,u){i(D(r.prototype),"zoomed",this).call(this,a,u),this.draw()}}]),r}(Fy),vhe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.axis=mhe(u._yScale),u.gAxis=u.gMain.append("g"),u.tilesetInfo=!0,u}return V(r,[{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform",`translate(${a[0]},0)`)}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(a,u){i(D(r.prototype),"zoomed",this).call(this,a,u),this.draw()}}]),r}(Fy);var ii={},Ka={},$W=32;Ka.INT_BITS=$W,Ka.INT_MAX=2147483647,Ka.INT_MIN=-1<<$W-1,Ka.sign=function(e){return(e>0)-(e<0)},Ka.abs=function(e){var t=e>>$W-1;return(e^t)-t},Ka.min=function(e,t){return t^(e^t)&-(e<t)},Ka.max=function(e,t){return e^(e^t)&-(e<t)},Ka.isPow2=function(e){return!(e&e-1)&&!!e},Ka.log2=function(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,t|=r,t|e>>1},Ka.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},Ka.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function yhe(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}Ka.countTrailingZeros=yhe,Ka.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},Ka.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},Ka.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var JP=new Array(256);(function(e){for(var t=0;t<256;++t){var r=t,s=t,a=7;for(r>>>=1;r;r>>>=1)s<<=1,s|=r&1,--a;e[t]=s<<a&255}})(JP),Ka.reverse=function(e){return JP[e&255]<<24|JP[e>>>8&255]<<16|JP[e>>>16&255]<<8|JP[e>>>24&255]},Ka.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},Ka.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},Ka.interleave3=function(e,t,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2},Ka.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},Ka.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>yhe(e)+1};function bhe(e,t,r){var s=e[r]|0;if(s<=0)return[];var a=new Array(s),u;if(r===e.length-1)for(u=0;u<s;++u)a[u]=t;else for(u=0;u<s;++u)a[u]=bhe(e,t,r+1);return a}function E$e(e,t){var r,s;for(r=new Array(e),s=0;s<e;++s)r[s]=t;return r}function S$e(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return E$e(e|0,t);break;case"object":if(typeof e.length=="number")return bhe(e,t,0);break}return[]}var A$e=S$e,_he={},U6={};U6.byteLength=x$e,U6.toByteArray=D$e,U6.fromByteArray=R$e;for(var im=[],jh=[],w$e=typeof Uint8Array<"u"?Uint8Array:Array,zW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xC=0,C$e=zW.length;xC<C$e;++xC)im[xC]=zW[xC],jh[zW.charCodeAt(xC)]=xC;jh["-".charCodeAt(0)]=62,jh["_".charCodeAt(0)]=63;function The(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function x$e(e){var t=The(e),r=t[0],s=t[1];return(r+s)*3/4-s}function I$e(e,t,r){return(t+r)*3/4-r}function D$e(e){var t,r=The(e),s=r[0],a=r[1],u=new w$e(I$e(e,s,a)),h=0,f=a>0?s-4:s,g;for(g=0;g<f;g+=4)t=jh[e.charCodeAt(g)]<<18|jh[e.charCodeAt(g+1)]<<12|jh[e.charCodeAt(g+2)]<<6|jh[e.charCodeAt(g+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=t&255;return a===2&&(t=jh[e.charCodeAt(g)]<<2|jh[e.charCodeAt(g+1)]>>4,u[h++]=t&255),a===1&&(t=jh[e.charCodeAt(g)]<<10|jh[e.charCodeAt(g+1)]<<4|jh[e.charCodeAt(g+2)]>>2,u[h++]=t>>8&255,u[h++]=t&255),u}function O$e(e){return im[e>>18&63]+im[e>>12&63]+im[e>>6&63]+im[e&63]}function k$e(e,t,r){for(var s,a=[],u=t;u<r;u+=3)s=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(e[u+2]&255),a.push(O$e(s));return a.join("")}function R$e(e){for(var t,r=e.length,s=r%3,a=[],u=16383,h=0,f=r-s;h<f;h+=u)a.push(k$e(e,h,h+u>f?f:h+u));return s===1?(t=e[r-1],a.push(im[t>>2]+im[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],a.push(im[t>>10]+im[t>>4&63]+im[t<<2&63]+"=")),a.join("")}var VW={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */VW.read=function(e,t,r,s,a){var u,h,f=a*8-s-1,g=(1<<f)-1,v=g>>1,p=-7,E=r?a-1:0,T=r?-1:1,S=e[t+E];for(E+=T,u=S&(1<<-p)-1,S>>=-p,p+=f;p>0;u=u*256+e[t+E],E+=T,p-=8);for(h=u&(1<<-p)-1,u>>=-p,p+=s;p>0;h=h*256+e[t+E],E+=T,p-=8);if(u===0)u=1-v;else{if(u===g)return h?NaN:(S?-1:1)*(1/0);h=h+Math.pow(2,s),u=u-v}return(S?-1:1)*h*Math.pow(2,u-s)},VW.write=function(e,t,r,s,a,u){var h,f,g,v=u*8-a-1,p=(1<<v)-1,E=p>>1,T=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=s?0:u-1,x=s?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,h=p):(h=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-h))<1&&(h--,g*=2),h+E>=1?t+=T/g:t+=T*Math.pow(2,1-E),t*g>=2&&(h++,g/=2),h+E>=p?(f=0,h=p):h+E>=1?(f=(t*g-1)*Math.pow(2,a),h=h+E):(f=t*Math.pow(2,E-1)*Math.pow(2,a),h=0));a>=8;e[r+S]=f&255,S+=x,f/=256,a-=8);for(h=h<<a|f,v+=a;v>0;e[r+S]=h&255,S+=x,h/=256,v-=8);e[r+S-x]|=O*128};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/(function(e){const t=U6,r=VW,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const ne=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ne,X),ne.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(ne){if(ne>a)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const X=new Uint8Array(ne);return Object.setPrototypeOf(X,f.prototype),X}function f(ne,X,Q){if(typeof ne=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(ne)}return g(ne,X,Q)}f.poolSize=8192;function g(ne,X,Q){if(typeof ne=="string")return T(ne,X);if(ArrayBuffer.isView(ne))return x(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(kn(ne,ArrayBuffer)||ne&&kn(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(kn(ne,SharedArrayBuffer)||ne&&kn(ne.buffer,SharedArrayBuffer)))return O(ne,X,Q);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _e=ne.valueOf&&ne.valueOf();if(_e!=null&&_e!==ne)return f.from(_e,X,Q);const ze=P(ne);if(ze)return ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return f.from(ne[Symbol.toPrimitive]("string"),X,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}f.from=function(ne,X,Q){return g(ne,X,Q)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function v(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function p(ne,X,Q){return v(ne),ne<=0?h(ne):X!==void 0?typeof Q=="string"?h(ne).fill(X,Q):h(ne).fill(X):h(ne)}f.alloc=function(ne,X,Q){return p(ne,X,Q)};function E(ne){return v(ne),h(ne<0?0:M(ne)|0)}f.allocUnsafe=function(ne){return E(ne)},f.allocUnsafeSlow=function(ne){return E(ne)};function T(ne,X){if((typeof X!="string"||X==="")&&(X="utf8"),!f.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Q=B(ne,X)|0;let _e=h(Q);const ze=_e.write(ne,X);return ze!==Q&&(_e=_e.slice(0,ze)),_e}function S(ne){const X=ne.length<0?0:M(ne.length)|0,Q=h(X);for(let _e=0;_e<X;_e+=1)Q[_e]=ne[_e]&255;return Q}function x(ne){if(kn(ne,Uint8Array)){const X=new Uint8Array(ne);return O(X.buffer,X.byteOffset,X.byteLength)}return S(ne)}function O(ne,X,Q){if(X<0||ne.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<X+(Q||0))throw new RangeError('"length" is outside of buffer bounds');let _e;return X===void 0&&Q===void 0?_e=new Uint8Array(ne):Q===void 0?_e=new Uint8Array(ne,X):_e=new Uint8Array(ne,X,Q),Object.setPrototypeOf(_e,f.prototype),_e}function P(ne){if(f.isBuffer(ne)){const X=M(ne.length)|0,Q=h(X);return Q.length===0||ne.copy(Q,0,0,X),Q}if(ne.length!==void 0)return typeof ne.length!="number"||Ht(ne.length)?h(0):S(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return S(ne.data)}function M(ne){if(ne>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ne|0}function G(ne){return+ne!=ne&&(ne=0),f.alloc(+ne)}f.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==f.prototype},f.compare=function(X,Q){if(kn(X,Uint8Array)&&(X=f.from(X,X.offset,X.byteLength)),kn(Q,Uint8Array)&&(Q=f.from(Q,Q.offset,Q.byteLength)),!f.isBuffer(X)||!f.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Q)return 0;let _e=X.length,ze=Q.length;for(let tt=0,yt=Math.min(_e,ze);tt<yt;++tt)if(X[tt]!==Q[tt]){_e=X[tt],ze=Q[tt];break}return _e<ze?-1:ze<_e?1:0},f.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(X,Q){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return f.alloc(0);let _e;if(Q===void 0)for(Q=0,_e=0;_e<X.length;++_e)Q+=X[_e].length;const ze=f.allocUnsafe(Q);let tt=0;for(_e=0;_e<X.length;++_e){let yt=X[_e];if(kn(yt,Uint8Array))tt+yt.length>ze.length?(f.isBuffer(yt)||(yt=f.from(yt)),yt.copy(ze,tt)):Uint8Array.prototype.set.call(ze,yt,tt);else if(f.isBuffer(yt))yt.copy(ze,tt);else throw new TypeError('"list" argument must be an Array of Buffers');tt+=yt.length}return ze};function B(ne,X){if(f.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||kn(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const Q=ne.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&Q===0)return 0;let ze=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return Ur(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q*2;case"hex":return Q>>>1;case"base64":return ci(ne).length;default:if(ze)return _e?-1:Ur(ne).length;X=(""+X).toLowerCase(),ze=!0}}f.byteLength=B;function U(ne,X,Q){let _e=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0,X>>>=0,Q<=X))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return st(this,X,Q);case"utf8":case"utf-8":return ue(this,X,Q);case"ascii":return Xe(this,X,Q);case"latin1":case"binary":return rt(this,X,Q);case"base64":return Ee(this,X,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,X,Q);default:if(_e)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),_e=!0}}f.prototype._isBuffer=!0;function j(ne,X,Q){const _e=ne[X];ne[X]=ne[Q],ne[Q]=_e}f.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Q=0;Q<X;Q+=2)j(this,Q,Q+1);return this},f.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Q=0;Q<X;Q+=4)j(this,Q,Q+3),j(this,Q+1,Q+2);return this},f.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Q=0;Q<X;Q+=8)j(this,Q,Q+7),j(this,Q+1,Q+6),j(this,Q+2,Q+5),j(this,Q+3,Q+4);return this},f.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?ue(this,0,X):U.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(X){if(!f.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:f.compare(this,X)===0},f.prototype.inspect=function(){let X="";const Q=e.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(X+=" ... "),"<Buffer "+X+">"},s&&(f.prototype[s]=f.prototype.inspect),f.prototype.compare=function(X,Q,_e,ze,tt){if(kn(X,Uint8Array)&&(X=f.from(X,X.offset,X.byteLength)),!f.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Q===void 0&&(Q=0),_e===void 0&&(_e=X?X.length:0),ze===void 0&&(ze=0),tt===void 0&&(tt=this.length),Q<0||_e>X.length||ze<0||tt>this.length)throw new RangeError("out of range index");if(ze>=tt&&Q>=_e)return 0;if(ze>=tt)return-1;if(Q>=_e)return 1;if(Q>>>=0,_e>>>=0,ze>>>=0,tt>>>=0,this===X)return 0;let yt=tt-ze,_r=_e-Q;const Mr=Math.min(yt,_r),qr=this.slice(ze,tt),jr=X.slice(Q,_e);for(let on=0;on<Mr;++on)if(qr[on]!==jr[on]){yt=qr[on],_r=jr[on];break}return yt<_r?-1:_r<yt?1:0};function Z(ne,X,Q,_e,ze){if(ne.length===0)return-1;if(typeof Q=="string"?(_e=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,Ht(Q)&&(Q=ze?0:ne.length-1),Q<0&&(Q=ne.length+Q),Q>=ne.length){if(ze)return-1;Q=ne.length-1}else if(Q<0)if(ze)Q=0;else return-1;if(typeof X=="string"&&(X=f.from(X,_e)),f.isBuffer(X))return X.length===0?-1:ee(ne,X,Q,_e,ze);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?ze?Uint8Array.prototype.indexOf.call(ne,X,Q):Uint8Array.prototype.lastIndexOf.call(ne,X,Q):ee(ne,[X],Q,_e,ze);throw new TypeError("val must be string, number or Buffer")}function ee(ne,X,Q,_e,ze){let tt=1,yt=ne.length,_r=X.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(ne.length<2||X.length<2)return-1;tt=2,yt/=2,_r/=2,Q/=2}function Mr(jr,on){return tt===1?jr[on]:jr.readUInt16BE(on*tt)}let qr;if(ze){let jr=-1;for(qr=Q;qr<yt;qr++)if(Mr(ne,qr)===Mr(X,jr===-1?0:qr-jr)){if(jr===-1&&(jr=qr),qr-jr+1===_r)return jr*tt}else jr!==-1&&(qr-=qr-jr),jr=-1}else for(Q+_r>yt&&(Q=yt-_r),qr=Q;qr>=0;qr--){let jr=!0;for(let on=0;on<_r;on++)if(Mr(ne,qr+on)!==Mr(X,on)){jr=!1;break}if(jr)return qr}return-1}f.prototype.includes=function(X,Q,_e){return this.indexOf(X,Q,_e)!==-1},f.prototype.indexOf=function(X,Q,_e){return Z(this,X,Q,_e,!0)},f.prototype.lastIndexOf=function(X,Q,_e){return Z(this,X,Q,_e,!1)};function J(ne,X,Q,_e){Q=Number(Q)||0;const ze=ne.length-Q;_e?(_e=Number(_e),_e>ze&&(_e=ze)):_e=ze;const tt=X.length;_e>tt/2&&(_e=tt/2);let yt;for(yt=0;yt<_e;++yt){const _r=parseInt(X.substr(yt*2,2),16);if(Ht(_r))return yt;ne[Q+yt]=_r}return yt}function he(ne,X,Q,_e){return Ja(Ur(X,ne.length-Q),ne,Q,_e)}function pe(ne,X,Q,_e){return Ja(Bn(X),ne,Q,_e)}function ae(ne,X,Q,_e){return Ja(ci(X),ne,Q,_e)}function ye(ne,X,Q,_e){return Ja(Mn(X,ne.length-Q),ne,Q,_e)}f.prototype.write=function(X,Q,_e,ze){if(Q===void 0)ze="utf8",_e=this.length,Q=0;else if(_e===void 0&&typeof Q=="string")ze=Q,_e=this.length,Q=0;else if(isFinite(Q))Q=Q>>>0,isFinite(_e)?(_e=_e>>>0,ze===void 0&&(ze="utf8")):(ze=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const tt=this.length-Q;if((_e===void 0||_e>tt)&&(_e=tt),X.length>0&&(_e<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ze||(ze="utf8");let yt=!1;for(;;)switch(ze){case"hex":return J(this,X,Q,_e);case"utf8":case"utf-8":return he(this,X,Q,_e);case"ascii":case"latin1":case"binary":return pe(this,X,Q,_e);case"base64":return ae(this,X,Q,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,X,Q,_e);default:if(yt)throw new TypeError("Unknown encoding: "+ze);ze=(""+ze).toLowerCase(),yt=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(ne,X,Q){return X===0&&Q===ne.length?t.fromByteArray(ne):t.fromByteArray(ne.slice(X,Q))}function ue(ne,X,Q){Q=Math.min(ne.length,Q);const _e=[];let ze=X;for(;ze<Q;){const tt=ne[ze];let yt=null,_r=tt>239?4:tt>223?3:tt>191?2:1;if(ze+_r<=Q){let Mr,qr,jr,on;switch(_r){case 1:tt<128&&(yt=tt);break;case 2:Mr=ne[ze+1],(Mr&192)===128&&(on=(tt&31)<<6|Mr&63,on>127&&(yt=on));break;case 3:Mr=ne[ze+1],qr=ne[ze+2],(Mr&192)===128&&(qr&192)===128&&(on=(tt&15)<<12|(Mr&63)<<6|qr&63,on>2047&&(on<55296||on>57343)&&(yt=on));break;case 4:Mr=ne[ze+1],qr=ne[ze+2],jr=ne[ze+3],(Mr&192)===128&&(qr&192)===128&&(jr&192)===128&&(on=(tt&15)<<18|(Mr&63)<<12|(qr&63)<<6|jr&63,on>65535&&on<1114112&&(yt=on))}}yt===null?(yt=65533,_r=1):yt>65535&&(yt-=65536,_e.push(yt>>>10&1023|55296),yt=56320|yt&1023),_e.push(yt),ze+=_r}return Me(_e)}const be=4096;function Me(ne){const X=ne.length;if(X<=be)return String.fromCharCode.apply(String,ne);let Q="",_e=0;for(;_e<X;)Q+=String.fromCharCode.apply(String,ne.slice(_e,_e+=be));return Q}function Xe(ne,X,Q){let _e="";Q=Math.min(ne.length,Q);for(let ze=X;ze<Q;++ze)_e+=String.fromCharCode(ne[ze]&127);return _e}function rt(ne,X,Q){let _e="";Q=Math.min(ne.length,Q);for(let ze=X;ze<Q;++ze)_e+=String.fromCharCode(ne[ze]);return _e}function st(ne,X,Q){const _e=ne.length;(!X||X<0)&&(X=0),(!Q||Q<0||Q>_e)&&(Q=_e);let ze="";for(let tt=X;tt<Q;++tt)ze+=Ve[ne[tt]];return ze}function mt(ne,X,Q){const _e=ne.slice(X,Q);let ze="";for(let tt=0;tt<_e.length-1;tt+=2)ze+=String.fromCharCode(_e[tt]+_e[tt+1]*256);return ze}f.prototype.slice=function(X,Q){const _e=this.length;X=~~X,Q=Q===void 0?_e:~~Q,X<0?(X+=_e,X<0&&(X=0)):X>_e&&(X=_e),Q<0?(Q+=_e,Q<0&&(Q=0)):Q>_e&&(Q=_e),Q<X&&(Q=X);const ze=this.subarray(X,Q);return Object.setPrototypeOf(ze,f.prototype),ze};function kt(ne,X,Q){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+X>Q)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(X,Q,_e){X=X>>>0,Q=Q>>>0,_e||kt(X,Q,this.length);let ze=this[X],tt=1,yt=0;for(;++yt<Q&&(tt*=256);)ze+=this[X+yt]*tt;return ze},f.prototype.readUintBE=f.prototype.readUIntBE=function(X,Q,_e){X=X>>>0,Q=Q>>>0,_e||kt(X,Q,this.length);let ze=this[X+--Q],tt=1;for(;Q>0&&(tt*=256);)ze+=this[X+--Q]*tt;return ze},f.prototype.readUint8=f.prototype.readUInt8=function(X,Q){return X=X>>>0,Q||kt(X,1,this.length),this[X]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(X,Q){return X=X>>>0,Q||kt(X,2,this.length),this[X]|this[X+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(X,Q){return X=X>>>0,Q||kt(X,2,this.length),this[X]<<8|this[X+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},f.prototype.readBigUInt64LE=et(function(X){X=X>>>0,Hr(X,"offset");const Q=this[X],_e=this[X+7];(Q===void 0||_e===void 0)&&Cr(X,this.length-8);const ze=Q+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,tt=this[++X]+this[++X]*2**8+this[++X]*2**16+_e*2**24;return BigInt(ze)+(BigInt(tt)<<BigInt(32))}),f.prototype.readBigUInt64BE=et(function(X){X=X>>>0,Hr(X,"offset");const Q=this[X],_e=this[X+7];(Q===void 0||_e===void 0)&&Cr(X,this.length-8);const ze=Q*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],tt=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+_e;return(BigInt(ze)<<BigInt(32))+BigInt(tt)}),f.prototype.readIntLE=function(X,Q,_e){X=X>>>0,Q=Q>>>0,_e||kt(X,Q,this.length);let ze=this[X],tt=1,yt=0;for(;++yt<Q&&(tt*=256);)ze+=this[X+yt]*tt;return tt*=128,ze>=tt&&(ze-=Math.pow(2,8*Q)),ze},f.prototype.readIntBE=function(X,Q,_e){X=X>>>0,Q=Q>>>0,_e||kt(X,Q,this.length);let ze=Q,tt=1,yt=this[X+--ze];for(;ze>0&&(tt*=256);)yt+=this[X+--ze]*tt;return tt*=128,yt>=tt&&(yt-=Math.pow(2,8*Q)),yt},f.prototype.readInt8=function(X,Q){return X=X>>>0,Q||kt(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},f.prototype.readInt16LE=function(X,Q){X=X>>>0,Q||kt(X,2,this.length);const _e=this[X]|this[X+1]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt16BE=function(X,Q){X=X>>>0,Q||kt(X,2,this.length);const _e=this[X+1]|this[X]<<8;return _e&32768?_e|4294901760:_e},f.prototype.readInt32LE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},f.prototype.readInt32BE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},f.prototype.readBigInt64LE=et(function(X){X=X>>>0,Hr(X,"offset");const Q=this[X],_e=this[X+7];(Q===void 0||_e===void 0)&&Cr(X,this.length-8);const ze=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(_e<<24);return(BigInt(ze)<<BigInt(32))+BigInt(Q+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),f.prototype.readBigInt64BE=et(function(X){X=X>>>0,Hr(X,"offset");const Q=this[X],_e=this[X+7];(Q===void 0||_e===void 0)&&Cr(X,this.length-8);const ze=(Q<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(ze)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+_e)}),f.prototype.readFloatLE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),r.read(this,X,!0,23,4)},f.prototype.readFloatBE=function(X,Q){return X=X>>>0,Q||kt(X,4,this.length),r.read(this,X,!1,23,4)},f.prototype.readDoubleLE=function(X,Q){return X=X>>>0,Q||kt(X,8,this.length),r.read(this,X,!0,52,8)},f.prototype.readDoubleBE=function(X,Q){return X=X>>>0,Q||kt(X,8,this.length),r.read(this,X,!1,52,8)};function Le(ne,X,Q,_e,ze,tt){if(!f.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>ze||X<tt)throw new RangeError('"value" argument is out of bounds');if(Q+_e>ne.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(X,Q,_e,ze){if(X=+X,Q=Q>>>0,_e=_e>>>0,!ze){const _r=Math.pow(2,8*_e)-1;Le(this,X,Q,_e,_r,0)}let tt=1,yt=0;for(this[Q]=X&255;++yt<_e&&(tt*=256);)this[Q+yt]=X/tt&255;return Q+_e},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(X,Q,_e,ze){if(X=+X,Q=Q>>>0,_e=_e>>>0,!ze){const _r=Math.pow(2,8*_e)-1;Le(this,X,Q,_e,_r,0)}let tt=_e-1,yt=1;for(this[Q+tt]=X&255;--tt>=0&&(yt*=256);)this[Q+tt]=X/yt&255;return Q+_e},f.prototype.writeUint8=f.prototype.writeUInt8=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,1,255,0),this[Q]=X&255,Q+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,2,65535,0),this[Q]=X&255,this[Q+1]=X>>>8,Q+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,2,65535,0),this[Q]=X>>>8,this[Q+1]=X&255,Q+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,4,4294967295,0),this[Q+3]=X>>>24,this[Q+2]=X>>>16,this[Q+1]=X>>>8,this[Q]=X&255,Q+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,4,4294967295,0),this[Q]=X>>>24,this[Q+1]=X>>>16,this[Q+2]=X>>>8,this[Q+3]=X&255,Q+4};function Ie(ne,X,Q,_e,ze){jt(X,_e,ze,ne,Q,7);let tt=Number(X&BigInt(4294967295));ne[Q++]=tt,tt=tt>>8,ne[Q++]=tt,tt=tt>>8,ne[Q++]=tt,tt=tt>>8,ne[Q++]=tt;let yt=Number(X>>BigInt(32)&BigInt(4294967295));return ne[Q++]=yt,yt=yt>>8,ne[Q++]=yt,yt=yt>>8,ne[Q++]=yt,yt=yt>>8,ne[Q++]=yt,Q}function Ne(ne,X,Q,_e,ze){jt(X,_e,ze,ne,Q,7);let tt=Number(X&BigInt(4294967295));ne[Q+7]=tt,tt=tt>>8,ne[Q+6]=tt,tt=tt>>8,ne[Q+5]=tt,tt=tt>>8,ne[Q+4]=tt;let yt=Number(X>>BigInt(32)&BigInt(4294967295));return ne[Q+3]=yt,yt=yt>>8,ne[Q+2]=yt,yt=yt>>8,ne[Q+1]=yt,yt=yt>>8,ne[Q]=yt,Q+8}f.prototype.writeBigUInt64LE=et(function(X,Q=0){return Ie(this,X,Q,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=et(function(X,Q=0){return Ne(this,X,Q,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(X,Q,_e,ze){if(X=+X,Q=Q>>>0,!ze){const Mr=Math.pow(2,8*_e-1);Le(this,X,Q,_e,Mr-1,-Mr)}let tt=0,yt=1,_r=0;for(this[Q]=X&255;++tt<_e&&(yt*=256);)X<0&&_r===0&&this[Q+tt-1]!==0&&(_r=1),this[Q+tt]=(X/yt>>0)-_r&255;return Q+_e},f.prototype.writeIntBE=function(X,Q,_e,ze){if(X=+X,Q=Q>>>0,!ze){const Mr=Math.pow(2,8*_e-1);Le(this,X,Q,_e,Mr-1,-Mr)}let tt=_e-1,yt=1,_r=0;for(this[Q+tt]=X&255;--tt>=0&&(yt*=256);)X<0&&_r===0&&this[Q+tt+1]!==0&&(_r=1),this[Q+tt]=(X/yt>>0)-_r&255;return Q+_e},f.prototype.writeInt8=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,1,127,-128),X<0&&(X=255+X+1),this[Q]=X&255,Q+1},f.prototype.writeInt16LE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,2,32767,-32768),this[Q]=X&255,this[Q+1]=X>>>8,Q+2},f.prototype.writeInt16BE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,2,32767,-32768),this[Q]=X>>>8,this[Q+1]=X&255,Q+2},f.prototype.writeInt32LE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,4,2147483647,-2147483648),this[Q]=X&255,this[Q+1]=X>>>8,this[Q+2]=X>>>16,this[Q+3]=X>>>24,Q+4},f.prototype.writeInt32BE=function(X,Q,_e){return X=+X,Q=Q>>>0,_e||Le(this,X,Q,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Q]=X>>>24,this[Q+1]=X>>>16,this[Q+2]=X>>>8,this[Q+3]=X&255,Q+4},f.prototype.writeBigInt64LE=et(function(X,Q=0){return Ie(this,X,Q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=et(function(X,Q=0){return Ne(this,X,Q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(ne,X,Q,_e,ze,tt){if(Q+_e>ne.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function dt(ne,X,Q,_e,ze){return X=+X,Q=Q>>>0,ze||Fe(ne,X,Q,4),r.write(ne,X,Q,_e,23,4),Q+4}f.prototype.writeFloatLE=function(X,Q,_e){return dt(this,X,Q,!0,_e)},f.prototype.writeFloatBE=function(X,Q,_e){return dt(this,X,Q,!1,_e)};function Et(ne,X,Q,_e,ze){return X=+X,Q=Q>>>0,ze||Fe(ne,X,Q,8),r.write(ne,X,Q,_e,52,8),Q+8}f.prototype.writeDoubleLE=function(X,Q,_e){return Et(this,X,Q,!0,_e)},f.prototype.writeDoubleBE=function(X,Q,_e){return Et(this,X,Q,!1,_e)},f.prototype.copy=function(X,Q,_e,ze){if(!f.isBuffer(X))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!ze&&ze!==0&&(ze=this.length),Q>=X.length&&(Q=X.length),Q||(Q=0),ze>0&&ze<_e&&(ze=_e),ze===_e||X.length===0||this.length===0)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(ze<0)throw new RangeError("sourceEnd out of bounds");ze>this.length&&(ze=this.length),X.length-Q<ze-_e&&(ze=X.length-Q+_e);const tt=ze-_e;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Q,_e,ze):Uint8Array.prototype.set.call(X,this.subarray(_e,ze),Q),tt},f.prototype.fill=function(X,Q,_e,ze){if(typeof X=="string"){if(typeof Q=="string"?(ze=Q,Q=0,_e=this.length):typeof _e=="string"&&(ze=_e,_e=this.length),ze!==void 0&&typeof ze!="string")throw new TypeError("encoding must be a string");if(typeof ze=="string"&&!f.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);if(X.length===1){const yt=X.charCodeAt(0);(ze==="utf8"&&yt<128||ze==="latin1")&&(X=yt)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Q<0||this.length<Q||this.length<_e)throw new RangeError("Out of range index");if(_e<=Q)return this;Q=Q>>>0,_e=_e===void 0?this.length:_e>>>0,X||(X=0);let tt;if(typeof X=="number")for(tt=Q;tt<_e;++tt)this[tt]=X;else{const yt=f.isBuffer(X)?X:f.from(X,ze),_r=yt.length;if(_r===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(tt=0;tt<_e-Q;++tt)this[tt+Q]=yt[tt%_r]}return this};const Vt={};function Ft(ne,X,Q){Vt[ne]=function(_e){c(tt,_e);var ze=d(tt);function tt(){var yt;return L(this,tt),yt=ze.call(this),Object.defineProperty(b(yt),"message",{value:X.apply(b(yt),arguments),writable:!0,configurable:!0}),yt.name=`${yt.name} [${ne}]`,yt.stack,delete yt.name,yt}return V(tt,[{key:"code",get:function(){return ne},set:function(yt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:yt,writable:!0})}},{key:"toString",value:function(){return`${this.name} [${ne}]: ${this.message}`}}]),tt}(Q)}Ft("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ft("ERR_INVALID_ARG_TYPE",function(ne,X){return`The "${ne}" argument must be of type number. Received type ${typeof X}`},TypeError),Ft("ERR_OUT_OF_RANGE",function(ne,X,Q){let _e=`The value of "${ne}" is out of range.`,ze=Q;return Number.isInteger(Q)&&Math.abs(Q)>2**32?ze=qt(String(Q)):typeof Q=="bigint"&&(ze=String(Q),(Q>BigInt(2)**BigInt(32)||Q<-(BigInt(2)**BigInt(32)))&&(ze=qt(ze)),ze+="n"),_e+=` It must be ${X}. Received ${ze}`,_e},RangeError);function qt(ne){let X="",Q=ne.length;const _e=ne[0]==="-"?1:0;for(;Q>=_e+4;Q-=3)X=`_${ne.slice(Q-3,Q)}${X}`;return`${ne.slice(0,Q)}${X}`}function Sr(ne,X,Q){Hr(X,"offset"),(ne[X]===void 0||ne[X+Q]===void 0)&&Cr(X,ne.length-(Q+1))}function jt(ne,X,Q,_e,ze,tt){if(ne>Q||ne<X){const yt=typeof X=="bigint"?"n":"";let _r;throw tt>3?X===0||X===BigInt(0)?_r=`>= 0${yt} and < 2${yt} ** ${(tt+1)*8}${yt}`:_r=`>= -(2${yt} ** ${(tt+1)*8-1}${yt}) and < 2 ** ${(tt+1)*8-1}${yt}`:_r=`>= ${X}${yt} and <= ${Q}${yt}`,new Vt.ERR_OUT_OF_RANGE("value",_r,ne)}Sr(_e,ze,tt)}function Hr(ne,X){if(typeof ne!="number")throw new Vt.ERR_INVALID_ARG_TYPE(X,"number",ne)}function Cr(ne,X,Q){throw Math.floor(ne)!==ne?(Hr(ne,Q),new Vt.ERR_OUT_OF_RANGE(Q||"offset","an integer",ne)):X<0?new Vt.ERR_BUFFER_OUT_OF_BOUNDS:new Vt.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${X}`,ne)}const On=/[^+/0-9A-Za-z-_]/g;function sn(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(On,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Ur(ne,X){X=X||1/0;let Q;const _e=ne.length;let ze=null;const tt=[];for(let yt=0;yt<_e;++yt){if(Q=ne.charCodeAt(yt),Q>55295&&Q<57344){if(!ze){if(Q>56319){(X-=3)>-1&&tt.push(239,191,189);continue}else if(yt+1===_e){(X-=3)>-1&&tt.push(239,191,189);continue}ze=Q;continue}if(Q<56320){(X-=3)>-1&&tt.push(239,191,189),ze=Q;continue}Q=(ze-55296<<10|Q-56320)+65536}else ze&&(X-=3)>-1&&tt.push(239,191,189);if(ze=null,Q<128){if((X-=1)<0)break;tt.push(Q)}else if(Q<2048){if((X-=2)<0)break;tt.push(Q>>6|192,Q&63|128)}else if(Q<65536){if((X-=3)<0)break;tt.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(Q<1114112){if((X-=4)<0)break;tt.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw new Error("Invalid code point")}return tt}function Bn(ne){const X=[];for(let Q=0;Q<ne.length;++Q)X.push(ne.charCodeAt(Q)&255);return X}function Mn(ne,X){let Q,_e,ze;const tt=[];for(let yt=0;yt<ne.length&&!((X-=2)<0);++yt)Q=ne.charCodeAt(yt),_e=Q>>8,ze=Q%256,tt.push(ze),tt.push(_e);return tt}function ci(ne){return t.toByteArray(sn(ne))}function Ja(ne,X,Q,_e){let ze;for(ze=0;ze<_e&&!(ze+Q>=X.length||ze>=ne.length);++ze)X[ze+Q]=ne[ze];return ze}function kn(ne,X){return ne instanceof X||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===X.name}function Ht(ne){return ne!==ne}const Ve=function(){const ne="0123456789abcdef",X=new Array(256);for(let Q=0;Q<16;++Q){const _e=Q*16;for(let ze=0;ze<16;++ze)X[_e+ze]=ne[Q]+ne[ze]}return X}();function et(ne){return typeof BigInt>"u"?_t:ne}function _t(){throw new Error("BigInt not supported")}})(_he);var By=Ka,Qs=A$e,Ehe=_he.Buffer;globalThis.__TYPEDARRAY_POOL||(globalThis.__TYPEDARRAY_POOL={UINT8:Qs([32,0]),UINT16:Qs([32,0]),UINT32:Qs([32,0]),BIGUINT64:Qs([32,0]),INT8:Qs([32,0]),INT16:Qs([32,0]),INT32:Qs([32,0]),BIGINT64:Qs([32,0]),FLOAT:Qs([32,0]),DOUBLE:Qs([32,0]),DATA:Qs([32,0]),UINT8C:Qs([32,0]),BUFFER:Qs([32,0])});var P$e=typeof Uint8ClampedArray<"u",N$e=typeof BigUint64Array<"u",M$e=typeof BigInt64Array<"u",Lo=globalThis.__TYPEDARRAY_POOL;Lo.UINT8C||(Lo.UINT8C=Qs([32,0])),Lo.BIGUINT64||(Lo.BIGUINT64=Qs([32,0])),Lo.BIGINT64||(Lo.BIGINT64=Qs([32,0])),Lo.BUFFER||(Lo.BUFFER=Qs([32,0]));var G6=Lo.DATA,$6=Lo.BUFFER;ii.free=function(t){if(Ehe.isBuffer(t))$6[By.log2(t.length)].push(t);else{if(Object.prototype.toString.call(t)!=="[object ArrayBuffer]"&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,s=By.log2(r)|0;G6[s].push(t)}};function She(e){if(e){var t=e.length||e.byteLength,r=By.log2(t);G6[r].push(e)}}function L$e(e){She(e.buffer)}ii.freeUint8=ii.freeUint16=ii.freeUint32=ii.freeBigUint64=ii.freeInt8=ii.freeInt16=ii.freeInt32=ii.freeBigInt64=ii.freeFloat32=ii.freeFloat=ii.freeFloat64=ii.freeDouble=ii.freeUint8Clamped=ii.freeDataView=L$e,ii.freeArrayBuffer=She,ii.freeBuffer=function(t){$6[By.log2(t.length)].push(t)},ii.malloc=function(t,r){if(r===void 0||r==="arraybuffer")return ec(t);switch(r){case"uint8":return jW(t);case"uint16":return Ahe(t);case"uint32":return whe(t);case"int8":return Che(t);case"int16":return xhe(t);case"int32":return Ihe(t);case"float":case"float32":return Dhe(t);case"double":case"float64":return Ohe(t);case"uint8_clamped":return khe(t);case"bigint64":return Phe(t);case"biguint64":return Rhe(t);case"buffer":return Mhe(t);case"data":case"dataview":return Nhe(t);default:return null}return null};function ec(t){var t=By.nextPow2(t),r=By.log2(t),s=G6[r];return s.length>0?s.pop():new ArrayBuffer(t)}ii.mallocArrayBuffer=ec;function jW(e){return new Uint8Array(ec(e),0,e)}ii.mallocUint8=jW;function Ahe(e){return new Uint16Array(ec(2*e),0,e)}ii.mallocUint16=Ahe;function whe(e){return new Uint32Array(ec(4*e),0,e)}ii.mallocUint32=whe;function Che(e){return new Int8Array(ec(e),0,e)}ii.mallocInt8=Che;function xhe(e){return new Int16Array(ec(2*e),0,e)}ii.mallocInt16=xhe;function Ihe(e){return new Int32Array(ec(4*e),0,e)}ii.mallocInt32=Ihe;function Dhe(e){return new Float32Array(ec(4*e),0,e)}ii.mallocFloat32=ii.mallocFloat=Dhe;function Ohe(e){return new Float64Array(ec(8*e),0,e)}ii.mallocFloat64=ii.mallocDouble=Ohe;function khe(e){return P$e?new Uint8ClampedArray(ec(e),0,e):jW(e)}ii.mallocUint8Clamped=khe;function Rhe(e){return N$e?new BigUint64Array(ec(8*e),0,e):null}ii.mallocBigUint64=Rhe;function Phe(e){return M$e?new BigInt64Array(ec(8*e),0,e):null}ii.mallocBigInt64=Phe;function Nhe(e){return new DataView(ec(e),0,e)}ii.mallocDataView=Nhe;function Mhe(e){e=By.nextPow2(e);var t=By.log2(e),r=$6[t];return r.length>0?r.pop():new Ehe(e)}ii.mallocBuffer=Mhe,ii.clearCache=function(){for(var t=0;t<32;++t)Lo.UINT8[t].length=0,Lo.UINT16[t].length=0,Lo.UINT32[t].length=0,Lo.INT8[t].length=0,Lo.INT16[t].length=0,Lo.INT32[t].length=0,Lo.FLOAT[t].length=0,Lo.DOUBLE[t].length=0,Lo.BIGUINT64[t].length=0,Lo.BIGINT64[t].length=0,Lo.UINT8C[t].length=0,G6[t].length=0,$6[t].length=0};var F$e=B$e,z6=32;function B$e(e,t){t<=4*z6?V6(0,t-1,e):W6(0,t-1,e)}function V6(e,t,r){for(var s=2*(e+1),a=e+1;a<=t;++a){for(var u=r[s++],h=r[s++],f=a,g=s-2;f-- >e;){var v=r[g-2],p=r[g-1];if(v<u)break;if(v===u&&p<h)break;r[g]=v,r[g+1]=p,g-=2}r[g]=u,r[g+1]=h}}function Lhe(e,t,r){e*=2,t*=2;var s=r[e],a=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=s,r[t+1]=a}function Fhe(e,t,r){e*=2,t*=2,r[e]=r[t],r[e+1]=r[t+1]}function H$e(e,t,r,s){e*=2,t*=2,r*=2;var a=s[e],u=s[e+1];s[e]=s[t],s[e+1]=s[t+1],s[t]=s[r],s[t+1]=s[r+1],s[r]=a,s[r+1]=u}function Bhe(e,t,r,s,a){e*=2,t*=2,a[e]=a[t],a[t]=r,a[e+1]=a[t+1],a[t+1]=s}function lv(e,t,r){e*=2,t*=2;var s=r[e],a=r[t];return s<a?!1:s===a?r[e+1]>r[t+1]:!0}function j6(e,t,r,s){e*=2;var a=s[e];return a<t?!0:a===t?s[e+1]<r:!1}function W6(e,t,r){var s=(t-e+1)/6|0,a=e+s,u=t-s,h=e+t>>1,f=h-s,g=h+s,v=a,p=f,E=h,T=g,S=u,x=e+1,O=t-1,P=0;lv(v,p,r)&&(P=v,v=p,p=P),lv(T,S,r)&&(P=T,T=S,S=P),lv(v,E,r)&&(P=v,v=E,E=P),lv(p,E,r)&&(P=p,p=E,E=P),lv(v,T,r)&&(P=v,v=T,T=P),lv(E,T,r)&&(P=E,E=T,T=P),lv(p,S,r)&&(P=p,p=S,S=P),lv(p,E,r)&&(P=p,p=E,E=P),lv(T,S,r)&&(P=T,T=S,S=P);for(var M=r[2*p],G=r[2*p+1],B=r[2*T],U=r[2*T+1],j=2*v,Z=2*E,ee=2*S,J=2*a,he=2*h,pe=2*u,ae=0;ae<2;++ae){var ye=r[j+ae],Ee=r[Z+ae],ue=r[ee+ae];r[J+ae]=ye,r[he+ae]=Ee,r[pe+ae]=ue}Fhe(f,e,r),Fhe(g,t,r);for(var be=x;be<=O;++be)if(j6(be,M,G,r))be!==x&&Lhe(be,x,r),++x;else if(!j6(be,B,U,r))for(;;)if(j6(O,B,U,r)){j6(O,M,G,r)?(H$e(be,x,O,r),++x,--O):(Lhe(be,O,r),--O);break}else{if(--O<be)break;continue}Bhe(e,x-1,M,G,r),Bhe(t,O+1,B,U,r),x-2-e<=z6?V6(e,x-2,r):W6(e,x-2,r),t-(O+2)<=z6?V6(O+2,t,r):W6(O+2,t,r),O-x<=z6?V6(x,O,r):W6(x,O,r)}var Hhe={init:G$e,sweepBipartite:$$e,sweepComplete:z$e,scanBipartite:V$e,scanComplete:j$e},Fo=ii,U$e=Ka,X6=F$e,jc=1<<28,tT=1024,Js=Fo.mallocInt32(tT),uv=Fo.mallocInt32(tT),cv=Fo.mallocInt32(tT),rT=Fo.mallocInt32(tT),IC=Fo.mallocInt32(tT),eN=Fo.mallocInt32(tT),Qn=Fo.mallocDouble(tT*8);function G$e(e){var t=U$e.nextPow2(e);Js.length<t&&(Fo.free(Js),Js=Fo.mallocInt32(t)),uv.length<t&&(Fo.free(uv),uv=Fo.mallocInt32(t)),cv.length<t&&(Fo.free(cv),cv=Fo.mallocInt32(t)),rT.length<t&&(Fo.free(rT),rT=Fo.mallocInt32(t)),IC.length<t&&(Fo.free(IC),IC=Fo.mallocInt32(t)),eN.length<t&&(Fo.free(eN),eN=Fo.mallocInt32(t));var r=8*t;Qn.length<r&&(Fo.free(Qn),Qn=Fo.mallocDouble(r))}function DC(e,t,r,s){var a=t[s],u=e[r-1];e[a]=u,t[u]=a}function OC(e,t,r,s){e[r]=s,t[s]=r}function $$e(e,t,r,s,a,u,h,f,g,v){for(var p=0,E=2*e,T=e-1,S=E-1,x=r;x<s;++x){var O=u[x],P=E*x;Qn[p++]=a[P+T],Qn[p++]=-(O+1),Qn[p++]=a[P+S],Qn[p++]=O}for(var x=h;x<f;++x){var O=v[x]+jc,M=E*x;Qn[p++]=g[M+T],Qn[p++]=-O,Qn[p++]=g[M+S],Qn[p++]=O}var G=p>>>1;X6(Qn,G);for(var B=0,U=0,x=0;x<G;++x){var j=Qn[2*x+1]|0;if(j>=jc)j=j-jc|0,DC(cv,rT,U--,j);else if(j>=0)DC(Js,uv,B--,j);else if(j<=-jc){j=-j-jc|0;for(var Z=0;Z<B;++Z){var ee=t(Js[Z],j);if(ee!==void 0)return ee}OC(cv,rT,U++,j)}else{j=-j-1|0;for(var Z=0;Z<U;++Z){var ee=t(j,cv[Z]);if(ee!==void 0)return ee}OC(Js,uv,B++,j)}}}function z$e(e,t,r,s,a,u,h,f,g,v){for(var p=0,E=2*e,T=e-1,S=E-1,x=r;x<s;++x){var O=u[x]+1<<1,P=E*x;Qn[p++]=a[P+T],Qn[p++]=-O,Qn[p++]=a[P+S],Qn[p++]=O}for(var x=h;x<f;++x){var O=v[x]+1<<1,M=E*x;Qn[p++]=g[M+T],Qn[p++]=-O|1,Qn[p++]=g[M+S],Qn[p++]=O|1}var G=p>>>1;X6(Qn,G);for(var B=0,U=0,j=0,x=0;x<G;++x){var Z=Qn[2*x+1]|0,ee=Z&1;if(x<G-1&&Z>>1===Qn[2*x+3]>>1&&(ee=2,x+=1),Z<0){for(var J=-(Z>>1)-1,he=0;he<j;++he){var pe=t(IC[he],J);if(pe!==void 0)return pe}if(ee!==0)for(var he=0;he<B;++he){var pe=t(Js[he],J);if(pe!==void 0)return pe}if(ee!==1)for(var he=0;he<U;++he){var pe=t(cv[he],J);if(pe!==void 0)return pe}ee===0?OC(Js,uv,B++,J):ee===1?OC(cv,rT,U++,J):ee===2&&OC(IC,eN,j++,J)}else{var J=(Z>>1)-1;ee===0?DC(Js,uv,B--,J):ee===1?DC(cv,rT,U--,J):ee===2&&DC(IC,eN,j--,J)}}}function V$e(e,t,r,s,a,u,h,f,g,v,p,E){var T=0,S=2*e,x=t,O=t+e,P=1,M=1;s?M=jc:P=jc;for(var G=a;G<u;++G){var B=G+P,U=S*G;Qn[T++]=h[U+x],Qn[T++]=-B,Qn[T++]=h[U+O],Qn[T++]=B}for(var G=g;G<v;++G){var B=G+M,j=S*G;Qn[T++]=p[j+x],Qn[T++]=-B}var Z=T>>>1;X6(Qn,Z);for(var ee=0,G=0;G<Z;++G){var J=Qn[2*G+1]|0;if(J<0){var B=-J,he=!1;if(B>=jc?(he=!s,B-=jc):(he=!!s,B-=1),he)OC(Js,uv,ee++,B);else{var pe=E[B],ae=S*B,ye=p[ae+t+1],Ee=p[ae+t+1+e];e:for(var ue=0;ue<ee;++ue){var be=Js[ue],Me=S*be;if(!(Ee<h[Me+t+1]||h[Me+t+1+e]<ye)){for(var Xe=t+2;Xe<e;++Xe)if(p[ae+Xe+e]<h[Me+Xe]||h[Me+Xe+e]<p[ae+Xe])continue e;var rt=f[be],st;if(s?st=r(pe,rt):st=r(rt,pe),st!==void 0)return st}}}}else DC(Js,uv,ee--,J-P)}}function j$e(e,t,r,s,a,u,h,f,g,v,p){for(var E=0,T=2*e,S=t,x=t+e,O=s;O<a;++O){var P=O+jc,M=T*O;Qn[E++]=u[M+S],Qn[E++]=-P,Qn[E++]=u[M+x],Qn[E++]=P}for(var O=f;O<g;++O){var P=O+1,G=T*O;Qn[E++]=v[G+S],Qn[E++]=-P}var B=E>>>1;X6(Qn,B);for(var U=0,O=0;O<B;++O){var j=Qn[2*O+1]|0;if(j<0){var P=-j;if(P>=jc)Js[U++]=P-jc;else{P-=1;var Z=p[P],ee=T*P,J=v[ee+t+1],he=v[ee+t+1+e];e:for(var pe=0;pe<U;++pe){var ae=Js[pe],ye=h[ae];if(ye===Z)break;var Ee=T*ae;if(!(he<u[Ee+t+1]||u[Ee+t+1+e]<J)){for(var ue=t+2;ue<e;++ue)if(v[ee+ue+e]<u[Ee+ue]||u[Ee+ue+e]<v[ee+ue])continue e;var be=r(ye,Z);if(be!==void 0)return be}}}}else{for(var P=j-jc,pe=U-1;pe>=0;--pe)if(Js[pe]===P){for(var ue=pe+1;ue<U;++ue)Js[ue-1]=Js[ue];break}--U}}}var WW={},nT="d",kC="ax",Uhe="vv",XW="fp",tN="es",Y6="rs",YW="re",rN="rb",Ghe="ri",RC="rp",q6="bs",qW="be",nN="bb",$he="bi",PC="bp",ZW="rv",KW="Q",QW=[nT,kC,Uhe,Y6,YW,rN,Ghe,q6,qW,nN,$he];function W$e(e,t,r){var s="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(r?"Full":""),a=["function ",s,"(",QW.join(),"){","var ",tN,"=2*",nT,";"],u="for(var i="+Y6+","+RC+"="+tN+"*"+Y6+";i<"+YW+";++i,"+RC+"+="+tN+"){var x0="+rN+"["+kC+"+"+RC+"],x1="+rN+"["+kC+"+"+RC+"+"+nT+"],xi="+Ghe+"[i];",h="for(var j="+q6+","+PC+"="+tN+"*"+q6+";j<"+qW+";++j,"+PC+"+="+tN+"){var y0="+nN+"["+kC+"+"+PC+"],"+(r?"y1="+nN+"["+kC+"+"+PC+"+"+nT+"],":"")+"yi="+$he+"[j];";return e?a.push(u,KW,":",h):a.push(h,KW,":",u),r?a.push("if(y1<x0||x1<y0)continue;"):t?a.push("if(y0<=x0||x1<y0)continue;"):a.push("if(y0<x0||x1<y0)continue;"),a.push("for(var k="+kC+"+1;k<"+nT+";++k){var r0="+rN+"[k+"+RC+"],r1="+rN+"[k+"+nT+"+"+RC+"],b0="+nN+"[k+"+PC+"],b1="+nN+"[k+"+nT+"+"+PC+"];if(r1<b0||b1<r0)continue "+KW+";}var "+ZW+"="+Uhe+"("),t?a.push("yi,xi"):a.push("xi,yi"),a.push(");if("+ZW+"!==void 0)return "+ZW+";}}}"),{name:s,code:a.join("")}}function zhe(e){var t="bruteForce"+(e?"Full":"Partial"),r=[],s=QW.slice();e||s.splice(3,0,XW);var a=["function "+t+"("+s.join()+"){"];function u(g,v){var p=W$e(g,v,e);r.push(p.code),a.push("return "+p.name+"("+QW.join()+");")}a.push("if("+YW+"-"+Y6+">"+qW+"-"+q6+"){"),e?(u(!0,!1),a.push("}else{"),u(!1,!1)):(a.push("if("+XW+"){"),u(!0,!0),a.push("}else{"),u(!0,!1),a.push("}}else{if("+XW+"){"),u(!1,!0),a.push("}else{"),u(!1,!1),a.push("}")),a.push("}}return "+t);var h=r.join("")+a.join(""),f=new Function(h);return f()}WW.partial=zhe(!1),WW.full=zhe(!0);var Vhe=Y$e,X$e="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function Y$e(e,t){var r="abcdef".split("").concat(t),s=[];return e.indexOf("lo")>=0&&s.push("lo=e[k+n]"),e.indexOf("hi")>=0&&s.push("hi=e[k+o]"),r.push(X$e.replace("_",s.join()).replace("$",e)),Function.apply(void 0,r)}var q$e=J$e,Z$e=Vhe,jhe=Z$e("lo<p0",["p0"]),K$e=8;function Q$e(e,t,r,s,a,u){for(var h=2*e,f=h*(r+1)+t,g=r+1;g<s;++g,f+=h)for(var v=a[f],p=g,E=h*(g-1);p>r&&a[E+t]>v;--p,E-=h){for(var T=E,S=E+h,x=0;x<h;++x,++T,++S){var O=a[T];a[T]=a[S],a[S]=O}var P=u[p];u[p]=u[p-1],u[p-1]=P}}function J$e(e,t,r,s,a,u){if(s<=r+1)return r;for(var h=r,f=s,g=s+r>>>1,v=2*e,p=g,E=a[v*g+t];h<f;){if(f-h<K$e){Q$e(e,t,h,f,a,u),E=a[v*g+t];break}var T=f-h,S=Math.random()*T+h|0,x=a[v*S+t],O=Math.random()*T+h|0,P=a[v*O+t],M=Math.random()*T+h|0,G=a[v*M+t];x<=P?G>=P?(p=O,E=P):x>=G?(p=S,E=x):(p=M,E=G):P>=G?(p=O,E=P):G>=x?(p=S,E=x):(p=M,E=G);for(var j=v*(f-1),Z=v*p,B=0;B<v;++B,++j,++Z){var U=a[j];a[j]=a[Z],a[Z]=U}var ee=u[f-1];u[f-1]=u[p],u[p]=ee,p=jhe(e,t,h,f-1,a,u,E);for(var j=v*(f-1),Z=v*p,B=0;B<v;++B,++j,++Z){var U=a[j];a[j]=a[Z],a[Z]=U}var ee=u[f-1];if(u[f-1]=u[p],u[p]=ee,g<p){for(f=p-1;h<f&&a[v*(f-1)+t]===E;)f-=1;f+=1}else if(p<g)for(h=p+1;h<f&&a[v*h+t]===E;)h+=1;else break}return jhe(e,t,r,g,a,u,a[v*g+t])}var e7e=d7e,NC=ii,JW=Ka,Whe=WW,t7e=Whe.partial,r7e=Whe.full,Hy=Hhe,n7e=q$e,MC=Vhe,Xhe=128,i7e=1<<22,a7e=1<<22,o7e=MC("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),Yhe=MC("lo===p0",["p0"]),s7e=MC("lo<p0",["p0"]),l7e=MC("hi<=p0",["p0"]),qhe=MC("lo<=p0&&p0<=hi",["p0"]),u7e=MC("lo<p0&&p0<=hi",["p0"]),eX=6,tX=2,Zhe=1024,mu=NC.mallocInt32(Zhe),iT=NC.mallocDouble(Zhe);function c7e(e,t){var r=8*JW.log2(t+1)*(e+1)|0,s=JW.nextPow2(eX*r);mu.length<s&&(NC.free(mu),mu=NC.mallocInt32(s));var a=JW.nextPow2(tX*r);iT.length<a&&(NC.free(iT),iT=NC.mallocDouble(a))}function fd(e,t,r,s,a,u,h,f,g){var v=eX*e;mu[v]=t,mu[v+1]=r,mu[v+2]=s,mu[v+3]=a,mu[v+4]=u,mu[v+5]=h;var p=tX*e;iT[p]=f,iT[p+1]=g}function h7e(e,t,r,s,a,u,h,f,g,v,p){var E=2*e,T=g*E,S=v[T+t];e:for(var x=a,O=a*E;x<u;++x,O+=E){var P=h[O+t],M=h[O+t+e];if(!(S<P||M<S)&&!(s&&S===P)){for(var G=f[x],B=t+1;B<e;++B){var P=h[O+B],M=h[O+B+e],U=v[T+B],j=v[T+B+e];if(M<U||j<P)continue e}var Z;if(s?Z=r(p,G):Z=r(G,p),Z!==void 0)return Z}}}function f7e(e,t,r,s,a,u,h,f,g,v){var p=2*e,E=f*p,T=g[E+t];e:for(var S=s,x=s*p;S<a;++S,x+=p){var O=h[S];if(O!==v){var P=u[x+t],M=u[x+t+e];if(!(T<P||M<T)){for(var G=t+1;G<e;++G){var P=u[x+G],M=u[x+G+e],B=g[E+G],U=g[E+G+e];if(M<B||U<P)continue e}var j=r(O,v);if(j!==void 0)return j}}}}function d7e(e,t,r,s,a,u,h,f,g){c7e(e,s+h);var v=0,p=2*e,E;for(fd(v++,0,0,s,0,h,r?16:0,-1/0,1/0),r||fd(v++,0,0,h,0,s,1,-1/0,1/0);v>0;){v-=1;var T=v*eX,S=mu[T],x=mu[T+1],O=mu[T+2],P=mu[T+3],M=mu[T+4],G=mu[T+5],B=v*tX,U=iT[B],j=iT[B+1],Z=G&1,ee=!!(G&16),J=a,he=u,pe=f,ae=g;if(Z&&(J=f,he=g,pe=a,ae=u),!(G&2&&(O=s7e(e,S,x,O,J,he,j),x>=O))&&!(G&4&&(x=l7e(e,S,x,O,J,he,U),x>=O))){var ye=O-x,Ee=M-P;if(ee){if(e*ye*(ye+Ee)<a7e){if(E=Hy.scanComplete(e,S,t,x,O,J,he,P,M,pe,ae),E!==void 0)return E;continue}}else if(e*Math.min(ye,Ee)<Xhe){if(E=t7e(e,S,t,Z,x,O,J,he,P,M,pe,ae),E!==void 0)return E;continue}else if(e*ye*Ee<i7e){if(E=Hy.scanBipartite(e,S,t,Z,x,O,J,he,P,M,pe,ae),E!==void 0)return E;continue}var ue=o7e(e,S,x,O,J,he,U,j);if(x<ue)if(e*(ue-x)<Xhe){if(E=r7e(e,S+1,t,x,ue,J,he,P,M,pe,ae),E!==void 0)return E}else if(S===e-2){if(Z?E=Hy.sweepBipartite(e,t,P,M,pe,ae,x,ue,J,he):E=Hy.sweepBipartite(e,t,x,ue,J,he,P,M,pe,ae),E!==void 0)return E}else fd(v++,S+1,x,ue,P,M,Z,-1/0,1/0),fd(v++,S+1,P,M,x,ue,Z^1,-1/0,1/0);if(ue<O){var be=n7e(e,S,P,M,pe,ae),Me=pe[p*be+S],Xe=Yhe(e,S,be,M,pe,ae,Me);if(Xe<M&&fd(v++,S,ue,O,Xe,M,(Z|4)+(ee?16:0),Me,j),P<be&&fd(v++,S,ue,O,P,be,(Z|2)+(ee?16:0),U,Me),be+1===Xe){if(ee?E=f7e(e,S,t,ue,O,J,he,be,pe,ae[be]):E=h7e(e,S,t,Z,ue,O,J,he,be,pe,ae[be]),E!==void 0)return E}else if(be<Xe){var rt;if(ee){if(rt=qhe(e,S,ue,O,J,he,Me),ue<rt){var st=Yhe(e,S,ue,rt,J,he,Me);if(S===e-2){if(ue<st&&(E=Hy.sweepComplete(e,t,ue,st,J,he,be,Xe,pe,ae),E!==void 0)||st<rt&&(E=Hy.sweepBipartite(e,t,st,rt,J,he,be,Xe,pe,ae),E!==void 0))return E}else ue<st&&fd(v++,S+1,ue,st,be,Xe,16,-1/0,1/0),st<rt&&(fd(v++,S+1,st,rt,be,Xe,0,-1/0,1/0),fd(v++,S+1,be,Xe,st,rt,1,-1/0,1/0))}}else Z?rt=u7e(e,S,ue,O,J,he,Me):rt=qhe(e,S,ue,O,J,he,Me),ue<rt&&(S===e-2?Z?E=Hy.sweepBipartite(e,t,be,Xe,pe,ae,ue,rt,J,he):E=Hy.sweepBipartite(e,t,ue,rt,J,he,be,Xe,pe,ae):(fd(v++,S+1,ue,rt,be,Xe,Z,-1/0,1/0),fd(v++,S+1,be,Xe,ue,rt,Z^1,-1/0,1/0)))}}}}}var iN=y7e,Uy=ii,Z6=Hhe,p7e=e7e;function m7e(e,t){for(var r=0;r<e;++r)if(!(t[r]<=t[r+e]))return!0;return!1}function Khe(e,t,r,s){for(var a=0,u=0,h=0,f=e.length;h<f;++h){var g=e[h];if(!m7e(t,g)){for(var v=0;v<2*t;++v)r[a++]=g[v];s[u++]=h}}return u}function K6(e,t,r,s){var a=e.length,u=t.length;if(!(a<=0||u<=0)){var h=e[0].length>>>1;if(!(h<=0)){var f,g=Uy.mallocDouble(2*h*a),v=Uy.mallocInt32(a);if(a=Khe(e,h,g,v),a>0){if(h===1&&s)Z6.init(a),f=Z6.sweepComplete(h,r,0,a,g,v,0,a,g,v);else{var p=Uy.mallocDouble(2*h*u),E=Uy.mallocInt32(u);u=Khe(t,h,p,E),u>0&&(Z6.init(a+u),h===1?f=Z6.sweepBipartite(h,r,0,a,g,v,0,u,p,E):f=p7e(h,r,s,a,g,v,u,p,E),Uy.free(p),Uy.free(E))}Uy.free(g),Uy.free(v)}return f}}}var aN;function Qhe(e,t){aN.push([e,t])}function g7e(e){return aN=[],K6(e,e,Qhe,!0),aN}function v7e(e,t){return aN=[],K6(e,t,Qhe,!1),aN}function y7e(e,t,r){switch(arguments.length){case 1:return g7e(e);case 2:return typeof t=="function"?K6(e,e,t,!0):v7e(e,t);case 3:return K6(e,t,r,!1);default:throw new Error("box-intersect: Invalid arguments")}}var Jhe={exports:{}},efe=b7e,tfe=+(Math.pow(2,27)+1);function b7e(e,t,r){var s=e*t,a=tfe*e,u=a-e,h=a-u,f=e-h,g=tfe*t,v=g-t,p=g-v,E=t-p,T=s-h*p,S=T-f*p,x=S-h*E,O=f*E-x;return r?(r[0]=O,r[1]=s,r):[O,s]}var _7e=E7e;function T7e(e,t){var r=e+t,s=r-e,a=r-s,u=t-s,h=e-a,f=h+u;return f?[f,r]:[r]}function E7e(e,t){var r=e.length|0,s=t.length|0;if(r===1&&s===1)return T7e(e[0],t[0]);var a=r+s,u=new Array(a),h=0,f=0,g=0,v=Math.abs,p=e[f],E=v(p),T=t[g],S=v(T),x,O;E<S?(O=p,f+=1,f<r&&(p=e[f],E=v(p))):(O=T,g+=1,g<s&&(T=t[g],S=v(T))),f<r&&E<S||g>=s?(x=p,f+=1,f<r&&(p=e[f],E=v(p))):(x=T,g+=1,g<s&&(T=t[g],S=v(T)));for(var P=x+O,M=P-x,G=O-M,B=G,U=P,j,Z,ee,J,he;f<r&&g<s;)E<S?(x=p,f+=1,f<r&&(p=e[f],E=v(p))):(x=T,g+=1,g<s&&(T=t[g],S=v(T))),O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j;for(;f<r;)x=p,O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j,f+=1,f<r&&(p=e[f]);for(;g<s;)x=T,O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j,g+=1,g<s&&(T=t[g]);return B&&(u[h++]=B),U&&(u[h++]=U),h||(u[h++]=0),u.length=h,u}var S7e=A7e;function A7e(e,t,r){var s=e+t,a=s-e,u=s-a,h=t-a,f=e-u;return r?(r[0]=f+h,r[1]=s,r):[f+h,s]}var rX=efe,w7e=S7e,C7e=x7e;function x7e(e,t){var r=e.length;if(r===1){var s=rX(e[0],t);return s[0]?s:[s[1]]}var a=new Array(2*r),u=[.1,.1],h=[.1,.1],f=0;rX(e[0],t,u),u[0]&&(a[f++]=u[0]);for(var g=1;g<r;++g){rX(e[g],t,h);var v=u[1];w7e(v,h[0],u),u[0]&&(a[f++]=u[0]);var p=h[1],E=u[1],T=p+E,S=T-p,x=E-S;u[1]=T,x&&(a[f++]=x)}return u[1]&&(a[f++]=u[1]),f===0&&(a[f++]=0),a.length=f,a}var I7e=O7e;function D7e(e,t){var r=e+t,s=r-e,a=r-s,u=t-s,h=e-a,f=h+u;return f?[f,r]:[r]}function O7e(e,t){var r=e.length|0,s=t.length|0;if(r===1&&s===1)return D7e(e[0],-t[0]);var a=r+s,u=new Array(a),h=0,f=0,g=0,v=Math.abs,p=e[f],E=v(p),T=-t[g],S=v(T),x,O;E<S?(O=p,f+=1,f<r&&(p=e[f],E=v(p))):(O=T,g+=1,g<s&&(T=-t[g],S=v(T))),f<r&&E<S||g>=s?(x=p,f+=1,f<r&&(p=e[f],E=v(p))):(x=T,g+=1,g<s&&(T=-t[g],S=v(T)));for(var P=x+O,M=P-x,G=O-M,B=G,U=P,j,Z,ee,J,he;f<r&&g<s;)E<S?(x=p,f+=1,f<r&&(p=e[f],E=v(p))):(x=T,g+=1,g<s&&(T=-t[g],S=v(T))),O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j;for(;f<r;)x=p,O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j,f+=1,f<r&&(p=e[f]);for(;g<s;)x=T,O=B,P=x+O,M=P-x,G=O-M,G&&(u[h++]=G),j=U+P,Z=j-U,ee=j-Z,J=P-Z,he=U-ee,B=he+J,U=j,g+=1,g<s&&(T=-t[g]);return B&&(u[h++]=B),U&&(u[h++]=U),h||(u[h++]=0),u.length=h,u}(function(e){var t=efe,r=_7e,s=C7e,a=I7e,u=5,h=11102230246251565e-32,f=(3+16*h)*h,g=(7+56*h)*h;function v(B,U,j,Z){return function(J,he,pe){var ae=B(B(U(he[1],pe[0]),U(-pe[1],he[0])),B(U(J[1],he[0]),U(-he[1],J[0]))),ye=B(U(J[1],pe[0]),U(-pe[1],J[0])),Ee=Z(ae,ye);return Ee[Ee.length-1]}}function p(B,U,j,Z){return function(J,he,pe,ae){var ye=B(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),he[2]),B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),-pe[2]),j(B(U(he[1],pe[0]),U(-pe[1],he[0])),ae[2]))),B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),ae[2])))),Ee=B(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-pe[2]),j(B(U(J[1],pe[0]),U(-pe[1],J[0])),ae[2]))),B(j(B(U(he[1],pe[0]),U(-pe[1],he[0])),J[2]),B(j(B(U(J[1],pe[0]),U(-pe[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),pe[2])))),ue=Z(ye,Ee);return ue[ue.length-1]}}function E(B,U,j,Z){return function(J,he,pe,ae,ye){var Ee=B(B(B(j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),pe[2]),B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),-ae[2]),j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),ye[2]))),he[3]),B(j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),he[2]),B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),-ae[2]),j(B(U(he[1],ae[0]),U(-ae[1],he[0])),ye[2]))),-pe[3]),j(B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),he[2]),B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),-pe[2]),j(B(U(he[1],pe[0]),U(-pe[1],he[0])),ye[2]))),ae[3]))),B(j(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),he[2]),B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),-pe[2]),j(B(U(he[1],pe[0]),U(-pe[1],he[0])),ae[2]))),-ye[3]),B(j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),he[2]),B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),-ae[2]),j(B(U(he[1],ae[0]),U(-ae[1],he[0])),ye[2]))),J[3]),j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-ae[2]),j(B(U(J[1],ae[0]),U(-ae[1],J[0])),ye[2]))),-he[3])))),B(B(j(B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),ye[2]))),ae[3]),B(j(B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),ae[2]))),-ye[3]),j(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),he[2]),B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),-pe[2]),j(B(U(he[1],pe[0]),U(-pe[1],he[0])),ae[2]))),J[3]))),B(j(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-pe[2]),j(B(U(J[1],pe[0]),U(-pe[1],J[0])),ae[2]))),-he[3]),B(j(B(j(B(U(he[1],ae[0]),U(-ae[1],he[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),ae[2]))),pe[3]),j(B(j(B(U(he[1],pe[0]),U(-pe[1],he[0])),J[2]),B(j(B(U(J[1],pe[0]),U(-pe[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),pe[2]))),-ae[3]))))),ue=B(B(B(j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),pe[2]),B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),-ae[2]),j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),ye[2]))),J[3]),j(B(j(B(U(ae[1],ye[0]),U(-ye[1],ae[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-ae[2]),j(B(U(J[1],ae[0]),U(-ae[1],J[0])),ye[2]))),-pe[3])),B(j(B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-pe[2]),j(B(U(J[1],pe[0]),U(-pe[1],J[0])),ye[2]))),ae[3]),j(B(j(B(U(pe[1],ae[0]),U(-ae[1],pe[0])),J[2]),B(j(B(U(J[1],ae[0]),U(-ae[1],J[0])),-pe[2]),j(B(U(J[1],pe[0]),U(-pe[1],J[0])),ae[2]))),-ye[3]))),B(B(j(B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),he[2]),B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),-pe[2]),j(B(U(he[1],pe[0]),U(-pe[1],he[0])),ye[2]))),J[3]),j(B(j(B(U(pe[1],ye[0]),U(-ye[1],pe[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-pe[2]),j(B(U(J[1],pe[0]),U(-pe[1],J[0])),ye[2]))),-he[3])),B(j(B(j(B(U(he[1],ye[0]),U(-ye[1],he[0])),J[2]),B(j(B(U(J[1],ye[0]),U(-ye[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),ye[2]))),pe[3]),j(B(j(B(U(he[1],pe[0]),U(-pe[1],he[0])),J[2]),B(j(B(U(J[1],pe[0]),U(-pe[1],J[0])),-he[2]),j(B(U(J[1],he[0]),U(-he[1],J[0])),pe[2]))),-ye[3])))),be=Z(Ee,ue);return be[be.length-1]}}function T(B){var U=B===3?v:B===4?p:E;return U(r,t,s,a)}var S=T(3),x=T(4),O=[function(){return 0},function(){return 0},function(U,j){return j[0]-U[0]},function(U,j,Z){var ee=(U[1]-Z[1])*(j[0]-Z[0]),J=(U[0]-Z[0])*(j[1]-Z[1]),he=ee-J,pe;if(ee>0){if(J<=0)return he;pe=ee+J}else if(ee<0){if(J>=0)return he;pe=-(ee+J)}else return he;var ae=f*pe;return he>=ae||he<=-ae?he:S(U,j,Z)},function(U,j,Z,ee){var J=U[0]-ee[0],he=j[0]-ee[0],pe=Z[0]-ee[0],ae=U[1]-ee[1],ye=j[1]-ee[1],Ee=Z[1]-ee[1],ue=U[2]-ee[2],be=j[2]-ee[2],Me=Z[2]-ee[2],Xe=he*Ee,rt=pe*ye,st=pe*ae,mt=J*Ee,kt=J*ye,Le=he*ae,Ie=ue*(Xe-rt)+be*(st-mt)+Me*(kt-Le),Ne=(Math.abs(Xe)+Math.abs(rt))*Math.abs(ue)+(Math.abs(st)+Math.abs(mt))*Math.abs(be)+(Math.abs(kt)+Math.abs(Le))*Math.abs(Me),Fe=g*Ne;return Ie>Fe||-Ie>Fe?Ie:x(U,j,Z,ee)}];function P(B){var U=O[B.length];return U||(U=O[B.length]=T(B.length)),U.apply(void 0,B)}function M(B,U,j,Z,ee,J,he){return function(ae,ye,Ee,ue,be){switch(arguments.length){case 0:case 1:return 0;case 2:return Z(ae,ye);case 3:return ee(ae,ye,Ee);case 4:return J(ae,ye,Ee,ue);case 5:return he(ae,ye,Ee,ue,be)}for(var Me=new Array(arguments.length),Xe=0;Xe<arguments.length;++Xe)Me[Xe]=arguments[Xe];return B(Me)}}function G(){for(;O.length<=u;)O.push(T(O.length));e.exports=M.apply(void 0,[P].concat(O));for(var B=0;B<=u;++B)e.exports[B]=O[B]}G()})(Jhe);var rfe=k7e,Q6=Jhe.exports;function k7e(e,t){for(var r=t[0],s=t[1],a=e.length,u=1,h=a,f=0,g=a-1;f<h;g=f++){var v=e[f],p=e[g],E=v[1],T=p[1];if(T<E){if(T<s&&s<E){var S=Q6(v,p,t);if(S===0)return 0;u^=0<S|0}else if(s===E){var x=e[(f+1)%a],O=x[1];if(E<O){var S=Q6(v,p,t);if(S===0)return 0;u^=0<S|0}}}else if(E<T){if(E<s&&s<T){var S=Q6(v,p,t);if(S===0)return 0;u^=S<0|0}else if(s===E){var x=e[(f+1)%a],O=x[1];if(O<E){var S=Q6(v,p,t);if(S===0)return 0;u^=S<0|0}}}else if(s===E){var P=Math.min(v[0],p[0]),M=Math.max(v[0],p[0]);if(f===0){for(;g>0;){var G=(g+a-1)%a,B=e[G];if(B[1]!==s)break;var U=B[0];P=Math.min(P,U),M=Math.max(M,U),g=G}if(g===0)return P<=r&&r<=M?0:1;h=g+1}for(var j=e[(g+a-1)%a][1];f+1<h;){var B=e[f+1];if(B[1]!==s)break;var U=B[0];P=Math.min(P,U),M=Math.max(M,U),f+=1}if(P<=r&&r<=M)return 0;var Z=e[(f+1)%a][1];r<P&&j<s!=Z<s&&(u^=1)}}return 2*u-1}const nfe=16,ife=50,nX=5e3,afe=5,aT={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2};let ofe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.valueScaleTransform=Ss,u}return V(r,[{key:"initialize",value:function(){this.initialized||([this.prevK,this.vertK,this.vertY]=[1,1,0],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=wp(this.options.colorRange):this.colorScale=Fc),this.initialized=!0)}},{key:"initTile",value:function(a){a.texts={},a.rectGraphics=new or.PIXI.Graphics,a.textGraphics=new or.PIXI.Graphics,a.graphics.addChild(a.rectGraphics),a.graphics.addChild(a.textGraphics);let u=[],h=[];if(a.tileData&&a.tileData.length){if(a.tileData.sort((f,g)=>g.importance-f.importance),!this.options||!this.options.valueColumn){const f=a.tileData.map(g=>{const v=+g.chrOffset;return{from:+g.fields[1]+v,to:+g.fields[2]+v,value:g,text:g.fields[3],strand:g.fields.length>=6&&g.fields[5]==="-"?"-":"+"}});u=S_(f.filter(g=>g.strand==="+")),h=S_(f.filter(g=>g.strand==="-"))}else u=[a.tileData.map(f=>({value:f}))];a.plusStrandRows=u,a.minusStrandRows=h,this.options.showTexts&&a.tileData.forEach((f,g)=>{const v=f.fields;if(f.importance||(f.importance=Math.random()),a.textWidths={},a.textHeights={},g>=(+this.options.maxTexts||ife))return;const p=new or.PIXI.Text(v[3],{...aT,fontSize:+this.options.fontSize||aT.fontSize});this.flipText&&(p.scale.x=-1),p.anchor.x=.5,p.anchor.y=.5,a.texts[f.uid]=p,a.textGraphics.addChild(p)})}a.initialized=!0}},{key:"removeTileRects",value:function(a){const u=+a.tileId.split(".")[0];a.rectGraphics.clear(),a.rendered=!1,a.tileData&&a.tileData.length&&a.tileData.forEach((h,f)=>{this.drawnRects[u]&&this.drawnRects[u][h.uid]&&this.drawnRects[u][h.uid][2]===a.tileId&&delete this.drawnRects[u][h.uid]})}},{key:"destroyTile",value:function(a){this.removeTileRects(a),a.graphics.removeChild(a.textGraphics),a.graphics.removeChild(a.rectGraphics)}},{key:"removeTiles",value:function(a){i(D(r.prototype),"removeTiles",this).call(this,a)}},{key:"drawTile",value:function(a){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(a,u){i(D(r.prototype),"rerender",this).call(this,a,u),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=wp(this.options.colorRange):this.colorScale=Fc;for(const h of this.visibleAndFetchedTiles())this.destroyTile(h),this.initTile(h),this.renderTile(h)}},{key:"updateTile",value:function(a){this.areAllVisibleTilesLoaded()&&this.renderTile(a)}},{key:"allVisibleRects",value:function(){const a={};Object.values(this.fetchedTiles).forEach(g=>{if(g.plusStrandRows)for(const v of g.plusStrandRows[0])a[v.value.uid]||(a[v.value.uid]=v)});const u=Object.values(a).sort((g,v)=>g.from-v.from);let h=0,f=0;for(let g=0;g<u.length;g++)if(u[g].staggeredStartPosition!==void 0){h=g,f=u[g].staggeredStartPosition;break}for(let g=h;g<u.length;g++)u[g].staggeredStartPosition=(f+g-h)%2;for(let g=h;g>=0&&u.length;g--)u[g].staggeredStartPosition=(f+h-g)%2;return a}},{key:"drawSegmentStyle",value:function(a,u,h,f,g,v){const E=f+g/2,T=[u,f,u+2*.1,f,u+2*.1,E-.1,h-2*.1,E-.1,h-2*.1,f,h,f,h,f+g,h-2*.1,f+g,h-2*.1,E+.1,u+2*.1,E+.1,u+2*.1,f+g,u,f+g];return a.rectGraphics.drawPolygon(T),T}},{key:"drawPoly",value:function(a,u,h,f,g,v){let p=null;return this.options.annotationStyle==="segment"?this.drawSegmentStyle(a,u,h,f,g,v):((v==="+"||v==="-")&&h-u<nfe/2?(p=[u,f,u+g/2,f+g/2,u,f+g],v==="+"||(p=[h,f,h-g/2,f+g/2,h,f+g]),a.rectGraphics.drawPolygon(p)):(v==="+"?p=[u,f,h-g/2,f,h,f+g/2,h-g/2,f+g,u,f+g]:v==="-"?p=[u+g/2,f,h,f,h,f+g,u+g/2,f+g,u,f+g/2]:p=[u,f,h,f,h,f+g,u,f+g],a.rectGraphics.drawPolygon(p)),p)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){const a=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),u=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);this.options.valueColumn&&([this.valueScale]=this.makeValueScale(a,this.calculateMedianVisibleValue(+this.options.valueColumn),u))}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&this.options.colorEncoding!=="itemRgb"){const a=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),u=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=Rn().domain([a,u]).range([0,255])}}},{key:"renderRows",value:function(a,u,h,f,g,v){const p=+a.tileId.split(".")[0];this.initialize();const E=Zm().domain(Gs(h)).range([f,g]).paddingInner(.3);this.allVisibleRects();let T=null;this.options.staggered&&(T=this.allVisibleRects());for(let S=0;S<u.length;S++)for(let x=0;x<u[S].length;x++){const O=u[S][x].value,P=O.fields,M=+O.chrOffset,G=+P[1]+M,B=+P[2]+M,U=(G+B)/2;let j=E(S)+E.step()/2,Z=this.options.annotationHeight||nfe;if(Z==="scaled"&&(Z=E.bandwidth(),this.options.maxAnnotationHeight&&(Z=Math.min(Z,+this.options.maxAnnotationHeight))),this.options&&this.options.colorEncoding==="itemRgb"&&O.fields[8]?O.fields[8].split(",").length===3&&(v=`rgb(${O.fields[8]})`):this.colorValueScale&&(v=`rgba(${_w(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+P[+this.options.colorEncoding-1]).join(",")})`),this.valueScale){const ue=+P[+this.options.valueColumn-1];j=this.valueScale(ue)}const ee=this.options.fillOpacity||.3;a.rectGraphics.lineStyle(1,Kr(v),ee),a.rectGraphics.beginFill(Kr(v),ee);let J=j-Z/2;const he=this._xScale(G),pe=this._xScale(B);this.options.staggered&&(T[O.uid].staggeredStartPosition?J-=afe/2:J+=afe/2);let ae=!0;if(!(p in this.drawnRects&&O.uid in this.drawnRects[p])){ae=!1,this.drawnRects[p]||(this.drawnRects[p]={});const ue=this.drawPoly(a,he,pe,J*this.prevK,Z*this.prevK,P[5]);this.drawnRects[p][O.uid]=[ue,{start:G,end:B,value:O,tile:a,fill:v},a.tileId]}if(!this.options.showTexts)continue;if(!a.texts)return;if(x>=(+this.options.maxTexts||ife)||!a.texts[O.uid])continue;const ye=a.texts[O.uid];ye.position.x=this._xScale(U),ye.position.y=J+Z/2,ye.nominalY=J+Z/2,ae&&(ye.alreadyDrawn=!0);const Ee=this.options.fontColor!==void 0?Kr(this.options.fontColor):v;if(ye.style={...aT,fill:Ee,fontSize:+this.options.fontSize||aT.fontSize},!(P[3]in a.textWidths)){ye.updateTransform();const ue=ye.getBounds().width,be=ye.getBounds().height,Me=5;a.textWidths[P[3]]=ue,a.textHeights[P[3]]=be-Me}}}},{key:"renderTile",value:function(a){let u=a.plusStrandRows?a.plusStrandRows.length:1,h=a.minusStrandRows?a.minusStrandRows.length:1;for(const f of this.visibleAndFetchedTiles()){if(!f.initialized)return;!f.plusStrandRows&&!f.minusStrandRows||(u=Math.max(f.plusStrandRows.length,u),h=Math.max(f.minusStrandRows.length,h))}if(a.rendered&&this.removeTileRects(a),a.drawnAtScale=this._xScale.copy(),a.rendered=!0,this.setValueScale(),this.setColorValueScale(),a.tileData&&a.tileData.length){const f=this.options.plusStrandColor||this.options.fillColor||"blue",g=this.options.minusStrandColor||this.options.fillColor||"purple",v=0;let p=0;this.options.separatePlusMinusStrands?p=u*this.dimensions[1]/(u+h)-v/2:p=this.dimensions[1],this.renderRows(a,a.plusStrandRows,u,0,p,f),this.renderRows(a,a.minusStrandRows,h,this.options.separatePlusMinusStrands?p+v/2:0,this.dimensions[1],g)}z_.stretchRects(this,[f=>f.rectGraphics])}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let u=Math.min(a,this.maxZoom);return u=Math.max(u,0),u}},{key:"minVisibleValueInTiles",value:function(a){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));let h=Math.min.apply(null,u.map(f=>this.fetchedTiles[f]).filter(f=>f.tileData&&f.tileData.length).map(f=>Math.min.apply(null,f.tileData.sort((g,v)=>v.importance-g.importance).slice(0,nX).map(g=>+g.fields[a-1]).filter(g=>!Number.isNaN(g)))));return h===Number.MAX_SAFE_INTEGER&&(h=null),h}},{key:"maxVisibleValueInTiles",value:function(a){let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));let h=Math.max.apply(null,u.map(f=>this.fetchedTiles[f]).filter(f=>f.tileData&&f.tileData.length).map(f=>Math.max.apply(null,f.tileData.sort((g,v)=>v.importance-g.importance).slice(0,nX).map(g=>+g.fields[a-1]).filter(g=>!Number.isNaN(g)))));return h===Number.MIN_SAFE_INTEGER&&(h=null),h}},{key:"calculateMedianVisibleValue",value:function(a){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let u=this.visibleAndFetchedIds();u.length===0&&(u=Object.keys(this.fetchedTiles));const h=[].concat(...u.map(f=>this.fetchedTiles[f]).filter(f=>f.tileData&&f.tileData.length).map(f=>f.tileData.sort((g,v)=>v.importance-g.importance).slice(0,nX).map(g=>+g.fields[a-1]))).filter(f=>f>0);this.medianVisibleValue=tD(h)}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];for(const a in this.fetchedTiles){const u=this.fetchedTiles[a];if(u.rectGraphics.scale.y=this.vertK,u.rectGraphics.position.y=this.vertY,!u.drawnAtScale)return;z_.stretchRects(this,[f=>f.rectGraphics]);const h=this.parentInFetched(u);u.initialized&&u.tileData&&u.tileData.length&&u.tileData.forEach(f=>{if(!u.texts)return;const g=f.fields,v=g[3],p=u.texts[f.uid];if(!p)return;const E=+f.chrOffset,T=+g[1]+E,S=+g[2]+E,x=(T+S)/2;if(p.position.x=this._xScale(x),p.position.y=p.nominalY*(this.vertK*this.prevK)+this.vertY,!h&&!p.alreadyDrawn){p.visible=!0;const O=3;this.allBoxes.push([p.position.x-O,p.position.y-u.textHeights[g[3]]/2,p.position.x+u.textWidths[g[3]]+O,p.position.y+u.textHeights[g[3]]/2]),this.allTexts.push({importance:f.importance,text:p,caption:v,strand:g[5]})}else p.visible=!1})}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(a,u){iN(a,(h,f)=>{u[h].importance>u[f].importance?u[h].text.visible&&(u[f].text.visible=!1):u[f].text.visible&&(u[h].text.visible=!1)})}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a)}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h);const f=document.createElement("g"),g=document.createElement("g");h.appendChild(f),h.appendChild(g);for(const v of this.visibleAndFetchedTiles())v.tileData.length&&v.tileData.forEach(p=>{const E=+v.tileId.split(".")[0],T=document.createElement("g");if(T.setAttribute("transform",`translate(${v.rectGraphics.position.x},${v.rectGraphics.position.y})scale(${v.rectGraphics.scale.x},${v.rectGraphics.scale.y})`),f.appendChild(T),this.drawnRects[E]&&p.uid in this.drawnRects[E]){const S=this.drawnRects[E][p.uid][0],x=document.createElement("path");let O=`M ${S[0]} ${S[1]}`;for(let G=2;G<S.length;G+=2)O+=` L ${S[G]} ${S[G+1]}`;const P=this.drawnRects[E][p.uid][1].fill,M=this.options.fontColor!==void 0?Kr(this.options.fontColor):P;if(x.setAttribute("d",O),x.setAttribute("fill",P),x.setAttribute("opacity",.3),x.style.stroke=P,x.style.strokeWidth="1px",T.appendChild(x),v.texts[p.uid]){const G=v.texts[p.uid];if(!G.visible)return;const B=document.createElement("g"),U=document.createElement("text");g.appendChild(B),B.appendChild(U),B.setAttribute("transform",`translate(${G.x},${G.y})scale(${G.scale.x},1)`),U.setAttribute("text-anchor","middle"),U.setAttribute("font-family",aT.fontFamily),U.setAttribute("font-size",+this.options.fontSize||aT.fontSize),U.setAttribute("font-weight","bold"),U.setAttribute("dy","5px"),U.setAttribute("fill",M),U.setAttribute("stroke",aT.stroke),U.setAttribute("stroke-width","0.4"),U.setAttribute("text-shadow","0px 0px 2px grey"),U.innerHTML=G.text}}});return[u,u]}},{key:"movedY",value:function(a){Object.values(this.fetchedTiles).forEach(u=>{const h=this.valueScaleTransform,{y:f,k:g}=h,v=this.dimensions[1];f+a/g>-(g-1)*v&&f+a/g<0&&(this.valueScaleTransform=h.translate(0,a/g)),u.rectGraphics.position.y=this.valueScaleTransform.y,this.vertY=this.valueScaleTransform.y}),this.animate()}},{key:"zoomedY",value:function(a,u){const h=z_.zoomedY(a,u,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=h;let f=h.k;const g=h.y;let v=!1;f/=this.prevK,(f>1.5||f<1/1.5)&&(this.prevK*=f,f=1,v=!0),this.vertK=f,this.vertY=g,Object.values(this.fetchedTiles).forEach(p=>{v&&this.renderTile(p),p.rectGraphics.scale.y=f,p.rectGraphics.position.y=g}),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(a,u){if(!this.tilesetInfo)return"";const h=this.calculateZoomLevel(),f=[a,u];if(this.drawnRects[h]){const g=Object.values(this.drawnRects[h]);for(let v=0;v<g.length;v++){const p=g[v][0].slice(0),E=g[v][1].tile.rectGraphics.scale.x,T=g[v][1].tile.rectGraphics.position.x,S=g[v][1].tile.rectGraphics.scale.y,x=g[v][1].tile.rectGraphics.position.y,O=[];for(;p.length;){const[M,G]=p.splice(0,2);O.push([M*E+T,G*S+x])}if(rfe(O,f)===-1)return g[v][1].value.fields.join(" ")}}return""}}]),r}(CC);const R7e=(e,t,r,s,a)=>{a.drawRect(e,t,r,s)},P7e=(e,t,r,s,a,{fill:u=0,fillOpacity:h=0,stroke:f=0,strokeWidth:g=0,strokeOpacity:v=0}={})=>{const p=document.createElement("rect");p.setAttribute("x",e),p.setAttribute("y",t),p.setAttribute("width",r),p.setAttribute("height",s),p.setAttribute("fill",`#${Hc(u)}`),p.setAttribute("fill-opacity",h),p.setAttribute("stroke",`#${Hc(f)}`),p.setAttribute("stroke-opacity",v),p.setAttribute("stroke-width",g),a.appendChild(p)},am=(e,t,r,s,a,u)=>{a instanceof HTMLElement?P7e(e,t,r,s,a,u):R7e(e,t,r,s,a)},sfe=(e,t,r,s,a,u,h,f,{isVertical:g=!1,svg:v=null}={})=>{let p=t,E=r,T=s,S=a;const x=f.width*2>s?s/2:f.width,O=f.width*2>a?a/2:f.width,P=v||e,M={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(f.positions&&f.positions.length?(e.lineStyle(1,0,0),e.beginFill(f.color,f.opacity),M.fill=f.color,M.fillOpacity=f.opacity,M.stroke=0,M.strokeOpacity=0,M.strokeWidth=1,f.positions.forEach(G=>{G==="top"&&!g||G==="left"&&g?am(t-x,r-O,s+x*2,O,P,M):G==="bottom"&&!g||G==="right"&&g?am(t-x,r+a,s+x*2,O,P,M):G==="left"&&!g||G==="top"&&g?am(t-x,r-O,x,a+O*2,P,M):(G==="right"&&!g||G==="bottom"&&g)&&am(t+s,r-O,x,a+O*2,P,M)})):f.width>0&&f.opacity>0&&(e.lineStyle(f.width,f.color,f.opacity),e.beginFill(0,0),M.fill=0,M.fillOpacity=0,M.stroke=f.color,M.strokeOpacity=f.opacity,M.strokeWidth=f.width,am(t-x,r-O,s+x*2,a+O*2,P,M)),h.positions&&h.positions.length){e.lineStyle(1,0,0),e.beginFill(h.color,h.opacity);const G=h.width*2>s?s/2:h.width,B=h.width*2>a?a/2:h.width;M.fill=h.color,M.fillOpacity=h.opacity,M.stroke=0,M.strokeOpacity=0,M.strokeWidth=1,h.positions.forEach(U=>{U==="top"&&!g||U==="left"&&g?(am(t,r,s,B,P,M),E+=B,S-=B):U==="bottom"&&!g||U==="right"&&g?(am(t,r+a-B,s,B,P,M),S-=B):U==="left"&&!g||U==="top"&&g?(am(t,r,G,a,P,M),p+=G,T-=G):(U==="right"&&!g||U==="bottom"&&g)&&(am(t+s-G,r,G,a,P,M),T-=G)})}else e.lineStyle(h.width,h.color,h.opacity),M.stroke=h.color,M.strokeOpacity=h.opacity,M.strokeWidth=h.width;e.beginFill(u.color,u.opacity),M.fill=u.color,M.fillOpacity=u.opacity,am(p,E,T,S,P,M)};let lfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.options=a||{},u.drawnRects={},u}return V(r,[{key:"drawHorizontalOverlay",value:function(a,u,h,f=0,g,v,p,E){if(!h||h.length<2)return;let T=this.position[0]+u.left+this._xScale(h[0]);const S=this.position[1]+u.top,x=u.height;let O=this._xScale(h[1])-this._xScale(h[0]);O<f&&(T-=(f-O)/2,O=f),sfe(a,T,S,O,x,g,v,p,E)}},{key:"drawVerticalOverlay",value:function(a,u,h,f=0,g,v,p,E={}){if(!h||h.length<2)return;const T=this.position[0]+u.left;let S=this.position[1]+u.top+this._yScale(h.length>=4?h[2]:h[0]);const x=this.position[1]+u.top,O=this.position[1]+u.top+u.height;if(S>O)return;S<x&&(S=x);const P=u.width;let M=this._yScale(h.length>=4?h[3]:h[1])-S+u.top+this.position[1];M<0||(S+M>O&&(M+=O-(S+M)),M<f&&(S-=(f-M)/2,M=f),E.isVertical=!0,sfe(a,T,S,P,M,g,v,p,E))}},{key:"draw",value:function(a){i(D(r.prototype),"draw",this).call(this);const u=this.pMain,h={color:Kr(this.options.fill||this.options.fillColor||"blue"),opacity:Number.isNaN(+this.options.fillOpacity)?.3:+this.options.fillOpacity},f={color:Kr(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},g={color:Kr(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!a||!a.svg)&&u.clear(),u.lineStyle(f.width,f,+!f.positions*f.opacity),u.beginFill(h.color,h.opacity);const v=Math.max(0,+this.options.minWidth||0),p=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach(E=>{(E.orientation==="1d-horizontal"||E.orientation==="2d")&&this.options.extent.forEach(T=>this.drawHorizontalOverlay(u,E.position,T,v,h,f,g,a)),(E.orientation==="1d-vertical"||E.orientation==="2d")&&this.options.extent.forEach(T=>this.drawVerticalOverlay(u,E.position,T,p,h,f,g,a))})}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.draw()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.draw()}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");return a.appendChild(h),this.draw({svg:h}),[u,a]}}]),r}(du),LC=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(a){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";const u=this.getDataAtPos(a);let h="";u&&(h=cl(".3f")(u));const f=this.pMouseOver,g=0,v=this.valueScale(u);f.clear(),f.beginFill(g,.5),f.lineStyle(1,g,1);const p=4;return f.drawRect(a-p/2,v-p/2,p,p),this.animate(),`${h}`}},{key:"initTile",value:function(a){if(i(D(r.prototype),"initTile",this).call(this,a),!a.tileData||!a.tileData.dense){console.warn("emptyTile:",a);return}if(a.xValues=new Array(a.tileData.dense.length),a.yValues=new Array(a.tileData.dense.length),this.isValueScaleLocked()){const u=this.getLockGroupExtrema();u!==null&&(this.minValue(u[0]),this.maxValue(u[1]))}this.drawTile(a)}},{key:"rerender",value:function(a,u){i(D(r.prototype),"rerender",this).call(this,a,u),this.options=a,i(D(r.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach(h=>{this.renderTile(h)})}},{key:"renderTile",value:function(a){this.drawTile(a),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(a){if(i(D(r.prototype),"drawTile",this).call(this,a),!a.graphics||!a.tileData||!a.tileData.dense)return;const u=a.graphics,{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos),g=a.tileData.dense;if(g.length===0)return;const[v,p]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(this.valueScale=v,u.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const E=Kr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);const T=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,S=Rn().domain([0,T]).range([h,h+f]),x=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;u.lineStyle(x,E,1),a.segments=[];let O=[];for(let P=0;P<g.length;P++){const M=this._xScale(S(P)),G=this.valueScale(g[P]+p);if(this.options.valueScaling==="log"&&g[P]===0||Number.isNaN(G)){O.length>1&&a.segments.push(O),O=[];continue}if(S(P)>this.tilesetInfo.max_pos[0])break;O.push([M,G])}O.length>1&&a.segments.push(O);for(const P of a.segments){const M=P[0],G=P.slice(1);u.moveTo(M[0],M[1]);for(const B of G)u.lineTo(B[0],B[1])}}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw();const h=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){if(this.valueScaleMin===null&&this.valueScaleMax===null&&!h){const f=this.minVisibleValue(),g=this.maxVisibleValue(),v=1e-6;f!==null&&g!==null&&(Math.abs(this.minValue()-f)>v||Math.abs(this.maxValue()-g)>v)&&(this.minValue(f),this.maxValue(g),this.scheduleRerender())}h&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return i(D(r.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u),u.setAttribute("class","exported-line-track");const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);const f=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach(v=>{const p=document.createElement("path");p.setAttribute("fill","transparent"),p.setAttribute("stroke",f);let E="";for(const T of v.segments){const S=T[0],x=T.slice(1);E+=`M${S[0]} ${S[1]}`;for(const O of x)E+=`L${O[0]} ${O[1]}`}p.setAttribute("d",E),h.appendChild(p)});const g=document.createElement("g");if(g.setAttribute("id","axis"),u.appendChild(g),g.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const v=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);g.appendChild(v)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const v=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);g.appendChild(v)}return[u,a]}},{key:"tileToLocalId",value:function(a){return this.options.aggregationMode&&this.options.aggregationMode!=="mean"?`${a.join(".")}.${this.options.aggregationMode}`:`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return this.tileToLocalId(a)}}]),r}(CC),ufe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"initTile",value:function(a){a.barXValues=new Array(a.tileData.dense.length),a.barYValues=new Array(a.tileData.dense.length),a.barWidths=new Array(a.tileData.dense.length),a.barHeights=new Array(a.tileData.dense.length),i(D(r.prototype),"initTile",this).call(this,a)}},{key:"drawTile",value:function(a){if(!a.graphics||!a.tileData||!a.tileData.dense)return;const u=a.graphics,{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos),g=a.tileData.dense;if(g.length===0)return;let v=0;if(this.valueScale=null,this.options.valueScaling==="log"){let O=this.medianVisibleValue;this.medianVisibleValue||(O=this.minValue()),this.valueScale=Rf().domain([O,this.maxValue()+O]).range([this.dimensions[1],0]),v=O}else this.valueScale=Rn().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(u.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const p=Kr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),E=Rn().domain([0,this.tilesetInfo.tile_size]).range([h,h+f]),T=0;u.lineStyle(T,p,1);const S=this.options.pointSize?this.options.pointSize:3,x=Kr(this.options.pointColor?this.options.pointColor:"red");u.beginFill(x,1),a.drawnAtScale=this._xScale.copy();for(let O=0;O<g.length;O++){const P=this._xScale(E(O)),M=this.valueScale(g[O]+v);if(a.barXValues[O]=P-S/2/this.pMain.scale.x,a.barYValues[O]=M-S/2/this.pMain.scale.y,a.barWidths[O]=S/this.pMain.scale.x,a.barHeights[O]=S/this.pMain.scale.y,E(O)>this.tilesetInfo.max_pos[0])break;u.drawRect(P-S/2/this.pMain.scale.x,M-S/2/this.pMain.scale.y,S/this.pMain.scale.x,S/this.pMain.scale.y)}}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this);for(const a of zi(this.fetchedTiles)){const u=(a.drawnAtScale.domain()[1]-a.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),f=this._xScale.domain().map(a.drawnAtScale)[0];a.graphics.scale.x=u,a.graphics.position.x=-f*u}}},{key:"zoomed",value:function(a,u,h,f,g){i(D(r.prototype),"zoomed",this).call(this,a,u)}},{key:"exportSVG",value:function(){let a=null,u=null;[u,a]=i(D(r.prototype),"superSVG",this).call(this),u.setAttribute("class","exported-line-track");const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);for(const g of this.visibleAndFetchedTiles())for(let v=0;v<g.barXValues.length;v++){const p=document.createElement("rect"),E=this.options.lineStrokeColor||"blue",T=this.options.pointColor||"red";p.setAttribute("fill",T),p.setAttribute("stroke",E),p.setAttribute("stroke-width",0),p.setAttribute("x",g.barXValues[v]),p.setAttribute("y",g.barYValues[v]),p.setAttribute("height",g.barHeights[v]),p.setAttribute("width",g.barWidths[v]),h.appendChild(p)}const f=document.createElement("g");if(f.setAttribute("id","axis"),u.appendChild(f),f.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const g=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);f.appendChild(g)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const g=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);f.appendChild(g)}return[u,a]}}]),r}(LC);function N7e(e){let t=0;const r=[];return e.forEach(s=>{t+=+s||0,r.push(t)}),Float64Array.from(r)}const M7e=(e,t)=>{const r=A_(e,t);return N7e(e.map(s=>(Array.isArray(s)&&t?s.length:1)/r))};let cfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.pMain=u.pMobile,u.continuousScaling=!1,u.updateDataFetcher(a),u}return V(r,[{key:"updateDataFetcher",value:function(a){if(a&&a.selectRows&&a.selectRowsAggregationMethod==="server"){const{pubSub:u,dataFetcher:h}=this,f=h.dataConfig.options,g={aggGroups:a.selectRows,aggFunc:a.selectRowsAggregationMode};if(JSON.stringify(f)!==JSON.stringify(g)){const v={...h.dataConfig,options:g};this.dataFetcher=new h.constructor(v,u),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles(Object.keys(this.fetchedTiles).map(p=>({tileId:p,remoteId:p})))}}}},{key:"rerender",value:function(a,u){this.updateDataFetcher(a),i(D(r.prototype),"rerender",this).call(this,a,u),a.selectRows&&(this.selectRowsCumWeights=M7e(a.selectRows,a.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(a){const u=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(u.width=this.tilesetInfo.shape[0],u.height=A_(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(u.width=this.tilesetInfo.shape[0],u.height=this.tilesetInfo.shape[1]):(u.width=this.tilesetInfo.tile_size,u.height=1);const h=u.getContext("2d");if(h.fillStyle="transparent",h.fillRect(0,0,u.width,u.height),a.length!==0&&a.length===4*u.width*u.height){const f=new ImageData(a,u.width,u.height);h.putImageData(f,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return u}},{key:"setSpriteProperties",value:function(a,u,h){const{tileX:f,tileWidth:g}=this.getTilePosAndDimensions(u,h,this.tilesetInfo.tile_size),v=f+g;a.width=this._refXScale(v)-this._refXScale(f),a.height=this.dimensions[1],a.x=this._refXScale(f),a.y=0}},{key:"leftTrackZoomed",value:function(a,u,h,f,g){const v=this._xScale(0)-h*this._refXScale(0);this.pMobile.position.x=v+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=h,this.pMobile.scale.y=1}},{key:"zoomed",value:function(a,u,h,f){i(D(r.prototype),"zoomed",this).call(this,a,u),this.pMain.position.x=f,this.pMain.position.y=this.position[1],this.pMain.scale.x=h,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const u=this.tilesetInfo.resolutions.map(h=>+h).sort((h,f)=>f-h);this.xTiles=Lr.calculateTilesFromResolution(u[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const a=this.xTiles.map(u=>[this.zoomLevel,u]);this.setVisibleTiles(a)}},{key:"calculateZoomLevel",value:function(){if(!this.tilesetInfo)return;const a=this.tilesetInfo.min_pos[0];let u=null;return this.tilesetInfo.resolutions?u=Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,a):u=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),u}},{key:"tileToLocalId",value:function(a){return a.join(".")}},{key:"tileToRemoteId",value:function(a){return a.join(".")}},{key:"getTilePosAtPosition",value:function(a,u){if(!this.tilesetInfo)return;const h=this.calculateZoomLevel(),f=Lr.calculateTileWidth(this.tilesetInfo,h,this.tilesetInfo.tile_size),g=this._xScale.invert(a)/f;return[h,Math.floor(g)]}},{key:"getVisibleData",value:function(a,u){const h=this.calculateZoomLevel(),f=Lr.calculateTileWidth(this.tilesetInfo,h,this.tilesetInfo.tile_size),g=this._xScale.invert(a)/f;let v=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(v=A_(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));let p=this.tilesetInfo.tile_size*(g-Math.floor(g));const E=u/this.dimensions[1],T=E*v;let S=Math.floor(T),x;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(S=this.selectRowsCumWeights.findIndex((G,B)=>E<=G&&(B===this.selectRowsCumWeights.length-1||this.selectRowsCumWeights[B+1]>=E))),x=this.options.selectRows[S]);const O=this.tileToLocalId([h,Math.floor(g)]),P=this.fetchedTiles[O];let M="";if(P){this.tilesetInfo.shape||(p=P.tileData.dense.length*(g-Math.floor(g)));let G=null;if(this.tilesetInfo.shape?Array.isArray(x)&&this.options.selectRowsAggregationMethod==="client"?G=x.map(B=>this.tilesetInfo.shape[0]*B+Math.floor(p)):x&&this.options.selectRowsAggregationMethod==="client"?G=this.tilesetInfo.shape[0]*x+Math.floor(p):G=this.tilesetInfo.shape[0]*S+Math.floor(p):G=P.tileData.dense.length*S+Math.floor(p),Array.isArray(G)){const B=IR(this.options.selectRowsAggregationMode),U=G.map(j=>P.tileData.dense[j]);M=cl(".3f")(B(U)),M+="<br/>",M+=`${G.length}-item ${this.options.selectRowsAggregationMode}`}else M=cl(".3f")(P.tileData.dense[G]),Array.isArray(x)&&(M+="<br/>",M+=`${x.length}-item ${this.options.selectRowsAggregationMode}`)}if(this.tilesetInfo.row_infos){M+="<br/>";let G="";this.options.selectRows&&!Array.isArray(x)?G=this.tilesetInfo.row_infos[x]:S>=0&&S<this.tilesetInfo.row_infos.length&&(G=this.tilesetInfo.row_infos[S]),typeof G=="object"?M+=Object.values(G).join("	"):M+=G}return`${M}`}},{key:"getMouseOverHtml",value:function(a,u){if(!this.tilesetInfo)return"";const h=this.getTilePosAtPosition(a,u);let f="";if(this.options&&this.options.heatmapValueScaling&&this.options.heatmapValueScaling==="categorical"&&this.options.colorRange){const v=this.getVisibleData(a,u).split("<br/>"),p=this.options.colorRange[parseInt(v[0],10)-1],E=v[1];if(Number.isNaN(p)||p==="NaN"||typeof p>"u"||p==="undefined")return"";f=`<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"
                 style="fill:${p};stroke:black;stroke-width:2;"></svg> ${E}`}else f+=`Data value: ${this.getVisibleData(a,u)}</br>`,f+=`Zoom level: ${h[0]} tile position: ${h[1]}`;return f}}]),r}(KP);const L7e=Kr("#FFFFFF");let iX=function(e){c(r,e);var t=d(r);function r(...s){var a;return L(this,r),a=t.call(this,...s),a.zeroLine=new or.PIXI.Graphics,a.pMain.addChild(a.zeroLine),a.valueScaleTransform=Ss,a.options&&a.options.colorRange&&(a.options.colorRangeGradient?a.setColorGradient(a.options.colorRange):a.setColorScale(a.options.colorRange)),a.initialized=!0,a}return V(r,[{key:"setColorScale",value:function(a){a&&(this.colorScale=wp(a),this.colorScale=this.colorScale.map(u=>u.map(h=>h/255)))}},{key:"setColorGradient",value:function(a){if(!a)return;const u=a.length-1;this.colorGradientColors=this.options.align==="bottom"?a.slice().reverse().map((h,f)=>({from:f/u,color:h})):a.map((h,f)=>({from:f/u,color:h}))}},{key:"initTile",value:function(a){this.initialized&&i(D(r.prototype),"initTile",this).call(this,a)}},{key:"updateTile",value:function(a){(!a.valueScale||!this.scale||this.scale.minValue!==a.scale.minValue||this.scale.maxValue!==a.scale.maxValue)&&this.renderTile(a)}},{key:"renderTile",value:function(a){this.initialized&&i(D(r.prototype),"renderTile",this).call(this,a)}},{key:"drawTile",value:function(a){if(!a.graphics||!a.tileData||!a.tileData.dense)return;const{graphics:u}=a;a.svgData=void 0;const{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),g=a.tileData.dense;if(g.length===0)return;const[v,p]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0);v.clamp(!0),this.valueScale=v;const E=v.copy();if(E.range([254,0]).clamp(!0),u.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const T=Kr(this.options.lineStrokeColor||"blue"),S=Rn().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([h,h+f]),x=0;u.lineStyle(x,T,1);const O=this.options.barFillColor||"grey",P=Kr(O),M="barOpacity"in this.options?this.options.barOpacity:1;u.beginFill(P,M),a.drawnAtScale=this._xScale.copy();const G=this.options.align==="top";let B,U,j,Z,ee,J;if(this.colorGradientColors){ee=new or.PIXI.Graphics,ee.beginFill(L7e,1);const he=IF(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);J=new or.PIXI.Sprite(or.PIXI.Texture.fromCanvas(he,or.PIXI.SCALE_MODES.NEAREST)),J.x=this._xScale(h),J.width=this._xScale(h+f)-J.x}for(let he=0;he<g.length;he++)if(B=this._xScale(S(he)),j=this.valueScale(g[he]+p),U=this._xScale(S(he+1))-B,Z=this.dimensions[1]-j,G&&(j=0),!(Number.isNaN(Z)||Z<0||j<0)){if(this.addSVGInfo(a,B,j,U,Z,O),S(he)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){const pe=Math.round(E(g[he]+p)),ae=this.colorScale[pe],ye=or.PIXI.utils.rgb2hex(ae);u.beginFill(ye,M)}(ee||u).drawRect(B,j,U,Z)}this.colorGradientColors&&(J.mask=ee,u.removeChildren(),u.addChild(J,ee))}},{key:"rerender",value:function(a,u){a&&a.colorRange&&(a.colorRangeGradient?this.setColorGradient(a.colorRange):this.setColorScale(a.colorRange)),i(D(r.prototype),"rerender",this).call(this,a,u)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();const a=Kr(this.options.barFillColor||"grey"),u=+this.options.barOpacity||1,h=this.options.zeroLineColor?Kr(this.options.zeroLineColor):a,f=Number.isNaN(+this.options.zeroLineOpacity)?u:+this.options.zeroLineOpacity;this.zeroLine.beginFill(h,f),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(a){const u=document.createElement("rect");u.setAttribute("id","zero-line"),u.setAttribute("x",0),u.setAttribute("y",this.dimensions[1]-1),u.setAttribute("height",1),u.setAttribute("width",this.dimensions[0]),u.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),u.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),a.appendChild(u)}},{key:"getXScaleAndOffset",value:function(a){const u=a.domain(),h=this._xScale.domain(),f=(u[1]-u[0])/(h[1]-h[0]),v=this._xScale.domain().map(a)[0];return[f,-v*f]}},{key:"draw",value:function(){this.initialized&&(i(D(r.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),Object.values(this.fetchedTiles).forEach(a=>{const[u,h]=this.getXScaleAndOffset(a.drawnAtScale);a.graphics.scale.x=u,a.graphics.position.x=h}))}},{key:"zoomed",value:function(a,u){i(D(r.prototype),"zoomed",this).call(this,a,u)}},{key:"movedY",value:function(a){}},{key:"zoomedY",value:function(a,u){}},{key:"addSVGInfo",value:function(a,u,h,f,g,v){a.svgData?(a.svgData.barXValues.push(u),a.svgData.barYValues.push(h),a.svgData.barWidths.push(f),a.svgData.barHeights.push(g),a.svgData.barColors.push(v)):a.svgData={barXValues:[u],barYValues:[h],barWidths:[f],barHeights:[g],barColors:[v]}}},{key:"exportSVG",value:function(){let a=null,u=null;[u,a]=i(D(r.prototype),"superSVG",this).call(this),u.setAttribute("class","exported-line-track");const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.options.zeroLine&&this.drawZeroLineSvg(h),this.visibleAndFetchedTiles().filter(g=>g.svgData&&g.svgData.barXValues).forEach(g=>{const v=g.svgData;for(let p=0;p<v.barXValues.length;p++){const E=document.createElement("rect");E.setAttribute("fill",v.barColors[p]),E.setAttribute("stroke",v.barColors[p]),E.setAttribute("x",v.barXValues[p]),E.setAttribute("y",v.barYValues[p]),E.setAttribute("height",v.barHeights[p]),E.setAttribute("width",v.barWidths[p]),g.barBorders&&(E.setAttribute("stroke-width","0.1"),E.setAttribute("stroke","black")),h.appendChild(E)}});const f=document.createElement("g");if(f.setAttribute("id","axis"),u.appendChild(f),f.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const g=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);f.appendChild(g)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const g=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);f.appendChild(g)}return[u,a]}}]),r}(LC),hfe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"drawTile",value:function(a){this.renderTile(a)}},{key:"renderTile",value:function(a){if(!a.graphics)return;const u=a.graphics,{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),g=a.tileData.dense;if(g.length===0)return;let v=0;if(this.valueScale=null,this.options.valueScaling==="log"){let B=this.medianVisibleValue;this.medianVisibleValue||(B=this.minValue()),this.valueScale=Rf().domain([B,this.maxValue()+B]).range([this.dimensions[1],0]),v=B}else this.valueScale=Rn().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(u.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const p=Kr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),E=Rn().domain([0,this.tilesetInfo.tile_size]).range([h,h+f]),T=0;u.lineStyle(T,p,1);const S=this.options.barFillColorTop?this.options.barFillColorTop:"green",x=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",O=Kr(S),P=Kr(x),M="barOpacity"in this.options?this.options.barOpacity:1;a.drawnAtScale=this._xScale.copy();let G=0;this.options.valueScaling==="log"?G=this.valueScale(1):G=this.valueScale(0),delete a.svgData;for(let B=0;B<g.length;B++){const U=this._xScale(E(B)),j=this.valueScale(g[B]+v),Z=this._xScale(E(B+1))-U;if(j>G?(u.beginFill(P,M),this.addSVGInfo(a,U,G,Z,j-G,x)):(u.beginFill(O,M),this.addSVGInfo(a,U,j,Z,G-j,S)),E(B)>this.tilesetInfo.max_pos[0])break;u.drawRect(U,a.svgData.barYValues[B],Z,a.svgData.barHeights[B])}}}]),r}(iX),ffe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.setColorScale(a.colorRange),u.opacity=a.opacity||1,u}return V(r,[{key:"setColorScale",value:function(a){this.colorScale=a?wp(a):Fc,this.colorScale=this.colorScale.map(u=>u.map(h=>h/255))}},{key:"rerender",value:function(a){a&&a.colorRange&&this.setColorScale(a.colorRange),this.opacity=a.opacity||1,i(D(r.prototype),"rerender",this).call(this,a)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(a){if(!a.graphics||!a.tileData||!a.tileData.dense)return;const u=a.graphics,{tileX:h,tileWidth:f}=this.getTilePosAndDimensions(a.tileData.zoomLevel,a.tileData.tilePos),g=a.tileData.dense;if(g.length===0)return;const[v,p]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(v.range([254,0]).clamp(!0),this.valueScale=v,u.clear(),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const E=Rn().domain([0,this.tilesetInfo.tile_size]).range([h,h+f]);u.lineStyle(0,0,0);for(let T=0;T<g.length;T++){if(Number.isNaN(g[T]))continue;const S=Math.round(this.valueScale(g[T]+p));if(Number.isNaN(+S))continue;const x=this._xScale(E(T)),O=this._xScale(E(T+1))-x,P=this.dimensions[1];a.xValues[T]=x,a.yValues[T]=S;const M=this.colorScale[S],G=or.PIXI.utils.rgb2hex(M);if(u.beginFill(G,this.opacity),T!==0){if(E(T)>this.tilesetInfo.max_pos[0])break;g[T]!==0&&u.drawRect(x,0,O,P)}}}}]),r}(LC),dfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.seen=new Set,u.pMain=u.pMobile,u.rows=[],u}return V(r,[{key:"uid",value:function(a){return a[a.length-2]}},{key:"segmentOverlap",value:function(a,u){}},{key:"drawAll",value:function(a){this.pMain.clear();const u=new Set,h=a.map(g=>u.has(this.uid(g))?null:(u.add(this.uid(g)),{from:+g[1],to:+g[2],type:g[4],uid:this.uid(g)})).filter(g=>g),f=S_(h);this.rows=f,this.draw()}},{key:"draw",value:function(){const a=this.rows;if(!a)return;const u=Zm().range([0,this.dimensions[1]]).padding(.1).domain(Gs(0,this.maxRows())),h=this.pMain;h.clear(),h.lineStyle(1,255,0),h.beginFill(16740363,.8);for(let f=0;f<a.length;f++)for(let g=0;g<a[f].length;g++){const v=a[f][g],p=this._refXScale(v.from),E=this._refXScale(v.to),T=u(f),S=T+u.bandwidth(),x=E-p,O=S-T;h.drawRect(p,T,x,O)}}},{key:"allTilesLoaded",value:function(){const u=this.visibleAndFetchedIds().map(f=>this.fetchedTiles[f].tileData.discrete),h=[].concat(...u);this.drawAll(h)}},{key:"initTile",value:function(a){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(a){}},{key:"destroyTile",value:function(a){a.tileData.discrete.forEach(u=>{const h=u[u.length-2];this.seen.has(h)&&this.seen.delete(h)})}},{key:"drawTile",value:function(a){}}]),r}(CC),pfe=function(){function e(t){L(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new or.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new or.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}return V(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(r){this.dimensions=r;const s=[r[1],r[0]];this.originalTrack.setDimensions(s)}},{key:"setPosition",value:function(r){this.position=r,this.originalTrack.setPosition(r),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                                 rotate(90)
                                 scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}},{key:"refXScale",value:function(r){return arguments.length?(this.originalTrack._refXScale=r,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(r){return arguments.length?(this.originalTrack._refYScale=r,this):this.originalTrack._refXScale}},{key:"xScale",value:function(r){return arguments.length?(this.originalTrack._yScale=r,this):this.originalTrack._xScale}},{key:"yScale",value:function(r){return arguments.length?(this.originalTrack._xScale=r,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(r,s){return this.originalTrack.getMouseOverHtml(s,r)}},{key:"clickOutside",value:function(){this.originalTrack.clickOutside()}},{key:"click",value:function(...r){this.originalTrack.click(...r)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(r,s,a=1,u=0,h=0,f=0,g=0){if(this.xScale(r),this.yScale(s),this.originalTrack.leftTrackZoomed){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(r,s,a,u,h),this.originalTrack.draw();return}const v=this.originalTrack._xScale(0)-a*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=v+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=a,this.originalTrack.pMobile.scale.y=a,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-a,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackDraw();return}this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(r,s){this.originalTrack.zoomedY(r,s)}},{key:"movedY",value:function(r){this.originalTrack.movedY(r)}},{key:"refScalesChanged",value:function(r,s){this.originalTrack.refScalesChanged(s,r)}},{key:"rerender",value:function(r){this.originalTrack.rerender(r)}},{key:"exportSVG",value:function(){const r=document.createElement("g");if(r.setAttribute("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.exportSVG){const s=document.createElement("g");s.setAttribute("transform",`translate(${this.originalTrack.pBase.position.x}, ${this.originalTrack.pBase.position.y})`),s.appendChild(this.originalTrack.exportSVG()[0]),r.appendChild(s)}return[r,r]}},{key:"respondsToPosition",value:function(r,s){return r>=this.position[0]&&r<=this.dimensions[0]+this.position[0]&&s>=this.position[1]&&s<=this.dimensions[1]+this.position[1]}}]),e}();const mfe=11,aX="Arial",gfe="outside",oX=10,F7e=4,B7e=20,H7e=Kr("#ffffff"),J6=2,FC=2*(2*oX/3)/3,U7e=50,G7e=5e3,sX="blue",lX="red",uX=(e,t,r)=>{r.type!=="filler"&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:r})},vfe=(e,t)=>{const r=e.concat(t),s=r.map(a=>[a.xStart,1,a.xEnd,1]);iN(s,(a,u)=>{let h=null,f=null;if(r[a].type==="filler"?h=r[a]:f=r[a],r[u].type==="filler"){if(h)return;h=r[u]}else{if(!h)return;f=r[u]}h.xStart>=f.xStart&&h.xEnd<=f.xEnd&&(h.hide=!0)})};function $7e(e,t,r){const{flipText:s,fontSize:a,fontFamily:u,plusStrandColor:h,minusStrandColor:f,maxGeneEntries:g,maxFillerEntries:v,maxTexts:p}=r;if(t.texts={},t.rectGraphics=new or.PIXI.Graphics,t.textBgGraphics=new or.PIXI.Graphics,t.textGraphics=new or.PIXI.Graphics,t.rectMaskGraphics=new or.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,!t.tileData.sort)return;t.tileData.sort((S,x)=>x.importance-S.importance);const E=t.tileData.filter(S=>S.type!=="filler").slice(0,g),T=t.tileData.filter(S=>S.type==="filler").slice(0,v);t.tileData=E.concat(T),t.tileData.forEach((S,x)=>{if(S.type==="filler")return;const O=S.fields,P=O[3],M=e.geneId(O,S.type),G=S.strand||O[5];S.strand=S.strand||G;let B=h||sX;if(G==="-"&&(B=f||lX),t.textWidths={},t.textHeights={},x>=p)return;const U=new or.PIXI.Text(P,{fontSize:`${a}px`,fontFamily:u,fill:Kr(B)});U.interactive=!0,s&&(U.scale.x=-1),U.anchor.x=.5,U.anchor.y=1,t.texts[M]=U,t.texts[M].strand=G,t.textGraphics.addChild(U)}),t.initialized=!0}function yfe(e,t,r,s,a,u,h,f,g){const v=f-g/2,p=0;e.forEach(E=>{const T=new or.PIXI.Graphics;r.rectGraphics.addChild(T),T.beginFill(u,.1),T.lineStyle(0,u);const S=[a(E.xStart)-p,v,a(E.xEnd)+p,v,a(E.xEnd)+p,v+g,a(E.xStart)-p,v+g,a(E.xStart)-p,v];T.interactive=!0,T.buttonMode=!0,T.mouseup=x=>uX(x,t,E),T.drawPolygon(S),r.allRects.push([S,E.strand,E])})}function z7e(e,t,r,s,a,u,h,f,g,v){const p=f-g/2,E=a.split(",").map(U=>+U+h),T=u.split(",").map(U=>+U+h),S=e._xScale(r),x=e._xScale(s),O=x-S,P=f,M=[];let G=[S,P-J6/2,S+O,P-J6/2,S+O,P+J6/2,S,P+J6/2];t.drawPolygon(G),M.push(G);const B=2*g;for(let U=Math.max(e.position[0],S)+B;U<Math.min(e.position[0]+e.dimensions[0],S+O);U+=B)v==="+"?G=[U,P-FC/2,U+FC/2,P,U,P+FC/2]:G=[U,P-FC/2,U-FC/2,P,U,P+FC/2],M.push(G),t.drawPolygon(G);for(let U=0;U<E.length;U++){const j=E[U],Z=T[U],ee=e._xScale(j),J=Math.max(1,e._xScale(Z)-e._xScale(j));let he=S,pe=x;const ae=e.geneRectHeight/2;let ye=null;v==="+"?(pe=x-ae,ye=[Math.min(ee,pe),p,Math.min(ee+J,pe),p,Math.min(ee+J,pe),p+g,Math.min(ee,pe),p+g,Math.min(ee,pe),p]):(he=S+ae,ye=[Math.max(ee,he),p,Math.max(ee+J,he),p,Math.max(ee+J,he),p+g,Math.max(ee,he),p+g,Math.max(ee,he),p]),M.push(ye),t.drawPolygon(ye)}return M}function V7e(e,t,r,s,a,u,h,f,g){const v=f-g/2;e.forEach(p=>{const E=t._xScale(p.xStart),T=t._xScale(p.xEnd),S=new or.PIXI.Graphics;r.rectGraphics.addChild(S),S.beginFill(u,h),S.interactive=!0,S.buttonMode=!0,S.mouseup=P=>uX(P,t,p);const x=t.geneRectHeight/2;let O=[];if(p.strand==="+"||p.fields[5]==="+"){const P=Math.max(E,T-x),M=P+x;O=[P,v,M,v+t.geneRectHeight/2,P,v+t.geneRectHeight]}else{const P=Math.min(T,E+x),M=P-x;O=[P,v,M,v+t.geneRectHeight/2,P,v+t.geneRectHeight]}S.drawPolygon(O),r.allRects.push([O,p.strand,p])})}function j7e(e,t,r,s,a,u,h,f,g){e.forEach(v=>{const p=v.fields,E=+v.chrOffset,T=p[12],S=p[13],x=new or.PIXI.Graphics;r.rectGraphics.addChild(x),x.beginFill(u,h),x.interactive=!0,x.buttonMode=!0,x.mouseup=O=>uX(O,t,v),r.allRects=r.allRects.concat(z7e(t,x,v.xStart,v.xEnd,T,S,E,f,g,v.strand||v.fields[5]).map(O=>[O,v.strand,v]))})}function bfe(e,t,r,s,a,u,h,f,g){V7e(e,t,r,s,a,u,h,f,g),j7e(e,t,r,s,a,u,h,f,g)}function W7e(e,t){const{tileX:r,tileWidth:s}=z_.getTilePosAndDimensions(e.tilesetInfo,t.tileId);t.rectMaskGraphics.clear();const a=Math.floor(Math.random()*16**6);t.rectMaskGraphics.beginFill(a,.3);const u=e._xScale(r),h=0,f=e._xScale(r+s)-e._xScale(r),g=e.dimensions[1];t.rectMaskGraphics.drawRect(u,h,f,g)}let cX=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{animate:h}=s;return u.animate=h,u.options=a,u.fontSize=+u.options.fontSize||mfe,u.geneLabelPos=u.options.geneLabelPosition||gfe,u.geneRectHeight=+u.options.geneAnnotationHeight||oX,u.geneRectHeight-=2,u.geneStrandSpacing=+u.options.geneStrandSpacing||F7e,u.geneStrandHSpacing=u.geneStrandSpacing/2,u.geneRectHHeight=u.geneRectHeight/2,u}return V(r,[{key:"initTile",value:function(a){$7e(this,a,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:aX,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:U7e,maxFillerEntries:G7e,maxTexts:B7e}),this.renderTile(a)}},{key:"destroyTile",value:function(a){a.rectGraphics.destroy(),a.rectMaskGraphics.destroy(),a.textGraphics.destroy(),a.textBgGraphics.destroy(),a.graphics.destroy()}},{key:"rerender",value:function(a,u){const h=JSON.stringify(a);!u&&h===this.prevOptions||(i(D(r.prototype),"rerender",this).call(this,a,u),this.fontSize=+this.options.fontSize||mfe,this.geneLabelPos=this.options.geneLabelPosition||gfe,this.geneRectHeight=+this.options.geneAnnotationHeight||oX,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=h,this.visibleAndFetchedTiles().forEach(f=>{this.renderTile(f)}))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(a,u){return`${u}_${a[0]}_${a[1]}_${a[2]}_${a[3]}`}},{key:"renderTile",value:function(a){if(!a.initialized)return;a.allRects=[],a.drawnAtScale=this._xScale.copy(),a.rectGraphics.removeChildren(),a.rectGraphics.clear(),a.textBgGraphics.clear();const u={},h=.3,f=.3;u["+"]=Kr(this.options.plusStrandColor||sX),u["-"]=Kr(this.options.minusStrandColor||lX);let g=a.tileData.filter(M=>M.type==="filler"&&M.strand==="+"),v=a.tileData.filter(M=>M.type==="filler"&&M.strand==="-");const p=a.tileData.filter(M=>M.type!=="filler"&&(M.strand==="+"||M.fields[5]==="+")),E=a.tileData.filter(M=>M.type!=="filler"&&(M.strand==="-"||M.fields[5]==="-"));vfe(p,g),vfe(E,v),g=g.filter(M=>!M.hide),v=v.filter(M=>!M.hide);const T=this.dimensions[1]/2,S=T-this.geneRectHeight/2-this.geneStrandSpacing/2,x=T+this.geneRectHeight/2+this.geneStrandSpacing/2,O=[this,a,a.rectGraphics,this._xScale,u["+"],h,S,this.geneRectHeight],P=[this,a,a.rectGraphics,this._xScale,u["-"],h,x,this.geneRectHeight];yfe(g,...O),yfe(v,...P),O[5]=f,P[5]=f,bfe(p,...O),bfe(E,...P),W7e(this,a),z_.stretchRects(this,[M=>M.rectGraphics,M=>M.rectMaskGraphics]);for(const M of Object.values(a.texts))M.style={fontSize:`${this.fontSize}px`,FONT_FAMILY:aX,fill:Kr(M.strand==="-"?this.options.minusStrandColor||lX:this.options.plusStrandColor||sX)}}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let u=Math.min(a,this.maxZoom);return u=Math.max(u,0),u}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];const a=[];this.geneAreaHeight=this.geneRectHeight;const u=this.fontSize/2;z_.stretchRects(this,[h=>h.rectGraphics,h=>h.rectMaskGraphics]),Object.values(this.fetchedTiles).filter(h=>h.drawnAtScale).forEach(h=>{h.textBgGraphics.clear(),h.textBgGraphics.beginFill(typeof this.options.labelBackgroundColor<"u"?Kr(this.options.labelBackgroundColor):H7e);const f=this.parentInFetched(h);h.initialized&&h.tileData.forEach(g=>{if(!h.texts||g.type==="filler")return;const v=g.fields,p=v[3],E=this.geneId(v,g.type),T=h.texts[E];if(!T)return;const S=+g.chrOffset,x=+v[1]+S,O=+v[2]+S,P=(x+O)/2;let M=this.dimensions[1]/2;const G=(this.geneAreaHeight-this.fontSize)/2;if(v[5]==="+"?M-=this.geneLabelPos==="inside"?G+this.geneStrandSpacing-2:this.fontSize/2+this.geneAreaHeight-2:M+=this.geneLabelPos==="inside"?this.fontSize+this.geneStrandSpacing/2+G+1:1.5*this.fontSize+this.geneAreaHeight+2,T.position.x=this._xScale(P),T.position.y=M,!h.textWidths[E]){const B=T.getBounds().width,U=T.getBounds().height;h.textHeights[E]=U,h.textWidths[E]=B}if(f)T.visible=!1;else{T.visible=!0;const B=2;this.flipText?this.allBoxes.push([T.position.x-h.textHeights[E]/2-B,M-u-1,T.position.x+h.textHeights[E]/2+B,M+u-1,p]):this.allBoxes.push([T.position.x-h.textWidths[E]/2-B,M-u-1,T.position.x+h.textWidths[E]/2+B,M+u-1,p]),this.allTexts.push({importance:+v[4],text:T,caption:p,strand:v[5]}),a.push(h.textBgGraphics)}})}),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,a)}},{key:"renderTextBg",value:function(a,u,h){u.forEach((f,g)=>{if(f.text.visible&&a[g]&&h[g]){const[v,p,E,T]=a[g],S=E-v,x=T-p;h[g].drawRect(v-S/2,p-x/2,S,x)}})}},{key:"hideOverlaps",value:function(a,u){iN(a,(h,f)=>{u[h].importance>u[f].importance?u[f].text.visible=!1:u[h].text.visible=!1})}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach(u=>{this.renderTile(u)})}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(a,u){if(!this.tilesetInfo)return"";const h=[a,u];for(const f of this.visibleAndFetchedTiles())for(let g=0;g<f.allRects.length;g++){if(f.allRects[g][2].type==="filler")continue;const v=f.allRects[g][0].slice(0),p=[];for(;v.length;){const T=v.splice(0,2);T[0]=T[0]*f.rectGraphics.scale.x+f.rectGraphics.position.x,T[1]=T[1]*f.rectGraphics.scale.y+f.rectGraphics.position.y,p.push(T)}if(rfe(p,h)===-1){const T=f.allRects[g][2];return`
            <div>
              <b>${T.fields[3]}</b><br>
              <b>Position:</b> ${T.fields[0]}:${T.fields[1]}-${T.fields[2]}<br>
              <b>Strand:</b> ${T.fields[5]}
            </div>
          `}}return""}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");return h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h),this.visibleAndFetchedTiles().filter(f=>f.allRects).forEach(f=>{const g=document.createElement("g");g.setAttribute("transform",`translate(${f.rectGraphics.position.x},
          ${f.rectGraphics.position.y})
          scale(${f.rectGraphics.scale.x},
          ${f.rectGraphics.scale.y})`),f.allRects.forEach(v=>{const p=document.createElement("path"),E=v[0];let T=`M ${E[0]} ${E[1]}`;for(let S=2;S<E.length;S+=2)T+=` L ${E[S]} ${E[S+1]}`;p.setAttribute("d",T),v[1]==="+"?p.setAttribute("fill",this.options.plusStrandColor):p.setAttribute("fill",this.options.minusStrandColor),p.setAttribute("opacity","0.3"),g.appendChild(p)}),h.appendChild(g)}),this.allTexts.filter(f=>f.text.visible).forEach(f=>{const g=document.createElement("g"),v=document.createElement("text");v.setAttribute("text-anchor","middle"),v.setAttribute("font-family",aX),v.setAttribute("font-size",`${this.fontSize}px`),v.setAttribute("dy","-.2em"),g.setAttribute("transform",`scale(${f.text.scale.x},1)`),f.strand==="+"?v.setAttribute("fill",this.options.plusStrandColor):v.setAttribute("fill",this.options.minusStrandColor),v.innerHTML=f.text.text,g.appendChild(v),g.setAttribute("transform",`translate(${f.text.x},${f.text.y})scale(${f.text.scale.x},1)`),h.appendChild(g)}),[u,u]}}]),r}(CC);function _fe(e,t,r,s,a,u,h,f,g,v){const p=v?e._xScale(r.yStart):e._xScale(r.xStart),E=v?e._xScale(r.yEnd):e._xScale(r.xEnd),T=v?e._yScale(r.xStart):e._yScale(r.yStart),S=v?e._yScale(r.xEnd):e._yScale(r.yEnd),x=r.uid+v,O=E-p,P=S-T;let M={x:p,y:T,width:O,height:P};s&&(O<s||P<s)&&(M={x:p-s/2,y:T-s/2,width:s,height:s}),e.drawnRects[x]=M;const G=M.x+M.width,B=M.y+M.height;(M.x>a&&M.x<u||G>a&&G<u||M.y>h&&M.y<f||B>h&&B<f)&&(M.width>g||M.height>g)&&(t.drawRect(M.x,M.y,M.width,M.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:x,viewPos:[M.x,M.y,M.width,M.height],dataPos:[r.xStart,r.xEnd,r.yStart,r.yEnd],importance:r.importance,info:{patternType:e.options.patternType}}))}let Tfe=function(e){c(r,e);var t=d(r);function r(...s){var a;L(this,r),a=t.call(this,...s),a.drawnRects={};const{publish:u,subscribe:h,unsubscribe:f}=uA();return a.publish=u,a.subscribe=h,a.unsubscribe=f,a}return V(r,[{key:"tileToLocalId",value:function(a){return`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return`${a.join(".")}`}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),u=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let h=Math.max(a,u);return h=Math.min(h,this.maxZoom),h}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u)})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.remoteId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Lr.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const a=this.xTiles,u=this.yTiles,h=this.zoomLevel,f=[];for(let g=0;g<a.length;g++)for(let v=0;v<u.length;v++){const p=[h,a[g],u[v]];f.push(p)}this.setVisibleTiles(f)}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},i(D(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(a){const u=a.graphics;if(!u)return;u.clear();const h=Kr(this.options.rectangleDomainStrokeColor||"black"),f=Kr(this.options.rectangleDomainFillColor||"grey");u.lineStyle(typeof this.options.rectangleDomainStrokeWidth<"u"?this.options.rectangleDomainStrokeWidth:1,h,typeof this.options.rectangleDomainStrokeOpacity<"u"?this.options.rectangleDomainStrokeOpacity:1),u.beginFill(f,typeof this.options.rectangleDomainFillOpacity<"u"?this.options.rectangleDomainFillOpacity:.4),u.alpha=this.options.rectangleDomainOpacity||.5;const g=this.options.minSquareSize&&this.options.minSquareSize!=="none"?+this.options.minSquareSize:0,v=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,p=this._xScale.range()[0],E=this._xScale.range()[1],T=this._yScale.range()[0],S=this._yScale.range()[1];a.tileData.length&&a.tileData.filter(x=>!(x.uid in this.drawnRects)).forEach(x=>{_fe(this,u,x,g,p,E,T,S,v,this.options.flipDiagonal==="yes"),this.options.flipDiagonal&&this.options.flipDiagonal==="copy"&&_fe(this,u,x,g,p,E,T,S,v,!0)})}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h);for(const f of[!0,!1])for(const g of this.visibleAndFetchedTiles())!g.tileData||!g.tileData.length||g.tileData.forEach(v=>{const p=v.uid+f,E=document.createElement("g");if(E.setAttribute("transform",`translate(${g.graphics.position.x},${g.graphics.position.y})scale(${g.graphics.scale.x},${g.graphics.scale.y})`),h.appendChild(E),p in this.drawnRects){const T=this.drawnRects[p],S=document.createElement("rect");S.setAttribute("x",T.x),S.setAttribute("y",T.y),S.setAttribute("width",T.width),S.setAttribute("height",T.height),S.setAttribute("fill",this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey"),S.setAttribute("opacity",.3),S.style.stroke="black",S.style.strokeWidth="1px",E.appendChild(S)}});return[u,u]}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale().domain()[0]===a.domain()[0]&&this.xScale().domain()[1]===a.domain()[1]&&this.yScale().domain()[0]===u.domain()[0]&&this.yScale().domain()[1]===u.domain()[1]||(this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),r}(Py);const X7e=250;let Efe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{pubSub:h}=s;u.drawnAnnotations={},u.drawnAnnoGfx={},u.selectedAnno=null,u.options.minSquareSize=+u.options.minSquareSize;const{publish:f,subscribe:g,unsubscribe:v}=uA();return u.publish=f,u.subscribe=g,u.unsubscribe=v,u.sT=0,u.annoSelectedBound=u.annoSelected.bind(b(u)),u.pubSubs.push(h.subscribe("annoSelected",u.annoSelectedBound)),u}return V(r,[{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){const s=this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1]);return s||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}},{key:"projection",value:function([a,u]){return[this._xScale(a),this._yScale(u)]}},{key:"tileToLocalId",value:function(a){return`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return`${a.join(".")}`}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.minX,this.maxX),u=Lr.calculateZoomLevel(this._yScale,this.minY,this.maxY);return pw(cR(a,u),this.maxZoom)}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u)})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=Lr.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);const a=this.zoomLevel,u=[];for(let h=0;h<this.xTiles.length;h++)for(let f=0;f<this.yTiles.length;f++)u.push([a,this.xTiles[h],this.yTiles[f]]);this.setVisibleTiles(u)}},{key:"draw",value:function(){this.drawnAnnotations={},i(D(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(a,u=!1,h=!1){if(!a.graphics)return;a.graphics.__tile__=a;const f=a.graphics;f.clear(),this.setBorderStyle(f),this.setFill(f),f.alpha=+this.options.rectangleDomainOpacity,a.tileData.length&&a.tileData.filter(g=>!(g.uid in this.drawnAnnotations)||u).forEach(g=>{const[v,p]=this.projection([g.xStart,g.yStart]),[E,T]=this.projection([g.xEnd,g.yEnd]);this.options.exclude&&this.options.exclude.indexOf(g.uid)>=0||this.drawAnnotation(this.prepAnnotation(f,g.uid,v,p,E-v,T-p,g),h)})}},{key:"prepAnnotation",value:function(a,u,h,f,g,v,p){let E;try{E=JSON.parse(p.fields)}catch{}return{graphics:a,id:p.id,uid:u,annotation:{x:h,y:f,width:g,height:v},dataPos:[p.xStart,p.xEnd,p.yStart,p.yEnd],importance:p.importance,info:E}}},{key:"drawAnnotation",value:function({graphics:a,id:u,uid:h,annotation:f,dataPos:g,importance:v,info:p},E){this.options.minSquareSize&&(f.width<this.options.minSquareSize||f.height<this.options.minSquareSize)&&(f.x=(f.x+f.width)/2,f.y=(f.y+f.height)/2,f.width=this.options.minSquareSize,f.height=this.options.minSquareSize),this.drawnAnnotations[h]=f;const T=[f.x,f.y,f.width,f.height];let S=this.drawnAnnoGfx[h];S||(S=new or.PIXI.Graphics,this.drawnAnnoGfx[h]=S),a.children.indexOf(S)===-1&&a.addChild(S),this._drawRect(S,T,h),a.interactive=!0,S.interactive=!0,S.buttonMode=!0;const x={id:u,uid:h,dataPos:g,importance:v,info:p,viewPos:[f.x,f.y,f.x+f.width,f.y+f.height]};S.mouseover=()=>this.hover(S,T,h),S.mouseout=()=>this.blur(S,T,h),S.mousedown=()=>this.mouseDown(),S.mouseup=O=>this.mouseUp(S,T,h,O,x),E||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:h,annotationId:u,viewPos:T,dataPos:g,importance:v,info:p})}},{key:"_drawRect",value:function(a,u,h){let f=this.options.rectangleDomainStrokeColor,g=this.options.rectangleDomainStrokeWidth,v=this.options.rectangleDomainStrokeOpacity,p=this.options.rectangleDomainFillColor,E=this.options.rectangleDomainFillOpacity;this.hoveredAnno===h&&(f=this.options.hoverColor,g=this.options.rectangleDomainStrokeWidth+1||2,v=1,p=this.options.hoverColor,E=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===h&&(f=this.options.selectColor,g=this.options.rectangleDomainStrokeWidth+1||2,v=1,p=this.options.selectColor,E=cR(.33,this.options.rectangleDomainFillOpacity)),a.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(a,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(a,p,0),a.drawRect(...u)),this.setBorderStyle(a,f,g,v),this.setFill(a,p,E),a.drawRect(...u),a.__viewPos__=u}},{key:"context",value:function(a,u,h){return f=>f(a,u,h)}},{key:"click",value:function(a,u,h,f,g){this.select(a,u,h),this.pubSub.publish("app.click",{type:"annotation",event:f,payload:g})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(a,u,h,f,g){performance.now()-this.sT<=X7e&&this.click(a,u,h,f,g)}},{key:"hover",value:function(a,u,h){this.hoveredAnno=h,this._drawRect(a,u,h),this.animate()}},{key:"focus",value:function(a,u,h){this._drawRect(a,u,h),this.animate()}},{key:"blur",value:function(a,u,h){this.hoveredAnno=null,this._drawRect(a,u,h),this.animate()}},{key:"select",value:function(a,u,h,f=!1){let g=null,v=null;this.selectedAnno&&(g=this.selectedAnno.graphics,v=this.selectedAnno.uid),this.selectedAnno={graphics:a,uid:h},this.focus(a,u,h),this.options.onSelect&&!f&&(window[this.options.onSelect](h),this.pubSub.publish("annoSelected",h)),g&&v&&this.blur(g,g.__viewPos__,v)}},{key:"unselect",value:function(){const a=this.selectedAnno.graphics,u=this.selectedAnno.uid;this.selectedAnno=null,this.blur(a,a.__viewPos__,u)}},{key:"annoSelected",value:function(a){if(!this.selectedAnno||this.selectedAnno.uid!==a){this.selectedAnno&&this.unselect();const u=this.drawnAnnoGfx[a];u&&this.select(u,u.__viewPos__,a,!0)}}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");return h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h),this.visibleAndFetchedTiles().filter(f=>f.tileData&&f.tileData.length).map(f=>({graphics:f.graphics,td:f.tileData})).forEach(({td:f,graphics:g})=>{const v=document.createElement("g");if(v.setAttribute("transform",`translate(${g.position.x},${g.position.y})scale(${g.scale.x},${g.scale.y})`),h.appendChild(v),f.uid in this.drawnAnnotations){const p=this.drawnAnnotations[f.uid],E=document.createElement("rect");E.setAttribute("x",p.x),E.setAttribute("y",p.y),E.setAttribute("width",p.width),E.setAttribute("height",p.height),E.setAttribute("fill",this.options.fillColor||"grey"),E.setAttribute("opacity",.3),E.style.stroke=this.options.fillColor||"grey",E.style.strokeWidth="1px",v.appendChild(E)}}),[u,u]}},{key:"setBorderStyle",value:function(a,u=this.options.rectangleDomainStrokeColor,h=this.options.rectangleDomainStrokeWidth,f=this.options.rectangleDomainStrokeOpacity){a.lineStyle(typeof h<"u"?h:1,Kr(u||"black"),typeof f<"u"?f:1)}},{key:"setFill",value:function(a,u=this.options.rectangleDomainFillColor,h=this.options.rectangleDomainFillOpacity){a.beginFill(Kr(u||"grey"),typeof h<"u"?h:.4)}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw()}}]),r}(Py),hX=function(e){c(r,e);var t=d(r);function r(s,a,u){var h;return L(this,r),h=t.call(this,s,a),h.pubSub=s.pubSub,h.options=a,h.isVertical=u,h.rects={},h.defaultColor=Ma("red"),h}return V(r,[{key:"draw",value:function(){const a=typeof this.options.minRectWidth<"u"?this.options.minRectWidth:10,u=typeof this.options.fill<"u"?Ma(this.options.fill):this.defaultColor,h=typeof this.options.fillOpacity<"u"?+this.options.fillOpacity:.2,f=typeof this.options.stroke<"u"?Ma(this.options.stroke):this.defaultColor,g=typeof this.options.strokeWidth<"u"?+this.options.strokeWidth:1,v=typeof this.options.strokeOpacity<"u"?+this.options.strokeOpacity:0;let p;this.options.strokePos&&this.options.strokePos.length&&(p=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),i(D(r.prototype),"draw",this).call(this);const E=this.pMain;E.clear();const T=performance.now();this.options.regions.forEach(S=>{const x=`${S[0]}-${S[1]}`;this.rects[x]||(this.rects[x]={graphics:new or.PIXI.Graphics},E.addChild(this.rects[x].graphics)),this.rects[x].timeStamp=T;const O=Ma(S[2])||u;let P=Ma(S[3])||f;P||(P=O);const M=or.PIXI.utils.rgb2hex([O.r/255,O.g/255,O.b/255]),G=or.PIXI.utils.rgb2hex([P.r/255,P.g/255,P.b/255]);p?(E.lineStyle(1,G,0),E.beginFill(G,+S[5]||v)):(E.lineStyle(g,G,+S[5]||v),E.beginFill(M,+S[4]||h));const B=this.isVertical?this._yScale:this._xScale;let U=B(+S[0]);const j=B(+S[1]);let Z=j-U;const ee=typeof S[6]<"u"?S[6]:a;Z<ee&&(U=(U+j)/2-ee/2,Z=ee),p?(E.lineStyle(1,G,0),E.beginFill(G,+S[5]||v),p.forEach(J=>{(J==="top"||J==="around")&&(this.isVertical?E.drawRect(0,U,g,Z):E.drawRect(U,0,Z,g)),(J==="right"||J==="around")&&(this.isVertical?E.drawRect(0,U,this.dimensions[0],g):E.drawRect(U,0,g,this.dimensions[1])),(J==="bottom"||J==="around")&&(this.isVertical?E.drawRect(this.dimensions[0]-g,U,g,Z):E.drawRect(U,this.dimensions[1]-g,Z,g)),(J==="left"||J==="around")&&(this.isVertical?E.drawRect(0,U+Z-g,this.dimensions[0],g):E.drawRect(U+Z-g,0,g,this.dimensions[1]))})):E.lineStyle(g,G,+S[5]||v),this.rects[x].graphics.clear(),this.rects[x].graphics.interactive=!0,this.rects[x].graphics.buttonMode=!0,E.beginFill(M,+S[4]||h),this.isVertical?(E.drawRect(0,U,this.dimensions[0],Z),this.rects[x].graphics.hitArea=new or.PIXI.Rectangle(0,U,this.dimensions[0],Z)):(E.drawRect(U,0,Z,this.dimensions[1]),this.rects[x].graphics.hitArea=new or.PIXI.Rectangle(U,0,Z,this.dimensions[1])),this.rects[x].graphics.mousedown=()=>{this.rects[x].mouseDownTime=performance.now()},this.rects[x].graphics.mouseup=J=>{performance.now()-this.rects[x].mouseDownTime<oF&&this.pubSub.publish("app.click",{type:"annotation",event:J,payload:S})}}),Object.values(this.rects).filter(S=>S.timeStamp!==T).forEach(S=>E.removeChild(S.graphics))}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}}]),r}(du),Sfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.drawnRects=new Set,u.pMain=u.pMobile,u}return V(r,[{key:"tileToLocalId",value:function(a){return`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return`${a.join(".")}`}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),u=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let h=Math.max(a,u);return h=Math.min(h,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?h=Math.min(this.options.maxZoom,h):console.error("Invalid maxZoom on track:",this)),h}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u)})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const a=this._xScale.copy();a.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=Lr.calculateTiles(this.zoomLevel,a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Lr.calculateTiles(this.zoomLevel,a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const u=this.xTiles,h=this.yTiles,f=this.zoomLevel,v=this.tilesetInfo.max_width/2**f,p=[];for(let E=0;E<u.length;E++)for(let T=E;T<h.length;T++){if((T-E-2)*(this._xScale(v)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const x=[f,u[E],h[T]];x.mirrored=!1,p.push(x)}this.setVisibleTiles(p)}},{key:"initTile",value:function(a){i(D(r.prototype),"initTile",this).call(this,a),this.drawTile(a)}},{key:"destroyTile",value:function(a,u){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),i(D(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(a){if(!a.graphics)return;const u=a.graphics;u.clear();const h=Kr(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),f=Kr(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(u.lineStyle(1/this.pMain.scale.x,h,1),u.beginFill(f,.4),u.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,!!a.tileData.sort)for(const g of a.tileData){const v=this._refXScale(g.xStart),p=this._refXScale(g.xEnd),E=this._refYScale(g.yStart),T=this._refYScale(g.yEnd),S=g.uid;this.drawnRects.has(S)||(this.drawnRects.add(S),u.drawRect(v,E,p-v,T-E),u.pivot.x=this._refXScale(0),u.pivot.y=this._refYScale(0),u.scale.x=-1/Math.sqrt(2),u.rotation=-3*Math.PI/4,u.scale.y=1/Math.sqrt(2),u.position.x=this._refXScale(0),u.position.y=0)}}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(a,u){i(D(r.prototype),"refScalesChanged",this).call(this,a,u);for(const h in this.fetchedTiles){const f=this.fetchedTiles[h];if(f.sprite){const g=f.graphics;g.pivot.x=this._refXScale(0),g.pivot.y=this._refYScale(0),g.scale.x=-1/Math.sqrt(2),g.rotation=-3*Math.PI/4,g.scale.y=1/Math.sqrt(2),g.position.x=this._refXScale(0),g.position.y=0}}}},{key:"zoomed",value:function(a,u,h,f,g){i(D(r.prototype),"zoomed",this).call(this,a,u,h,f,g),this.pMain.position.x=f,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=h,this.pMain.scale.y=h,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-h,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),r}(Py),Afe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.drawnRects=new Set,u}return V(r,[{key:"tileToLocalId",value:function(a){return`${a.join(".")}`}},{key:"tileToRemoteId",value:function(a){return`${a.join(".")}`}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),u=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let h=Math.max(a,u);return h=Math.min(h,this.maxZoom),h}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u)})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"calculateVisibleTiles",value:function(a=!0){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Lr.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const u=this.xTiles,h=this.yTiles,f=this.zoomLevel,g=[];for(let v=0;v<u.length;v++)for(let p=0;p<h.length;p++){const E=[f,u[v],h[p]];g.push(E)}this.setVisibleTiles(g)}},{key:"initTile",value:function(a){}},{key:"destroyTile",value:function(a,u){}},{key:"draw",value:function(){this.drawnRects.clear(),i(D(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(a){if(!a.graphics)return;const u=a.graphics;u.clear();const h=Kr("green");u.lineStyle(1,255,1),u.beginFill(h,.8),u.alpha=.5;for(const f of a.tileData){const g=this._xScale(f.xStart),v=this._xScale(f.xEnd),p=this._yScale(f.yStart),E=this._yScale(f.yEnd),T=f.uid;if(this.drawnRects.has(T))continue;this.drawnRects.add(T);const S=6,x=6;let O=E-p,P=v-g;const M=(g+v)/2,G=(p+E)/2;O<S&&(O=S),P<x&&(P=x),u.drawRect(M-O/2,G-P/2,O,P)}}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.refreshTiles(),this.draw()}}]),r}(Py);function om(e,t,r=uW){const s={};return s.absToChr=a=>s.chrPositions?ko(a,s):null,s.chrToAbs=([a,u]=[])=>s.chrPositions?$A(a,u,s):null,Lr.text(e,(a,u)=>{if(a)t&&t(null);else{const h=aw(u),f=ly(h);Object.keys(f).forEach(g=>{s[g]=f[g]}),t&&t(s)}},r).then(()=>s)}let BC=function(){function e(t){L(this,e),this.chromInfo=t,this.chromInfoBisector=xo(r=>r.pos).left}return V(e,[{key:"scalesToPositionText",value:function(r,s,a=!1){if(this.chromInfo===null||!r||!s)return"";const u=ko(r.domain()[0],this.chromInfo),h=ko(r.domain()[1],this.chromInfo),f=ko(s.domain()[0],this.chromInfo),g=ko(s.domain()[1],this.chromInfo);let v=null;const p=cl(",d");return u[0]!==h[0]?v=`${u[0]}:${p(Math.floor(u[1]))}-${h[0]}:${p(Math.ceil(h[1]))}`:v=`${u[0]}:${p(Math.floor(u[1]))}-${p(Math.ceil(h[1]))}`,a&&(f[0]!==g[0]?v+=` & ${f[0]}:${p(Math.floor(f[1]))}-${g[0]}:${p(Math.ceil(g[1]))}`:v+=` & ${f[0]}:${p(Math.floor(f[1]))}-${p(Math.ceil(g[1]))}`),(u[2]<=0||h[2]>0||a&&(f[2]<=0||g[2]>0))&&(v+=` [offset ${u[2]},${h[2]}`,a&&(v+=`:${f[2]},${g[2]}`),v+="]"),v}},{key:"convertNumberNotation",value:function(r){let s=r;if(!s.includes("M",s.length-1)&&!s.includes("K",s.length-1))return s;let a=0,u=0;if(s.includes("M",s.length-1)?(a=6,s=s.replace("M","")):(a=3,s=s.replace("K","")),Number.isNaN(+s))return r;s=(+s).toString(),s.includes(".")&&(u=s.length-1-s.indexOf("."),s=(+s.replace(".","")).toString());const h=a-u;return h<0?r:(s+="0".repeat(h),s)}},{key:"parsePosition",value:function(r,s=null){const a=r.split(":");let u=null,h=0;a.length>1?(u=a[0],h=+this.convertNumberNotation(a[1].replace(/,/g,""))):a[0]in this.chromInfo.chrPositions?(u=a[0],h=0,s!==null&&(h=+this.chromInfo.chromLengths[u])):(h=+this.convertNumberNotation(a[0].replace(/,/g,"")),u=null,s&&(u=s));let f=null;return u===null?(u=s,f=h):u in this.chromInfo.chrPositions&&(f=this.chromInfo.chrPositions[u].pos+h),[u,h,f]}},{key:"matchRangesToLarger",value:function(r,s){if(r[1]-r[0]<s[1]-s[0]){const u=s[1]-s[0]-(r[1]-r[0]);return[[r[0]-u/2,r[1]+u/2],s]}const a=r[1]-r[0]-(s[1]-s[0]);return[r,[s[0]-a/2,s[1]+a/2]]}},{key:"getSearchRange",value:function(r){if(r.length===0)return null;let s=r.split("-");s=s.filter(u=>u.length>0);let a=null;if(s[0].indexOf("-")===0&&(s[0]=s[0].slice(3,s[0].length)),s.length>1){let[u,h,f]=this.parsePosition(s[0]),[g,v,p]=this.parsePosition(s[1],u);const E=[f,p];[u,h,f]=this.parsePosition(s[1]),[g,v,p]=this.parsePosition(s[0],u),u===null&&g!==null&&([u,h,f]=this.parsePosition(s[1],g));const T=[f,p];return T[1]-T[0]>E[1]-E[0]?T:E}if(s[0]in this.chromInfo.chrPositions){const u=+this.chromInfo.chrPositions[s[0]].pos;a=[u,u+ +this.chromInfo.chromLengths[s[0]]]}else{const[u,h,f]=this.parsePosition(s[0]);a=[f-8e6,f+8e6]}return a[0]>a[1]?[a[1],a[0]]:a}},{key:"parseOffset",value:function(r){const s=r.split(":");if(s.length===0)return[[0,0],[0,0]];if(s.length===1){const h=s[0].split(",");return[[+h[0],+h[1]],[0,0]]}const a=s[0].split(","),u=s[1].split(",");return[[+a[0],+a[1]],[+u[0],+u[1]]]}},{key:"searchPosition",value:function(r){let s=null,a=null;r=r.trim();const u=/\[offset (.+?)\]/.exec(r);let h=[[0,0],[0,0]];u&&(r=r.replace(u[0],""),h=this.parseOffset(u[1]));const f=r.split(" & ");return f.length>1?(s=this.getSearchRange(f[0].split(" ")[0]),a=this.getSearchRange(f[1].split(" ")[0])):s=this.getSearchRange(f[0]),s!==null&&a!==null&&([s,a]=this.matchRangesToLarger(s,a)),s&&(s[0]+=h[0][0],s[1]+=h[0][1]),a&&(a[0]+=h[1][0],a[1]+=h[1][1]),[s,a]}}]),e}(),wfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{dataConfig:h,animate:f,pubSub:g}=s;u.searchField=null,u.chromInfo=null,u.animate=f;const v=h.server,p=h.tilesetUid,E=`${v}/chrom-sizes/?id=${p}`;return om(E,T=>{u.chromInfo=T,u.searchField=new BC(u.chromInfo),u.draw(),u.texts=[];for(let S=0;S<u.chromInfo.cumPositions.length;S++){const x=[];for(let O=0;O<u.chromInfo.cumPositions.length;O++){const P=`${u.chromInfo.cumPositions[S].chr}/${u.chromInfo.cumPositions[O].chr}`,M=new or.PIXI.Text(P,{fontSize:"14px",fontFamily:"Arial",fill:"red"});M.anchor.x=.5,M.anchor.y=.5,M.visible=!1,M.hashValue=Math.random(),x.push(M),u.pMain.addChild(M)}u.texts.push(x)}u.draw(),u.animate()},g),u}return V(r,[{key:"draw",value:function(){const a=[];if(!this.texts||!this.searchField)return;const u=ko(this._xScale.domain()[0],this.chromInfo),h=ko(this._xScale.domain()[1],this.chromInfo),f=ko(this._yScale.domain()[0],this.chromInfo),g=ko(this._yScale.domain()[1],this.chromInfo);for(let v=0;v<this.texts.length;v++)for(let p=0;p<this.texts.length;p++)this.texts[v][p].visible=!1;for(let v=u[3];v<=h[3];v++)for(let p=f[3];p<=g[3];p++){const E=this.chromInfo.cumPositions[v],T=this.chromInfo.cumPositions[p],S=E.pos+this.chromInfo.chromLengths[E.chr]/2,x=T.pos+this.chromInfo.chromLengths[T.chr]/2,O=this._xScale(S),P=this._yScale(x),M=this.texts[v][p];M.x=O,M.y=P,M.updateTransform();const G=M.getBounds(),B=G.width/2,U=G.height/2;O+B>this.dimensions[0]?M.x-=O+B-this.dimensions[0]:O-B<0&&(M.x-=O-B),P+U>this.dimensions[1]?M.y-=P+U-this.dimensions[1]:P-U<0&&(M.y-=P-U),M.visible=!0,a.push({importance:this.texts[v][p].hashValue,text:this.texts[v][p],caption:null})}this.hideOverlaps(a)}},{key:"hideOverlaps",value:function(a){let u=[];u=a.map(h=>{const f=h.text;f.updateTransform();const g=f.getBounds();return[g.x,g.y,g.x+g.width,g.y+g.height]}),iN(u,(h,f)=>{a[h].importance>a[f].importance?a[f].text.visible=0:a[h].text.visible=0})}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}}]),r}(du),oN=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{chromInfoPath:h,dataConfig:f,animate:g,pubSub:v,orientation:p="2d",isOverlay:E=!1}=s;u.searchField=null,u.chromInfo=null,u.animate=g,u.orientation=p,u.isOverlay=E;let T=h;return T||(T=`${f.server}/chrom-sizes/?id=${f.tilesetUid}`),om(T,S=>{u.chromInfo=S,u.searchField=new BC(u.chromInfo),u.texts=[],u.lineGraphics=new or.PIXI.Graphics,u.lineGraphics1dH=new or.PIXI.Graphics,u.lineGraphics1dV=new or.PIXI.Graphics,u.lineGraphics2d=new or.PIXI.Graphics,u.mask1dH=new or.PIXI.Graphics,u.mask1dV=new or.PIXI.Graphics,u.mask2d=new or.PIXI.Graphics,u.lineGraphics.addChild(u.lineGraphics1dH),u.lineGraphics1dH.addChild(u.mask1dH),u.lineGraphics.addChild(u.lineGraphics1dV),u.lineGraphics1dV.addChild(u.mask1dV),u.lineGraphics.addChild(u.lineGraphics2d),u.lineGraphics2d.addChild(u.mask2d),u.pMain.addChild(u.lineGraphics),u.draw(),u.animate()},v),u}return V(r,[{key:"drawLines",value:function(a=this.orientation,u=0,h=0){let f=this.lineGraphics;this.isOverlay&&a==="1d-horizontal"&&(f=this.lineGraphics1dH),this.isOverlay&&a==="1d-vertical"&&(f=this.lineGraphics1dV),this.isOverlay&&a==="2d"&&(f=this.lineGraphics2d);const g=Kr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),v=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;f.lineStyle(v,g,1),(a==="2d"||a==="1d-horizontal")&&(f.moveTo(this._xScale(0)+u,h),f.lineTo(this._xScale(0)+u,this.dimensions[1]+h)),(a==="2d"||a==="1d-vertical")&&(f.moveTo(u,this._yScale(0)+h),f.lineTo(this.dimensions[0]+u,this._yScale(0)+h));for(let p=0;p<this.chromInfo.cumPositions.length;p++){const E=this.chromInfo.cumPositions[p],T=E.pos+ +this.chromInfo.chromLengths[E.chr]+1;(a==="2d"||a==="1d-horizontal")&&(f.moveTo(this._xScale(T)+u,h),f.lineTo(this._xScale(T)+u,this.dimensions[1]+h)),(a==="2d"||a==="1d-vertical")&&(f.moveTo(u,this._yScale(T)+h),f.lineTo(this.dimensions[0]+u,this._yScale(T)+h))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(let a=0;a<this.options.orientationsAndPositions.length;a++){const u=this.options.orientationsAndPositions[a].orientation,{left:h,top:f,width:g,height:v}=this.options.orientationsAndPositions[a].position;u==="1d-horizontal"&&this.mask1dH.drawRect(h,f,g,v),u==="1d-vertical"&&this.mask1dV.drawRect(h,f,g,v),u==="2d"&&this.mask2d.drawRect(h,f,g,v),this.drawLines(u,h,f)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"createSvgLine",value:function(a,u,h,f,g,v){const p=document.createElement("line");return p.setAttribute("x1",a),p.setAttribute("x2",u),p.setAttribute("y1",h),p.setAttribute("y2",f),p.setAttribute("stroke",g),p.setAttribute("stroke-width",v),p}},{key:"drawLinesSvg",value:function(a,u,h,f,g=0,v=0){const p=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",E=this.options.lineStrokeWidth;if(u==="2d"||u==="1d-vertical"){const T=this._yScale(0);T>0&&T<v+f&&a.appendChild(this.createSvgLine(g,h+g,T+v,T+v,p,E))}if(u==="2d"||u==="1d-horizontal"){const T=this._xScale(0);T>0&&T<g+h&&a.appendChild(this.createSvgLine(T+g,T+g,v,f+v,p,E))}for(let T=0;T<this.chromInfo.cumPositions.length;T++){const S=this.chromInfo.cumPositions[T],x=S.pos+ +this.chromInfo.chromLengths[S.chr]+1;if(u==="2d"||u==="1d-vertical"){const O=this._yScale(x);O>0&&O<v+f&&a.appendChild(this.createSvgLine(g,h+g,O+v,O+v,p,E))}if(u==="2d"||u==="1d-horizontal"){const O=this._xScale(x);O>0&&O<g+h&&a.appendChild(this.createSvgLine(O+g,O+g,v,f+v,p,E))}}}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");if(a.appendChild(h),u.setAttribute("id","ChromosomeGrid"),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),!this.chromInfo)return[u,a];if(this.isOverlay)for(let f=0;f<this.options.orientationsAndPositions.length;f++){const g=this.options.orientationsAndPositions[f].orientation,{left:v,top:p,width:E,height:T}=this.options.orientationsAndPositions[f].position;this.drawLinesSvg(h,g,E,T,v,p)}else this.drawLinesSvg(h,this.orientation,...this.dimensions);return[u,a]}}]),r}(du);const Y7e=300;let Cfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{chromInfoPath:h,pubSub:f}=s;return u.pubSub=f,u.rects={},om(h,g=>{u.chromInfo=g,u.draw()},u.pubSub),u}return V(r,[{key:"draw",value:function(){if(!this.chromInfo)return;const a=this.options.minRectWidth?this.options.minRectWidth:10,u=this.options.minRectWidth?this.options.minRectHeight:10;i(D(r.prototype),"draw",this).call(this);const h=this.pMain;h.clear();const f=performance.now();this.options.regions.forEach(g=>{const v=g.slice(0,6).join("-");this.rects[v]||(this.rects[v]={graphics:new or.PIXI.Graphics},h.addChild(this.rects[v].graphics)),this.rects[v].timeStamp=f;const p=Ma(g[6]);let E=Ma(g[7]);E||(E=p);const T=or.PIXI.utils.rgb2hex([p.r/255,p.g/255,p.b/255]),S=or.PIXI.utils.rgb2hex([E.r/255,E.g/255,E.b/255]);h.lineStyle(1,S,E.opacity),h.beginFill(T,p.opacity);let x=this._xScale(this.chromInfo.chrPositions[g[0]].pos+ +g[1]);const O=this._xScale(this.chromInfo.chrPositions[g[0]].pos+ +g[2]);let P=this._yScale(this.chromInfo.chrPositions[g[3]].pos+ +g[4]);const M=this._yScale(this.chromInfo.chrPositions[g[3]].pos+ +g[5]);let G=O-x,B=M-P;const U=typeof g[8]<"u"?g[8]:a,j=typeof g[9]<"u"?g[9]:u;G<U&&(x=(x+O)/2-U/2,G=U),B<j&&(P=(P+M)/2-j/2,B=j),h.drawRect(x,P,G,B),this.rects[v].graphics.clear(),this.rects[v].graphics.interactive=!0,this.rects[v].graphics.buttonMode=!0,this.rects[v].graphics.hitArea=new or.PIXI.Rectangle(x,P,G,B),this.rects[v].graphics.mousedown=()=>{this.rects[v].mouseDownTime=performance.now()},this.rects[v].graphics.mouseup=Z=>{performance.now()-this.rects[v].mouseDownTime<Y7e&&this.pubSub.publish("app.click",{type:"annotation",event:Z,payload:g})}})}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}}]),r}(du);const q7e=200,Z7e=6,K7e=2,xfe=7829367;let Ife=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{dataConfig:h,animate:f,chromInfoPath:g,isShowGlobalMousePosition:v}=s;u.searchField=null,u.chromInfo=null,u.dataConfig=h,u.pTicks=new or.PIXI.Graphics,u.pMain.addChild(u.pTicks),u.gTicks={},u.tickTexts={},u.options=a,u.isShowGlobalMousePosition=v,u.textFontSize=12,u.textFontFamily="Arial",u.textFontColor="#808080",u.textStrokeColor=u.getTheme()===Gi?"#000000":"#ffffff",u.pixiTextConfig={fontSize:+u.options.fontSize?`${+u.options.fontSize}px`:`${u.textFontSize}px`,fontFamily:u.textFontFamily,fill:u.options.color||u.textFontColor,lineJoin:"round",stroke:u.options.stroke||u.textStrokeColor,strokeThickness:2},u.stroke=Kr(u.pixiTextConfig.stroke),u.tickWidth=q7e,u.tickHeight=Z7e,u.tickTextSeparation=K7e,u.tickColor=u.options.tickColor?Kr(u.options.tickColor):xfe,u.animate=f,u.pubSubs=[],u.options.showMousePosition&&!u.hideMousePosition&&(u.hideMousePosition=Zg(b(u),u.is2d,u.isShowGlobalMousePosition()));let p=g;return p||(p=`${h.server}/chrom-sizes/?id=${h.tilesetUid}`),om(p,E=>{u.chromInfo=E,u.searchField=new BC(u.chromInfo),u.rerender(u.options,!0),u.draw(),u.animate()},u.pubSub),u}return V(r,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new or.PIXI.Graphics,this.leftBoundTick=new or.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new or.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new or.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(let a=0;a<this.chromInfo.cumPositions.length;a++){const u=this.chromInfo.cumPositions[a].chr;this.gTicks[u]=new or.PIXI.Graphics,this.tickTexts[u]||(this.tickTexts[u]=[]);const h=new or.PIXI.Text(u,this.pixiTextConfig);h.hashValue=Math.random(),this.pTicks.addChild(h),this.pTicks.addChild(this.gTicks[u]),this.texts.push(h)}}}},{key:"rerender",value:function(a,u){const h=JSON.stringify(a);!u&&h===this.prevOptions||(this.prevOptions=h,this.options=a,this.tickTexts={},this.pixiTextConfig.fontSize=+this.options.fontSize?`${+this.options.fontSize}px`:this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=Kr(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?Kr(this.options.tickColor):xfe,this.options.tickPositions==="ends"?this.initBoundsTicks():this.initChromLabels(),i(D(r.prototype),"rerender",this).call(this,a,u),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Zg(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(a){const u=this._xScale.domain(),h=u[1]-u[0],f=hg(a,h),g=cl(","),v=mh(`,.${f}`,h);let p=g;return this.options.tickFormat==="si"?p=v:this.options.tickFormat==="plain"?p=g:this.options.tickPositions==="ends"&&(p=v),p(a)}},{key:"drawBoundsTicks",value:function(a,u){const h=this.gBoundTicks;h.clear(),h.lineStyle(1,0);const f=this.options.reverseOrientation?0:this.dimensions[1],g=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;h.moveTo(1,f),h.lineTo(1,g),h.moveTo(this.dimensions[0]-1,f),h.lineTo(this.dimensions[0]-1,g),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?g+this.tickTextSeparation:g-this.tickTextSeparation,this.leftBoundTick.text=`${a[0]}: ${this.formatTick(a[1])}`,this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=`${u[0]}: ${this.formatTick(u[1])}`,this.rightBoundTick.y=this.options.reverseOrientation?g+this.tickTextSeparation:g-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(a){const u=this.gTicks[a.chr];u.visible=!0,u.clear();const h=+this.chromInfo.chromLengths[a.chr],f=Math.max(this._xScale(a.pos),0),g=Math.min(this._xScale(a.pos+h),this.dimensions[0]),v=(g-f)/this.tickWidth,E=Rn().domain([Math.max(1,this._xScale.invert(0)-a.pos),Math.min(h,this._xScale.invert(this.dimensions[0])-a.pos)]).range(f,g).ticks(v).filter(G=>Number.isInteger(G)),T=this.tickTexts[a.chr],S=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,x=this.flipText?-1:1,O=this.options.fontIsLeftAligned?x*4:0;let P=this.options.fontIsLeftAligned?0:S+this.tickTextSeparation;for(this.options.reverseOrientation&&(P=this.dimensions[1]-P);T.length<E.length;){const G=new or.PIXI.Text("",this.pixiTextConfig);T.push(G),this.gTicks[a.chr].addChild(G)}for(;T.length>E.length;){const G=T.pop();this.gTicks[a.chr].removeChild(G)}let M=0;for(;M<E.length;){T[M].visible=!0,T[M].anchor.x=this.options.fontIsLeftAligned?0:.5,T[M].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(T[M].scale.x=-1),T[M].x=this._xScale(a.pos+E[M])+O,T[M].y=this.dimensions[1]-P,T[M].text=E[M]===0?`${a.chr}: 1`:`${a.chr}: ${this.formatTick(E[M])}`;const G=this._xScale(a.pos+E[M]);T[M].tickLine=[G-1,this.dimensions[1],G-1,this.dimensions[1]-S-1];const B=this.options.reverseOrientation?0:this.dimensions[1],U=this.options.reverseOrientation?S:this.dimensions[1]-S;u.lineStyle(1,this.stroke),u.moveTo(G-1,B),u.lineTo(G-1,U-1),this.options.fontIsLeftAligned?(u.lineTo(G+2*x+1*x,U-1),u.lineTo(G+2*x+1*x,U+1),u.lineTo(G+1,U+1)):u.lineTo(G+1,U-1),u.lineTo(G+1,B),u.lineStyle(1,this.tickColor),u.moveTo(G,B),u.lineTo(G,U),this.options.fontIsLeftAligned&&u.lineTo(G+2*x,U),M+=1}for(;M<T.length;)T[M].visible=!1,M+=1;return E.length}},{key:"draw",value:function(){if(this.allTexts=[],!this.texts||!this.searchField)return;const a=ko(this._xScale.domain()[0],this.chromInfo),u=ko(this._xScale.domain()[1],this.chromInfo);if(!a||!u){console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);return}if(this.options.tickPositions==="ends"){if(!this.gBoundTicks)return;this.gBoundTicks.visible=!0,this.drawBoundsTicks(a,u);return}if(!this.pTicks)return;for(let f=0;f<this.texts.length;f++)this.texts[f].visible=!1,this.gTicks[this.chromInfo.cumPositions[f].chr].visible=!1;let h=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(h=this.dimensions[1]-h),Object.keys(this.chromInfo.chrPositions).forEach(f=>{if(this.tickTexts[f])for(let g=0;g<this.tickTexts[f].length;g++)this.tickTexts[f][g].visible=!1});for(let f=a[3];f<=u[3];f++){const g=this.chromInfo.cumPositions[f],v=g.pos+this.chromInfo.chromLengths[g.chr]/2,p=this._xScale(v),E=this.texts[f];E.anchor.x=this.options.fontIsLeftAligned?0:.5,E.anchor.y=this.options.reverseOrientation?0:1,E.x=p,E.y=this.dimensions[1]-h,E.updateTransform(),this.flipText&&(E.scale.x=-1);const T=this.drawTicks(g);E.visible=T<=0,this.allTexts.push({importance:E.hashValue,text:E,caption:null})}this.hideOverlaps(this.allTexts)}},{key:"hideOverlaps",value:function(a){let u=[];u=a.map(({text:h},f)=>{h.updateTransform();const g=h.getBounds();return[g.x,g.y,g.x+g.width,g.y+g.height]}),iN(u,(h,f)=>{a[h].importance>a[f].importance?a[f].text.visible=!1:a[h].text.visible=!1})}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u),u.setAttribute("class","chromosome-labels");const h=document.createElement("g");return a.appendChild(h),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.allTexts.filter(f=>f.text.visible).forEach(f=>{const g=bw(f.text);h.appendChild(g)}),Object.values(this.tickTexts).forEach(f=>{f.filter(g=>g.visible).forEach(g=>{let v=bw(g);h.appendChild(v),v=MF(g.x,this.options.reverseOrientation?0:this.dimensions[1],g.x,this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight,1,this.tickColor);const p=document.createElement("line");p.setAttribute("x1",g.tickLine[0]),p.setAttribute("y1",g.tickLine[1]),p.setAttribute("x2",g.tickLine[2]),p.setAttribute("y2",g.tickLine[3]),p.setAttribute("style","stroke: grey"),h.appendChild(v),h.appendChild(p)})}),[u,a]}}]),r}(du),Dfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{animate:h}=s;return u.pMain=u.pMobile,u.colorScale=Fc,u.continuousScaling=!1,a&&a.colorRange&&(u.colorScale=wp(a.colorRange)),u.animate=h,u.options=a,u.pubSubs=[],u}return V(r,[{key:"rerender",value:function(a,u){i(D(r.prototype),"rerender",this).call(this,a,u),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){let a=null;if(this.tilesetInfo.resolutions){const u=Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),h=Lr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);a=Math.min(u,h)}else{const u=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),h=Lr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);a=Math.max(u,h),a=Math.min(a,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?a=Math.min(this.options.maxZoom,a):console.error("Invalid maxZoom on track:",this)),a}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const a=this._xScale.copy();if(a.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){const E=this.tilesetInfo.resolutions.map(T=>+T).sort((T,S)=>S-T);this.xTiles=Lr.calculateTilesFromResolution(E[this.zoomLevel],a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=Lr.calculateTilesFromResolution(E[this.zoomLevel],a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=Lr.calculateTiles(this.zoomLevel,a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Lr.calculateTiles(this.zoomLevel,a,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const u=this.xTiles,h=this.yTiles,f=this.zoomLevel,v=this.tilesetInfo.max_width/2**f,p=[];for(let E=0;E<u.length;E++)for(let T=E;T<h.length;T++){if((T-E-2)*(this._xScale(v)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const x=[f,u[E],h[T]];x.mirrored=!1,x.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",p.push(x)}this.setVisibleTiles(p)}},{key:"tileDataToCanvas",value:function(a){const u=document.createElement("canvas");u.width=256,u.height=256;const h=u.getContext("2d");h.fillStyle="transparent",h.fillRect(0,0,u.width,u.height);const f=new ImageData(a,u.width,u.height);return h.putImageData(f,0,0),u}},{key:"setSpriteProperties",value:function(a,u,h,f){const{tileX:g,tileY:v,tileWidth:p,tileHeight:E}=this.getTilePosAndDimensions(u,h),T=g+p,S=v+E;a.width=this._refXScale(T)-this._refXScale(g),a.height=this._refYScale(S)-this._refYScale(v),a.x=this._refXScale(g),a.y=this._refYScale(v)}},{key:"pixDataFunction",value:function(a,u){if(u){const h=a.graphics,f=this.tileDataToCanvas(u.pixData),g=or.PIXI.VERSION[0]==="4"?or.PIXI.Texture.fromCanvas(f,or.PIXI.SCALE_MODES.NEAREST):or.PIXI.Texture.from(f,{scaleMode:or.PIXI.SCALE_MODES.NEAREST});a.sprite=new or.PIXI.Sprite(g),a.canvas=f,this.setSpriteProperties(a.sprite,a.tileData.zoomLevel,a.tileData.tilePos,a.mirrored),h.pivot.x=this._refXScale(0),h.pivot.y=this._refYScale(0),h.scale.x=-1/Math.sqrt(2),h.rotation=-3*Math.PI/4,h.scale.y=1/Math.sqrt(2),h.position.x=this._refXScale(0),h.position.y=0,h.removeChildren(),h.addChild(a.sprite)}this.renderingTiles.delete(a.tileId)}},{key:"refScalesChanged",value:function(a,u){i(D(r.prototype),"refScalesChanged",this).call(this,a,u);for(const h in this.fetchedTiles){const f=this.fetchedTiles[h];if(f.sprite){this.setSpriteProperties(f.sprite,f.tileData.zoomLevel,f.tileData.tilePos,f.mirrored);const g=f.graphics;g.pivot.x=this._refXScale(0),g.pivot.y=this._refYScale(0),g.scale.x=-1/Math.sqrt(2),g.rotation=-3*Math.PI/4,g.scale.y=1/Math.sqrt(2),g.position.x=this._refXScale(0),g.position.y=0}}}},{key:"zoomed",value:function(a,u,h,f,g){i(D(r.prototype),"zoomed",this).call(this,a,u,h,f,g),i(D(r.prototype),"draw",this).call(this),this.pMain.position.x=f,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=h,this.pMain.scale.y=h,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-h,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){let a=null,u=null;[u,a]=i(D(r.prototype),"superSVG",this).call(this);const h=document.createElement("g");a.appendChild(h),h.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const g of this.visibleAndFetchedTiles()){const v=document.createElement("g"),p=g.graphics,E=p.rotation*180/Math.PI,T=`translate(${p.position.x},${p.position.y}) rotate(${E}) scale(${p.scale.x},${p.scale.y}) translate(${-p.pivot.x},${-p.pivot.y})`;v.setAttribute("transform",T);const S=g.sprite.rotation*180/Math.PI,x=document.createElement("g");x.setAttribute("transform",`translate(${g.sprite.x},${g.sprite.y}) rotate(${S}) scale(${g.sprite.scale.x},${g.sprite.scale.y})`);const O=document.createElement("image");O.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g.canvas.toDataURL()),O.setAttribute("width",256),O.setAttribute("height",256),x.appendChild(O),v.appendChild(x),h.appendChild(v)}const f=this.exportColorBarSVG();return a.appendChild(f),[u,u]}}]),r}(KP),Ofe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.tilesetInfo={},u.errorTextText=`Unknown track type: ${a.type}`,u}return V(r,[{key:"zoomed",value:function(){this.draw()}}]),r}(du),kfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.axis=new m6(b(u)),u.pBase.addChild(u.axis.pAxis),u}return V(r,[{key:"initTile",value:function(a){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(a)}},{key:"drawTile",value:function(a){if(!a.graphics)return;const u=a.graphics,h=6,f=4;u.clear(),this.valueScale=Rf().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-h/2,h/2]);const g=Kr("black");u.lineStyle(1,g,.3),u.beginFill(g,.3),this.drawAxis(this.valueScale),a.tileData.forEach(v=>{const p=v.fields,E=+v.chrOffset,T=+p[1]+E,S=+p[2]+E,x=+p[3],O=this._xScale(T),P=this._xScale(S),M=Math.max(P-O,f),G=this.valueScale(x),B=(P+O)/2;u.drawRect(B-M/2,G-h/2,M,h)})}},{key:"minVisibleValueInTiles",value:function(){let a=this.visibleAndFetchedIds();return a.length===0&&(a=Object.keys(this.fetchedTiles)),Math.min.apply(null,a.map(h=>+Math.min(...this.fetchedTiles[h].tileData.filter(f=>!Number.isNaN(f.fields[3])).map(f=>+f.fields[3]))))}},{key:"maxVisibleValueInTiles",value:function(){let a=this.visibleAndFetchedIds();return a.length===0&&(a=Object.keys(this.fetchedTiles)),Math.max.apply(null,a.map(h=>+Math.max(...this.fetchedTiles[h].tileData.filter(f=>!Number.isNaN(f.fields[3])).map(f=>+f.fields[3]))))}}]),r}(LC),Rfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{registerViewportChanged:h,removeViewportChanged:f,setDomainsCallback:g}=s,v=Yn.nice();return u.uid=v,u.options=a,u.hasFromView=!s.projectionXDomain||!s.projectionYDomain,u.removeViewportChanged=f,u.setDomainsCallback=g,u.viewportXDomain=u.hasFromView?null:s.projectionXDomain,u.viewportYDomain=u.hasFromView?null:s.projectionYDomain,u.brush=PA().on("brush",u.brushed.bind(b(u))),u.gBrush=u.gMain.append("g").attr("id",`brush-${u.uid}`).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--n").style("pointer-events","none"),u.gBrush.selectAll(".handle--s").style("pointer-events","none"),u.gBrush.selectAll(".handle--w").style("pointer-events","none"),u.gBrush.selectAll(".handle--e").style("pointer-events","none"),h(v,u.viewportChanged.bind(b(u))),u.rerender(),u.draw(),u}return V(r,[{key:"brushed",value:function(a){const u=a.selection;if(!this._xScale||!this._yScale)return;const h=[this._xScale.invert(u[0][0]),this._xScale.invert(u[1][0])],f=[this._yScale.invert(u[0][1]),this._yScale.invert(u[1][1])];this.hasFromView||(this.viewportXDomain=h,this.viewportYDomain=f),this.setDomainsCallback(h,f)}},{key:"viewportChanged",value:function(a,u){const h=a.domain(),f=u.domain();this.viewportXDomain=h,this.viewportYDomain=f,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),i(D(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const a=this._xScale(this.viewportXDomain[0]),u=this._yScale(this.viewportYDomain[0]),h=this._xScale(this.viewportXDomain[1]),f=this._yScale(this.viewportYDomain[1]),g=[[a,u],[h,f]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,g),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.draw()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a);const u=this._xScale.range(),h=this._yScale.range(),f=u[1]-u[0],g=h[1]-h[0];this.brush.extent([[u[0]-f,h[0]-g],[u[1]+f,h[1]+g]]),this.gBrush.call(this.brush),this.draw()}}]),r}(Fy),Pfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{registerViewportChanged:h,removeViewportChanged:f,setDomainsCallback:g}=s,v=Yn.nice();return u.uid=v,u.options=a,u.hasFromView=!s.projectionXDomain,u.removeViewportChanged=f,u.setDomainsCallback=g,u.viewportXDomain=u.hasFromView?null:s.projectionXDomain,u.viewportYDomain=u.hasFromView?null:[0,0],u.brush=a_().on("brush",u.brushed.bind(b(u))),u.gBrush=u.gMain.append("g").attr("id",`brush-${u.uid}`).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--ne").style("pointer-events","none"),u.gBrush.selectAll(".handle--nw").style("pointer-events","none"),u.gBrush.selectAll(".handle--sw").style("pointer-events","none"),u.gBrush.selectAll(".handle--se").style("pointer-events","none"),u.gBrush.selectAll(".handle--n").style("pointer-events","none"),u.gBrush.selectAll(".handle--s").style("pointer-events","none"),h(v,u.viewportChanged.bind(b(u))),u.rerender(),u.draw(),u}return V(r,[{key:"brushed",value:function(a){const u=a.selection;if(!this._xScale||!this._yScale)return;const h=[this._xScale.invert(u[0]),this._xScale.invert(u[1])],f=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=h),this.setDomainsCallback(h,f)}},{key:"viewportChanged",value:function(a,u,h=!0){const f=a.domain(),g=u.domain();this.viewportXDomain=f,this.viewportYDomain=g,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),i(D(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const a=this._xScale(this.viewportXDomain[0]),u=this._xScale(this.viewportXDomain[1]),h=[a,u];this.brush.on("brush",null),this.gBrush.call(this.brush.move,h),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.draw()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a);const u=this._xScale.range(),h=this._yScale.range(),f=u[1]-u[0];this.brush.extent([[u[0]-f,h[0]],[u[1]+f,h[1]]]),this.gBrush.call(this.brush),this.draw()}}]),r}(Fy),Nfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{registerViewportChanged:h,removeViewportChanged:f,setDomainsCallback:g}=s,v=Yn.nice();return u.uid=v,u.options=a,u.hasFromView=!s.projectionYDomain,u.removeViewportChanged=f,u.setDomainsCallback=g,u.viewportXDomain=u.hasFromView?null:[0,0],u.viewportYDomain=u.hasFromView?null:s.projectionYDomain,u.brush=Bg().on("brush",u.brushed.bind(b(u))),u.gBrush=u.gMain.append("g").attr("id",`brush-${u.uid}`).call(u.brush),u.gBrush.selectAll(".overlay").style("pointer-events","none"),u.gBrush.selectAll(".handle--ne").style("pointer-events","none"),u.gBrush.selectAll(".handle--nw").style("pointer-events","none"),u.gBrush.selectAll(".handle--sw").style("pointer-events","none"),u.gBrush.selectAll(".handle--se").style("pointer-events","none"),u.gBrush.selectAll(".handle--e").style("pointer-events","none"),u.gBrush.selectAll(".handle--w").style("pointer-events","none"),h(v,u.viewportChanged.bind(b(u))),u.rerender(),u.draw(),u}return V(r,[{key:"brushed",value:function(a){const u=a.selection;if(!this._xScale||!this._yScale)return;const h=this.viewportXDomain,f=[this._yScale.invert(u[0]),this._yScale.invert(u[1])];this.hasFromView||(this.viewportYDomain=f),this.setDomainsCallback(h,f)}},{key:"viewportChanged",value:function(a,u,h=!0){const f=a.domain(),g=u.domain();this.viewportXDomain=f,this.viewportYDomain=g,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),i(D(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const a=this._yScale(this.viewportYDomain[0]),u=this._yScale(this.viewportYDomain[1]),h=[a,u];this.brush.on("brush",null),this.gBrush.call(this.brush.move,h),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.draw()}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a);const u=this._xScale.range(),h=this._yScale.range(),f=h[1]-h[0];this.brush.extent([[u[0],h[0]-f],[u[1],h[1]+f]]),this.gBrush.call(this.brush),this.draw()}}]),r}(Fy);const fX="__mixwith_appliedMixin",dX="__mixwith_wrappedMixin",Mfe=e=>e[dX]||e,Q7e=(e,t)=>{const r=t(e);return r.prototype[fX]=Mfe(t),r},J7e=(e,t)=>e.hasOwnProperty(fX)&&e[fX]===Mfe(t),eze=(e,t)=>{for(;e!==null;){if(J7e(e,t))return!0;e=Object.getPrototypeOf(e)}return!1},pX=(e,t)=>(Object.setPrototypeOf(t,e),e[dX]||(e[dX]=e),t),mX="__mixwith_cachedApplications",tze=e=>pX(e,t=>{let r=t[mX];r||(t[mX]=new Map,r=t[mX]);let s=r.get(e);return s||(s=e(t),r.set(e,s)),s}),rze=e=>pX(e,t=>eze(t.prototype,e)?t:e(t)),nze=e=>pX(e,t=>Q7e(t,e)),e4=e=>rze(tze(nze(e)));let ize=function(){function e(t){L(this,e),this.superclass=t||function(){function r(){L(this,r)}return V(r)}()}return V(e,[{key:"with",value:function(...r){return r.reduce((s,a)=>a(s),this.superclass)}}]),e}();const HC=e=>new ize(e),gX=e4(e=>function(t){c(s,t);var r=d(s);function s(a,u){var h;L(this,s),h=r.call(this,a,u);const{animate:f}=a;return h.highlighted=!1,h.animate=f,h.MOUSEOVER_RADIUS=4,h.pubSub=a.pubSub,h.pubSubs.push(h.pubSub.subscribe("app.mouseMove",h.mouseMoveHandler.bind(b(h)))),h}return V(s,[{key:"setPosition",value:function(u){i(D(s.prototype),"setPosition",this).call(this,u),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(u,h){i(D(s.prototype),"zoomed",this).call(this,u,h),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),s}(e)),aze=e4(e=>function(t){c(s,t);var r=d(s);function s(){return L(this,s),r.apply(this,arguments)}return V(s,[{key:"drawHorizontalRule",value:function(u){let h=Kr(this.options.color||"black");this.highlighted&&(h=Kr("red")),u.lineStyle(this.strokeWidth,h,this.strokeOpacity);let f=0;for(;f<this.dimensions[0];)u.moveTo(f,this._yScale(this.yPosition)),u.lineTo(f+this.dashLength,this._yScale(this.yPosition)),f+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(u){return Math.abs(u.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),s}(e));let Lfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.yPosition=s.yPosition,u.strokeWidth=2,u.strokeOpacity=1,u.dashLength=5,u.dashGap=3,u}return V(r,[{key:"mouseMoveHandler",value:function(a){if(this.isWithin(a.x,a.y)&&this.isMouseOverHorizontalLine(a)){this.highlighted=!0,this.draw();return}this.highlighted=!1,this.draw()}},{key:"draw",value:function(){const a=this.pMain;a.clear(),this.drawHorizontalRule(a),this.animate()}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");h.setAttribute("class","horizontal-rule"),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h);const f=this.options.color||"black",g=document.createElement("line");return g.setAttribute("stroke",f),g.setAttribute("stroke-width",this.strokeWidth),g.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),g.setAttribute("x1",0),g.setAttribute("y1",this._yScale(this.yPosition)),g.setAttribute("x2",this.dimensions[0]),g.setAttribute("y2",this._yScale(this.yPosition)),h.appendChild(g),[u,a]}}]),r}(HC(du).with(gX,aze));const Ffe=e4(e=>function(t){c(s,t);var r=d(s);function s(){return L(this,s),r.apply(this,arguments)}return V(s,[{key:"drawVerticalRule",value:function(u){let h=Kr(this.options.color||"black");this.highlighted&&(h=Kr("red")),u.lineStyle(this.strokeWidth,h,this.strokeOpacity);let f=0;for(;f<this.dimensions[1];)u.moveTo(this._xScale(this.xPosition),f),u.lineTo(this._xScale(this.xPosition),f+this.dashLength),f+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(u){return Math.abs(u.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),s}(e));let Bfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.xPosition=s.xPosition,u.strokeWidth=2,u.strokeOpacity=1,u.dashLength=5,u.dashGap=3,u}return V(r,[{key:"draw",value:function(){const a=this.pMain;a.clear(),this.drawVerticalRule(a),this.animate()}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");h.setAttribute("class","vertical-rule"),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h);const f=this.options.color||"black",g=document.createElement("line");return g.setAttribute("stroke",f),g.setAttribute("stroke-width",this.strokeWidth),g.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),g.setAttribute("x1",this._xScale(this.xPosition)),g.setAttribute("y1",0),g.setAttribute("x2",this._xScale(this.xPosition)),g.setAttribute("y2",this.dimensions[1]),h.appendChild(g),[u,a]}},{key:"mouseMoveHandler",value:function(a){this.highlighted=this.isWithin(a.x,a.y)&&this.isMouseOverVerticalLine(a),this.draw()}}]),r}(HC(du).with(gX,Ffe)),Hfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{x:h,y:f}=s;return u.xPosition=h,u.yPosition=f,u.strokeWidth=2,u.strokeOpacity=1,u.dashLength=5,u.dashGap=3,u}return V(r,[{key:"draw",value:function(){const a=this.pMain;a.clear(),this.drawHorizontalRule(a),this.drawVerticalRule(a)}},{key:"mouseMoveHandler",value:function(a){this.highlighted=this.isWithin(a.x,a.y)&&(this.isMouseOverHorizontalLine(a)||this.isMouseOverVerticalLine(a)),this.draw()}},{key:"drawHorizontalRule",value:function(a){let u=Kr(this.options.color||"black");this.highlighted&&(u=Kr("red")),a.lineStyle(this.strokeWidth,u,this.strokeOpacity);let h=0;for(;h<this.dimensions[0];)a.moveTo(h,this._yScale(this.yPosition)),a.lineTo(h+this.dashLength,this._yScale(this.yPosition)),h+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(a){return Math.abs(a.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){let a=null,u=null;i(D(r.prototype),"exportSVG",this)?[u,a]=i(D(r.prototype),"exportSVG",this).call(this):(u=document.createElement("g"),a=u);const h=document.createElement("g");h.setAttribute("class","cross-rule"),h.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),a.appendChild(h);const f=this.options.color||"black",g=document.createElement("line");g.setAttribute("stroke",f),g.setAttribute("stroke-width",this.strokeWidth),g.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),g.setAttribute("x1",this._xScale(this.xPosition)),g.setAttribute("y1",0),g.setAttribute("x2",this._xScale(this.xPosition)),g.setAttribute("y2",this.dimensions[1]);const v=document.createElement("line");return v.setAttribute("stroke",f),v.setAttribute("stroke-width",this.strokeWidth),v.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),v.setAttribute("x1",0),v.setAttribute("y1",this._yScale(this.yPosition)),v.setAttribute("x2",this.dimensions[0]),v.setAttribute("y2",this._yScale(this.yPosition)),h.appendChild(g),h.appendChild(v),[u,a]}}]),r}(HC(du).with(gX,Ffe)),sN=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{animate:h}=s;return u.visibleTiles=new Set,u.visibleTileIds=new Set,u.fetching=new Set,u.fetchedTiles={},u.tileGraphics={},u.minX=typeof u.options.minPos<"u"&&!Number.isNaN(+u.options.minPos)?+u.options.minPos:-180,u.maxX=+u.options.maxPos||180,u.maxX=typeof u.options.maxPos<"u"&&!Number.isNaN(+u.options.maxPos)?+u.options.maxPos:180,u.minY=u.options.minY||u.minX,u.maxY=u.options.maxY||u.maxX,u.maxZoom=19,u.maxWidth=u.maxX-u.minX,u.animate=h,u.uuid=Yn.nice(),u.refreshTilesDebounced=ey(u.refreshTiles.bind(b(u)),VA),u}return V(r,[{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(a=>this.visibleTileIds.has(a))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(a=>this.fetchedTiles[a])}},{key:"setVisibleTiles",value:function(a){this.visibleTiles=a.map(u=>({tileId:this.tileToLocalId(u),remoteId:this.tileToRemoteId(u),mirrored:u.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(u=>u.tileId))}},{key:"removeAllTiles",value:function(){const a=new Set(Object.keys(this.fetchedTiles));this.removeTiles([...a])}},{key:"refreshTiles",value:function(){this.calculateVisibleTiles();const a=new Set(Object.keys(this.fetchedTiles)),u=[...this.visibleTiles].filter(f=>!this.fetching.has(f.remoteId)&&!a.has(f.tileId));for(let f=0;f<u.length;f++)this.fetching.add(u[f].remoteId);const h=[...a].filter(f=>!this.visibleTileIds.has(f));this.removeTiles(h),this.fetchNewTiles(u)}},{key:"removeTiles",value:function(a){a.length&&this.areAllVisibleTilesLoaded()&&(a.forEach(u=>{const h=u;this.destroyTile(this.fetchedTiles[h]),h in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[h]),delete this.tileGraphics[h]),delete this.fetchedTiles[h]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(a){return a.join(".")}},{key:"tileToRemoteId",value:function(a){return a.join(".")}},{key:"localToRemoteId",value:function(a){const u=a.split(".");return u.slice(0,u.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const a=Lr.calculateZoomLevel(this._xScale,this.minX,this.maxX),u=Lr.calculateZoomLevel(this._xScale,this.minY,this.maxY);let h=Math.min(Math.max(a,u),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?h=Math.min(this.options.maxZoom,h):console.error("Invalid maxZoom on track:",this)),h}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=Lr.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=Lr.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);const a=this.xTiles,u=this.yTiles,h=this.zoomLevel,f=[];for(let g=0;g<a.length;g++)for(let v=0;v<u.length;v++){const p=[h,a[g],u[v]];f.push(p)}this.setVisibleTiles(f)}},{key:"zoomed",value:function(a,u,h,f,g){i(D(r.prototype),"zoomed",this).call(this,a,u),this.xScale(a),this.yScale(u),this.pMain.position.x=f,this.pMain.position.y=g,this.pMain.scale.x=h,this.pMain.scale.y=h,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a)}},{key:"setDimensions",value:function(a){i(D(r.prototype),"setDimensions",this).call(this,a)}},{key:"areAllVisibleTilesLoaded",value:function(){const a=new Set(Object.keys(this.fetchedTiles)),u=[...this.visibleTileIds];for(let h=0;h<u.length;h++)if(!a.has(u[h]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(a){return a&&(this.scale.minValue=a),this.scale.minValue}},{key:"maxValue",value:function(a){return a&&(this.scale.maxValue=a),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(a,u){const h=this.maxWidth/2**a,f=h,g=this.minX+u[0]*h,v=this.minY+u[1]*f;return{tileX:g,tileY:v,tileWidth:h,tileHeight:f}}},{key:"setSpriteProperties",value:function(a,u,h){const{tileX:f,tileY:g,tileWidth:v,tileHeight:p}=this.getTilePosAndDimensions(u,h);a.x=this._refXScale(f),a.y=this._refYScale(g);const E=f+v,T=g+p;a.width=this._refXScale(E)-this._refXScale(f),a.height=this._refYScale(T)-this._refYScale(g)}},{key:"initTile",value:function(a){const u=new or.PIXI.Texture(new or.PIXI.BaseTexture(a.tileData.img)),h=new or.PIXI.Sprite(u),f=a.graphics;a.sprite=h,this.setSpriteProperties(a.sprite,a.tileData.zoomLevel,a.tileData.tilePos),f.removeChildren(),f.addChild(a.sprite)}},{key:"updateTile",value:function(a){}},{key:"destroyTile",value:function(a){}},{key:"addMissingGraphics",value:function(){const a=Object.keys(this.fetchedTiles);for(let u=0;u<a.length;u++)if(!(a[u]in this.tileGraphics)){const h=new or.PIXI.Graphics;this.pMain.addChild(h),this.fetchedTiles[a[u]].graphics=h,this.initTile(this.fetchedTiles[a[u]]),this.tileGraphics[a[u]]=h}}},{key:"updateExistingGraphics",value:function(){const a=Object.keys(this.fetchedTiles);for(let u=0;u<a.length;u++)this.updateTile(this.fetchedTiles[a[u]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(a,u){let h=this.lruCache.get(a.tileId);return h||(h=u(a.data,a.type),this.lruCache.put(a.tileId,h)),h}},{key:"getTileUrl",value:function(a){const u=["a","b","c"],h=Math.floor(Math.random()*u.length);return`https://${u[h]}.tile.openstreetmap.org/${a[0]}/${a[1]}/${a[2]}.png`}},{key:"fetchNewTiles",value:function(a){if(a.length>0){const u=[...new Set(a.map(h=>h.remoteId))];for(const h of u){const f=h.split("."),g=this.getTileUrl(f),v=new Image;v.crossOrigin="Anonymous",v.src=g,v.onload=()=>{const p={};p[h]={tileId:h,img:v,zoomLevel:+f[0],tilePos:[+f[1],+f[2]],tileSrc:g},this.receivedTiles(p)}}}}},{key:"receivedTiles",value:function(a){for(let u=0;u<this.visibleTiles.length;u++){const h=this.visibleTiles[u].tileId;a[this.visibleTiles[u].remoteId]&&this.visibleTiles[u].remoteId in a&&(h in this.fetchedTiles||(this.fetchedTiles[h]=this.visibleTiles[u]),this.fetchedTiles[h].tileData=a[this.visibleTiles[u].remoteId])}for(const u in a)a[u]&&this.fetching.has(u)&&this.fetching.delete(u);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||i(D(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(a,u){i(D(r.prototype),"refScalesChanged",this).call(this,a,u);for(const h in this.fetchedTiles){const f=this.fetchedTiles[h];f.sprite&&this.setSpriteProperties(f.sprite,f.tileData.zoomLevel,f.tileData.tilePos)}}}]),r}(du),Ufe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"initTile",value:function(a){lhe.bind(this)(a),this.drawTile(a)}},{key:"drawTile",value:function(a){she.bind(this)(a)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(a){a.forEach(u=>{const f=u.remoteId.split("."),g={zoomLevel:f[0],tilePos:f.slice(1,f.length).map(v=>+v)};this.fetchedTiles[u.tileId]=u,this.fetchedTiles[u.tileId].tileData=g,this.fetching.has(u.remoteId)&&this.fetching.delete(u.remoteId)}),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){i(D(r.prototype),"draw",this).call(this)}}]),r}(sN),Gfe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.style=a.style,u.options.accessToken||(u.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",u.drawError()),u}return V(r,[{key:"rerender",value:function(a){i(D(r.prototype),"rerender",this).call(this,a),a.style!==this.style&&(this.style=a.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(a){const u=this.options&&this.options.style?this.options.style:"streets-v10",h=this.options&&+this.options.tileSize?+this.options.tileSize:256;return`https://api.mapbox.com/styles/v1/mapbox/${u}/tiles/${h}/${a[0]}/${a[1]}/${a[2]}?access_token=${this.options.accessToken}`}}]),r}(sN),$fe=function(e){c(r,e);var t=d(r);function r(s,a){var u;return L(this,r),u=t.call(this,s,a),u.style=a.style,u.options.tileSource||(u.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",u.drawError()),u}return V(r,[{key:"getTileUrl",value:function(a){let u=this.options.tileSource.replace("{z}",a[0]);return u=u.replace("{x}",a[1]),u=u.replace("{y}",a[2]),u}}]),r}(sN);const oze=(e,t,r,s=u8)=>{const a=r[e.type];return a?new a.dataFetcher(s,e,t):e.type==="genbank"?new rhe(e,t):e.type==="local-tiles"?new nhe(e,t):new T6(e,t)};var un=1e-6,lN=1e-12,ti=Math.PI,_o=ti/2,t4=ti/4,gu=ti*2,_a=180/ti,fn=ti/180,Ti=Math.abs,UC=Math.atan,vu=Math.atan2,Jr=Math.cos,r4=Math.ceil,zfe=Math.exp,vX=Math.hypot,n4=Math.log,yX=Math.pow,Vr=Math.sin,Wh=Math.sign||function(e){return e>0?1:e<0?-1:0},ws=Math.sqrt,bX=Math.tan;function Vfe(e){return e>1?0:e<-1?ti:Math.acos(e)}function yu(e){return e>1?_o:e<-1?-_o:Math.asin(e)}function jfe(e){return(e=Vr(e/2))*e}function uo(){}function i4(e,t){e&&Xfe.hasOwnProperty(e.type)&&Xfe[e.type](e,t)}var Wfe={Feature:function(e,t){i4(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,s=-1,a=r.length;++s<a;)i4(r[s].geometry,t)}},Xfe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)e=r[s],t.point(e[0],e[1],e[2])},LineString:function(e,t){_X(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)_X(r[s],t,0)},Polygon:function(e,t){Yfe(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)Yfe(r[s],t)},GeometryCollection:function(e,t){for(var r=e.geometries,s=-1,a=r.length;++s<a;)i4(r[s],t)}};function _X(e,t,r){var s=-1,a=e.length-r,u;for(t.lineStart();++s<a;)u=e[s],t.point(u[0],u[1],u[2]);t.lineEnd()}function Yfe(e,t){var r=-1,s=e.length;for(t.polygonStart();++r<s;)_X(e[r],t,1);t.polygonEnd()}function dd(e,t){e&&Wfe.hasOwnProperty(e.type)?Wfe[e.type](e,t):i4(e,t)}var a4=new go,o4=new go,qfe,Zfe,TX,EX,SX,sm={point:uo,lineStart:uo,lineEnd:uo,polygonStart:function(){a4=new go,sm.lineStart=sze,sm.lineEnd=lze},polygonEnd:function(){var e=+a4;o4.add(e<0?gu+e:e),this.lineStart=this.lineEnd=this.point=uo},sphere:function(){o4.add(gu)}};function sze(){sm.point=uze}function lze(){Kfe(qfe,Zfe)}function uze(e,t){sm.point=Kfe,qfe=e,Zfe=t,e*=fn,t*=fn,TX=e,EX=Jr(t=t/2+t4),SX=Vr(t)}function Kfe(e,t){e*=fn,t*=fn,t=t/2+t4;var r=e-TX,s=r>=0?1:-1,a=s*r,u=Jr(t),h=Vr(t),f=SX*h,g=EX*u+f*Jr(a),v=f*s*Vr(a);a4.add(vu(v,g)),TX=e,EX=u,SX=h}function cze(e){return o4=new go,dd(e,sm),o4*2}function s4(e){return[vu(e[1],e[0]),yu(e[2])]}function oT(e){var t=e[0],r=e[1],s=Jr(r);return[s*Jr(t),s*Vr(t),Vr(r)]}function l4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function GC(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function AX(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function u4(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function c4(e){var t=ws(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var co,tc,To,Wc,sT,Qfe,Jfe,$C,uN,Gy,hv,fv={point:wX,lineStart:tde,lineEnd:rde,polygonStart:function(){fv.point=nde,fv.lineStart=hze,fv.lineEnd=fze,uN=new go,sm.polygonStart()},polygonEnd:function(){sm.polygonEnd(),fv.point=wX,fv.lineStart=tde,fv.lineEnd=rde,a4<0?(co=-(To=180),tc=-(Wc=90)):uN>un?Wc=90:uN<-un&&(tc=-90),hv[0]=co,hv[1]=To},sphere:function(){co=-(To=180),tc=-(Wc=90)}};function wX(e,t){Gy.push(hv=[co=e,To=e]),t<tc&&(tc=t),t>Wc&&(Wc=t)}function ede(e,t){var r=oT([e*fn,t*fn]);if($C){var s=GC($C,r),a=[s[1],-s[0],0],u=GC(a,s);c4(u),u=s4(u);var h=e-sT,f=h>0?1:-1,g=u[0]*_a*f,v,p=Ti(h)>180;p^(f*sT<g&&g<f*e)?(v=u[1]*_a,v>Wc&&(Wc=v)):(g=(g+360)%360-180,p^(f*sT<g&&g<f*e)?(v=-u[1]*_a,v<tc&&(tc=v)):(t<tc&&(tc=t),t>Wc&&(Wc=t))),p?e<sT?Xc(co,e)>Xc(co,To)&&(To=e):Xc(e,To)>Xc(co,To)&&(co=e):To>=co?(e<co&&(co=e),e>To&&(To=e)):e>sT?Xc(co,e)>Xc(co,To)&&(To=e):Xc(e,To)>Xc(co,To)&&(co=e)}else Gy.push(hv=[co=e,To=e]);t<tc&&(tc=t),t>Wc&&(Wc=t),$C=r,sT=e}function tde(){fv.point=ede}function rde(){hv[0]=co,hv[1]=To,fv.point=wX,$C=null}function nde(e,t){if($C){var r=e-sT;uN.add(Ti(r)>180?r+(r>0?360:-360):r)}else Qfe=e,Jfe=t;sm.point(e,t),ede(e,t)}function hze(){sm.lineStart()}function fze(){nde(Qfe,Jfe),sm.lineEnd(),Ti(uN)>un&&(co=-(To=180)),hv[0]=co,hv[1]=To,$C=null}function Xc(e,t){return(t-=e)<0?t+360:t}function dze(e,t){return e[0]-t[0]}function ide(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function pze(e){var t,r,s,a,u,h,f;if(Wc=To=-(co=tc=1/0),Gy=[],dd(e,fv),r=Gy.length){for(Gy.sort(dze),t=1,s=Gy[0],u=[s];t<r;++t)a=Gy[t],ide(s,a[0])||ide(s,a[1])?(Xc(s[0],a[1])>Xc(s[0],s[1])&&(s[1]=a[1]),Xc(a[0],s[1])>Xc(s[0],s[1])&&(s[0]=a[0])):u.push(s=a);for(h=-1/0,r=u.length-1,t=0,s=u[r];t<=r;s=a,++t)a=u[t],(f=Xc(s[1],a[0]))>h&&(h=f,co=a[0],To=s[1])}return Gy=hv=null,co===1/0||tc===1/0?[[NaN,NaN],[NaN,NaN]]:[[co,tc],[To,Wc]]}var cN,h4,f4,d4,p4,m4,g4,v4,CX,xX,IX,ade,ode,bu,_u,Tu,pd={sphere:uo,point:DX,lineStart:sde,lineEnd:lde,polygonStart:function(){pd.lineStart=vze,pd.lineEnd=yze},polygonEnd:function(){pd.lineStart=sde,pd.lineEnd=lde}};function DX(e,t){e*=fn,t*=fn;var r=Jr(t);hN(r*Jr(e),r*Vr(e),Vr(t))}function hN(e,t,r){++cN,f4+=(e-f4)/cN,d4+=(t-d4)/cN,p4+=(r-p4)/cN}function sde(){pd.point=mze}function mze(e,t){e*=fn,t*=fn;var r=Jr(t);bu=r*Jr(e),_u=r*Vr(e),Tu=Vr(t),pd.point=gze,hN(bu,_u,Tu)}function gze(e,t){e*=fn,t*=fn;var r=Jr(t),s=r*Jr(e),a=r*Vr(e),u=Vr(t),h=vu(ws((h=_u*u-Tu*a)*h+(h=Tu*s-bu*u)*h+(h=bu*a-_u*s)*h),bu*s+_u*a+Tu*u);h4+=h,m4+=h*(bu+(bu=s)),g4+=h*(_u+(_u=a)),v4+=h*(Tu+(Tu=u)),hN(bu,_u,Tu)}function lde(){pd.point=DX}function vze(){pd.point=bze}function yze(){ude(ade,ode),pd.point=DX}function bze(e,t){ade=e,ode=t,e*=fn,t*=fn,pd.point=ude;var r=Jr(t);bu=r*Jr(e),_u=r*Vr(e),Tu=Vr(t),hN(bu,_u,Tu)}function ude(e,t){e*=fn,t*=fn;var r=Jr(t),s=r*Jr(e),a=r*Vr(e),u=Vr(t),h=_u*u-Tu*a,f=Tu*s-bu*u,g=bu*a-_u*s,v=vX(h,f,g),p=yu(v),E=v&&-p/v;CX.add(E*h),xX.add(E*f),IX.add(E*g),h4+=p,m4+=p*(bu+(bu=s)),g4+=p*(_u+(_u=a)),v4+=p*(Tu+(Tu=u)),hN(bu,_u,Tu)}function _ze(e){cN=h4=f4=d4=p4=m4=g4=v4=0,CX=new go,xX=new go,IX=new go,dd(e,pd);var t=+CX,r=+xX,s=+IX,a=vX(t,r,s);return a<lN&&(t=m4,r=g4,s=v4,h4<un&&(t=f4,r=d4,s=p4),a=vX(t,r,s),a<lN)?[NaN,NaN]:[vu(r,t)*_a,yu(s/a)*_a]}function zC(e){return function(){return e}}function OX(e,t){function r(s,a){return s=e(s,a),t(s[0],s[1])}return e.invert&&t.invert&&(r.invert=function(s,a){return s=t.invert(s,a),s&&e.invert(s[0],s[1])}),r}function kX(e,t){return[Ti(e)>ti?e+Math.round(-e/gu)*gu:e,t]}kX.invert=kX;function RX(e,t,r){return(e%=gu)?t||r?OX(hde(e),fde(t,r)):hde(e):t||r?fde(t,r):kX}function cde(e){return function(t,r){return t+=e,[t>ti?t-gu:t<-ti?t+gu:t,r]}}function hde(e){var t=cde(e);return t.invert=cde(-e),t}function fde(e,t){var r=Jr(e),s=Vr(e),a=Jr(t),u=Vr(t);function h(f,g){var v=Jr(g),p=Jr(f)*v,E=Vr(f)*v,T=Vr(g),S=T*r+p*s;return[vu(E*a-S*u,p*r-T*s),yu(S*a+E*u)]}return h.invert=function(f,g){var v=Jr(g),p=Jr(f)*v,E=Vr(f)*v,T=Vr(g),S=T*a-E*u;return[vu(E*a+T*u,p*r+S*s),yu(S*r-p*s)]},h}function dde(e){e=RX(e[0]*fn,e[1]*fn,e.length>2?e[2]*fn:0);function t(r){return r=e(r[0]*fn,r[1]*fn),r[0]*=_a,r[1]*=_a,r}return t.invert=function(r){return r=e.invert(r[0]*fn,r[1]*fn),r[0]*=_a,r[1]*=_a,r},t}function pde(e,t,r,s,a,u){if(r){var h=Jr(t),f=Vr(t),g=s*r;a==null?(a=t+s*gu,u=t-g/2):(a=mde(h,a),u=mde(h,u),(s>0?a<u:a>u)&&(a+=s*gu));for(var v,p=a;s>0?p>u:p<u;p-=g)v=s4([h,-f*Jr(p),-f*Vr(p)]),e.point(v[0],v[1])}}function mde(e,t){t=oT(t),t[0]-=e,c4(t);var r=Vfe(-t[1]);return((-t[2]<0?-r:r)+gu-un)%gu}function Tze(){var e=zC([0,0]),t=zC(90),r=zC(6),s,a,u={point:h};function h(g,v){s.push(g=a(g,v)),g[0]*=_a,g[1]*=_a}function f(){var g=e.apply(this,arguments),v=t.apply(this,arguments)*fn,p=r.apply(this,arguments)*fn;return s=[],a=RX(-g[0]*fn,-g[1]*fn,0).invert,pde(u,v,p,1),g={type:"Polygon",coordinates:[s]},s=a=null,g}return f.center=function(g){return arguments.length?(e=typeof g=="function"?g:zC([+g[0],+g[1]]),f):e},f.radius=function(g){return arguments.length?(t=typeof g=="function"?g:zC(+g),f):t},f.precision=function(g){return arguments.length?(r=typeof g=="function"?g:zC(+g),f):r},f}function gde(){var e=[],t;return{point:function(r,s,a){t.push([r,s,a])},lineStart:function(){e.push(t=[])},lineEnd:uo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function y4(e,t){return Ti(e[0]-t[0])<un&&Ti(e[1]-t[1])<un}function b4(e,t,r,s){this.x=e,this.z=t,this.o=r,this.e=s,this.v=!1,this.n=this.p=null}function vde(e,t,r,s,a){var u=[],h=[],f,g;if(e.forEach(function(x){if(!((O=x.length-1)<=0)){var O,P=x[0],M=x[O],G;if(y4(P,M)){if(!P[2]&&!M[2]){for(a.lineStart(),f=0;f<O;++f)a.point((P=x[f])[0],P[1]);a.lineEnd();return}M[0]+=2*un}u.push(G=new b4(P,x,null,!0)),h.push(G.o=new b4(P,null,G,!1)),u.push(G=new b4(M,x,null,!1)),h.push(G.o=new b4(M,null,G,!0))}}),!!u.length){for(h.sort(t),yde(u),yde(h),f=0,g=h.length;f<g;++f)h[f].e=r=!r;for(var v=u[0],p,E;;){for(var T=v,S=!0;T.v;)if((T=T.n)===v)return;p=T.z,a.lineStart();do{if(T.v=T.o.v=!0,T.e){if(S)for(f=0,g=p.length;f<g;++f)a.point((E=p[f])[0],E[1]);else s(T.x,T.n.x,1,a);T=T.n}else{if(S)for(p=T.p.z,f=p.length-1;f>=0;--f)a.point((E=p[f])[0],E[1]);else s(T.x,T.p.x,-1,a);T=T.p}T=T.o,p=T.z,S=!S}while(!T.v);a.lineEnd()}}}function yde(e){if(t=e.length){for(var t,r=0,s=e[0],a;++r<t;)s.n=a=e[r],a.p=s,s=a;s.n=a=e[0],a.p=s}}function PX(e){return Ti(e[0])<=ti?e[0]:Wh(e[0])*((Ti(e[0])+ti)%gu-ti)}function bde(e,t){var r=PX(t),s=t[1],a=Vr(s),u=[Vr(r),-Jr(r),0],h=0,f=0,g=new go;a===1?s=_o+un:a===-1&&(s=-_o-un);for(var v=0,p=e.length;v<p;++v)if(T=(E=e[v]).length)for(var E,T,S=E[T-1],x=PX(S),O=S[1]/2+t4,P=Vr(O),M=Jr(O),G=0;G<T;++G,x=U,P=Z,M=ee,S=B){var B=E[G],U=PX(B),j=B[1]/2+t4,Z=Vr(j),ee=Jr(j),J=U-x,he=J>=0?1:-1,pe=he*J,ae=pe>ti,ye=P*Z;if(g.add(vu(ye*he*Vr(pe),M*ee+ye*Jr(pe))),h+=ae?J+he*gu:J,ae^x>=r^U>=r){var Ee=GC(oT(S),oT(B));c4(Ee);var ue=GC(u,Ee);c4(ue);var be=(ae^J>=0?-1:1)*yu(ue[2]);(s>be||s===be&&(Ee[0]||Ee[1]))&&(f+=ae^J>=0?1:-1)}}return(h<-un||h<un&&g<-lN)^f&1}function _de(e,t,r,s){return function(a){var u=t(a),h=gde(),f=t(h),g=!1,v,p,E,T={point:S,lineStart:O,lineEnd:P,polygonStart:function(){T.point=M,T.lineStart=G,T.lineEnd=B,p=[],v=[]},polygonEnd:function(){T.point=S,T.lineStart=O,T.lineEnd=P,p=rD(p);var U=bde(v,s);p.length?(g||(a.polygonStart(),g=!0),vde(p,Sze,U,r,a)):U&&(g||(a.polygonStart(),g=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),g&&(a.polygonEnd(),g=!1),p=v=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function S(U,j){e(U,j)&&a.point(U,j)}function x(U,j){u.point(U,j)}function O(){T.point=x,u.lineStart()}function P(){T.point=S,u.lineEnd()}function M(U,j){E.push([U,j]),f.point(U,j)}function G(){f.lineStart(),E=[]}function B(){M(E[0][0],E[0][1]),f.lineEnd();var U=f.clean(),j=h.result(),Z,ee=j.length,J,he,pe;if(E.pop(),v.push(E),E=null,!!ee){if(U&1){if(he=j[0],(J=he.length-1)>0){for(g||(a.polygonStart(),g=!0),a.lineStart(),Z=0;Z<J;++Z)a.point((pe=he[Z])[0],pe[1]);a.lineEnd()}return}ee>1&&U&2&&j.push(j.pop().concat(j.shift())),p.push(j.filter(Eze))}}return T}}function Eze(e){return e.length>1}function Sze(e,t){return((e=e.x)[0]<0?e[1]-_o-un:_o-e[1])-((t=t.x)[0]<0?t[1]-_o-un:_o-t[1])}const NX=_de(function(){return!0},Aze,Cze,[-ti,-_o]);function Aze(e){var t=NaN,r=NaN,s=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(u,h){var f=u>0?ti:-ti,g=Ti(u-t);Ti(g-ti)<un?(e.point(t,r=(r+h)/2>0?_o:-_o),e.point(s,r),e.lineEnd(),e.lineStart(),e.point(f,r),e.point(u,r),a=0):s!==f&&g>=ti&&(Ti(t-s)<un&&(t-=s*un),Ti(u-f)<un&&(u-=f*un),r=wze(t,r,u,h),e.point(s,r),e.lineEnd(),e.lineStart(),e.point(f,r),a=0),e.point(t=u,r=h),s=f},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-a}}}function wze(e,t,r,s){var a,u,h=Vr(e-r);return Ti(h)>un?UC((Vr(t)*(u=Jr(s))*Vr(r)-Vr(s)*(a=Jr(t))*Vr(e))/(a*u*h)):(t+s)/2}function Cze(e,t,r,s){var a;if(e==null)a=r*_o,s.point(-ti,a),s.point(0,a),s.point(ti,a),s.point(ti,0),s.point(ti,-a),s.point(0,-a),s.point(-ti,-a),s.point(-ti,0),s.point(-ti,a);else if(Ti(e[0]-t[0])>un){var u=e[0]<t[0]?ti:-ti;a=r*u/2,s.point(-u,a),s.point(0,a),s.point(u,a)}else s.point(t[0],t[1])}function Tde(e){var t=Jr(e),r=6*fn,s=t>0,a=Ti(t)>un;function u(p,E,T,S){pde(S,e,r,T,p,E)}function h(p,E){return Jr(p)*Jr(E)>t}function f(p){var E,T,S,x,O;return{lineStart:function(){x=S=!1,O=1},point:function(P,M){var G=[P,M],B,U=h(P,M),j=s?U?0:v(P,M):U?v(P+(P<0?ti:-ti),M):0;if(!E&&(x=S=U)&&p.lineStart(),U!==S&&(B=g(E,G),(!B||y4(E,B)||y4(G,B))&&(G[2]=1)),U!==S)O=0,U?(p.lineStart(),B=g(G,E),p.point(B[0],B[1])):(B=g(E,G),p.point(B[0],B[1],2),p.lineEnd()),E=B;else if(a&&E&&s^U){var Z;!(j&T)&&(Z=g(G,E,!0))&&(O=0,s?(p.lineStart(),p.point(Z[0][0],Z[0][1]),p.point(Z[1][0],Z[1][1]),p.lineEnd()):(p.point(Z[1][0],Z[1][1]),p.lineEnd(),p.lineStart(),p.point(Z[0][0],Z[0][1],3)))}U&&(!E||!y4(E,G))&&p.point(G[0],G[1]),E=G,S=U,T=j},lineEnd:function(){S&&p.lineEnd(),E=null},clean:function(){return O|(x&&S)<<1}}}function g(p,E,T){var S=oT(p),x=oT(E),O=[1,0,0],P=GC(S,x),M=l4(P,P),G=P[0],B=M-G*G;if(!B)return!T&&p;var U=t*M/B,j=-t*G/B,Z=GC(O,P),ee=u4(O,U),J=u4(P,j);AX(ee,J);var he=Z,pe=l4(ee,he),ae=l4(he,he),ye=pe*pe-ae*(l4(ee,ee)-1);if(!(ye<0)){var Ee=ws(ye),ue=u4(he,(-pe-Ee)/ae);if(AX(ue,ee),ue=s4(ue),!T)return ue;var be=p[0],Me=E[0],Xe=p[1],rt=E[1],st;Me<be&&(st=be,be=Me,Me=st);var mt=Me-be,kt=Ti(mt-ti)<un,Le=kt||mt<un;if(!kt&&rt<Xe&&(st=Xe,Xe=rt,rt=st),Le?kt?Xe+rt>0^ue[1]<(Ti(ue[0]-be)<un?Xe:rt):Xe<=ue[1]&&ue[1]<=rt:mt>ti^(be<=ue[0]&&ue[0]<=Me)){var Ie=u4(he,(-pe+Ee)/ae);return AX(Ie,ee),[ue,s4(Ie)]}}}function v(p,E){var T=s?e:ti-e,S=0;return p<-T?S|=1:p>T&&(S|=2),E<-T?S|=4:E>T&&(S|=8),S}return _de(h,f,u,s?[0,-e]:[-ti,e-ti])}function xze(e,t,r,s,a,u){var h=e[0],f=e[1],g=t[0],v=t[1],p=0,E=1,T=g-h,S=v-f,x;if(x=r-h,!(!T&&x>0)){if(x/=T,T<0){if(x<p)return;x<E&&(E=x)}else if(T>0){if(x>E)return;x>p&&(p=x)}if(x=a-h,!(!T&&x<0)){if(x/=T,T<0){if(x>E)return;x>p&&(p=x)}else if(T>0){if(x<p)return;x<E&&(E=x)}if(x=s-f,!(!S&&x>0)){if(x/=S,S<0){if(x<p)return;x<E&&(E=x)}else if(S>0){if(x>E)return;x>p&&(p=x)}if(x=u-f,!(!S&&x<0)){if(x/=S,S<0){if(x>E)return;x>p&&(p=x)}else if(S>0){if(x<p)return;x<E&&(E=x)}return p>0&&(e[0]=h+p*T,e[1]=f+p*S),E<1&&(t[0]=h+E*T,t[1]=f+E*S),!0}}}}}var fN=1e9,_4=-fN;function T4(e,t,r,s){function a(v,p){return e<=v&&v<=r&&t<=p&&p<=s}function u(v,p,E,T){var S=0,x=0;if(v==null||(S=h(v,E))!==(x=h(p,E))||g(v,p)<0^E>0)do T.point(S===0||S===3?e:r,S>1?s:t);while((S=(S+E+4)%4)!==x);else T.point(p[0],p[1])}function h(v,p){return Ti(v[0]-e)<un?p>0?0:3:Ti(v[0]-r)<un?p>0?2:1:Ti(v[1]-t)<un?p>0?1:0:p>0?3:2}function f(v,p){return g(v.x,p.x)}function g(v,p){var E=h(v,1),T=h(p,1);return E!==T?E-T:E===0?p[1]-v[1]:E===1?v[0]-p[0]:E===2?v[1]-p[1]:p[0]-v[0]}return function(v){var p=v,E=gde(),T,S,x,O,P,M,G,B,U,j,Z,ee={point:J,lineStart:ye,lineEnd:Ee,polygonStart:pe,polygonEnd:ae};function J(be,Me){a(be,Me)&&p.point(be,Me)}function he(){for(var be=0,Me=0,Xe=S.length;Me<Xe;++Me)for(var rt=S[Me],st=1,mt=rt.length,kt=rt[0],Le,Ie,Ne=kt[0],Fe=kt[1];st<mt;++st)Le=Ne,Ie=Fe,kt=rt[st],Ne=kt[0],Fe=kt[1],Ie<=s?Fe>s&&(Ne-Le)*(s-Ie)>(Fe-Ie)*(e-Le)&&++be:Fe<=s&&(Ne-Le)*(s-Ie)<(Fe-Ie)*(e-Le)&&--be;return be}function pe(){p=E,T=[],S=[],Z=!0}function ae(){var be=he(),Me=Z&&be,Xe=(T=rD(T)).length;(Me||Xe)&&(v.polygonStart(),Me&&(v.lineStart(),u(null,null,1,v),v.lineEnd()),Xe&&vde(T,f,be,u,v),v.polygonEnd()),p=v,T=S=x=null}function ye(){ee.point=ue,S&&S.push(x=[]),j=!0,U=!1,G=B=NaN}function Ee(){T&&(ue(O,P),M&&U&&E.rejoin(),T.push(E.result())),ee.point=J,U&&p.lineEnd()}function ue(be,Me){var Xe=a(be,Me);if(S&&x.push([be,Me]),j)O=be,P=Me,M=Xe,j=!1,Xe&&(p.lineStart(),p.point(be,Me));else if(Xe&&U)p.point(be,Me);else{var rt=[G=Math.max(_4,Math.min(fN,G)),B=Math.max(_4,Math.min(fN,B))],st=[be=Math.max(_4,Math.min(fN,be)),Me=Math.max(_4,Math.min(fN,Me))];xze(rt,st,e,t,r,s)?(U||(p.lineStart(),p.point(rt[0],rt[1])),p.point(st[0],st[1]),Xe||p.lineEnd(),Z=!1):Xe&&(p.lineStart(),p.point(be,Me),Z=!1)}G=be,B=Me,U=Xe}return ee}}function Ize(){var e=0,t=0,r=960,s=500,a,u,h;return h={stream:function(f){return a&&u===f?a:a=T4(e,t,r,s)(u=f)},extent:function(f){return arguments.length?(e=+f[0][0],t=+f[0][1],r=+f[1][0],s=+f[1][1],a=u=null,h):[[e,t],[r,s]]}}}var MX,LX,E4,S4,VC={sphere:uo,point:uo,lineStart:Dze,lineEnd:uo,polygonStart:uo,polygonEnd:uo};function Dze(){VC.point=kze,VC.lineEnd=Oze}function Oze(){VC.point=VC.lineEnd=uo}function kze(e,t){e*=fn,t*=fn,LX=e,E4=Vr(t),S4=Jr(t),VC.point=Rze}function Rze(e,t){e*=fn,t*=fn;var r=Vr(t),s=Jr(t),a=Ti(e-LX),u=Jr(a),h=Vr(a),f=s*h,g=S4*r-E4*s*u,v=E4*r+S4*s*u;MX.add(vu(ws(f*f+g*g),v)),LX=e,E4=r,S4=s}function Ede(e){return MX=new go,dd(e,VC),+MX}var FX=[null,null],Pze={type:"LineString",coordinates:FX};function A4(e,t){return FX[0]=e,FX[1]=t,Ede(Pze)}var Sde={Feature:function(e,t){return w4(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,s=-1,a=r.length;++s<a;)if(w4(r[s].geometry,t))return!0;return!1}},Ade={Sphere:function(){return!0},Point:function(e,t){return wde(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)if(wde(r[s],t))return!0;return!1},LineString:function(e,t){return Cde(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)if(Cde(r[s],t))return!0;return!1},Polygon:function(e,t){return xde(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,s=-1,a=r.length;++s<a;)if(xde(r[s],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,s=-1,a=r.length;++s<a;)if(w4(r[s],t))return!0;return!1}};function w4(e,t){return e&&Ade.hasOwnProperty(e.type)?Ade[e.type](e,t):!1}function wde(e,t){return A4(e,t)===0}function Cde(e,t){for(var r,s,a,u=0,h=e.length;u<h;u++){if(s=A4(e[u],t),s===0||u>0&&(a=A4(e[u],e[u-1]),a>0&&r<=a&&s<=a&&(r+s-a)*(1-Math.pow((r-s)/a,2))<lN*a))return!0;r=s}return!1}function xde(e,t){return!!bde(e.map(Nze),Ide(t))}function Nze(e){return e=e.map(Ide),e.pop(),e}function Ide(e){return[e[0]*fn,e[1]*fn]}function Mze(e,t){return(e&&Sde.hasOwnProperty(e.type)?Sde[e.type]:w4)(e,t)}function Dde(e,t,r){var s=Gs(e,t-un,r).concat(t);return function(a){return s.map(function(u){return[a,u]})}}function Ode(e,t,r){var s=Gs(e,t-un,r).concat(t);return function(a){return s.map(function(u){return[u,a]})}}function kde(){var e,t,r,s,a,u,h,f,g=10,v=g,p=90,E=360,T,S,x,O,P=2.5;function M(){return{type:"MultiLineString",coordinates:G()}}function G(){return Gs(r4(s/p)*p,r,p).map(x).concat(Gs(r4(f/E)*E,h,E).map(O)).concat(Gs(r4(t/g)*g,e,g).filter(function(B){return Ti(B%p)>un}).map(T)).concat(Gs(r4(u/v)*v,a,v).filter(function(B){return Ti(B%E)>un}).map(S))}return M.lines=function(){return G().map(function(B){return{type:"LineString",coordinates:B}})},M.outline=function(){return{type:"Polygon",coordinates:[x(s).concat(O(h).slice(1),x(r).reverse().slice(1),O(f).reverse().slice(1))]}},M.extent=function(B){return arguments.length?M.extentMajor(B).extentMinor(B):M.extentMinor()},M.extentMajor=function(B){return arguments.length?(s=+B[0][0],r=+B[1][0],f=+B[0][1],h=+B[1][1],s>r&&(B=s,s=r,r=B),f>h&&(B=f,f=h,h=B),M.precision(P)):[[s,f],[r,h]]},M.extentMinor=function(B){return arguments.length?(t=+B[0][0],e=+B[1][0],u=+B[0][1],a=+B[1][1],t>e&&(B=t,t=e,e=B),u>a&&(B=u,u=a,a=B),M.precision(P)):[[t,u],[e,a]]},M.step=function(B){return arguments.length?M.stepMajor(B).stepMinor(B):M.stepMinor()},M.stepMajor=function(B){return arguments.length?(p=+B[0],E=+B[1],M):[p,E]},M.stepMinor=function(B){return arguments.length?(g=+B[0],v=+B[1],M):[g,v]},M.precision=function(B){return arguments.length?(P=+B,T=Dde(u,a,90),S=Ode(t,e,P),x=Dde(f,h,90),O=Ode(s,r,P),M):P},M.extentMajor([[-180,-90+un],[180,90-un]]).extentMinor([[-180,-80-un],[180,80+un]])}function Lze(){return kde()()}function Fze(e,t){var r=e[0]*fn,s=e[1]*fn,a=t[0]*fn,u=t[1]*fn,h=Jr(s),f=Vr(s),g=Jr(u),v=Vr(u),p=h*Jr(r),E=h*Vr(r),T=g*Jr(a),S=g*Vr(a),x=2*yu(ws(jfe(u-s)+h*g*jfe(a-r))),O=Vr(x),P=x?function(M){var G=Vr(M*=x)/O,B=Vr(x-M)/O,U=B*p+G*T,j=B*E+G*S,Z=B*f+G*v;return[vu(j,U)*_a,vu(Z,ws(U*U+j*j))*_a]}:function(){return[r*_a,s*_a]};return P.distance=x,P}const dN=e=>e;var BX=new go,HX=new go,Rde,Pde,UX,GX,$y={point:uo,lineStart:uo,lineEnd:uo,polygonStart:function(){$y.lineStart=Bze,$y.lineEnd=Uze},polygonEnd:function(){$y.lineStart=$y.lineEnd=$y.point=uo,BX.add(Ti(HX)),HX=new go},result:function(){var e=BX/2;return BX=new go,e}};function Bze(){$y.point=Hze}function Hze(e,t){$y.point=Nde,Rde=UX=e,Pde=GX=t}function Nde(e,t){HX.add(GX*e-UX*t),UX=e,GX=t}function Uze(){Nde(Rde,Pde)}const Mde=$y;var jC=1/0,C4=jC,pN=-jC,x4=pN,Gze={point:$ze,lineStart:uo,lineEnd:uo,polygonStart:uo,polygonEnd:uo,result:function(){var e=[[jC,C4],[pN,x4]];return pN=x4=-(C4=jC=1/0),e}};function $ze(e,t){e<jC&&(jC=e),e>pN&&(pN=e),t<C4&&(C4=t),t>x4&&(x4=t)}const I4=Gze;var $X=0,zX=0,mN=0,D4=0,O4=0,WC=0,VX=0,jX=0,gN=0,Lde,Fde,lm,um,md={point:lT,lineStart:Bde,lineEnd:Hde,polygonStart:function(){md.lineStart=jze,md.lineEnd=Wze},polygonEnd:function(){md.point=lT,md.lineStart=Bde,md.lineEnd=Hde},result:function(){var e=gN?[VX/gN,jX/gN]:WC?[D4/WC,O4/WC]:mN?[$X/mN,zX/mN]:[NaN,NaN];return $X=zX=mN=D4=O4=WC=VX=jX=gN=0,e}};function lT(e,t){$X+=e,zX+=t,++mN}function Bde(){md.point=zze}function zze(e,t){md.point=Vze,lT(lm=e,um=t)}function Vze(e,t){var r=e-lm,s=t-um,a=ws(r*r+s*s);D4+=a*(lm+e)/2,O4+=a*(um+t)/2,WC+=a,lT(lm=e,um=t)}function Hde(){md.point=lT}function jze(){md.point=Xze}function Wze(){Ude(Lde,Fde)}function Xze(e,t){md.point=Ude,lT(Lde=lm=e,Fde=um=t)}function Ude(e,t){var r=e-lm,s=t-um,a=ws(r*r+s*s);D4+=a*(lm+e)/2,O4+=a*(um+t)/2,WC+=a,a=um*e-lm*t,VX+=a*(lm+e),jX+=a*(um+t),gN+=a*3,lT(lm=e,um=t)}const Gde=md;function $de(e){this._context=e}$de.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,gu);break}}},result:uo};var WX=new go,XX,zde,Vde,vN,yN,k4={point:uo,lineStart:function(){k4.point=Yze},lineEnd:function(){XX&&jde(zde,Vde),k4.point=uo},polygonStart:function(){XX=!0},polygonEnd:function(){XX=null},result:function(){var e=+WX;return WX=new go,e}};function Yze(e,t){k4.point=jde,zde=vN=e,Vde=yN=t}function jde(e,t){vN-=e,yN-=t,WX.add(ws(vN*vN+yN*yN)),vN=e,yN=t}const Wde=k4;function Xde(){this._string=[]}Xde.prototype={_radius:4.5,_circle:Yde(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Yde(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Yde(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function qze(e,t){var r=4.5,s,a;function u(h){return h&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),dd(h,s(a))),a.result()}return u.area=function(h){return dd(h,s(Mde)),Mde.result()},u.measure=function(h){return dd(h,s(Wde)),Wde.result()},u.bounds=function(h){return dd(h,s(I4)),I4.result()},u.centroid=function(h){return dd(h,s(Gde)),Gde.result()},u.projection=function(h){return arguments.length?(s=h==null?(e=null,dN):(e=h).stream,u):e},u.context=function(h){return arguments.length?(a=h==null?(t=null,new Xde):new $de(t=h),typeof r!="function"&&a.pointRadius(r),u):t},u.pointRadius=function(h){return arguments.length?(r=typeof h=="function"?h:(a.pointRadius(+h),+h),u):r},u.projection(e).context(t)}function Zze(e){return{stream:bN(e)}}function bN(e){return function(t){var r=new YX;for(var s in e)r[s]=e[s];return r.stream=t,r}}function YX(){}YX.prototype={constructor:YX,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function qX(e,t,r){var s=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),s!=null&&e.clipExtent(null),dd(r,e.stream(I4)),t(I4.result()),s!=null&&e.clipExtent(s),e}function R4(e,t,r){return qX(e,function(s){var a=t[1][0]-t[0][0],u=t[1][1]-t[0][1],h=Math.min(a/(s[1][0]-s[0][0]),u/(s[1][1]-s[0][1])),f=+t[0][0]+(a-h*(s[1][0]+s[0][0]))/2,g=+t[0][1]+(u-h*(s[1][1]+s[0][1]))/2;e.scale(150*h).translate([f,g])},r)}function ZX(e,t,r){return R4(e,[[0,0],t],r)}function KX(e,t,r){return qX(e,function(s){var a=+t,u=a/(s[1][0]-s[0][0]),h=(a-u*(s[1][0]+s[0][0]))/2,f=-u*s[0][1];e.scale(150*u).translate([h,f])},r)}function QX(e,t,r){return qX(e,function(s){var a=+t,u=a/(s[1][1]-s[0][1]),h=-u*s[0][0],f=(a-u*(s[1][1]+s[0][1]))/2;e.scale(150*u).translate([h,f])},r)}var qde=16,Kze=Jr(30*fn);function Zde(e,t){return+t?Jze(e,t):Qze(e)}function Qze(e){return bN({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Jze(e,t){function r(s,a,u,h,f,g,v,p,E,T,S,x,O,P){var M=v-s,G=p-a,B=M*M+G*G;if(B>4*t&&O--){var U=h+T,j=f+S,Z=g+x,ee=ws(U*U+j*j+Z*Z),J=yu(Z/=ee),he=Ti(Ti(Z)-1)<un||Ti(u-E)<un?(u+E)/2:vu(j,U),pe=e(he,J),ae=pe[0],ye=pe[1],Ee=ae-s,ue=ye-a,be=G*Ee-M*ue;(be*be/B>t||Ti((M*Ee+G*ue)/B-.5)>.3||h*T+f*S+g*x<Kze)&&(r(s,a,u,h,f,g,ae,ye,he,U/=ee,j/=ee,Z,O,P),P.point(ae,ye),r(ae,ye,he,U,j,Z,v,p,E,T,S,x,O,P))}}return function(s){var a,u,h,f,g,v,p,E,T,S,x,O,P={point:M,lineStart:G,lineEnd:U,polygonStart:function(){s.polygonStart(),P.lineStart=j},polygonEnd:function(){s.polygonEnd(),P.lineStart=G}};function M(J,he){J=e(J,he),s.point(J[0],J[1])}function G(){E=NaN,P.point=B,s.lineStart()}function B(J,he){var pe=oT([J,he]),ae=e(J,he);r(E,T,p,S,x,O,E=ae[0],T=ae[1],p=J,S=pe[0],x=pe[1],O=pe[2],qde,s),s.point(E,T)}function U(){P.point=M,s.lineEnd()}function j(){G(),P.point=Z,P.lineEnd=ee}function Z(J,he){B(a=J,he),u=E,h=T,f=S,g=x,v=O,P.point=B}function ee(){r(E,T,p,S,x,O,u,h,a,f,g,v,qde,s),P.lineEnd=U,U()}return P}}var eVe=bN({point:function(e,t){this.stream.point(e*fn,t*fn)}});function tVe(e){return bN({point:function(t,r){var s=e(t,r);return this.stream.point(s[0],s[1])}})}function rVe(e,t,r,s,a){function u(h,f){return h*=s,f*=a,[t+e*h,r-e*f]}return u.invert=function(h,f){return[(h-t)/e*s,(r-f)/e*a]},u}function Kde(e,t,r,s,a,u){if(!u)return rVe(e,t,r,s,a);var h=Jr(u),f=Vr(u),g=h*e,v=f*e,p=h/e,E=f/e,T=(f*r-h*t)/e,S=(f*t+h*r)/e;function x(O,P){return O*=s,P*=a,[g*O-v*P+t,r-v*O-g*P]}return x.invert=function(O,P){return[s*(p*O-E*P+T),a*(S-E*O-p*P)]},x}function cm(e){return JX(function(){return e})()}function JX(e){var t,r=150,s=480,a=250,u=0,h=0,f=0,g=0,v=0,p,E=0,T=1,S=1,x=null,O=NX,P=null,M,G,B,U=dN,j=.5,Z,ee,J,he,pe;function ae(be){return J(be[0]*fn,be[1]*fn)}function ye(be){return be=J.invert(be[0],be[1]),be&&[be[0]*_a,be[1]*_a]}ae.stream=function(be){return he&&pe===be?he:he=eVe(tVe(p)(O(Z(U(pe=be)))))},ae.preclip=function(be){return arguments.length?(O=be,x=void 0,ue()):O},ae.postclip=function(be){return arguments.length?(U=be,P=M=G=B=null,ue()):U},ae.clipAngle=function(be){return arguments.length?(O=+be?Tde(x=be*fn):(x=null,NX),ue()):x*_a},ae.clipExtent=function(be){return arguments.length?(U=be==null?(P=M=G=B=null,dN):T4(P=+be[0][0],M=+be[0][1],G=+be[1][0],B=+be[1][1]),ue()):P==null?null:[[P,M],[G,B]]},ae.scale=function(be){return arguments.length?(r=+be,Ee()):r},ae.translate=function(be){return arguments.length?(s=+be[0],a=+be[1],Ee()):[s,a]},ae.center=function(be){return arguments.length?(u=be[0]%360*fn,h=be[1]%360*fn,Ee()):[u*_a,h*_a]},ae.rotate=function(be){return arguments.length?(f=be[0]%360*fn,g=be[1]%360*fn,v=be.length>2?be[2]%360*fn:0,Ee()):[f*_a,g*_a,v*_a]},ae.angle=function(be){return arguments.length?(E=be%360*fn,Ee()):E*_a},ae.reflectX=function(be){return arguments.length?(T=be?-1:1,Ee()):T<0},ae.reflectY=function(be){return arguments.length?(S=be?-1:1,Ee()):S<0},ae.precision=function(be){return arguments.length?(Z=Zde(ee,j=be*be),ue()):ws(j)},ae.fitExtent=function(be,Me){return R4(ae,be,Me)},ae.fitSize=function(be,Me){return ZX(ae,be,Me)},ae.fitWidth=function(be,Me){return KX(ae,be,Me)},ae.fitHeight=function(be,Me){return QX(ae,be,Me)};function Ee(){var be=Kde(r,0,0,T,S,E).apply(null,t(u,h)),Me=Kde(r,s-be[0],a-be[1],T,S,E);return p=RX(f,g,v),ee=OX(t,Me),J=OX(p,ee),Z=Zde(ee,j),ue()}function ue(){return he=pe=null,ae}return function(){return t=e.apply(this,arguments),ae.invert=t.invert&&ye,Ee()}}function eY(e){var t=0,r=ti/3,s=JX(e),a=s(t,r);return a.parallels=function(u){return arguments.length?s(t=u[0]*fn,r=u[1]*fn):[t*_a,r*_a]},a}function nVe(e){var t=Jr(e);function r(s,a){return[s*t,Vr(a)/t]}return r.invert=function(s,a){return[s/t,yu(a*t)]},r}function Qde(e,t){var r=Vr(e),s=(r+Vr(t))/2;if(Ti(s)<un)return nVe(e);var a=1+r*(2*s-r),u=ws(a)/s;function h(f,g){var v=ws(a-2*s*Vr(g))/s;return[v*Vr(f*=s),u-v*Jr(f)]}return h.invert=function(f,g){var v=u-g,p=vu(f,Ti(v))*Wh(v);return v*s<0&&(p-=ti*Wh(f)*Wh(v)),[p/s,yu((a-(f*f+v*v)*s*s)/(2*s))]},h}function P4(){return eY(Qde).scale(155.424).center([0,33.6442])}function Jde(){return P4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function iVe(e){var t=e.length;return{point:function(r,s){for(var a=-1;++a<t;)e[a].point(r,s)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function aVe(){var e,t,r=Jde(),s,a=P4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,h=P4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,g,v={point:function(T,S){g=[T,S]}};function p(T){var S=T[0],x=T[1];return g=null,s.point(S,x),g||(u.point(S,x),g)||(f.point(S,x),g)}p.invert=function(T){var S=r.scale(),x=r.translate(),O=(T[0]-x[0])/S,P=(T[1]-x[1])/S;return(P>=.12&&P<.234&&O>=-.425&&O<-.214?a:P>=.166&&P<.234&&O>=-.214&&O<-.115?h:r).invert(T)},p.stream=function(T){return e&&t===T?e:e=iVe([r.stream(t=T),a.stream(T),h.stream(T)])},p.precision=function(T){return arguments.length?(r.precision(T),a.precision(T),h.precision(T),E()):r.precision()},p.scale=function(T){return arguments.length?(r.scale(T),a.scale(T*.35),h.scale(T),p.translate(r.translate())):r.scale()},p.translate=function(T){if(!arguments.length)return r.translate();var S=r.scale(),x=+T[0],O=+T[1];return s=r.translate(T).clipExtent([[x-.455*S,O-.238*S],[x+.455*S,O+.238*S]]).stream(v),u=a.translate([x-.307*S,O+.201*S]).clipExtent([[x-.425*S+un,O+.12*S+un],[x-.214*S-un,O+.234*S-un]]).stream(v),f=h.translate([x-.205*S,O+.212*S]).clipExtent([[x-.214*S+un,O+.166*S+un],[x-.115*S-un,O+.234*S-un]]).stream(v),E()},p.fitExtent=function(T,S){return R4(p,T,S)},p.fitSize=function(T,S){return ZX(p,T,S)},p.fitWidth=function(T,S){return KX(p,T,S)},p.fitHeight=function(T,S){return QX(p,T,S)};function E(){return e=t=null,p}return p.scale(1070)}function epe(e){return function(t,r){var s=Jr(t),a=Jr(r),u=e(s*a);return u===1/0?[2,0]:[u*a*Vr(t),u*Vr(r)]}}function _N(e){return function(t,r){var s=ws(t*t+r*r),a=e(s),u=Vr(a),h=Jr(a);return[vu(t*u,s*h),yu(s&&r*u/s)]}}var tY=epe(function(e){return ws(2/(1+e))});tY.invert=_N(function(e){return 2*yu(e/2)});function oVe(){return cm(tY).scale(124.75).clipAngle(180-.001)}var rY=epe(function(e){return(e=Vfe(e))&&e/Vr(e)});rY.invert=_N(function(e){return e});function sVe(){return cm(rY).scale(79.4188).clipAngle(180-.001)}function TN(e,t){return[e,n4(bX((_o+t)/2))]}TN.invert=function(e,t){return[e,2*UC(zfe(t))-_o]};function lVe(){return tpe(TN).scale(961/gu)}function tpe(e){var t=cm(e),r=t.center,s=t.scale,a=t.translate,u=t.clipExtent,h=null,f,g,v;t.scale=function(E){return arguments.length?(s(E),p()):s()},t.translate=function(E){return arguments.length?(a(E),p()):a()},t.center=function(E){return arguments.length?(r(E),p()):r()},t.clipExtent=function(E){return arguments.length?(E==null?h=f=g=v=null:(h=+E[0][0],f=+E[0][1],g=+E[1][0],v=+E[1][1]),p()):h==null?null:[[h,f],[g,v]]};function p(){var E=ti*s(),T=t(dde(t.rotate()).invert([0,0]));return u(h==null?[[T[0]-E,T[1]-E],[T[0]+E,T[1]+E]]:e===TN?[[Math.max(T[0]-E,h),f],[Math.min(T[0]+E,g),v]]:[[h,Math.max(T[1]-E,f)],[g,Math.min(T[1]+E,v)]])}return p()}function N4(e){return bX((_o+e)/2)}function rpe(e,t){var r=Jr(e),s=e===t?Vr(e):n4(r/Jr(t))/n4(N4(t)/N4(e)),a=r*yX(N4(e),s)/s;if(!s)return TN;function u(h,f){a>0?f<-_o+un&&(f=-_o+un):f>_o-un&&(f=_o-un);var g=a/yX(N4(f),s);return[g*Vr(s*h),a-g*Jr(s*h)]}return u.invert=function(h,f){var g=a-f,v=Wh(s)*ws(h*h+g*g),p=vu(h,Ti(g))*Wh(g);return g*s<0&&(p-=ti*Wh(h)*Wh(g)),[p/s,2*UC(yX(a/v,1/s))-_o]},u}function uVe(){return eY(rpe).scale(109.5).parallels([30,30])}function EN(e,t){return[e,t]}EN.invert=EN;function cVe(){return cm(EN).scale(152.63)}function npe(e,t){var r=Jr(e),s=e===t?Vr(e):(r-Jr(t))/(t-e),a=r/s+e;if(Ti(s)<un)return EN;function u(h,f){var g=a-f,v=s*h;return[g*Vr(v),a-g*Jr(v)]}return u.invert=function(h,f){var g=a-f,v=vu(h,Ti(g))*Wh(g);return g*s<0&&(v-=ti*Wh(h)*Wh(g)),[v/s,a-Wh(s)*ws(h*h+g*g)]},u}function hVe(){return eY(npe).scale(131.154).center([0,13.9389])}var SN=1.340264,AN=-.081106,wN=893e-6,CN=.003796,M4=ws(3)/2,fVe=12;function nY(e,t){var r=yu(M4*Vr(t)),s=r*r,a=s*s*s;return[e*Jr(r)/(M4*(SN+3*AN*s+a*(7*wN+9*CN*s))),r*(SN+AN*s+a*(wN+CN*s))]}nY.invert=function(e,t){for(var r=t,s=r*r,a=s*s*s,u=0,h,f,g;u<fVe&&(f=r*(SN+AN*s+a*(wN+CN*s))-t,g=SN+3*AN*s+a*(7*wN+9*CN*s),r-=h=f/g,s=r*r,a=s*s*s,!(Ti(h)<lN));++u);return[M4*e*(SN+3*AN*s+a*(7*wN+9*CN*s))/Jr(r),yu(Vr(r)/M4)]};function dVe(){return cm(nY).scale(177.158)}function iY(e,t){var r=Jr(t),s=Jr(e)*r;return[r*Vr(e)/s,Vr(t)/s]}iY.invert=_N(UC);function pVe(){return cm(iY).scale(144.049).clipAngle(60)}function mVe(){var e=1,t=0,r=0,s=1,a=1,u=0,h,f,g=null,v,p,E,T=1,S=1,x=bN({point:function(U,j){var Z=B([U,j]);this.stream.point(Z[0],Z[1])}}),O=dN,P,M;function G(){return T=e*s,S=e*a,P=M=null,B}function B(U){var j=U[0]*T,Z=U[1]*S;if(u){var ee=Z*h-j*f;j=j*h+Z*f,Z=ee}return[j+t,Z+r]}return B.invert=function(U){var j=U[0]-t,Z=U[1]-r;if(u){var ee=Z*h+j*f;j=j*h-Z*f,Z=ee}return[j/T,Z/S]},B.stream=function(U){return P&&M===U?P:P=x(O(M=U))},B.postclip=function(U){return arguments.length?(O=U,g=v=p=E=null,G()):O},B.clipExtent=function(U){return arguments.length?(O=U==null?(g=v=p=E=null,dN):T4(g=+U[0][0],v=+U[0][1],p=+U[1][0],E=+U[1][1]),G()):g==null?null:[[g,v],[p,E]]},B.scale=function(U){return arguments.length?(e=+U,G()):e},B.translate=function(U){return arguments.length?(t=+U[0],r=+U[1],G()):[t,r]},B.angle=function(U){return arguments.length?(u=U%360*fn,f=Vr(u),h=Jr(u),G()):u*_a},B.reflectX=function(U){return arguments.length?(s=U?-1:1,G()):s<0},B.reflectY=function(U){return arguments.length?(a=U?-1:1,G()):a<0},B.fitExtent=function(U,j){return R4(B,U,j)},B.fitSize=function(U,j){return ZX(B,U,j)},B.fitWidth=function(U,j){return KX(B,U,j)},B.fitHeight=function(U,j){return QX(B,U,j)},B}function aY(e,t){var r=t*t,s=r*r;return[e*(.8707-.131979*r+s*(-.013791+s*(.003971*r-.001529*s))),t*(1.007226+r*(.015085+s*(-.044475+.028874*r-.005916*s)))]}aY.invert=function(e,t){var r=t,s=25,a;do{var u=r*r,h=u*u;r-=a=(r*(1.007226+u*(.015085+h*(-.044475+.028874*u-.005916*h)))-t)/(1.007226+u*(.015085*3+h*(-.044475*7+.028874*9*u-.005916*11*h)))}while(Ti(a)>un&&--s>0);return[e/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function gVe(){return cm(aY).scale(175.295)}function oY(e,t){return[Jr(t)*Vr(e),Vr(t)]}oY.invert=_N(yu);function vVe(){return cm(oY).scale(249.5).clipAngle(90+un)}function sY(e,t){var r=Jr(t),s=1+Jr(e)*r;return[r*Vr(e)/s,Vr(t)/s]}sY.invert=_N(function(e){return 2*UC(e)});function yVe(){return cm(sY).scale(250).clipAngle(142)}function lY(e,t){return[n4(bX((_o+t)/2)),-e]}lY.invert=function(e,t){return[-t,2*UC(zfe(e))-_o]};function bVe(){var e=tpe(lY),t=e.center,r=e.rotate;return e.center=function(s){return arguments.length?t([-s[1],s[0]]):(s=t(),[s[1],-s[0]])},e.rotate=function(s){return arguments.length?r([s[0],s[1],s.length>2?s[2]+90:90]):(s=r(),[s[0],s[1],s[2]-90])},r([0,0,90]).scale(159.155)}const _Ve=Object.freeze(Object.defineProperty({__proto__:null,geoArea:cze,geoBounds:pze,geoCentroid:_ze,geoCircle:Tze,geoClipAntimeridian:NX,geoClipCircle:Tde,geoClipExtent:Ize,geoClipRectangle:T4,geoContains:Mze,geoDistance:A4,geoGraticule:kde,geoGraticule10:Lze,geoInterpolate:Fze,geoLength:Ede,geoPath:qze,geoAlbers:Jde,geoAlbersUsa:aVe,geoAzimuthalEqualArea:oVe,geoAzimuthalEqualAreaRaw:tY,geoAzimuthalEquidistant:sVe,geoAzimuthalEquidistantRaw:rY,geoConicConformal:uVe,geoConicConformalRaw:rpe,geoConicEqualArea:P4,geoConicEqualAreaRaw:Qde,geoConicEquidistant:hVe,geoConicEquidistantRaw:npe,geoEqualEarth:dVe,geoEqualEarthRaw:nY,geoEquirectangular:cVe,geoEquirectangularRaw:EN,geoGnomonic:pVe,geoGnomonicRaw:iY,geoIdentity:mVe,geoProjection:cm,geoProjectionMutator:JX,geoMercator:lVe,geoMercatorRaw:TN,geoNaturalEarth1:gVe,geoNaturalEarth1Raw:aY,geoOrthographic:vVe,geoOrthographicRaw:oY,geoStereographic:yVe,geoStereographicRaw:sY,geoTransverseMercator:bVe,geoTransverseMercatorRaw:lY,geoRotation:dde,geoStream:dd,geoTransform:Zze},Symbol.toStringTag,{value:"Module"}));var TVe=[].slice,EVe={};function uY(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}uY.prototype=ape.prototype={constructor:uY,defer:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var t=TVe.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),ipe(this),this},abort:function(){return this._error==null&&cY(this,new Error("abort")),this},await:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,r){e.apply(null,[t].concat(r))},L4(this),this},awaitAll:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,L4(this),this}};function ipe(e){if(!e._start)try{SVe(e)}catch(t){if(e._tasks[e._ended+e._active-1])cY(e,t);else if(!e._data)throw t}}function SVe(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,r=e._tasks[t],s=r.length-1,a=r[s];r[s]=AVe(e,t),--e._waiting,++e._active,r=a.apply(null,r),e._tasks[t]&&(e._tasks[t]=r||EVe)}}function AVe(e,t){return function(r,s){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,e._error==null&&(r!=null?cY(e,r):(e._data[t]=s,e._waiting?ipe(e):L4(e))))}}function cY(e,t){var r=e._tasks.length,s;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((s=e._tasks[r])&&(e._tasks[r]=null,s.abort))try{s.abort()}catch{}e._active=NaN,L4(e)}function L4(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function ape(e){if(e==null)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new uY(e)}const wVe=Object.freeze(Object.defineProperty({__proto__:null,queue:ape},Symbol.toStringTag,{value:"Module"}));var Xh="$";function F4(){}F4.prototype=hY.prototype={constructor:F4,has:function(e){return Xh+e in this},get:function(e){return this[Xh+e]},set:function(e,t){return this[Xh+e]=t,this},remove:function(e){var t=Xh+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Xh&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Xh&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Xh&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Xh&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Xh&&++e;return e},empty:function(){for(var e in this)if(e[0]===Xh)return!1;return!0},each:function(e){for(var t in this)t[0]===Xh&&e(this[t],t.slice(1),this)}};function hY(e,t){var r=new F4;if(e instanceof F4)e.each(function(f,g){r.set(g,f)});else if(Array.isArray(e)){var s=-1,a=e.length,u;if(t==null)for(;++s<a;)r.set(s,e[s]);else for(;++s<a;)r.set(t(u=e[s],s,e),u)}else if(e)for(var h in e)r.set(h,e[h]);return r}function ope(){}var uT=hY.prototype;ope.prototype={constructor:ope,has:uT.has,add:function(e){return e+="",this[Xh+e]=e,this},remove:uT.remove,clear:uT.clear,values:uT.keys,size:uT.size,empty:uT.empty,each:uT.each};var CVe={value:function(){}};function spe(){for(var e=0,t=arguments.length,r={},s;e<t;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new B4(r)}function B4(e){this._=e}function xVe(e,t){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}B4.prototype=spe.prototype={constructor:B4,on:function(e,t){var r=this._,s=xVe(e+"",r),a,u=-1,h=s.length;if(arguments.length<2){for(;++u<h;)if((a=(e=s[u]).type)&&(a=IVe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(a=(e=s[u]).type)r[a]=lpe(r[a],e.name,t);else if(t==null)for(a in r)r[a]=lpe(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new B4(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,u;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,a=u.length;s<a;++s)u[s].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,u=s.length;a<u;++a)s[a].value.apply(t,r)}};function IVe(e,t){for(var r=0,s=e.length,a;r<s;++r)if((a=e[r]).name===t)return a.value}function lpe(e,t,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=CVe,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:t,value:r}),e}function fY(e,t){var r,s=spe("beforesend","progress","load","error"),a,u=hY(),h=new XMLHttpRequest,f=null,g=null,v,p,E=0;typeof XDomainRequest<"u"&&!("withCredentials"in h)&&/^(http(s)?:)?\/\//.test(e)&&(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=T:h.onreadystatechange=function(S){h.readyState>3&&T(S)};function T(S){var x=h.status,O;if(!x&&OVe(h)||x>=200&&x<300||x===304){if(v)try{O=v.call(r,h)}catch(P){s.call("error",r,P);return}else O=h;s.call("load",r,O)}else s.call("error",r,S)}if(h.onprogress=function(S){s.call("progress",r,S)},r={header:function(S,x){return S=(S+"").toLowerCase(),arguments.length<2?u.get(S):(x==null?u.remove(S):u.set(S,x+""),r)},mimeType:function(S){return arguments.length?(a=S==null?null:S+"",r):a},responseType:function(S){return arguments.length?(p=S,r):p},timeout:function(S){return arguments.length?(E=+S,r):E},user:function(S){return arguments.length<1?f:(f=S==null?null:S+"",r)},password:function(S){return arguments.length<1?g:(g=S==null?null:S+"",r)},response:function(S){return v=S,r},get:function(S,x){return r.send("GET",S,x)},post:function(S,x){return r.send("POST",S,x)},send:function(S,x,O){return h.open(S,e,!0,f,g),a!=null&&!u.has("accept")&&u.set("accept",a+",*/*"),h.setRequestHeader&&u.each(function(P,M){h.setRequestHeader(M,P)}),a!=null&&h.overrideMimeType&&h.overrideMimeType(a),p!=null&&(h.responseType=p),E>0&&(h.timeout=E),O==null&&typeof x=="function"&&(O=x,x=null),O!=null&&O.length===1&&(O=DVe(O)),O!=null&&r.on("error",O).on("load",function(P){O(null,P)}),s.call("beforesend",r,h),h.send(x??null),r},abort:function(){return h.abort(),r},on:function(){var S=s.on.apply(s,arguments);return S===s?r:S}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return r.get(t)}return r}function DVe(e){return function(t,r){e(t==null?r:null)}}function OVe(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}function H4(e,t){return function(r,s){var a=fY(r).mimeType(e).response(t);if(s!=null){if(typeof s!="function")throw new Error("invalid callback: "+s);return a.get(s)}return a}}const kVe=H4("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),RVe=H4("application/json",function(e){return JSON.parse(e.responseText)}),PVe=H4("text/plain",function(e){return e.responseText}),NVe=H4("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t});var upe={},dY={},pY=34,xN=10,mY=13;function cpe(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function MVe(e,t){var r=cpe(e);return function(s,a){return t(r(s),a,e)}}function hpe(e){var t=Object.create(null),r=[];return e.forEach(function(s){for(var a in s)a in t||r.push(t[a]=a)}),r}function rc(e,t){var r=e+"",s=r.length;return s<t?new Array(t-s+1).join(0)+r:r}function LVe(e){return e<0?"-"+rc(-e,6):e>9999?"+"+rc(e,6):rc(e,4)}function FVe(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),s=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":LVe(e.getUTCFullYear())+"-"+rc(e.getUTCMonth()+1,2)+"-"+rc(e.getUTCDate(),2)+(a?"T"+rc(t,2)+":"+rc(r,2)+":"+rc(s,2)+"."+rc(a,3)+"Z":s?"T"+rc(t,2)+":"+rc(r,2)+":"+rc(s,2)+"Z":r||t?"T"+rc(t,2)+":"+rc(r,2)+"Z":"")}function fpe(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function s(E,T){var S,x,O=a(E,function(P,M){if(S)return S(P,M-1);x=P,S=T?MVe(P,T):cpe(P)});return O.columns=x||[],O}function a(E,T){var S=[],x=E.length,O=0,P=0,M,G=x<=0,B=!1;E.charCodeAt(x-1)===xN&&--x,E.charCodeAt(x-1)===mY&&--x;function U(){if(G)return dY;if(B)return B=!1,upe;var Z,ee=O,J;if(E.charCodeAt(ee)===pY){for(;O++<x&&E.charCodeAt(O)!==pY||E.charCodeAt(++O)===pY;);return(Z=O)>=x?G=!0:(J=E.charCodeAt(O++))===xN?B=!0:J===mY&&(B=!0,E.charCodeAt(O)===xN&&++O),E.slice(ee+1,Z-1).replace(/""/g,'"')}for(;O<x;){if((J=E.charCodeAt(Z=O++))===xN)B=!0;else if(J===mY)B=!0,E.charCodeAt(O)===xN&&++O;else if(J!==r)continue;return E.slice(ee,Z)}return G=!0,E.slice(ee,x)}for(;(M=U())!==dY;){for(var j=[];M!==upe&&M!==dY;)j.push(M),M=U();T&&(j=T(j,P++))==null||S.push(j)}return S}function u(E,T){return E.map(function(S){return T.map(function(x){return p(S[x])}).join(e)})}function h(E,T){return T==null&&(T=hpe(E)),[T.map(p).join(e)].concat(u(E,T)).join(`
`)}function f(E,T){return T==null&&(T=hpe(E)),u(E,T).join(`
`)}function g(E){return E.map(v).join(`
`)}function v(E){return E.map(p).join(e)}function p(E){return E==null?"":E instanceof Date?FVe(E):t.test(E+="")?'"'+E.replace(/"/g,'""')+'"':E}return{parse:s,parseRows:a,format:h,formatBody:f,formatRows:g,formatRow:v,formatValue:p}}var BVe=fpe(","),HVe=BVe.parse,UVe=fpe("	"),GVe=UVe.parse;function dpe(e,t){return function(r,s,a){arguments.length<3&&(a=s,s=null);var u=fY(r).mimeType(e);return u.row=function(h){return arguments.length?u.response($Ve(t,s=h)):s},u.row(s),a?u.get(a):u}}function $Ve(e,t){return function(r){return e(r.responseText,t)}}const zVe=dpe("text/csv",HVe),VVe=dpe("text/tab-separated-values",GVe),jVe=Object.freeze(Object.defineProperty({__proto__:null,request:fY,html:kVe,json:RVe,text:PVe,xml:NVe,csv:zVe,tsv:VVe},Symbol.toStringTag,{value:"Module"}));let U4=function(e){c(r,e);var t=d(r);function r({items:s}){var a;return L(this,r),a=t.call(this),a.state={items:s,isSorting:!1},a}return V(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(a){this.setState({items:a.items})}},{key:"onSortStart",value:function({node:a,index:u,collection:h},f){f.stopImmediatePropagation();const{onSortStart:g}=this.props;this.setState({isSorting:!0}),g&&g(this.ref),this.sortingIndex=u,this.sortStartTop=f.offsetTop,this.sortStartLeft=f.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function({oldIndex:a,newIndex:u}){const{onSortEnd:h}=this.props,{items:f}=this.state;this.setState({items:b7(f,a,u),isSorting:!1}),h&&h(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){const a=this.props.component,{items:u,isSorting:h}=this.state,f={isSorting:h,items:u,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return F.default.createElement(a,{...this.props,...f,ref:g=>{this.ref=g}})}}]),r}(F.default.Component);U4.propTypes={axis:$.exports.string,className:$.exports.string,component:$.exports.func,editable:$.exports.bool,handleConfigTrack:$.exports.func,handleResizeTrack:$.exports.func,height:$.exports.number,helperClass:$.exports.string,itemClass:$.exports.string,itemControlAlignLeft:$.exports.bool,itemReactClass:$.exports.func,items:$.exports.array,onAddSeries:$.exports.func,onCloseTrack:$.exports.func,onCloseTrackMenuOpened:$.exports.func,onConfigTrackMenuOpened:$.exports.func,onSortEnd:$.exports.func,onSortStart:$.exports.func,referenceAncestor:$.exports.string,resizeHandles:$.exports.object,useDragHandle:$.exports.bool,width:$.exports.number},U4.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600};const gY={"top-right-handle":"_top-right-handle_cizw2_1","bottom-right-handle":"_bottom-right-handle_cizw2_2","top-left-handle":"_top-left-handle_cizw2_7","bottom-left-handle":"_bottom-left-handle_cizw2_8","top-draggable-handle":"_top-draggable-handle_cizw2_13","bottom-draggable-handle":"_bottom-draggable-handle_cizw2_14","left-draggable-handle":"_left-draggable-handle_cizw2_15","right-draggable-handle":"_right-draggable-handle_cizw2_16","draggable-div":"_draggable-div_cizw2_22","top-draggable-handle-grabber":"_top-draggable-handle-grabber_cizw2_27","bottom-draggable-handle-grabber":"_bottom-draggable-handle-grabber_cizw2_28","left-draggable-handle-grabber":"_left-draggable-handle-grabber_cizw2_43","right-draggable-handle-grabber":"_right-draggable-handle-grabber_cizw2_44"};let ppe=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.dragTopRight=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragTopRightFunc.bind(b(a))),a.dragTopLeft=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragTopLeftFunc.bind(b(a))),a.dragBottomRight=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragBottomRightFunc.bind(b(a))),a.dragBottomLeft=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragBottomLeftFunc.bind(b(a))),a.dragBottom=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragBottomFunc.bind(b(a))),a.dragTop=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragTopFunc.bind(b(a))),a.dragLeft=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragLeftFunc.bind(b(a))),a.dragRight=Bu().on("start",a.dragStart.bind(b(a))).on("drag",a.dragRightFunc.bind(b(a))),a.minWidth=10,a.minHeight=10,a.bottomHandleWidth=20,a.state={uid:a.props.uid,width:a.props.width,height:a.props.height,top:a.props.top,left:a.props.left},a.domBody=Ut("body").node(),a}return V(r,[{key:"componentDidMount",value:function(){Ut(this.bottomHandle).call(this.dragBottom),Ut(this.topHandle).call(this.dragTop),Ut(this.leftHandle).call(this.dragLeft),Ut(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){"width"in a&&this.setState({width:a.width}),"height"in a&&this.setState({height:a.height})}},{key:"dragBottomFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartHeight+(u[1]-this.dragStartMousePos[1]);h=h>this.minHeight?h:this.minHeight,this.setState({height:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartWidth-(u[0]-this.dragStartMousePos[0]);h=h>this.minWidth?h:this.minWidth;let f=this.dragStartLeft+u[0]-this.dragStartMousePos[0];f=h>this.minWidth?f:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:f,width:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartHeight-(u[1]-this.dragStartMousePos[1]);h=h>this.minHeight?h:this.minHeight;let f=this.dragStartTop+u[1]-this.dragStartMousePos[1];f=h>this.minHeight?f:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:f,height:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartWidth+(u[0]-this.dragStartMousePos[0]);h=h>this.minWidth?h:this.minWidth,this.setState({width:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartHeight+(u[1]-this.dragStartMousePos[1]);h=h>this.minHeight?h:this.minHeight;let f=this.dragStartWidth-(u[0]-this.dragStartMousePos[0]);f=f>this.minWidth?f:this.minWidth;let g=this.dragStartLeft+u[0]-this.dragStartMousePos[0];g=f>this.minWidth?g:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:g,width:f,height:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartWidth+(u[0]-this.dragStartMousePos[0]);h=h>this.minWidth?h:this.minWidth;let f=this.dragStartHeight+(u[1]-this.dragStartMousePos[1]);f=f>this.minHeight?f:this.minHeight,this.setState({width:h,height:f}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartHeight-(u[1]-this.dragStartMousePos[1]);h=h>this.minHeight?h:this.minHeight;let f=this.dragStartTop+u[1]-this.dragStartMousePos[1];f=h>this.minHeight?f:this.dragStartTop+this.dragStartHeight-this.minHeight;let g=this.dragStartWidth+(u[0]-this.dragStartMousePos[0]);g=g>this.minWidth?g:this.minWidth,this.setState({top:f,width:g,height:h}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(a){const u=nn(a,this.domBody);let h=this.dragStartWidth-(u[0]-this.dragStartMousePos[0]);h=h>this.minWidth?h:this.minWidth;let f=this.dragStartLeft+u[0]-this.dragStartMousePos[0];f=h>this.minWidth?f:this.dragStartLeft+this.dragStartWidth-this.minWidth;let g=this.dragStartHeight-(u[1]-this.dragStartMousePos[1]);g=g>this.minHeight?g:this.minHeight;let v=this.dragStartTop+u[1]-this.dragStartMousePos[1];v=g>this.minHeight?v:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:v,left:f,width:h,height:g}),a.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(a){this.dragStartMousePos=nn(a,this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,a.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){const a=this.props.theme===Gi?"white":"black",u={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},h=24,f=24,g={left:this.state.width/2-h/2,width:h},v={top:this.state.height/2-f/2,height:f},p={bottom:{...g,bottom:1},top:{...g,top:1},left:{...v,left:1},right:{...v,right:1}},E=[...this.props.resizeHandles].map(T=>F.default.createElement("div",{key:T,ref:S=>{this[`${T}Handle`]=S},className:gY[`${T}-draggable-handle`],style:p[T],title:"Resize track"},F.default.createElement("div",{className:gY[`${T}-draggable-handle-grabber`],style:{borderColor:a}})));return F.default.createElement("div",{ref:T=>{this.divContainer=T},className:si(this.props.className,gY["draggable-div"]),style:u},E)}}]),r}(F.default.Component);ppe.propTypes={className:$.exports.string,height:$.exports.number,left:$.exports.number,opacity:$.exports.number,resizeHandles:$.exports.object,sizeChanged:$.exports.func,top:$.exports.number,trackClosed:$.exports.func,trackRotated:$.exports.func,uid:$.exports.string,width:$.exports.number,theme:$.exports.symbol};const WVe=V_(ppe);let mpe=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={controlsVisible:!1},a}return V(r,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){let a=null;return this.moveable?a=UA(()=>F.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:()=>{},style:this.getMoveImgStyle(),width:"10px"},F.default.createElement("use",{xlinkHref:"#move"}))):a=UA(()=>F.default.createElement("div",null)),F.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},F.default.createElement(a,null),F.default.createElement("svg",{ref:u=>{this.imgConfig=u},className:"no-zoom",height:"10px",onClick:()=>{const h=Te.default.findDOMNode(this.imgConfig).getBoundingClientRect();this.props.onConfigTrackMenuOpened(this.props.uid,h)},style:this.getSettingsImgStyle(),width:"10px"},F.default.createElement("use",{xlinkHref:"#cog"})),F.default.createElement("svg",{ref:u=>{this.imgAdd=u},className:"no-zoom",height:"10px",onClick:()=>this.props.onAddSeries(this.props.uid),style:this.getAddImgStyle(),width:"10px"},F.default.createElement("use",{xlinkHref:"#plus"})),F.default.createElement("svg",{ref:u=>{this.imgClose=u},className:"no-zoom",height:"10px",onClick:()=>{const h=Te.default.findDOMNode(this.imgClose).getBoundingClientRect();this.props.onCloseTrackMenuOpened(this.props.uid,h)},style:this.getCloseImgStyle(),width:"10px"},F.default.createElement("use",{xlinkHref:"#cross"})))}}]),r}(F.default.Component);mpe.propTypes={configMenuOpen:$.exports.bool,onConfigTrackMenuOpened:$.exports.func,onCloseTrackMenuOpened:$.exports.func,onAddSeries:$.exports.func,uid:$.exports.string};let G4=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.moveable=!0,a}return V(r,[{key:"render",value:function(){return F.default.createElement("div",{ref:a=>{this.el=a},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:()=>{this.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},F.default.createElement(WVe,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:a=>this.props.handleResizeTrack(this.props.uid,a.width,a.height),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),r}(mpe);G4.propTypes={className:$.exports.string,uid:$.exports.string,item:$.exports.object,height:$.exports.number,width:$.exports.number};const $4={pointerEvents:"all"};let gpe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"getControls",value:function(a){return F.default.createElement(v6,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:$4,imgStyleClose:$4,imgStyleMove:$4,imgStyleSettings:$4,isMoveable:this.moveable,isVisible:a,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),r}(G4);const XVe=q0(e=>F.default.createElement(gpe,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})),vpe=kk(({className:e,items:t,itemClass:r,itemControlAlignLeft:s,sortingIndex:a,useDragHandle:u,sortableHandlers:h,height:f,width:g,onCloseTrack:v,onCloseTrackMenuOpened:p,onConfigTrackMenuOpened:E,onAddSeries:T,handleConfigTrack:S,editable:x,itemReactClass:O,handleResizeTrack:P,resizeHandles:M})=>{const G=t.map((B,U)=>F.default.createElement(O,{key:`sci-${B.uid}`,className:r,controlAlignLeft:s,sortingIndex:a,index:U,uid:B.uid,height:B.height,width:B.width,item:B,useDragHandle:u,onCloseTrack:v,onCloseTrackMenuOpened:p,onConfigTrackMenuOpened:E,onAddSeries:T,handleConfigTrack:S,editable:x,handleResizeTrack:P,resizeHandles:M}));return F.default.createElement("div",{className:e,style:{height:f,width:g,background:"transparent"},...h},G)}),YVe={"horizontal-tiled-plot":"_horizontal-tiled-plot_1bqkg_1"};function ype(e){return e&&e.sourceEvent}let z4=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.brushBehavior=a_().on("start",a.brushStarted.bind(b(a))).on("brush",a.brushed.bind(b(a))).on("end",a.brushedEnded.bind(b(a))),a}return V(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(a,u){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==a.rangeSelection&&this.moveBrush(a.rangeSelection[0]?a.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==u):this.props.rangeSelection!==a.rangeSelection?(this.moveBrush(a.rangeSelection[0]?a.rangeSelection[0]:null,a.rangeSelectionEnd),this.state!==u):!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Lp(this.brushEl,ld["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(a){const u=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!ype(a)||!this.props.onRangeSelection||u)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(a.selection))}},{key:"brushStarted",value:function(a){!ype(a)||!a.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(a){if(!this.props.is1dRangeSelection)return;const u=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,a.selection&&a.sourceEvent&&this.props.onRangeSelection&&!u&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(a.selection)),a.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(a,u=!1){if(!this.brushEl)return;const h=a?[this.props.scale(a[0]),this.props.scale(a[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,u?this.brushEl.transition().call(this.brushBehavior.move,h):this.brushEl.call(this.brushBehavior.move,h)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const a=this.props.tracks.map(f=>f.height).reduce(Fp,0),u=this.props.tracks.map(f=>hy(f)).reduce(__,!1),h=this.props.isRangeSelectionActive?ld["track-range-selection-active"]:ld["track-range-selection"];return F.default.createElement("div",{className:si("horizontal-tiled-plot",YVe["horizontal-tiled-plot"])},u&&F.default.createElement("svg",{ref:f=>{this.brushEl=Ut(f)},className:h,style:{height:a,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"}),F.default.createElement(U4,{className:si(ud.list,ud.stylizedList),component:vpe,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:a,helperClass:ud.stylizedHelper,itemClass:ud.stylizedItem,itemReactClass:XVe,items:this.props.tracks.map(f=>({configMenuVisible:f.uid===this.props.configTrackMenuId,uid:f.uid||Yn.nice(),width:this.props.width,height:f.height,value:f.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}}]),r}(F.default.Component);z4.propTypes={configTrackMenuId:$.exports.string,editable:$.exports.bool,handleConfigTrack:$.exports.func,handleResizeTrack:$.exports.func,handleSortEnd:$.exports.func,is1dRangeSelection:$.exports.bool,isRangeSelectionActive:$.exports.bool,onAddSeries:$.exports.func,onCloseTrack:$.exports.func,onCloseTrackMenuOpened:$.exports.func,onConfigTrackMenuOpened:$.exports.func,onRangeSelection:$.exports.func,onRangeSelectionEnd:$.exports.func,onRangeSelectionReset:$.exports.func,onRangeSelectionStart:$.exports.func,rangeSelection:$.exports.array,rangeSelectionEnd:$.exports.bool,referenceAncestor:$.exports.func,resizeHandles:$.exports.object,scale:$.exports.func,tracks:$.exports.array,width:$.exports.number};const V4={pointerEvents:"all"};let bpe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"getControls",value:function(a){return F.default.createElement(v6,{imgStyleAdd:V4,imgStyleClose:V4,imgStyleMove:V4,imgStyleSettings:V4,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:a,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),r}(G4),qVe=function(e){c(r,e);var t=d(r);function r(s,a){var u;L(this,r),u=t.call(this,s,a);const{registerViewportChanged:h,removeViewportChanged:f}=s,g=Yn.nice();return u.uid=g,u.removeViewportChanged=f,u.viewportXDomain=null,u.viewportYDomain=null,h(g,u.viewportChanged.bind(b(u))),u}return V(r,[{key:"viewportChanged",value:function(a,u){const h=a.domain(),f=u.domain();this.viewportXDomain=h,this.viewportYDomain=f,this.draw()}},{key:"draw",value:function(){const a=this.pMain;if(!this.viewportXDomain||!this.viewportYDomain)return;a.clear(),a.lineStyle(1,255,1),a.beginFill(16740363,1);const u=this._xScale(this.viewportXDomain[0]),h=this._yScale(this.viewportYDomain[0]),f=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),g=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(u,h,f,g)}},{key:"zoomed",value:function(a,u){this.xScale(a),this.yScale(u),this.draw()}},{key:"setPosition",value:function(a){i(D(r.prototype),"setPosition",this).call(this,a),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}}]),r}(du);function _pe(e){this.size=0,this.limit=e,this._keymap={}}function ZVe(e,t){const r={key:e,value:t};if(this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size+=1}function KVe(){const e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e}function QVe(e,t){const r=this._keymap[e];if(r!==void 0)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value}function JVe(e){return this._keymap[e]}function eje(e,t){const r=this.get(e,!0);let s;return r?(s=r.value,r.value=t):(s=this.put(e,t),s&&(s=s.value)),s}function tje(e){const t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value}function rje(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function nje(){return Object.keys(this._keymap)}function ije(e,t,r){let s;if(t===!0?(r=!0,t=void 0):typeof t!="object"&&(t=this),r)for(s=this.tail;s;)e.call(t,s.key,s.value,this),s=s.older;else for(s=this.head;s;)e.call(t,s.key,s.value,this),s=s.newer}function aje(){const e=[];let t=this.head;for(;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e}function oje(){let e="",t=this.head;for(;t;)e+=`${String(t.key)}:${t.value}`,t=t.newer,t&&(e+=" < ");return e}Object.assign(_pe.prototype,{put:ZVe,get:QVe,find:JVe,keys:nje,set:eje,shift:KVe,remove:tje,removeAll:rje,forEach:ije,toJSON:aje,toString:oje});const vY="1.12.4",yY={button:"_button_1wnjn_1","button-shortcut":"_button-shortcut_1wnjn_35"},dv=F.default.forwardRef((e,t)=>{var r;return F.default.createElement("button",{ref:t,className:(r=yY[e.styleName])!=null?r:yY.button,disabled:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,type:"button"},e.children,e.shortcut&&F.default.createElement("span",{className:yY["button-shortcut"]},e.shortcut))});dv.defaultProps={onClick:()=>{},styleName:"",type:"button"},dv.propTypes={children:$.exports.any,disable:$.exports.bool,onBlur:$.exports.func,onClick:$.exports.func,onMouseDown:$.exports.func,onMouseOut:$.exports.func,onMouseUp:$.exports.func,shortcut:$.exports.string,type:$.exports.string,styleName:$.exports.string};const sje={cross:"_cross_2ke8w_1"};function Tpe(){return F.default.createElement("div",{className:sje.cross})}const{Provider:lje,Consumer:uje}=F.default.createContext({close:Uc,open:Uc}),j4=e=>F.default.forwardRef((t,r)=>F.default.createElement(uje,null,s=>F.default.createElement(e,{ref:r,...t,modal:s}))),XC={"modal-background":"_modal-background_zzhoe_1","fade-in":"_fade-in_zzhoe_1","modal-hide":"_modal-hide_zzhoe_13","modal-wrap":"_modal-wrap_zzhoe_17","modal-window":"_modal-window_zzhoe_25","fade-scale-in":"_fade-scale-in_zzhoe_1","modal-window-max-height":"_modal-window-max-height_zzhoe_38","modal-content":"_modal-content_zzhoe_42"};function bY(e){const t=()=>{e.modal.close(),e.onClose&&e.onClose()};return F.default.createElement("div",{className:si(XC["modal-background"],{[XC["modal-hide"]]:e.hide})},F.default.createElement("div",{className:XC["modal-wrap"]},F.default.createElement("div",{className:si(XC["modal-window"],{[XC["modal-window-max-height"]]:e.maxHeight})},e.closeButton&&F.default.createElement(dv,{onClick:t},F.default.createElement(Tpe,null)),F.default.createElement("div",{className:XC["modal-content"]},e.children))))}bY.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},bY.propTypes={children:$.exports.element.isRequired,closeButton:$.exports.bool,hide:$.exports.bool,maxHeight:$.exports.bool,modal:$.exports.object.isRequired,onClose:$.exports.func};const cje=j4(bY),_Y={"dialog-header":"_dialog-header_wp50s_1","dialog-main-max-height":"_dialog-main-max-height_wp50s_20","dialog-footer":"_dialog-footer_wp50s_31","dialog-footer-max-height":"_dialog-footer-max-height_wp50s_31"};function TY(e){const t=()=>{e.modal.close(),e.onCancel&&e.onCancel()},r=()=>{e.modal.close(),e.onOkay&&e.onOkay()};return F.default.createElement(cje,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},F.default.createElement(F.default.Fragment,null,F.default.createElement("header",{className:_Y["dialog-header"]},F.default.createElement("h3",null,e.title),F.default.createElement(dv,{onClick:t},F.default.createElement(Tpe,null))),e.maxHeight?F.default.createElement("main",{className:si(e.maxHeight&&_Y["dialog-main-max-height"])},e.children):F.default.createElement("main",null,e.children),F.default.createElement("footer",{className:_Y[e.maxHeight?"dialog-footer-max-height":"dialog-footer"]},e.okayOnly?F.default.createElement("div",null):F.default.createElement(dv,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),F.default.createElement(dv,{onClick:r,shortcut:e.okayShortcut},e.okayTitle))))}TY.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},TY.propTypes={cancelShortcut:$.exports.string,cancelTitle:$.exports.string,children:$.exports.object,hide:$.exports.bool,maxHeight:$.exports.bool,modal:$.exports.object.isRequired,okayShortcut:$.exports.string,okayTitle:$.exports.string,okayOnly:$.exports.bool,onCancel:$.exports.func.isRequired,onOkay:$.exports.func.isRequired,title:$.exports.string.isRequired};const IN=j4(TY);var Yh={},DN={},hje=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const Epe=hje;var fje=typeof self=="object"&&self&&self.Object===Object&&self,dje=Epe||fje||Function("return this")();const gd=dje;var pje=gd.Symbol;const hm=pje;var Spe=Object.prototype,mje=Spe.hasOwnProperty,gje=Spe.toString,ON=hm?hm.toStringTag:void 0;function vje(e){var t=mje.call(e,ON),r=e[ON];try{e[ON]=void 0;var s=!0}catch{}var a=gje.call(e);return s&&(t?e[ON]=r:delete e[ON]),a}var yje=Object.prototype,bje=yje.toString;function _je(e){return bje.call(e)}var Tje="[object Null]",Eje="[object Undefined]",Ape=hm?hm.toStringTag:void 0;function zy(e){return e==null?e===void 0?Eje:Tje:Ape&&Ape in Object(e)?vje(e):_je(e)}var Sje=Array.isArray;const Eu=Sje;function vd(e){return e!=null&&typeof e=="object"}var Aje="[object String]";function wje(e){return typeof e=="string"||!Eu(e)&&vd(e)&&zy(e)==Aje}const Cje=ot(Object.freeze(Object.defineProperty({__proto__:null,default:wje},Symbol.toStringTag,{value:"Module"})));function xje(e){return function(t,r,s){for(var a=-1,u=Object(t),h=s(t),f=h.length;f--;){var g=h[e?f:++a];if(r(u[g],g,u)===!1)break}return t}}var Ije=xje();const wpe=Ije;function Dje(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var Oje="[object Arguments]";function Cpe(e){return vd(e)&&zy(e)==Oje}var xpe=Object.prototype,kje=xpe.hasOwnProperty,Rje=xpe.propertyIsEnumerable,Pje=Cpe(function(){return arguments}())?Cpe:function(e){return vd(e)&&kje.call(e,"callee")&&!Rje.call(e,"callee")};const W4=Pje;function Nje(){return!1}var Ipe=typeof Y=="object"&&Y&&!Y.nodeType&&Y,Dpe=Ipe&&!0&&n&&!n.nodeType&&n,Mje=Dpe&&Dpe.exports===Ipe,Ope=Mje?gd.Buffer:void 0,Lje=Ope?Ope.isBuffer:void 0,Fje=Lje||Nje;const kN=Fje;var Bje=9007199254740991,Hje=/^(?:0|[1-9]\d*)$/;function EY(e,t){var r=typeof e;return t=t??Bje,!!t&&(r=="number"||r!="symbol"&&Hje.test(e))&&e>-1&&e%1==0&&e<t}var Uje=9007199254740991;function SY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Uje}var Gje="[object Arguments]",$je="[object Array]",zje="[object Boolean]",Vje="[object Date]",jje="[object Error]",Wje="[object Function]",Xje="[object Map]",Yje="[object Number]",qje="[object Object]",Zje="[object RegExp]",Kje="[object Set]",Qje="[object String]",Jje="[object WeakMap]",eWe="[object ArrayBuffer]",tWe="[object DataView]",rWe="[object Float32Array]",nWe="[object Float64Array]",iWe="[object Int8Array]",aWe="[object Int16Array]",oWe="[object Int32Array]",sWe="[object Uint8Array]",lWe="[object Uint8ClampedArray]",uWe="[object Uint16Array]",cWe="[object Uint32Array]",Ga={};Ga[rWe]=Ga[nWe]=Ga[iWe]=Ga[aWe]=Ga[oWe]=Ga[sWe]=Ga[lWe]=Ga[uWe]=Ga[cWe]=!0,Ga[Gje]=Ga[$je]=Ga[eWe]=Ga[zje]=Ga[tWe]=Ga[Vje]=Ga[jje]=Ga[Wje]=Ga[Xje]=Ga[Yje]=Ga[qje]=Ga[Zje]=Ga[Kje]=Ga[Qje]=Ga[Jje]=!1;function hWe(e){return vd(e)&&SY(e.length)&&!!Ga[zy(e)]}function AY(e){return function(t){return e(t)}}var kpe=typeof Y=="object"&&Y&&!Y.nodeType&&Y,RN=kpe&&!0&&n&&!n.nodeType&&n,fWe=RN&&RN.exports===kpe,wY=fWe&&Epe.process,dWe=function(){try{var e=RN&&RN.require&&RN.require("util").types;return e||wY&&wY.binding&&wY.binding("util")}catch{}}();const YC=dWe;var Rpe=YC&&YC.isTypedArray,pWe=Rpe?AY(Rpe):hWe;const CY=pWe;var mWe=Object.prototype,gWe=mWe.hasOwnProperty;function Ppe(e,t){var r=Eu(e),s=!r&&W4(e),a=!r&&!s&&kN(e),u=!r&&!s&&!a&&CY(e),h=r||s||a||u,f=h?Dje(e.length,String):[],g=f.length;for(var v in e)(t||gWe.call(e,v))&&!(h&&(v=="length"||a&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||EY(v,g)))&&f.push(v);return f}var vWe=Object.prototype;function xY(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vWe;return e===r}function Npe(e,t){return function(r){return e(t(r))}}var yWe=Npe(Object.keys,Object);const bWe=yWe;var _We=Object.prototype,TWe=_We.hasOwnProperty;function EWe(e){if(!xY(e))return bWe(e);var t=[];for(var r in Object(e))TWe.call(e,r)&&r!="constructor"&&t.push(r);return t}function Yc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var SWe="[object AsyncFunction]",AWe="[object Function]",wWe="[object GeneratorFunction]",CWe="[object Proxy]";function IY(e){if(!Yc(e))return!1;var t=zy(e);return t==AWe||t==wWe||t==SWe||t==CWe}function qC(e){return e!=null&&SY(e.length)&&!IY(e)}function PN(e){return qC(e)?Ppe(e):EWe(e)}function Mpe(e,t){return e&&wpe(e,t,PN)}function X4(e){return e}function Lpe(e){return typeof e=="function"?e:X4}function xWe(e,t){return e&&Mpe(e,Lpe(t))}const DY=ot(Object.freeze(Object.defineProperty({__proto__:null,default:xWe},Symbol.toStringTag,{value:"Module"})));var IWe=Npe(Object.getPrototypeOf,Object);const OY=IWe;var DWe="[object Object]",OWe=Function.prototype,kWe=Object.prototype,Fpe=OWe.toString,RWe=kWe.hasOwnProperty,PWe=Fpe.call(Object);function Bpe(e){if(!vd(e)||zy(e)!=DWe)return!1;var t=OY(e);if(t===null)return!0;var r=RWe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Fpe.call(r)==PWe}const NWe=ot(Object.freeze(Object.defineProperty({__proto__:null,default:Bpe},Symbol.toStringTag,{value:"Module"})));function Hpe(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}function MWe(){this.__data__=[],this.size=0}function NN(e,t){return e===t||e!==e&&t!==t}function Y4(e,t){for(var r=e.length;r--;)if(NN(e[r][0],t))return r;return-1}var LWe=Array.prototype,FWe=LWe.splice;function BWe(e){var t=this.__data__,r=Y4(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():FWe.call(t,r,1),--this.size,!0}function HWe(e){var t=this.__data__,r=Y4(t,e);return r<0?void 0:t[r][1]}function UWe(e){return Y4(this.__data__,e)>-1}function GWe(e,t){var r=this.__data__,s=Y4(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}function pv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}pv.prototype.clear=MWe,pv.prototype.delete=BWe,pv.prototype.get=HWe,pv.prototype.has=UWe,pv.prototype.set=GWe;function $We(){this.__data__=new pv,this.size=0}function zWe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function VWe(e){return this.__data__.get(e)}function jWe(e){return this.__data__.has(e)}var WWe=gd["__core-js_shared__"];const kY=WWe;var Upe=function(){var e=/[^.]+$/.exec(kY&&kY.keys&&kY.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XWe(e){return!!Upe&&Upe in e}var YWe=Function.prototype,qWe=YWe.toString;function cT(e){if(e!=null){try{return qWe.call(e)}catch{}try{return e+""}catch{}}return""}var ZWe=/[\\^$.*+?()[\]{}|]/g,KWe=/^\[object .+?Constructor\]$/,QWe=Function.prototype,JWe=Object.prototype,eXe=QWe.toString,tXe=JWe.hasOwnProperty,rXe=RegExp("^"+eXe.call(tXe).replace(ZWe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nXe(e){if(!Yc(e)||XWe(e))return!1;var t=IY(e)?rXe:KWe;return t.test(cT(e))}function iXe(e,t){return e==null?void 0:e[t]}function hT(e,t){var r=iXe(e,t);return nXe(r)?r:void 0}var aXe=hT(gd,"Map");const MN=aXe;var oXe=hT(Object,"create");const LN=oXe;function sXe(){this.__data__=LN?LN(null):{},this.size=0}function lXe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var uXe="__lodash_hash_undefined__",cXe=Object.prototype,hXe=cXe.hasOwnProperty;function fXe(e){var t=this.__data__;if(LN){var r=t[e];return r===uXe?void 0:r}return hXe.call(t,e)?t[e]:void 0}var dXe=Object.prototype,pXe=dXe.hasOwnProperty;function mXe(e){var t=this.__data__;return LN?t[e]!==void 0:pXe.call(t,e)}var gXe="__lodash_hash_undefined__";function vXe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=LN&&t===void 0?gXe:t,this}function fT(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}fT.prototype.clear=sXe,fT.prototype.delete=lXe,fT.prototype.get=fXe,fT.prototype.has=mXe,fT.prototype.set=vXe;function yXe(){this.size=0,this.__data__={hash:new fT,map:new(MN||pv),string:new fT}}function bXe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q4(e,t){var r=e.__data__;return bXe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function _Xe(e){var t=q4(this,e).delete(e);return this.size-=t?1:0,t}function TXe(e){return q4(this,e).get(e)}function EXe(e){return q4(this,e).has(e)}function SXe(e,t){var r=q4(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}function mv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}mv.prototype.clear=yXe,mv.prototype.delete=_Xe,mv.prototype.get=TXe,mv.prototype.has=EXe,mv.prototype.set=SXe;var AXe=200;function wXe(e,t){var r=this.__data__;if(r instanceof pv){var s=r.__data__;if(!MN||s.length<AXe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new mv(s)}return r.set(e,t),this.size=r.size,this}function yd(e){var t=this.__data__=new pv(e);this.size=t.size}yd.prototype.clear=$We,yd.prototype.delete=zWe,yd.prototype.get=VWe,yd.prototype.has=jWe,yd.prototype.set=wXe;var CXe="__lodash_hash_undefined__";function xXe(e){return this.__data__.set(e,CXe),this}function IXe(e){return this.__data__.has(e)}function Z4(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new mv;++t<r;)this.add(e[t])}Z4.prototype.add=Z4.prototype.push=xXe,Z4.prototype.has=IXe;function DXe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}function OXe(e,t){return e.has(t)}var kXe=1,RXe=2;function Gpe(e,t,r,s,a,u){var h=r&kXe,f=e.length,g=t.length;if(f!=g&&!(h&&g>f))return!1;var v=u.get(e),p=u.get(t);if(v&&p)return v==t&&p==e;var E=-1,T=!0,S=r&RXe?new Z4:void 0;for(u.set(e,t),u.set(t,e);++E<f;){var x=e[E],O=t[E];if(s)var P=h?s(O,x,E,t,e,u):s(x,O,E,e,t,u);if(P!==void 0){if(P)continue;T=!1;break}if(S){if(!DXe(t,function(M,G){if(!OXe(S,G)&&(x===M||a(x,M,r,s,u)))return S.push(G)})){T=!1;break}}else if(!(x===O||a(x,O,r,s,u))){T=!1;break}}return u.delete(e),u.delete(t),T}var PXe=gd.Uint8Array;const K4=PXe;function NXe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}function MXe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var LXe=1,FXe=2,BXe="[object Boolean]",HXe="[object Date]",UXe="[object Error]",GXe="[object Map]",$Xe="[object Number]",zXe="[object RegExp]",VXe="[object Set]",jXe="[object String]",WXe="[object Symbol]",XXe="[object ArrayBuffer]",YXe="[object DataView]",$pe=hm?hm.prototype:void 0,RY=$pe?$pe.valueOf:void 0;function qXe(e,t,r,s,a,u,h){switch(r){case YXe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case XXe:return!(e.byteLength!=t.byteLength||!u(new K4(e),new K4(t)));case BXe:case HXe:case $Xe:return NN(+e,+t);case UXe:return e.name==t.name&&e.message==t.message;case zXe:case jXe:return e==t+"";case GXe:var f=NXe;case VXe:var g=s&LXe;if(f||(f=MXe),e.size!=t.size&&!g)return!1;var v=h.get(e);if(v)return v==t;s|=FXe,h.set(e,t);var p=Gpe(f(e),f(t),s,a,u,h);return h.delete(e),p;case WXe:if(RY)return RY.call(e)==RY.call(t)}return!1}function zpe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}function Vpe(e,t,r){var s=t(e);return Eu(e)?s:zpe(s,r(e))}function ZXe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,u=[];++r<s;){var h=e[r];t(h,r,e)&&(u[a++]=h)}return u}function jpe(){return[]}var KXe=Object.prototype,QXe=KXe.propertyIsEnumerable,Wpe=Object.getOwnPropertySymbols,JXe=Wpe?function(e){return e==null?[]:(e=Object(e),ZXe(Wpe(e),function(t){return QXe.call(e,t)}))}:jpe;const PY=JXe;function NY(e){return Vpe(e,PN,PY)}var eYe=1,tYe=Object.prototype,rYe=tYe.hasOwnProperty;function nYe(e,t,r,s,a,u){var h=r&eYe,f=NY(e),g=f.length,v=NY(t),p=v.length;if(g!=p&&!h)return!1;for(var E=g;E--;){var T=f[E];if(!(h?T in t:rYe.call(t,T)))return!1}var S=u.get(e),x=u.get(t);if(S&&x)return S==t&&x==e;var O=!0;u.set(e,t),u.set(t,e);for(var P=h;++E<g;){T=f[E];var M=e[T],G=t[T];if(s)var B=h?s(G,M,T,t,e,u):s(M,G,T,e,t,u);if(!(B===void 0?M===G||a(M,G,r,s,u):B)){O=!1;break}P||(P=T=="constructor")}if(O&&!P){var U=e.constructor,j=t.constructor;U!=j&&"constructor"in e&&"constructor"in t&&!(typeof U=="function"&&U instanceof U&&typeof j=="function"&&j instanceof j)&&(O=!1)}return u.delete(e),u.delete(t),O}var iYe=hT(gd,"DataView");const MY=iYe;var aYe=hT(gd,"Promise");const LY=aYe;var oYe=hT(gd,"Set");const FY=oYe;var sYe=hT(gd,"WeakMap");const BY=sYe;var Xpe="[object Map]",lYe="[object Object]",Ype="[object Promise]",qpe="[object Set]",Zpe="[object WeakMap]",Kpe="[object DataView]",uYe=cT(MY),cYe=cT(MN),hYe=cT(LY),fYe=cT(FY),dYe=cT(BY),dT=zy;(MY&&dT(new MY(new ArrayBuffer(1)))!=Kpe||MN&&dT(new MN)!=Xpe||LY&&dT(LY.resolve())!=Ype||FY&&dT(new FY)!=qpe||BY&&dT(new BY)!=Zpe)&&(dT=function(e){var t=zy(e),r=t==lYe?e.constructor:void 0,s=r?cT(r):"";if(s)switch(s){case uYe:return Kpe;case cYe:return Xpe;case hYe:return Ype;case fYe:return qpe;case dYe:return Zpe}return t});const FN=dT;var pYe=1,Qpe="[object Arguments]",Jpe="[object Array]",Q4="[object Object]",mYe=Object.prototype,eme=mYe.hasOwnProperty;function gYe(e,t,r,s,a,u){var h=Eu(e),f=Eu(t),g=h?Jpe:FN(e),v=f?Jpe:FN(t);g=g==Qpe?Q4:g,v=v==Qpe?Q4:v;var p=g==Q4,E=v==Q4,T=g==v;if(T&&kN(e)){if(!kN(t))return!1;h=!0,p=!1}if(T&&!p)return u||(u=new yd),h||CY(e)?Gpe(e,t,r,s,a,u):qXe(e,t,g,r,s,a,u);if(!(r&pYe)){var S=p&&eme.call(e,"__wrapped__"),x=E&&eme.call(t,"__wrapped__");if(S||x){var O=S?e.value():e,P=x?t.value():t;return u||(u=new yd),a(O,P,r,s,u)}}return T?(u||(u=new yd),nYe(e,t,r,s,a,u)):!1}function HY(e,t,r,s,a){return e===t?!0:e==null||t==null||!vd(e)&&!vd(t)?e!==e&&t!==t:gYe(e,t,r,s,HY,a)}var vYe=1,yYe=2;function bYe(e,t,r,s){var a=r.length,u=a,h=!s;if(e==null)return!u;for(e=Object(e);a--;){var f=r[a];if(h&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++a<u;){f=r[a];var g=f[0],v=e[g],p=f[1];if(h&&f[2]){if(v===void 0&&!(g in e))return!1}else{var E=new yd;if(s)var T=s(v,p,g,e,t,E);if(!(T===void 0?HY(p,v,vYe|yYe,s,E):T))return!1}}return!0}function tme(e){return e===e&&!Yc(e)}function _Ye(e){for(var t=PN(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,tme(a)]}return t}function rme(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function TYe(e){var t=_Ye(e);return t.length==1&&t[0][2]?rme(t[0][0],t[0][1]):function(r){return r===e||bYe(r,e,t)}}var EYe="[object Symbol]";function J4(e){return typeof e=="symbol"||vd(e)&&zy(e)==EYe}var SYe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,AYe=/^\w*$/;function UY(e,t){if(Eu(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||J4(e)?!0:AYe.test(e)||!SYe.test(e)||t!=null&&e in Object(t)}var wYe="Expected a function";function GY(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wYe);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],u=r.cache;if(u.has(a))return u.get(a);var h=e.apply(this,s);return r.cache=u.set(a,h)||u,h};return r.cache=new(GY.Cache||mv),r}GY.Cache=mv;var CYe=500;function xYe(e){var t=GY(e,function(s){return r.size===CYe&&r.clear(),s}),r=t.cache;return t}var IYe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DYe=/\\(\\)?/g,OYe=xYe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(IYe,function(r,s,a,u){t.push(a?u.replace(DYe,"$1"):s||r)}),t});const kYe=OYe;var RYe=1/0,nme=hm?hm.prototype:void 0,ime=nme?nme.toString:void 0;function ame(e){if(typeof e=="string")return e;if(Eu(e))return Hpe(e,ame)+"";if(J4(e))return ime?ime.call(e):"";var t=e+"";return t=="0"&&1/e==-RYe?"-0":t}function PYe(e){return e==null?"":ame(e)}function ome(e,t){return Eu(e)?e:UY(e,t)?[e]:kYe(PYe(e))}var NYe=1/0;function e8(e){if(typeof e=="string"||J4(e))return e;var t=e+"";return t=="0"&&1/e==-NYe?"-0":t}function sme(e,t){t=ome(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[e8(t[r++])];return r&&r==s?e:void 0}function MYe(e,t,r){var s=e==null?void 0:sme(e,t);return s===void 0?r:s}function LYe(e,t){return e!=null&&t in Object(e)}function FYe(e,t,r){t=ome(t,e);for(var s=-1,a=t.length,u=!1;++s<a;){var h=e8(t[s]);if(!(u=e!=null&&r(e,h)))break;e=e[h]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&SY(a)&&EY(h,a)&&(Eu(e)||W4(e)))}function BYe(e,t){return e!=null&&FYe(e,t,LYe)}var HYe=1,UYe=2;function GYe(e,t){return UY(e)&&tme(t)?rme(e8(e),t):function(r){var s=MYe(r,e);return s===void 0&&s===t?BYe(r,e):HY(t,s,HYe|UYe)}}function $Ye(e){return function(t){return t==null?void 0:t[e]}}function zYe(e){return function(t){return sme(t,e)}}function VYe(e){return UY(e)?$Ye(e8(e)):zYe(e)}function jYe(e){return typeof e=="function"?e:e==null?X4:typeof e=="object"?Eu(e)?GYe(e[0],e[1]):TYe(e):VYe(e)}function WYe(e,t){return function(r,s){if(r==null)return r;if(!qC(r))return e(r,s);for(var a=r.length,u=t?a:-1,h=Object(r);(t?u--:++u<a)&&s(h[u],u,h)!==!1;);return r}}var XYe=WYe(Mpe);const lme=XYe;function YYe(e,t){var r=-1,s=qC(e)?Array(e.length):[];return lme(e,function(a,u,h){s[++r]=t(a,u,h)}),s}function Vy(e,t){var r=Eu(e)?Hpe:YYe;return r(e,jYe(t))}const qYe=ot(Object.freeze(Object.defineProperty({__proto__:null,default:Vy},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(DN,"__esModule",{value:!0}),DN.flattenNames=void 0;var ZYe=Cje,KYe=t8(ZYe),QYe=DY,JYe=t8(QYe),eqe=NWe,tqe=t8(eqe),rqe=qYe,nqe=t8(rqe);function t8(e){return e&&e.__esModule?e:{default:e}}var iqe=DN.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,nqe.default)(t,function(s){Array.isArray(s)?e(s).map(function(a){return r.push(a)}):(0,tqe.default)(s)?(0,JYe.default)(s,function(a,u){a===!0&&r.push(u),r.push(u+"-"+a)}):(0,KYe.default)(s)&&r.push(s)}),r};DN.default=iqe;var BN={};function ume(e,t){for(var r=-1,s=e==null?0:e.length;++r<s&&t(e[r],r,e)!==!1;);return e}var aqe=function(){try{var e=hT(Object,"defineProperty");return e({},"",{}),e}catch{}}();const r8=aqe;function $Y(e,t,r){t=="__proto__"&&r8?r8(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var oqe=Object.prototype,sqe=oqe.hasOwnProperty;function cme(e,t,r){var s=e[t];(!(sqe.call(e,t)&&NN(s,r))||r===void 0&&!(t in e))&&$Y(e,t,r)}function HN(e,t,r,s){var a=!r;r||(r={});for(var u=-1,h=t.length;++u<h;){var f=t[u],g=s?s(r[f],e[f],f,r,e):void 0;g===void 0&&(g=e[f]),a?$Y(r,f,g):cme(r,f,g)}return r}function lqe(e,t){return e&&HN(t,PN(t),e)}function uqe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var cqe=Object.prototype,hqe=cqe.hasOwnProperty;function fqe(e){if(!Yc(e))return uqe(e);var t=xY(e),r=[];for(var s in e)s=="constructor"&&(t||!hqe.call(e,s))||r.push(s);return r}function UN(e){return qC(e)?Ppe(e,!0):fqe(e)}function dqe(e,t){return e&&HN(t,UN(t),e)}var hme=typeof Y=="object"&&Y&&!Y.nodeType&&Y,fme=hme&&!0&&n&&!n.nodeType&&n,pqe=fme&&fme.exports===hme,dme=pqe?gd.Buffer:void 0,pme=dme?dme.allocUnsafe:void 0;function mme(e,t){if(t)return e.slice();var r=e.length,s=pme?pme(r):new e.constructor(r);return e.copy(s),s}function gme(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function mqe(e,t){return HN(e,PY(e),t)}var gqe=Object.getOwnPropertySymbols,vqe=gqe?function(e){for(var t=[];e;)zpe(t,PY(e)),e=OY(e);return t}:jpe;const vme=vqe;function yqe(e,t){return HN(e,vme(e),t)}function bqe(e){return Vpe(e,UN,vme)}var _qe=Object.prototype,Tqe=_qe.hasOwnProperty;function Eqe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Tqe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function zY(e){var t=new e.constructor(e.byteLength);return new K4(t).set(new K4(e)),t}function Sqe(e,t){var r=t?zY(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Aqe=/\w*$/;function wqe(e){var t=new e.constructor(e.source,Aqe.exec(e));return t.lastIndex=e.lastIndex,t}var yme=hm?hm.prototype:void 0,bme=yme?yme.valueOf:void 0;function Cqe(e){return bme?Object(bme.call(e)):{}}function _me(e,t){var r=t?zY(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var xqe="[object Boolean]",Iqe="[object Date]",Dqe="[object Map]",Oqe="[object Number]",kqe="[object RegExp]",Rqe="[object Set]",Pqe="[object String]",Nqe="[object Symbol]",Mqe="[object ArrayBuffer]",Lqe="[object DataView]",Fqe="[object Float32Array]",Bqe="[object Float64Array]",Hqe="[object Int8Array]",Uqe="[object Int16Array]",Gqe="[object Int32Array]",$qe="[object Uint8Array]",zqe="[object Uint8ClampedArray]",Vqe="[object Uint16Array]",jqe="[object Uint32Array]";function Wqe(e,t,r){var s=e.constructor;switch(t){case Mqe:return zY(e);case xqe:case Iqe:return new s(+e);case Lqe:return Sqe(e,r);case Fqe:case Bqe:case Hqe:case Uqe:case Gqe:case $qe:case zqe:case Vqe:case jqe:return _me(e,r);case Dqe:return new s;case Oqe:case Pqe:return new s(e);case kqe:return wqe(e);case Rqe:return new s;case Nqe:return Cqe(e)}}var Tme=Object.create,Xqe=function(){function e(){}return function(t){if(!Yc(t))return{};if(Tme)return Tme(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const Yqe=Xqe;function Eme(e){return typeof e.constructor=="function"&&!xY(e)?Yqe(OY(e)):{}}var qqe="[object Map]";function Zqe(e){return vd(e)&&FN(e)==qqe}var Sme=YC&&YC.isMap,Kqe=Sme?AY(Sme):Zqe;const Qqe=Kqe;var Jqe="[object Set]";function eZe(e){return vd(e)&&FN(e)==Jqe}var Ame=YC&&YC.isSet,tZe=Ame?AY(Ame):eZe;const rZe=tZe;var nZe=1,iZe=2,aZe=4,wme="[object Arguments]",oZe="[object Array]",sZe="[object Boolean]",lZe="[object Date]",uZe="[object Error]",Cme="[object Function]",cZe="[object GeneratorFunction]",hZe="[object Map]",fZe="[object Number]",xme="[object Object]",dZe="[object RegExp]",pZe="[object Set]",mZe="[object String]",gZe="[object Symbol]",vZe="[object WeakMap]",yZe="[object ArrayBuffer]",bZe="[object DataView]",_Ze="[object Float32Array]",TZe="[object Float64Array]",EZe="[object Int8Array]",SZe="[object Int16Array]",AZe="[object Int32Array]",wZe="[object Uint8Array]",CZe="[object Uint8ClampedArray]",xZe="[object Uint16Array]",IZe="[object Uint32Array]",Oa={};Oa[wme]=Oa[oZe]=Oa[yZe]=Oa[bZe]=Oa[sZe]=Oa[lZe]=Oa[_Ze]=Oa[TZe]=Oa[EZe]=Oa[SZe]=Oa[AZe]=Oa[hZe]=Oa[fZe]=Oa[xme]=Oa[dZe]=Oa[pZe]=Oa[mZe]=Oa[gZe]=Oa[wZe]=Oa[CZe]=Oa[xZe]=Oa[IZe]=!0,Oa[uZe]=Oa[Cme]=Oa[vZe]=!1;function n8(e,t,r,s,a,u){var h,f=t&nZe,g=t&iZe,v=t&aZe;if(r&&(h=a?r(e,s,a,u):r(e)),h!==void 0)return h;if(!Yc(e))return e;var p=Eu(e);if(p){if(h=Eqe(e),!f)return gme(e,h)}else{var E=FN(e),T=E==Cme||E==cZe;if(kN(e))return mme(e,f);if(E==xme||E==wme||T&&!a){if(h=g||T?{}:Eme(e),!f)return g?yqe(e,dqe(h,e)):mqe(e,lqe(h,e))}else{if(!Oa[E])return a?e:{};h=Wqe(e,E,f)}}u||(u=new yd);var S=u.get(e);if(S)return S;u.set(e,h),rZe(e)?e.forEach(function(P){h.add(n8(P,t,r,P,e,u))}):Qqe(e)&&e.forEach(function(P,M){h.set(M,n8(P,t,r,M,e,u))});var x=v?g?bqe:NY:g?UN:PN,O=p?void 0:x(e);return ume(O||e,function(P,M){O&&(M=P,P=e[M]),cme(h,M,n8(P,t,r,M,e,u))}),h}var DZe=1,OZe=4;function kZe(e){return n8(e,DZe|OZe)}const RZe=ot(Object.freeze(Object.defineProperty({__proto__:null,default:kZe},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(BN,"__esModule",{value:!0}),BN.mergeClasses=void 0;var PZe=DY,NZe=Ime(PZe),MZe=RZe,LZe=Ime(MZe),FZe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};function Ime(e){return e&&e.__esModule?e:{default:e}}var BZe=BN.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=t.default&&(0,LZe.default)(t.default)||{};return r.map(function(a){var u=t[a];return u&&(0,NZe.default)(u,function(h,f){s[f]||(s[f]={}),s[f]=FZe({},s[f],u[f])}),a}),s};BN.default=BZe;var GN={};Object.defineProperty(GN,"__esModule",{value:!0}),GN.autoprefix=void 0;var HZe=DY,Dme=GZe(HZe),UZe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};function GZe(e){return e&&e.__esModule?e:{default:e}}var $Ze={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var s=r[t];return s||{extend:t}}},zZe=GN.autoprefix=function(t){var r={};return(0,Dme.default)(t,function(s,a){var u={};(0,Dme.default)(s,function(h,f){var g=$Ze[f];g?u=UZe({},u,g(h)):u[f]=h}),r[a]=u}),r};GN.default=zZe;var $N={};Object.defineProperty($N,"__esModule",{value:!0}),$N.hover=void 0;var VZe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jZe=F.default,VY=WZe(jZe);function WZe(e){return e&&e.__esModule?e:{default:e}}function XZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ome(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qZe=$N.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(s){YZe(a,s);function a(){var u,h,f,g;XZe(this,a);for(var v=arguments.length,p=Array(v),E=0;E<v;E++)p[E]=arguments[E];return g=(h=(f=Ome(this,(u=a.__proto__||Object.getPrototypeOf(a)).call.apply(u,[this].concat(p))),f),f.state={hover:!1},f.handleMouseOver=function(){return f.setState({hover:!0})},f.handleMouseOut=function(){return f.setState({hover:!1})},f.render=function(){return VY.default.createElement(r,{onMouseOver:f.handleMouseOver,onMouseOut:f.handleMouseOut},VY.default.createElement(t,VZe({},f.props,f.state)))},h),Ome(f,g)}return a}(VY.default.Component)};$N.default=qZe;var zN={};Object.defineProperty(zN,"__esModule",{value:!0}),zN.active=void 0;var ZZe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KZe=F.default,jY=QZe(KZe);function QZe(e){return e&&e.__esModule?e:{default:e}}function JZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tKe=zN.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(s){eKe(a,s);function a(){var u,h,f,g;JZe(this,a);for(var v=arguments.length,p=Array(v),E=0;E<v;E++)p[E]=arguments[E];return g=(h=(f=kme(this,(u=a.__proto__||Object.getPrototypeOf(a)).call.apply(u,[this].concat(p))),f),f.state={active:!1},f.handleMouseDown=function(){return f.setState({active:!0})},f.handleMouseUp=function(){return f.setState({active:!1})},f.render=function(){return jY.default.createElement(r,{onMouseDown:f.handleMouseDown,onMouseUp:f.handleMouseUp},jY.default.createElement(t,ZZe({},f.props,f.state)))},h),kme(f,g)}return a}(jY.default.Component)};zN.default=tKe;var WY={};Object.defineProperty(WY,"__esModule",{value:!0});var rKe=function(t,r){var s={},a=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s[h]=f};return t===0&&a("first-child"),t===r-1&&a("last-child"),(t===0||t%2===0)&&a("even"),Math.abs(t%2)===1&&a("odd"),a("nth-child",t),s};WY.default=rKe,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.ReactCSS=Yh.loop=Yh.handleActive=XY=Yh.handleHover=Yh.hover=void 0;var nKe=DN,iKe=ZC(nKe),aKe=BN,oKe=ZC(aKe),sKe=GN,lKe=ZC(sKe),uKe=$N,Rme=ZC(uKe),cKe=zN,hKe=ZC(cKe),fKe=WY,dKe=ZC(fKe);function ZC(e){return e&&e.__esModule?e:{default:e}}Yh.hover=Rme.default;var XY=Yh.handleHover=Rme.default;Yh.handleActive=hKe.default,Yh.loop=dKe.default;var pKe=Yh.ReactCSS=function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];var u=(0,iKe.default)(s),h=(0,oKe.default)(t,u);return(0,lKe.default)(h)},Nn=Yh.default=pKe,mKe=function(t,r,s,a,u){var h=u.clientWidth,f=u.clientHeight,g=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,v=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,p=g-(u.getBoundingClientRect().left+window.pageXOffset),E=v-(u.getBoundingClientRect().top+window.pageYOffset);if(s==="vertical"){var T=void 0;if(E<0?T=0:E>f?T=1:T=Math.round(E*100/f)/100,r.a!==T)return{h:r.h,s:r.s,l:r.l,a:T,source:"rgb"}}else{var S=void 0;if(p<0?S=0:p>h?S=1:S=Math.round(p*100/h)/100,a!==S)return{h:r.h,s:r.s,l:r.l,a:S,source:"rgb"}}return null},YY={},gKe=function(t,r,s,a){if(typeof document>"u"&&!a)return null;var u=a?new a:document.createElement("canvas");u.width=s*2,u.height=s*2;var h=u.getContext("2d");return h?(h.fillStyle=t,h.fillRect(0,0,u.width,u.height),h.fillStyle=r,h.fillRect(0,0,s,s),h.translate(s,s),h.fillRect(0,0,s,s),u.toDataURL()):null},vKe=function(t,r,s,a){var u=t+"-"+r+"-"+s+(a?"-server":"");if(YY[u])return YY[u];var h=gKe(t,r,s,a);return YY[u]=h,h},Pme=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KC=function(t){var r=t.white,s=t.grey,a=t.size,u=t.renderers,h=t.borderRadius,f=t.boxShadow,g=t.children,v=Nn({default:{grid:{borderRadius:h,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+vKe(r,s,a,u.canvas)+") center left"}}});return q.isValidElement(g)?F.default.cloneElement(g,Pme({},g.props,{style:Pme({},g.props.style,v.grid)})):F.default.createElement("div",{style:v.grid})};KC.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var yKe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bKe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function _Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function TKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qY=function(e){TKe(t,e);function t(){var r,s,a,u;_Ke(this,t);for(var h=arguments.length,f=Array(h),g=0;g<h;g++)f[g]=arguments[g];return u=(s=(a=Nme(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),a),a.handleChange=function(v){var p=mKe(v,a.props.hsl,a.props.direction,a.props.a,a.container);p&&typeof a.props.onChange=="function"&&a.props.onChange(p,v)},a.handleMouseDown=function(v){a.handleChange(v),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},s),Nme(a,u)}return bKe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var s=this,a=this.props.rgb,u=Nn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:a.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)"},pointer:{left:0,top:a.a*100+"%"}},overwrite:yKe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return F.default.createElement("div",{style:u.alpha},F.default.createElement("div",{style:u.checkboard},F.default.createElement(KC,{renderers:this.props.renderers})),F.default.createElement("div",{style:u.gradient}),F.default.createElement("div",{style:u.container,ref:function(f){return s.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.default.createElement("div",{style:u.pointer},this.props.pointer?F.default.createElement(this.props.pointer,this.props):F.default.createElement("div",{style:u.slider}))))}}]),t}(q.PureComponent||q.Component),EKe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function SKe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xKe=1,Mme=38,IKe=40,DKe=[Mme,IKe],OKe=function(t){return DKe.indexOf(t)>-1},kKe=function(t){return Number(String(t).replace(/%/g,""))},RKe=1,Ei=function(e){CKe(t,e);function t(r){AKe(this,t);var s=wKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.handleBlur=function(){s.state.blurValue&&s.setState({value:s.state.blurValue,blurValue:null})},s.handleChange=function(a){s.setUpdatedValue(a.target.value,a)},s.handleKeyDown=function(a){var u=kKe(a.target.value);if(!isNaN(u)&&OKe(a.keyCode)){var h=s.getArrowOffset(),f=a.keyCode===Mme?u+h:u-h;s.setUpdatedValue(f,a)}},s.handleDrag=function(a){if(s.props.dragLabel){var u=Math.round(s.props.value+a.movementX);u>=0&&u<=s.props.dragMax&&s.props.onChange&&s.props.onChange(s.getValueObjectWithLabel(u),a)}},s.handleMouseDown=function(a){s.props.dragLabel&&(a.preventDefault(),s.handleDrag(a),window.addEventListener("mousemove",s.handleDrag),window.addEventListener("mouseup",s.handleMouseUp))},s.handleMouseUp=function(){s.unbindEventListeners()},s.unbindEventListeners=function(){window.removeEventListener("mousemove",s.handleDrag),window.removeEventListener("mouseup",s.handleMouseUp)},s.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},s.inputId="rc-editable-input-"+RKe++,s}return EKe(t,[{key:"componentDidUpdate",value:function(s,a){this.props.value!==this.state.value&&(s.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(s){return SKe({},this.props.label,s)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||xKe}},{key:"setUpdatedValue",value:function(s,a){var u=this.props.label?this.getValueObjectWithLabel(s):s;this.props.onChange&&this.props.onChange(u,a),this.setState({value:s})}},{key:"render",value:function(){var s=this,a=Nn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return F.default.createElement("div",{style:a.wrap},F.default.createElement("input",{id:this.inputId,style:a.input,ref:function(h){return s.input=h},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?F.default.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(q.PureComponent||q.Component),PKe=function(t,r,s,a){var u=a.clientWidth,h=a.clientHeight,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=f-(a.getBoundingClientRect().left+window.pageXOffset),p=g-(a.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var E=void 0;if(p<0)E=359;else if(p>h)E=0;else{var T=-(p*100/h)+100;E=360*T/100}if(s.h!==E)return{h:E,s:s.s,l:s.l,a:s.a,source:"hsl"}}else{var S=void 0;if(v<0)S=0;else if(v>u)S=359;else{var x=v*100/u;S=360*x/100}if(s.h!==S)return{h:S,s:s.s,l:s.l,a:s.a,source:"hsl"}}return null},NKe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function MKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QC=function(e){LKe(t,e);function t(){var r,s,a,u;MKe(this,t);for(var h=arguments.length,f=Array(h),g=0;g<h;g++)f[g]=arguments[g];return u=(s=(a=Lme(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),a),a.handleChange=function(v){var p=PKe(v,a.props.direction,a.props.hsl,a.container);p&&typeof a.props.onChange=="function"&&a.props.onChange(p,v)},a.handleMouseDown=function(v){a.handleChange(v),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},s),Lme(a,u)}return NKe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var s=this,a=this.props.direction,u=a===void 0?"horizontal":a,h=Nn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:u==="vertical"});return F.default.createElement("div",{style:h.hue},F.default.createElement("div",{className:"hue-"+u,style:h.container,ref:function(g){return s.container=g},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),F.default.createElement("div",{style:h.pointer},this.props.pointer?F.default.createElement(this.props.pointer,this.props):F.default.createElement("div",{style:h.slider}))))}}]),t}(q.PureComponent||q.Component);function ZY(e,t,r){(r!==void 0&&!NN(e[t],r)||r===void 0&&!(t in e))&&$Y(e,t,r)}function FKe(e){return vd(e)&&qC(e)}function KY(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function BKe(e){return HN(e,UN(e))}function HKe(e,t,r,s,a,u,h){var f=KY(e,r),g=KY(t,r),v=h.get(g);if(v){ZY(e,r,v);return}var p=u?u(f,g,r+"",e,t,h):void 0,E=p===void 0;if(E){var T=Eu(g),S=!T&&kN(g),x=!T&&!S&&CY(g);p=g,T||S||x?Eu(f)?p=f:FKe(f)?p=gme(f):S?(E=!1,p=mme(g,!0)):x?(E=!1,p=_me(g,!0)):p=[]:Bpe(g)||W4(g)?(p=f,W4(f)?p=BKe(f):(!Yc(f)||IY(f))&&(p=Eme(g))):E=!1}E&&(h.set(g,p),a(p,g,s,u,h),h.delete(g)),ZY(e,r,p)}function Fme(e,t,r,s,a){e!==t&&wpe(t,function(u,h){if(a||(a=new yd),Yc(u))HKe(e,t,h,r,Fme,s,a);else{var f=s?s(KY(e,h),u,h+"",e,t,a):void 0;f===void 0&&(f=u),ZY(e,h,f)}},UN)}function UKe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Bme=Math.max;function GKe(e,t,r){return t=Bme(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,u=Bme(s.length-t,0),h=Array(u);++a<u;)h[a]=s[t+a];a=-1;for(var f=Array(t+1);++a<t;)f[a]=s[a];return f[t]=r(h),UKe(e,this,f)}}function $Ke(e){return function(){return e}}var zKe=r8?function(e,t){return r8(e,"toString",{configurable:!0,enumerable:!1,value:$Ke(t),writable:!0})}:X4;const VKe=zKe;var jKe=800,WKe=16,XKe=Date.now;function YKe(e){var t=0,r=0;return function(){var s=XKe(),a=WKe-(s-r);if(r=s,a>0){if(++t>=jKe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qKe=YKe(VKe);const ZKe=qKe;function KKe(e,t){return ZKe(GKe(e,t,X4),e+"")}function QKe(e,t,r){if(!Yc(r))return!1;var s=typeof t;return(s=="number"?qC(r)&&EY(t,r.length):s=="string"&&t in r)?NN(r[t],e):!1}function JKe(e){return KKe(function(t,r){var s=-1,a=r.length,u=a>1?r[a-1]:void 0,h=a>2?r[2]:void 0;for(u=e.length>3&&typeof u=="function"?(a--,u):void 0,h&&QKe(r[0],r[1],h)&&(u=a<3?void 0:u,a=1),t=Object(t);++s<a;){var f=r[s];f&&e(t,f,s,u)}return t})}var eQe=JKe(function(e,t,r){Fme(e,t,r)});const nc=eQe;var VN=function(t){var r=t.zDepth,s=t.radius,a=t.background,u=t.children,h=t.styles,f=h===void 0?{}:h,g=Nn(nc({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:s,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},f),{"zDepth-1":r===1});return F.default.createElement("div",{style:g.wrap},F.default.createElement("div",{style:g.bg}),F.default.createElement("div",{style:g.content},u))};VN.propTypes={background:$.exports.string,zDepth:$.exports.oneOf([0,1,2,3,4,5]),radius:$.exports.number,styles:$.exports.object},VN.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var tQe=function(){return gd.Date.now()};const QY=tQe;var rQe=/\s/;function nQe(e){for(var t=e.length;t--&&rQe.test(e.charAt(t)););return t}var iQe=/^\s+/;function aQe(e){return e&&e.slice(0,nQe(e)+1).replace(iQe,"")}var Hme=0/0,oQe=/^[-+]0x[0-9a-f]+$/i,sQe=/^0b[01]+$/i,lQe=/^0o[0-7]+$/i,uQe=parseInt;function Ume(e){if(typeof e=="number")return e;if(J4(e))return Hme;if(Yc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aQe(e);var r=sQe.test(e);return r||lQe.test(e)?uQe(e.slice(2),r?2:8):oQe.test(e)?Hme:+e}var cQe="Expected a function",hQe=Math.max,fQe=Math.min;function Gme(e,t,r){var s,a,u,h,f,g,v=0,p=!1,E=!1,T=!0;if(typeof e!="function")throw new TypeError(cQe);t=Ume(t)||0,Yc(r)&&(p=!!r.leading,E="maxWait"in r,u=E?hQe(Ume(r.maxWait)||0,t):u,T="trailing"in r?!!r.trailing:T);function S(Z){var ee=s,J=a;return s=a=void 0,v=Z,h=e.apply(J,ee),h}function x(Z){return v=Z,f=setTimeout(M,t),p?S(Z):h}function O(Z){var ee=Z-g,J=Z-v,he=t-ee;return E?fQe(he,u-J):he}function P(Z){var ee=Z-g,J=Z-v;return g===void 0||ee>=t||ee<0||E&&J>=u}function M(){var Z=QY();if(P(Z))return G(Z);f=setTimeout(M,O(Z))}function G(Z){return f=void 0,T&&s?S(Z):(s=a=void 0,h)}function B(){f!==void 0&&clearTimeout(f),v=0,s=g=a=f=void 0}function U(){return f===void 0?h:G(QY())}function j(){var Z=QY(),ee=P(Z);if(s=arguments,a=this,g=Z,ee){if(f===void 0)return x(g);if(E)return clearTimeout(f),f=setTimeout(M,t),S(g)}return f===void 0&&(f=setTimeout(M,t)),h}return j.cancel=B,j.flush=U,j}var dQe="Expected a function";function pQe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(dQe);return Yc(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),Gme(e,t,{leading:s,maxWait:t,trailing:a})}var mQe=function(t,r,s){var a=s.getBoundingClientRect(),u=a.width,h=a.height,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=f-(s.getBoundingClientRect().left+window.pageXOffset),p=g-(s.getBoundingClientRect().top+window.pageYOffset);v<0?v=0:v>u&&(v=u),p<0?p=0:p>h&&(p=h);var E=v/u,T=1-p/h;return{h:r.h,s:E,v:T,a:r.a,source:"hsv"}},gQe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function vQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i8=function(e){bQe(t,e);function t(r){vQe(this,t);var s=yQe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return s.handleChange=function(a){typeof s.props.onChange=="function"&&s.throttle(s.props.onChange,mQe(a,s.props.hsl,s.container),a)},s.handleMouseDown=function(a){s.handleChange(a);var u=s.getContainerRenderWindow();u.addEventListener("mousemove",s.handleChange),u.addEventListener("mouseup",s.handleMouseUp)},s.handleMouseUp=function(){s.unbindEventListeners()},s.throttle=pQe(function(a,u,h){a(u,h)},50),s}return gQe(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var s=this.container,a=window;!a.document.contains(s)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var s=this.getContainerRenderWindow();s.removeEventListener("mousemove",this.handleChange),s.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var s=this,a=this.props.style||{},u=a.color,h=a.white,f=a.black,g=a.pointer,v=a.circle,p=Nn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:u,white:h,black:f,pointer:g,circle:v}},{custom:!!this.props.style});return F.default.createElement("div",{style:p.color,ref:function(T){return s.container=T},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),F.default.createElement("div",{style:p.white,className:"saturation-white"},F.default.createElement("div",{style:p.black,className:"saturation-black"}),F.default.createElement("div",{style:p.pointer},this.props.pointer?F.default.createElement(this.props.pointer,this.props):F.default.createElement("div",{style:p.circle}))))}}]),t}(q.PureComponent||q.Component);function _Qe(e,t){var r=Eu(e)?ume:lme;return r(e,Lpe(t))}const TQe=/^\s+/,EQe=/\s+$/;function en(e,t){if(e=e||"",t=t||{},e instanceof en)return e;if(!(this instanceof en))return new en(e,t);var r=SQe(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}en.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,s,a,u,h;return t=e.r/255,r=e.g/255,s=e.b/255,t<=.03928?a=t/12.92:a=Math.pow((t+.055)/1.055,2.4),r<=.03928?u=r/12.92:u=Math.pow((r+.055)/1.055,2.4),s<=.03928?h=s/12.92:h=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*u+.0722*h},setAlpha:function(e){return this._a=Xme(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=zme(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=zme(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+s+"%)":"hsva("+t+", "+r+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=$me(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=$me(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+s+"%)":"hsla("+t+", "+r+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return Vme(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return xQe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Qa(this._r,255)*100)+"%",g:Math.round(Qa(this._g,255)*100)+"%",b:Math.round(Qa(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Qa(this._r,255)*100)+"%, "+Math.round(Qa(this._g,255)*100)+"%, "+Math.round(Qa(this._b,255)*100)+"%)":"rgba("+Math.round(Qa(this._r,255)*100)+"%, "+Math.round(Qa(this._g,255)*100)+"%, "+Math.round(Qa(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:HQe[Vme(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+jme(this._r,this._g,this._b,this._a),r=t,s=this._gradientType?"GradientType = 1, ":"";if(e){var a=en(e);r="#"+jme(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,s=this._a<1&&this._a>=0,a=!t&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return en(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(kQe,arguments)},brighten:function(){return this._applyModification(RQe,arguments)},darken:function(){return this._applyModification(PQe,arguments)},desaturate:function(){return this._applyModification(IQe,arguments)},saturate:function(){return this._applyModification(DQe,arguments)},greyscale:function(){return this._applyModification(OQe,arguments)},spin:function(){return this._applyModification(NQe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(FQe,arguments)},complement:function(){return this._applyCombination(MQe,arguments)},monochromatic:function(){return this._applyCombination(BQe,arguments)},splitcomplement:function(){return this._applyCombination(LQe,arguments)},triad:function(){return this._applyCombination(Wme,[3])},tetrad:function(){return this._applyCombination(Wme,[4])}},en.fromRatio=function(e,t){if(typeof e=="object"){var r={};for(var s in e)e.hasOwnProperty(s)&&(s==="a"?r[s]=e[s]:r[s]=jN(e[s]));e=r}return en(e,t)};function SQe(e){var t={r:0,g:0,b:0},r=1,s=null,a=null,u=null,h=!1,f=!1;return typeof e=="string"&&(e=zQe(e)),typeof e=="object"&&(gv(e.r)&&gv(e.g)&&gv(e.b)?(t=AQe(e.r,e.g,e.b),h=!0,f=String(e.r).substr(-1)==="%"?"prgb":"rgb"):gv(e.h)&&gv(e.s)&&gv(e.v)?(s=jN(e.s),a=jN(e.v),t=CQe(e.h,s,a),h=!0,f="hsv"):gv(e.h)&&gv(e.s)&&gv(e.l)&&(s=jN(e.s),u=jN(e.l),t=wQe(e.h,s,u),h=!0,f="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Xme(r),{ok:h,format:e.format||f,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function AQe(e,t,r){return{r:Qa(e,255)*255,g:Qa(t,255)*255,b:Qa(r,255)*255}}function $me(e,t,r){e=Qa(e,255),t=Qa(t,255),r=Qa(r,255);var s=Math.max(e,t,r),a=Math.min(e,t,r),u,h,f=(s+a)/2;if(s==a)u=h=0;else{var g=s-a;switch(h=f>.5?g/(2-s-a):g/(s+a),s){case e:u=(t-r)/g+(t<r?6:0);break;case t:u=(r-e)/g+2;break;case r:u=(e-t)/g+4;break}u/=6}return{h:u,s:h,l:f}}function wQe(e,t,r){var s,a,u;e=Qa(e,360),t=Qa(t,100),r=Qa(r,100);function h(v,p,E){return E<0&&(E+=1),E>1&&(E-=1),E<1/6?v+(p-v)*6*E:E<1/2?p:E<2/3?v+(p-v)*(2/3-E)*6:v}if(t===0)s=a=u=r;else{var f=r<.5?r*(1+t):r+t-r*t,g=2*r-f;s=h(g,f,e+1/3),a=h(g,f,e),u=h(g,f,e-1/3)}return{r:s*255,g:a*255,b:u*255}}function zme(e,t,r){e=Qa(e,255),t=Qa(t,255),r=Qa(r,255);var s=Math.max(e,t,r),a=Math.min(e,t,r),u,h,f=s,g=s-a;if(h=s===0?0:g/s,s==a)u=0;else{switch(s){case e:u=(t-r)/g+(t<r?6:0);break;case t:u=(r-e)/g+2;break;case r:u=(e-t)/g+4;break}u/=6}return{h:u,s:h,v:f}}function CQe(e,t,r){e=Qa(e,360)*6,t=Qa(t,100),r=Qa(r,100);var s=Math.floor(e),a=e-s,u=r*(1-t),h=r*(1-a*t),f=r*(1-(1-a)*t),g=s%6,v=[r,h,u,u,f,r][g],p=[f,r,r,h,u,u][g],E=[u,u,f,r,r,h][g];return{r:v*255,g:p*255,b:E*255}}function Vme(e,t,r,s){var a=[bd(Math.round(e).toString(16)),bd(Math.round(t).toString(16)),bd(Math.round(r).toString(16))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function xQe(e,t,r,s,a){var u=[bd(Math.round(e).toString(16)),bd(Math.round(t).toString(16)),bd(Math.round(r).toString(16)),bd(Yme(s))];return a&&u[0].charAt(0)==u[0].charAt(1)&&u[1].charAt(0)==u[1].charAt(1)&&u[2].charAt(0)==u[2].charAt(1)&&u[3].charAt(0)==u[3].charAt(1)?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function jme(e,t,r,s){var a=[bd(Yme(s)),bd(Math.round(e).toString(16)),bd(Math.round(t).toString(16)),bd(Math.round(r).toString(16))];return a.join("")}en.equals=function(e,t){return!e||!t?!1:en(e).toRgbString()==en(t).toRgbString()},en.random=function(){return en.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function IQe(e,t){t=t===0?0:t||10;var r=en(e).toHsl();return r.s-=t/100,r.s=a8(r.s),en(r)}function DQe(e,t){t=t===0?0:t||10;var r=en(e).toHsl();return r.s+=t/100,r.s=a8(r.s),en(r)}function OQe(e){return en(e).desaturate(100)}function kQe(e,t){t=t===0?0:t||10;var r=en(e).toHsl();return r.l+=t/100,r.l=a8(r.l),en(r)}function RQe(e,t){t=t===0?0:t||10;var r=en(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),en(r)}function PQe(e,t){t=t===0?0:t||10;var r=en(e).toHsl();return r.l-=t/100,r.l=a8(r.l),en(r)}function NQe(e,t){var r=en(e).toHsl(),s=(r.h+t)%360;return r.h=s<0?360+s:s,en(r)}function MQe(e){var t=en(e).toHsl();return t.h=(t.h+180)%360,en(t)}function Wme(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=en(e).toHsl(),s=[en(e)],a=360/t,u=1;u<t;u++)s.push(en({h:(r.h+u*a)%360,s:r.s,l:r.l}));return s}function LQe(e){var t=en(e).toHsl(),r=t.h;return[en(e),en({h:(r+72)%360,s:t.s,l:t.l}),en({h:(r+216)%360,s:t.s,l:t.l})]}function FQe(e,t,r){t=t||6,r=r||30;var s=en(e).toHsl(),a=360/r,u=[en(e)];for(s.h=(s.h-(a*t>>1)+720)%360;--t;)s.h=(s.h+a)%360,u.push(en(s));return u}function BQe(e,t){t=t||6;for(var r=en(e).toHsv(),s=r.h,a=r.s,u=r.v,h=[],f=1/t;t--;)h.push(en({h:s,s:a,v:u})),u=(u+f)%1;return h}en.mix=function(e,t,r){r=r===0?0:r||50;var s=en(e).toRgb(),a=en(t).toRgb(),u=r/100,h={r:(a.r-s.r)*u+s.r,g:(a.g-s.g)*u+s.g,b:(a.b-s.b)*u+s.b,a:(a.a-s.a)*u+s.a};return en(h)},en.readability=function(e,t){var r=en(e),s=en(t);return(Math.max(r.getLuminance(),s.getLuminance())+.05)/(Math.min(r.getLuminance(),s.getLuminance())+.05)},en.isReadable=function(e,t,r){var s=en.readability(e,t),a,u;switch(u=!1,a=VQe(r),a.level+a.size){case"AAsmall":case"AAAlarge":u=s>=4.5;break;case"AAlarge":u=s>=3;break;case"AAAsmall":u=s>=7;break}return u},en.mostReadable=function(e,t,r){var s=null,a=0,u,h,f,g;r=r||{},h=r.includeFallbackColors,f=r.level,g=r.size;for(var v=0;v<t.length;v++)u=en.readability(e,t[v]),u>a&&(a=u,s=en(t[v]));return en.isReadable(e,s,{level:f,size:g})||!h?s:(r.includeFallbackColors=!1,en.mostReadable(e,["#fff","#000"],r))};var JY=en.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},HQe=en.hexNames=UQe(JY);function UQe(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Xme(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Qa(e,t){GQe(e)&&(e="100%");var r=$Qe(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function a8(e){return Math.min(1,Math.max(0,e))}function qc(e){return parseInt(e,16)}function GQe(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function $Qe(e){return typeof e=="string"&&e.indexOf("%")!=-1}function bd(e){return e.length==1?"0"+e:""+e}function jN(e){return e<=1&&(e=e*100+"%"),e}function Yme(e){return Math.round(parseFloat(e)*255).toString(16)}function qme(e){return qc(e)/255}var _d=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gv(e){return!!_d.CSS_UNIT.exec(e)}function zQe(e){e=e.replace(TQe,"").replace(EQe,"").toLowerCase();var t=!1;if(JY[e])e=JY[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=_d.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=_d.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=_d.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=_d.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=_d.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=_d.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=_d.hex8.exec(e))?{r:qc(r[1]),g:qc(r[2]),b:qc(r[3]),a:qme(r[4]),format:t?"name":"hex8"}:(r=_d.hex6.exec(e))?{r:qc(r[1]),g:qc(r[2]),b:qc(r[3]),format:t?"name":"hex"}:(r=_d.hex4.exec(e))?{r:qc(r[1]+""+r[1]),g:qc(r[2]+""+r[2]),b:qc(r[3]+""+r[3]),a:qme(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=_d.hex3.exec(e))?{r:qc(r[1]+""+r[1]),g:qc(r[2]+""+r[2]),b:qc(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function VQe(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Zme=function(t){var r=["r","g","b","a","h","s","l","v"],s=0,a=0;return _Qe(r,function(u){if(t[u]&&(s+=1,isNaN(t[u])||(a+=1),u==="s"||u==="l")){var h=/^\d+%$/;h.test(t[u])&&(a+=1)}}),s===a?t:!1},WN=function(t,r){var s=t.hex?en(t.hex):en(t),a=s.toHsl(),u=s.toHsv(),h=s.toRgb(),f=s.toHex();a.s===0&&(a.h=r||0,u.h=r||0);var g=f==="000000"&&h.a===0;return{hsl:a,hex:g?"transparent":"#"+f,rgb:h,hsv:u,oldHue:t.h||r||a.h,source:t.source}},jy=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&en(t).isValid()},eq=function(t){if(!t)return"#fff";var r=WN(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var s=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return s>=128?"#000":"#fff"},tq=function(t,r){var s=t.replace("","");return en(r+" ("+s+")")._ok},XN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jQe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function WQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XQe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ic=function(t){var r=function(s){YQe(a,s);function a(u){WQe(this,a);var h=XQe(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return h.handleChange=function(f,g){var v=Zme(f);if(v){var p=WN(f,f.h||h.state.oldHue);h.setState(p),h.props.onChangeComplete&&h.debounce(h.props.onChangeComplete,p,g),h.props.onChange&&h.props.onChange(p,g)}},h.handleSwatchHover=function(f,g){var v=Zme(f);if(v){var p=WN(f,f.h||h.state.oldHue);h.props.onSwatchHover&&h.props.onSwatchHover(p,g)}},h.state=XN({},WN(u.color,0)),h.debounce=Gme(function(f,g,v){f(g,v)},100),h}return jQe(a,[{key:"render",value:function(){var h={};return this.props.onSwatchHover&&(h.onSwatchHover=this.handleSwatchHover),F.default.createElement(t,XN({},this.props,this.state,{onChange:this.handleChange},h))}}],[{key:"getDerivedStateFromProps",value:function(h,f){return XN({},WN(h.color,f.oldHue))}}]),a}(q.PureComponent||q.Component);return r.propTypes=XN({},t.propTypes),r.defaultProps=XN({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},qQe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ZQe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function KQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function QQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var JQe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(s){QQe(a,s);function a(){var u,h,f,g;KQe(this,a);for(var v=arguments.length,p=Array(v),E=0;E<v;E++)p[E]=arguments[E];return g=(h=(f=Kme(this,(u=a.__proto__||Object.getPrototypeOf(a)).call.apply(u,[this].concat(p))),f),f.state={focus:!1},f.handleFocus=function(){return f.setState({focus:!0})},f.handleBlur=function(){return f.setState({focus:!1})},h),Kme(f,g)}return ZQe(a,[{key:"render",value:function(){return F.default.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},F.default.createElement(t,qQe({},this.props,this.state)))}}]),a}(F.default.Component)},Qme=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eJe=13,tJe=function(t){var r=t.color,s=t.style,a=t.onClick,u=a===void 0?function(){}:a,h=t.onHover,f=t.title,g=f===void 0?r:f,v=t.children,p=t.focus,E=t.focusStyle,T=E===void 0?{}:E,S=r==="transparent",x=Nn({default:{swatch:Qme({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},s,p?T:{})}}),O=function(U){return u(r,U)},P=function(U){return U.keyCode===eJe&&u(r,U)},M=function(U){return h(r,U)},G={};return h&&(G.onMouseOver=M),F.default.createElement("div",Qme({style:x.swatch,onClick:O,title:g,tabIndex:0,onKeyDown:P},G),v,S&&F.default.createElement(KC,{borderRadius:x.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const pT=JQe(tJe);var rJe=function(t){var r=t.direction,s=Nn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return F.default.createElement("div",{style:s.picker})},nJe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jme=function(t){var r=t.rgb,s=t.hsl,a=t.width,u=t.height,h=t.onChange,f=t.direction,g=t.style,v=t.renderers,p=t.pointer,E=t.className,T=E===void 0?"":E,S=Nn({default:{picker:{position:"relative",width:a,height:u},alpha:{radius:"2px",style:g}}});return F.default.createElement("div",{style:S.picker,className:"alpha-picker "+T},F.default.createElement(qY,nJe({},S.alpha,{rgb:r,hsl:s,pointer:p,renderers:v,onChange:h,direction:f})))};Jme.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:rJe},ic(Jme);var iJe=function(t){var r=t.colors,s=t.onClick,a=t.onSwatchHover,u=Nn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return F.default.createElement("div",{style:u.swatches},Vy(r,function(h){return F.default.createElement(pT,{key:h,color:h,style:u.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"0 0 4px "+h}})}),F.default.createElement("div",{style:u.clear}))},rq=function(t){var r=t.onChange,s=t.onSwatchHover,a=t.hex,u=t.colors,h=t.width,f=t.triangle,g=t.styles,v=g===void 0?{}:g,p=t.className,E=p===void 0?"":p,T=a==="transparent",S=function(P,M){jy(P)&&r({hex:P,source:"hex"},M)},x=Nn(nc({default:{card:{width:h,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:eq(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},v),{"hide-triangle":f==="hide"});return F.default.createElement("div",{style:x.card,className:"block-picker "+E},F.default.createElement("div",{style:x.triangle}),F.default.createElement("div",{style:x.head},T&&F.default.createElement(KC,{borderRadius:"6px 6px 0 0"}),F.default.createElement("div",{style:x.label},a)),F.default.createElement("div",{style:x.body},F.default.createElement(iJe,{colors:u,onClick:S,onSwatchHover:s}),F.default.createElement(Ei,{style:{input:x.input},value:a,onChange:S})))};rq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),colors:$.exports.arrayOf($.exports.string),triangle:$.exports.oneOf(["top","hide"]),styles:$.exports.object},rq.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},ic(rq);var JC={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},ex={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},tx={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},rx={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},nx={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},ix={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},ax={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},ox={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},sx={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},YN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},lx={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},ux={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},cx={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},hx={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},fx={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},dx={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},px={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},mx={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},ege=function(t){var r=t.color,s=t.onClick,a=t.onSwatchHover,u=t.hover,h=t.active,f=t.circleSize,g=t.circleSpacing,v=Nn({default:{swatch:{width:f,height:f,marginRight:g,marginBottom:g,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(f/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:u,active:h});return F.default.createElement("div",{style:v.swatch},F.default.createElement(pT,{style:v.Swatch,color:r,onClick:s,onHover:a,focusStyle:{boxShadow:v.Swatch.boxShadow+", 0 0 5px "+r}}))};ege.defaultProps={circleSize:28,circleSpacing:14};const aJe=XY(ege);var nq=function(t){var r=t.width,s=t.onChange,a=t.onSwatchHover,u=t.colors,h=t.hex,f=t.circleSize,g=t.styles,v=g===void 0?{}:g,p=t.circleSpacing,E=t.className,T=E===void 0?"":E,S=Nn(nc({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},v)),x=function(P,M){return s({hex:P,source:"hex"},M)};return F.default.createElement("div",{style:S.card,className:"circle-picker "+T},Vy(u,function(O){return F.default.createElement(aJe,{key:O,color:O,onClick:x,onSwatchHover:a,active:h===O.toLowerCase(),circleSize:f,circleSpacing:p})}))};nq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),circleSize:$.exports.number,circleSpacing:$.exports.number,styles:$.exports.object},nq.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[JC[500],ex[500],tx[500],rx[500],nx[500],ix[500],ax[500],ox[500],sx[500],YN[500],lx[500],ux[500],cx[500],hx[500],fx[500],dx[500],px[500],mx[500]],styles:{}},ic(nq);function tge(e){return e===void 0}var rge={};Object.defineProperty(rge,"__esModule",{value:!0});var nge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oJe=F.default,ige=sJe(oJe);function sJe(e){return e&&e.__esModule?e:{default:e}}function lJe(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}var o8=24,uJe=rge.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,s=e.width,a=s===void 0?o8:s,u=e.height,h=u===void 0?o8:u,f=e.style,g=f===void 0?{}:f,v=lJe(e,["fill","width","height","style"]);return ige.default.createElement("svg",nge({viewBox:"0 0 "+o8+" "+o8,style:nge({fill:r,width:a,height:h},g)},v),ige.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},cJe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function hJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fJe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var age=function(e){dJe(t,e);function t(r){hJe(this,t);var s=fJe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.toggleViews=function(){s.state.view==="hex"?s.setState({view:"rgb"}):s.state.view==="rgb"?s.setState({view:"hsl"}):s.state.view==="hsl"&&(s.props.hsl.a===1?s.setState({view:"hex"}):s.setState({view:"rgb"}))},s.handleChange=function(a,u){a.hex?jy(a.hex)&&s.props.onChange({hex:a.hex,source:"hex"},u):a.r||a.g||a.b?s.props.onChange({r:a.r||s.props.rgb.r,g:a.g||s.props.rgb.g,b:a.b||s.props.rgb.b,source:"rgb"},u):a.a?(a.a<0?a.a=0:a.a>1&&(a.a=1),s.props.onChange({h:s.props.hsl.h,s:s.props.hsl.s,l:s.props.hsl.l,a:Math.round(a.a*100)/100,source:"rgb"},u)):(a.h||a.s||a.l)&&(typeof a.s=="string"&&a.s.includes("%")&&(a.s=a.s.replace("%","")),typeof a.l=="string"&&a.l.includes("%")&&(a.l=a.l.replace("%","")),a.s==1?a.s=.01:a.l==1&&(a.l=.01),s.props.onChange({h:a.h||s.props.hsl.h,s:Number(tge(a.s)?s.props.hsl.s:a.s),l:Number(tge(a.l)?s.props.hsl.l:a.l),source:"hsl"},u))},s.showHighlight=function(a){a.currentTarget.style.background="#eee"},s.hideHighlight=function(a){a.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?s.state={view:"rgb"}:s.state={view:r.view},s}return cJe(t,[{key:"render",value:function(){var s=this,a=Nn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),u=void 0;return this.state.view==="hex"?u=F.default.createElement("div",{style:a.fields,className:"flexbox-fix"},F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?u=F.default.createElement("div",{style:a.fields,className:"flexbox-fix"},F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),F.default.createElement("div",{style:a.alpha},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(u=F.default.createElement("div",{style:a.fields,className:"flexbox-fix"},F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),F.default.createElement("div",{style:a.field},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),F.default.createElement("div",{style:a.alpha},F.default.createElement(Ei,{style:{input:a.input,label:a.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),F.default.createElement("div",{style:a.wrap,className:"flexbox-fix"},u,F.default.createElement("div",{style:a.toggle},F.default.createElement("div",{style:a.icon,onClick:this.toggleViews,ref:function(f){return s.icon=f}},F.default.createElement(uJe,{style:a.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.hsl.a!==1&&a.view==="hex"?{view:"rgb"}:null}}]),t}(F.default.Component);age.defaultProps={view:"hex"};var oge=function(){var t=Nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.default.createElement("div",{style:t.picker})},pJe=function(){var t=Nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return F.default.createElement("div",{style:t.picker})},iq=function(t){var r=t.width,s=t.onChange,a=t.disableAlpha,u=t.rgb,h=t.hsl,f=t.hsv,g=t.hex,v=t.renderers,p=t.styles,E=p===void 0?{}:p,T=t.className,S=T===void 0?"":T,x=t.defaultView,O=Nn(nc({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+u.r+", "+u.g+", "+u.b+", "+u.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},E),{disableAlpha:a});return F.default.createElement("div",{style:O.picker,className:"chrome-picker "+S},F.default.createElement("div",{style:O.saturation},F.default.createElement(i8,{style:O.Saturation,hsl:h,hsv:f,pointer:pJe,onChange:s})),F.default.createElement("div",{style:O.body},F.default.createElement("div",{style:O.controls,className:"flexbox-fix"},F.default.createElement("div",{style:O.color},F.default.createElement("div",{style:O.swatch},F.default.createElement("div",{style:O.active}),F.default.createElement(KC,{renderers:v}))),F.default.createElement("div",{style:O.toggles},F.default.createElement("div",{style:O.hue},F.default.createElement(QC,{style:O.Hue,hsl:h,pointer:oge,onChange:s})),F.default.createElement("div",{style:O.alpha},F.default.createElement(qY,{style:O.Alpha,rgb:u,hsl:h,pointer:oge,renderers:v,onChange:s})))),F.default.createElement(age,{rgb:u,hsl:h,hex:g,view:x,onChange:s,disableAlpha:a})))};iq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),disableAlpha:$.exports.bool,styles:$.exports.object,defaultView:$.exports.oneOf(["hex","rgb","hsl"])},iq.defaultProps={width:225,disableAlpha:!1,styles:{}},ic(iq);var mJe=function(t){var r=t.color,s=t.onClick,a=s===void 0?function(){}:s,u=t.onSwatchHover,h=t.active,f=Nn({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:eq(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:h,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return F.default.createElement(pT,{style:f.color,color:r,onClick:a,onHover:u,focusStyle:{boxShadow:"0 0 4px "+r}},F.default.createElement("div",{style:f.dot}))},gJe=function(t){var r=t.hex,s=t.rgb,a=t.onChange,u=Nn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),h=function(g,v){g.r||g.g||g.b?a({r:g.r||s.r,g:g.g||s.g,b:g.b||s.b,source:"rgb"},v):a({hex:g.hex,source:"hex"},v)};return F.default.createElement("div",{style:u.fields,className:"flexbox-fix"},F.default.createElement("div",{style:u.active}),F.default.createElement(Ei,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:h}),F.default.createElement(Ei,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:s.r,onChange:h}),F.default.createElement(Ei,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:s.g,onChange:h}),F.default.createElement(Ei,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:s.b,onChange:h}))},aq=function(t){var r=t.onChange,s=t.onSwatchHover,a=t.colors,u=t.hex,h=t.rgb,f=t.styles,g=f===void 0?{}:f,v=t.className,p=v===void 0?"":v,E=Nn(nc({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},g)),T=function(x,O){x.hex?jy(x.hex)&&r({hex:x.hex,source:"hex"},O):r(x,O)};return F.default.createElement(VN,{style:E.Compact,styles:g},F.default.createElement("div",{style:E.compact,className:"compact-picker "+p},F.default.createElement("div",null,Vy(a,function(S){return F.default.createElement(mJe,{key:S,color:S,active:S.toLowerCase()===u,onClick:T,onSwatchHover:s})}),F.default.createElement("div",{style:E.clear})),F.default.createElement(gJe,{hex:u,rgb:h,onChange:T})))};aq.propTypes={colors:$.exports.arrayOf($.exports.string),styles:$.exports.object},aq.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},ic(aq);var vJe=function(t){var r=t.hover,s=t.color,a=t.onClick,u=t.onSwatchHover,h={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},f=Nn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:h}},{hover:r});return F.default.createElement("div",{style:f.swatch},F.default.createElement(pT,{color:s,onClick:a,onHover:u,focusStyle:h}))};const yJe=XY(vJe);var oq=function(t){var r=t.width,s=t.colors,a=t.onChange,u=t.onSwatchHover,h=t.triangle,f=t.styles,g=f===void 0?{}:f,v=t.className,p=v===void 0?"":v,E=Nn(nc({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},g),{"hide-triangle":h==="hide","top-left-triangle":h==="top-left","top-right-triangle":h==="top-right","bottom-left-triangle":h==="bottom-left","bottom-right-triangle":h==="bottom-right"}),T=function(x,O){return a({hex:x,source:"hex"},O)};return F.default.createElement("div",{style:E.card,className:"github-picker "+p},F.default.createElement("div",{style:E.triangleShadow}),F.default.createElement("div",{style:E.triangle}),Vy(s,function(S){return F.default.createElement(yJe,{color:S,key:S,onClick:T,onSwatchHover:u})}))};oq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),colors:$.exports.arrayOf($.exports.string),triangle:$.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:$.exports.object},oq.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},ic(oq);var bJe=function(t){var r=t.direction,s=Nn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return F.default.createElement("div",{style:s.picker})},_Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sq=function(t){var r=t.width,s=t.height,a=t.onChange,u=t.hsl,h=t.direction,f=t.pointer,g=t.styles,v=g===void 0?{}:g,p=t.className,E=p===void 0?"":p,T=Nn(nc({default:{picker:{position:"relative",width:r,height:s},hue:{radius:"2px"}}},v)),S=function(O){return a({a:1,h:O.h,l:.5,s:1})};return F.default.createElement("div",{style:T.picker,className:"hue-picker "+E},F.default.createElement(QC,_Je({},T.hue,{hsl:u,pointer:f,onChange:S,direction:h})))};sq.propTypes={styles:$.exports.object},sq.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:bJe,styles:{}},ic(sq);var TJe=function(t){var r=t.onChange,s=t.hex,a=t.rgb,u=t.styles,h=u===void 0?{}:u,f=t.className,g=f===void 0?"":f,v=Nn(nc({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+s,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},h)),p=function(T,S){T.hex?jy(T.hex)&&r({hex:T.hex,source:"hex"},S):(T.r||T.g||T.b)&&r({r:T.r||a.r,g:T.g||a.g,b:T.b||a.b,source:"rgb"},S)};return F.default.createElement(VN,{styles:h},F.default.createElement("div",{style:v.material,className:"material-picker "+g},F.default.createElement(Ei,{style:{wrap:v.HEXwrap,input:v.HEXinput,label:v.HEXlabel},label:"hex",value:s,onChange:p}),F.default.createElement("div",{style:v.split,className:"flexbox-fix"},F.default.createElement("div",{style:v.third},F.default.createElement(Ei,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"r",value:a.r,onChange:p})),F.default.createElement("div",{style:v.third},F.default.createElement(Ei,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"g",value:a.g,onChange:p})),F.default.createElement("div",{style:v.third},F.default.createElement(Ei,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"b",value:a.b,onChange:p})))))};ic(TJe);var EJe=function(t){var r=t.onChange,s=t.rgb,a=t.hsv,u=t.hex,h=Nn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),f=function(v,p){v["#"]?jy(v["#"])&&r({hex:v["#"],source:"hex"},p):v.r||v.g||v.b?r({r:v.r||s.r,g:v.g||s.g,b:v.b||s.b,source:"rgb"},p):(v.h||v.s||v.v)&&r({h:v.h||a.h,s:v.s||a.s,v:v.v||a.v,source:"hsv"},p)};return F.default.createElement("div",{style:h.fields},F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"h",value:Math.round(a.h),onChange:f}),F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"s",value:Math.round(a.s*100),onChange:f}),F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"v",value:Math.round(a.v*100),onChange:f}),F.default.createElement("div",{style:h.divider}),F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:s.r,onChange:f}),F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:s.g,onChange:f}),F.default.createElement(Ei,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:s.b,onChange:f}),F.default.createElement("div",{style:h.divider}),F.default.createElement(Ei,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"#",value:u.replace("#",""),onChange:f}),F.default.createElement("div",{style:h.fieldSymbols},F.default.createElement("div",{style:h.symbol},""),F.default.createElement("div",{style:h.symbol},"%"),F.default.createElement("div",{style:h.symbol},"%")))},SJe=function(t){var r=t.hsl,s=Nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return F.default.createElement("div",{style:s.picker})},AJe=function(){var t=Nn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return F.default.createElement("div",{style:t.pointer},F.default.createElement("div",{style:t.left},F.default.createElement("div",{style:t.leftInside})),F.default.createElement("div",{style:t.right},F.default.createElement("div",{style:t.rightInside})))},sge=function(t){var r=t.onClick,s=t.label,a=t.children,u=t.active,h=Nn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:u});return F.default.createElement("div",{style:h.button,onClick:r},s||a)},wJe=function(t){var r=t.rgb,s=t.currentColor,a=Nn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:s,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return F.default.createElement("div",null,F.default.createElement("div",{style:a.label},"new"),F.default.createElement("div",{style:a.swatches},F.default.createElement("div",{style:a.new}),F.default.createElement("div",{style:a.current})),F.default.createElement("div",{style:a.label},"current"))},CJe=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function xJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IJe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lq=function(e){DJe(t,e);function t(r){xJe(this,t);var s=IJe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.state={currentColor:r.hex},s}return CJe(t,[{key:"render",value:function(){var s=this.props,a=s.styles,u=a===void 0?{}:a,h=s.className,f=h===void 0?"":h,g=Nn(nc({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},u));return F.default.createElement("div",{style:g.picker,className:"photoshop-picker "+f},F.default.createElement("div",{style:g.head},this.props.header),F.default.createElement("div",{style:g.body,className:"flexbox-fix"},F.default.createElement("div",{style:g.saturation},F.default.createElement(i8,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:SJe,onChange:this.props.onChange})),F.default.createElement("div",{style:g.hue},F.default.createElement(QC,{direction:"vertical",hsl:this.props.hsl,pointer:AJe,onChange:this.props.onChange})),F.default.createElement("div",{style:g.controls},F.default.createElement("div",{style:g.top,className:"flexbox-fix"},F.default.createElement("div",{style:g.previews},F.default.createElement(wJe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),F.default.createElement("div",{style:g.actions},F.default.createElement(sge,{label:"OK",onClick:this.props.onAccept,active:!0}),F.default.createElement(sge,{label:"Cancel",onClick:this.props.onCancel}),F.default.createElement(EJe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(F.default.Component);lq.propTypes={header:$.exports.string,styles:$.exports.object},lq.defaultProps={header:"Color Picker",styles:{}},ic(lq);var OJe=function(t){var r=t.onChange,s=t.rgb,a=t.hsl,u=t.hex,h=t.disableAlpha,f=Nn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:h}),g=function(p,E){p.hex?jy(p.hex)&&r({hex:p.hex,source:"hex"},E):p.r||p.g||p.b?r({r:p.r||s.r,g:p.g||s.g,b:p.b||s.b,a:s.a,source:"rgb"},E):p.a&&(p.a<0?p.a=0:p.a>100&&(p.a=100),p.a/=100,r({h:a.h,s:a.s,l:a.l,a:p.a,source:"rgb"},E))};return F.default.createElement("div",{style:f.fields,className:"flexbox-fix"},F.default.createElement("div",{style:f.double},F.default.createElement(Ei,{style:{input:f.input,label:f.label},label:"hex",value:u.replace("#",""),onChange:g})),F.default.createElement("div",{style:f.single},F.default.createElement(Ei,{style:{input:f.input,label:f.label},label:"r",value:s.r,onChange:g,dragLabel:"true",dragMax:"255"})),F.default.createElement("div",{style:f.single},F.default.createElement(Ei,{style:{input:f.input,label:f.label},label:"g",value:s.g,onChange:g,dragLabel:"true",dragMax:"255"})),F.default.createElement("div",{style:f.single},F.default.createElement(Ei,{style:{input:f.input,label:f.label},label:"b",value:s.b,onChange:g,dragLabel:"true",dragMax:"255"})),F.default.createElement("div",{style:f.alpha},F.default.createElement(Ei,{style:{input:f.input,label:f.label},label:"a",value:Math.round(s.a*100),onChange:g,dragLabel:"true",dragMax:"100"})))},kJe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lge=function(t){var r=t.colors,s=t.onClick,a=s===void 0?function(){}:s,u=t.onSwatchHover,h=Nn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),f=function(v,p){a({hex:v,source:"hex"},p)};return F.default.createElement("div",{style:h.colors,className:"flexbox-fix"},r.map(function(g){var v=typeof g=="string"?{color:g}:g,p=""+v.color+(v.title||"");return F.default.createElement("div",{key:p,style:h.swatchWrap},F.default.createElement(pT,kJe({},v,{style:h.swatch,onClick:f,onHover:u,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+v.color}})))}))};lge.propTypes={colors:$.exports.arrayOf($.exports.oneOfType([$.exports.string,$.exports.shape({color:$.exports.string,title:$.exports.string})])).isRequired};var RJe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uq=function(t){var r=t.width,s=t.rgb,a=t.hex,u=t.hsv,h=t.hsl,f=t.onChange,g=t.onSwatchHover,v=t.disableAlpha,p=t.presetColors,E=t.renderers,T=t.styles,S=T===void 0?{}:T,x=t.className,O=x===void 0?"":x,P=Nn(nc({default:RJe({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+s.r+","+s.g+","+s.b+","+s.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},S),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},S),{disableAlpha:v});return F.default.createElement("div",{style:P.picker,className:"sketch-picker "+O},F.default.createElement("div",{style:P.saturation},F.default.createElement(i8,{style:P.Saturation,hsl:h,hsv:u,onChange:f})),F.default.createElement("div",{style:P.controls,className:"flexbox-fix"},F.default.createElement("div",{style:P.sliders},F.default.createElement("div",{style:P.hue},F.default.createElement(QC,{style:P.Hue,hsl:h,onChange:f})),F.default.createElement("div",{style:P.alpha},F.default.createElement(qY,{style:P.Alpha,rgb:s,hsl:h,renderers:E,onChange:f}))),F.default.createElement("div",{style:P.color},F.default.createElement(KC,null),F.default.createElement("div",{style:P.activeColor}))),F.default.createElement(OJe,{rgb:s,hsl:h,hex:a,onChange:f,disableAlpha:v}),F.default.createElement(lge,{colors:p,onClick:f,onSwatchHover:g}))};uq.propTypes={disableAlpha:$.exports.bool,width:$.exports.oneOfType([$.exports.string,$.exports.number]),styles:$.exports.object},uq.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const PJe=ic(uq);var qN=function(t){var r=t.hsl,s=t.offset,a=t.onClick,u=a===void 0?function(){}:a,h=t.active,f=t.first,g=t.last,v=Nn({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+s*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:h,first:f,last:g}),p=function(T){return u({h:r.h,s:.5,l:s,source:"hsl"},T)};return F.default.createElement("div",{style:v.swatch,onClick:p})},NJe=function(t){var r=t.onClick,s=t.hsl,a=Nn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),u=.1;return F.default.createElement("div",{style:a.swatches},F.default.createElement("div",{style:a.swatch},F.default.createElement(qN,{hsl:s,offset:".80",active:Math.abs(s.l-.8)<u&&Math.abs(s.s-.5)<u,onClick:r,first:!0})),F.default.createElement("div",{style:a.swatch},F.default.createElement(qN,{hsl:s,offset:".65",active:Math.abs(s.l-.65)<u&&Math.abs(s.s-.5)<u,onClick:r})),F.default.createElement("div",{style:a.swatch},F.default.createElement(qN,{hsl:s,offset:".50",active:Math.abs(s.l-.5)<u&&Math.abs(s.s-.5)<u,onClick:r})),F.default.createElement("div",{style:a.swatch},F.default.createElement(qN,{hsl:s,offset:".35",active:Math.abs(s.l-.35)<u&&Math.abs(s.s-.5)<u,onClick:r})),F.default.createElement("div",{style:a.swatch},F.default.createElement(qN,{hsl:s,offset:".20",active:Math.abs(s.l-.2)<u&&Math.abs(s.s-.5)<u,onClick:r,last:!0})),F.default.createElement("div",{style:a.clear}))},MJe=function(){var t=Nn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.default.createElement("div",{style:t.picker})},cq=function(t){var r=t.hsl,s=t.onChange,a=t.pointer,u=t.styles,h=u===void 0?{}:u,f=t.className,g=f===void 0?"":f,v=Nn(nc({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},h));return F.default.createElement("div",{style:v.wrap||{},className:"slider-picker "+g},F.default.createElement("div",{style:v.hue},F.default.createElement(QC,{style:v.Hue,hsl:r,pointer:a,onChange:s})),F.default.createElement("div",{style:v.swatches},F.default.createElement(NJe,{hsl:r,onClick:s})))};cq.propTypes={styles:$.exports.object},cq.defaultProps={pointer:MJe,styles:{}},ic(cq);var uge={};Object.defineProperty(uge,"__esModule",{value:!0});var cge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LJe=F.default,hge=FJe(LJe);function FJe(e){return e&&e.__esModule?e:{default:e}}function BJe(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}var s8=24,HJe=uge.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,s=e.width,a=s===void 0?s8:s,u=e.height,h=u===void 0?s8:u,f=e.style,g=f===void 0?{}:f,v=BJe(e,["fill","width","height","style"]);return hge.default.createElement("svg",cge({viewBox:"0 0 "+s8+" "+s8,style:cge({fill:r,width:a,height:h},g)},v),hge.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},UJe=function(t){var r=t.color,s=t.onClick,a=s===void 0?function(){}:s,u=t.onSwatchHover,h=t.first,f=t.last,g=t.active,v=Nn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:eq(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:h,last:f,active:g,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return F.default.createElement(pT,{color:r,style:v.color,onClick:a,onHover:u,focusStyle:{boxShadow:"0 0 4px "+r}},F.default.createElement("div",{style:v.check},F.default.createElement(HJe,null)))},GJe=function(t){var r=t.onClick,s=t.onSwatchHover,a=t.group,u=t.active,h=Nn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return F.default.createElement("div",{style:h.group},Vy(a,function(f,g){return F.default.createElement(UJe,{key:f,color:f,active:f.toLowerCase()===u,first:g===0,last:g===a.length-1,onClick:r,onSwatchHover:s})}))},hq=function(t){var r=t.width,s=t.height,a=t.onChange,u=t.onSwatchHover,h=t.colors,f=t.hex,g=t.styles,v=g===void 0?{}:g,p=t.className,E=p===void 0?"":p,T=Nn(nc({default:{picker:{width:r,height:s},overflow:{height:s,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},v)),S=function(O,P){return a({hex:O,source:"hex"},P)};return F.default.createElement("div",{style:T.picker,className:"swatches-picker "+E},F.default.createElement(VN,null,F.default.createElement("div",{style:T.overflow},F.default.createElement("div",{style:T.body},Vy(h,function(x){return F.default.createElement(GJe,{key:x.toString(),group:x,active:f,onClick:S,onSwatchHover:u})}),F.default.createElement("div",{style:T.clear})))))};hq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),height:$.exports.oneOfType([$.exports.string,$.exports.number]),colors:$.exports.arrayOf($.exports.arrayOf($.exports.string)),styles:$.exports.object},hq.defaultProps={width:320,height:240,colors:[[JC[900],JC[700],JC[500],JC[300],JC[100]],[ex[900],ex[700],ex[500],ex[300],ex[100]],[tx[900],tx[700],tx[500],tx[300],tx[100]],[rx[900],rx[700],rx[500],rx[300],rx[100]],[nx[900],nx[700],nx[500],nx[300],nx[100]],[ix[900],ix[700],ix[500],ix[300],ix[100]],[ax[900],ax[700],ax[500],ax[300],ax[100]],[ox[900],ox[700],ox[500],ox[300],ox[100]],[sx[900],sx[700],sx[500],sx[300],sx[100]],["#194D33",YN[700],YN[500],YN[300],YN[100]],[lx[900],lx[700],lx[500],lx[300],lx[100]],[ux[900],ux[700],ux[500],ux[300],ux[100]],[cx[900],cx[700],cx[500],cx[300],cx[100]],[hx[900],hx[700],hx[500],hx[300],hx[100]],[fx[900],fx[700],fx[500],fx[300],fx[100]],[dx[900],dx[700],dx[500],dx[300],dx[100]],[px[900],px[700],px[500],px[300],px[100]],[mx[900],mx[700],mx[500],mx[300],mx[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},ic(hq);var fq=function(t){var r=t.onChange,s=t.onSwatchHover,a=t.hex,u=t.colors,h=t.width,f=t.triangle,g=t.styles,v=g===void 0?{}:g,p=t.className,E=p===void 0?"":p,T=Nn(nc({default:{card:{width:h,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},v),{"hide-triangle":f==="hide","top-left-triangle":f==="top-left","top-right-triangle":f==="top-right"}),S=function(O,P){jy(O)&&r({hex:O,source:"hex"},P)};return F.default.createElement("div",{style:T.card,className:"twitter-picker "+E},F.default.createElement("div",{style:T.triangleShadow}),F.default.createElement("div",{style:T.triangle}),F.default.createElement("div",{style:T.body},Vy(u,function(x,O){return F.default.createElement(pT,{key:O,color:x,hex:x,style:T.swatch,onClick:S,onHover:s,focusStyle:{boxShadow:"0 0 4px "+x}})}),F.default.createElement("div",{style:T.hash},"#"),F.default.createElement(Ei,{label:null,style:{input:T.input},value:a.replace("#",""),onChange:S}),F.default.createElement("div",{style:T.clear})))};fq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),triangle:$.exports.oneOf(["hide","top-left","top-right"]),colors:$.exports.arrayOf($.exports.string),styles:$.exports.object},fq.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},ic(fq);var dq=function(t){var r=Nn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return F.default.createElement("div",{style:r.picker})};dq.propTypes={hsl:$.exports.shape({h:$.exports.number,s:$.exports.number,l:$.exports.number,a:$.exports.number})},dq.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var pq=function(t){var r=Nn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return F.default.createElement("div",{style:r.picker})};pq.propTypes={hsl:$.exports.shape({h:$.exports.number,s:$.exports.number,l:$.exports.number,a:$.exports.number})},pq.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var $Je=function(t){var r=t.onChange,s=t.rgb,a=t.hsl,u=t.hex,h=t.hsv,f=function(S,x){if(S.hex)jy(S.hex)&&r({hex:S.hex,source:"hex"},x);else if(S.rgb){var O=S.rgb.split(",");tq(S.rgb,"rgb")&&r({r:O[0],g:O[1],b:O[2],a:1,source:"rgb"},x)}else if(S.hsv){var P=S.hsv.split(",");tq(S.hsv,"hsv")&&(P[2]=P[2].replace("%",""),P[1]=P[1].replace("%",""),P[0]=P[0].replace("",""),P[1]==1?P[1]=.01:P[2]==1&&(P[2]=.01),r({h:Number(P[0]),s:Number(P[1]),v:Number(P[2]),source:"hsv"},x))}else if(S.hsl){var M=S.hsl.split(",");tq(S.hsl,"hsl")&&(M[2]=M[2].replace("%",""),M[1]=M[1].replace("%",""),M[0]=M[0].replace("",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),r({h:Number(M[0]),s:Number(M[1]),v:Number(M[2]),source:"hsl"},x))}},g=Nn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),v=s.r+", "+s.g+", "+s.b,p=Math.round(a.h)+", "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%",E=Math.round(h.h)+", "+Math.round(h.s*100)+"%, "+Math.round(h.v*100)+"%";return F.default.createElement("div",{style:g.wrap,className:"flexbox-fix"},F.default.createElement("div",{style:g.fields},F.default.createElement("div",{style:g.double},F.default.createElement(Ei,{style:{input:g.input,label:g.label},label:"hex",value:u,onChange:f})),F.default.createElement("div",{style:g.column},F.default.createElement("div",{style:g.single},F.default.createElement(Ei,{style:{input:g.input2,label:g.label2},label:"rgb",value:v,onChange:f})),F.default.createElement("div",{style:g.single},F.default.createElement(Ei,{style:{input:g.input2,label:g.label2},label:"hsv",value:E,onChange:f})),F.default.createElement("div",{style:g.single},F.default.createElement(Ei,{style:{input:g.input2,label:g.label2},label:"hsl",value:p,onChange:f})))))},mq=function(t){var r=t.width,s=t.onChange,a=t.rgb,u=t.hsl,h=t.hsv,f=t.hex,g=t.header,v=t.styles,p=v===void 0?{}:v,E=t.className,T=E===void 0?"":E,S=Nn(nc({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},p));return F.default.createElement("div",{style:S.picker,className:"google-picker "+T},F.default.createElement("div",{style:S.head},g),F.default.createElement("div",{style:S.swatch}),F.default.createElement("div",{style:S.saturation},F.default.createElement(i8,{hsl:u,hsv:h,pointer:dq,onChange:s})),F.default.createElement("div",{style:S.body},F.default.createElement("div",{style:S.controls,className:"flexbox-fix"},F.default.createElement("div",{style:S.hue},F.default.createElement(QC,{style:S.Hue,hsl:u,radius:"4px",pointer:pq,onChange:s}))),F.default.createElement($Je,{rgb:a,hsl:u,hex:f,hsv:h,onChange:s})))};mq.propTypes={width:$.exports.oneOfType([$.exports.string,$.exports.number]),styles:$.exports.object,header:$.exports.string},mq.defaultProps={width:652,styles:{},header:"Color picker"},ic(mq);let fge=function(e){c(r,e);var t=d(r);function r(s){var a;L(this,r),a=t.call(this,s);const u=tg(s.color);return a.state={displayColorPicker:!1,color:{r:u.r,g:u.g,b:u.b,a:u.opacity}},a}return V(r,[{key:"handleClick",value:function(){this.setState(a=>({displayColorPicker:!a.displayColorPicker}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(a){const u=a.rgb,h=`rgba(${u.r},${u.g},${u.b},${u.a})`;this.props.onChange(h),this.setState({color:a.rgb})}},{key:"render",value:function(){const a=Nn({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:`rgba(${this.state.color.r}, ${this.state.color.g}, ${this.state.color.b}, ${this.state.color.a})`},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return F.default.createElement("div",null,F.default.createElement("div",{onClick:this.handleClick.bind(this),style:a.swatch},F.default.createElement("div",{style:a.color})),this.state.displayColorPicker?F.default.createElement("div",{style:a.popover},F.default.createElement("div",{onClick:this.handleClose.bind(this),style:a.cover}),F.default.createElement(PJe,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),r}(F.default.Component);fge.propTypes={color:$.exports.string,onChange:$.exports.func};let gq=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={colors:s.track.options.colorRange.slice()},a}return V(r,[{key:"handleColorsChanged",value:function(a){this.setState({colors:a})}},{key:"handleSubmit",value:function(){const a=this.props.track.options;a.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState(a=>({colors:a.colors.concat(a.colors[a.colors.length-1])}))}},{key:"handleRemoveColor",value:function(a){this.setState(u=>({colors:u.colors.slice(0,a).concat(u.colors.slice(a+1))}))}},{key:"render",value:function(){const a=JSON.parse(JSON.stringify(this.props.track)),u=Object.assign(a,{options:{colorRange:this.state.colors}}),h={editable:!1,zoomFixed:!0,views:[{uid:`hmo-${this.props.track.uid}`,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[u]},layout:{x:0,y:0,h:12,w:12,i:`hmo-${this.props.track.id}`}}]},f=this.state.colors.map((v,p)=>{const E=this.state.colors.length>2&&p===this.state.colors.length-1?F.default.createElement("div",{onClick:()=>this.handleRemoveColor(p),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},F.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},F.default.createElement("use",{xlinkHref:"#cross"}))):null;return F.default.createElement("div",{key:`l${p}`,style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},E,F.default.createElement(fge,{key:p,color:this.state.colors[p],onChange:T=>{this.setState(S=>{const x=S.colors.slice();return x[p]=T,{colors:x}},()=>{this.handleColorsChanged(this.state.colors)})}}))}).reverse(),g=this.state.colors.length<10?F.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},F.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},F.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},F.default.createElement("use",{xlinkHref:"#plus"})))):null;return F.default.createElement(IN,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},F.default.createElement("table",{className:"table-track-options"},F.default.createElement("thead",null),F.default.createElement("tbody",{style:{verticalAlign:"top"}},F.default.createElement("tr",null,F.default.createElement("td",{className:"td-track-options"},F.default.createElement("table",null,F.default.createElement("tbody",null,F.default.createElement("tr",null,F.default.createElement("td",{className:"td-track-options"},"Preview")),F.default.createElement("tr",null,F.default.createElement("td",{className:"td-track-options"},F.default.createElement("div",{style:{width:200}},F.default.createElement(I8,{options:{bounded:!1},viewConfig:h}))))))),F.default.createElement("td",{className:"td-track-options"},F.default.createElement("table",null,F.default.createElement("tbody",null,F.default.createElement("tr",null,F.default.createElement("td",{className:"td-track-options"},"Colors")),F.default.createElement("tr",null,F.default.createElement("td",{className:"td-track-options"},g,F.default.createElement("div",{style:{position:"relative"}},f))))))))))}}]),r}(F.default.Component);gq.propTypes={handleCancel:$.exports.func,onCancel:$.exports.func,onSubmit:$.exports.func,track:$.exports.object,xScale:$.exports.object,yScale:$.exports.object};const dge=e=>{if(!e.header)return[];const t=e.header.split("	"),r=[];for(let s=0;s<t.length;s++)r.push({name:t[s],value:s+1});return r},gx=(e,t="",r=1)=>e.reduce((s,a)=>(s[a]={name:`${a*r}${t}`,value:a},s),{}),Zc={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},ho={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},zJe={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},ZN=gx([1,2,3,5,8,13,21]),VJe=Object.assign(ZN,{none:{name:"none",value:"none"}}),l8=gx([0,2,4,8,16,32,64,128,256]),Wy=gx([0,.2,.4,.6,.8,1],"%",100),jJe=gx([.2,.4,.6,.8,1],"%",100),el={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:l8},labelRightMargin:{name:"Label Right Margin",inlineOptions:l8},labelTopMargin:{name:"Label Top Margin",inlineOptions:l8},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:l8},labelShowResolution:{name:"Label Show Resolution",inlineOptions:Zc},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:Zc},lineStrokeWidth:{name:"Stroke Width",inlineOptions:ZN},strokeWidth:{name:"Stroke Width",inlineOptions:ZN},trackBorderWidth:{name:"Track Border Width",inlineOptions:ZN},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:Zc},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:Zc},showTexts:{name:"Show texts",inlineOptions:Zc},staggered:{name:"Staggered",inlineOptions:Zc},minSquareSize:{name:"Minimum size",inlineOptions:VJe},pointSize:{name:"Point Size",inlineOptions:ZN},pointColor:{name:"Point Color",inlineOptions:ho},trackBorderColor:{name:"Track Border Color",inlineOptions:ho},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:ho},plusStrandColor:{name:"+ Strand Color",inlineOptions:ho},lineStrokeColor:{name:"Stroke color",inlineOptions:ho},projectionStrokeColor:{name:"Stroke color",inlineOptions:ho},projectionFillColor:{name:"Fill color",inlineOptions:ho},stroke:{name:"Stroke Color",inlineOptions:ho},strokeColor:{name:"Stroke color",inlineOptions:ho},fill:{name:"Fill Color",inlineOptions:ho},color:{name:"Color",inlineOptions:ho},fontColor:{name:"Font color",inlineOptions:ho},fillColor:{name:"Fill color",inlineOptions:ho},barFillColor:{name:"Fill color",inlineOptions:ho},barFillColorTop:{name:"Top Fill color",inlineOptions:ho},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:ho},barOpacity:{name:"Bar opacity",inlineOptions:Wy},zeroLineVisible:{name:"Zero line visible",inlineOptions:Zc},zeroLineColor:{name:"Zero line color",inlineOptions:ho},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:jJe},fillOpacity:{name:"Fill Opacity",inlineOptions:Wy},strokeOpacity:{name:"Stroke Opacity",inlineOptions:Wy},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:Zc},scaledHeight:{name:"Scaled height",inlineOptions:Zc},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:ho},rectangleDomainFillColor:{name:"Fill color",inlineOptions:ho},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:Wy},rectangleDomainOpacity:{name:"Opacity",inlineOptions:Wy},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:Zc},showTooltip:{name:"Show Tooltip",inlineOptions:Zc},fontSize:{name:"Font Size",inlineOptions:gx([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:dge},fontIsAligned:{name:"Left-Align Font",inlineOptions:Zc},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:gx([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:ho},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:Wy},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:{...ho,...zJe}},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:Wy},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:ho},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:Wy},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:gq,"horizontal-heatmap":gq}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:Zc},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:e=>{const t=[];if(e.transforms)for(const r of e.transforms)t.push({name:r.name,value:r.value});return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:e=>{const t=[];return e.aggregationModes?Object.values(e.aggregationModes).forEach(({name:r,value:s})=>{t.push({name:r,value:s})}):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:e=>{if(e.maxZoom){const t=[];for(let r=0;r<=e.maxZoom;r++){const{maxWidth:s,binsPerDimension:a,maxZoom:u}=e;let h=1,f=1;if(e.resolutions){const E=e.resolutions.map(T=>+T).sort((T,S)=>S-T);[h]=E,f=E[r]}else f=e.maxWidth/(2**r*e.binsPerDimension),h=s/(2**u*a);const g=hg(h,f),p=mh(`.${g}`,f)(f);t.push({name:p,value:r.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:dge},zeroValueColor:{name:"Zero Value Color",inlineOptions:ho}},pge={...Q0,IS_TRACK_RANGE_SELECTABLE:hy,OPTIONS_INFO:el},WJe={d3Array:UE,d3Axis:T$e,d3Brush:yk,d3Color:DL,d3Drag:O3,d3Dsv:L7,d3Format:YL,d3Geo:_Ve,d3Queue:wVe,d3Request:jVe,d3Scale:a$,d3Selection:ps,d3Transition:NUe,d3Zoom:GUe,PIXI:pge.GLOBALS.PIXI,mix:HC,slugid:Yn},u8={chromosomes:{ChromosomeInfo:om,SearchField:BC},libraries:WJe,tracks:{Annotations1dTrack:hX,Annotations2dTrack:Efe,ArrowheadDomainsTrack:Tfe,BarTrack:iX,BedLikeTrack:ofe,CNVIntervalTrack:dfe,Chromosome2DAnnotations:Cfe,Chromosome2DLabels:wfe,ChromosomeGrid:oN,CombinedTrack:Np,CrossRule:Hfe,DivergentBarTrack:hfe,HeatmapTiledPixiTrack:KP,Horizontal1dHeatmapTrack:ffe,Horizontal2DDomainsTrack:Sfe,HorizontalChromosomeLabels:Ife,HorizontalGeneAnnotationsTrack:cX,HorizontalHeatmapTrack:Dfe,HorizontalLine1DPixiTrack:LC,HorizontalMultivecTrack:cfe,HorizontalPoint1DPixiTrack:ufe,HorizontalRule:Lfe,HorizontalTiled1DPixiTrack:CC,HorizontalTiledPlot:z4,HorizontalTrack:gpe,Id2DTiledPixiTrack:uhe,IdHorizontal1DTiledPixiTrack:che,IdVertical1DTiledPixiTrack:fhe,LeftAxisTrack:vhe,MapboxTilesTrack:Gfe,MoveableTrack:G4,OSMTileIdsTrack:Ufe,OSMTilesTrack:sN,OverlayTrack:lfe,PixiTrack:du,RasterTilesTrack:$fe,SVGTrack:Fy,SquareMarkersTrack:Afe,Tiled1DPixiTrack:HW,TiledPixiTrack:Py,TopAxisTrack:ghe,Track:mC,ValueIntervalTrack:kfe,VerticalRule:Bfe,VerticalTiled1DPixiTrack:hhe,VerticalTrack:bpe,ViewportTracker2D:Rfe,ViewportTracker2DPixi:qVe,ViewportTrackerHorizontal:Pfe,ViewportTrackerVertical:Nfe},dataFetchers:{DataFetcher:T6,GBKDataFetcher:rhe,LocalDataFetcher:nhe,getDataFetcher:oze},factories:{ContextMenuItem:Pn,DataFetcher:T6,LruCache:_pe},services:ez,utils:JUe,configs:pge,VERSION:vY},vq={"track-renderer":"_track-renderer_11dwb_1","track-renderer-element":"_track-renderer-element_11dwb_5","track-renderer-events":"_track-renderer-events_11dwb_6"},{getDataFetcher:XJe}=u8.dataFetchers,YJe=100;let yq=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.dragging=!1,a.element=null,a.closing=!1,a.yPositionOffset=0,a.xPositionOffset=0,a.scrollTop=0,a.scrollTimeout=null,a.activeTransitions=0,a.zoomTransform=Ss,a.windowScrolledBound=a.windowScrolled.bind(b(a)),a.zoomStartedBound=a.zoomStarted.bind(b(a)),a.zoomedBound=a.zoomed.bind(b(a)),a.zoomEndedBound=a.zoomEnded.bind(b(a)),a.uid=Yn.nice(),a.viewUid=a.props.uid,a.availableForPlugins={...u8,services:{...u8.services,pubSub:a.props.pubSub,pixiRenderer:a.props.pixiRenderer}},a.mounted=!1,a.emptyZoomBehavior=aW(),a.currentProps=s,a.prevPropsStr="",a.zoomBehavior=aW().filter(u=>!(u.target.classList.contains("no-zoom")||u.target.classList.contains("react-resizable-handle"))).on("start",a.zoomStartedBound).on("zoom",a.zoomedBound).on("end",a.zoomEndedBound),a.zoomTransform=Ss,a.prevZoomTransform=Ss,a.initialXDomain=[0,1],a.initialYDomain=[0,1],a.xDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a.yDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a.zoomLimits=[0,Number.MAX_SAFE_INTEGER],a.prevCenterX=a.currentProps.paddingLeft+a.currentProps.leftWidth+a.currentProps.centerWidth/2,a.prevCenterY=a.currentProps.paddingTop+a.currentProps.topHeight+a.currentProps.centerHeight/2,a.cumCenterXOffset=0,a.cumCenterYOffset=0,a.setUpInitialScales(a.currentProps.initialXDomain,a.currentProps.initialYDomain,a.currentProps.xDomainLimits,a.currentProps.yDomainLimits,a.currentProps.zoomLimits),a.setUpScales(),a.trackDefObjects={},a.metaTracks={},a.pubSubs=[],window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(u=>{$i[u]=window.higlassTracksByType[u].config}),a.boundForwardEvent=a.forwardEvent.bind(b(a)),a.boundScrollEvent=a.scrollEvent.bind(b(a)),a.boundForwardContextMenu=a.forwardContextMenu.bind(b(a)),a.dispatchEventBound=a.dispatchEvent.bind(b(a)),a.zoomToDataPosHandlerBound=a.zoomToDataPosHandler.bind(b(a)),a.onScrollHandlerBound=a.onScrollHandler.bind(b(a)),a}return V(r,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=Ut(this.element),this.svgTrackAreaSelection=Ut(this.svgTrackArea),this.pStage=new or.PIXI.Graphics,this.pMask=new or.PIXI.Graphics,this.pOutline=new or.PIXI.Graphics,this.pBackground=new or.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),!this.currentProps.svgElement||!this.currentProps.canvasElement)return;this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();const a=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],u=this.svgElement.getBoundingClientRect(),h=[[Math.max(a[0][0],0),Math.max(a[0][1],0)],[Math.min(a[1][0],u.width),Math.min(a[1][1],u.height)]];this.zoomBehavior.extent(h).translateExtent(a).scaleExtent(this.zoomLimits)}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){if(!a.svgElement||!a.canvasElement)return;const u=this.updatablePropsToString(a);if(this.currentProps=a,this.prevPropsStr===u)return;this.setBackground();for(const v in this.trackDefObjects){const p=this.trackDefObjects[v].trackObject;p.delayDrawing=!0}this.prevPropsStr=u,this.setUpInitialScales(a.initialXDomain,a.initialYDomain,a.xDomainLimits,a.yDomainLimits,a.zoomLimits),this.setUpScales(a.width!==this.props.width||a.height!==this.props.height),this.svgElement=a.svgElement;const h=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],f=this.svgElement.getBoundingClientRect(),g=[[Math.max(h[0][0],0),Math.max(h[0][1],0)],[Math.min(h[1][0],f.width),Math.min(h[1][1],f.height)]];this.zoomBehavior.extent(g).translateExtent(h).scaleExtent(this.zoomLimits),this.syncTrackObjects(a.positionedTracks),this.syncMetaTracks(a.metaTracks);for(const v of a.positionedTracks){const p=v.track.options,E=this.trackDefObjects[v.track.uid].trackObject;if(E.rerender(p),v.track.hasOwnProperty("contents")){const T={};for(const S of v.track.contents)T[S.uid]=S;for(const S in E.createdTracks)E.createdTracks[S].rerender(T[S].options)}}this.props.onNewTilesLoaded();for(const v in this.trackDefObjects){const p=this.trackDefObjects[v].trackObject;p.delayDrawing=!1,p.draw()}}},{key:"componentDidUpdate",value:function(a){(this.props.initialXDomain[0]!==a.initialXDomain[0]||this.props.initialXDomain[1]!==a.initialXDomain[1]||this.props.initialYDomain[0]!==a.initialYDomain[0]||this.props.initialYDomain[1]!==a.initialYDomain[1])&&(this.element.__zoom=Ss),a.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),a.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.removeMetaTracks(Object.keys(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach(a=>this.props.pubSub.unsubscribe(a)),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(a){a.sourceUid===this.uid&&a.type!=="contextmenu"&&ry(a,this.element)}},{key:"isWithin",value:function(a,u){if(!this.element)return!1;const h=a>=this.elementPos.left&&a<=this.elementPos.width+this.elementPos.left,f=u>=this.elementPos.top&&u<=this.elementPos.height+this.elementPos.top;return h&&f}},{key:"zoomToDataPosHandler",value:function({pos:a,animateTime:u,isMercator:h}){this.zoomToDataPos(...a,u,h)}},{key:"addZoom",value:function(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){const a=this.props.theme===Gi?"black":"white",u=Kr(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||a);this.pBackground.clear(),this.pBackground.beginFill(u),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.addZoom()},YJe)}},{key:"setUpInitialScales",value:function(a=[0,1],u=[0,1],h=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],f=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],g=[0,Number.MAX_SAFE_INTEGER]){g[0]=g[0]===null?0:g[0],g[1]=g[1]===null?1/0:g[1];const v=a[1]-a[0],p=(u[0]+u[1])/2;if(u[0]=p-v/2,u[1]=p+v/2,a[0]===this.initialXDomain[0]&&a[1]===this.initialXDomain[1]&&u[0]===this.initialYDomain[0]&&u[1]===this.initialYDomain[1]&&h[0]===this.xDomainLimits[0]&&h[1]===this.xDomainLimits[1]&&f[0]===this.yDomainLimits[0]&&f[1]===this.yDomainLimits[1]&&g[0]===this.zoomLimits[0]&&g[1]===this.zoomLimits[1])return;this.initialXDomain=a,this.initialYDomain=u,this.xDomainLimits=h,this.yDomainLimits=f,this.zoomLimits=g,this.zoomTransform=Ss,this.prevZoomTransform=Ss,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=Rn().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([a[0],a[1]]);let E,T;this.currentProps.centerWidth===0?(E=this.currentProps.paddingTop+this.currentProps.topHeight,T=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(E=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,T=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=Rn().domain([E,T]).range([u[0],u[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}},{key:"updatablePropsToString",value:function(a){return JSON.stringify({positionedTracks:a.positionedTracks,initialXDomain:a.initialXDomain,initialYDomain:a.initialYDomain,width:a.width,height:a.height,paddingLeft:a.paddingLeft,paddingTop:a.paddingTop,leftWidth:a.leftWidth,topHeight:a.topHeight,dragging:a.dragging,viewOptions:a.viewOptions})}},{key:"draggingChanged",value:function(a){this.dragging=a,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(a=!1){const u=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,h=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,f=(this.drawableToDomainX(u)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,g=(this.drawableToDomainY(h)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=g,this.cumCenterXOffset+=f,this.prevCenterY=h,this.prevCenterX=u;const v=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],p=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=Rn().domain(v).range([0,this.currentProps.width]),this.yScale=Rn().domain(p).range([0,this.currentProps.height]);for(const E in this.trackDefObjects)this.trackDefObjects[E].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(a)}},{key:"getTrackDef",value:function(a){const u=Ts(this.trackDefObjects);for(const[,{trackDef:h,trackObject:f}]of u){if(f===a)return h.track;if(h.track.contents){for(const g of h.track.contents)if(f.createdTracks[g.uid]===a)return g}}return null}},{key:"getTrackObject",value:function(a){const u=Ts(this.trackDefObjects);for(let h=0;h<u.length;h++){const f=u[h][0],g=u[h][1].trackObject;if(f===a)return g;if(g.createdTracks){const v=Ts(g.createdTracks);for(let p=0;p<v.length;p++){const E=v[p][0],T=v[p][1];if(E===a)return T}}}}},{key:"timedUpdatePositionAndDimensions",value:function(){this.closing||!this.element||(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(a){const u=Object.keys(this.metaTracks),h=new Set(a.map(f=>f.uid));this.addMetaTracks(a.filter(f=>!this.metaTracks[f.uid])),this.updateMetaTracks(a.filter(f=>this.metaTracks[f.uid])),this.removeMetaTracks(u.filter(f=>!h.has(f)))}},{key:"syncTrackObjects",value:function(a){this.prevTrackDefinitions=JSON.stringify(a);const u={};for(let E=0;E<a.length;E++)u[a[E].track.uid]=a[E];const h=new Set(Object.keys(this.trackDefObjects)),f=new Set(Object.keys(u)),g=new Set([...f].filter(E=>!h.has(E))),v=new Set([...h].filter(E=>!f.has(E))),p=new Set([...f].filter(E=>h.has(E)));this.updateExistingTrackDefs([...p].map(E=>u[E])),this.addNewTracks([...g].map(E=>u[E])),this.updateExistingTrackDefs([...g].map(E=>u[E])),this.removeTracks([...v])}},{key:"addMetaTracks",value:function(a){a.filter(u=>!this.metaTracks[u.uid]).forEach(u=>{this.metaTracks[u.uid]={trackDef:u,trackObject:this.createMetaTrack(u)}})}},{key:"addNewTracks",value:function(a){if(this.currentProps.pixiStage){for(let u=0;u<a.length;u++){const h=a[u],f=this.createTrackObject(h.track);f.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[h.track.uid]={trackDef:h,trackObject:f};const g=this.zoomTransform.rescaleX(this.xScale),v=this.zoomTransform.rescaleY(this.yScale);f.setDimensions([h.width,h.height]),f.zoomed(g,v)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(a){for(let h=0;h<a.length;h++)this.trackDefObjects[a[h].track.uid].trackDef=a[h],a[h].track.type==="combined"&&this.trackDefObjects[a[h].track.uid].trackObject.updateContents(a[h].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){let a=!1;for(const u in this.trackDefObjects){const h=this.trackDefObjects[u].trackDef,f=this.trackDefObjects[u].trackObject,g=f.position,v=f.dimensions,p=[this.xPositionOffset+h.left,this.yPositionOffset+h.top],E=[h.width,h.height];(!g||p[0]!==g[0]||p[1]!==g[1])&&(f.setPosition(p),a=!0),(!v||E[0]!==v[0]||E[1]!==v[1])&&(f.setDimensions(E),a=!0)}return a}},{key:"removeMetaTracks",value:function(a){a.forEach(u=>{this.metaTracks[u].trackObject.remove(),this.metaTracks[u]=void 0,delete this.metaTracks[u]})}},{key:"removeTracks",value:function(a){for(let u=0;u<a.length;u++)this.trackDefObjects[a[u]].trackObject.remove(),delete this.trackDefObjects[a[u]]}},{key:"setCenter",value:function(a,u,h,f=!1,g=0,v=this.xScale,p=this.yScale){const T=(this.xScale.invert(1)-this.xScale.invert(0))/h,S=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,x=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,O=S-v(a)*T,P=x-p(u)*T;let M;const G=()=>{const B=Ss.translate(O,P).scale(T);this.zoomTransform=B,this.emptyZoomBehavior.transform(this.elementSelection,B),M=this.applyZoomTransform(f)};if(g){let B=this.elementSelection;this.activeTransitions+=1,document.hidden||(B=B.transition().duration(g)),B.call(this.zoomBehavior.transform,Ss.translate(O,P).scale(T)).on("end",()=>{G(),this.activeTransitions-=1})}else G();return M}},{key:"valueScaleMove",value:function(a){for(const u of this.getTracksAtPosition(...this.zoomStartPos))u.movedY(a);this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(a,u){const h=a.sourceEvent.deltaY,f=a.sourceEvent.deltaMode,v=((E,T)=>E*(T?120:1)/500)(h,f),p=nn(a.sourceEvent,this.props.canvasElement);for(const E of this.getTracksAtPosition(...p)){const T=u==="1d-horizontal"?p[1]-E.position[1]:p[0]-E.position[0];E.zoomedY(T,2**v)}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(a){let u=null;if(this.zoomStartPos){const f=this.getTracksAtPosition(...this.zoomStartPos);if(f.length){const g=f[0],v=this.getTrackDef(g);$i[v.type]&&(u=$i[v.type].orientation),g instanceof pfe&&(u="1d-vertical")}}if(u&&a.sourceEvent){if(a.shiftKey||this.valueScaleZooming){if(a.sourceEvent.deltaY!==void 0){this.valueScaleZoom(a,u);return}u==="1d-horizontal"?this.valueScaleMove(a.sourceEvent.movementY):u==="1d-vertical"&&this.valueScaleMove(a.sourceEvent.movementX)}u==="1d-horizontal"&&a.sourceEvent.movementY?this.valueScaleMove(a.sourceEvent.movementY):u==="1d-vertical"&&a.sourceEvent.movementX&&this.valueScaleMove(a.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?a.transform:Ss,this.prevZoomTransform.k!==this.zoomTransform.k||(u==="1d-horizontal"?this.zoomTransform=Ss.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):u==="1d-vertical"&&(this.zoomTransform=Ss.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",a),a.sourceEvent&&(a.sourceEvent.stopPropagation(),a.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(a,u){const h=[];let f=[];for(const g in this.trackDefObjects){const v=this.trackDefObjects[g].trackObject;v.childTracks?f=f.concat(v.childTracks):f.push(v)}for(const g of f){const v=g.position[0]<=a&&a<=g.position[0]+g.dimensions[0],p=g.position[1]<=u&&u<=g.position[1]+g.dimensions[1];v&&p&&h.push(g)}return h}},{key:"zoomStarted",value:function(a){this.zooming=!0,a&&a.sourceEvent&&(this.zoomStartPos=nn(a.sourceEvent,this.props.canvasElement),a.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(a=!0){const u=this.currentProps,h=u.paddingLeft+u.leftWidth,f=u.paddingTop+u.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);const g=Rn().domain([h,h+u.centerWidth].map(this.zoomedXScale.invert)).range([0,u.centerWidth]),v=Rn().domain([f,f+u.centerHeight].map(this.zoomedYScale.invert)).range([0,u.centerHeight]);for(const p in this.trackDefObjects){const E=this.trackDefObjects[p].trackObject,T=this.trackDefObjects[p].trackDef;let S="unknown";if($i[T.track.type]&&(S=$i[T.track.type].orientation),S==="whole"){const x=Rn().domain([u.paddingLeft,u.width-u.paddingLeft].map(this.zoomedXScale.invert)).range([0,u.width-2*u.paddingLeft]),O=Rn().domain([u.paddingTop,u.height-u.paddingTop].map(this.zoomedYScale.invert)).range([0,u.height-2*u.paddingTop]);E.zoomed(x,O);continue}if(this.trackDefObjects[p].trackDef.track.position==="gallery"){const x=Rn().domain([u.paddingLeft+u.leftWidthNoGallery,u.paddingLeft+u.leftWidth+u.centerWidth+u.galleryDim].map(this.zoomedXScale.invert)).range([0,u.centerWidth+2*u.galleryDim]),O=Rn().domain([u.paddingTop+u.topHeightNoGallery,u.paddingTop+u.topHeight+u.centerHeight+u.galleryDim].map(this.zoomedYScale.invert)).range([0,u.centerHeight-2*u.galleryDim]);E.zoomed(x.copy(),O.copy(),this.zoomTransform.k);continue}E.zoomed(g.copy(),v.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,u.paddingLeft+u.leftWidth,u.paddingTop+u.topHeight)}return this.currentXScale=g,this.currentYScale=v,a&&this.currentProps.onScalesChanged(g,v),[g,v]}},{key:"createMetaTrack",value:function(a){switch(a.type){default:{const u=this.props.pluginTracks[a.type];if(u&&u.isMetaTrack){const h={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:()=>{this.currentProps.onNewTilesLoaded(a.uid)},definition:a};try{return new u.track(this.availableForPlugins,h,a.options)}catch(f){console.error("Plugin meta track",a.type,"failed to instantiate.",f)}}return console.warn(`Unknown meta track of type: ${a.type}`),new Ofe(this.pStage,{name:"Unknown Track Type",type:a.type},()=>this.currentProps.onNewTilesLoaded(a.uid))}}}},{key:"createTrackObject",value:function(a){const u=this.createLocationAgnosticTrackObject(a);return(a.position==="left"||a.position==="right")&&$i[a.type].orientation==="1d-horizontal"?new pfe(u):u}},{key:"createLocationAgnosticTrackObject",value:function(a){const u=p=>{this.currentProps.onTilesetInfoReceived(a.uid,p)};let h=a.data;h||(h={server:T_(a.server),tilesetUid:a.tilesetUid}),a.coordSystem&&(h.coordSystem=a.coordSystem);const f=XJe(h,this.props.pubSub,this.props.pluginDataFetchers,this.availableForPlugins),g={id:a.uid,trackUid:a.uid,trackType:a.type,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:h,dataFetcher:f,getLockGroupExtrema:()=>this.currentProps.getLockGroupExtrema(a.uid),handleTilesetInfoReceived:u,animate:()=>{this.currentProps.onNewTilesLoaded(a.uid)},svgElement:this.svgElement,isValueScaleLocked:()=>this.currentProps.isValueScaleLocked(a.uid),onValueScaleChanged:()=>{this.currentProps.onValueScaleChanged(a.uid)},onTrackOptionsChanged:p=>{this.currentProps.onTrackOptionsChanged(a.uid,p)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:a.chromInfoPath,isShowGlobalMousePosition:()=>this.props.isShowGlobalMousePosition,getTheme:()=>this.props.theme};a.y&&(g.yPosition=a.y),a.x&&(g.xPosition=a.x),a.projectionXDomain&&(g.projectionXDomain=a.projectionXDomain),a.projectionYDomain&&(g.projectionYDomain=a.projectionYDomain);const v=a.options;switch(a.type){case"left-axis":return new vhe(g,v);case"top-axis":return new ghe(g,v);case"heatmap":return new KP(g,v);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new cfe(g,v);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new ffe(g,v);case"line":case"horizontal-line":case"vertical-line":return new LC(g,v);case"point":case"horizontal-point":case"vertical-point":return new ufe(g,v);case"bar":case"horizontal-bar":case"vertical-bar":return new iX(g,v);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new hfe(g,v);case"horizontal-1d-tiles":return new che(g,v);case"vertical-1d-tiles":return new fhe(g,v);case"2d-tiles":return new uhe(g,v);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new dfe(g,v);case"viewport-projection-center":return a.registerViewportChanged&&a.removeViewportChanged&&a.setDomainsCallback?(g.registerViewportChanged=a.registerViewportChanged,g.removeViewportChanged=a.removeViewportChanged,g.setDomainsCallback=a.setDomainsCallback,new Rfe(g,v)):new mC(g,v);case"viewport-projection-horizontal":return a.registerViewportChanged&&a.removeViewportChanged&&a.setDomainsCallback?(g.registerViewportChanged=a.registerViewportChanged,g.removeViewportChanged=a.removeViewportChanged,g.setDomainsCallback=a.setDomainsCallback,new Pfe(g,v)):new mC(g,v);case"viewport-projection-vertical":return a.registerViewportChanged&&a.removeViewportChanged&&a.setDomainsCallback?(g.registerViewportChanged=a.registerViewportChanged,g.removeViewportChanged=a.removeViewportChanged,g.setDomainsCallback=a.setDomainsCallback,new Nfe(g,v)):new mC(g,v);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new cX(g,v);case"2d-rectangle-domains":case"arrowhead-domains":return new Tfe(g,v);case"horizontal-1d-annotations":return new hX(g,v);case"vertical-1d-annotations":return new hX(g,v,!0);case"2d-annotations":return new Efe(g,v);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new Sfe(g,v);case"square-markers":return new Afe(g,v);case"combined":return g.tracks=a.contents,g.createTrackObject=this.createTrackObject.bind(this),new Np(g,v);case"2d-chromosome-labels":return new wfe(g,v);case"horizontal-chromosome-grid":return g.orientation="1d-horizontal",new oN(g,v);case"vertical-chromosome-grid":return g.orientation="1d-vertical",new oN(g,v);case"2d-chromosome-grid":return new oN(g,v);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new Ife(g,v);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new Dfe(g,v);case"2d-chromosome-annotations":return new Cfe(g,v);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new kfe(g,v);case"osm":case"osm-tiles":return new sN(g,v);case"osm-2d-tile-ids":return new Ufe(g,v);case"mapbox":case"mapbox-tiles":return new Gfe(g,v);case"raster-tiles":return new $fe(g,v);case"bedlike":case"vertical-bedlike":return new ofe(g,v);case"overlay-track":return new lfe(g,v);case"overlay-chromosome-grid-track":return g.isOverlay=!0,new oN(g,v);case"horizontal-rule":return new Lfe(g,v);case"vertical-rule":return new Bfe(g,v);case"cross-rule":return g.x=a.x,g.y=a.y,new Hfe(g,v);case"simple-svg":return new Fy(g,v);case"empty":return new du(g,v);default:{const p=this.props.pluginTracks[a.type];if(p&&!p.isMetaTrack){g.AVAILABLE_FOR_PLUGINS=this.availableForPlugins,g.baseEl=this.baseEl,g.definition=a,a.registerViewportChanged&&a.removeViewportChanged&&a.setDomainsCallback&&(g.registerViewportChanged=a.registerViewportChanged,g.removeViewportChanged=a.removeViewportChanged,g.setDomainsCallback=a.setDomainsCallback);try{return new p.track(this.availableForPlugins,g,v)}catch(E){console.error("Plugin track",a.type,"failed to instantiate.",E)}}return console.warn("Unknown track type:",a.type),new Ofe(g,{name:"Unknown Track Type",type:a.type})}}}},{key:"zoomToDataPos",value:function(a,u,h,f,g=3e3,v=null){const[p,E,T]=Po(this.xScale.copy().domain([a,u]),this.yScale.copy().domain([h,f])),S=v?v(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(p,E,T,!1,g,S[0],S[1])}},{key:"forwardContextMenu",value:function(a){this.props.disableTrackMenu||a.altKey||(a.preventDefault(),setTimeout(()=>{this.props.pubSub.publish("contextmenu",a)},0))}},{key:"addEventTracker",value:function(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(a){a.sourceUid=this.uid,a.forwarded=!0,this.props.pubSub.publish("app.event",a)}},{key:"onScrollHandler",value:function(a){this.scrollTop=a}},{key:"render",value:function(){return F.default.createElement("div",{ref:a=>{this.baseEl=a},className:si("track-renderer-div",vq["track-renderer"]),style:{height:this.currentProps.height,width:this.currentProps.width}},F.default.createElement("div",{ref:a=>{this.element=a},className:si("track-renderer-element",vq["track-renderer-element"])}),F.default.createElement("div",{ref:a=>{this.eventTracker=a},className:si("track-renderer-events",vq["track-renderer-events"])},this.currentProps.children))}}]),r}(F.default.Component);yq.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},yq.propTypes={canvasElement:$.exports.object,centerHeight:$.exports.number,centerWidth:$.exports.number,children:$.exports.array,disableTrackMenu:$.exports.bool,galleryDim:$.exports.number,height:$.exports.number,initialXDomain:$.exports.array,initialYDomain:$.exports.array,isShowGlobalMousePosition:$.exports.bool,isRangeSelection:$.exports.bool,leftWidth:$.exports.number,leftWidthNoGallery:$.exports.number,paddingLeft:$.exports.number,paddingTop:$.exports.number,metaTracks:$.exports.array,onMouseMoveZoom:$.exports.func,onNewTilesLoaded:$.exports.func.isRequired,onScalesChanged:$.exports.func.isRequired,pixiRenderer:$.exports.object.isRequired,pixiStage:$.exports.object.isRequired,pluginDataFetchers:$.exports.object,pluginTracks:$.exports.object,positionedTracks:$.exports.array,pubSub:$.exports.object.isRequired,setCentersFunction:$.exports.func,svgElement:$.exports.object.isRequired,theme:$.exports.symbol.isRequired,topHeight:$.exports.number,topHeightNoGallery:$.exports.number,viewOptions:$.exports.object,width:$.exports.number,xDomainLimits:$.exports.array,yDomainLimits:$.exports.array,valueScaleZoom:$.exports.bool,zoomable:$.exports.bool.isRequired,zoomDomain:$.exports.array};const qJe=pC(V_(yq));var mge={exports:{}};/*! react-checkbox-tree - v1.8.0 | 2022 */(function(e,t){/*! For license information please see index.browser.js.LICENSE.txt */(function(r,s){e.exports=s(F.default)})(self,r=>(()=>{var s={4184:(f,g)=>{var v;(function(){var p={}.hasOwnProperty;function E(){for(var T=[],S=0;S<arguments.length;S++){var x=arguments[S];if(x){var O=typeof x;if(O==="string"||O==="number")T.push(x);else if(Array.isArray(x)){if(x.length){var P=E.apply(null,x);P&&T.push(P)}}else if(O==="object")if(x.toString===Object.prototype.toString)for(var M in x)p.call(x,M)&&x[M]&&T.push(M);else T.push(x.toString())}}return T.join(" ")}f.exports?(E.default=E,f.exports=E):(v=(function(){return E}).apply(g,[]))===void 0||(f.exports=v)})()},8552:(f,g,v)=>{var p=v(852)(v(5639),"DataView");f.exports=p},1989:(f,g,v)=>{var p=v(1789),E=v(401),T=v(7667),S=v(1327),x=v(1866);function O(P){var M=-1,G=P==null?0:P.length;for(this.clear();++M<G;){var B=P[M];this.set(B[0],B[1])}}O.prototype.clear=p,O.prototype.delete=E,O.prototype.get=T,O.prototype.has=S,O.prototype.set=x,f.exports=O},8407:(f,g,v)=>{var p=v(7040),E=v(4125),T=v(2117),S=v(7518),x=v(4705);function O(P){var M=-1,G=P==null?0:P.length;for(this.clear();++M<G;){var B=P[M];this.set(B[0],B[1])}}O.prototype.clear=p,O.prototype.delete=E,O.prototype.get=T,O.prototype.has=S,O.prototype.set=x,f.exports=O},7071:(f,g,v)=>{var p=v(852)(v(5639),"Map");f.exports=p},3369:(f,g,v)=>{var p=v(4785),E=v(1285),T=v(6e3),S=v(9916),x=v(5265);function O(P){var M=-1,G=P==null?0:P.length;for(this.clear();++M<G;){var B=P[M];this.set(B[0],B[1])}}O.prototype.clear=p,O.prototype.delete=E,O.prototype.get=T,O.prototype.has=S,O.prototype.set=x,f.exports=O},3818:(f,g,v)=>{var p=v(852)(v(5639),"Promise");f.exports=p},8525:(f,g,v)=>{var p=v(852)(v(5639),"Set");f.exports=p},8668:(f,g,v)=>{var p=v(3369),E=v(619),T=v(2385);function S(x){var O=-1,P=x==null?0:x.length;for(this.__data__=new p;++O<P;)this.add(x[O])}S.prototype.add=S.prototype.push=E,S.prototype.has=T,f.exports=S},6384:(f,g,v)=>{var p=v(8407),E=v(7465),T=v(3779),S=v(7599),x=v(4758),O=v(4309);function P(M){var G=this.__data__=new p(M);this.size=G.size}P.prototype.clear=E,P.prototype.delete=T,P.prototype.get=S,P.prototype.has=x,P.prototype.set=O,f.exports=P},2705:(f,g,v)=>{var p=v(5639).Symbol;f.exports=p},1149:(f,g,v)=>{var p=v(5639).Uint8Array;f.exports=p},577:(f,g,v)=>{var p=v(852)(v(5639),"WeakMap");f.exports=p},4963:f=>{f.exports=function(g,v){for(var p=-1,E=g==null?0:g.length,T=0,S=[];++p<E;){var x=g[p];v(x,p,g)&&(S[T++]=x)}return S}},4636:(f,g,v)=>{var p=v(2545),E=v(5694),T=v(1469),S=v(4144),x=v(5776),O=v(6719),P=Object.prototype.hasOwnProperty;f.exports=function(M,G){var B=T(M),U=!B&&E(M),j=!B&&!U&&S(M),Z=!B&&!U&&!j&&O(M),ee=B||U||j||Z,J=ee?p(M.length,String):[],he=J.length;for(var pe in M)!G&&!P.call(M,pe)||ee&&(pe=="length"||j&&(pe=="offset"||pe=="parent")||Z&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||x(pe,he))||J.push(pe);return J}},2488:f=>{f.exports=function(g,v){for(var p=-1,E=v.length,T=g.length;++p<E;)g[T+p]=v[p];return g}},2908:f=>{f.exports=function(g,v){for(var p=-1,E=g==null?0:g.length;++p<E;)if(v(g[p],p,g))return!0;return!1}},8470:(f,g,v)=>{var p=v(7813);f.exports=function(E,T){for(var S=E.length;S--;)if(p(E[S][0],T))return S;return-1}},8866:(f,g,v)=>{var p=v(2488),E=v(1469);f.exports=function(T,S,x){var O=S(T);return E(T)?O:p(O,x(T))}},4239:(f,g,v)=>{var p=v(2705),E=v(9607),T=v(2333),S=p?p.toStringTag:void 0;f.exports=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":S&&S in Object(x)?E(x):T(x)}},9454:(f,g,v)=>{var p=v(4239),E=v(7005);f.exports=function(T){return E(T)&&p(T)=="[object Arguments]"}},939:(f,g,v)=>{var p=v(2492),E=v(7005);f.exports=function T(S,x,O,P,M){return S===x||(S==null||x==null||!E(S)&&!E(x)?S!=S&&x!=x:p(S,x,O,P,T,M))}},2492:(f,g,v)=>{var p=v(6384),E=v(7114),T=v(8351),S=v(6096),x=v(4160),O=v(1469),P=v(4144),M=v(6719),G="[object Arguments]",B="[object Array]",U="[object Object]",j=Object.prototype.hasOwnProperty;f.exports=function(Z,ee,J,he,pe,ae){var ye=O(Z),Ee=O(ee),ue=ye?B:x(Z),be=Ee?B:x(ee),Me=(ue=ue==G?U:ue)==U,Xe=(be=be==G?U:be)==U,rt=ue==be;if(rt&&P(Z)){if(!P(ee))return!1;ye=!0,Me=!1}if(rt&&!Me)return ae||(ae=new p),ye||M(Z)?E(Z,ee,J,he,pe,ae):T(Z,ee,ue,J,he,pe,ae);if(!(1&J)){var st=Me&&j.call(Z,"__wrapped__"),mt=Xe&&j.call(ee,"__wrapped__");if(st||mt){var kt=st?Z.value():Z,Le=mt?ee.value():ee;return ae||(ae=new p),pe(kt,Le,J,he,ae)}}return!!rt&&(ae||(ae=new p),S(Z,ee,J,he,pe,ae))}},8458:(f,g,v)=>{var p=v(3560),E=v(5346),T=v(3218),S=v(346),x=/^\[object .+?Constructor\]$/,O=Function.prototype,P=Object.prototype,M=O.toString,G=P.hasOwnProperty,B=RegExp("^"+M.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");f.exports=function(U){return!(!T(U)||E(U))&&(p(U)?B:x).test(S(U))}},8749:(f,g,v)=>{var p=v(4239),E=v(1780),T=v(7005),S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object Boolean]"]=S["[object DataView]"]=S["[object Date]"]=S["[object Error]"]=S["[object Function]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object WeakMap]"]=!1,f.exports=function(x){return T(x)&&E(x.length)&&!!S[p(x)]}},280:(f,g,v)=>{var p=v(5726),E=v(6916),T=Object.prototype.hasOwnProperty;f.exports=function(S){if(!p(S))return E(S);var x=[];for(var O in Object(S))T.call(S,O)&&O!="constructor"&&x.push(O);return x}},2545:f=>{f.exports=function(g,v){for(var p=-1,E=Array(g);++p<g;)E[p]=v(p);return E}},1717:f=>{f.exports=function(g){return function(v){return g(v)}}},4757:f=>{f.exports=function(g,v){return g.has(v)}},4429:(f,g,v)=>{var p=v(5639)["__core-js_shared__"];f.exports=p},7114:(f,g,v)=>{var p=v(8668),E=v(2908),T=v(4757);f.exports=function(S,x,O,P,M,G){var B=1&O,U=S.length,j=x.length;if(U!=j&&!(B&&j>U))return!1;var Z=G.get(S),ee=G.get(x);if(Z&&ee)return Z==x&&ee==S;var J=-1,he=!0,pe=2&O?new p:void 0;for(G.set(S,x),G.set(x,S);++J<U;){var ae=S[J],ye=x[J];if(P)var Ee=B?P(ye,ae,J,x,S,G):P(ae,ye,J,S,x,G);if(Ee!==void 0){if(Ee)continue;he=!1;break}if(pe){if(!E(x,function(ue,be){if(!T(pe,be)&&(ae===ue||M(ae,ue,O,P,G)))return pe.push(be)})){he=!1;break}}else if(ae!==ye&&!M(ae,ye,O,P,G)){he=!1;break}}return G.delete(S),G.delete(x),he}},8351:(f,g,v)=>{var p=v(2705),E=v(1149),T=v(7813),S=v(7114),x=v(8776),O=v(1814),P=p?p.prototype:void 0,M=P?P.valueOf:void 0;f.exports=function(G,B,U,j,Z,ee,J){switch(U){case"[object DataView]":if(G.byteLength!=B.byteLength||G.byteOffset!=B.byteOffset)return!1;G=G.buffer,B=B.buffer;case"[object ArrayBuffer]":return!(G.byteLength!=B.byteLength||!ee(new E(G),new E(B)));case"[object Boolean]":case"[object Date]":case"[object Number]":return T(+G,+B);case"[object Error]":return G.name==B.name&&G.message==B.message;case"[object RegExp]":case"[object String]":return G==B+"";case"[object Map]":var he=x;case"[object Set]":var pe=1&j;if(he||(he=O),G.size!=B.size&&!pe)return!1;var ae=J.get(G);if(ae)return ae==B;j|=2,J.set(G,B);var ye=S(he(G),he(B),j,Z,ee,J);return J.delete(G),ye;case"[object Symbol]":if(M)return M.call(G)==M.call(B)}return!1}},6096:(f,g,v)=>{var p=v(8234),E=Object.prototype.hasOwnProperty;f.exports=function(T,S,x,O,P,M){var G=1&x,B=p(T),U=B.length;if(U!=p(S).length&&!G)return!1;for(var j=U;j--;){var Z=B[j];if(!(G?Z in S:E.call(S,Z)))return!1}var ee=M.get(T),J=M.get(S);if(ee&&J)return ee==S&&J==T;var he=!0;M.set(T,S),M.set(S,T);for(var pe=G;++j<U;){var ae=T[Z=B[j]],ye=S[Z];if(O)var Ee=G?O(ye,ae,Z,S,T,M):O(ae,ye,Z,T,S,M);if(!(Ee===void 0?ae===ye||P(ae,ye,x,O,M):Ee)){he=!1;break}pe||(pe=Z=="constructor")}if(he&&!pe){var ue=T.constructor,be=S.constructor;ue==be||!("constructor"in T)||!("constructor"in S)||typeof ue=="function"&&ue instanceof ue&&typeof be=="function"&&be instanceof be||(he=!1)}return M.delete(T),M.delete(S),he}},1957:(f,g,v)=>{var p=typeof v.g=="object"&&v.g&&v.g.Object===Object&&v.g;f.exports=p},8234:(f,g,v)=>{var p=v(8866),E=v(9551),T=v(3674);f.exports=function(S){return p(S,T,E)}},5050:(f,g,v)=>{var p=v(7019);f.exports=function(E,T){var S=E.__data__;return p(T)?S[typeof T=="string"?"string":"hash"]:S.map}},852:(f,g,v)=>{var p=v(8458),E=v(7801);f.exports=function(T,S){var x=E(T,S);return p(x)?x:void 0}},9607:(f,g,v)=>{var p=v(2705),E=Object.prototype,T=E.hasOwnProperty,S=E.toString,x=p?p.toStringTag:void 0;f.exports=function(O){var P=T.call(O,x),M=O[x];try{O[x]=void 0;var G=!0}catch{}var B=S.call(O);return G&&(P?O[x]=M:delete O[x]),B}},9551:(f,g,v)=>{var p=v(4963),E=v(479),T=Object.prototype.propertyIsEnumerable,S=Object.getOwnPropertySymbols,x=S?function(O){return O==null?[]:(O=Object(O),p(S(O),function(P){return T.call(O,P)}))}:E;f.exports=x},4160:(f,g,v)=>{var p=v(8552),E=v(7071),T=v(3818),S=v(8525),x=v(577),O=v(4239),P=v(346),M="[object Map]",G="[object Promise]",B="[object Set]",U="[object WeakMap]",j="[object DataView]",Z=P(p),ee=P(E),J=P(T),he=P(S),pe=P(x),ae=O;(p&&ae(new p(new ArrayBuffer(1)))!=j||E&&ae(new E)!=M||T&&ae(T.resolve())!=G||S&&ae(new S)!=B||x&&ae(new x)!=U)&&(ae=function(ye){var Ee=O(ye),ue=Ee=="[object Object]"?ye.constructor:void 0,be=ue?P(ue):"";if(be)switch(be){case Z:return j;case ee:return M;case J:return G;case he:return B;case pe:return U}return Ee}),f.exports=ae},7801:f=>{f.exports=function(g,v){return g==null?void 0:g[v]}},1789:(f,g,v)=>{var p=v(4536);f.exports=function(){this.__data__=p?p(null):{},this.size=0}},401:f=>{f.exports=function(g){var v=this.has(g)&&delete this.__data__[g];return this.size-=v?1:0,v}},7667:(f,g,v)=>{var p=v(4536),E=Object.prototype.hasOwnProperty;f.exports=function(T){var S=this.__data__;if(p){var x=S[T];return x==="__lodash_hash_undefined__"?void 0:x}return E.call(S,T)?S[T]:void 0}},1327:(f,g,v)=>{var p=v(4536),E=Object.prototype.hasOwnProperty;f.exports=function(T){var S=this.__data__;return p?S[T]!==void 0:E.call(S,T)}},1866:(f,g,v)=>{var p=v(4536);f.exports=function(E,T){var S=this.__data__;return this.size+=this.has(E)?0:1,S[E]=p&&T===void 0?"__lodash_hash_undefined__":T,this}},5776:f=>{var g=/^(?:0|[1-9]\d*)$/;f.exports=function(v,p){var E=typeof v;return!!(p=p??9007199254740991)&&(E=="number"||E!="symbol"&&g.test(v))&&v>-1&&v%1==0&&v<p}},7019:f=>{f.exports=function(g){var v=typeof g;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?g!=="__proto__":g===null}},5346:(f,g,v)=>{var p,E=v(4429),T=(p=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";f.exports=function(S){return!!T&&T in S}},5726:f=>{var g=Object.prototype;f.exports=function(v){var p=v&&v.constructor;return v===(typeof p=="function"&&p.prototype||g)}},7040:f=>{f.exports=function(){this.__data__=[],this.size=0}},4125:(f,g,v)=>{var p=v(8470),E=Array.prototype.splice;f.exports=function(T){var S=this.__data__,x=p(S,T);return!(x<0||(x==S.length-1?S.pop():E.call(S,x,1),--this.size,0))}},2117:(f,g,v)=>{var p=v(8470);f.exports=function(E){var T=this.__data__,S=p(T,E);return S<0?void 0:T[S][1]}},7518:(f,g,v)=>{var p=v(8470);f.exports=function(E){return p(this.__data__,E)>-1}},4705:(f,g,v)=>{var p=v(8470);f.exports=function(E,T){var S=this.__data__,x=p(S,E);return x<0?(++this.size,S.push([E,T])):S[x][1]=T,this}},4785:(f,g,v)=>{var p=v(1989),E=v(8407),T=v(7071);f.exports=function(){this.size=0,this.__data__={hash:new p,map:new(T||E),string:new p}}},1285:(f,g,v)=>{var p=v(5050);f.exports=function(E){var T=p(this,E).delete(E);return this.size-=T?1:0,T}},6e3:(f,g,v)=>{var p=v(5050);f.exports=function(E){return p(this,E).get(E)}},9916:(f,g,v)=>{var p=v(5050);f.exports=function(E){return p(this,E).has(E)}},5265:(f,g,v)=>{var p=v(5050);f.exports=function(E,T){var S=p(this,E),x=S.size;return S.set(E,T),this.size+=S.size==x?0:1,this}},8776:f=>{f.exports=function(g){var v=-1,p=Array(g.size);return g.forEach(function(E,T){p[++v]=[T,E]}),p}},4536:(f,g,v)=>{var p=v(852)(Object,"create");f.exports=p},6916:(f,g,v)=>{var p=v(5569)(Object.keys,Object);f.exports=p},1167:(f,g,v)=>{f=v.nmd(f);var p=v(1957),E=g&&!g.nodeType&&g,T=E&&f&&!f.nodeType&&f,S=T&&T.exports===E&&p.process,x=function(){try{return T&&T.require&&T.require("util").types||S&&S.binding&&S.binding("util")}catch{}}();f.exports=x},2333:f=>{var g=Object.prototype.toString;f.exports=function(v){return g.call(v)}},5569:f=>{f.exports=function(g,v){return function(p){return g(v(p))}}},5639:(f,g,v)=>{var p=v(1957),E=typeof self=="object"&&self&&self.Object===Object&&self,T=p||E||Function("return this")();f.exports=T},619:f=>{f.exports=function(g){return this.__data__.set(g,"__lodash_hash_undefined__"),this}},2385:f=>{f.exports=function(g){return this.__data__.has(g)}},1814:f=>{f.exports=function(g){var v=-1,p=Array(g.size);return g.forEach(function(E){p[++v]=E}),p}},7465:(f,g,v)=>{var p=v(8407);f.exports=function(){this.__data__=new p,this.size=0}},3779:f=>{f.exports=function(g){var v=this.__data__,p=v.delete(g);return this.size=v.size,p}},7599:f=>{f.exports=function(g){return this.__data__.get(g)}},4758:f=>{f.exports=function(g){return this.__data__.has(g)}},4309:(f,g,v)=>{var p=v(8407),E=v(7071),T=v(3369);f.exports=function(S,x){var O=this.__data__;if(O instanceof p){var P=O.__data__;if(!E||P.length<199)return P.push([S,x]),this.size=++O.size,this;O=this.__data__=new T(P)}return O.set(S,x),this.size=O.size,this}},346:f=>{var g=Function.prototype.toString;f.exports=function(v){if(v!=null){try{return g.call(v)}catch{}try{return v+""}catch{}}return""}},7813:f=>{f.exports=function(g,v){return g===v||g!=g&&v!=v}},5694:(f,g,v)=>{var p=v(9454),E=v(7005),T=Object.prototype,S=T.hasOwnProperty,x=T.propertyIsEnumerable,O=p(function(){return arguments}())?p:function(P){return E(P)&&S.call(P,"callee")&&!x.call(P,"callee")};f.exports=O},1469:f=>{var g=Array.isArray;f.exports=g},8612:(f,g,v)=>{var p=v(3560),E=v(1780);f.exports=function(T){return T!=null&&E(T.length)&&!p(T)}},4144:(f,g,v)=>{f=v.nmd(f);var p=v(5639),E=v(5062),T=g&&!g.nodeType&&g,S=T&&f&&!f.nodeType&&f,x=S&&S.exports===T?p.Buffer:void 0,O=(x?x.isBuffer:void 0)||E;f.exports=O},8446:(f,g,v)=>{var p=v(939);f.exports=function(E,T){return p(E,T)}},3560:(f,g,v)=>{var p=v(4239),E=v(3218);f.exports=function(T){if(!E(T))return!1;var S=p(T);return S=="[object Function]"||S=="[object GeneratorFunction]"||S=="[object AsyncFunction]"||S=="[object Proxy]"}},1780:f=>{f.exports=function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=9007199254740991}},3218:f=>{f.exports=function(g){var v=typeof g;return g!=null&&(v=="object"||v=="function")}},7005:f=>{f.exports=function(g){return g!=null&&typeof g=="object"}},6719:(f,g,v)=>{var p=v(8749),E=v(1717),T=v(1167),S=T&&T.isTypedArray,x=S?E(S):p;f.exports=x},3674:(f,g,v)=>{var p=v(4636),E=v(280),T=v(8612);f.exports=function(S){return T(S)?p(S):E(S)}},8306:(f,g,v)=>{var p=v(3369);function E(T,S){if(typeof T!="function"||S!=null&&typeof S!="function")throw new TypeError("Expected a function");var x=function(){var O=arguments,P=S?S.apply(this,O):O[0],M=x.cache;if(M.has(P))return M.get(P);var G=T.apply(this,O);return x.cache=M.set(P,G)||M,G};return x.cache=new(E.Cache||p),x}E.Cache=p,f.exports=E},479:f=>{f.exports=function(){return[]}},5062:f=>{f.exports=function(){return!1}},2703:(f,g,v)=>{var p=v(414);function E(){}function T(){}T.resetWarningCache=E,f.exports=function(){function S(P,M,G,B,U,j){if(j!==p){var Z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Z.name="Invariant Violation",Z}}function x(){return S}S.isRequired=S;var O={array:S,bigint:S,bool:S,func:S,number:S,object:S,string:S,symbol:S,any:S,arrayOf:x,element:S,elementType:S,instanceOf:x,node:S,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:T,resetWarningCache:E};return O.PropTypes=O,O}},5697:(f,g,v)=>{f.exports=v(2703)()},414:f=>{f.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:f=>{f.exports=r}},a={};function u(f){var g=a[f];if(g!==void 0)return g.exports;var v=a[f]={id:f,loaded:!1,exports:{}};return s[f](v,v.exports,u),v.loaded=!0,v.exports}u.n=f=>{var g=f&&f.__esModule?()=>f.default:()=>f;return u.d(g,{a:g}),g},u.d=(f,g)=>{for(var v in g)u.o(g,v)&&!u.o(f,v)&&Object.defineProperty(f,v,{enumerable:!0,get:g[v]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(f,g)=>Object.prototype.hasOwnProperty.call(f,g),u.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.nmd=f=>(f.paths=[],f.children||(f.children=[]),f);var h={};return(()=>{u.r(h),u.d(h,{default:()=>Il,expandNodesToLevel:()=>xl});var f=u(4184),g=u.n(f),v=u(8446),p=u.n(v),E=u(8306),T=u.n(E);let S=(Mt=21)=>crypto.getRandomValues(new Uint8Array(Mt)).reduce((gt,Re)=>gt+((Re&=63)<36?Re.toString(36):Re<62?(Re-26).toString(36).toUpperCase():Re>62?"-":"_"),"");var x=u(5697),O=u.n(x),P=u(9787),M=u.n(P);function G(Mt){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},G(Mt)}var B=["children","title"];function U(){return U=Object.assign?Object.assign.bind():function(Mt){for(var gt=1;gt<arguments.length;gt++){var Re=arguments[gt];for(var Pe in Re)Object.prototype.hasOwnProperty.call(Re,Pe)&&(Mt[Pe]=Re[Pe])}return Mt},U.apply(this,arguments)}function j(Mt,gt){if(!(Mt instanceof gt))throw new TypeError("Cannot call a class as a function")}function Z(Mt,gt){for(var Re=0;Re<gt.length;Re++){var Pe=gt[Re];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Mt,Pe.key,Pe)}}function ee(Mt,gt){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Pe){return Re.__proto__=Pe,Re},ee(Mt,gt)}function J(Mt,gt){if(gt&&(G(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}(Mt)}function he(Mt){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},he(Mt)}function pe(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}var ae=function(Mt){(function(At,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(ut&&ut.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Object.defineProperty(At,"prototype",{writable:!1}),ut&&ee(At,ut)})(Dt,Mt);var gt,Re,Pe,ct,Ct=(Pe=Dt,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var At,ut=he(Pe);if(ct){var bt=he(this).constructor;At=Reflect.construct(ut,arguments,bt)}else At=ut.apply(this,arguments);return J(this,At)});function Dt(){return j(this,Dt),Ct.apply(this,arguments)}return gt=Dt,(Re=[{key:"render",value:function(){var At=this.props,ut=At.children,bt=At.title,De=function(we,Ye){if(we==null)return{};var wt,It,Er=function(dn,Ln){if(dn==null)return{};var pi,Dn,ai={},Fi=Object.keys(dn);for(Dn=0;Dn<Fi.length;Dn++)pi=Fi[Dn],Ln.indexOf(pi)>=0||(ai[pi]=dn[pi]);return ai}(we,Ye);if(Object.getOwnPropertySymbols){var Ar=Object.getOwnPropertySymbols(we);for(It=0;It<Ar.length;It++)wt=Ar[It],Ye.indexOf(wt)>=0||Object.prototype.propertyIsEnumerable.call(we,wt)&&(Er[wt]=we[wt])}return Er}(At,B);return M().createElement("button",U({"aria-label":bt,title:bt,type:"button"},De),ut)}}])&&Z(gt.prototype,Re),Object.defineProperty(gt,"prototype",{writable:!1}),Dt}(M().PureComponent);pe(ae,"propTypes",{children:O().node.isRequired,title:O().string}),pe(ae,"defaultProps",{title:null});const ye=ae,Ee={ALL:"all",PARENT:"parent",LEAF:"leaf"};function ue(Mt){this.message=Mt,this.stack=Error().stack}ue.prototype=Object.create(Error.prototype),ue.prototype.name="CheckboxTreeError";const be=ue;function Me(Mt,gt){var Re=Object.keys(Mt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Mt);gt&&(Pe=Pe.filter(function(ct){return Object.getOwnPropertyDescriptor(Mt,ct).enumerable})),Re.push.apply(Re,Pe)}return Re}function Xe(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}function rt(Mt,gt){if(!(Mt instanceof gt))throw new TypeError("Cannot call a class as a function")}function st(Mt,gt){for(var Re=0;Re<gt.length;Re++){var Pe=gt[Re];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Mt,Pe.key,Pe)}}var mt=Ee;const kt=function(){function Mt(Pe){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt(this,Mt),this.props=Pe,this.flatNodes=ct}var gt,Re;return gt=Mt,Re=[{key:"setProps",value:function(Pe){this.props=Pe}},{key:"clone",value:function(){var Pe=this,ct={};return Object.keys(this.flatNodes).forEach(function(Ct){var Dt=Pe.flatNodes[Ct];ct[Ct]=function(At){for(var ut=1;ut<arguments.length;ut++){var bt=arguments[ut]!=null?arguments[ut]:{};ut%2?Me(Object(bt),!0).forEach(function(De){Xe(At,De,bt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(bt)):Me(Object(bt)).forEach(function(De){Object.defineProperty(At,De,Object.getOwnPropertyDescriptor(bt,De))})}return At}({},Dt)}),new Mt(this.props,ct)}},{key:"getNode",value:function(Pe){return this.flatNodes[Pe]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(Pe){var ct=this,Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Array.isArray(Pe)&&Pe.length!==0){var At=this.props,ut=At.disabled,bt=At.noCascade;Pe.forEach(function(De,we){var Ye=ct.nodeHasChildren(De);if(ct.flatNodes[De.value]!==void 0)throw new be("Duplicate value '".concat(De.value,"' detected. All node values must be unique."));ct.flatNodes[De.value]={label:De.label,value:De.value,children:De.children,parent:Ct,isChild:Ct.value!==void 0,isParent:Ye,isLeaf:!Ye,showCheckbox:De.showCheckbox===void 0||De.showCheckbox,disabled:ct.getDisabledState(De,Ct,ut,bt),treeDepth:Dt,index:we},ct.flattenNodes(De.children,De,Dt+1)})}}},{key:"nodeHasChildren",value:function(Pe){return Array.isArray(Pe.children)}},{key:"getDisabledState",value:function(Pe,ct,Ct,Dt){return!!Ct||!(Dt||!ct.disabled)||!!Pe.disabled}},{key:"deserializeLists",value:function(Pe){var ct=this,Ct=["checked","expanded"];Object.keys(this.flatNodes).forEach(function(Dt){Ct.forEach(function(At){ct.flatNodes[Dt][At]=!1})}),Ct.forEach(function(Dt){Pe[Dt].forEach(function(At){ct.flatNodes[At]!==void 0&&(ct.flatNodes[At][Dt]=!0)})})}},{key:"serializeList",value:function(Pe){var ct=this,Ct=[];return Object.keys(this.flatNodes).forEach(function(Dt){ct.flatNodes[Dt][Pe]&&Ct.push(Dt)}),Ct}},{key:"expandAllNodes",value:function(Pe){var ct=this;return Object.keys(this.flatNodes).forEach(function(Ct){ct.flatNodes[Ct].isParent&&(ct.flatNodes[Ct].expanded=Pe)}),this}},{key:"toggleChecked",value:function(Pe,ct,Ct,Dt){var At=this,ut=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],bt=this.flatNodes[Pe.value],De=[mt.PARENT,mt.ALL].indexOf(Ct)>-1,we=[mt.LEAF,mt.ALL].indexOf(Ct)>-1;if(bt.isLeaf||Dt){if(Pe.disabled)return this;this.toggleNode(Pe.value,"checked",ct)}else(De||bt.children.length===0)&&this.toggleNode(Pe.value,"checked",ct),we&&bt.children.forEach(function(Ye){At.toggleChecked(Ye,ct,Ct,Dt,!1)});return ut&&!Dt&&bt.isChild&&De&&this.toggleParentStatus(bt.parent,Ct),this}},{key:"toggleParentStatus",value:function(Pe,ct){var Ct=this.flatNodes[Pe.value];Ct.isChild?(ct===mt.ALL&&this.toggleNode(Pe.value,"checked",this.isEveryChildChecked(Ct)),this.toggleParentStatus(Ct.parent,ct)):this.toggleNode(Pe.value,"checked",this.isEveryChildChecked(Ct))}},{key:"isEveryChildChecked",value:function(Pe){var ct=this;return Pe.children.every(function(Ct){return ct.getNode(Ct.value).checked})}},{key:"toggleNode",value:function(Pe,ct,Ct){return this.flatNodes[Pe][ct]=Ct,this}}],Re&&st(gt.prototype,Re),Object.defineProperty(gt,"prototype",{writable:!1}),Mt}();function Le(Mt){return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},Le(Mt)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(Mt){for(var gt=1;gt<arguments.length;gt++){var Re=arguments[gt];for(var Pe in Re)Object.prototype.hasOwnProperty.call(Re,Pe)&&(Mt[Pe]=Re[Pe])}return Mt},Ie.apply(this,arguments)}function Ne(Mt,gt){var Re=Object.keys(Mt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Mt);gt&&(Pe=Pe.filter(function(ct){return Object.getOwnPropertyDescriptor(Mt,ct).enumerable})),Re.push.apply(Re,Pe)}return Re}function Fe(Mt,gt){if(!(Mt instanceof gt))throw new TypeError("Cannot call a class as a function")}function dt(Mt,gt){for(var Re=0;Re<gt.length;Re++){var Pe=gt[Re];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Mt,Pe.key,Pe)}}function Et(Mt,gt){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Pe){return Re.__proto__=Pe,Re},Et(Mt,gt)}function Vt(Mt,gt){if(gt&&(Le(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}(Mt)}function Ft(Mt){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},Ft(Mt)}function qt(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}var Sr=function(Mt){(function(At,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(ut&&ut.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Object.defineProperty(At,"prototype",{writable:!1}),ut&&Et(At,ut)})(Dt,Mt);var gt,Re,Pe,ct,Ct=(Pe=Dt,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var At,ut=Ft(Pe);if(ct){var bt=Ft(this).constructor;At=Reflect.construct(ut,arguments,bt)}else At=ut.apply(this,arguments);return Vt(this,At)});function Dt(){return Fe(this,Dt),Ct.apply(this,arguments)}return gt=Dt,Re=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var At=this.props.indeterminate;this.checkbox.indeterminate=At}},{key:"render",value:function(){var At=this,ut=function(bt){for(var De=1;De<arguments.length;De++){var we=arguments[De]!=null?arguments[De]:{};De%2?Ne(Object(we),!0).forEach(function(Ye){qt(bt,Ye,we[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(we)):Ne(Object(we)).forEach(function(Ye){Object.defineProperty(bt,Ye,Object.getOwnPropertyDescriptor(we,Ye))})}return bt}({},this.props);return delete ut.indeterminate,M().createElement("input",Ie({},ut,{ref:function(bt){At.checkbox=bt},type:"checkbox"}))}}],Re&&dt(gt.prototype,Re),Object.defineProperty(gt,"prototype",{writable:!1}),Dt}(M().PureComponent);qt(Sr,"propTypes",{indeterminate:O().bool}),qt(Sr,"defaultProps",{indeterminate:!1});const jt=Sr,Hr=O().shape({check:O().node,uncheck:O().node,halfCheck:O().node,expandClose:O().node,expandOpen:O().node,expandAll:O().node,collapseAll:O().node,parentClose:O().node,parentOpen:O().node,leaf:O().node}),Cr=O().shape({collapseAll:O().string.isRequired,expandAll:O().string.isRequired,toggle:O().string.isRequired});function On(Mt){return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},On(Mt)}function sn(Mt,gt){for(var Re=0;Re<gt.length;Re++){var Pe=gt[Re];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Mt,Pe.key,Pe)}}function Ur(Mt,gt){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Pe){return Re.__proto__=Pe,Re},Ur(Mt,gt)}function Bn(Mt,gt){if(gt&&(On(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mn(Mt)}function Mn(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}function ci(Mt){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},ci(Mt)}function Ja(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}var kn=function(Mt){(function(At,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(ut&&ut.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Object.defineProperty(At,"prototype",{writable:!1}),ut&&Ur(At,ut)})(Dt,Mt);var gt,Re,Pe,ct,Ct=(Pe=Dt,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var At,ut=ci(Pe);if(ct){var bt=ci(this).constructor;At=Reflect.construct(ut,arguments,bt)}else At=ut.apply(this,arguments);return Bn(this,At)});function Dt(At){var ut;return function(bt,De){if(!(bt instanceof De))throw new TypeError("Cannot call a class as a function")}(this,Dt),(ut=Ct.call(this,At)).onCheck=ut.onCheck.bind(Mn(ut)),ut.onCheckboxKeyPress=ut.onCheckboxKeyPress.bind(Mn(ut)),ut.onCheckboxKeyUp=ut.onCheckboxKeyUp.bind(Mn(ut)),ut.onClick=ut.onClick.bind(Mn(ut)),ut.onExpand=ut.onExpand.bind(Mn(ut)),ut}return gt=Dt,(Re=[{key:"onCheck",value:function(){var At=this.props,ut=At.value;(0,At.onCheck)({value:ut,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(At){At.which===32&&At.preventDefault()}},{key:"onCheckboxKeyUp",value:function(At){var ut=At.keyCode;[13,32].includes(ut)&&this.onCheck()}},{key:"onClick",value:function(){var At=this.props,ut=At.expandOnClick,bt=At.isParent,De=At.value,we=At.onClick;bt&&ut&&this.onExpand(),we({value:De,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var At=this.props,ut=At.expanded,bt=At.value;(0,At.onExpand)({value:bt,expanded:!ut})}},{key:"getCheckState",value:function(At){var ut=At.toggle,bt=this.props,De=bt.checked,we=bt.optimisticToggle;return!(De!==0||!ut)||De===1&&!ut||De===2&&we}},{key:"renderCollapseButton",value:function(){var At=this.props,ut=At.expandDisabled,bt=At.isLeaf,De=At.lang;return bt?M().createElement("span",{className:"rct-collapse"},M().createElement("span",{className:"rct-icon"})):M().createElement(ye,{className:"rct-collapse rct-collapse-btn",disabled:ut,title:De.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var At=this.props,ut=At.expanded,bt=At.icons,De=bt.expandClose,we=bt.expandOpen;return ut?we:De}},{key:"renderCheckboxIcon",value:function(){var At=this.props,ut=At.checked,bt=At.icons,De=bt.uncheck,we=bt.check,Ye=bt.halfCheck;return ut===0?De:ut===1?we:Ye}},{key:"renderNodeIcon",value:function(){var At=this.props,ut=At.expanded,bt=At.icon,De=At.icons,we=De.leaf,Ye=De.parentClose,wt=De.parentOpen,It=At.isLeaf;return bt!==null?bt:It?we:ut?wt:Ye}},{key:"renderBareLabel",value:function(At){var ut=this.props,bt=ut.onClick,De=ut.title,we=bt!==null;return M().createElement("span",{className:"rct-bare-label",title:De},we?M().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},At):At)}},{key:"renderCheckboxLabel",value:function(At){var ut=this.props,bt=ut.checked,De=ut.disabled,we=ut.title,Ye=ut.treeId,wt=ut.value,It=ut.onClick!==null,Er="".concat(Ye,"-").concat(String(wt).split(" ").join("_")),Ar=[M().createElement("label",{key:0,htmlFor:Er,title:we},M().createElement(jt,{checked:bt===1,disabled:De,id:Er,indeterminate:bt===2,onClick:this.onCheck,onChange:function(){}}),M().createElement("span",{"aria-checked":bt===1,"aria-disabled":De,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),It?null:At)];return It&&Ar.push(M().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},At)),Ar}},{key:"renderLabel",value:function(){var At=this.props,ut=At.label,bt=At.showCheckbox,De=[At.showNodeIcon?M().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,M().createElement("span",{key:1,className:"rct-title"},ut)];return bt?this.renderCheckboxLabel(De):this.renderBareLabel(De)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var At=this.props,ut=At.className,bt=At.disabled,De=At.expanded,we=At.isLeaf,Ye=g()({"rct-node":!0,"rct-node-leaf":we,"rct-node-parent":!we,"rct-node-expanded":!we&&De,"rct-node-collapsed":!we&&!De,"rct-disabled":bt},ut);return M().createElement("li",{className:Ye},M().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&sn(gt.prototype,Re),Object.defineProperty(gt,"prototype",{writable:!1}),Dt}(M().PureComponent);Ja(kn,"propTypes",{checked:O().number.isRequired,disabled:O().bool.isRequired,expandDisabled:O().bool.isRequired,expanded:O().bool.isRequired,icons:Hr.isRequired,isLeaf:O().bool.isRequired,isParent:O().bool.isRequired,label:O().node.isRequired,lang:Cr.isRequired,optimisticToggle:O().bool.isRequired,showNodeIcon:O().bool.isRequired,treeId:O().string.isRequired,value:O().oneOfType([O().string,O().number]).isRequired,onCheck:O().func.isRequired,onExpand:O().func.isRequired,children:O().node,className:O().string,expandOnClick:O().bool,icon:O().node,showCheckbox:O().bool,title:O().string,onClick:O().func}),Ja(kn,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const Ht=kn,Ve=O().oneOfType([O().arrayOf(O().string),O().arrayOf(O().number)]);function et(Mt,gt){var Re=Object.keys(Mt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Mt);gt&&(Pe=Pe.filter(function(ct){return Object.getOwnPropertyDescriptor(Mt,ct).enumerable})),Re.push.apply(Re,Pe)}return Re}function _t(Mt){for(var gt=1;gt<arguments.length;gt++){var Re=arguments[gt]!=null?arguments[gt]:{};gt%2?et(Object(Re),!0).forEach(function(Pe){ne(Mt,Pe,Re[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(Re)):et(Object(Re)).forEach(function(Pe){Object.defineProperty(Mt,Pe,Object.getOwnPropertyDescriptor(Re,Pe))})}return Mt}function ne(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}var X={label:O().node.isRequired,value:O().oneOfType([O().string,O().number]).isRequired,disabled:O().bool,icon:O().node,showCheckbox:O().bool,title:O().string};const Q=O().oneOfType([O().shape(X),O().shape(_t(_t({},X),{},{children:O().arrayOf(X).isRequired}))]);function _e(Mt){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},_e(Mt)}function ze(Mt,gt){var Re=Object.keys(Mt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Mt);gt&&(Pe=Pe.filter(function(ct){return Object.getOwnPropertyDescriptor(Mt,ct).enumerable})),Re.push.apply(Re,Pe)}return Re}function tt(Mt){for(var gt=1;gt<arguments.length;gt++){var Re=arguments[gt]!=null?arguments[gt]:{};gt%2?ze(Object(Re),!0).forEach(function(Pe){on(Mt,Pe,Re[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(Re)):ze(Object(Re)).forEach(function(Pe){Object.defineProperty(Mt,Pe,Object.getOwnPropertyDescriptor(Re,Pe))})}return Mt}function yt(Mt,gt){for(var Re=0;Re<gt.length;Re++){var Pe=gt[Re];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(Mt,Pe.key,Pe)}}function _r(Mt,gt){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Pe){return Re.__proto__=Pe,Re},_r(Mt,gt)}function Mr(Mt,gt){if(gt&&(_e(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(Mt)}function qr(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}function jr(Mt){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},jr(Mt)}function on(Mt,gt,Re){return gt in Mt?Object.defineProperty(Mt,gt,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Mt[gt]=Re,Mt}var eo=function(Mt){(function(ut,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");ut.prototype=Object.create(bt&&bt.prototype,{constructor:{value:ut,writable:!0,configurable:!0}}),Object.defineProperty(ut,"prototype",{writable:!1}),bt&&_r(ut,bt)})(At,Mt);var gt,Re,Pe,ct,Ct,Dt=(ct=At,Ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ut,bt=jr(ct);if(Ct){var De=jr(this).constructor;ut=Reflect.construct(bt,arguments,De)}else ut=bt.apply(this,arguments);return Mr(this,ut)});function At(ut){var bt;(function(we,Ye){if(!(we instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,At),bt=Dt.call(this,ut);var De=new kt(ut);return De.flattenNodes(ut.nodes),De.deserializeLists({checked:ut.checked,expanded:ut.expanded}),bt.state={id:ut.id||"rct-".concat(S()),model:De,prevProps:ut},bt.onCheck=bt.onCheck.bind(qr(bt)),bt.onExpand=bt.onExpand.bind(qr(bt)),bt.onNodeClick=bt.onNodeClick.bind(qr(bt)),bt.onExpandAll=bt.onExpandAll.bind(qr(bt)),bt.onCollapseAll=bt.onCollapseAll.bind(qr(bt)),bt.combineMemorized=T()(function(we,Ye){return tt(tt({},we),Ye)}).bind(qr(bt)),bt}return gt=At,Re=[{key:"onCheck",value:function(ut){var bt=this.props,De=bt.checkModel,we=bt.noCascade,Ye=bt.onCheck,wt=this.state.model.clone(),It=wt.getNode(ut.value);wt.toggleChecked(ut,ut.checked,De,we),Ye(wt.serializeList("checked"),tt(tt({},It),ut))}},{key:"onExpand",value:function(ut){var bt=this.props.onExpand,De=this.state.model.clone(),we=De.getNode(ut.value);De.toggleNode(ut.value,"expanded",ut.expanded),bt(De.serializeList("expanded"),tt(tt({},we),ut))}},{key:"onNodeClick",value:function(ut){(0,this.props.onClick)(tt(tt({},this.state.model.getNode(ut.value)),ut))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var ut=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],bt=this.props.onExpand;bt(this.state.model.clone().expandAllNodes(ut).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(ut,bt){var De=this.state.model.getNode(ut.value);return De.isLeaf||bt||ut.children.length===0?De.checked?1:0:this.isEveryChildChecked(ut)?1:this.isSomeChildChecked(ut)?2:0}},{key:"isEveryChildChecked",value:function(ut){var bt=this;return ut.children.every(function(De){return bt.state.model.getNode(De.value).checkState===1})}},{key:"isSomeChildChecked",value:function(ut){var bt=this;return ut.children.some(function(De){return bt.state.model.getNode(De.value).checkState>0})}},{key:"renderTreeNodes",value:function(ut){var bt=this,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.props,Ye=we.expandDisabled,wt=we.expandOnClick,It=we.icons,Er=we.lang,Ar=we.noCascade,dn=we.onClick,Ln=we.onlyLeafCheckboxes,pi=we.optimisticToggle,Dn=we.showNodeTitle,ai=we.showNodeIcon,Fi=this.state,pn=Fi.id,hi=Fi.model,Bi=At.defaultProps.icons,Vi=ut.map(function($a){var Dl=$a.value,pr=hi.getNode($a.value),Xr=pr.isParent?bt.renderTreeNodes($a.children,$a):null;pr.checkState=bt.determineShallowCheckState($a,Ar);var qn=Ln?pr.isLeaf:pr.showCheckbox;return!De.value||hi.getNode(De.value).expanded?M().createElement(Ht,{key:Dl,checked:pr.checkState,className:$a.className,disabled:pr.disabled,expandDisabled:Ye,expandOnClick:wt,expanded:pr.expanded,icon:$a.icon,icons:bt.combineMemorized(Bi,It),label:$a.label,lang:Er,optimisticToggle:pi,isLeaf:pr.isLeaf,isParent:pr.isParent,showCheckbox:qn,showNodeIcon:ai,title:Dn?$a.title||$a.label:$a.title,treeId:pn,value:$a.value,onCheck:bt.onCheck,onClick:dn&&bt.onNodeClick,onExpand:bt.onExpand},Xr):null});return M().createElement("ol",null,Vi)}},{key:"renderExpandAll",value:function(){var ut=this.props,bt=ut.icons,De=bt.expandAll,we=bt.collapseAll,Ye=ut.lang;return ut.showExpandAll?M().createElement("div",{className:"rct-options"},M().createElement(ye,{className:"rct-option rct-option-expand-all",title:Ye.expandAll,onClick:this.onExpandAll},De),M().createElement(ye,{className:"rct-option rct-option-collapse-all",title:Ye.collapseAll,onClick:this.onCollapseAll},we)):null}},{key:"renderHiddenInput",value:function(){var ut=this.props,bt=ut.name,De=ut.nameAsArray;return bt===void 0?null:De?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var ut=this.props,bt=ut.checked,De=ut.name;return bt.map(function(we){var Ye="".concat(De,"[]");return M().createElement("input",{key:we,name:Ye,type:"hidden",value:we})})}},{key:"renderJoinedHiddenInput",value:function(){var ut=this.props,bt=ut.checked,De=ut.name,we=bt.join(",");return M().createElement("input",{name:De,type:"hidden",value:we})}},{key:"render",value:function(){var ut,bt=this.props,De=bt.direction,we=bt.disabled,Ye=bt.iconsClass,wt=bt.nodes,It=bt.nativeCheckboxes,Er=this.state.id,Ar=this.renderTreeNodes(wt),dn=g()((on(ut={"react-checkbox-tree":!0,"rct-disabled":we},"rct-icons-".concat(Ye),!0),on(ut,"rct-native-display",It),on(ut,"rct-direction-rtl",De==="rtl"),ut));return M().createElement("div",{className:dn,id:Er},this.renderExpandAll(),this.renderHiddenInput(),Ar)}}],Pe=[{key:"getDerivedStateFromProps",value:function(ut,bt){var De=bt.model,we=bt.prevProps,Ye=ut.disabled,wt=ut.id,It=ut.nodes,Er=tt(tt({},bt),{},{prevProps:ut});return De.setProps(ut),p()(we.nodes,It)&&we.disabled===Ye||(De.reset(),De.flattenNodes(It)),wt!==null&&(Er=tt(tt({},Er),{},{id:wt})),De.deserializeLists({checked:ut.checked,expanded:ut.expanded}),Er}}],Re&&yt(gt.prototype,Re),Pe&&yt(gt,Pe),Object.defineProperty(gt,"prototype",{writable:!1}),At}(M().Component);function tl(Mt){return function(gt){if(Array.isArray(gt))return Kc(gt)}(Mt)||function(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}(Mt)||function(gt,Re){if(gt){if(typeof gt=="string")return Kc(gt,Re);var Pe=Object.prototype.toString.call(gt).slice(8,-1);return Pe==="Object"&&gt.constructor&&(Pe=gt.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(gt):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?Kc(gt,Re):void 0}}(Mt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kc(Mt,gt){(gt==null||gt>Mt.length)&&(gt=Mt.length);for(var Re=0,Pe=new Array(gt);Re<gt;Re++)Pe[Re]=Mt[Re];return Pe}function xl(Mt,gt){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Re>gt)return[];var Pe=[];return Mt.forEach(function(ct){ct.children&&(Pe=[].concat(tl(Pe),[ct.value],tl(xl(ct.children,gt,Re+1))))}),Pe}on(eo,"propTypes",{nodes:O().arrayOf(Q).isRequired,checkModel:O().oneOf([Ee.LEAF,Ee.ALL]),checked:Ve,direction:O().string,disabled:O().bool,expandDisabled:O().bool,expandOnClick:O().bool,expanded:Ve,icons:Hr,iconsClass:O().string,id:O().string,lang:Cr,name:O().string,nameAsArray:O().bool,nativeCheckboxes:O().bool,noCascade:O().bool,onlyLeafCheckboxes:O().bool,optimisticToggle:O().bool,showExpandAll:O().bool,showNodeIcon:O().bool,showNodeTitle:O().bool,onCheck:O().func,onClick:O().func,onExpand:O().func}),on(eo,"defaultProps",{checkModel:Ee.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:M().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:M().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:M().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:M().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:M().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:M().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:M().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:M().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:M().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:M().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const Il=eo})(),h})())})(mge);const ZJe=Ke(mge.exports);let gge=function(e){c(r,e);var t=d(r);function r(s){var a;L(this,r),a=t.call(this,s),a.localTracks=xp.filter(g=>g.local&&!g.hidden).map(g=>{const v={...g};return v.datatype=g.datatype[0],v}),a.augmentedTracksInfo=xp,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(g=>{a.augmentedTracksInfo.push(window.higlassTracksByType[g].config)}),s.datatype?a.localTracks=a.localTracks.filter(g=>g.datatype[0]===s.datatype):a.localTracks=a.localTracks.filter(g=>g.orientation===a.props.orientation),a.localTracks.forEach(g=>{g.uuid=Yn.nice()});const u=a.prepareNewEntries("",a.localTracks,{}),h=Object.keys(u),f=h.length?[h[0]]:null;return a.mounted=!1,a.state={selectedUuid:f,options:u,filter:"",checked:[],expanded:[]},a.requestTilesetLists(),a}return V(r,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(a,u,h){const f=h;return u.map(v=>({...v,server:a,tilesetUid:v.uuid,serverUidKey:this.serverUidKey(a,v.uuid),datatype:v.datatype,name:v.name,uid:Yn.nice()})).forEach(v=>{f[v.serverUidKey]=v}),f}},{key:"serverUidKey",value:function(a,u){return`${a}/${u}`}},{key:"requestTilesetLists",value:function(){let a=null;if(this.props.datatype?a=`dt=${this.props.datatype}`:a=[...new Set([].concat(...this.augmentedTracksInfo.filter(h=>h.datatype).filter(h=>h.orientation===this.props.orientation||this.props.orientation==="1d-vertical"&&h.orientation==="1d-horizontal").map(h=>h.datatype)))].map(h=>`dt=${h}`).join("&"),!this.props.trackSourceServers){console.warn("No track source servers specified in the viewconf");return}this.props.trackSourceServers.forEach(u=>{Lr.json(`${u}/tilesets/?limit=10000&${a}`,(h,f)=>{if(h)console.error("ERROR:",h);else{const g=this.prepareNewEntries(u,f.results,this.state.options),v=Object.keys(g);let{selectedUuid:p}=this.state;if(!p){p=v.length?[v[0]]:null;const E=this.state.options[p[0]];this.props.selectedTilesetChanged([E])}this.mounted&&this.setState({selectedUuid:p,options:g})}},this.props.pubSub)})}},{key:"handleOptionDoubleClick",value:function(a){const u=this.state.options[a.target.value];this.props.onDoubleClick(u)}},{key:"handleSelectedOptions",value:function(a){const u=[],h=[];for(let f=0;f<a.length;f++)u.push(a[f]),h.push(this.state.options[a[f]]);this.props.selectedTilesetChanged(h),this.setState({selectedUuid:u})}},{key:"handleSelect",value:function(){const{selectedOptions:a}=this.multiSelect,u=[];for(let h=0;h<a.length;h++){const f=a[h];u.push(f.value)}this.handleSelectedOptions(u)}},{key:"handleSearchChange",value:function(){const a=this.searchBox;this.setState({filter:a.value})}},{key:"partitionByGroup",value:function(a,u){const h={"":{name:"",value:"",children:[]}};for(const g of Object.keys(a)){const v=a[g];if(v.name.toLowerCase().includes(u))if("project_name"in v){const p=v.project_name;p in h||(h[p]={value:p,label:p,children:[]}),h[p].children.push({label:v.name,value:g})}else h[""].children.push({label:v.name,value:g})}const f=h[""].children;for(const g of Object.keys(h))g!==""&&(h[g].children.sort((v,p)=>v.label.toLowerCase().localeCompare(p.label.toLowerCase(),"en")),f.push(h[g]));return f.sort((g,v)=>g.label.toLowerCase().localeCompare(v.label.toLowerCase(),"en")),f}},{key:"handleChecked",value:function(a){this.handleSelectedOptions(a),this.setState({checked:a})}},{key:"handleExpanded",value:function(a){this.setState({expanded:a})}},{key:"render",value:function(){const a=[];for(const v in this.state.options)a.push(this.state.options[v]);const u=this.partitionByGroup(this.state.options,this.state.filter),h={width:15,height:15,top:2,right:2,position:"relative"},f=JSON.parse(JSON.stringify(h));f.opacity=.5;const g=F.default.createElement("form",{onSubmit:v=>{v.preventDefault()}},F.default.createElement("div",{className:"tileset-finder-search-bar"},F.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),F.default.createElement("input",{ref:v=>{this.searchBox=v},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),F.default.createElement("div",{className:"tileset-finder-checkbox-tree"},F.default.createElement(ZJe,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#square_o"})),check:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:F.default.createElement("svg",{style:f},F.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:F.default.createElement("svg",{style:h},F.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:u,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return F.default.createElement("div",null,g)}}]),r}(F.default.Component);gge.propTypes={datatype:$.exports.string,orientation:$.exports.string,onDoubleClick:$.exports.func,pubSub:$.exports.object.isRequired,selectedTilesetChanged:$.exports.func,trackSourceServers:$.exports.array};const KJe=pC(gge);let vge=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.DATATYPE_TO_TRACK_TYPE=Zk(a.props.orientation),a.AVAILABLE_TRACK_TYPES=K0(a.props.datatypes,a.props.orientation),a.state={selectedPlotType:a.AVAILABLE_TRACK_TYPES[0]},a}return V(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(a){if(this.AVAILABLE_TRACK_TYPES=K0(a.datatypes,this.props.orientation),!!this.AVAILABLE_TRACK_TYPES&&a.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){const u=Kk(a.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(u)}}},{key:"handlePlotTypeSelected",value:function(a){this.setState({selectedPlotType:a}),this.props.onPlotTypeSelected(a.type)}},{key:"render",value:function(){let a="No plot types available for track";const u={};return xp.forEach(h=>{u[h.type]=h}),this.AVAILABLE_TRACK_TYPES&&(a=this.AVAILABLE_TRACK_TYPES.sort((h,f)=>h.type<f.type).map(h=>{const f=u[h.type].thumbnail,g=this.state.selectedPlotType.type===h.type?"plot-type-item plot-type-selected":"plot-type-item",v=u[h.type].thumbnail?F.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:f.outerHTML}}):F.default.createElement("div",{className:"track-thumbnail"},F.default.createElement("svg",{height:20,width:30}));return F.default.createElement("li",{key:h.type,className:g,onClick:p=>{this.setState({selectedPlotType:h}),this.props.onPlotTypeSelected(h.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},v,F.default.createElement("span",{style:{verticalAlign:"middle"}},h.type))})),F.default.createElement("div",null,a.length>0&&this.props.allTracksSameDatatype&&F.default.createElement("div",{className:"plot-type-container"},a),!this.props.allTracksSameDatatype&&F.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),r}(F.default.Component);vge.propTypes={allTracksSameDatatype:$.exports.bool,datatypes:$.exports.array,orientation:$.exports.string,onPlotTypeSelected:$.exports.func,position:$.exports.string};let c8=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.options={},a.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},a.handleSubmitBound=a.handleSubmit.bind(b(a)),a.handleTilesetPickerDoubleClickBound=a.handleTilesetPickerDoubleClick.bind(b(a)),a.selectedTilesetsChangedBound=a.selectedTilesetsChanged.bind(b(a)),a}return V(r,[{key:"getOrientation",value:function(a){let u=null;return a==="top"||a==="bottom"?u="1d-horizontal":a==="left"||a==="right"?u="1d-vertical":u="2d",u}},{key:"handleSubmit",value:function(a){a&&a.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(a){this.selectedTilesetsChanged([a]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(a){this.options=a}},{key:"handlePlotTypeSelected",value:function(a){const{selectedTilesets:u}=this.state;for(const h of u)h.type=a;this.selectedPlotType=a,this.setState({selectedTilesets:u})}},{key:"selectedTilesetsChanged",value:function(a){let u=null;a.length===0?u=[{datatype:"none"}]:u=a;let h=!0;const f=u[0].datatype;for(const g of u)g.datatype!==f&&(h=!1);if(h)for(const g of u)g.type=this.selectedPlotType;else for(const g of u){let v=[g.datatype];const p=this.getOrientation(this.props.position);g.filetype==="cooler"&&(v=[g.datatype,"chromsizes"]);const E=K0([v],p),T=Kk(v[0],this.props.position,E);g.type=T.type}this.setState({selectedTilesets:u,allTracksSameDatatype:h})}},{key:"render",value:function(){const a=this.getOrientation(this.props.position),u=F.default.createElement("div",null,F.default.createElement(KJe,{ref:h=>{this.tilesetFinder=h},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:h=>this.props.onTracksChosen(h,this.props.position),orientation:a,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return F.default.createElement(IN,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},F.default.createElement(F.default.Fragment,null,u,F.default.createElement(vge,{ref:h=>{this.plotTypeChooser=h},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map(h=>h.filetype==="cooler"?[h.datatype,"chromsizes"]:[h.datatype]),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:a,position:this.props.position})))}}]),r}(F.default.Component);c8.defaultProps={position:"top"},c8.propTypes={datatype:$.exports.string,host:$.exports.string,onCancel:$.exports.func.isRequired,onTracksChosen:$.exports.func.isRequired,position:$.exports.string,trackSourceServers:$.exports.array.isRequired};let bq=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"render",value:function(){const a=[];return this.props.children.forEach((u,h)=>{const f=`customTrackDialog_${h}`;a.push(F.default.createElement(u,{key:f,...this.props.bodyProps[h]}))}),F.default.createElement(IN,{maxHeight:!0,okayOnly:!0,okayTitle:"Close",onCancel:this.props.onCancel,onOkay:this.props.onCancel,title:this.props.title},a)}}]),r}(F.default.PureComponent);bq.defaultProps={},bq.propTypes={onCancel:$.exports.func.isRequired};const yge=20;let Xy=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.adjusted=!1,a.state={orientation:a.props.orientation?a.props.orientation:"right",left:a.props.position.left,top:a.props.position.top,submenuShown:null},a}return V(r,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){this.adjusted=!1,this.setState({left:a.position.left,top:a.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(a,u){this.setState({submenuShown:u,submenuSourceBbox:a})}},{key:"handleItemMouseEnter",value:function(a,u){this.handleItemMouseEnterWithRect(a.currentTarget.getBoundingClientRect(),u)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(this.adjusted)return;this.adjusted=!0,this.divDom=Te.default.findDOMNode(this.div);const a=this.divDom.getBoundingClientRect(),u=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0};let h=this.state.orientation,f=u.top;if(u.top+a.height>window.innerHeight&&(u.top-a.height>0?f=u.top-a.height+yge:(f=u.top-a.height+yge,f-=f+a.height-window.innerHeight)),this.state.orientation==="left"){let g=u.left-a.width;g<0&&(u.left+u.width+a.width>window.innerWidth?g=0:(g=u.left+u.width,h="right")),this.setState({left:g,top:f,orientation:h})}else{let g=u.left+u.width;u.left+u.width+a.width>window.innerWidth&&(u.left-a.width<0?(g=0,h="right"):(g=u.left-a.width,h="left")),this.setState({left:g,top:f,orientation:h})}}},{key:"render",value:function(){const a=this.state.left?{left:this.state.left}:{right:this.state.right},u={top:this.state.top},h=Object.assign(a,u);return F.default.createElement("div",{ref:f=>{this.div=f},className:si("context-menu-item",mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),style:h},this.props.children)}}]),r}(F.default.Component);Xy.propTypes={children:$.exports.node,orientation:$.exports.string,parentBbox:$.exports.object,position:$.exports.object,theme:$.exports.symbol.isRequired};let _q=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const a=this.state.submenuSourceBbox,u=this.state.orientation==="left"?{left:this.state.left,top:a.top}:{left:this.state.left+a.width+7,top:a.top},h=this.state.submenuShown;return F.default.createElement(r,{menuItems:h.children,orientation:this.state.orientation,parentBbox:a,position:u,theme:this.props.theme})}return F.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){const a=[];for(const u in this.props.menuItems){const h=this.props.menuItems[u];a.push(F.default.createElement(Pn,{key:u,onClick:h.handler?h.handler:()=>null,onMouseEnter:h.children?f=>this.handleItemMouseEnter(f,h):this.handleOtherMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave},h.name,h.children&&F.default.createElement("svg",{className:mn["play-icon"]},F.default.createElement("use",{xlinkHref:"#play"}))))}return F.default.createElement("div",{ref:u=>{this.div=u},className:si(mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),style:{left:this.state.left,top:this.state.top}},a,this.getSubmenu())}}]),r}(Xy),QJe=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"getConfigureSeriesMenu",value:function(a,u,h){const f={},g=window.higlassTracksByType&&window.higlassTracksByType[h.type]&&window.higlassTracksByType[h.type].config&&window.higlassTracksByType[h.type].config.optionsInfo;if(g)for(const v of Object.keys(g))el[v]=g[v];if(!$i[h.type]||!$i[h.type].availableOptions)return null;for(const v of $i[h.type].availableOptions)if(v in el){if(f[v]={name:el[v].name},el[v].generateOptions){const p=el[v].generateOptions(h);f[v].children||(f[v].children={});for(const E of p){const T={name:E.name,value:E.value,handler:()=>{h.options[v]=E.value,this.props.onTrackOptionsChanged(h.uid,h.options),this.props.closeMenu()}};f[v].children[E.value]=T}}if(el[v].inlineOptions)for(const p in el[v].inlineOptions){const E=el[v].inlineOptions[p];f[v].children||(f[v].children={});const T={name:E.name,value:E.value};E.componentPickers&&E.componentPickers[h.type]?T.handler=()=>{this.props.onConfigureTrack(h,E.componentPickers[h.type]),this.props.closeMenu()}:T.handler=()=>{h.options[v]=E.value,this.props.onTrackOptionsChanged(h.uid,h.options),this.props.closeMenu()},f[v].children[p]=T}else el[v].componentPickers&&el[v].componentPickers[h.type]&&(f[v].handler=()=>{this.props.onConfigureTrack(h,el[v].componentPickers[h.type]),this.props.closeMenu()})}return F.default.createElement(_q,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:f,orientation:this.state.orientation,parentBbox:u,position:a,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(a,u,h){window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(E=>{$i[E]=window.higlassTracksByType[E].config});let{datatype:f}=h,g=null;h.type in $i&&(f||(f=$i[h.type].datatype[0]),{orientation:g}=$i[h.type]);const v=Object.values($i).filter(E=>E.datatype).filter(E=>E.orientation).filter(E=>E.datatype.includes(f)).filter(E=>E.orientation===g).map(E=>E.type),p={};for(let E=0;E<v.length;E++)p[v[E]]={value:v[E],name:v[E],handler:()=>{this.props.onChangeTrackType(h.uid,v[E])}};return F.default.createElement(_q,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:p,orientation:this.state.orientation,parentBbox:u,position:a,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const a=this.state.submenuSourceBbox,u=this.state.orientation==="left"?{left:this.state.left,top:a.top}:{left:this.state.left+a.width+7,top:a.top},h=this.state.submenuShown,f=h.value;return h.option==="track-type"?this.getTrackTypeItems(u,a,f):this.getConfigureSeriesMenu(u,a,f)}return F.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){if(this.props.series.data&&this.props.series.data.type==="divided"){const a={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:()=>this.props.onChangeTrackData(this.props.series.uid,a),onMouseEnter:u=>this.handleOtherMouseEnter(u)},F.default.createElement("span",{className:mn["context-menu-span"]},"Remove divisor"))}return F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:()=>this.props.onAddDivisor(this.props.series),onMouseEnter:a=>this.handleOtherMouseEnter(a)},F.default.createElement("span",{className:mn["context-menu-span"]},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){let a=null;$i[this.props.series.type]&&$i[this.props.series.type].exportable&&(a=F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:()=>this.props.onExportData(this.props.hostTrack.uid,this.props.track.uid),onMouseEnter:h=>this.handleOtherMouseEnter(h)},F.default.createElement("span",{className:mn["context-menu-span"]},"Export Data")));const u=this.props.onAddSeries?F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:()=>{this.props.onCloseTrack(this.props.series.uid),this.props.onAddSeries(this.props.hostTrack.uid)},onMouseEnter:h=>this.handleOtherMouseEnter(h)},F.default.createElement("span",{className:mn["context-menu-span"]},"Replace Series")):null;return F.default.createElement("div",{ref:h=>{this.div=h},className:si(mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top}},F.default.createElement(Pn,{onClick:()=>{},onMouseEnter:h=>this.handleItemMouseEnter(h,{option:"configure-series",value:this.props.track}),onMouseLeave:h=>this.handleMouseLeave(h)},"Configure Series",F.default.createElement("svg",{className:mn["play-icon"]},F.default.createElement("use",{xlinkHref:"#play"}))),F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:()=>{},onMouseEnter:h=>this.handleItemMouseEnter(h,{option:"track-type",value:this.props.track}),onMouseLeave:h=>this.handleMouseLeave(h)},F.default.createElement("span",{className:mn["context-menu-span"]},"Track Type",F.default.createElement("svg",{className:mn["play-icon"]},F.default.createElement("use",{xlinkHref:"#play"})))),a,this.getDivideByMenuItem(),F.default.createElement(Pn,{className:mn["context-menu-item"],onClick:this.props.onCloseTrack,onMouseEnter:h=>this.handleOtherMouseEnter(h)},F.default.createElement("span",{className:mn["context-menu-span"]},"Close Series")),u,this.getSubmenu())}}]),r}(Xy);const bge=e=>{let t=[];for(const r of e)r.contents?t=t.concat(r.contents):t.push(r);return t},Tq=(e,t,r,s)=>e?(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(a=>{$i[a]=window.higlassTracksByType[a].config}),bge(e).map(a=>{const u=$i[a.type]?$i[a.type].thumbnail:null,h=u?F.default.createElement("div",{className:mn["context-menu-icon"],dangerouslySetInnerHTML:{__html:u.outerHTML}}):F.default.createElement("div",{className:mn["context-menu-icon"]},F.default.createElement("svg",null));return F.default.createElement(Pn,{key:a.uid,className:mn["context-menu-item"],onClick:()=>{s&&s(a.uid)},onMouseEnter:f=>{t&&t(f,a)},onMouseLeave:f=>{r&&r(f)}},h,F.default.createElement("span",{className:mn["context-menu-span"]},a.options&&a.options.name&&a.options.name.length?a.options.name:a.type,t&&r?F.default.createElement("svg",{className:mn["play-icon"]},F.default.createElement("use",{xlinkHref:"#play"})):null))})):null,_ge=e4(e=>function(t){c(s,t);var r=d(s);function s(){return L(this,s),r.apply(this,arguments)}return V(s,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const u=this.state.submenuSourceBbox;let h=null;this.state.orientation==="left"?h={left:this.state.left,top:u.top}:h={left:this.state.left+u.width+7,top:u.top};const g=bge(this.props.tracks).filter(p=>p.uid===this.state.submenuShown.uid)[0],v=g&&g.position!=="whole";return F.default.createElement(QJe,{key:`series-list-menu-${g.uid}`,ref:p=>{this.seriesListMenu=p},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:v?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:()=>this.props.onCloseTrack(this.state.submenuShown.uid),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:u,position:h,series:this.state.submenuShown,theme:this.props.theme,track:g,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return F.default.createElement("div",null)}}]),s}(e));let JJe=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.seriesRefs={},a.seriesListMenu=null,a}return V(r,[{key:"componentDidMount",value:function(){i(D(r.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){return F.default.createElement("div",{ref:a=>{this.div=a},className:si(mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top}},Tq(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{contextMenu:this,onClick:()=>this.props.onLockValueScale(this.props.tracks[0].uid),onMouseEnter:a=>this.handleOtherMouseEnter(a)},"Lock Value Scale With"),F.default.createElement(Pn,{contextMenu:this,onClick:()=>this.props.onUnlockValueScale(this.props.tracks[0].uid),onMouseEnter:a=>this.handleOtherMouseEnter(a)},"Unlock Value Scale"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{contextMenu:this,onClick:()=>this.props.onAddSeries(this.props.tracks[0].uid),onMouseEnter:a=>this.handleOtherMouseEnter(a)},"Add Series"),F.default.createElement(Pn,{onClick:()=>this.props.onCloseTrack(this.props.tracks[0].uid)},"Close Track"),F.default.createElement(Pn,{onClick:()=>{this.props.onReplaceTrack(this.props.tracks[0].uid,this.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),r}(HC(Xy).with(_ge));function Tge(e){return F.default.createElement("div",null,Tq(e.tracks,null,null,e.onCloseTrack),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:()=>e.onCloseTrack(e.tracks[0].uid)},"Close all series"))}Tge.propTypes={onCloseTrack:$.exports.func.isRequired,tracks:$.exports.array.isRequired};let Yy=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.clickHandlerBound=a.clickHandler.bind(b(a)),a.contextMenuHandlerBound=a.contextMenuHandler.bind(b(a)),a.resizeHandlerBound=a.resizeHandler.bind(b(a)),a}return V(r,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),Te.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){Te.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(a){this.popup.contains(a.target)||this.props.onMenuClosed&&this.props.onMenuClosed(a)}},{key:"contextMenuHandler",value:function(a){a.altKey||(a.preventDefault(),this.clickHandler(a))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return F.default.createElement("div",null)}}]),r}(F.default.Component);Yy.defaultProps={onMenuClosed:nu},Yy.propTypes={children:$.exports.node.isRequired,onMenuClosed:$.exports.func};const eet=q0(e=>F.default.createElement(bpe,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})),tet={"vertical-tiled-plot":"_vertical-tiled-plot_f3ho8_1"};function Ege(e){return e&&e.sourceEvent}let Eq=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.brushBehavior=Bg().on("start",a.brushStarted.bind(b(a))).on("brush",a.brushed.bind(b(a))).on("end",a.brushedEnded.bind(b(a))),a}return V(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(a,u){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==a.rangeSelection&&this.moveBrush(a.rangeSelection[0]?a.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==u;if(this.props.rangeSelection!==a.rangeSelection){const h=this.props.is1dRangeSelection?0:1;return this.moveBrush(a.rangeSelection[h]?a.rangeSelection[h]:null,a.rangeSelectionEnd),this.state!==u}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Lp(this.brushEl,ld["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(a){const u=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!Ege(a)||!this.props.onRangeSelection||u)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(a.selection))}},{key:"brushStarted",value:function(a){!Ege(a)||!a.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(a){if(!this.props.is1dRangeSelection)return;const u=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,a.selection&&a.sourceEvent&&this.props.onRangeSelection&&!u&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(a.selection)),a.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(a,u=!1){if(!this.brushEl)return;const h=a?[this.props.scale(a[0]),this.props.scale(a[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,u?this.brushEl.transition().call(this.brushBehavior.move,h):this.brushEl.call(this.brushBehavior.move,h)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const a=this.props.tracks.map(f=>f.width).reduce(Fp,0),u=this.props.tracks.map(f=>hy(f)).reduce(__,!1),h=ld[this.props.isRangeSelectionActive?"track-range-selection-active":"track-range-selection"];return F.default.createElement("div",{className:tet["vertical-tiled-plot"]},u&&F.default.createElement("svg",{ref:f=>{this.brushEl=Ut(f)},className:h,style:{height:this.props.height,width:a},xmlns:"http://www.w3.org/2000/svg"}),F.default.createElement(U4,{axis:"x",className:si(ud.list,ud.stylizedList,ud.horizontalList),component:vpe,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:ud.stylizedHelper,itemClass:si(ud.stylizedItem,ud.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:eet,items:this.props.tracks.map(f=>({configMenuVisible:f.uid===this.props.configTrackMenuId,uid:f.uid||Yn.nice(),height:this.props.height,width:f.width,value:f.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:a}))}}]),r}(F.default.Component);Eq.propTypes={configTrackMenuId:$.exports.string,editable:$.exports.bool,handleConfigTrack:$.exports.func,handleResizeTrack:$.exports.func,handleSortEnd:$.exports.func,is1dRangeSelection:$.exports.bool,isRangeSelectionActive:$.exports.bool,height:$.exports.number,onAddSeries:$.exports.func,onCloseTrack:$.exports.func,onCloseTrackMenuOpened:$.exports.func,onConfigTrackMenuOpened:$.exports.func,onRangeSelection:$.exports.func,onRangeSelectionEnd:$.exports.func,onRangeSelectionReset:$.exports.func,onRangeSelectionStart:$.exports.func,rangeSelection:$.exports.array,rangeSelectionEnd:$.exports.bool,referenceAncestor:$.exports.func,resizeHandles:$.exports.object,scale:$.exports.func,tracks:$.exports.array,tracksControlAlignLeft:$.exports.bool};let Sge=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"render",value:function(){const a=Tq(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),u=this.props.customItems?F.default.Children.map(this.props.customItems,h=>F.default.cloneElement(h,{onMouseEnter:f=>{this.handleOtherMouseEnter(f)}})):null;return F.default.createElement("div",{ref:h=>{this.div=h},className:si(mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top}},u,u&&F.default.createElement("hr",{className:mn["context-menu-hr"]}),a,a&&F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:()=>this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),onMouseEnter:h=>this.handleOtherMouseEnter(h)},"Add Horizontal Rule"),F.default.createElement(Pn,{onClick:()=>this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),onMouseEnter:h=>this.handleOtherMouseEnter(h)},"Add Vertical Rule"),F.default.createElement(Pn,{onClick:()=>this.props.onAddTrack({type:"cross-rule",x:this.props.coords[0],y:this.props.coords[1],position:"whole"}),onMouseEnter:h=>this.handleOtherMouseEnter(h)},"Add Cross Rule"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),this.hasMatrixTrack(this.props.tracks)&&F.default.createElement(Pn,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:h=>this.handleOtherMouseEnter(h)},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&F.default.createElement(Pn,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:h=>this.handleOtherMouseEnter(h)},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(a){return E_(this.props.tracks).filter(h=>h.type==="heatmap").length>0}},{key:"handleAddHorizontalSection",value:function(){const u=E_(this.props.tracks).filter(h=>h.type==="heatmap")[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:u.server,tilesetUid:u.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){const u=E_(this.props.tracks).filter(h=>h.type==="heatmap")[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:u.server,tilesetUid:u.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),r}(HC(Xy).with(_ge));Sge.propTypes={coords:$.exports.array,customItems:$.exports.array};let Sq=function(e){c(r,e);var t=d(r);function r(s){var a;L(this,r),a=t.call(this,s),a.closing=!1;const{tracks:u}=a.props;return a.canvasElement=null,a.tracksByUidInit={},[...a.props.tracks.top||[],...a.props.tracks.right||[],...a.props.tracks.bottom||[],...a.props.tracks.left||[],...a.props.tracks.gallery||[],...a.props.tracks.center||[]].forEach(h=>{h.type==="combined"?h.contents.forEach(f=>{a.tracksByUidInit[f.uid]=!1}):a.tracksByUidInit[h.uid]=!1}),a.xScale=null,a.yScale=null,a.addUidsToTracks(u),a.trackToReplace=null,a.trackRenderer=null,a.configTrackMenu=null,a.state={sizeMeasured:!1,height:10,width:10,tracks:u,init:!1,addTrackPosition:null,customDialog:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},a.reset=!0,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(h=>{$i[h]=window.higlassTracksByType[h].config}),a.topHeight=0,a.bottomHeight=0,a.leftWidth=0,a.rightWidth=0,a.centerHeight=0,a.centerWidth=0,a.dragTimeout=null,a.previousPropsStr="",a.contextMenuHandlerBound=a.contextMenuHandler.bind(b(a)),a.handleNoTrackAddedBound=a.handleNoTrackAdded.bind(b(a)),a.handleTracksAddedBound=a.handleTracksAdded.bind(b(a)),a.closeMenusBound=a.closeMenus.bind(b(a)),a.handleAddDivisorBound=a.handleAddDivisor.bind(b(a)),a.handleAddSeriesBound=a.handleAddSeries.bind(b(a)),a.handleChangeTrackDataBound=a.handleChangeTrackData.bind(b(a)),a.handleChangeTrackTypeBound=a.handleChangeTrackType.bind(b(a)),a.handleCloseTrackBound=a.handleCloseTrack.bind(b(a)),a.handleConfigureTrackBound=a.handleConfigureTrack.bind(b(a)),a.handleExportTrackDataBound=a.handleExportTrackData.bind(b(a)),a.handleLockValueScaleBound=a.handleLockValueScale.bind(b(a)),a.handleReplaceTrackBound=a.handleReplaceTrack.bind(b(a)),a.handleTrackOptionsChangedBound=a.handleTrackOptionsChanged.bind(b(a)),a.handleUnlockValueScaleBound=a.handleUnlockValueScale.bind(b(a)),a.onAddTrack=a.handleAddTrack.bind(b(a)),a}return V(r,[{key:"waitForDOMAttachment",value:function(a){if(!this.mounted)return;const u=Te.default.findDOMNode(this);document.body.contains(u)?a():requestAnimationFrame(()=>this.waitForDOMAttachment(a))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=Te.default.findDOMNode(this),this.canvasElement=Te.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment(()=>{O1.ElementQueries.listen(),this.resizeSensor=new O1.ResizeSensor(this.element.parentNode,this.measureSize.bind(this)),this.measureSize()}),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){this.addUidsToTracks(a.tracks),this.setState({tracks:a.tracks})}},{key:"shouldComponentUpdate",value:function(a,u){const h=this.previousPropsStr,f=this.updatablePropsToString(a),g=JSON.stringify(this.state),v=JSON.stringify(u),p=h!==f||g!==v||this.props.chooseTrackHandler!==a.chooseTrackHandler||this.props.customDialog!==a.customDialog;p&&(this.previousPropsStr=f);const E=this.numTracks;return this.numTracks=0,Bh(this.props.tracks,()=>this.numTracks++),this.reset=this.reset||E===0&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),p}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(a,u){if(u.rangeSelection!==this.state.rangeSelection){let h=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every(f=>f&&f.length)&&(h=this.state.rangeSelection.map(f=>J0(...f,this.state.defaultChromSizes))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:h})}if(this.state.customDialog||this.props.customDialog){const h=this.state.customDialog||this.props.customDialog;if(h.length>0){const f=[],g=[];h.forEach(v=>{f.push(v.bodyComponent),g.push(v.bodyProps)}),this.props.modal.open(F.default.createElement(bq,{children:f,bodyProps:g,onCancel:this.props.closeCustomDialog,title:h[0].title}))}}if(a.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(F.default.createElement(c8,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){const h=this.state.addDivisorDialog;this.props.modal.open(F.default.createElement(c8,{datatype:$i[h.type].datatype[0],host:this.state.addTrackHost,onCancel:()=>{this.setState({addDivisorDialog:null})},onTracksChosen:f=>{this.handleDivisorChosen(h,f)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach(a=>this.props.pubSub.unsubscribe(a))}},{key:"addUidsToTracks",value:function(a){Object.keys(a).forEach(u=>{a[u].forEach(h=>{h.uid=h.uid||Yn.nice()})})}},{key:"contextMenuHandler",value:function(a){if(!this.divTiledPlot)return;const u=this.divTiledPlot.getBoundingClientRect();if(!Mp(a.clientX,a.clientY,u.left,u.left+u.width,u.top,u.top+u.height))return;const f=[a.clientX,a.clientY],g=nn(a,this.divTiledPlot),v=this.trackRenderer.zoomedXScale.invert(g[0]),p=this.trackRenderer.zoomedYScale.invert(g[1]);let E=null;a.hgCustomItems&&(E=a.hgCustomItems.map(T=>F.default.createElement(Pn,{key:T.key,onClick:T.onClick},T.text))),this.setState({contextMenuCustomItems:E,contextMenuPosition:{left:f[0],top:f[1],canvasLeft:g[0]+this.trackRenderer.xPositionOffset,canvasTop:g[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:v,contextMenuDataY:p})}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(a,u){return this.props.onTrackOptionsChanged(a,u)}},{key:"handleScalesChanged",value:function(a,u){this.xScale=a,this.yScale=u,this.props.onScalesChanged(a,u)}},{key:"handleTilesetInfoReceived",value:function(a,u){const h=_l(this.props.tracks,a);if(!h){console.warn("Strange, track not found:",a);return}this.tracksByUidInit[h.uid]=!0,this.checkAllTilesetInfoReceived(),h.options||(h.options={}),h.name=u.name,h.maxWidth=u.max_width,h.transforms=u.transforms,h.aggregationModes=u.aggregation_modes,h.header=u.header,h.binsPerDimension=u.bins_per_dimension,u.resolutions?(h.maxZoom=u.resolutions.length-1,h.resolutions=u.resolutions):h.maxZoom=u.max_zoom,h.coordSystem=u.coordSystem,h.datatype=u.datatype}},{key:"checkAllTilesetInfoReceived",value:function(){if(this.state.init&&!this.reset||!this.trackRenderer||!this.props.zoomToDataExtentOnInit())return;const a=Object.keys(this.trackRenderer.trackDefObjects).map(h=>{const f=this.trackRenderer.trackDefObjects[h].trackObject;return f.childTracks?f.childTracks:f}).reduce((h,f)=>h.concat(f),[]).filter(({tilesetInfo:h})=>typeof h<"u"&&h!==!0),u=Object.values(this.tracksByUidInit).filter(h=>h).length;a.length===u&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}},{key:"handleOverlayMouseEnter",value:function(a){this.setState({mouseOverOverlayUid:a})}},{key:"handleOverlayMouseLeave",value:function(a){a===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(a){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(a.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(a){this.setState({addDivisorDialog:a})}},{key:"handleDivisorChosen",value:function(a,u){this.setState({addDivisorDialog:null});const h=a.data?{server:a.data.server,tilesetUid:a.data.tilesetUid}:{server:a.server,tilesetUid:a.tilesetUid},f={server:u[0].server,tilesetUid:u[0].uuid};this.handleChangeTrackData(a.uid,{type:"divided",children:[h,f]})}},{key:"handleDivideSeries",value:function(a){}},{key:"handleAddSeries",value:function(a){const u=Wu(this.props.tracks,a),h=_l(this.props.tracks,a);this.setState({addTrackPosition:u,addTrackHost:h})}},{key:"handleReplaceTrack",value:function(a,u){this.trackToReplace=a,this.handleAddTrack(u)}},{key:"handleAddTrack",value:function(a){this.setState({addTrackPosition:a,addTrackHost:null})}},{key:"handleResizeTrack",value:function(a,u,h){const{tracks:f}=this.state;for(const g in f){const p=f[g].filter(E=>E.uid===a);p.length>0&&(p[0].width=u,p[0].height=h)}this.setState({tracks:f,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(a){this.closeMenus(),this.props.onLockValueScale(a)}},{key:"handleUnlockValueScale",value:function(a){this.closeMenus(),this.props.onUnlockValueScale(a)}},{key:"handleCloseTrack",value:function(a){this.closeMenus(),this.props.onCloseTrack(a)}},{key:"handleChangeTrackType",value:function(a,u){this.closeMenus(),this.props.onChangeTrackType(a,u)}},{key:"handleChangeTrackData",value:function(a,u){this.closeMenus(),this.props.onChangeTrackData(a,u)}},{key:"handleTracksAdded",value:function(a,u,h){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(a,u,h),this.setState({addTrackPosition:null,addTrackHost:null}),a}},{key:"handleCloseTrackMenuOpened",value:function(a,u){this.setState({closeTrackMenuId:a,closeTrackMenuLocation:u})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(a,u){this.closeMenus(),this.setState({configTrackMenuId:a,configTrackMenuLocation:u})}},{key:"handleConfigureTrack",value:function(a,u){this.setState({configTrackMenuId:null,trackOptions:{track:a,configComponent:u}}),this.closeMenus()}},{key:"handleSortEnd",value:function(a){this.setState(u=>{const h=u.tracks,f={};for(let g=0;g<a.length;g++)f[a[g].uid]=g;for(const g in h){const v=h[g];if(v.length&&v[0].uid in f){const p=new Array(v.length);for(let E=0;E<v.length;E++)p[f[v[E].uid]]=v[E];h[g]=p}}return{tracks:h,forceUpdate:Math.random()}})}},{key:"createTracksAndLocations",value:function(){const a=[],{tracks:u}=this.state;return jA.forEach(h=>{u[h]&&u[h].forEach(f=>{f.contents&&f.contents.forEach(g=>{g.position=h}),f.position=h,a.push({track:f,location:h})})}),a}},{key:"calculateTrackPosition",value:function(a,u){let h=this.props.paddingTop,f=this.props.paddingBottom,g=this.props.paddingLeft,v=this.props.paddingRight,p=this.centerWidth,E=a.height,T=0,S=0;switch(u){case"top":g+=this.leftWidth;for(let x=0;x<this.state.tracks.top.length&&this.state.tracks.top[x].uid!==a.uid;x++)h+=this.state.tracks.top[x].height;break;case"bottom":g+=this.leftWidth,h+=this.topHeight+this.centerHeight+this.galleryDim;for(let x=0;x<this.state.tracks.bottom.length&&this.state.tracks.bottom[x].uid!==a.uid;x++)h+=this.state.tracks.bottom[x].height;break;case"left":h+=this.topHeight,p=a.width,E=this.centerHeight;for(let x=0;x<this.state.tracks.left.length&&this.state.tracks.left[x].uid!==a.uid;x++)g+=this.state.tracks.left[x].width;break;case"right":g+=this.leftWidth+this.centerWidth+this.galleryDim,h+=this.topHeight,p=a.width,E=this.centerHeight;for(let x=0;x<this.state.tracks.right.length&&this.state.tracks.right[x].uid!==a.uid;x++)g+=this.state.tracks.right[x].width;break;case"center":g+=this.leftWidth,h+=this.topHeight,E=this.centerHeight;break;case"gallery":g+=this.leftWidthNoGallery,h+=this.topHeightNoGallery,p=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,E=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,T=this.galleryDim,S=this.galleryDim;for(let x=0;x<this.state.tracks.gallery.length&&this.state.tracks.gallery[x].uid!==a.uid;x++)p-=2*this.state.tracks.gallery[x].height,E-=2*this.state.tracks.gallery[x].height,g+=this.state.tracks.gallery[x].height,h+=this.state.tracks.gallery[x].height,T-=this.state.tracks.gallery[x].height,S-=this.state.tracks.gallery[x].height;for(let x=0;x<this.state.tracks.right.length;x++)v+=this.state.tracks.right[x].width;for(let x=0;x<this.state.tracks.bottom.length;x++)f+=this.state.tracks.bottom[x].height;a.offsetX=T,a.offsetY=S,a.offsetTop=h,a.offsetRight=v,a.offsetBottom=f,a.offsetLeft=g;break;case"whole":default:p=this.leftWidth+this.centerWidth+this.rightWidth,E=this.topHeight+this.centerHeight+this.bottomHeight}return jA.indexOf(u)===-1&&console.warn("Track with unknown position present:",u,a),{left:g,top:h,width:p,height:E,track:a}}},{key:"findCentralHeatmapTrack",value:function(a){for(let u=0;u<a.length;u++){if(a[u].type==="combined")return this.findCentralHeatmapTrack(a[u].contents);if(a[u].type==="heatmap")return a[u]}}},{key:"trackUuidToOrientation",value:function(a){}},{key:"overlayTracks",value:function(a){return this.props.overlays?this.props.overlays.filter(h=>h.includes&&h.includes.length).map(h=>{const f=h.type?`overlay-${h.type}-track`:"overlay-track",g={...h,uid:h.uid||Yn.nice(),includes:h.includes,type:f,options:Object.assign(h.options,{orientationsAndPositions:h.includes.map(v=>{const p=_l(this.props.tracks,v);if(!p)return console.warn(`OverlayTrack included uid (${v}) not found in the track list`),null;const E=Wu(this.props.tracks,p.uid);let T;if((E==="top"||E==="bottom")&&(T="1d-horizontal"),(E==="left"||E==="right")&&(T="1d-vertical"),E==="center"&&(T="2d"),!T)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;const S=a.filter(O=>O.track.uid===v);if(!S.length)return null;const x={left:S[0].left-this.props.paddingLeft,top:S[0].top-this.props.paddingTop,width:S[0].width,height:S[0].height};return{orientation:T,position:x}}).filter(v=>v)})};return{top:this.props.paddingTop,left:this.props.paddingLeft,width:this.leftWidth+this.centerWidth+this.rightWidth,height:this.topHeight+this.centerHeight+this.bottomHeight+this.props.marginTop+this.props.marginBottom,track:g}}):[]}},{key:"positionedTracks",value:function(){return this.createTracksAndLocations().map(({track:u,location:h})=>this.calculateTrackPosition(u,h))}},{key:"createTrackPositionTexts",value:function(){const a=this.positionedTracks();return this.createTracksAndLocations(),a.map(h=>{const{track:f}=h;return F.default.createElement("div",{key:f.uid,style:{left:h.left,top:h.top,width:h.width,height:h.height,position:"absolute"}},f.uid.slice(0,2))})}},{key:"handleExportTrackData",value:function(a,u){const h=_l(this.props.tracks,u);let f=null;a!==u?f=this.trackRenderer.trackDefObjects[a].trackObject.createdTracks[h.uid]:{trackObject:f}=this.trackRenderer.trackDefObjects[a],f.exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(a,u,h=!1){const f=[];if(!this.trackRenderer)return[];for(const g in this.trackRenderer.trackDefObjects){const v=this.trackRenderer.trackDefObjects[g].trackObject;if(v.respondsToPosition(a,u))if(h){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(let p=0;p<this.props.tracks.center.contents.length;p++)this.props.tracks.center.contents[p].uid===g&&(v.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===g&&(v.is2d=!0);f.push(v)}else f.push(this.trackRenderer.trackDefObjects[g].trackDef.track)}return f}},{key:"listAllTrackObjects",value:function(){const a=[];for(const u in this.trackRenderer.trackDefObjects){const h=this.trackRenderer.trackDefObjects[u];if(h.trackObject.createdTracks)for(const f in h.trackObject.createdTracks){const g=h.trackObject.createdTracks[f];a.push(g)}else a.push(h.trackObject)}return a}},{key:"handleZoomToData",value:function(){const a=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,h=[a,a],f=[u,u],g=this.listAllTrackObjects();for(const S of g)if(S.tilesetInfo&&S.tilesetInfo.min_pos)for(let x=0;x<S.tilesetInfo.min_pos.length;x++)S.tilesetInfo.min_pos[x]<h[x]&&(h[x]=S.tilesetInfo.min_pos[x]),S.tilesetInfo.max_pos[x]>f[x]&&(f[x]=S.tilesetInfo.max_pos[x]);const v=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth;let p=[v,v+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert);const E=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight;let T=[E,E+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),h[0]<Number.MAX_SAFE_INTEGER&&f[0]>Number.MIN_SAFE_INTEGER&&(p=[h[0],f[0]]),h[1]<Number.MAX_SAFE_INTEGER&&f[1]>Number.MIN_SAFE_INTEGER&&(T=[h[1],f[1]]),this.props.onDataDomainChanged(p,T)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(a){return JSON.stringify({tracks:a.tracks,overlays:a.overlays,viewOptions:a.viewOptions,uid:a.uid,addTrackPosition:a.addTrackPosition,editable:a.editable,marginTop:a.marginTop,marginBottom:a.marginBottom,marginLeft:a.marginLeft,marginRight:a.marginRight,paddingTop:a.paddingTop,paddingBottom:a.paddingBottom,paddingLeft:a.paddingLeft,paddingRight:a.paddingRight,mouseTool:a.mouseTool,initialXDomain:a.initialXDomain,initialYDomain:a.initialYDomain,trackSourceServers:a.trackSourceServers,zoomable:a.zoomable,draggingHappening:a.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(a,u){return u?[parseInt(u.invert(a[0]),10),parseInt(u.invert(a[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(a){(!this.xScale||!this.yScale)&&this.getXYScales();const u=a==="x"?this.xScale:this.yScale;return h=>{this.setState(f=>{const g=f.is1dRangeSelection?[null,null]:f.rangeSelection.slice(),v=!this.state.is1dRangeSelection&&a==="y"?1:0;let p=this.rangeViewToDataLoci(h,u);const E=p[1]-p[0];if(this.props.rangeSelection1dSize[0]>E){const T=p[0]+E/2;p=[T-this.props.rangeSelection1dSize[0]/2,T+this.props.rangeSelection1dSize[0]/2]}else if(this.props.rangeSelection1dSize[1]<E){const T=p[0]+E/2;p=[T-this.props.rangeSelection1dSize[1]/2,T+this.props.rangeSelection1dSize[1]/2]}return g[v]=p,this.props.rangeSelectionToInt&&(g[v]=g[v].map(T=>Math.round(T))),{rangeSelection:g,rangeSelectionEnd:!0}})}}},{key:"rangeSelection1dHandler",value:function(a){(!this.xScale||!this.yScale)&&this.getXYScales();const u=a==="x"?this.xScale:this.yScale;return h=>{this.setState(f=>{const g=f.is1dRangeSelection?[null,null]:f.rangeSelection.slice(),v=!f.is1dRangeSelection&&a==="y"?1:0;return g[v]=this.rangeViewToDataLoci(h,u),{rangeSelection:g,rangeSelectionEnd:!1}})}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(a){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(a[0],this.xScale),this.rangeViewToDataLoci(a[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(a){(!this.xScale||!this.yScale)&&this.getXYScales();const u=this.rangeViewToDataLoci(a[0],this.xScale),h=this.rangeViewToDataLoci(a[1],this.yScale);let f=[u,h];const g=u[1]-u[0],v=h[1]-h[0],p=[g,v];f.forEach((E,T)=>{if(this.props.rangeSelection1dSize[0]>p[T]){const S=E[0]+Math.round(p[T]/2);E[0]=S-this.props.rangeSelection1dSize[0]/2,E[1]=S+this.props.rangeSelection1dSize[0]/2}else if(this.props.rangeSelection1dSize[1]<p[T]){const S=E[0]+Math.round(p[T]/2);E[0]=S-this.props.rangeSelection1dSize[1]/2,E[1]=S+this.props.rangeSelection1dSize[1]/2}}),this.props.rangeSelectionToInt&&(f=f.map(E=>E.map(T=>Math.round(T)))),this.setState({rangeSelection:f,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){if(this.state.contextMenuPosition){const a=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return F.default.createElement(Yy,{onMenuClosed:this.closeMenusBound},F.default.createElement(Sge,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:u=>{this.props.onTracksAdded([u],u.position,null),this.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:a,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){const a=this.props.draggingHappening,u=a.datatype;if(!(u in Ip)&&!a.defaultTracks){console.warn("unknown data type:",a.higlassTrack);return}const h={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},f=Ip[u]||{};if(a.defaultTracks)for(const ae of a.defaultTracks)if(!$i[ae])console.warn("unknown track type",ae);else for(const ye of h[$i[ae].orientation])f[ye]=ae;const g=new Set(["top","left","right","center","bottom"].filter(ae=>ae in this.state.tracks&&this.state.tracks[ae].length)),v="top"in f,p="left"in f,E="right"in f,T="bottom"in f,S="center"in f,x="center"in f||g.has("left")||g.has("right")||g.has("center"),O="top"in f,P="bottom"in f&&x,M="left"in f&&x,G="right"in f&&x,B=Object.keys(f).length&&("center"in f||x),U=F.default.createElement("div",{style:{flexGrow:1}}),j=F.default.cloneElement(U),Z=F.default.createElement("div",{style:{display:"flex",flexGrow:1}},O&&(B||M)?U:null,F.default.createElement(b6,{defaultTrackType:f.top,draggingHappening:this.props.draggingHappening,enabled:v,onTrackDropped:ae=>this.handleTracksAdded([ae],"top"),style:{border:"1px solid black",flexGrow:1}}),O&&(B||M)?j:null),ee=F.default.createElement("div",{style:{display:"flex",flexGrow:1}},O&&(B||M)?U:null,F.default.createElement(b6,{defaultTrackType:f.bottom,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:ae=>this.handleTracksAdded([ae],"bottom"),style:{border:"1px solid black",flexGrow:1}}),O&&(B||M)?j:null),J=F.default.createElement(b6,{defaultTrackType:f.left,draggingHappening:this.props.draggingHappening,enabled:p,onTrackDropped:ae=>this.handleTracksAdded([ae],"left"),style:{border:"1px solid black",flexGrow:1}}),he=F.default.createElement(b6,{defaultTrackType:f.center,draggingHappening:this.props.draggingHappening,enabled:S,onTrackDropped:ae=>this.handleTracksAdded([ae],"center"),position:"center",style:{border:"1px solid black",flexGrow:1}}),pe=F.default.cloneElement(J,{defaultTrackType:f.right,enabled:E,onTrackDropped:ae=>this.handleTracksAdded([ae],"right")});return F.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},F.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),F.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},O?Z:null,x&&F.default.createElement("div",{style:{display:"flex",height:O||P?"40%":"100%",width:"100%"}},M?J:null,B?he:null,G?pe:null),P?ee:null))}},{key:"render",value:function(){this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map(B=>B.height).reduce(Fp,0):0,this.topHeightNoGallery=this.props.tracks.top.map(B=>B.height).reduce(Fp,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map(B=>B.height).reduce(Fp,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map(B=>B.width).reduce(Fp,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map(B=>B.width).reduce(Fp,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;const a=this.props.paddingTop+this.props.paddingBottom,u=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-a),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-u);const h="none",f=F.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:h,position:"absolute"}},F.default.createElement(z4,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===ju,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),g=F.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:h,position:"absolute"}},F.default.createElement(Eq,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===ju,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),v=F.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:h,position:"absolute"}},F.default.createElement(Eq,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===ju,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),p=F.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:h,position:"absolute"}},F.default.createElement(z4,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===ju,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),E=F.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:h,position:"absolute"}},F.default.createElement(Sue,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim}));let T=F.default.createElement("div",{className:["center-track-container",sW["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:h}});this.props.tracks.center.length&&(T=F.default.createElement("div",{className:["center-track-container",sW["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:h}},F.default.createElement(lW,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===ju,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();let S=this.positionedTracks();S=S.concat(this.overlayTracks(S));let x=null;this.state.sizeMeasured&&(x=F.default.createElement(qJe,{ref:B=>{this.trackRenderer=B,this.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===ju,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:S,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},f,g,v,p,E,T));let O=null,P=null;this.state.configTrackMenuId&&(O=F.default.createElement(Yy,{onMenuClosed:this.closeMenusBound},F.default.createElement(JJe,{ref:B=>{this.configTrackMenu=B},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:Wu(this.props.tracks,this.state.configTrackMenuId),tracks:[_l(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(P=F.default.createElement(Yy,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},F.default.createElement(Xy,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},F.default.createElement(Tge,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[_l(this.props.tracks,this.state.closeTrackMenuId)]}))));let M=null;this.props.chooseTrackHandler&&(M=S.filter(B=>B.track.position!=="whole").map(B=>{let U="transparent",j="none";return this.state.mouseOverOverlayUid===B.track.uid&&(U="yellow",j="1px solid black"),F.default.createElement("div",{key:B.track.uid,className:"tiled-plot-track-overlay",onClick:()=>this.handleTrackPositionChosen(B),onDragEnter:Z=>{this.handleOverlayMouseEnter(B.track.uid),Z.preventDefault()},onDragLeave:()=>this.handleOverlayMouseLeave(B.track.uid),onDragOver:Z=>Z.preventDefault(),onDrop:()=>this.handleTrackPositionChosen(B),onMouseEnter:()=>this.handleOverlayMouseEnter(B.track.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(B.track.uid),style:{position:"absolute",left:B.left,top:B.top,width:B.width,height:B.height,background:U,opacity:.4,border:j,zIndex:1}})}));let G=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){const B=this.state.trackOptions.configComponent,U=this.state.trackOptions.track;G=F.default.createElement(B,{track:U,xScale:this.xScale,yScale:this.yScale,onCancel:()=>{this.setState({trackOptions:null})},onTrackOptionsChanged:j=>j,onSubmit:j=>{this.handleTrackOptionsChanged(this.state.trackOptions.track.uid,j),this.setState({trackOptions:null})}})}return F.default.createElement("div",{ref:B=>{this.divTiledPlot=B},className:["tiled-plot-div",ud["tiled-plot"]].join(" "),style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},x,M,O,P,G,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach(a=>document.addEventListener(a.name,a.callback,!1))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach(a=>document.removeEventListener(a.name,a.callback))}}]),r}(F.default.Component);Sq.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},Sq.propTypes={addTrackPosition:$.exports.string,canvasElement:$.exports.object,chooseTrackHandler:$.exports.func,chromInfoPath:$.exports.string,disableTrackMenu:$.exports.bool,dragging:$.exports.bool,draggingHappening:$.exports.bool,editable:$.exports.bool,getLockGroupExtrema:$.exports.func,initialXDomain:$.exports.array,initialYDomain:$.exports.array,isShowGlobalMousePosition:$.exports.bool,isValueScaleLocked:$.exports.func,marginBottom:$.exports.number.isRequired,marginLeft:$.exports.number.isRequired,marginRight:$.exports.number.isRequired,marginTop:$.exports.number.isRequired,paddingBottom:$.exports.number.isRequired,paddingLeft:$.exports.number.isRequired,paddingRight:$.exports.number.isRequired,paddingTop:$.exports.number.isRequired,metaTracks:$.exports.array,modal:$.exports.object,mouseTool:$.exports.string,onCloseTrack:$.exports.func,onChangeTrackData:$.exports.func,onChangeTrackType:$.exports.func,onDataDomainChanged:$.exports.func,onLockValueScale:$.exports.func,onMouseMoveZoom:$.exports.func,onNewTilesLoaded:$.exports.func,onNoTrackAdded:$.exports.func,onRangeSelection:$.exports.func.isRequired,onScalesChanged:$.exports.func,onTrackOptionsChanged:$.exports.func,onTrackPositionChosen:$.exports.func,onTracksAdded:$.exports.func,onUnlockValueScale:$.exports.func,onValueScaleChanged:$.exports.func,onResizeTrack:$.exports.func,overlays:$.exports.array,openModal:$.exports.func,pixiRenderer:$.exports.object,pixiStage:$.exports.object,pluginDataFetchers:$.exports.object,pluginTracks:$.exports.object,pubSub:$.exports.object.isRequired,rangeSelection1dSize:$.exports.array,rangeSelectionToInt:$.exports.bool,registerDraggingChangedListener:$.exports.func,removeDraggingChangedListener:$.exports.func,setCentersFunction:$.exports.func,svgElement:$.exports.object,theme:$.exports.symbol.isRequired,tracks:$.exports.object,trackSourceServers:$.exports.array,uid:$.exports.string,viewOptions:$.exports.object,xDomainLimits:$.exports.array,yDomainLimits:$.exports.array,zoomable:$.exports.bool,zoomLimits:$.exports.array,zoomToDataExtentOnInit:$.exports.func};const ret=pC(j4(V_(Sq)));var Age={exports:{}},net=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},iet=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},aet=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function oet(e){var t=void 0,r=void 0,s=void 0,a=e.ownerDocument,u=a.body,h=a&&a.documentElement;return t=e.getBoundingClientRect(),r=t.left,s=t.top,r-=h.clientLeft||u.clientLeft||0,s-=h.clientTop||u.clientTop||0,{left:r,top:s}}function wge(e,t){var r=e["page"+(t?"Y":"X")+"Offset"],s="scroll"+(t?"Top":"Left");if(typeof r!="number"){var a=e.document;r=a.documentElement[s],typeof r!="number"&&(r=a.body[s])}return r}function Aq(e){return wge(e)}function wq(e){return wge(e,!0)}function Cge(e){var t=oet(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=Aq(s),t.top+=wq(s),t}function set(e,t,r){var s="",a=e.ownerDocument,u=r||a.defaultView.getComputedStyle(e,null);return u&&(s=u.getPropertyValue(t)||u[t]),s}var uet=new RegExp("^("+aet+")(?!px)[a-z%]+$","i"),cet=/^(top|right|bottom|left)$/,Cq="currentStyle",xq="runtimeStyle",mT="left",het="px";function fet(e,t){var r=e[Cq]&&e[Cq][t];if(uet.test(r)&&!cet.test(t)){var s=e.style,a=s[mT],u=e[xq][mT];e[xq][mT]=e[Cq][mT],s[mT]=t==="fontSize"?"1em":r||0,r=s.pixelLeft+het,s[mT]=a,e[xq][mT]=u}return r===""?"auto":r}var gT=void 0;typeof window<"u"&&(gT=window.getComputedStyle?set:fet);function Iq(e,t){for(var r=0;r<e.length;r++)t(e[r])}function xge(e){return gT(e,"boxSizing")==="border-box"}var det=["margin","border","padding"],Dq=-1,pet=2,Oq=1,met=0;function get(e,t,r){var s={},a=e.style,u=void 0;for(u in t)t.hasOwnProperty(u)&&(s[u]=a[u],a[u]=t[u]);r.call(e);for(u in t)t.hasOwnProperty(u)&&(a[u]=s[u])}function KN(e,t,r){var s=0,a=void 0,u=void 0,h=void 0;for(u=0;u<t.length;u++)if(a=t[u],a)for(h=0;h<r.length;h++){var f=void 0;a==="border"?f=a+r[h]+"Width":f=a+r[h],s+=parseFloat(gT(e,f))||0}return s}function h8(e){return e!=null&&e==e.window}var fm={};Iq(["Width","Height"],function(e){fm["doc"+e]=function(t){var r=t.document;return Math.max(r.documentElement["scroll"+e],r.body["scroll"+e],fm["viewport"+e](r))},fm["viewport"+e]=function(t){var r="client"+e,s=t.document,a=s.body,u=s.documentElement,h=u[r];return s.compatMode==="CSS1Compat"&&h||a&&a[r]||h}});function Ige(e,t,r){if(h8(e))return t==="width"?fm.viewportWidth(e):fm.viewportHeight(e);if(e.nodeType===9)return t==="width"?fm.docWidth(e):fm.docHeight(e);var s=t==="width"?["Left","Right"]:["Top","Bottom"],a=t==="width"?e.offsetWidth:e.offsetHeight;gT(e);var u=xge(e),h=0;(a==null||a<=0)&&(a=void 0,h=gT(e,t),(h==null||Number(h)<0)&&(h=e.style[t]||0),h=parseFloat(h)||0),r===void 0&&(r=u?Oq:Dq);var f=a!==void 0||u,g=a||h;if(r===Dq)return f?g-KN(e,["border","padding"],s):h;if(f){var v=r===pet?-KN(e,["border"],s):KN(e,["margin"],s);return g+(r===Oq?0:v)}return h+KN(e,det.slice(r),s)}var vet={position:"absolute",visibility:"hidden",display:"block"};function Dge(e){var t=void 0,r=arguments;return e.offsetWidth!==0?t=Ige.apply(void 0,r):get(e,vet,function(){t=Ige.apply(void 0,r)}),t}function vx(e,t,r){var s=r;if((typeof t>"u"?"undefined":iet(t))==="object"){for(var a in t)t.hasOwnProperty(a)&&vx(e,a,t[a]);return}if(typeof s<"u"){typeof s=="number"&&(s+="px"),e.style[t]=s;return}return gT(e,t)}Iq(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);fm["outer"+t]=function(s,a){return s&&Dge(s,e,a?met:Oq)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];fm[e]=function(s,a){if(a!==void 0){if(s){gT(s);var u=xge(s);return u&&(a+=KN(s,["padding","border"],r)),vx(s,e,a)}return}return s&&Dge(s,e,Dq)}});function yet(e,t){vx(e,"position")==="static"&&(e.style.position="relative");var r=Cge(e),s={},a=void 0,u=void 0;for(u in t)t.hasOwnProperty(u)&&(a=parseFloat(vx(e,u))||0,s[u]=a+t[u]-r[u]);vx(e,s)}var bet=net({getWindow:function(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},offset:function(t,r){if(typeof r<"u")yet(t,r);else return Cge(t)},isWindow:h8,each:Iq,css:vx,clone:function(t){var r={};for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);var a=t.overflow;if(a)for(var s in t)t.hasOwnProperty(s)&&(r.overflow[s]=t.overflow[s]);return r},scrollLeft:function(t,r){if(h8(t)){if(r===void 0)return Aq(t);window.scrollTo(r,wq(t))}else{if(r===void 0)return t.scrollLeft;t.scrollLeft=r}},scrollTop:function(t,r){if(h8(t)){if(r===void 0)return wq(t);window.scrollTo(Aq(t),r)}else{if(r===void 0)return t.scrollTop;t.scrollTop=r}},viewportWidth:0,viewportHeight:0},fm),ka=bet;function _et(e,t,r){r=r||{},t.nodeType===9&&(t=ka.getWindow(t));var s=r.allowHorizontalScroll,a=r.onlyScrollIfNeeded,u=r.alignWithTop,h=r.alignWithLeft,f=r.offsetTop||0,g=r.offsetLeft||0,v=r.offsetBottom||0,p=r.offsetRight||0;s=s===void 0?!0:s;var E=ka.isWindow(t),T=ka.offset(e),S=ka.outerHeight(e),x=ka.outerWidth(e),O=void 0,P=void 0,M=void 0,G=void 0,B=void 0,U=void 0,j=void 0,Z=void 0,ee=void 0,J=void 0;E?(j=t,J=ka.height(j),ee=ka.width(j),Z={left:ka.scrollLeft(j),top:ka.scrollTop(j)},B={left:T.left-Z.left-g,top:T.top-Z.top-f},U={left:T.left+x-(Z.left+ee)+p,top:T.top+S-(Z.top+J)+v},G=Z):(O=ka.offset(t),P=t.clientHeight,M=t.clientWidth,G={left:t.scrollLeft,top:t.scrollTop},B={left:T.left-(O.left+(parseFloat(ka.css(t,"borderLeftWidth"))||0))-g,top:T.top-(O.top+(parseFloat(ka.css(t,"borderTopWidth"))||0))-f},U={left:T.left+x-(O.left+M+(parseFloat(ka.css(t,"borderRightWidth"))||0))+p,top:T.top+S-(O.top+P+(parseFloat(ka.css(t,"borderBottomWidth"))||0))+v}),B.top<0||U.top>0?u===!0?ka.scrollTop(t,G.top+B.top):u===!1?ka.scrollTop(t,G.top+U.top):B.top<0?ka.scrollTop(t,G.top+B.top):ka.scrollTop(t,G.top+U.top):a||(u=u===void 0?!0:!!u,u?ka.scrollTop(t,G.top+B.top):ka.scrollTop(t,G.top+U.top)),s&&(B.left<0||U.left>0?h===!0?ka.scrollLeft(t,G.left+B.left):h===!1?ka.scrollLeft(t,G.left+U.left):B.left<0?ka.scrollLeft(t,G.left+B.left):ka.scrollLeft(t,G.left+U.left):a||(h=h===void 0?!0:!!h,h?ka.scrollLeft(t,G.left+B.left):ka.scrollLeft(t,G.left+U.left)))}var Tet=_et;(function(e){e.exports=Tet})(Age);const Eet=Ke(Age.exports),QN=[];let kq=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},a.keyDownHandlers={ArrowDown(u){u.preventDefault();const h=this.getFilteredItems().length;if(!h)return;const{highlightedIndex:f}=this.state,g=f===null||f===h-1?0:f+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:g,isOpen:!0})},ArrowUp(u){u.preventDefault();const h=this.getFilteredItems().length;if(!h)return;const{highlightedIndex:f}=this.state,g=f===0||f===null?h-1:f-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:g,isOpen:!0})},Enter(u){if(this.state.isOpen!==!1)if(this.state.highlightedIndex===null)this.setState({isOpen:!1},()=>{this.inputEl.select()});else{u.preventDefault();const h=this.getFilteredItems()[this.state.highlightedIndex],f=this.props.getItemValue(h);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.inputEl.setSelectionRange(f.length,f.length),this.props.onSelect(f,h)})}},Escape(){this.setState({highlightedIndex:null,isOpen:!1})}},a}return V(r,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){this._performAutoCompleteOnUpdate=!0,(this.props.items!==a.items||this.state.highlightedIndex>=a.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(a,u){this.state.isOpen===!0&&u.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),u.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(this.state.isOpen===!0&&this.state.highlightedIndex!==null){const a=this.refs[`item-${this.state.highlightedIndex}`],u=this.refs.menu;a&&Eet(K.findDOMNode(a),K.findDOMNode(u),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(a){this.keyDownHandlers[a.key]?this.keyDownHandlers[a.key].call(this,a):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(a){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(a,a.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){let a=this.props.items;return this.props.shouldItemRender&&(a=a.filter(u=>this.props.shouldItemRender(u,this.props.value))),this.props.sortItems&&a.sort((u,h)=>this.props.sortItems(u,h,this.props.value)),a}},{key:"maybeAutoCompleteText",value:function(){if(!this.props.autoHighlight||this.props.value==="")return;const{highlightedIndex:a}=this.state,u=this.getFilteredItems();if(u.length===0)return;const h=a!==null?u[a]:u[0];this.props.getItemValue(h).toLowerCase().indexOf(this.props.value.toLowerCase())===0&&a===null&&this.setState({highlightedIndex:0})}},{key:"setMenuPositions",value:function(){const a=this.inputEl,u=a.getBoundingClientRect(),h=globalThis.window.getComputedStyle(a),f=parseInt(h.marginBottom,10)||0,g=parseInt(h.marginLeft,10)||0,v=parseInt(h.marginRight,10)||0;this.setState({menuTop:u.bottom+f,menuLeft:u.left+g,menuWidth:u.width+g+v})}},{key:"highlightItemFromMouse",value:function(a){this.setState({highlightedIndex:a})}},{key:"selectItemFromMouse",value:function(a){const u=this.props.getItemValue(a);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.props.onSelect(u,a),this.inputEl.focus()})}},{key:"setIgnoreBlur",value:function(a){this._ignoreBlur=a}},{key:"renderMenu",value:function(){const a=this.getFilteredItems().map((f,g)=>{const v=this.props.renderItem(f,this.state.highlightedIndex===g,{cursor:"default"});return F.default.cloneElement(v,{onMouseDown:()=>this.setIgnoreBlur(!0),onMouseEnter:()=>this.highlightItemFromMouse(g),onClick:()=>this.selectItemFromMouse(f),ref:`item-${g}`})}),u={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!a.length)return null;const h=this.props.renderMenu(a,this.props.value,u);return F.default.cloneElement(h,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur){this.setIgnoreBlur(!1);return}this._ignoreClick=!0,this.setState({isOpen:!0})}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&this.state.isOpen===!1?this.setState({isOpen:!0}):this.state.highlightedIndex!==null&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(a,u){return u?h=>{a(h),u(h)}:a}},{key:"render",value:function(){this.props.debug&&QN.push({id:QN.length,state:this.state});const{inputProps:a}=this.props;return F.default.createElement("div",{style:{...this.props.wrapperStyle},...this.props.wrapperProps},F.default.createElement("input",{...a,ref:u=>{this.inputEl=u},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),a.onBlur&&a.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),a.onClick&&a.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),a.onFocus&&a.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),a.onKeyDown&&a.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),a.onKeyUp&&a.onKeyUp.bind(this)),role:"combobox",value:this.props.value}),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&F.default.createElement("pre",{style:{marginLeft:300}},JSON.stringify(QN.slice(QN.length-5,QN.length),null,2)))}}]),r}(F.default.Component);kq.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange(){},onSelect(){},renderMenu(e,t,r){return F.default.createElement("div",{style:{...r,...this.menuStyle}},e)},shouldItemRender(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange(){}},kq.propTypes={autoHighlight:$.exports.bool,debug:$.exports.bool,getItemValue:$.exports.func.isRequired,inputProps:$.exports.object,items:$.exports.array,menuStyle:$.exports.object,onChange:$.exports.func,onFocus:$.exports.func,onMenuVisibilityChange:$.exports.func,onSelect:$.exports.func,open:$.exports.bool,renderItem:$.exports.func.isRequired,renderMenu:$.exports.func,shouldItemRender:$.exports.func,sortItems:$.exports.func,value:$.exports.any,wrapperProps:$.exports.object,wrapperStyle:$.exports.object};const yx={"genome-position-search":"_genome-position-search_1l2sx_1","genome-position-search-focus":"_genome-position-search-focus_1l2sx_2","genome-position-search-bar":"_genome-position-search-bar_1l2sx_16","genome-position-search-dark":"_genome-position-search-dark_1l2sx_34","genome-position-search-bar-button":"_genome-position-search-bar-button_1l2sx_38","genome-position-search-bar-button-focus":"_genome-position-search-bar-button-focus_1l2sx_39","genome-position-search-bar-icon":"_genome-position-search-bar-icon_1l2sx_62","genome-position-search-bar-icon-focus":"_genome-position-search-bar-icon-focus_1l2sx_63","genome-position-search-bar-suggestions":"_genome-position-search-bar-suggestions_1l2sx_83",btn:"_btn_1l2sx_95","btn-sm":"_btn-sm_1l2sx_116","btn-default":"_btn-default_1l2sx_122"};let Oge=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.mounted=!1,a.uid=Yn.nice(),a.chromInfo=null,a.searchField=null,a.autocompleteMenu=null,a.xScale=null,a.yScale=null,a.prevParts=[],a.props.registerViewportChangedListener(a.scalesChanged.bind(b(a))),a.menuPosition={left:0,top:0},a.positionText="chr4:190,998,876-191,000,255",a.state={genes:[],isFocused:!1,autocompleteServer:a.props.autocompleteServer,autocompleteId:a.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},a.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},a.availableAutocompletes={},a.props.autocompleteId&&(a.availableAutocompletes[a.props.chromInfoId]=new Set([{server:a.props.autocompleteServer,acId:a.props.autocompleteId}])),a.availableChromSizes={},a}return V(r,[{key:"componentDidMount",value:function(){this.mounted=!0,Ut(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,om(this.props.chromInfoPath,a=>{if(!a){this.searchPosition=null;return}this.chromInfo=a,this.searchField=new BC(this.chromInfo),this.setPositionText()})),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(a,u){this.positionText=u,this.setState({value:u,loading:!0}),this.changedPart=null;const h=u.split(/ /);let f=0;const g=[];let v=!1;for(let p=0;p<h.length;p++){const E=h[p].split(/-/);for(let T=0;T<E.length;T++){if(f+=1,g.push(E[T]),T===0?v=!0:v=!1,T===this.prevParts.length){this.changedPart=f-1;break}if(E[T]!==this.prevParts[T]){this.changedPart=f-1;break}}}if(this.prevParts=g,!!(this.state.autocompleteServer&&this.state.autocompleteId)&&this.changedPart!==null){this.setState({loading:!0});let p=`${this.state.autocompleteServer}/suggest/`;p+=`?d=${this.state.autocompleteId}&ac=${g[this.changedPart].toLowerCase()}`,Lr.json(p,(E,T)=>{if(E)this.setState({loading:!1,genes:[]});else if(this.changedPart>0&&!v){const S=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${g[this.changedPart-1].toLowerCase()}-${g[this.changedPart].toLowerCase()}`;Lr.json(S,(x,O)=>{x?this.setState({loading:!1,genes:T}):this.setState({loading:!1,genes:O.concat(T)})},this.props.pubSub)}else this.setState({loading:!1,genes:T})},this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){const a=new Set(yl(this.availableChromSizes)),u=new Set([...a]);this.gpsbForm&&this.setState({availableAssemblies:[...u]})}},{key:"setSelectedAssembly",value:function(a){if(!this.mounted||!this.availableChromSizes[a])return;const u=[...this.availableChromSizes[a]][0];this.setState({autocompleteServer:u.server});const{server:h}=u;if(this.availableAutocompletes[a]){const f=[...this.availableAutocompletes[a]][0].acId;this.props.onSelectedAssemblyChanged(a,f,h),this.gpsbForm&&this.setState({autocompleteId:f})}else this.props.onSelectedAssemblyChanged(a,null,h),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(u.uuid,u.server)}},{key:"setPositionText",value:function(){if(!this.mounted||!this.searchField)return;const a=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=a.split(/[ -]/),this.gpsbForm&&(this.positionText=a,this.origPositionText=a,this.autocompleteMenu.inputEl.value=a)}},{key:"scalesChanged",value:function(a,u){this.xScale=a,this.yScale=u,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach(a=>{Lr.json(`${a}/available-chrom-sizes/`,(u,h)=>{u?console.error(u):(h.results.forEach(f=>{f.coordSystem in this.availableChromSizes||(this.availableChromSizes[f.coordSystem]=new Set),this.availableChromSizes[f.coordSystem].add({server:a,uuid:f.uuid}),this.setAvailableAssemblies()}),this.searchField||this.fetchChromInfo(this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].uuid:this.props.chromInfoId,this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].server:this.props.chromInfoServer))},this.props.pubSub)})}},{key:"findAvailableAutocompleteSources",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach(a=>{Lr.json(`${a}/tilesets/?limit=100&dt=gene-annotation`,(u,h)=>{u?console.error(u):(h.results.forEach(f=>{f.coordSystem in this.availableAutocompletes||(this.availableAutocompletes[f.coordSystem]=new Set),this.availableAutocompletes[f.coordSystem].add({server:a,acId:f.uuid}),this.setAvailableAssemblies()}),this.state.autocompleteId||this.gpsbForm&&this.availableAutocompletes[this.props.chromInfoId]&&this.setState({autocompleteId:[...this.availableAutocompletes[this.props.chromInfoId]][0].acId}))},this.props.pubSub)})}},{key:"fetchChromInfo",value:function(a,u){om(`${u}/chrom-sizes/?id=${a}`,h=>{h&&(Lr.json(`${u}/tileset_info/?d=${a}`,(f,g)=>{f||this.gpsbForm&&this.setState({selectedAssembly:g[a].coordSystem})},this.props.pubSub),this.chromInfo=h,this.searchField=new BC(this.chromInfo),this.setPositionText())},this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(a){a.keyCode===13&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(a){}},{key:"replaceGenesWithLoadedPositions",value:function(a){const u=this.positionText,h=u.split(" ");let f=!1;for(let v=0;v<h.length;v++){const p=h[v].split("-");let E=0,T=0,S="";for(;E<p.length;){for(T=p.length;T>E;){const x=p.slice(E,T).join("-");if(a[x.toLowerCase()]){const O=a[x.toLowerCase()],P=Math.floor((O.txEnd-O.txStart)/4);E===0&&T<p.length?S=`${O.chr}:${O.txStart-P}`:E===0&&T===p.length?S=`${O.chr}:${O.txStart-P}-${O.txEnd+P}`:S+=`- ${O.chr}:${O.txEnd+P}`,f=!0;break}else T===E+1&&(S.length&&(S+="-"),S+=x);T-=1}E=T+1}h[v]=S}const g=h.join(" ");return this.prevParts=g.split(/[ -]/),this.positionText=g,this.setState({value:g}),f?u:null}},{key:"replaceGenesWithPositions",value:function(a){const u=this.positionText.split(/[ -]/),h=[];for(let f=0;f<u.length;f++){if(u[f].length===0)continue;const g=this.searchField.parsePosition(u[f])[2];if(g===null||Number.isNaN(+g)){const v=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${u[f].toLowerCase()}`;h.push(Lr.json(v,Uc,this.props.pubSub))}}Promise.all(h).then(f=>{if(f){const g={};for(let p=0;p<f.length;p++)if(f[p][0])for(let E=0;E<f[p].length;E++)g[f[p][E].geneName.toLowerCase()]=f[p][E];const v=this.replaceGenesWithLoadedPositions(g);a(v)}}).catch(f=>console.error(f))}},{key:"buttonClick",value:function(){this.setState({genes:[]}),this.replaceGenesWithPositions(a=>{const u=this.positionText;if(this.searchField!==null){const h=this.searchField.searchPosition(u),f=h[0];let g=h[1];if(!f){this.setPositionText();return}if(f&&(Number.isNaN(+f[0])||Number.isNaN(+f[1]))||g&&(Number.isNaN(+g[0])||Number.isNaN(+g[1])))return;g||(g=f);const v=this.xScale.copy().domain(f),p=this.yScale.copy().domain(g),[E,T,S]=Po(v,p);a&&this.props.onGeneSearch({geneSymbol:a,range:f,centerX:E,centerY:T}),this.props.setCenters(E,T,S,Gk)}})}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(a,u){const h=u||"/",f=new RegExp(`${h}{1,}`,"g");return a.join(h).replace(f,h)}},{key:"geneSelected",value:function(a,u){const h=this.positionText.split(" ");let f=this.changedPart;for(let g=0;g<h.length;g++){const v=h[g].split("-"),p=u.geneName.split("-");if(f>v.length-1)f-=v.length;else{if(v[f]=u.geneName,p.length===2&&f>0&&v[f-1].toLowerCase()===p[0].toLowerCase()){const E=v.slice(0,f-1);E.push(p.join("-")),f<v.length-1&&E.push(v.slice(f+1)),h[g]=E.join("-")}else h[g]=v.join("-");break}}this.prevParts=h.join(" ").split(/[ -]/),this.positionText=h.join(" "),this.setState({value:h.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(a,u){const h=u.getBoundingClientRect();this.menuPosition={left:h.left,top:h.top+h.height},this.setState({menuOpened:a})}},{key:"handleRenderMenu",value:function(a){return F.default.createElement(Yy,null,F.default.createElement("div",{className:yx["genome-position-search-bar-suggestions"],style:{left:this.menuPosition.left,top:this.menuPosition.top}},a))}},{key:"handleAssemblySelectEvt",value:function(a){this.handleAssemblySelect(a.target.value)}},{key:"handleAssemblySelect",value:function(a){this.setSelectedAssembly(a),this.setState({selectedAssembly:a})}},{key:"focusHandler",value:function(a){this.setState({isFocused:a})}},{key:"render",value:function(){const a=this.state.availableAssemblies.map(u=>F.default.createElement("option",{key:u,value:u},u));return F.default.createElement("div",{ref:u=>{this.gpsbForm=u},className:si({[yx["genome-position-search-focus"]]:this.state.isFocused,[yx["genome-position-search"]]:!this.state.isFocused,[yx["genome-position-search-dark"]]:this.props.theme===Gi})},!this.props.hideAvailableAssemblies&&F.default.createElement("select",{ref:u=>{this.assemblyPickButton=u},className:yx["genome-position-search-bar-button"],id:this.uid,onChange:this.handleAssemblySelectEvt.bind(this),value:this.state.selectedAssembly||void 0},a),F.default.createElement(kq,{ref:u=>{this.autocompleteMenu=u},getItemValue:u=>u.geneName,inputProps:{className:yx["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:(u,h)=>this.geneSelected(u,h),onSubmit:this.searchFieldSubmit.bind(this),renderItem:(u,h)=>F.default.createElement("div",{key:u.refseqid,id:u.refseqid,style:h?this.styles.highlightedItem:this.styles.item},u.geneName),renderMenu:this.handleRenderMenu.bind(this),value:this.state.selectedAssembly?this.positionText:"No valid assembly selected",wrapperStyle:{width:"100%"}}),F.default.createElement(Yk,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}}]),r}(F.default.Component);Oge.propTypes={autocompleteId:$.exports.string,autocompleteServer:$.exports.string,chromInfoId:$.exports.string,chromInfoServer:$.exports.string,hideAvailableAssemblies:$.exports.bool,isFocused:$.exports.bool,pubSub:$.exports.object,onFocus:$.exports.func,onGeneSearch:$.exports.func,onSelectedAssemblyChanged:$.exports.func,registerViewportChangedListener:$.exports.func,removeViewportChangedListener:$.exports.func,setCenters:$.exports.func,theme:$.exports.symbol.isRequired,trackSourceServers:$.exports.array,twoD:$.exports.bool};const Aet=pC(V_(Oge)),wet={"export-link-dialog-wrapper":"_export-link-dialog-wrapper_p9gxw_1"};let Rq=function(e){c(r,e);var t=d(r);function r(){return L(this,r),t.apply(this,arguments)}return V(r,[{key:"render",value:function(){return F.default.createElement(IN,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},F.default.createElement("div",{className:wet["export-link-dialog-wrapper"]},F.default.createElement("input",{ref:a=>{a&&(this.input=a,a.focus(),a.select())},onClick:a=>{a.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),F.default.createElement(dv,{onClick:a=>{this.input.select(),document.execCommand("copy")}},"Copy")))}}]),r}(F.default.Component);Rq.defaultProps={onDone:()=>{},url:""},Rq.propTypes={onDone:$.exports.func,url:$.exports.string};let kge=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={submenuShown:!1},a}return V(r,[{key:"getConfigureViewMenu",value:function(a,u){const h=["backgroundColor"],f={},g={};for(const v of h)if(v in Object.keys(el)&&(f[v]={name:el[v].name},el[v].inlineOptions))for(const p in el[v].inlineOptions){const E=el[v].inlineOptions[p];f[v].children||(f[v].children={});const T={name:E.name,value:E.value};T.handler=()=>{g[v]=E.value,this.props.onOptionsChanged(g)},f[v].children[p]=T}return F.default.createElement(_q,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:f,orientation:this.state.orientation,parentBbox:u,position:a,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const a=this.state.submenuSourceBbox,u=this.state.orientation==="left"?{left:this.state.left,top:a.top}:{left:this.state.left+a.width+7,top:a.top};return this.state.submenuShown.option==="options"?this.getConfigureViewMenu(u,a):F.default.createElement("div",null)}return F.default.createElement("div",null)}},{key:"render",value:function(){return F.default.createElement("div",{ref:a=>{this.div=a},className:si(mn["context-menu"],{[mn["context-menu-dark"]]:this.props.theme===Gi}),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top}},F.default.createElement(Pn,{onClick:a=>this.props.onTogglePositionSearchBox(a)},"Toggle position search box"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:a=>this.props.onZoomToData(a)},"Zoom to data extent"),F.default.createElement(Pn,{onClick:a=>this.props.onClearView(a)},"Clear View"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:a=>this.props.onYankZoom(a)},"Take zoom from"),F.default.createElement(Pn,{onClick:a=>this.props.onYankLocation(a)},"Take location from"),F.default.createElement(Pn,{onClick:a=>this.props.onYankZoomAndLocation(a)},"Take zoom and location from"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:this.props.onLockZoom},"Lock zoom with"),F.default.createElement(Pn,{onClick:this.props.onLockLocation},"Lock location with"),F.default.createElement(Pn,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:a=>this.props.onUnlockZoom(a)},"Unlock zoom"),F.default.createElement(Pn,{onClick:a=>this.props.onUnlockLocation(a)},"Unlock location"),F.default.createElement(Pn,{onClick:a=>this.props.onUnlockZoomAndLocation(a)},"Unlock zoom and location"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:a=>this.props.onProjectViewport(a)},"Show this viewport on"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:a=>this.props.onEditViewConfig(a)},"Edit view config"),F.default.createElement("hr",{className:mn["context-menu-hr"]}),F.default.createElement(Pn,{onClick:()=>this.props.onExportSVG()},"Export views as SVG"),F.default.createElement(Pn,{onClick:()=>this.props.onExportPNG()},"Export views as PNG"),F.default.createElement(Pn,{onClick:()=>this.props.onExportViewAsJSON()},"Export views as JSON"),F.default.createElement(Pn,{onClick:()=>this.props.onExportViewAsLink()},"Export views as Link"),this.getSubmenu())}}]),r}(Xy);kge.propTypes={onEditViewConfig:$.exports.func.isRequired,onExportSVG:$.exports.func,onExportPNG:$.exports.func,onExportViewAsJSON:$.exports.func,onExportViewAsLink:$.exports.func,onLockLocation:$.exports.func,onLockZoom:$.exports.func,onLockZoomAndLocation:$.exports.func,onProjectViewport:$.exports.func,onTakeAndLockZoomAndLocation:$.exports.func,onTogglePositionSearchBox:$.exports.func,onUnlockLocation:$.exports.func,onUnlockZoom:$.exports.func,onUnlockZoomAndLocation:$.exports.func,onYankLocation:$.exports.func,onYankZoom:$.exports.func,onYankZoomAndLocation:$.exports.func,onZoomToData:$.exports.func,theme:$.exports.symbol};const qh={"add-track-position-table":"_add-track-position-table_wdy5w_1","add-track-position-table-dark":"_add-track-position-table-dark_wdy5w_7","add-track-position-other":"_add-track-position-other_wdy5w_11","add-track-position-top-center":"_add-track-position-top-center_wdy5w_15","add-track-position-middle-left":"_add-track-position-middle-left_wdy5w_30","add-track-position-middle-right":"_add-track-position-middle-right_wdy5w_45","add-track-position-middle-middle":"_add-track-position-middle-middle_wdy5w_60","add-track-position-bottom-middle":"_add-track-position-bottom-middle_wdy5w_71","add-track-position-span":"_add-track-position-span_wdy5w_86"};function Rge(e){return F.default.createElement("div",null,F.default.createElement("div",{className:qh["add-track-position-span"]},"Add Track..."),F.default.createElement("table",{className:si(qh["add-track-position-table"],{[qh["add-track-position-table-dark"]]:e.theme===Gi})},F.default.createElement("tbody",null,F.default.createElement("tr",{style:{height:"30px"}},F.default.createElement("td",{className:qh["add-track-position-other"]}),F.default.createElement("td",{className:qh["add-track-position-top-center"],onClick:()=>e.onTrackPositionChosen("top")},"top"),F.default.createElement("td",{className:qh["add-track-position-other"]})),F.default.createElement("tr",{style:{height:"80px"}},F.default.createElement("td",{className:qh["add-track-position-middle-left"],onClick:()=>e.onTrackPositionChosen("left")},"left"),F.default.createElement("td",{className:qh["add-track-position-middle-middle"],onClick:()=>e.onTrackPositionChosen("center")},"center"),F.default.createElement("td",{className:qh["add-track-position-middle-right"],onClick:()=>e.onTrackPositionChosen("right")},"right")),F.default.createElement("tr",{style:{height:"30px"}},F.default.createElement("td",{className:qh["add-track-position-other"]}),F.default.createElement("td",{className:qh["add-track-position-bottom-middle"],onClick:()=>e.onTrackPositionChosen("bottom")},"bottom"),F.default.createElement("td",{className:qh["add-track-position-other"]})))))}Rge.propTypes={onTrackPositionChosen:$.exports.func.isRequired,theme:$.exports.symbol.isRequired};const Cet=V_(Rge);let Pq=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.configImg=null,a.plusImg=null,a.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},a.handleTrackPositionChosenBound=a.handleTrackPositionChosen.bind(b(a)),a}return V(r,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){const a=this.el.clientWidth;a!==this.state.width&&this.setState({width:a})}},{key:"handleConfigMenuOpened",value:function(a){this.setState({configMenuUid:a,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(a){this.setState({addTrackPositionMenuUid:a,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(a){this.props.onTrackPositionChosen(a),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){let a=null,u=null;this.state.addTrackPositionMenuPosition&&(u=F.default.createElement(Yy,{onMenuClosed:()=>{this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},F.default.createElement(Xy,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},F.default.createElement(Cet,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(a=F.default.createElement(Yy,{onMenuClosed:()=>this.setState({configMenuUid:null})},F.default.createElement(kge,{onClearView:()=>{this.setState({configMenuUid:null}),this.props.onClearView()},onEditViewConfig:()=>{this.setState({configMenuUid:null}),this.props.onEditViewConfig(this.state.configMenuUid)},onExportPNG:()=>{this.setState({configMenuUid:null}),this.props.onExportPNG()},onExportSVG:()=>{this.setState({configMenuUid:null}),this.props.onExportSVG()},onExportViewAsJSON:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsJSON()},onExportViewAsLink:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsLink()},onLockLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockLocation(this.state.configMenuUid)},onLockZoom:()=>{this.setState({configMenuUid:null}),this.props.onLockZoom(this.state.configMenuUid)},onLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockZoomAndLocation(this.state.configMenuUid)},onOptionsChanged:v=>{this.props.onViewOptionsChanged(v),this.setState({configMenuUid:null})},onProjectViewport:()=>{this.setState({configMenuUid:null}),this.props.onProjectViewport(this.state.configMenuUid)},onTakeAndLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onTakeAndLockZoomAndLocation(this.state.configMenuUid)},onTogglePositionSearchBox:()=>{this.setState({configMenuUid:null}),this.props.onTogglePositionSearchBox(this.state.configMenuUid)},onUnlockLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockLocation(this.state.configMenuUid)},onUnlockZoom:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoom(this.state.configMenuUid)},onUnlockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoomAndLocation(this.state.configMenuUid)},onYankLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankLocation(this.state.configMenuUid)},onYankZoom:()=>{this.setState({configMenuUid:null}),this.props.onYankZoom(this.state.configMenuUid)},onYankZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankZoomAndLocation(this.state.configMenuUid)},onZoomToData:()=>{this.setState({configMenuUid:null}),this.props.onZoomToData(this.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));const h=this.props.getGenomePositionSearchBox(this.state.isFocused,v=>{this.setState({isFocused:v})}),f=si(this.state.isFocused?vl["multitrack-header-focus"]:vl["multitrack-header"],{[vl["multitrack-header-dark"]]:this.props.theme===Gi}),g=this.state.width<=zk?vl["multitrack-header-icon-squeazed"]:vl["multitrack-header-icon"];return F.default.createElement("div",{ref:v=>{this.el=v},className:f},F.default.createElement("div",{className:vl["multitrack-header-left"]},this.props.mouseTool===ju&&F.default.createElement("svg",{className:si(vl["mouse-tool-selection"],g),title:"Selection tool active"},F.default.createElement("use",{xlinkHref:"#select"})),F.default.createElement("div",{className:vl["multitrack-header-grabber"],title:"Drag to move the view"},F.default.createElement("div",null),F.default.createElement("div",null),F.default.createElement("div",null)),this.state.width>sF&&F.default.createElement("div",{className:vl["multitrack-header-search"]},this.props.isGenomePositionSearchBoxVisible&&h)),F.default.createElement("nav",{className:vl["multitrack-header-nav-list"]},F.default.createElement("svg",{className:g,onClick:this.props.onAddView},F.default.createElement("title",null,"Add new view (clone this view)"),F.default.createElement("use",{xlinkHref:"#copy"})),F.default.createElement("svg",{ref:v=>{this.configImg=v},className:g,onClick:()=>this.handleConfigMenuOpened(this.props.viewUid)},F.default.createElement("title",null,"Configure this view"),F.default.createElement("use",{xlinkHref:"#cog"})),F.default.createElement("svg",{ref:v=>{this.plusImg=v},className:g,onClick:()=>this.handleAddTrackPositionMenuOpened(this.props.viewUid)},F.default.createElement("title",null,"Add Track"),F.default.createElement("use",{xlinkHref:"#plus"})),F.default.createElement("svg",{className:g,onClick:this.props.onCloseView},F.default.createElement("title",null,"Close View"),F.default.createElement("use",{xlinkHref:"#cross"}))),a,u)}}]),r}(F.default.Component);Pq.defaultProps={isGenomePositionSearchBoxVisible:!1},Pq.propTypes={getGenomePositionSearchBox:$.exports.func.isRequired,isGenomePositionSearchBoxVisible:$.exports.bool,mouseTool:$.exports.string.isRequired,onAddView:$.exports.func.isRequired,onClearView:$.exports.func.isRequired,onCloseView:$.exports.func.isRequired,onEditViewConfig:$.exports.func.isRequired,onExportSVG:$.exports.func.isRequired,onExportPNG:$.exports.func.isRequired,onExportViewsAsJSON:$.exports.func.isRequired,onExportViewsAsLink:$.exports.func.isRequired,onLockLocation:$.exports.func.isRequired,onLockZoom:$.exports.func.isRequired,onLockZoomAndLocation:$.exports.func.isRequired,onProjectViewport:$.exports.func.isRequired,onTakeAndLockZoomAndLocation:$.exports.func.isRequired,onTogglePositionSearchBox:$.exports.func.isRequired,onTrackPositionChosen:$.exports.func.isRequired,onUnlockLocation:$.exports.func.isRequired,onUnlockZoom:$.exports.func.isRequired,onUnlockZoomAndLocation:$.exports.func.isRequired,onViewOptionsChanged:$.exports.func.isRequired,onYankLocation:$.exports.func.isRequired,onYankZoom:$.exports.func.isRequired,onYankZoomAndLocation:$.exports.func.isRequired,onZoomToData:$.exports.func.isRequired,theme:$.exports.symbol.isRequired,viewUid:$.exports.string.isRequired};const xet=V_(Pq);var Pge={};Object.defineProperty(Pge,"__esModule",{value:!0});var qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Iet=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),Det=F.default,JN=Oet(Det);function Oet(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ket(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}function Ret(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Pet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Net=13,Met=9,Let=8,Fet=89,f8=90,Bet=77,Mge=57,Lge=219,Fge=222,Bge=192,Het=27,Hge=100,Uet=3e3,Get="navigator"in globalThis&&/Win/i.test(navigator.platform),Nq="navigator"in globalThis&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),d8="npm__react-simple-code-editor__textarea",$et=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`+d8+`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`+d8+` {
    color: transparent !important;
  }

  .`+d8+`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`,Uge=function(e){Pet(t,e);function t(){var r,s,a,u;Ret(this,t);for(var h=arguments.length,f=Array(h),g=0;g<h;g++)f[g]=arguments[g];return u=(s=(a=Nge(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),a),a.state={capture:!0},a._recordCurrentState=function(){var v=a._input;if(v){var p=v.value,E=v.selectionStart,T=v.selectionEnd;a._recordChange({value:p,selectionStart:E,selectionEnd:T})}},a._getLines=function(v,p){return v.substring(0,p).split(`
`)},a._recordChange=function(v){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=a._history,T=E.stack,S=E.offset;if(T.length&&S>-1){a._history.stack=T.slice(0,S+1);var x=a._history.stack.length;if(x>Hge){var O=x-Hge;a._history.stack=T.slice(O,x),a._history.offset=Math.max(a._history.offset-O,0)}}var P=Date.now();if(p){var M=a._history.stack[a._history.offset];if(M&&P-M.timestamp<Uet){var G=/[^a-z0-9]([a-z0-9]+)$/i,B=a._getLines(M.value,M.selectionStart).pop().match(G),U=a._getLines(v.value,v.selectionStart).pop().match(G);if(B&&U&&U[1].startsWith(B[1])){a._history.stack[a._history.offset]=qy({},v,{timestamp:P});return}}}a._history.stack.push(qy({},v,{timestamp:P})),a._history.offset++},a._updateInput=function(v){var p=a._input;p&&(p.value=v.value,p.selectionStart=v.selectionStart,p.selectionEnd=v.selectionEnd,a.props.onValueChange(v.value))},a._applyEdits=function(v){var p=a._input,E=a._history.stack[a._history.offset];E&&p&&(a._history.stack[a._history.offset]=qy({},E,{selectionStart:p.selectionStart,selectionEnd:p.selectionEnd})),a._recordChange(v),a._updateInput(v)},a._undoEdit=function(){var v=a._history,p=v.stack,E=v.offset,T=p[E-1];T&&(a._updateInput(T),a._history.offset=Math.max(E-1,0))},a._redoEdit=function(){var v=a._history,p=v.stack,E=v.offset,T=p[E+1];T&&(a._updateInput(T),a._history.offset=Math.min(E+1,p.length-1))},a._handleKeyDown=function(v){var p=a.props,E=p.tabSize,T=p.insertSpaces,S=p.ignoreTabKey,x=p.onKeyDown;if(!(x&&(x(v),v.defaultPrevented))){v.keyCode===Het&&v.target.blur();var O=v.target,P=O.value,M=O.selectionStart,G=O.selectionEnd,B=(T?" ":"	").repeat(E);if(v.keyCode===Met&&!S&&a.state.capture)if(v.preventDefault(),v.shiftKey){var U=a._getLines(P,M),j=U.length-1,Z=a._getLines(P,G).length-1,ee=P.split(`
`).map(function(Le,Ie){return Ie>=j&&Ie<=Z&&Le.startsWith(B)?Le.substring(B.length):Le}).join(`
`);if(P!==ee){var J=U[j];a._applyEdits({value:ee,selectionStart:J.startsWith(B)?M-B.length:M,selectionEnd:G-(P.length-ee.length)})}}else if(M!==G){var he=a._getLines(P,M),pe=he.length-1,ae=a._getLines(P,G).length-1,ye=he[pe];a._applyEdits({value:P.split(`
`).map(function(Le,Ie){return Ie>=pe&&Ie<=ae?B+Le:Le}).join(`
`),selectionStart:/\S/.test(ye)?M+B.length:M,selectionEnd:G+B.length*(ae-pe+1)})}else{var Ee=M+B.length;a._applyEdits({value:P.substring(0,M)+B+P.substring(G),selectionStart:Ee,selectionEnd:Ee})}else if(v.keyCode===Let){var ue=M!==G,be=P.substring(0,M);if(be.endsWith(B)&&!ue){v.preventDefault();var Me=M-B.length;a._applyEdits({value:P.substring(0,M-B.length)+P.substring(G),selectionStart:Me,selectionEnd:Me})}}else if(v.keyCode===Net){if(M===G){var Xe=a._getLines(P,M).pop(),rt=Xe.match(/^\s+/);if(rt&&rt[0]){v.preventDefault();var st=`
`+rt[0],mt=M+st.length;a._applyEdits({value:P.substring(0,M)+st+P.substring(G),selectionStart:mt,selectionEnd:mt})}}}else if(v.keyCode===Mge||v.keyCode===Lge||v.keyCode===Fge||v.keyCode===Bge){var kt=void 0;v.keyCode===Mge&&v.shiftKey?kt=["(",")"]:v.keyCode===Lge?v.shiftKey?kt=["{","}"]:kt=["[","]"]:v.keyCode===Fge?v.shiftKey?kt=['"','"']:kt=["'","'"]:v.keyCode===Bge&&!v.shiftKey&&(kt=["`","`"]),M!==G&&kt&&(v.preventDefault(),a._applyEdits({value:P.substring(0,M)+kt[0]+P.substring(M,G)+kt[1]+P.substring(G),selectionStart:M,selectionEnd:G+2}))}else(Nq?v.metaKey&&v.keyCode===f8:v.ctrlKey&&v.keyCode===f8)&&!v.shiftKey&&!v.altKey?(v.preventDefault(),a._undoEdit()):(Nq?v.metaKey&&v.keyCode===f8&&v.shiftKey:Get?v.ctrlKey&&v.keyCode===Fet:v.ctrlKey&&v.keyCode===f8&&v.shiftKey)&&!v.altKey?(v.preventDefault(),a._redoEdit()):v.keyCode===Bet&&v.ctrlKey&&(!Nq||v.shiftKey)&&(v.preventDefault(),a.setState(function(Le){return{capture:!Le.capture}}))}},a._handleChange=function(v){var p=v.target,E=p.value,T=p.selectionStart,S=p.selectionEnd;a._recordChange({value:E,selectionStart:T,selectionEnd:S},!0),a.props.onValueChange(E)},a._history={stack:[],offset:-1},s),Nge(a,u)}return Iet(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var s=this,a=this.props,u=a.value,h=a.style,f=a.padding,g=a.highlight,v=a.textareaId,p=a.autoFocus,E=a.disabled,T=a.form,S=a.maxLength,x=a.minLength,O=a.name,P=a.placeholder,M=a.readOnly,G=a.required,B=a.onClick,U=a.onFocus,j=a.onBlur,Z=a.onKeyUp;a.onKeyDown,a.onValueChange,a.tabSize,a.insertSpaces,a.ignoreTabKey;var ee=ket(a,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),J={paddingTop:f,paddingRight:f,paddingBottom:f,paddingLeft:f},he=g(u);return JN.createElement("div",qy({},ee,{style:qy({},e2.container,h)}),JN.createElement("textarea",{ref:function(ae){return s._input=ae},style:qy({},e2.editor,e2.textarea,J),className:d8,id:v,value:u,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:B,onKeyUp:Z,onFocus:U,onBlur:j,disabled:E,form:T,maxLength:S,minLength:x,name:O,placeholder:P,readOnly:M,required:G,autoFocus:p,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),JN.createElement("pre",qy({"aria-hidden":"true",style:qy({},e2.editor,e2.highlight,J)},typeof he=="string"?{dangerouslySetInnerHTML:{__html:he+"<br />"}}:{children:he})),JN.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:$et}}))}},{key:"session",get:function(){return{history:this._history}},set:function(s){this._history=s.history}}]),t}(JN.Component);Uge.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0};var zet=Pge.default=Uge,e2={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},Mq={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
* Prism: Lightweight, robust, elegant syntax highlighting
*
* @license MIT <https://opensource.org/licenses/MIT>
* @author Lea Verou <https://lea.verou.me>
* @namespace
* @public
*/var r=function(s){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,u=0,h={},f={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function G(B){return B instanceof g?new g(B.type,G(B.content),B.alias):Array.isArray(B)?B.map(G):B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(G){return Object.prototype.toString.call(G).slice(8,-1)},objId:function(G){return G.__id||Object.defineProperty(G,"__id",{value:++u}),G.__id},clone:function G(B,U){U=U||{};var j,Z;switch(f.util.type(B)){case"Object":if(Z=f.util.objId(B),U[Z])return U[Z];j={},U[Z]=j;for(var ee in B)B.hasOwnProperty(ee)&&(j[ee]=G(B[ee],U));return j;case"Array":return Z=f.util.objId(B),U[Z]?U[Z]:(j=[],U[Z]=j,B.forEach(function(J,he){j[he]=G(J,U)}),j);default:return B}},getLanguage:function(G){for(;G;){var B=a.exec(G.className);if(B)return B[1].toLowerCase();G=G.parentElement}return"none"},setLanguage:function(G,B){G.className=G.className.replace(RegExp(a,"gi"),""),G.classList.add("language-"+B)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(j){var G=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(j.stack)||[])[1];if(G){var B=document.getElementsByTagName("script");for(var U in B)if(B[U].src==G)return B[U]}return null}},isActive:function(G,B,U){for(var j="no-"+B;G;){var Z=G.classList;if(Z.contains(B))return!0;if(Z.contains(j))return!1;G=G.parentElement}return!!U}},languages:{plain:h,plaintext:h,text:h,txt:h,extend:function(G,B){var U=f.util.clone(f.languages[G]);for(var j in B)U[j]=B[j];return U},insertBefore:function(G,B,U,j){j=j||f.languages;var Z=j[G],ee={};for(var J in Z)if(Z.hasOwnProperty(J)){if(J==B)for(var he in U)U.hasOwnProperty(he)&&(ee[he]=U[he]);U.hasOwnProperty(J)||(ee[J]=Z[J])}var pe=j[G];return j[G]=ee,f.languages.DFS(f.languages,function(ae,ye){ye===pe&&ae!=G&&(this[ae]=ee)}),ee},DFS:function G(B,U,j,Z){Z=Z||{};var ee=f.util.objId;for(var J in B)if(B.hasOwnProperty(J)){U.call(B,J,B[J],j||J);var he=B[J],pe=f.util.type(he);pe==="Object"&&!Z[ee(he)]?(Z[ee(he)]=!0,G(he,U,null,Z)):pe==="Array"&&!Z[ee(he)]&&(Z[ee(he)]=!0,G(he,U,J,Z))}}},plugins:{},highlightAll:function(G,B){f.highlightAllUnder(document,G,B)},highlightAllUnder:function(G,B,U){var j={callback:U,container:G,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",j),j.elements=Array.prototype.slice.apply(j.container.querySelectorAll(j.selector)),f.hooks.run("before-all-elements-highlight",j);for(var Z=0,ee;ee=j.elements[Z++];)f.highlightElement(ee,B===!0,j.callback)},highlightElement:function(G,B,U){var j=f.util.getLanguage(G),Z=f.languages[j];f.util.setLanguage(G,j);var ee=G.parentElement;ee&&ee.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(ee,j);var J=G.textContent,he={element:G,language:j,grammar:Z,code:J};function pe(ye){he.highlightedCode=ye,f.hooks.run("before-insert",he),he.element.innerHTML=he.highlightedCode,f.hooks.run("after-highlight",he),f.hooks.run("complete",he),U&&U.call(he.element)}if(f.hooks.run("before-sanity-check",he),ee=he.element.parentElement,ee&&ee.nodeName.toLowerCase()==="pre"&&!ee.hasAttribute("tabindex")&&ee.setAttribute("tabindex","0"),!he.code){f.hooks.run("complete",he),U&&U.call(he.element);return}if(f.hooks.run("before-highlight",he),!he.grammar){pe(f.util.encode(he.code));return}if(B&&s.Worker){var ae=new Worker(f.filename);ae.onmessage=function(ye){pe(ye.data)},ae.postMessage(JSON.stringify({language:he.language,code:he.code,immediateClose:!0}))}else pe(f.highlight(he.code,he.grammar,he.language))},highlight:function(G,B,U){var j={code:G,grammar:B,language:U};if(f.hooks.run("before-tokenize",j),!j.grammar)throw new Error('The language "'+j.language+'" has no grammar.');return j.tokens=f.tokenize(j.code,j.grammar),f.hooks.run("after-tokenize",j),g.stringify(f.util.encode(j.tokens),j.language)},tokenize:function(G,B){var U=B.rest;if(U){for(var j in U)B[j]=U[j];delete B.rest}var Z=new E;return T(Z,Z.head,G),p(G,Z,B,Z.head,0),x(Z)},hooks:{all:{},add:function(G,B){var U=f.hooks.all;U[G]=U[G]||[],U[G].push(B)},run:function(G,B){var U=f.hooks.all[G];if(!(!U||!U.length))for(var j=0,Z;Z=U[j++];)Z(B)}},Token:g};s.Prism=f;function g(G,B,U,j){this.type=G,this.content=B,this.alias=U,this.length=(j||"").length|0}g.stringify=function G(B,U){if(typeof B=="string")return B;if(Array.isArray(B)){var j="";return B.forEach(function(pe){j+=G(pe,U)}),j}var Z={type:B.type,content:G(B.content,U),tag:"span",classes:["token",B.type],attributes:{},language:U},ee=B.alias;ee&&(Array.isArray(ee)?Array.prototype.push.apply(Z.classes,ee):Z.classes.push(ee)),f.hooks.run("wrap",Z);var J="";for(var he in Z.attributes)J+=" "+he+'="'+(Z.attributes[he]||"").replace(/"/g,"&quot;")+'"';return"<"+Z.tag+' class="'+Z.classes.join(" ")+'"'+J+">"+Z.content+"</"+Z.tag+">"};function v(G,B,U,j){G.lastIndex=B;var Z=G.exec(U);if(Z&&j&&Z[1]){var ee=Z[1].length;Z.index+=ee,Z[0]=Z[0].slice(ee)}return Z}function p(G,B,U,j,Z,ee){for(var J in U)if(!(!U.hasOwnProperty(J)||!U[J])){var he=U[J];he=Array.isArray(he)?he:[he];for(var pe=0;pe<he.length;++pe){if(ee&&ee.cause==J+","+pe)return;var ae=he[pe],ye=ae.inside,Ee=!!ae.lookbehind,ue=!!ae.greedy,be=ae.alias;if(ue&&!ae.pattern.global){var Me=ae.pattern.toString().match(/[imsuy]*$/)[0];ae.pattern=RegExp(ae.pattern.source,Me+"g")}for(var Xe=ae.pattern||ae,rt=j.next,st=Z;rt!==B.tail&&!(ee&&st>=ee.reach);st+=rt.value.length,rt=rt.next){var mt=rt.value;if(B.length>G.length)return;if(!(mt instanceof g)){var kt=1,Le;if(ue){if(Le=v(Xe,st,G,Ee),!Le||Le.index>=G.length)break;var dt=Le.index,Ie=Le.index+Le[0].length,Ne=st;for(Ne+=rt.value.length;dt>=Ne;)rt=rt.next,Ne+=rt.value.length;if(Ne-=rt.value.length,st=Ne,rt.value instanceof g)continue;for(var Fe=rt;Fe!==B.tail&&(Ne<Ie||typeof Fe.value=="string");Fe=Fe.next)kt++,Ne+=Fe.value.length;kt--,mt=G.slice(st,Ne),Le.index-=st}else if(Le=v(Xe,0,mt,Ee),!Le)continue;var dt=Le.index,Et=Le[0],Vt=mt.slice(0,dt),Ft=mt.slice(dt+Et.length),qt=st+mt.length;ee&&qt>ee.reach&&(ee.reach=qt);var Sr=rt.prev;Vt&&(Sr=T(B,Sr,Vt),st+=Vt.length),S(B,Sr,kt);var jt=new g(J,ye?f.tokenize(Et,ye):Et,be,Et);if(rt=T(B,Sr,jt),Ft&&T(B,rt,Ft),kt>1){var Hr={cause:J+","+pe,reach:qt};p(G,B,U,rt.prev,st,Hr),ee&&Hr.reach>ee.reach&&(ee.reach=Hr.reach)}}}}}}function E(){var G={value:null,prev:null,next:null},B={value:null,prev:G,next:null};G.next=B,this.head=G,this.tail=B,this.length=0}function T(G,B,U){var j=B.next,Z={value:U,prev:B,next:j};return B.next=Z,j.prev=Z,G.length++,Z}function S(G,B,U){for(var j=B.next,Z=0;Z<U&&j!==G.tail;Z++)j=j.next;B.next=j,j.prev=B,G.length-=Z}function x(G){for(var B=[],U=G.head.next;U!==G.tail;)B.push(U.value),U=U.next;return B}if(!s.document)return s.addEventListener&&(f.disableWorkerMessageHandler||s.addEventListener("message",function(G){var B=JSON.parse(G.data),U=B.language,j=B.code,Z=B.immediateClose;s.postMessage(f.highlight(j,f.languages[U],U)),Z&&s.close()},!1)),f;var O=f.util.currentScript();O&&(f.filename=O.src,O.hasAttribute("data-manual")&&(f.manual=!0));function P(){f.manual||f.highlightAll()}if(!f.manual){var M=document.readyState;M==="loading"||M==="interactive"&&O&&O.defer?document.addEventListener("DOMContentLoaded",P):window.requestAnimationFrame?window.requestAnimationFrame(P):window.setTimeout(P,16)}return f}(t);e.exports&&(e.exports=r),typeof globalThis<"u"&&(globalThis.Prism=r)})(Mq),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;var Lq={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,s){s(t)})(ve,function(r){function s(){for(var De=arguments.length,we=Array(De),Ye=0;Ye<De;Ye++)we[Ye]=arguments[Ye];if(we.length>1){we[0]=we[0].slice(0,-1);for(var wt=we.length-1,It=1;It<wt;++It)we[It]=we[It].slice(1,-1);return we[wt]=we[wt].slice(1),we.join("")}else return we[0]}function a(De){return"(?:"+De+")"}function u(De){return De===void 0?"undefined":De===null?"null":Object.prototype.toString.call(De).split(" ").pop().split("]").shift().toLowerCase()}function h(De){return De.toUpperCase()}function f(De){return De!=null?De instanceof Array?De:typeof De.length!="number"||De.split||De.setInterval||De.call?[De]:Array.prototype.slice.call(De):[]}function g(De,we){var Ye=De;if(we)for(var wt in we)Ye[wt]=we[wt];return Ye}function v(De){var we="[A-Za-z]",Ye="[0-9]",wt=s(Ye,"[A-Fa-f]"),It=a(a("%[EFef]"+wt+"%"+wt+wt+"%"+wt+wt)+"|"+a("%[89A-Fa-f]"+wt+"%"+wt+wt)+"|"+a("%"+wt+wt)),Er="[\\:\\/\\?\\#\\[\\]\\@]",Ar="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",dn=s(Er,Ar),Ln=De?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",pi=De?"[\\uE000-\\uF8FF]":"[]",Dn=s(we,Ye,"[\\-\\.\\_\\~]",Ln);a(we+s(we,Ye,"[\\+\\-\\.]")+"*"),a(a(It+"|"+s(Dn,Ar,"[\\:]"))+"*");var ai=a(a("25[0-5]")+"|"+a("2[0-4]"+Ye)+"|"+a("1"+Ye+Ye)+"|"+a("0?[1-9]"+Ye)+"|0?0?"+Ye),Fi=a(ai+"\\."+ai+"\\."+ai+"\\."+ai),pn=a(wt+"{1,4}"),hi=a(a(pn+"\\:"+pn)+"|"+Fi),Bi=a(a(pn+"\\:")+"{6}"+hi),Vi=a("\\:\\:"+a(pn+"\\:")+"{5}"+hi),$a=a(a(pn)+"?\\:\\:"+a(pn+"\\:")+"{4}"+hi),Dl=a(a(a(pn+"\\:")+"{0,1}"+pn)+"?\\:\\:"+a(pn+"\\:")+"{3}"+hi),pr=a(a(a(pn+"\\:")+"{0,2}"+pn)+"?\\:\\:"+a(pn+"\\:")+"{2}"+hi),Xr=a(a(a(pn+"\\:")+"{0,3}"+pn)+"?\\:\\:"+pn+"\\:"+hi),qn=a(a(a(pn+"\\:")+"{0,4}"+pn)+"?\\:\\:"+hi),Hn=a(a(a(pn+"\\:")+"{0,5}"+pn)+"?\\:\\:"+pn),bn=a(a(a(pn+"\\:")+"{0,6}"+pn)+"?\\:\\:"),mi=a([Bi,Vi,$a,Dl,pr,Xr,qn,Hn,bn].join("|")),Xn=a(a(Dn+"|"+It)+"+");a("[vV]"+wt+"+\\."+s(Dn,Ar,"[\\:]")+"+"),a(a(It+"|"+s(Dn,Ar))+"*");var Jn=a(It+"|"+s(Dn,Ar,"[\\:\\@]"));return a(a(It+"|"+s(Dn,Ar,"[\\@]"))+"+"),a(a(Jn+"|"+s("[\\/\\?]",pi))+"*"),{NOT_SCHEME:new RegExp(s("[^]",we,Ye,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",Dn,Ar),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",Dn,Ar),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",Dn,Ar),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",Dn,Ar),"g"),NOT_QUERY:new RegExp(s("[^\\%]",Dn,Ar,"[\\:\\@\\/\\?]",pi),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",Dn,Ar,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",Dn,Ar),"g"),UNRESERVED:new RegExp(Dn,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",Dn,dn),"g"),PCT_ENCODED:new RegExp(It,"g"),IPV4ADDRESS:new RegExp("^("+Fi+")$"),IPV6ADDRESS:new RegExp("^\\[?("+mi+")"+a(a("\\%25|\\%(?!"+wt+"{2})")+"("+Xn+")")+"?\\]?$")}}var p=v(!1),E=v(!0),T=function(){function De(we,Ye){var wt=[],It=!0,Er=!1,Ar=void 0;try{for(var dn=we[Symbol.iterator](),Ln;!(It=(Ln=dn.next()).done)&&(wt.push(Ln.value),!(Ye&&wt.length===Ye));It=!0);}catch(pi){Er=!0,Ar=pi}finally{try{!It&&dn.return&&dn.return()}finally{if(Er)throw Ar}}return wt}return function(we,Ye){if(Array.isArray(we))return we;if(Symbol.iterator in Object(we))return De(we,Ye);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(De){if(Array.isArray(De)){for(var we=0,Ye=Array(De.length);we<De.length;we++)Ye[we]=De[we];return Ye}else return Array.from(De)},x=2147483647,O=36,P=1,M=26,G=38,B=700,U=72,j=128,Z="-",ee=/^xn--/,J=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ae=O-P,ye=Math.floor,Ee=String.fromCharCode;function ue(De){throw new RangeError(pe[De])}function be(De,we){for(var Ye=[],wt=De.length;wt--;)Ye[wt]=we(De[wt]);return Ye}function Me(De,we){var Ye=De.split("@"),wt="";Ye.length>1&&(wt=Ye[0]+"@",De=Ye[1]),De=De.replace(he,".");var It=De.split("."),Er=be(It,we).join(".");return wt+Er}function Xe(De){for(var we=[],Ye=0,wt=De.length;Ye<wt;){var It=De.charCodeAt(Ye++);if(It>=55296&&It<=56319&&Ye<wt){var Er=De.charCodeAt(Ye++);(Er&64512)==56320?we.push(((It&1023)<<10)+(Er&1023)+65536):(we.push(It),Ye--)}else we.push(It)}return we}var rt=function(we){return String.fromCodePoint.apply(String,S(we))},st=function(we){return we-48<10?we-22:we-65<26?we-65:we-97<26?we-97:O},mt=function(we,Ye){return we+22+75*(we<26)-((Ye!=0)<<5)},kt=function(we,Ye,wt){var It=0;for(we=wt?ye(we/B):we>>1,we+=ye(we/Ye);we>ae*M>>1;It+=O)we=ye(we/ae);return ye(It+(ae+1)*we/(we+G))},Le=function(we){var Ye=[],wt=we.length,It=0,Er=j,Ar=U,dn=we.lastIndexOf(Z);dn<0&&(dn=0);for(var Ln=0;Ln<dn;++Ln)we.charCodeAt(Ln)>=128&&ue("not-basic"),Ye.push(we.charCodeAt(Ln));for(var pi=dn>0?dn+1:0;pi<wt;){for(var Dn=It,ai=1,Fi=O;;Fi+=O){pi>=wt&&ue("invalid-input");var pn=st(we.charCodeAt(pi++));(pn>=O||pn>ye((x-It)/ai))&&ue("overflow"),It+=pn*ai;var hi=Fi<=Ar?P:Fi>=Ar+M?M:Fi-Ar;if(pn<hi)break;var Bi=O-hi;ai>ye(x/Bi)&&ue("overflow"),ai*=Bi}var Vi=Ye.length+1;Ar=kt(It-Dn,Vi,Dn==0),ye(It/Vi)>x-Er&&ue("overflow"),Er+=ye(It/Vi),It%=Vi,Ye.splice(It++,0,Er)}return String.fromCodePoint.apply(String,Ye)},Ie=function(we){var Ye=[];we=Xe(we);var wt=we.length,It=j,Er=0,Ar=U,dn=!0,Ln=!1,pi=void 0;try{for(var Dn=we[Symbol.iterator](),ai;!(dn=(ai=Dn.next()).done);dn=!0){var Fi=ai.value;Fi<128&&Ye.push(Ee(Fi))}}catch(eb){Ln=!0,pi=eb}finally{try{!dn&&Dn.return&&Dn.return()}finally{if(Ln)throw pi}}var pn=Ye.length,hi=pn;for(pn&&Ye.push(Z);hi<wt;){var Bi=x,Vi=!0,$a=!1,Dl=void 0;try{for(var pr=we[Symbol.iterator](),Xr;!(Vi=(Xr=pr.next()).done);Vi=!0){var qn=Xr.value;qn>=It&&qn<Bi&&(Bi=qn)}}catch(eb){$a=!0,Dl=eb}finally{try{!Vi&&pr.return&&pr.return()}finally{if($a)throw Dl}}var Hn=hi+1;Bi-It>ye((x-Er)/Hn)&&ue("overflow"),Er+=(Bi-It)*Hn,It=Bi;var bn=!0,mi=!1,Xn=void 0;try{for(var Jn=we[Symbol.iterator](),Si;!(bn=(Si=Jn.next()).done);bn=!0){var ji=Si.value;if(ji<It&&++Er>x&&ue("overflow"),ji==It){for(var Wi=Er,rl=O;;rl+=O){var Zh=rl<=Ar?P:rl>=Ar+M?M:rl-Ar;if(Wi<Zh)break;var Jy=Wi-Zh,n2=O-Zh;Ye.push(Ee(mt(Zh+Jy%n2,0))),Wi=ye(Jy/n2)}Ye.push(Ee(mt(Wi,0))),Ar=kt(Er,Hn,hi==pn),Er=0,++hi}}}catch(eb){mi=!0,Xn=eb}finally{try{!bn&&Jn.return&&Jn.return()}finally{if(mi)throw Xn}}++Er,++It}return Ye.join("")},Ne=function(we){return Me(we,function(Ye){return ee.test(Ye)?Le(Ye.slice(4).toLowerCase()):Ye})},Fe=function(we){return Me(we,function(Ye){return J.test(Ye)?"xn--"+Ie(Ye):Ye})},dt={version:"2.1.0",ucs2:{decode:Xe,encode:rt},decode:Le,encode:Ie,toASCII:Fe,toUnicode:Ne},Et={};function Vt(De){var we=De.charCodeAt(0),Ye=void 0;return we<16?Ye="%0"+we.toString(16).toUpperCase():we<128?Ye="%"+we.toString(16).toUpperCase():we<2048?Ye="%"+(we>>6|192).toString(16).toUpperCase()+"%"+(we&63|128).toString(16).toUpperCase():Ye="%"+(we>>12|224).toString(16).toUpperCase()+"%"+(we>>6&63|128).toString(16).toUpperCase()+"%"+(we&63|128).toString(16).toUpperCase(),Ye}function Ft(De){for(var we="",Ye=0,wt=De.length;Ye<wt;){var It=parseInt(De.substr(Ye+1,2),16);if(It<128)we+=String.fromCharCode(It),Ye+=3;else if(It>=194&&It<224){if(wt-Ye>=6){var Er=parseInt(De.substr(Ye+4,2),16);we+=String.fromCharCode((It&31)<<6|Er&63)}else we+=De.substr(Ye,6);Ye+=6}else if(It>=224){if(wt-Ye>=9){var Ar=parseInt(De.substr(Ye+4,2),16),dn=parseInt(De.substr(Ye+7,2),16);we+=String.fromCharCode((It&15)<<12|(Ar&63)<<6|dn&63)}else we+=De.substr(Ye,9);Ye+=9}else we+=De.substr(Ye,3),Ye+=3}return we}function qt(De,we){function Ye(wt){var It=Ft(wt);return It.match(we.UNRESERVED)?It:wt}return De.scheme&&(De.scheme=String(De.scheme).replace(we.PCT_ENCODED,Ye).toLowerCase().replace(we.NOT_SCHEME,"")),De.userinfo!==void 0&&(De.userinfo=String(De.userinfo).replace(we.PCT_ENCODED,Ye).replace(we.NOT_USERINFO,Vt).replace(we.PCT_ENCODED,h)),De.host!==void 0&&(De.host=String(De.host).replace(we.PCT_ENCODED,Ye).toLowerCase().replace(we.NOT_HOST,Vt).replace(we.PCT_ENCODED,h)),De.path!==void 0&&(De.path=String(De.path).replace(we.PCT_ENCODED,Ye).replace(De.scheme?we.NOT_PATH:we.NOT_PATH_NOSCHEME,Vt).replace(we.PCT_ENCODED,h)),De.query!==void 0&&(De.query=String(De.query).replace(we.PCT_ENCODED,Ye).replace(we.NOT_QUERY,Vt).replace(we.PCT_ENCODED,h)),De.fragment!==void 0&&(De.fragment=String(De.fragment).replace(we.PCT_ENCODED,Ye).replace(we.NOT_FRAGMENT,Vt).replace(we.PCT_ENCODED,h)),De}function Sr(De){return De.replace(/^0*(.*)/,"$1")||"0"}function jt(De,we){var Ye=De.match(we.IPV4ADDRESS)||[],wt=T(Ye,2),It=wt[1];return It?It.split(".").map(Sr).join("."):De}function Hr(De,we){var Ye=De.match(we.IPV6ADDRESS)||[],wt=T(Ye,3),It=wt[1],Er=wt[2];if(It){for(var Ar=It.toLowerCase().split("::").reverse(),dn=T(Ar,2),Ln=dn[0],pi=dn[1],Dn=pi?pi.split(":").map(Sr):[],ai=Ln.split(":").map(Sr),Fi=we.IPV4ADDRESS.test(ai[ai.length-1]),pn=Fi?7:8,hi=ai.length-pn,Bi=Array(pn),Vi=0;Vi<pn;++Vi)Bi[Vi]=Dn[Vi]||ai[hi+Vi]||"";Fi&&(Bi[pn-1]=jt(Bi[pn-1],we));var $a=Bi.reduce(function(Hn,bn,mi){if(!bn||bn==="0"){var Xn=Hn[Hn.length-1];Xn&&Xn.index+Xn.length===mi?Xn.length++:Hn.push({index:mi,length:1})}return Hn},[]),Dl=$a.sort(function(Hn,bn){return bn.length-Hn.length})[0],pr=void 0;if(Dl&&Dl.length>1){var Xr=Bi.slice(0,Dl.index),qn=Bi.slice(Dl.index+Dl.length);pr=Xr.join(":")+"::"+qn.join(":")}else pr=Bi.join(":");return Er&&(pr+="%"+Er),pr}else return De}var Cr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,On="".match(/(){0}/)[1]===void 0;function sn(De){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ye={},wt=we.iri!==!1?E:p;we.reference==="suffix"&&(De=(we.scheme?we.scheme+":":"")+"//"+De);var It=De.match(Cr);if(It){On?(Ye.scheme=It[1],Ye.userinfo=It[3],Ye.host=It[4],Ye.port=parseInt(It[5],10),Ye.path=It[6]||"",Ye.query=It[7],Ye.fragment=It[8],isNaN(Ye.port)&&(Ye.port=It[5])):(Ye.scheme=It[1]||void 0,Ye.userinfo=De.indexOf("@")!==-1?It[3]:void 0,Ye.host=De.indexOf("//")!==-1?It[4]:void 0,Ye.port=parseInt(It[5],10),Ye.path=It[6]||"",Ye.query=De.indexOf("?")!==-1?It[7]:void 0,Ye.fragment=De.indexOf("#")!==-1?It[8]:void 0,isNaN(Ye.port)&&(Ye.port=De.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?It[4]:void 0)),Ye.host&&(Ye.host=Hr(jt(Ye.host,wt),wt)),Ye.scheme===void 0&&Ye.userinfo===void 0&&Ye.host===void 0&&Ye.port===void 0&&!Ye.path&&Ye.query===void 0?Ye.reference="same-document":Ye.scheme===void 0?Ye.reference="relative":Ye.fragment===void 0?Ye.reference="absolute":Ye.reference="uri",we.reference&&we.reference!=="suffix"&&we.reference!==Ye.reference&&(Ye.error=Ye.error||"URI is not a "+we.reference+" reference.");var Er=Et[(we.scheme||Ye.scheme||"").toLowerCase()];if(!we.unicodeSupport&&(!Er||!Er.unicodeSupport)){if(Ye.host&&(we.domainHost||Er&&Er.domainHost))try{Ye.host=dt.toASCII(Ye.host.replace(wt.PCT_ENCODED,Ft).toLowerCase())}catch(Ar){Ye.error=Ye.error||"Host's domain name can not be converted to ASCII via punycode: "+Ar}qt(Ye,p)}else qt(Ye,wt);Er&&Er.parse&&Er.parse(Ye,we)}else Ye.error=Ye.error||"URI can not be parsed.";return Ye}function Ur(De,we){var Ye=we.iri!==!1?E:p,wt=[];return De.userinfo!==void 0&&(wt.push(De.userinfo),wt.push("@")),De.host!==void 0&&wt.push(Hr(jt(String(De.host),Ye),Ye).replace(Ye.IPV6ADDRESS,function(It,Er,Ar){return"["+Er+(Ar?"%25"+Ar:"")+"]"})),(typeof De.port=="number"||typeof De.port=="string")&&(wt.push(":"),wt.push(String(De.port))),wt.length?wt.join(""):void 0}var Bn=/^\.\.?\//,Mn=/^\/\.(\/|$)/,ci=/^\/\.\.(\/|$)/,Ja=/^\/?(?:.|\n)*?(?=\/|$)/;function kn(De){for(var we=[];De.length;)if(De.match(Bn))De=De.replace(Bn,"");else if(De.match(Mn))De=De.replace(Mn,"/");else if(De.match(ci))De=De.replace(ci,"/"),we.pop();else if(De==="."||De==="..")De="";else{var Ye=De.match(Ja);if(Ye){var wt=Ye[0];De=De.slice(wt.length),we.push(wt)}else throw new Error("Unexpected dot segment condition")}return we.join("")}function Ht(De){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ye=we.iri?E:p,wt=[],It=Et[(we.scheme||De.scheme||"").toLowerCase()];if(It&&It.serialize&&It.serialize(De,we),De.host&&!Ye.IPV6ADDRESS.test(De.host)){if(we.domainHost||It&&It.domainHost)try{De.host=we.iri?dt.toUnicode(De.host):dt.toASCII(De.host.replace(Ye.PCT_ENCODED,Ft).toLowerCase())}catch(dn){De.error=De.error||"Host's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+dn}}qt(De,Ye),we.reference!=="suffix"&&De.scheme&&(wt.push(De.scheme),wt.push(":"));var Er=Ur(De,we);if(Er!==void 0&&(we.reference!=="suffix"&&wt.push("//"),wt.push(Er),De.path&&De.path.charAt(0)!=="/"&&wt.push("/")),De.path!==void 0){var Ar=De.path;!we.absolutePath&&(!It||!It.absolutePath)&&(Ar=kn(Ar)),Er===void 0&&(Ar=Ar.replace(/^\/\//,"/%2F")),wt.push(Ar)}return De.query!==void 0&&(wt.push("?"),wt.push(De.query)),De.fragment!==void 0&&(wt.push("#"),wt.push(De.fragment)),wt.join("")}function Ve(De,we){var Ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},wt=arguments[3],It={};return wt||(De=sn(Ht(De,Ye),Ye),we=sn(Ht(we,Ye),Ye)),Ye=Ye||{},!Ye.tolerant&&we.scheme?(It.scheme=we.scheme,It.userinfo=we.userinfo,It.host=we.host,It.port=we.port,It.path=kn(we.path||""),It.query=we.query):(we.userinfo!==void 0||we.host!==void 0||we.port!==void 0?(It.userinfo=we.userinfo,It.host=we.host,It.port=we.port,It.path=kn(we.path||""),It.query=we.query):(we.path?(we.path.charAt(0)==="/"?It.path=kn(we.path):((De.userinfo!==void 0||De.host!==void 0||De.port!==void 0)&&!De.path?It.path="/"+we.path:De.path?It.path=De.path.slice(0,De.path.lastIndexOf("/")+1)+we.path:It.path=we.path,It.path=kn(It.path)),It.query=we.query):(It.path=De.path,we.query!==void 0?It.query=we.query:It.query=De.query),It.userinfo=De.userinfo,It.host=De.host,It.port=De.port),It.scheme=De.scheme),It.fragment=we.fragment,It}function et(De,we,Ye){var wt=g({scheme:"null"},Ye);return Ht(Ve(sn(De,wt),sn(we,wt),wt,!0),wt)}function _t(De,we){return typeof De=="string"?De=Ht(sn(De,we),we):u(De)==="object"&&(De=sn(Ht(De,we),we)),De}function ne(De,we,Ye){return typeof De=="string"?De=Ht(sn(De,Ye),Ye):u(De)==="object"&&(De=Ht(De,Ye)),typeof we=="string"?we=Ht(sn(we,Ye),Ye):u(we)==="object"&&(we=Ht(we,Ye)),De===we}function X(De,we){return De&&De.toString().replace(!we||!we.iri?p.ESCAPE:E.ESCAPE,Vt)}function Q(De,we){return De&&De.toString().replace(!we||!we.iri?p.PCT_ENCODED:E.PCT_ENCODED,Ft)}var _e={scheme:"http",domainHost:!0,parse:function(we,Ye){return we.host||(we.error=we.error||"HTTP URIs must have a host."),we},serialize:function(we,Ye){var wt=String(we.scheme).toLowerCase()==="https";return(we.port===(wt?443:80)||we.port==="")&&(we.port=void 0),we.path||(we.path="/"),we}},ze={scheme:"https",domainHost:_e.domainHost,parse:_e.parse,serialize:_e.serialize};function tt(De){return typeof De.secure=="boolean"?De.secure:String(De.scheme).toLowerCase()==="wss"}var yt={scheme:"ws",domainHost:!0,parse:function(we,Ye){var wt=we;return wt.secure=tt(wt),wt.resourceName=(wt.path||"/")+(wt.query?"?"+wt.query:""),wt.path=void 0,wt.query=void 0,wt},serialize:function(we,Ye){if((we.port===(tt(we)?443:80)||we.port==="")&&(we.port=void 0),typeof we.secure=="boolean"&&(we.scheme=we.secure?"wss":"ws",we.secure=void 0),we.resourceName){var wt=we.resourceName.split("?"),It=T(wt,2),Er=It[0],Ar=It[1];we.path=Er&&Er!=="/"?Er:void 0,we.query=Ar,we.resourceName=void 0}return we.fragment=void 0,we}},_r={scheme:"wss",domainHost:yt.domainHost,parse:yt.parse,serialize:yt.serialize},Mr={},qr="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",jr="[0-9A-Fa-f]",on=a(a("%[EFef]"+jr+"%"+jr+jr+"%"+jr+jr)+"|"+a("%[89A-Fa-f]"+jr+"%"+jr+jr)+"|"+a("%"+jr+jr)),eo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",tl="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Kc=s(tl,'[\\"\\\\]'),xl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Il=new RegExp(qr,"g"),Mt=new RegExp(on,"g"),gt=new RegExp(s("[^]",eo,"[\\.]",'[\\"]',Kc),"g"),Re=new RegExp(s("[^]",qr,xl),"g"),Pe=Re;function ct(De){var we=Ft(De);return we.match(Il)?we:De}var Ct={scheme:"mailto",parse:function(we,Ye){var wt=we,It=wt.to=wt.path?wt.path.split(","):[];if(wt.path=void 0,wt.query){for(var Er=!1,Ar={},dn=wt.query.split("&"),Ln=0,pi=dn.length;Ln<pi;++Ln){var Dn=dn[Ln].split("=");switch(Dn[0]){case"to":for(var ai=Dn[1].split(","),Fi=0,pn=ai.length;Fi<pn;++Fi)It.push(ai[Fi]);break;case"subject":wt.subject=Q(Dn[1],Ye);break;case"body":wt.body=Q(Dn[1],Ye);break;default:Er=!0,Ar[Q(Dn[0],Ye)]=Q(Dn[1],Ye);break}}Er&&(wt.headers=Ar)}wt.query=void 0;for(var hi=0,Bi=It.length;hi<Bi;++hi){var Vi=It[hi].split("@");if(Vi[0]=Q(Vi[0]),Ye.unicodeSupport)Vi[1]=Q(Vi[1],Ye).toLowerCase();else try{Vi[1]=dt.toASCII(Q(Vi[1],Ye).toLowerCase())}catch($a){wt.error=wt.error||"Email address's domain name can not be converted to ASCII via punycode: "+$a}It[hi]=Vi.join("@")}return wt},serialize:function(we,Ye){var wt=we,It=f(we.to);if(It){for(var Er=0,Ar=It.length;Er<Ar;++Er){var dn=String(It[Er]),Ln=dn.lastIndexOf("@"),pi=dn.slice(0,Ln).replace(Mt,ct).replace(Mt,h).replace(gt,Vt),Dn=dn.slice(Ln+1);try{Dn=Ye.iri?dt.toUnicode(Dn):dt.toASCII(Q(Dn,Ye).toLowerCase())}catch(hi){wt.error=wt.error||"Email address's domain name can not be converted to "+(Ye.iri?"Unicode":"ASCII")+" via punycode: "+hi}It[Er]=pi+"@"+Dn}wt.path=It.join(",")}var ai=we.headers=we.headers||{};we.subject&&(ai.subject=we.subject),we.body&&(ai.body=we.body);var Fi=[];for(var pn in ai)ai[pn]!==Mr[pn]&&Fi.push(pn.replace(Mt,ct).replace(Mt,h).replace(Re,Vt)+"="+ai[pn].replace(Mt,ct).replace(Mt,h).replace(Pe,Vt));return Fi.length&&(wt.query=Fi.join("&")),wt}},Dt=/^([^\:]+)\:(.*)/,At={scheme:"urn",parse:function(we,Ye){var wt=we.path&&we.path.match(Dt),It=we;if(wt){var Er=Ye.scheme||It.scheme||"urn",Ar=wt[1].toLowerCase(),dn=wt[2],Ln=Er+":"+(Ye.nid||Ar),pi=Et[Ln];It.nid=Ar,It.nss=dn,It.path=void 0,pi&&(It=pi.parse(It,Ye))}else It.error=It.error||"URN can not be parsed.";return It},serialize:function(we,Ye){var wt=Ye.scheme||we.scheme||"urn",It=we.nid,Er=wt+":"+(Ye.nid||It),Ar=Et[Er];Ar&&(we=Ar.serialize(we,Ye));var dn=we,Ln=we.nss;return dn.path=(It||Ye.nid)+":"+Ln,dn}},ut=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,bt={scheme:"urn:uuid",parse:function(we,Ye){var wt=we;return wt.uuid=wt.nss,wt.nss=void 0,!Ye.tolerant&&(!wt.uuid||!wt.uuid.match(ut))&&(wt.error=wt.error||"UUID is not valid."),wt},serialize:function(we,Ye){var wt=we;return wt.nss=(we.uuid||"").toLowerCase(),wt}};Et[_e.scheme]=_e,Et[ze.scheme]=ze,Et[yt.scheme]=yt,Et[_r.scheme]=_r,Et[Ct.scheme]=Ct,Et[At.scheme]=At,Et[bt.scheme]=bt,r.SCHEMES=Et,r.pctEncChar=Vt,r.pctDecChars=Ft,r.parse=sn,r.removeDotSegments=kn,r.serialize=Ht,r.resolveComponents=Ve,r.resolve=et,r.normalize=_t,r.equal=ne,r.escapeComponent=X,r.unescapeComponent=Q,Object.defineProperty(r,"__esModule",{value:!0})})})(Lq,Lq.exports);var Fq=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,a,u;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(u=Object.keys(t),s=u.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[a]))return!1;for(a=s;a--!==0;){var h=u[a];if(!e(t[h],r[h]))return!1}return!0}return t!==t&&r!==r},Vet=function(t){for(var r=0,s=t.length,a=0,u;a<s;)r++,u=t.charCodeAt(a++),u>=55296&&u<=56319&&a<s&&(u=t.charCodeAt(a),(u&64512)==56320&&a++);return r},bx={copy:jet,checkDataType:Bq,checkDataTypes:Wet,coerceToTypes:Xet,toHash:Hq,getProperty:Uq,escapeQuotes:Gq,equal:Fq,ucs2length:Vet,varOccurences:Zet,varReplace:Ket,schemaHasRules:Qet,schemaHasRulesExcept:Jet,schemaUnknownRules:ett,toQuotedString:$q,getPathExpr:ttt,getPath:rtt,getData:att,unescapeFragment:ott,unescapeJsonPointer:Vq,escapeFragment:stt,escapeJsonPointer:zq};function jet(e,t){t=t||{};for(var r in e)t[r]=e[r];return t}function Bq(e,t,r,s){var a=s?" !== ":" === ",u=s?" || ":" && ",h=s?"!":"",f=s?"":"!";switch(e){case"null":return t+a+"null";case"array":return h+"Array.isArray("+t+")";case"object":return"("+h+t+u+"typeof "+t+a+'"object"'+u+f+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+u+f+"("+t+" % 1)"+u+t+a+t+(r?u+h+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+a+'"'+e+'"'+(r?u+h+"isFinite("+t+")":"")+")";default:return"typeof "+t+a+'"'+e+'"'}}function Wet(e,t,r){switch(e.length){case 1:return Bq(e[0],t,r,!0);default:var s="",a=Hq(e);a.array&&a.object&&(s=a.null?"(":"(!"+t+" || ",s+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var u in a)s+=(s?" && ":"")+Bq(u,t,r,!0);return s}}var Gge=Hq(["string","number","integer","boolean","null"]);function Xet(e,t){if(Array.isArray(t)){for(var r=[],s=0;s<t.length;s++){var a=t[s];(Gge[a]||e==="array"&&a==="array")&&(r[r.length]=a)}if(r.length)return r}else{if(Gge[t])return[t];if(e==="array"&&t==="array")return["array"]}}function Hq(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var Yet=/^[a-z$_][a-z$_0-9]*$/i,qet=/'|\\/g;function Uq(e){return typeof e=="number"?"["+e+"]":Yet.test(e)?"."+e:"['"+Gq(e)+"']"}function Gq(e){return e.replace(qet,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Zet(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function Ket(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function Qet(e,t){if(typeof e=="boolean")return!e;for(var r in e)if(t[r])return!0}function Jet(e,t,r){if(typeof e=="boolean")return!e&&r!="not";for(var s in e)if(s!=r&&t[s])return!0}function ett(e,t){if(typeof e!="boolean"){for(var r in e)if(!t[r])return r}}function $q(e){return"'"+Gq(e)+"'"}function ttt(e,t,r,s){var a=r?"'/' + "+t+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return $ge(e,a)}function rtt(e,t,r){var s=$q(r?"/"+zq(t):Uq(t));return $ge(e,s)}var ntt=/^\/(?:[^~]|~0|~1)*$/,itt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function att(e,t,r){var s,a,u,h;if(e==="")return"rootData";if(e[0]=="/"){if(!ntt.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,u="rootData"}else{if(h=e.match(itt),!h)throw new Error("Invalid JSON-pointer: "+e);if(s=+h[1],a=h[2],a=="#"){if(s>=t)throw new Error("Cannot access property/index "+s+" levels up, current level is "+t);return r[t-s]}if(s>t)throw new Error("Cannot access data "+s+" levels up, current level is "+t);if(u="data"+(t-s||""),!a)return u}for(var f=u,g=a.split("/"),v=0;v<g.length;v++){var p=g[v];p&&(u+=Uq(Vq(p)),f+=" && "+u)}return f}function $ge(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function ott(e){return Vq(decodeURIComponent(e))}function stt(e){return encodeURIComponent(zq(e))}function zq(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Vq(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var ltt=bx,zge=utt;function utt(e){ltt.copy(e,this)}var Vge={exports:{}},Zy=Vge.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};p8(t,s,a,e,"",e)};Zy.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Zy.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Zy.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Zy.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function p8(e,t,r,s,a,u,h,f,g,v){if(s&&typeof s=="object"&&!Array.isArray(s)){t(s,a,u,h,f,g,v);for(var p in s){var E=s[p];if(Array.isArray(E)){if(p in Zy.arrayKeywords)for(var T=0;T<E.length;T++)p8(e,t,r,E[T],a+"/"+p+"/"+T,u,a,p,s,T)}else if(p in Zy.propsKeywords){if(E&&typeof E=="object")for(var S in E)p8(e,t,r,E[S],a+"/"+p+"/"+ctt(S),u,a,p,s,S)}else(p in Zy.keywords||e.allKeys&&!(p in Zy.skipKeywords))&&p8(e,t,r,E,a+"/"+p,u,a,p,s)}r(s,a,u,h,f,g,v)}}function ctt(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var t2=Lq.exports,jge=Fq,m8=bx,g8=zge,htt=Vge.exports,jq=Ky;Ky.normalizeId=Qy,Ky.fullPath=y8,Ky.url=b8,Ky.ids=gtt,Ky.inlineRef=Wq,Ky.schema=v8;function Ky(e,t,r){var s=this._refs[r];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return Ky.call(this,e,t,s);if(s=s||this._schemas[r],s instanceof g8)return Wq(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var a=v8.call(this,t,r),u,h,f;return a&&(u=a.schema,t=a.root,f=a.baseId),u instanceof g8?h=u.validate||e.call(this,u.schema,t,void 0,f):u!==void 0&&(h=Wq(u,this._opts.inlineRefs)?u:e.call(this,u,t,void 0,f)),h}function v8(e,t){var r=t2.parse(t),s=Xge(r),a=y8(this._getId(e.schema));if(Object.keys(e.schema).length===0||s!==a){var u=Qy(s),h=this._refs[u];if(typeof h=="string")return ftt.call(this,e,h,r);if(h instanceof g8)h.validate||this._compile(h),e=h;else if(h=this._schemas[u],h instanceof g8){if(h.validate||this._compile(h),u==Qy(t))return{schema:h,root:e,baseId:a};e=h}else return;if(!e.schema)return;a=y8(this._getId(e.schema))}return Wge.call(this,r,a,e.schema,e)}function ftt(e,t,r){var s=v8.call(this,e,t);if(s){var a=s.schema,u=s.baseId;e=s.root;var h=this._getId(a);return h&&(u=b8(u,h)),Wge.call(this,r,u,a,e)}}var dtt=m8.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Wge(e,t,r,s){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var a=e.fragment.split("/"),u=1;u<a.length;u++){var h=a[u];if(h){if(h=m8.unescapeFragment(h),r=r[h],r===void 0)break;var f;if(!dtt[h]&&(f=this._getId(r),f&&(t=b8(t,f)),r.$ref)){var g=b8(t,r.$ref),v=v8.call(this,s,g);v&&(r=v.schema,s=v.root,t=v.baseId)}}}if(r!==void 0&&r!==s.schema)return{schema:r,root:s,baseId:t}}}var ptt=m8.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Wq(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return Xq(e);if(t)return Yq(e)<=t}function Xq(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],typeof t=="object"&&!Xq(t))return!1}else for(var s in e)if(s=="$ref"||(t=e[s],typeof t=="object"&&!Xq(t)))return!1;return!0}function Yq(e){var t=0,r;if(Array.isArray(e)){for(var s=0;s<e.length;s++)if(r=e[s],typeof r=="object"&&(t+=Yq(r)),t==1/0)return 1/0}else for(var a in e){if(a=="$ref")return 1/0;if(ptt[a])t++;else if(r=e[a],typeof r=="object"&&(t+=Yq(r)+1),t==1/0)return 1/0}return t}function y8(e,t){t!==!1&&(e=Qy(e));var r=t2.parse(e);return Xge(r)}function Xge(e){return t2.serialize(e).split("#")[0]+"#"}var mtt=/#\/?$/;function Qy(e){return e?e.replace(mtt,""):""}function b8(e,t){return t=Qy(t),t2.resolve(e,t)}function gtt(e){var t=Qy(this._getId(e)),r={"":t},s={"":y8(t,!1)},a={},u=this;return htt(e,{allKeys:!0},function(h,f,g,v,p,E,T){if(f!==""){var S=u._getId(h),x=r[v],O=s[v]+"/"+p;if(T!==void 0&&(O+="/"+(typeof T=="number"?T:m8.escapeFragment(T))),typeof S=="string"){S=x=Qy(x?t2.resolve(x,S):S);var P=u._refs[S];if(typeof P=="string"&&(P=u._refs[P]),P&&P.schema){if(!jge(h,P.schema))throw new Error('id "'+S+'" resolves to more than one schema')}else if(S!=Qy(O))if(S[0]=="#"){if(a[S]&&!jge(h,a[S]))throw new Error('id "'+S+'" resolves to more than one schema');a[S]=h}else u._refs[S]=O}r[f]=x,s[f]=O}}),a}var qq=jq,Zq={Validation:Yge(vtt),MissingRef:Yge(Kq)};function vtt(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}Kq.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function Kq(e,t,r){this.message=r||Kq.message(e,t),this.missingRef=qq.url(e,t),this.missingSchema=qq.normalizeId(qq.fullPath(this.missingRef))}function Yge(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var qge=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,s=t.cmp&&function(u){return function(h){return function(f,g){var v={key:f,value:h[f]},p={key:g,value:h[g]};return u(v,p)}}}(t.cmp),a=[];return function u(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var f,g;if(Array.isArray(h)){for(g="[",f=0;f<h.length;f++)f&&(g+=","),g+=u(h[f])||"null";return g+"]"}if(h===null)return"null";if(a.indexOf(h)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var v=a.push(h)-1,p=Object.keys(h).sort(s&&s(h));for(g="",f=0;f<p.length;f++){var E=p[f],T=u(h[E]);T&&(g&&(g+=","),g+=JSON.stringify(E)+":"+T)}return a.splice(v,1),"{"+g+"}"}}(e)},Zge=function(t,r,s){var a="",u=t.schema.$async===!0,h=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),f=t.self._getId(t.schema);if(t.opts.strictKeywords){var g=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(g){var v="unknown keyword: "+g;if(t.opts.strictKeywords==="log")t.logger.warn(v);else throw new Error(v)}}if(t.isTop&&(a+=" var validate = ",u&&(t.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",f&&(t.opts.sourceCode||t.opts.processCode)&&(a+=" "+("/*# sourceURL="+f+" */")+" ")),typeof t.schema=="boolean"||!(h||t.schema.$ref)){var r="false schema",p=t.level,E=t.dataLevel,T=t.schema[r],S=t.schemaPath+t.util.getProperty(r),x=t.errSchemaPath+"/"+r,j=!t.opts.allErrors,J,O="data"+(E||""),U="valid"+p;if(t.schema===!1){t.isTop?j=!0:a+=" var "+U+" = false; ";var P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(J||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(x)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),t.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+O+" "),a+=" } "):a+=" {} ";var M=a;a=P.pop(),!t.compositeRule&&j?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?u?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+U+" = true; ";return t.isTop&&(a+=" }; return validate; "),a}if(t.isTop){var G=t.isTop,p=t.level=0,E=t.dataLevel=0,O="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var B="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(B);else throw new Error(B)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var p=t.level,E=t.dataLevel,O="data"+(E||"");if(f&&(t.baseId=t.resolve.url(t.baseId,f)),u&&!t.async)throw new Error("async schema in sync schema");a+=" var errs_"+p+" = errors;"}var U="valid"+p,j=!t.opts.allErrors,Z="",ee="",J,he=t.schema.type,pe=Array.isArray(he);if(he&&t.opts.nullable&&t.schema.nullable===!0&&(pe?he.indexOf("null")==-1&&(he=he.concat("null")):he!="null"&&(he=[he,"null"],pe=!0)),pe&&he.length==1&&(he=he[0],pe=!1),t.schema.$ref&&h){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(h=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(a+=" "+t.RULES.all.$comment.code(t,"$comment")),he){if(t.opts.coerceTypes)var ae=t.util.coerceToTypes(t.opts.coerceTypes,he);var ye=t.RULES.types[he];if(ae||pe||ye===!0||ye&&!Mn(ye)){var S=t.schemaPath+".type",x=t.errSchemaPath+"/type",S=t.schemaPath+".type",x=t.errSchemaPath+"/type",Ee=pe?"checkDataTypes":"checkDataType";if(a+=" if ("+t.util[Ee](he,O,t.opts.strictNumbers,!0)+") { ",ae){var ue="dataType"+p,be="coerced"+p;a+=" var "+ue+" = typeof "+O+"; var "+be+" = undefined; ",t.opts.coerceTypes=="array"&&(a+=" if ("+ue+" == 'object' && Array.isArray("+O+") && "+O+".length == 1) { "+O+" = "+O+"[0]; "+ue+" = typeof "+O+"; if ("+t.util.checkDataType(t.schema.type,O,t.opts.strictNumbers)+") "+be+" = "+O+"; } "),a+=" if ("+be+" !== undefined) ; ";var Me=ae;if(Me)for(var Xe,rt=-1,st=Me.length-1;rt<st;)Xe=Me[rt+=1],Xe=="string"?a+=" else if ("+ue+" == 'number' || "+ue+" == 'boolean') "+be+" = '' + "+O+"; else if ("+O+" === null) "+be+" = ''; ":Xe=="number"||Xe=="integer"?(a+=" else if ("+ue+" == 'boolean' || "+O+" === null || ("+ue+" == 'string' && "+O+" && "+O+" == +"+O+" ",Xe=="integer"&&(a+=" && !("+O+" % 1)"),a+=")) "+be+" = +"+O+"; "):Xe=="boolean"?a+=" else if ("+O+" === 'false' || "+O+" === 0 || "+O+" === null) "+be+" = false; else if ("+O+" === 'true' || "+O+" === 1) "+be+" = true; ":Xe=="null"?a+=" else if ("+O+" === '' || "+O+" === 0 || "+O+" === false) "+be+" = null; ":t.opts.coerceTypes=="array"&&Xe=="array"&&(a+=" else if ("+ue+" == 'string' || "+ue+" == 'number' || "+ue+" == 'boolean' || "+O+" == null) "+be+" = ["+O+"]; ");a+=" else {   ";var P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(J||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(x)+" , params: { type: '",pe?a+=""+he.join(","):a+=""+he,a+="' } ",t.opts.messages!==!1&&(a+=" , message: 'should be ",pe?a+=""+he.join(","):a+=""+he,a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+S+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+O+" "),a+=" } "):a+=" {} ";var M=a;a=P.pop(),!t.compositeRule&&j?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+be+" !== undefined) {  ";var mt=E?"data"+(E-1||""):"parentData",kt=E?t.dataPathArr[E]:"parentDataProperty";a+=" "+O+" = "+be+"; ",E||(a+="if ("+mt+" !== undefined)"),a+=" "+mt+"["+kt+"] = "+be+"; } "}else{var P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(J||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(x)+" , params: { type: '",pe?a+=""+he.join(","):a+=""+he,a+="' } ",t.opts.messages!==!1&&(a+=" , message: 'should be ",pe?a+=""+he.join(","):a+=""+he,a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+S+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+O+" "),a+=" } "):a+=" {} ";var M=a;a=P.pop(),!t.compositeRule&&j?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(t.schema.$ref&&!h)a+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",j&&(a+=" } if (errors === ",G?a+="0":a+="errs_"+p,a+=") { ",ee+="}");else{var Le=t.RULES;if(Le){for(var ye,Ie=-1,Ne=Le.length-1;Ie<Ne;)if(ye=Le[Ie+=1],Mn(ye)){if(ye.type&&(a+=" if ("+t.util.checkDataType(ye.type,O,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(ye.type=="object"&&t.schema.properties){var T=t.schema.properties,Fe=Object.keys(T),dt=Fe;if(dt)for(var Et,Vt=-1,Ft=dt.length-1;Vt<Ft;){Et=dt[Vt+=1];var qt=T[Et];if(qt.default!==void 0){var Sr=O+t.util.getProperty(Et);if(t.compositeRule){if(t.opts.strictDefaults){var B="default is ignored for: "+Sr;if(t.opts.strictDefaults==="log")t.logger.warn(B);else throw new Error(B)}}else a+=" if ("+Sr+" === undefined ",t.opts.useDefaults=="empty"&&(a+=" || "+Sr+" === null || "+Sr+" === '' "),a+=" ) "+Sr+" = ",t.opts.useDefaults=="shared"?a+=" "+t.useDefault(qt.default)+" ":a+=" "+JSON.stringify(qt.default)+" ",a+="; "}}}else if(ye.type=="array"&&Array.isArray(t.schema.items)){var jt=t.schema.items;if(jt){for(var qt,rt=-1,Hr=jt.length-1;rt<Hr;)if(qt=jt[rt+=1],qt.default!==void 0){var Sr=O+"["+rt+"]";if(t.compositeRule){if(t.opts.strictDefaults){var B="default is ignored for: "+Sr;if(t.opts.strictDefaults==="log")t.logger.warn(B);else throw new Error(B)}}else a+=" if ("+Sr+" === undefined ",t.opts.useDefaults=="empty"&&(a+=" || "+Sr+" === null || "+Sr+" === '' "),a+=" ) "+Sr+" = ",t.opts.useDefaults=="shared"?a+=" "+t.useDefault(qt.default)+" ":a+=" "+JSON.stringify(qt.default)+" ",a+="; "}}}}var Cr=ye.rules;if(Cr){for(var On,sn=-1,Ur=Cr.length-1;sn<Ur;)if(On=Cr[sn+=1],ci(On)){var Bn=On.code(t,On.keyword,ye.type);Bn&&(a+=" "+Bn+" ",j&&(Z+="}"))}}if(j&&(a+=" "+Z+" ",Z=""),ye.type&&(a+=" } ",he&&he===ye.type&&!ae)){a+=" else { ";var S=t.schemaPath+".type",x=t.errSchemaPath+"/type",P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(J||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(x)+" , params: { type: '",pe?a+=""+he.join(","):a+=""+he,a+="' } ",t.opts.messages!==!1&&(a+=" , message: 'should be ",pe?a+=""+he.join(","):a+=""+he,a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+S+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+O+" "),a+=" } "):a+=" {} ";var M=a;a=P.pop(),!t.compositeRule&&j?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}j&&(a+=" if (errors === ",G?a+="0":a+="errs_"+p,a+=") { ",ee+="}")}}}j&&(a+=" "+ee+" "),G?(u?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+U+" = errors === errs_"+p+";";function Mn(kn){for(var Ht=kn.rules,Ve=0;Ve<Ht.length;Ve++)if(ci(Ht[Ve]))return!0}function ci(kn){return t.schema[kn.keyword]!==void 0||kn.implements&&Ja(kn)}function Ja(kn){for(var Ht=kn.implements,Ve=0;Ve<Ht.length;Ve++)if(t.schema[Ht[Ve]]!==void 0)return!0}return a},_8=jq,T8=bx,Kge=Zq,ytt=qge,Qge=Zge,btt=T8.ucs2length,_tt=Fq,Ttt=Kge.Validation,Ett=Qq;function Qq(e,t,r,s){var a=this,u=this._opts,h=[void 0],f={},g=[],v={},p=[],E={},T=[];t=t||{schema:e,refVal:h,refs:f};var S=Stt.call(this,e,t,s),x=this._compilations[S.index];if(S.compiling)return x.callValidate=B;var O=this._formats,P=this.RULES;try{var M=U(e,t,r,s);x.validate=M;var G=x.callValidate;return G&&(G.schema=M.schema,G.errors=null,G.refs=M.refs,G.refVal=M.refVal,G.root=M.root,G.$async=M.$async,u.sourceCode&&(G.source=M.source)),M}finally{Att.call(this,e,t,s)}function B(){var Ee=x.validate,ue=Ee.apply(this,arguments);return B.errors=Ee.errors,ue}function U(Ee,ue,be,Me){var Xe=!ue||ue&&ue.schema==Ee;if(ue.schema!=t.schema)return Qq.call(a,Ee,ue,be,Me);var rt=Ee.$async===!0,st=Qge({isTop:!0,schema:Ee,isRoot:Xe,baseId:Me,root:ue,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Kge.MissingRef,RULES:P,validate:Qge,util:T8,resolve:_8,resolveRef:j,usePattern:pe,useDefault:ae,useCustomRule:ye,opts:u,formats:O,logger:a.logger,self:a});st=E8(h,xtt)+E8(g,wtt)+E8(p,Ctt)+E8(T,Itt)+st,u.processCode&&(st=u.processCode(st,Ee));var mt;try{var kt=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",st);mt=kt(a,P,O,t,h,p,T,_tt,btt,Ttt),h[0]=mt}catch(Le){throw a.logger.error("Error compiling schema, function code:",st),Le}return mt.schema=Ee,mt.errors=null,mt.refs=f,mt.refVal=h,mt.root=Xe?mt:ue,rt&&(mt.$async=!0),u.sourceCode===!0&&(mt.source={code:st,patterns:g,defaults:p}),mt}function j(Ee,ue,be){ue=_8.url(Ee,ue);var Me=f[ue],Xe,rt;if(Me!==void 0)return Xe=h[Me],rt="refVal["+Me+"]",he(Xe,rt);if(!be&&t.refs){var st=t.refs[ue];if(st!==void 0)return Xe=t.refVal[st],rt=Z(ue,Xe),he(Xe,rt)}rt=Z(ue);var mt=_8.call(a,U,t,ue);if(mt===void 0){var kt=r&&r[ue];kt&&(mt=_8.inlineRef(kt,u.inlineRefs)?kt:Qq.call(a,kt,t,r,Ee))}if(mt===void 0)ee(ue);else return J(ue,mt),he(mt,rt)}function Z(Ee,ue){var be=h.length;return h[be]=ue,f[Ee]=be,"refVal"+be}function ee(Ee){delete f[Ee]}function J(Ee,ue){var be=f[Ee];h[be]=ue}function he(Ee,ue){return typeof Ee=="object"||typeof Ee=="boolean"?{code:ue,schema:Ee,inline:!0}:{code:ue,$async:Ee&&!!Ee.$async}}function pe(Ee){var ue=v[Ee];return ue===void 0&&(ue=v[Ee]=g.length,g[ue]=Ee),"pattern"+ue}function ae(Ee){switch(typeof Ee){case"boolean":case"number":return""+Ee;case"string":return T8.toQuotedString(Ee);case"object":if(Ee===null)return"null";var ue=ytt(Ee),be=E[ue];return be===void 0&&(be=E[ue]=p.length,p[be]=Ee),"default"+be}}function ye(Ee,ue,be,Me){if(a._opts.validateSchema!==!1){var Xe=Ee.definition.dependencies;if(Xe&&!Xe.every(function(dt){return Object.prototype.hasOwnProperty.call(be,dt)}))throw new Error("parent schema must have all required keywords: "+Xe.join(","));var rt=Ee.definition.validateSchema;if(rt){var st=rt(ue);if(!st){var mt="keyword schema is invalid: "+a.errorsText(rt.errors);if(a._opts.validateSchema=="log")a.logger.error(mt);else throw new Error(mt)}}}var kt=Ee.definition.compile,Le=Ee.definition.inline,Ie=Ee.definition.macro,Ne;if(kt)Ne=kt.call(a,ue,be,Me);else if(Ie)Ne=Ie.call(a,ue,be,Me),u.validateSchema!==!1&&a.validateSchema(Ne,!0);else if(Le)Ne=Le.call(a,Me,Ee.keyword,ue,be);else if(Ne=Ee.definition.validate,!Ne)return;if(Ne===void 0)throw new Error('custom keyword "'+Ee.keyword+'"failed to compile');var Fe=T.length;return T[Fe]=Ne,{code:"customRule"+Fe,validate:Ne}}}function Stt(e,t,r){var s=Jge.call(this,e,t,r);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:e,root:t,baseId:r},{index:s,compiling:!1})}function Att(e,t,r){var s=Jge.call(this,e,t,r);s>=0&&this._compilations.splice(s,1)}function Jge(e,t,r){for(var s=0;s<this._compilations.length;s++){var a=this._compilations[s];if(a.schema==e&&a.root==t&&a.baseId==r)return s}return-1}function wtt(e,t){return"var pattern"+e+" = new RegExp("+T8.toQuotedString(t[e])+");"}function Ctt(e){return"var default"+e+" = defaults["+e+"];"}function xtt(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function Itt(e){return"var customRule"+e+" = customRules["+e+"];"}function E8(e,t){if(!e.length)return"";for(var r="",s=0;s<e.length;s++)r+=t(s,e);return r}var eve={exports:{}},S8=eve.exports=function(){this._cache={}};S8.prototype.put=function(t,r){this._cache[t]=r},S8.prototype.get=function(t){return this._cache[t]},S8.prototype.del=function(t){delete this._cache[t]},S8.prototype.clear=function(){this._cache={}};var Dtt=bx,Ott=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ktt=[0,31,28,31,30,31,30,31,31,30,31,30,31],Rtt=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,tve=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ptt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ntt=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,rve=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,nve=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ive=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ave=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ove=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,sve=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Mtt=A8;function A8(e){return e=e=="full"?"full":"fast",Dtt.copy(A8[e])}A8.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":rve,url:nve,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:tve,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cve,uuid:ive,"json-pointer":ave,"json-pointer-uri-fragment":ove,"relative-json-pointer":sve},A8.full={date:lve,time:uve,"date-time":Btt,uri:Utt,"uri-reference":Ntt,"uri-template":rve,url:nve,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:tve,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cve,uuid:ive,"json-pointer":ave,"json-pointer-uri-fragment":ove,"relative-json-pointer":sve};function Ltt(e){return e%4===0&&(e%100!==0||e%400===0)}function lve(e){var t=e.match(Ott);if(!t)return!1;var r=+t[1],s=+t[2],a=+t[3];return s>=1&&s<=12&&a>=1&&a<=(s==2&&Ltt(r)?29:ktt[s])}function uve(e,t){var r=e.match(Rtt);if(!r)return!1;var s=r[1],a=r[2],u=r[3],h=r[5];return(s<=23&&a<=59&&u<=59||s==23&&a==59&&u==60)&&(!t||h)}var Ftt=/t|\s/i;function Btt(e){var t=e.split(Ftt);return t.length==2&&lve(t[0])&&uve(t[1],!0)}var Htt=/\/|:/;function Utt(e){return Htt.test(e)&&Ptt.test(e)}var Gtt=/[^\\]\\Z/;function cve(e){if(Gtt.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var $tt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.errSchemaPath+"/"+r,v=!t.opts.allErrors,p="data"+(h||""),E="valid"+u,T,S;if(f=="#"||f=="#/")t.isRoot?(T=t.async,S="validate"):(T=t.root.schema.$async===!0,S="root.refVal[0]");else{var x=t.resolveRef(t.baseId,f,t.isRoot);if(x===void 0){var O=t.MissingRefError.message(t.baseId,f);if(t.opts.missingRefs=="fail"){t.logger.error(O);var P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(g)+" , params: { ref: '"+t.util.escapeQuotes(f)+"' } ",t.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(f)+"' "),t.opts.verbose&&(a+=" , schema: "+t.util.toQuotedString(f)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var M=a;a=P.pop(),!t.compositeRule&&v?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v&&(a+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(O),v&&(a+=" if (true) { ");else throw new t.MissingRefError(t.baseId,f,O)}else if(x.inline){var G=t.util.copy(t);G.level++;var B="valid"+G.level;G.schema=x.schema,G.schemaPath="",G.errSchemaPath=f;var U=t.validate(G).replace(/validate\.schema/g,x.code);a+=" "+U+" ",v&&(a+=" if ("+B+") { ")}else T=x.$async===!0||t.async&&x.$async!==!1,S=x.code}if(S){var P=P||[];P.push(a),a="",t.opts.passContext?a+=" "+S+".call(this, ":a+=" "+S+"( ",a+=" "+p+", (dataPath || '')",t.errorPath!='""'&&(a+=" + "+t.errorPath);var j=h?"data"+(h-1||""):"parentData",Z=h?t.dataPathArr[h]:"parentDataProperty";a+=" , "+j+" , "+Z+", rootData)  ";var ee=a;if(a=P.pop(),T){if(!t.async)throw new Error("async schema referenced by sync schema");v&&(a+=" var "+E+"; "),a+=" try { await "+ee+"; ",v&&(a+=" "+E+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",v&&(a+=" "+E+" = false; "),a+=" } ",v&&(a+=" if ("+E+") { ")}else a+=" if (!"+ee+") { if (vErrors === null) vErrors = "+S+".errors; else vErrors = vErrors.concat("+S+".errors); errors = vErrors.length; } ",v&&(a+=" else { ")}return a},ztt=function(t,r,s){var a=" ",u=t.schema[r],h=t.schemaPath+t.util.getProperty(r),f=t.errSchemaPath+"/"+r,g=!t.opts.allErrors,v=t.util.copy(t),p="";v.level++;var E="valid"+v.level,T=v.baseId,S=!0,x=u;if(x)for(var O,P=-1,M=x.length-1;P<M;)O=x[P+=1],(t.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:t.util.schemaHasRules(O,t.RULES.all))&&(S=!1,v.schema=O,v.schemaPath=h+"["+P+"]",v.errSchemaPath=f+"/"+P,a+="  "+t.validate(v)+" ",v.baseId=T,g&&(a+=" if ("+E+") { ",p+="}"));return g&&(S?a+=" if (true) { ":a+=" "+p.slice(0,-1)+" "),a},Vtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S="errs__"+u,x=t.util.copy(t),O="";x.level++;var P="valid"+x.level,M=f.every(function(J){return t.opts.strictKeywords?typeof J=="object"&&Object.keys(J).length>0||J===!1:t.util.schemaHasRules(J,t.RULES.all)});if(M){var G=x.baseId;a+=" var "+S+" = errors; var "+T+" = false;  ";var B=t.compositeRule;t.compositeRule=x.compositeRule=!0;var U=f;if(U)for(var j,Z=-1,ee=U.length-1;Z<ee;)j=U[Z+=1],x.schema=j,x.schemaPath=g+"["+Z+"]",x.errSchemaPath=v+"/"+Z,a+="  "+t.validate(x)+" ",x.baseId=G,a+=" "+T+" = "+T+" || "+P+"; if (!"+T+") { ",O+="}";t.compositeRule=x.compositeRule=B,a+=" "+O+" if (!"+T+") {   var err =   ",t.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&p&&(t.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; } ",t.opts.allErrors&&(a+=" } ")}else p&&(a+=" if (true) { ");return a},jtt=function(t,r,s){var a=" ",u=t.schema[r],h=t.errSchemaPath+"/"+r;t.opts.allErrors;var f=t.util.toQuotedString(u);return t.opts.$comment===!0?a+=" console.log("+f+");":typeof t.opts.$comment=="function"&&(a+=" self._opts.$comment("+f+", "+t.util.toQuotedString(h)+", validate.root.schema);"),a},Wtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S=t.opts.$data&&f&&f.$data;S&&(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; "),S||(a+=" var schema"+u+" = validate.schema"+g+";"),a+="var "+T+" = equal("+E+", schema"+u+"); if (!"+T+") {   ";var x=x||[];x.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { allowedValue: schema"+u+" } ",t.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var O=a;return a=x.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",p&&(a+=" else { "),a},Xtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S="errs__"+u,x=t.util.copy(t),O="";x.level++;var P="valid"+x.level,M="i"+u,G=x.dataLevel=t.dataLevel+1,B="data"+G,U=t.baseId,j=t.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:t.util.schemaHasRules(f,t.RULES.all);if(a+="var "+S+" = errors;var "+T+";",j){var Z=t.compositeRule;t.compositeRule=x.compositeRule=!0,x.schema=f,x.schemaPath=g,x.errSchemaPath=v,a+=" var "+P+" = false; for (var "+M+" = 0; "+M+" < "+E+".length; "+M+"++) { ",x.errorPath=t.util.getPathExpr(t.errorPath,M,t.opts.jsonPointers,!0);var ee=E+"["+M+"]";x.dataPathArr[G]=M;var J=t.validate(x);x.baseId=U,t.util.varOccurences(J,B)<2?a+=" "+t.util.varReplace(J,B,ee)+" ":a+=" var "+B+" = "+ee+"; "+J+" ",a+=" if ("+P+") break; }  ",t.compositeRule=x.compositeRule=Z,a+=" "+O+" if (!"+P+") {"}else a+=" if ("+E+".length == 0) {";var he=he||[];he.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var pe=a;return a=he.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+pe+"]); ":a+=" validate.errors = ["+pe+"]; return false; ":a+=" var err = "+pe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",j&&(a+="  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; } "),t.opts.allErrors&&(a+=" } "),a},Ytt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="errs__"+u,S=t.util.copy(t),x="";S.level++;var O="valid"+S.level,P={},M={},G=t.opts.ownProperties;for(Z in f)if(Z!="__proto__"){var B=f[Z],U=Array.isArray(B)?M:P;U[Z]=B}a+="var "+T+" = errors;";var j=t.errorPath;a+="var missing"+u+";";for(var Z in M)if(U=M[Z],U.length){if(a+=" if ( "+E+t.util.getProperty(Z)+" !== undefined ",G&&(a+=" && Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(Z)+"') "),p){a+=" && ( ";var ee=U;if(ee)for(var J,he=-1,pe=ee.length-1;he<pe;){J=ee[he+=1],he&&(a+=" || ");var ae=t.util.getProperty(J),ye=E+ae;a+=" ( ( "+ye+" === undefined ",G&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(J)+"') "),a+=") && (missing"+u+" = "+t.util.toQuotedString(t.opts.jsonPointers?J:ae)+") ) "}a+=")) {  ";var Ee="missing"+u,ue="' + "+Ee+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(j,Ee,!0):j+" + "+Ee);var be=be||[];be.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { property: '"+t.util.escapeQuotes(Z)+"', missingProperty: '"+ue+"', depsCount: "+U.length+", deps: '"+t.util.escapeQuotes(U.length==1?U[0]:U.join(", "))+"' } ",t.opts.messages!==!1&&(a+=" , message: 'should have ",U.length==1?a+="property "+t.util.escapeQuotes(U[0]):a+="properties "+t.util.escapeQuotes(U.join(", ")),a+=" when property "+t.util.escapeQuotes(Z)+" is present' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var Me=a;a=be.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+Me+"]); ":a+=" validate.errors = ["+Me+"]; return false; ":a+=" var err = "+Me+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var Xe=U;if(Xe)for(var J,rt=-1,st=Xe.length-1;rt<st;){J=Xe[rt+=1];var ae=t.util.getProperty(J),ue=t.util.escapeQuotes(J),ye=E+ae;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(j,J,t.opts.jsonPointers)),a+=" if ( "+ye+" === undefined ",G&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(J)+"') "),a+=") {  var err =   ",t.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { property: '"+t.util.escapeQuotes(Z)+"', missingProperty: '"+ue+"', depsCount: "+U.length+", deps: '"+t.util.escapeQuotes(U.length==1?U[0]:U.join(", "))+"' } ",t.opts.messages!==!1&&(a+=" , message: 'should have ",U.length==1?a+="property "+t.util.escapeQuotes(U[0]):a+="properties "+t.util.escapeQuotes(U.join(", ")),a+=" when property "+t.util.escapeQuotes(Z)+" is present' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",p&&(x+="}",a+=" else { ")}t.errorPath=j;var mt=S.baseId;for(var Z in P){var B=P[Z];(t.opts.strictKeywords?typeof B=="object"&&Object.keys(B).length>0||B===!1:t.util.schemaHasRules(B,t.RULES.all))&&(a+=" "+O+" = true; if ( "+E+t.util.getProperty(Z)+" !== undefined ",G&&(a+=" && Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(Z)+"') "),a+=") { ",S.schema=B,S.schemaPath=g+t.util.getProperty(Z),S.errSchemaPath=v+"/"+t.util.escapeFragment(Z),a+="  "+t.validate(S)+" ",S.baseId=mt,a+=" }  ",p&&(a+=" if ("+O+") { ",x+="}"))}return p&&(a+="   "+x+" if ("+T+" == errors) {"),a},qtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S=t.opts.$data&&f&&f.$data;S&&(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ");var x="i"+u,O="schema"+u;S||(a+=" var "+O+" = validate.schema"+g+";"),a+="var "+T+";",S&&(a+=" if (schema"+u+" === undefined) "+T+" = true; else if (!Array.isArray(schema"+u+")) "+T+" = false; else {"),a+=""+T+" = false;for (var "+x+"=0; "+x+"<"+O+".length; "+x+"++) if (equal("+E+", "+O+"["+x+"])) { "+T+" = true; break; }",S&&(a+="  }  "),a+=" if (!"+T+") {   ";var P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { allowedValues: schema"+u+" } ",t.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var M=a;return a=P.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",p&&(a+=" else { "),a},Ztt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||"");if(t.opts.format===!1)return p&&(a+=" if (true) { "),a;var T=t.opts.$data&&f&&f.$data,S;T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f;var x=t.opts.unknownFormats,O=Array.isArray(x);if(T){var P="format"+u,M="isObject"+u,G="formatType"+u;a+=" var "+P+" = formats["+S+"]; var "+M+" = typeof "+P+" == 'object' && !("+P+" instanceof RegExp) && "+P+".validate; var "+G+" = "+M+" && "+P+".type || 'string'; if ("+M+") { ",t.async&&(a+=" var async"+u+" = "+P+".async; "),a+=" "+P+" = "+P+".validate; } if (  ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'string') || "),a+=" (",x!="ignore"&&(a+=" ("+S+" && !"+P+" ",O&&(a+=" && self._opts.unknownFormats.indexOf("+S+") == -1 "),a+=") || "),a+=" ("+P+" && "+G+" == '"+s+"' && !(typeof "+P+" == 'function' ? ",t.async?a+=" (async"+u+" ? await "+P+"("+E+") : "+P+"("+E+")) ":a+=" "+P+"("+E+") ",a+=" : "+P+".test("+E+"))))) {"}else{var P=t.formats[f];if(!P){if(x=="ignore")return t.logger.warn('unknown format "'+f+'" ignored in schema at path "'+t.errSchemaPath+'"'),p&&(a+=" if (true) { "),a;if(O&&x.indexOf(f)>=0)return p&&(a+=" if (true) { "),a;throw new Error('unknown format "'+f+'" is used in schema at path "'+t.errSchemaPath+'"')}var M=typeof P=="object"&&!(P instanceof RegExp)&&P.validate,G=M&&P.type||"string";if(M){var B=P.async===!0;P=P.validate}if(G!=s)return p&&(a+=" if (true) { "),a;if(B){if(!t.async)throw new Error("async format in sync schema");var U="formats"+t.util.getProperty(f)+".validate";a+=" if (!(await "+U+"("+E+"))) { "}else{a+=" if (! ";var U="formats"+t.util.getProperty(f);M&&(U+=".validate"),typeof P=="function"?a+=" "+U+"("+E+") ":a+=" "+U+".test("+E+") ",a+=") { "}}var j=j||[];j.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { format:  ",T?a+=""+S:a+=""+t.util.toQuotedString(f),a+="  } ",t.opts.messages!==!1&&(a+=` , message: 'should match format "`,T?a+="' + "+S+" + '":a+=""+t.util.escapeQuotes(f),a+=`"' `),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+t.util.toQuotedString(f),a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var Z=a;return a=j.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+Z+"]); ":a+=" validate.errors = ["+Z+"]; return false; ":a+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",p&&(a+=" else { "),a},Ktt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S="errs__"+u,x=t.util.copy(t);x.level++;var O="valid"+x.level,P=t.schema.then,M=t.schema.else,G=P!==void 0&&(t.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:t.util.schemaHasRules(P,t.RULES.all)),B=M!==void 0&&(t.opts.strictKeywords?typeof M=="object"&&Object.keys(M).length>0||M===!1:t.util.schemaHasRules(M,t.RULES.all)),U=x.baseId;if(G||B){var j;x.createErrors=!1,x.schema=f,x.schemaPath=g,x.errSchemaPath=v,a+=" var "+S+" = errors; var "+T+" = true;  ";var Z=t.compositeRule;t.compositeRule=x.compositeRule=!0,a+="  "+t.validate(x)+" ",x.baseId=U,x.createErrors=!0,a+="  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; }  ",t.compositeRule=x.compositeRule=Z,G?(a+=" if ("+O+") {  ",x.schema=t.schema.then,x.schemaPath=t.schemaPath+".then",x.errSchemaPath=t.errSchemaPath+"/then",a+="  "+t.validate(x)+" ",x.baseId=U,a+=" "+T+" = "+O+"; ",G&&B?(j="ifClause"+u,a+=" var "+j+" = 'then'; "):j="'then'",a+=" } ",B&&(a+=" else { ")):a+=" if (!"+O+") { ",B&&(x.schema=t.schema.else,x.schemaPath=t.schemaPath+".else",x.errSchemaPath=t.errSchemaPath+"/else",a+="  "+t.validate(x)+" ",x.baseId=U,a+=" "+T+" = "+O+"; ",G&&B?(j="ifClause"+u,a+=" var "+j+" = 'else'; "):j="'else'",a+=" } "),a+=" if (!"+T+") {   var err =   ",t.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { failingKeyword: "+j+" } ",t.opts.messages!==!1&&(a+=` , message: 'should match "' + `+j+` + '" schema' `),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&p&&(t.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",p&&(a+=" else { ")}else p&&(a+=" if (true) { ");return a},Qtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S="errs__"+u,x=t.util.copy(t),O="";x.level++;var P="valid"+x.level,M="i"+u,G=x.dataLevel=t.dataLevel+1,B="data"+G,U=t.baseId;if(a+="var "+S+" = errors;var "+T+";",Array.isArray(f)){var j=t.schema.additionalItems;if(j===!1){a+=" "+T+" = "+E+".length <= "+f.length+"; ";var Z=v;v=t.errSchemaPath+"/additionalItems",a+="  if (!"+T+") {   ";var ee=ee||[];ee.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { limit: "+f.length+" } ",t.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+f.length+" items' "),t.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var J=a;a=ee.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+J+"]); ":a+=" validate.errors = ["+J+"]; return false; ":a+=" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",v=Z,p&&(O+="}",a+=" else { ")}var he=f;if(he){for(var pe,ae=-1,ye=he.length-1;ae<ye;)if(pe=he[ae+=1],t.opts.strictKeywords?typeof pe=="object"&&Object.keys(pe).length>0||pe===!1:t.util.schemaHasRules(pe,t.RULES.all)){a+=" "+P+" = true; if ("+E+".length > "+ae+") { ";var Ee=E+"["+ae+"]";x.schema=pe,x.schemaPath=g+"["+ae+"]",x.errSchemaPath=v+"/"+ae,x.errorPath=t.util.getPathExpr(t.errorPath,ae,t.opts.jsonPointers,!0),x.dataPathArr[G]=ae;var ue=t.validate(x);x.baseId=U,t.util.varOccurences(ue,B)<2?a+=" "+t.util.varReplace(ue,B,Ee)+" ":a+=" var "+B+" = "+Ee+"; "+ue+" ",a+=" }  ",p&&(a+=" if ("+P+") { ",O+="}")}}if(typeof j=="object"&&(t.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:t.util.schemaHasRules(j,t.RULES.all))){x.schema=j,x.schemaPath=t.schemaPath+".additionalItems",x.errSchemaPath=t.errSchemaPath+"/additionalItems",a+=" "+P+" = true; if ("+E+".length > "+f.length+") {  for (var "+M+" = "+f.length+"; "+M+" < "+E+".length; "+M+"++) { ",x.errorPath=t.util.getPathExpr(t.errorPath,M,t.opts.jsonPointers,!0);var Ee=E+"["+M+"]";x.dataPathArr[G]=M;var ue=t.validate(x);x.baseId=U,t.util.varOccurences(ue,B)<2?a+=" "+t.util.varReplace(ue,B,Ee)+" ":a+=" var "+B+" = "+Ee+"; "+ue+" ",p&&(a+=" if (!"+P+") break; "),a+=" } }  ",p&&(a+=" if ("+P+") { ",O+="}")}}else if(t.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:t.util.schemaHasRules(f,t.RULES.all)){x.schema=f,x.schemaPath=g,x.errSchemaPath=v,a+="  for (var "+M+" = 0; "+M+" < "+E+".length; "+M+"++) { ",x.errorPath=t.util.getPathExpr(t.errorPath,M,t.opts.jsonPointers,!0);var Ee=E+"["+M+"]";x.dataPathArr[G]=M;var ue=t.validate(x);x.baseId=U,t.util.varOccurences(ue,B)<2?a+=" "+t.util.varReplace(ue,B,Ee)+" ":a+=" var "+B+" = "+Ee+"; "+ue+" ",p&&(a+=" if (!"+P+") break; "),a+=" }"}return p&&(a+=" "+O+" if ("+S+" == errors) {"),a},hve=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,U,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f;var x=r=="maximum",O=x?"exclusiveMaximum":"exclusiveMinimum",P=t.schema[O],M=t.opts.$data&&P&&P.$data,G=x?"<":">",B=x?">":"<",U=void 0;if(!(T||typeof f=="number"||f===void 0))throw new Error(r+" must be number");if(!(M||P===void 0||typeof P=="number"||typeof P=="boolean"))throw new Error(O+" must be number or boolean");if(M){var j=t.util.getData(P.$data,h,t.dataPathArr),Z="exclusive"+u,ee="exclType"+u,J="exclIsNumber"+u,he="op"+u,pe="' + "+he+" + '";a+=" var schemaExcl"+u+" = "+j+"; ",j="schemaExcl"+u,a+=" var "+Z+"; var "+ee+" = typeof "+j+"; if ("+ee+" != 'boolean' && "+ee+" != 'undefined' && "+ee+" != 'number') { ";var U=O,ae=ae||[];ae.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(U||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: '"+O+" should be boolean' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var ye=a;a=ae.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+ye+"]); ":a+=" validate.errors = ["+ye+"]; return false; ":a+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),a+=" "+ee+" == 'number' ? ( ("+Z+" = "+S+" === undefined || "+j+" "+G+"= "+S+") ? "+E+" "+B+"= "+j+" : "+E+" "+B+" "+S+" ) : ( ("+Z+" = "+j+" === true) ? "+E+" "+B+"= "+S+" : "+E+" "+B+" "+S+" ) || "+E+" !== "+E+") { var op"+u+" = "+Z+" ? '"+G+"' : '"+G+"='; ",f===void 0&&(U=O,v=t.errSchemaPath+"/"+O,S=j,T=M)}else{var J=typeof P=="number",pe=G;if(J&&T){var he="'"+pe+"'";a+=" if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),a+=" ( "+S+" === undefined || "+P+" "+G+"= "+S+" ? "+E+" "+B+"= "+P+" : "+E+" "+B+" "+S+" ) || "+E+" !== "+E+") { "}else{J&&f===void 0?(Z=!0,U=O,v=t.errSchemaPath+"/"+O,S=P,B+="="):(J&&(S=Math[x?"min":"max"](P,f)),P===(J?S:!0)?(Z=!0,U=O,v=t.errSchemaPath+"/"+O,B+="="):(Z=!1,pe+="="));var he="'"+pe+"'";a+=" if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),a+=" "+E+" "+B+" "+S+" || "+E+" !== "+E+") { "}}U=U||r;var ae=ae||[];ae.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(U||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { comparison: "+he+", limit: "+S+", exclusive: "+Z+" } ",t.opts.messages!==!1&&(a+=" , message: 'should be "+pe+" ",T?a+="' + "+S:a+=""+S+"'"),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var ye=a;return a=ae.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+ye+"]); ":a+=" validate.errors = ["+ye+"]; return false; ":a+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",p&&(a+=" else { "),a},fve=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,O,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;if(T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f,!(T||typeof f=="number"))throw new Error(r+" must be number");var x=r=="maxItems"?">":"<";a+="if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),a+=" "+E+".length "+x+" "+S+") { ";var O=r,P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(O||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { limit: "+S+" } ",t.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxItems"?a+="more":a+="fewer",a+=" than ",T?a+="' + "+S+" + '":a+=""+f,a+=" items' "),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var M=a;return a=P.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",p&&(a+=" else { "),a},dve=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,O,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;if(T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f,!(T||typeof f=="number"))throw new Error(r+" must be number");var x=r=="maxLength"?">":"<";a+="if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),t.opts.unicode===!1?a+=" "+E+".length ":a+=" ucs2length("+E+") ",a+=" "+x+" "+S+") { ";var O=r,P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(O||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { limit: "+S+" } ",t.opts.messages!==!1&&(a+=" , message: 'should NOT be ",r=="maxLength"?a+="longer":a+="shorter",a+=" than ",T?a+="' + "+S+" + '":a+=""+f,a+=" characters' "),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var M=a;return a=P.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",p&&(a+=" else { "),a},pve=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,O,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;if(T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f,!(T||typeof f=="number"))throw new Error(r+" must be number");var x=r=="maxProperties"?">":"<";a+="if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),a+=" Object.keys("+E+").length "+x+" "+S+") { ";var O=r,P=P||[];P.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(O||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { limit: "+S+" } ",t.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxProperties"?a+="more":a+="fewer",a+=" than ",T?a+="' + "+S+" + '":a+=""+f,a+=" properties' "),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var M=a;return a=P.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",p&&(a+=" else { "),a},Jtt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;if(T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f,!(T||typeof f=="number"))throw new Error(r+" must be number");a+="var division"+u+";if (",T&&(a+=" "+S+" !== undefined && ( typeof "+S+" != 'number' || "),a+=" (division"+u+" = "+E+" / "+S+", ",t.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+u+") - division"+u+") > 1e-"+t.opts.multipleOfPrecision+" ":a+=" division"+u+" !== parseInt(division"+u+") ",a+=" ) ",T&&(a+="  )  "),a+=" ) {   ";var x=x||[];x.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { multipleOf: "+S+" } ",t.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",T?a+="' + "+S:a+=""+S+"'"),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var O=a;return a=x.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",p&&(a+=" else { "),a},ert=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="errs__"+u,S=t.util.copy(t);S.level++;var x="valid"+S.level;if(t.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:t.util.schemaHasRules(f,t.RULES.all)){S.schema=f,S.schemaPath=g,S.errSchemaPath=v,a+=" var "+T+" = errors;  ";var O=t.compositeRule;t.compositeRule=S.compositeRule=!0,S.createErrors=!1;var P;S.opts.allErrors&&(P=S.opts.allErrors,S.opts.allErrors=!1),a+=" "+t.validate(S)+" ",S.createErrors=!0,P&&(S.opts.allErrors=P),t.compositeRule=S.compositeRule=O,a+=" if ("+x+") {   ";var M=M||[];M.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var G=a;a=M.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; } ",t.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",t.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: {} ",t.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(a+=" if (false) { ");return a},trt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S="errs__"+u,x=t.util.copy(t),O="";x.level++;var P="valid"+x.level,M=x.baseId,G="prevValid"+u,B="passingSchemas"+u;a+="var "+S+" = errors , "+G+" = false , "+T+" = false , "+B+" = null; ";var U=t.compositeRule;t.compositeRule=x.compositeRule=!0;var j=f;if(j)for(var Z,ee=-1,J=j.length-1;ee<J;)Z=j[ee+=1],(t.opts.strictKeywords?typeof Z=="object"&&Object.keys(Z).length>0||Z===!1:t.util.schemaHasRules(Z,t.RULES.all))?(x.schema=Z,x.schemaPath=g+"["+ee+"]",x.errSchemaPath=v+"/"+ee,a+="  "+t.validate(x)+" ",x.baseId=M):a+=" var "+P+" = true; ",ee&&(a+=" if ("+P+" && "+G+") { "+T+" = false; "+B+" = ["+B+", "+ee+"]; } else { ",O+="}"),a+=" if ("+P+") { "+T+" = "+G+" = true; "+B+" = "+ee+"; }";return t.compositeRule=x.compositeRule=U,a+=""+O+"if (!"+T+") {   var err =   ",t.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { passingSchemas: "+B+" } ",t.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&p&&(t.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; }",t.opts.allErrors&&(a+=" } "),a},rrt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T=t.opts.$data&&f&&f.$data,S;T?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",S="schema"+u):S=f;var x=T?"(new RegExp("+S+"))":t.usePattern(f);a+="if ( ",T&&(a+=" ("+S+" !== undefined && typeof "+S+" != 'string') || "),a+=" !"+x+".test("+E+") ) {   ";var O=O||[];O.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { pattern:  ",T?a+=""+S:a+=""+t.util.toQuotedString(f),a+="  } ",t.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,T?a+="' + "+S+" + '":a+=""+t.util.escapeQuotes(f),a+=`"' `),t.opts.verbose&&(a+=" , schema:  ",T?a+="validate.schema"+g:a+=""+t.util.toQuotedString(f),a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var P=a;return a=O.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",p&&(a+=" else { "),a},nrt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="errs__"+u,S=t.util.copy(t),x="";S.level++;var O="valid"+S.level,P="key"+u,M="idx"+u,G=S.dataLevel=t.dataLevel+1,B="data"+G,U="dataProperties"+u,j=Object.keys(f||{}).filter(rt),Z=t.schema.patternProperties||{},ee=Object.keys(Z).filter(rt),J=t.schema.additionalProperties,he=j.length||ee.length,pe=J===!1,ae=typeof J=="object"&&Object.keys(J).length,ye=t.opts.removeAdditional,Ee=pe||ae||ye,ue=t.opts.ownProperties,be=t.baseId,Me=t.schema.required;if(Me&&!(t.opts.$data&&Me.$data)&&Me.length<t.opts.loopRequired)var Xe=t.util.toHash(Me);function rt(ne){return ne!=="__proto__"}if(a+="var "+T+" = errors;var "+O+" = true;",ue&&(a+=" var "+U+" = undefined;"),Ee){if(ue?a+=" "+U+" = "+U+" || Object.keys("+E+"); for (var "+M+"=0; "+M+"<"+U+".length; "+M+"++) { var "+P+" = "+U+"["+M+"]; ":a+=" for (var "+P+" in "+E+") { ",he){if(a+=" var isAdditional"+u+" = !(false ",j.length)if(j.length>8)a+=" || validate.schema"+g+".hasOwnProperty("+P+") ";else{var st=j;if(st)for(var mt,kt=-1,Le=st.length-1;kt<Le;)mt=st[kt+=1],a+=" || "+P+" == "+t.util.toQuotedString(mt)+" "}if(ee.length){var Ie=ee;if(Ie)for(var Ne,Fe=-1,dt=Ie.length-1;Fe<dt;)Ne=Ie[Fe+=1],a+=" || "+t.usePattern(Ne)+".test("+P+") "}a+=" ); if (isAdditional"+u+") { "}if(ye=="all")a+=" delete "+E+"["+P+"]; ";else{var Et=t.errorPath,Vt="' + "+P+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,P,t.opts.jsonPointers)),pe)if(ye)a+=" delete "+E+"["+P+"]; ";else{a+=" "+O+" = false; ";var Ft=v;v=t.errSchemaPath+"/additionalProperties";var qt=qt||[];qt.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { additionalProperty: '"+Vt+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),t.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var Sr=a;a=qt.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+Sr+"]); ":a+=" validate.errors = ["+Sr+"]; return false; ":a+=" var err = "+Sr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v=Ft,p&&(a+=" break; ")}else if(ae)if(ye=="failing"){a+=" var "+T+" = errors;  ";var jt=t.compositeRule;t.compositeRule=S.compositeRule=!0,S.schema=J,S.schemaPath=t.schemaPath+".additionalProperties",S.errSchemaPath=t.errSchemaPath+"/additionalProperties",S.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,P,t.opts.jsonPointers);var Hr=E+"["+P+"]";S.dataPathArr[G]=P;var Cr=t.validate(S);S.baseId=be,t.util.varOccurences(Cr,B)<2?a+=" "+t.util.varReplace(Cr,B,Hr)+" ":a+=" var "+B+" = "+Hr+"; "+Cr+" ",a+=" if (!"+O+") { errors = "+T+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+E+"["+P+"]; }  ",t.compositeRule=S.compositeRule=jt}else{S.schema=J,S.schemaPath=t.schemaPath+".additionalProperties",S.errSchemaPath=t.errSchemaPath+"/additionalProperties",S.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,P,t.opts.jsonPointers);var Hr=E+"["+P+"]";S.dataPathArr[G]=P;var Cr=t.validate(S);S.baseId=be,t.util.varOccurences(Cr,B)<2?a+=" "+t.util.varReplace(Cr,B,Hr)+" ":a+=" var "+B+" = "+Hr+"; "+Cr+" ",p&&(a+=" if (!"+O+") break; ")}t.errorPath=Et}he&&(a+=" } "),a+=" }  ",p&&(a+=" if ("+O+") { ",x+="}")}var On=t.opts.useDefaults&&!t.compositeRule;if(j.length){var sn=j;if(sn)for(var mt,Ur=-1,Bn=sn.length-1;Ur<Bn;){mt=sn[Ur+=1];var Mn=f[mt];if(t.opts.strictKeywords?typeof Mn=="object"&&Object.keys(Mn).length>0||Mn===!1:t.util.schemaHasRules(Mn,t.RULES.all)){var ci=t.util.getProperty(mt),Hr=E+ci,Ja=On&&Mn.default!==void 0;S.schema=Mn,S.schemaPath=g+ci,S.errSchemaPath=v+"/"+t.util.escapeFragment(mt),S.errorPath=t.util.getPath(t.errorPath,mt,t.opts.jsonPointers),S.dataPathArr[G]=t.util.toQuotedString(mt);var Cr=t.validate(S);if(S.baseId=be,t.util.varOccurences(Cr,B)<2){Cr=t.util.varReplace(Cr,B,Hr);var kn=Hr}else{var kn=B;a+=" var "+B+" = "+Hr+"; "}if(Ja)a+=" "+Cr+" ";else{if(Xe&&Xe[mt]){a+=" if ( "+kn+" === undefined ",ue&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(mt)+"') "),a+=") { "+O+" = false; ";var Et=t.errorPath,Ft=v,Ht=t.util.escapeQuotes(mt);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(Et,mt,t.opts.jsonPointers)),v=t.errSchemaPath+"/required";var qt=qt||[];qt.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+Ht+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+Ht+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var Sr=a;a=qt.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+Sr+"]); ":a+=" validate.errors = ["+Sr+"]; return false; ":a+=" var err = "+Sr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v=Ft,t.errorPath=Et,a+=" } else { "}else p?(a+=" if ( "+kn+" === undefined ",ue&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(mt)+"') "),a+=") { "+O+" = true; } else { "):(a+=" if ("+kn+" !== undefined ",ue&&(a+=" &&   Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(mt)+"') "),a+=" ) { ");a+=" "+Cr+" } "}}p&&(a+=" if ("+O+") { ",x+="}")}}if(ee.length){var Ve=ee;if(Ve)for(var Ne,et=-1,_t=Ve.length-1;et<_t;){Ne=Ve[et+=1];var Mn=Z[Ne];if(t.opts.strictKeywords?typeof Mn=="object"&&Object.keys(Mn).length>0||Mn===!1:t.util.schemaHasRules(Mn,t.RULES.all)){S.schema=Mn,S.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(Ne),S.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(Ne),ue?a+=" "+U+" = "+U+" || Object.keys("+E+"); for (var "+M+"=0; "+M+"<"+U+".length; "+M+"++) { var "+P+" = "+U+"["+M+"]; ":a+=" for (var "+P+" in "+E+") { ",a+=" if ("+t.usePattern(Ne)+".test("+P+")) { ",S.errorPath=t.util.getPathExpr(t.errorPath,P,t.opts.jsonPointers);var Hr=E+"["+P+"]";S.dataPathArr[G]=P;var Cr=t.validate(S);S.baseId=be,t.util.varOccurences(Cr,B)<2?a+=" "+t.util.varReplace(Cr,B,Hr)+" ":a+=" var "+B+" = "+Hr+"; "+Cr+" ",p&&(a+=" if (!"+O+") break; "),a+=" } ",p&&(a+=" else "+O+" = true; "),a+=" }  ",p&&(a+=" if ("+O+") { ",x+="}")}}}return p&&(a+=" "+x+" if ("+T+" == errors) {"),a},irt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="errs__"+u,S=t.util.copy(t),x="";S.level++;var O="valid"+S.level;if(a+="var "+T+" = errors;",t.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:t.util.schemaHasRules(f,t.RULES.all)){S.schema=f,S.schemaPath=g,S.errSchemaPath=v;var P="key"+u,M="idx"+u,G="i"+u,B="' + "+P+" + '",U=S.dataLevel=t.dataLevel+1,j="data"+U,Z="dataProperties"+u,ee=t.opts.ownProperties,J=t.baseId;ee&&(a+=" var "+Z+" = undefined; "),ee?a+=" "+Z+" = "+Z+" || Object.keys("+E+"); for (var "+M+"=0; "+M+"<"+Z+".length; "+M+"++) { var "+P+" = "+Z+"["+M+"]; ":a+=" for (var "+P+" in "+E+") { ",a+=" var startErrs"+u+" = errors; ";var he=P,pe=t.compositeRule;t.compositeRule=S.compositeRule=!0;var ae=t.validate(S);S.baseId=J,t.util.varOccurences(ae,j)<2?a+=" "+t.util.varReplace(ae,j,he)+" ":a+=" var "+j+" = "+he+"; "+ae+" ",t.compositeRule=S.compositeRule=pe,a+=" if (!"+O+") { for (var "+G+"=startErrs"+u+"; "+G+"<errors; "+G+"++) { vErrors["+G+"].propertyName = "+P+"; }   var err =   ",t.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { propertyName: '"+B+"' } ",t.opts.messages!==!1&&(a+=" , message: 'property name \\'"+B+"\\' is invalid' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&p&&(t.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),p&&(a+=" break; "),a+=" } }"}return p&&(a+=" "+x+" if ("+T+" == errors) {"),a},art=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S=t.opts.$data&&f&&f.$data;S&&(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ");var x="schema"+u;if(!S)if(f.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var O=[],P=f;if(P)for(var M,G=-1,B=P.length-1;G<B;){M=P[G+=1];var U=t.schema.properties[M];U&&(t.opts.strictKeywords?typeof U=="object"&&Object.keys(U).length>0||U===!1:t.util.schemaHasRules(U,t.RULES.all))||(O[O.length]=M)}}else var O=f;if(S||O.length){var j=t.errorPath,Z=S||O.length>=t.opts.loopRequired,ee=t.opts.ownProperties;if(p)if(a+=" var missing"+u+"; ",Z){S||(a+=" var "+x+" = validate.schema"+g+"; ");var J="i"+u,he="schema"+u+"["+J+"]",pe="' + "+he+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(j,he,t.opts.jsonPointers)),a+=" var "+T+" = true; ",S&&(a+=" if (schema"+u+" === undefined) "+T+" = true; else if (!Array.isArray(schema"+u+")) "+T+" = false; else {"),a+=" for (var "+J+" = 0; "+J+" < "+x+".length; "+J+"++) { "+T+" = "+E+"["+x+"["+J+"]] !== undefined ",ee&&(a+=" &&   Object.prototype.hasOwnProperty.call("+E+", "+x+"["+J+"]) "),a+="; if (!"+T+") break; } ",S&&(a+="  }  "),a+="  if (!"+T+") {   ";var ae=ae||[];ae.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+pe+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+pe+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var ye=a;a=ae.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+ye+"]); ":a+=" validate.errors = ["+ye+"]; return false; ":a+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var Ee=O;if(Ee)for(var ue,J=-1,be=Ee.length-1;J<be;){ue=Ee[J+=1],J&&(a+=" || ");var Me=t.util.getProperty(ue),Xe=E+Me;a+=" ( ( "+Xe+" === undefined ",ee&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(ue)+"') "),a+=") && (missing"+u+" = "+t.util.toQuotedString(t.opts.jsonPointers?ue:Me)+") ) "}a+=") {  ";var he="missing"+u,pe="' + "+he+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(j,he,!0):j+" + "+he);var ae=ae||[];ae.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+pe+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+pe+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var ye=a;a=ae.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+ye+"]); ":a+=" validate.errors = ["+ye+"]; return false; ":a+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(Z){S||(a+=" var "+x+" = validate.schema"+g+"; ");var J="i"+u,he="schema"+u+"["+J+"]",pe="' + "+he+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(j,he,t.opts.jsonPointers)),S&&(a+=" if ("+x+" && !Array.isArray("+x+")) {  var err =   ",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+pe+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+pe+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+x+" !== undefined) { "),a+=" for (var "+J+" = 0; "+J+" < "+x+".length; "+J+"++) { if ("+E+"["+x+"["+J+"]] === undefined ",ee&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", "+x+"["+J+"]) "),a+=") {  var err =   ",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+pe+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+pe+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",S&&(a+="  }  ")}else{var rt=O;if(rt)for(var ue,st=-1,mt=rt.length-1;st<mt;){ue=rt[st+=1];var Me=t.util.getProperty(ue),pe=t.util.escapeQuotes(ue),Xe=E+Me;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(j,ue,t.opts.jsonPointers)),a+=" if ( "+Xe+" === undefined ",ee&&(a+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(ue)+"') "),a+=") {  var err =   ",t.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { missingProperty: '"+pe+"' } ",t.opts.messages!==!1&&(a+=" , message: '",t.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+pe+"\\'",a+="' "),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=j}else p&&(a+=" if (true) {");return a},ort=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E="data"+(h||""),T="valid"+u,S=t.opts.$data&&f&&f.$data,x;if(S?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",x="schema"+u):x=f,(f||S)&&t.opts.uniqueItems!==!1){S&&(a+=" var "+T+"; if ("+x+" === false || "+x+" === undefined) "+T+" = true; else if (typeof "+x+" != 'boolean') "+T+" = false; else { "),a+=" var i = "+E+".length , "+T+" = true , j; if (i > 1) { ";var O=t.schema.items&&t.schema.items.type,P=Array.isArray(O);if(!O||O=="object"||O=="array"||P&&(O.indexOf("object")>=0||O.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+E+"[i], "+E+"[j])) { "+T+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+E+"[i]; ";var M="checkDataType"+(P?"s":"");a+=" if ("+t.util[M](O,"item",t.opts.strictNumbers,!0)+") continue; ",P&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+T+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",S&&(a+="  }  "),a+=" if (!"+T+") {   ";var G=G||[];G.push(a),a="",t.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+f,a+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var B=a;a=G.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",p&&(a+=" else { ")}else p&&(a+=" if (true) { ");return a},srt={$ref:$tt,allOf:ztt,anyOf:Vtt,$comment:jtt,const:Wtt,contains:Xtt,dependencies:Ytt,enum:qtt,format:Ztt,if:Ktt,items:Qtt,maximum:hve,minimum:hve,maxItems:fve,minItems:fve,maxLength:dve,minLength:dve,maxProperties:pve,minProperties:pve,multipleOf:Jtt,not:ert,oneOf:trt,pattern:rrt,properties:nrt,propertyNames:irt,required:art,uniqueItems:ort,validate:Zge},mve=srt,Jq=bx.toHash,lrt=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return t.all=Jq(r),t.types=Jq(a),t.forEach(function(u){u.rules=u.rules.map(function(h){var f;if(typeof h=="object"){var g=Object.keys(h)[0];f=h[g],h=g,f.forEach(function(p){r.push(p),t.all[p]=!0})}r.push(h);var v=t.all[h]={keyword:h,code:mve[h],implements:f};return v}),t.all.$comment={keyword:"$comment",code:mve.$comment},u.type&&(t.types[u.type]=u)}),t.keywords=Jq(r.concat(s)),t.custom={},t},gve=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],urt=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var s=t[r].split("/"),a=e,u;for(u=1;u<s.length;u++)a=a[s[u]];for(u=0;u<gve.length;u++){var h=gve[u],f=a[h];f&&(a[h]={anyOf:[f,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},crt=Zq.MissingRef,hrt=vve;function vve(e,t,r){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(r=t,t=void 0);var a=u(e).then(function(){var f=s._addSchema(e,void 0,t);return f.validate||h(f)});return r&&a.then(function(f){r(null,f)},r),a;function u(f){var g=f.$schema;return g&&!s.getSchema(g)?vve.call(s,{$ref:g},!0):Promise.resolve()}function h(f){try{return s._compile(f)}catch(v){if(v instanceof crt)return g(v);throw v}function g(v){var p=v.missingSchema;if(S(p))throw new Error("Schema "+p+" is loaded but "+v.missingRef+" cannot be resolved");var E=s._loadingSchemas[p];return E||(E=s._loadingSchemas[p]=s._opts.loadSchema(p),E.then(T,T)),E.then(function(x){if(!S(p))return u(x).then(function(){S(p)||s.addSchema(x,p,void 0,t)})}).then(function(){return h(f)});function T(){delete s._loadingSchemas[p]}function S(x){return s._refs[x]||s._schemas[x]}}}}var frt=function(t,r,s){var a=" ",u=t.level,h=t.dataLevel,f=t.schema[r],g=t.schemaPath+t.util.getProperty(r),v=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,E,T="data"+(h||""),S="valid"+u,x="errs__"+u,O=t.opts.$data&&f&&f.$data,P;O?(a+=" var schema"+u+" = "+t.util.getData(f.$data,h,t.dataPathArr)+"; ",P="schema"+u):P=f;var M=this,G="definition"+u,B=M.definition,U="",j,Z,ee,J,he;if(O&&B.$data){he="keywordValidate"+u;var pe=B.validateSchema;a+=" var "+G+" = RULES.custom['"+r+"'].definition; var "+he+" = "+G+".validate;"}else{if(J=t.useCustomRule(M,f,t.schema,t),!J)return;P="validate.schema"+g,he=J.code,j=B.compile,Z=B.inline,ee=B.macro}var ae=he+".errors",ye="i"+u,Ee="ruleErr"+u,ue=B.async;if(ue&&!t.async)throw new Error("async keyword in sync schema");if(Z||ee||(a+=""+ae+" = null;"),a+="var "+x+" = errors;var "+S+";",O&&B.$data&&(U+="}",a+=" if ("+P+" === undefined) { "+S+" = true; } else { ",pe&&(U+="}",a+=" "+S+" = "+G+".validateSchema("+P+"); if ("+S+") { ")),Z)B.statements?a+=" "+J.validate+" ":a+=" "+S+" = "+J.validate+"; ";else if(ee){var be=t.util.copy(t),U="";be.level++;var Me="valid"+be.level;be.schema=J.validate,be.schemaPath="";var Xe=t.compositeRule;t.compositeRule=be.compositeRule=!0;var rt=t.validate(be).replace(/validate\.schema/g,he);t.compositeRule=be.compositeRule=Xe,a+=" "+rt}else{var st=st||[];st.push(a),a="",a+="  "+he+".call( ",t.opts.passContext?a+="this":a+="self",j||B.schema===!1?a+=" , "+T+" ":a+=" , "+P+" , "+T+" , validate.schema"+t.schemaPath+" ",a+=" , (dataPath || '')",t.errorPath!='""'&&(a+=" + "+t.errorPath);var mt=h?"data"+(h-1||""):"parentData",kt=h?t.dataPathArr[h]:"parentDataProperty";a+=" , "+mt+" , "+kt+" , rootData )  ";var Le=a;a=st.pop(),B.errors===!1?(a+=" "+S+" = ",ue&&(a+="await "),a+=""+Le+"; "):ue?(ae="customErrors"+u,a+=" var "+ae+" = null; try { "+S+" = await "+Le+"; } catch (e) { "+S+" = false; if (e instanceof ValidationError) "+ae+" = e.errors; else throw e; } "):a+=" "+ae+" = null; "+S+" = "+Le+"; "}if(B.modifying&&(a+=" if ("+mt+") "+T+" = "+mt+"["+kt+"];"),a+=""+U,B.valid)p&&(a+=" if (true) { ");else{a+=" if ( ",B.valid===void 0?(a+=" !",ee?a+=""+Me:a+=""+S):a+=" "+!B.valid+" ",a+=") { ",E=M.keyword;var st=st||[];st.push(a),a="";var st=st||[];st.push(a),a="",t.createErrors!==!1?(a+=" { keyword: '"+(E||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { keyword: '"+M.keyword+"' } ",t.opts.messages!==!1&&(a+=` , message: 'should pass "`+M.keyword+`" keyword validation' `),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+T+" "),a+=" } "):a+=" {} ";var Ie=a;a=st.pop(),!t.compositeRule&&p?t.async?a+=" throw new ValidationError(["+Ie+"]); ":a+=" validate.errors = ["+Ie+"]; return false; ":a+=" var err = "+Ie+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ne=a;a=st.pop(),Z?B.errors?B.errors!="full"&&(a+="  for (var "+ye+"="+x+"; "+ye+"<errors; "+ye+"++) { var "+Ee+" = vErrors["+ye+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+Ee+".schemaPath === undefined) { "+Ee+'.schemaPath = "'+v+'"; } ',t.opts.verbose&&(a+=" "+Ee+".schema = "+P+"; "+Ee+".data = "+T+"; "),a+=" } "):B.errors===!1?a+=" "+Ne+" ":(a+=" if ("+x+" == errors) { "+Ne+" } else {  for (var "+ye+"="+x+"; "+ye+"<errors; "+ye+"++) { var "+Ee+" = vErrors["+ye+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+Ee+".schemaPath === undefined) { "+Ee+'.schemaPath = "'+v+'"; } ',t.opts.verbose&&(a+=" "+Ee+".schema = "+P+"; "+Ee+".data = "+T+"; "),a+=" } } "):ee?(a+="   var err =   ",t.createErrors!==!1?(a+=" { keyword: '"+(E||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(v)+" , params: { keyword: '"+M.keyword+"' } ",t.opts.messages!==!1&&(a+=` , message: 'should pass "`+M.keyword+`" keyword validation' `),t.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+T+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&p&&(t.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):B.errors===!1?a+=" "+Ne+" ":(a+=" if (Array.isArray("+ae+")) { if (vErrors === null) vErrors = "+ae+"; else vErrors = vErrors.concat("+ae+"); errors = vErrors.length;  for (var "+ye+"="+x+"; "+ye+"<errors; "+ye+"++) { var "+Ee+" = vErrors["+ye+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+";  "+Ee+'.schemaPath = "'+v+'";  ',t.opts.verbose&&(a+=" "+Ee+".schema = "+P+"; "+Ee+".data = "+T+"; "),a+=" } } else { "+Ne+" } "),a+=" } ",p&&(a+=" else { ")}return a};const yve={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var bve=yve,drt={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:bve.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:bve.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},prt=/^[a-z_$][a-z0-9_$-]*$/i,mrt=frt,grt=drt,vrt={add:yrt,get:brt,remove:_rt,validate:eZ};function yrt(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!prt.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var s=t.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)h(e,s[a],t);else h(e,s,t);var u=t.metaSchema;u&&(t.$data&&this._opts.$data&&(u={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(u,!0))}r.keywords[e]=r.all[e]=!0;function h(f,g,v){for(var p,E=0;E<r.length;E++){var T=r[E];if(T.type==g){p=T;break}}p||(p={type:g,rules:[]},r.push(p));var S={keyword:f,definition:v,custom:!0,code:mrt,implements:v.implements};p.rules.push(S),r.custom[f]=S}return this}function brt(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function _rt(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var s=t[r].rules,a=0;a<s.length;a++)if(s[a].keyword==e){s.splice(a,1);break}return this}function eZ(e,t){eZ.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(grt,!0);if(r(e))return!0;if(eZ.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}const Trt={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var _ve=Ett,vT=jq,Ert=eve.exports,Tve=zge,Srt=qge,Art=Mtt,wrt=lrt,Eve=urt,Sve=bx,Ave=Eo;Eo.prototype.validate=xrt,Eo.prototype.compile=Irt,Eo.prototype.addSchema=Drt,Eo.prototype.addMetaSchema=Ort,Eo.prototype.validateSchema=krt,Eo.prototype.getSchema=Prt,Eo.prototype.removeSchema=Mrt,Eo.prototype.addFormat=zrt,Eo.prototype.errorsText=$rt,Eo.prototype._addSchema=Lrt,Eo.prototype._compile=Frt,Eo.prototype.compileAsync=hrt;var w8=vrt;Eo.prototype.addKeyword=w8.add,Eo.prototype.getKeyword=w8.get,Eo.prototype.removeKeyword=w8.remove,Eo.prototype.validateKeyword=w8.validate;var wve=Zq;Eo.ValidationError=wve.Validation,Eo.MissingRefError=wve.MissingRef,Eo.$dataMetaSchema=Eve;var C8="http://json-schema.org/draft-07/schema",Cve=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Crt=["/properties"];function Eo(e){if(!(this instanceof Eo))return new Eo(e);e=this._opts=Sve.copy(e)||{},qrt(this),this._schemas={},this._refs={},this._fragments={},this._formats=Art(e.format),this._cache=e.cache||new Ert,this._loadingSchemas={},this._compilations=[],this.RULES=wrt(),this._getId=Brt(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=Srt),this._metaOpts=Yrt(this),e.formats&&Wrt(this),e.keywords&&Xrt(this),Vrt(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),jrt(this)}function xrt(e,t){var r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var s=this._addSchema(e);r=s.validate||this._compile(s)}var a=r(t);return r.$async!==!0&&(this.errors=r.errors),a}function Irt(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function Drt(e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],void 0,r,s);return this}var u=this._getId(e);if(u!==void 0&&typeof u!="string")throw new Error("schema id must be string");return t=vT.normalizeId(t||u),Ive(this,t),this._schemas[t]=this._addSchema(e,r,s,!0),this}function Ort(e,t,r){return this.addSchema(e,t,r,!0),this}function krt(e,t){var r=e.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||Rrt(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(r,e);if(!s&&t){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return s}function Rrt(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(C8)?C8:void 0,e._opts.defaultMeta}function Prt(e){var t=xve(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return Nrt(this,e)}}function Nrt(e,t){var r=vT.schema.call(e,{schema:{}},t);if(r){var s=r.schema,a=r.root,u=r.baseId,h=_ve.call(e,s,a,void 0,u);return e._fragments[t]=new Tve({ref:t,fragment:!0,schema:s,root:a,baseId:u,validate:h}),h}}function xve(e,t){return t=vT.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function Mrt(e){if(e instanceof RegExp)return x8(this,this._schemas,e),x8(this,this._refs,e),this;switch(typeof e){case"undefined":return x8(this,this._schemas),x8(this,this._refs),this._cache.clear(),this;case"string":var t=xve(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,s=r?r(e):e;this._cache.del(s);var a=this._getId(e);a&&(a=vT.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function x8(e,t,r){for(var s in t){var a=t[s];!a.meta&&(!r||r.test(s))&&(e._cache.del(a.cacheKey),delete t[s])}}function Lrt(e,t,r,s){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,u=a?a(e):e,h=this._cache.get(u);if(h)return h;s=s||this._opts.addUsedSchema!==!1;var f=vT.normalizeId(this._getId(e));f&&s&&Ive(this,f);var g=this._opts.validateSchema!==!1&&!t,v;g&&!(v=f&&f==vT.normalizeId(e.$schema))&&this.validateSchema(e,!0);var p=vT.ids.call(this,e),E=new Tve({id:f,schema:e,localRefs:p,cacheKey:u,meta:r});return f[0]!="#"&&s&&(this._refs[f]=E),this._cache.put(u,E),g&&v&&this.validateSchema(e,!0),E}function Frt(e,t){if(e.compiling)return e.validate=a,a.schema=e.schema,a.errors=null,a.root=t||a,e.schema.$async===!0&&(a.$async=!0),a;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var s;try{s=_ve.call(this,e.schema,t,e.localRefs)}catch(u){throw delete e.validate,u}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=s,e.refs=s.refs,e.refVal=s.refVal,e.root=s.root,s;function a(){var u=e.validate,h=u.apply(this,arguments);return a.errors=u.errors,h}}function Brt(e){switch(e.schemaId){case"auto":return Grt;case"id":return Hrt;default:return Urt}}function Hrt(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Urt(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Grt(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function $rt(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=t.separator===void 0?", ":t.separator,s=t.dataVar===void 0?"data":t.dataVar,a="",u=0;u<e.length;u++){var h=e[u];h&&(a+=s+h.dataPath+" "+h.message+r)}return a.slice(0,-r.length)}function zrt(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function Vrt(e){var t;if(e._opts.$data&&(t=Trt,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=yve;e._opts.$data&&(r=Eve(r,Crt)),e.addMetaSchema(r,C8,!0),e._refs["http://json-schema.org/schema"]=C8}}function jrt(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function Wrt(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function Xrt(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function Ive(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function Yrt(e){for(var t=Sve.copy(e._opts),r=0;r<Cve.length;r++)delete t[Cve[r]];return t}function qrt(e){var t=e._opts.logger;if(t===!1)e.logger={log:tZ,warn:tZ,error:tZ};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function tZ(){}const rZ={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}},yT={"view-config-editor-header":"_view-config-editor-header_1hlm6_1","view-config-editor":"_view-config-editor_1hlm6_1","view-config-log":"_view-config-log_1hlm6_34","view-config-log-header":"_view-config-log-header_1hlm6_46","view-config-log-msg":"_view-config-log-msg_1hlm6_60",title:"_title_1hlm6_70",Warning:"_Warning_1hlm6_76",Success:"_Success_1hlm6_79",Error:"_Error_1hlm6_82"};let Dve=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.state={code:s.viewConfig,hide:!1,showLog:!1,logMsgs:a.getLogMsgs(s.viewConfig)},a.handleChangeBound=a.handleChange.bind(b(a)),a.handleKeyDownBound=a.handleKeyDown.bind(b(a)),a.handleKeyUpBound=a.handleKeyUp.bind(b(a)),a.handleSubmitBound=a.handleSubmit.bind(b(a)),a.hideBound=a.hide.bind(b(a)),a.showBound=a.show.bind(b(a)),a.toggleLogBound=a.toggleLog.bind(b(a)),a.pubSubs=[],a.pubSubs.push(a.props.pubSub.subscribe("keydown",a.handleKeyDownBound)),a.pubSubs.push(a.props.pubSub.subscribe("keyup",a.handleKeyUpBound)),a}return V(r,[{key:"componentDidMount",value:async function(){this.editor&&(this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),await ER(0),this.editorWrap&&(this.editorWrap.scrollTop=0))}},{key:"componentWillUnmount",value:function(){this.pubSubs.forEach(a=>this.props.pubSub.unsubscribe(a)),this.pubSubs=[]}},{key:"handleChange",value:function(a){const u=this.getLogMsgs(a);this.setState({code:a,logMsgs:u})}},{key:"handleKeyDown",value:function(a){a.key==="s"&&(a.ctrlKey||a.metaKey)&&(a.preventDefault(),this.props.onChange(this.state.code)),a.key==="Enter"&&(a.ctrlKey||a.metaKey)&&(a.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(a){this.setState({hide:!1}),a.key==="Escape"&&(a.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(a){a&&a.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(a){const u=[];let h;try{h=JSON.parse(a)}catch(v){return console.warn(v),u.push({type:"Error",msg:v.toString()}),u}const f=new Ave().compile(rZ);return f(h)||(console.warn("Invalid viewconf"),u.push({type:"Warning",msg:"Invalid viewconf"})),f.errors&&(console.warn(JSON.stringify(f.errors,null,2)),f.errors.forEach(v=>{u.push({type:"Warning",msg:JSON.stringify(v,null,2)})})),u.length===0&&u.push({type:"Success",msg:"No error or warnings"}),u}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){const a=this.state.logMsgs.map((u,h)=>{const f=`${h}-${u.msg}`;return F.default.createElement("tr",{key:f},F.default.createElement("td",{className:si(yT.title,yT[u.type])},`[${h}] ${u.type}`),F.default.createElement("td",null,F.default.createElement("pre",null,u.msg)))});return F.default.createElement(IN,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},F.default.createElement(F.default.Fragment,null,F.default.createElement("header",{className:yT["view-config-editor-header"]},F.default.createElement(dv,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),F.default.createElement(dv,{onClick:()=>{this.props.onChange(this.state.code)},shortcut:"+S"},"Save")),F.default.createElement("div",{ref:u=>{this.editorWrap=u},className:yT["view-config-editor"]},F.default.createElement(zet,{ref:u=>{this.editor=u},highlight:u=>Mq.exports.highlight(u,Mq.exports.languages.json),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),F.default.createElement("div",{className:yT["view-config-log"],style:{height:this.state.showLog?"50%":"30px"}},F.default.createElement("div",{className:yT["view-config-log-header"],onClick:()=>this.toggleLogBound()},`Log Messages (${this.state.logMsgs.filter(u=>u.type!=="Success").length})`),F.default.createElement("div",{className:yT["view-config-log-msg"],style:{padding:this.state.showLog?"10px":0}},F.default.createElement("table",null,F.default.createElement("tbody",null,a))))))}}]),r}(F.default.Component);Dve.propTypes={modal:$.exports.object.isRequired,onCancel:$.exports.func.isRequired,onChange:$.exports.func.isRequired,onSave:$.exports.func.isRequired,pubSub:$.exports.object.isRequired,viewConfig:$.exports.string.isRequired};const Zrt=pC(j4(Dve));function Krt(e,t,r,s){const a=e.append("symbol").attr("id",t).attr("viewBox",s);r.forEach(u=>a.append("path").attr("d",u).attr("fill","currentColor"))}const Qrt=e=>{e.setState(e.state)},Jrt=function(t,r){const s=t;let a=[];const u=uA(),h=()=>{a.forEach(f=>r.unsubscribe(f)),a=[]};return{destroy:h,publish:u.publish,stack:u.stack,public:{get version(){return vY},setBroadcastMousePositionGlobally(f=!1){s.setBroadcastMousePositionGlobally(f)},setShowGlobalMousePosition(f=!1){s.setShowGlobalMousePosition(f)},setGlobalMousePosition(f=!1){s.setBroadcastMousePositionGlobally(f),s.setShowGlobalMousePosition(f)},setAuthHeader(f){v_(f),s.reload()},getAuthHeader(){return v_()},getComponent(){return s},reload(f){let g;f?g=f.flatMap(v=>typeof v=="string"?s.iterateOverTracksInView(v):v):g=s.iterateOverTracks();for(const{viewId:v,trackId:p}of g){const E=s.getTrackObject(v,p);for(const T of E.childTracks||[E])T.fetchedTiles&&(T.removeTiles(Object.keys(T.fetchedTiles)),T.fetching.clear(),T.refreshTiles()),T.rerender(T.options,!0)}},destroy(){h(),Te.default.unmountComponentAtNode(s.topDiv.parentNode)},setRangeSelectionToInt(){s.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat(){s.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize(f=0,g=1/0){s.setState({rangeSelection1dSize:[f,g]})},setViewConfig(f,g=!1){const v=s.processViewConfig(f);return new Promise(E=>{this.requestsInFlight=0,a.push(r.subscribe("requestSent",()=>{this.requestsInFlight+=1})),a.push(r.subscribe("requestReceived",()=>{this.requestsInFlight-=1,this.requestsInFlight===0&&E()})),s.setState({viewConfig:f,views:v},()=>{g&&E()})})},getViewConfig(){return s.getViewsAsJson()},validateViewConfig(f,{verbose:g=!1}={}){const v=new Ave().compile(rZ),p=v(f);return g&&v.errors&&console.warn(JSON.stringify(v.errors,null,2)),p},getMinMaxValue(f,g,v=!1,p=!1){return s.getMinMaxValue(f,g,v,p)},shareViewConfigAsLink(f){return s.handleExportViewsAsLink(f,!0)},showAvailableTrackPositions(f){s.setState({draggingHappening:f})},hideAvailableTrackPositions(){s.setState({draggingHappening:null})},showTrackChooser(f){s.setState({chooseTrackHandler:(...g)=>{s.setState({chooseTrackHandler:null}),f(...g)}})},hideTrackChooser(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits(f,g,v,p){s.setTrackValueScaleLimits(f,g,v,p)},setDarkTheme(f){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');const g=f?"dark":"light";s.setTheme(g)},setTheme(f){console.warn("Please note that theming is still in beta!"),s.setTheme(f)},zoomTo(f,g,v,p,E,T=0){s.zoomTo(f,g,v,p,E,T)},zoomToGene(f,g,v=0,p=0){s.zoomToGene(f,g,v,p)},suggestGene(f,g,v){return s.suggestGene(f,g,v)},zoomToDataExtent(f){s.handleZoomToData(f)},resetViewport(f){s.resetViewport(f)},activateTool(f){switch(f){case"select":s.setMouseTool(ju);break;default:s.setMouseTool(zA);break}},exportAsPngBlobPromise(){return s.createPNGBlobPromise()},exportAsSvg(){return s.createSVGString()},exportAsViewConfString(){return s.getViewsAsString()},getRangeSelection(){return s.rangeSelection},getLocation(f){const g=f?s.xScales[f]&&s.yScales[f]&&f:Object.values(s.tiledPlots)[0]&&Object.values(s.tiledPlots)[0].props.uid;return g?{xDomain:s.xScales[g].domain(),yDomain:s.yScales[g].domain(),xRange:s.xScales[g].range(),yRange:s.yScales[g].range()}:"Please provide a valid view UUID sweetheart "},getTrackObject(f,g){let v=f,p=g;return g||(v=Object.values(s.state.views)[0].uid,p=f),fy(s,v,p)},option(f,g){if(typeof g>"u")return s.props.options[f];switch(f){case"sizeMode":s.props.options[f]=g,Qrt(s);break;default:console.warn(`This option "${f}" is either unknown or not settable.`)}},off(f,g,v){const p=typeof g=="object"?g.callback:g;switch(f){case"click":u.unsubscribe("click",p);break;case"cursorLocation":u.unsubscribe("cursorLocation",p);break;case"location":s.offLocationChange(v,g);break;case"mouseMoveZoom":u.unsubscribe("mouseMoveZoom",p);break;case"wheel":u.unsubscribe("wheel",p);break;case"rangeSelection":u.unsubscribe("rangeSelection",p);break;case"viewConfig":s.offViewChange(g);break;case"createSVG":s.offPostCreateSVG();break;case"geneSearch":u.unsubscribe("geneSearch",p);break}},on(f,g,v,p){switch(f){case"click":return u.subscribe("click",g);case"cursorLocation":return u.subscribe("cursorLocation",g);case"location":return s.onLocationChange(v,g,p);case"mouseMoveZoom":return u.subscribe("mouseMoveZoom",g);case"wheel":return u.subscribe("wheel",g);case"rangeSelection":return u.subscribe("rangeSelection",g);case"viewConfig":return s.onViewChange(g);case"createSVG":return s.onPostCreateSVG(g);case"geneSearch":return u.subscribe("geneSearch",g);default:return}}}}},_x={higlass:"_higlass_1uoq8_1","higlass-dark-theme":"_higlass-dark-theme_1uoq8_5","higlass-container-overflow":"_higlass-container-overflow_1uoq8_9","higlass-scroll-container-overflow":"_higlass-scroll-container-overflow_1uoq8_10","higlass-scroll-container-scroll":"_higlass-scroll-container-scroll_1uoq8_11","higlass-canvas":"_higlass-canvas_1uoq8_28","higlass-drawing-surface":"_higlass-drawing-surface_1uoq8_34","higlass-svg":"_higlass-svg_1uoq8_38","tiled-area":"_tiled-area_1uoq8_47","track-mouseover-menu":"_track-mouseover-menu_1uoq8_52"},Ove=12,ent=12,tnt=20,rnt="default",kve="bounded",Rve="overflow",r2="scroll";let nZ=function(e){c(r,e);var t=d(r);function r(s){var a;L(this,r),a=t.call(this,s),yw(F.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",F.default.version),a.pubSub=uA(),a.domEvent=_F(a.pubSub),a.pubSubs=[],a.minHorizontalHeight=20,a.minVerticalWidth=20,a.resizeSensor=null,a.uid=Yn.nice(),a.tiledPlots={},a.genomePositionSearchBoxes={},a.xScales={},a.yScales={},a.projectionXDomains={},a.projectionYDomains={},a.topDiv=null,a.zoomToDataExtentOnInit=new Set,a.viewTrackUidsToCombinedUid={},a.combinedUidToViewTrack={},a.scalesChangedListeners={},a.draggingChangedListeners={},a.valueScalesChangedListeners={},a.zoomLocks={},a.locationLocks={},a.locationLocksAxisWise={x:{},y:{}},a.valueScaleLocks={},a.prevAuthToken=s.options.authToken,a.setCenters={},a.plusImg={},a.configImg={},or.PIXI=s.options&&s.options.PIXI||Ce,a.viewMarginTop=+s.options.viewMarginTop>=0?+s.options.viewMarginTop:c_,a.viewMarginBottom=+s.options.viewMarginBottom>=0?+s.options.viewMarginBottom:c_,a.viewMarginLeft=+s.options.viewMarginLeft>=0?+s.options.viewMarginLeft:c_,a.viewMarginRight=+s.options.viewMarginRight>=0?+s.options.viewMarginRight:c_,a.viewPaddingTop=+s.options.viewPaddingTop>=0?+s.options.viewPaddingTop:h_,a.viewPaddingBottom=+s.options.viewPaddingBottom>=0?+s.options.viewPaddingBottom:h_,a.viewPaddingLeft=+s.options.viewPaddingLeft>=0?+s.options.viewPaddingLeft:h_,a.viewPaddingRight=+s.options.viewPaddingRight>=0?+s.options.viewPaddingRight:h_,a.genomePositionSearchBox=null,a.viewHeaders={},a.boundRefreshView=()=>{a.refreshView(f_)},a.unsetOnLocationChange=[],a.setTheme(s.options.theme,s.options.isDarkTheme),a.viewconfLoaded=!1;const{viewConfig:u}=a.props,h=a.loadIfRemoteViewConfig(a.props.viewConfig);s.options.authToken&&v_(s.options.authToken),a.pixiRoot=new or.PIXI.Container,a.pixiRoot.interactive=!0,a.pixiStage=new or.PIXI.Container,a.pixiStage.interactive=!0,a.pixiRoot.addChild(a.pixiStage),a.pixiMask=new or.PIXI.Graphics,a.pixiRoot.addChild(a.pixiMask),a.pixiStage.mask=a.pixiMask,a.element=null,a.scrollTop=0;let f=zA;if(a.props.options)switch(a.props.options.mouseTool){case ju:f=ju;break}a.props.options.pluginTracks&&(window.higlassTracksByType=Object.assign(window.higlassTracksByType||{},a.props.options.pluginTracks));const g={};try{window.higlassTracksByType&&Object.entries(window.higlassTracksByType).forEach(([O,P])=>{g[O]=P})}catch{console.warn("Broken config of a plugin track")}a.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=Object.assign(window.higlassDataFetchersByType||{},a.props.options.pluginDataFetchers));const v=window.higlassDataFetchersByType,p=a.props.options.pixelPreciseMarginPadding?1:30;a.mounted=!1,a.pluginTracks=g,a.pluginDataFetchers=v,a.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:p,svgElement:null,canvasElement:null,customDialog:null,views:h,viewConfig:u,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:f,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},a.attachedToDOM=!1;const{public:E,destroy:T,publish:S,stack:x}=Jrt(b(a),a.pubSub);return a.api=E,a.apiDestroy=T,a.apiPublish=S,a.apiStack=x,a.viewChangeListener=[],a.triggerViewChangeDb=ey(a.triggerViewChange.bind(b(a)),250),a.pubSubs=[],a.rangeSelection=[null,null],a.prevMouseHoverTrack=null,a.zooming=!1,a.appClickHandlerBound=a.appClickHandler.bind(b(a)),a.canvasClickHandlerBound=a.canvasClickHandler.bind(b(a)),a.keyDownHandlerBound=a.keyDownHandler.bind(b(a)),a.keyUpHandlerBound=a.keyUpHandler.bind(b(a)),a.resizeHandlerBound=a.resizeHandler.bind(b(a)),a.resizeHandlerBound=a.resizeHandler.bind(b(a)),a.dispatchEventBound=a.dispatchEvent.bind(b(a)),a.animateOnMouseMoveHandlerBound=a.animateOnMouseMoveHandler.bind(b(a)),a.zoomStartHandlerBound=a.zoomStartHandler.bind(b(a)),a.zoomEndHandlerBound=a.zoomEndHandler.bind(b(a)),a.zoomHandlerBound=a.zoomHandler.bind(b(a)),a.trackDroppedHandlerBound=a.trackDroppedHandler.bind(b(a)),a.trackDimensionsModifiedHandlerBound=a.trackDimensionsModifiedHandler.bind(b(a)),a.animateBound=a.animate.bind(b(a)),a.animateOnGlobalEventBound=a.animateOnGlobalEvent.bind(b(a)),a.requestReceivedHandlerBound=a.requestReceivedHandler.bind(b(a)),a.wheelHandlerBound=a.wheelHandler.bind(b(a)),a.mouseMoveHandlerBound=a.mouseMoveHandler.bind(b(a)),a.onMouseLeaveHandlerBound=a.onMouseLeaveHandler.bind(b(a)),a.onBlurHandlerBound=a.onBlurHandler.bind(b(a)),a.openModalBound=a.openModal.bind(b(a)),a.closeModalBound=a.closeModal.bind(b(a)),a.handleEditViewConfigBound=a.handleEditViewConfig.bind(b(a)),a.onScrollHandlerBound=a.onScrollHandler.bind(b(a)),a.typedText="",a.typedTextTimeout=null,a.modal={open:a.openModalBound,close:a.closeModalBound},a.setBroadcastMousePositionGlobally(a.props.options.broadcastMousePositionGlobally||a.props.options.globalMousePosition),a.setShowGlobalMousePosition(a.props.options.showGlobalMousePosition||a.props.options.globalMousePosition),a}return V(r,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"sizeMode",get:function(){return typeof this.props.options.sizeMode>"u"?this.props.options.bounded?"bounded":rnt:this.props.options.sizeMode}},{key:"setBroadcastMousePositionGlobally",value:function(a=!1){this.isBroadcastMousePositionGlobally=a}},{key:"setShowGlobalMousePosition",value:function(a=!1){if(this.isShowGlobalMousePosition=a,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=xg.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){const u=this.pubSubs.findIndex(h=>h===this.globalMousePositionListener);xg.unsubscribe(this.globalMousePositionListener),u>=0&&this.pubSubs.splice(u,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(a){a.sourceEvent&&this.mouseMoveHandler(a.sourceEvent)}},{key:"waitForDOMAttachment",value:function(a){if(!this.mounted)return;const u=Te.default.findDOMNode(this);document.body.contains(u)?a():requestAnimationFrame(()=>this.waitForDOMAttachment(a))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=Te.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),Object.values(this.state.views).forEach(f=>{this.adjustLayoutToTrackSizes(f),f.layout?f.layout.i=f.uid:f.layout=this.generateViewLayout(f)});const a={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0},u=parseInt(Ce.VERSION[0],10);u===4?(console.warn("Deprecation warning: please update Pixi.js to version 5 or above!"),this.props.options.renderer==="canvas"?this.pixiRenderer=new or.PIXI.CanvasRenderer(a):this.pixiRenderer=new or.PIXI.WebGLRenderer(a)):(u<4&&console.warn("Deprecation warning: please update Pixi.js to version 5 or above! This version of Pixi.js is unsupported. Good luck "),this.props.options.renderer==="canvas"?this.pixiRenderer=new or.PIXI.CanvasRenderer(a):this.pixiRenderer=new or.PIXI.Renderer(a)),this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(()=>{O1.ElementQueries.listen(),this.resizeSensor=new O1.ResizeSensor(this.element.parentNode,this.updateAfterResize.bind(this)),this.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();const h=Ut(this.element).append("svg").style("display","none");Wk.forEach(f=>Krt(h,f.id,f.paths,f.viewBox))}},{key:"getTrackObject",value:function(a,u){return this.tiledPlots[a].trackRenderer.getTrackObject(u)}},{key:"getTrackRenderer",value:function(a){return this.tiledPlots[a].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(a){let u={};return typeof a=="string"?Lr.json(a,(h,f)=>{a=f,this.setState({views:this.processViewConfig(JSON.parse(JSON.stringify(f))),viewConfig:f}),this.unsetOnLocationChange.forEach(({viewId:g,callback:v,callbackId:p})=>{this.onLocationChange(g,v,p)})},this.pubSub):(u=this.processViewConfig(JSON.parse(JSON.stringify(a))),this.mounted&&this.setState({viewConfig:a})),u}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){const u=this.loadIfRemoteViewConfig(a.viewConfig);if(a.options.authToken!==this.prevAuthToken){v_(a.options.authToken);for(const h of this.iterateOverViews()){const f=this.getTrackRenderer(h),g=JSON.parse(f.prevTrackDefinitions);f.syncTrackObjects([]),f.syncTrackObjects(g)}this.prevAuthToken=a.options.authToken}for(const h of zi(u))this.adjustLayoutToTrackSizes(h);this.setState({views:u})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach(a=>this.pubSub.unsubscribe(a)),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(a=this.props.options.theme,u=this.props.options.isDarkTheme){if(typeof u<"u")console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=u?"dark":"light";else switch(a){case"dark":this.theme=Gi;break;case"light":case void 0:this.theme=Z0;break;default:console.warn(`Unknown theme "${a}". Using light theme.`),this.theme=Z0;break}}},{key:"dispatchEvent",value:function(a){this.canvasElement&&ry(a,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){!this.viewconfLoaded&&ay===0&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(a){a&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=a}},{key:"fitPixiToParentContainer",value:function(){if(!this.element||!this.element.parentNode){console.warn("No parentNode:",this.element);return}const a=this.element.parentNode.clientWidth,u=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,a,u).endFill(),this.pixiRenderer.resize(a,u),this.pixiRenderer.view.style.width=`${a}px`,this.pixiRenderer.view.style.height=`${u}px`,this.pixiRenderer.render(this.pixiRoot)}},{key:"addDefaultTrackOptions",value:function(a){const u=this.getTrackInfo(a.type);if(!u)return;typeof a.options>"u"&&(a.options={});const h=a.options?a.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[a.type]){const f=this.props.options.defaultTrackOptions.trackSpecific[a.type];for(const g in f)a.options[g]=typeof a.options[g]<"u"?a.options[g]:JSON.parse(JSON.stringify(f[g]))}if(this.props.options.defaultTrackOptions.all){const f=this.props.options.defaultTrackOptions.all;for(const g in f)a.options[g]=typeof a.options[g]<"u"?a.options[g]:JSON.parse(JSON.stringify(f[g]))}}if(u.defaultOptions){const f=u.defaultOptionsByTheme&&u.defaultOptionsByTheme[this.theme]?u.defaultOptionsByTheme[this.theme]:{},g={...u.defaultOptions,...f};if(!a.options)a.options=JSON.parse(JSON.stringify(g));else for(const v in g)a.options[v]=typeof a.options[v]<"u"?a.options[v]:JSON.parse(JSON.stringify(g[v]))}else a.options=h}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(a){if(!this.props.options.cheatCodesEnabled)return;this.typedText=this.typedText.concat(a.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");const u=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout(()=>{this.typedText=""},u)}},{key:"keyDownHandler",value:function(a){this.typedTextHandler(a),this.props.options.rangeSelectionOnAlt&&a.key==="Alt"&&this.setState({mouseTool:ju})}},{key:"keyUpHandler",value:function(a){this.props.options.rangeSelectionOnAlt&&a.key==="Alt"&&this.setState({mouseTool:zA})}},{key:"openModal",value:function(a){this.setState({modal:F.default.cloneElement(a,{ref:u=>{this.modalRef=u}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){const{viewConfig:a}=this.state;this.setState({viewConfigTmp:a}),this.openModal(F.default.createElement(Zrt,{onCancel:()=>{const{viewConfigTmp:u}=this.state,h=this.processViewConfig(u);for(const f of zi(h))this.adjustLayoutToTrackSizes(f);this.setState({views:h,viewConfig:u,viewConfigTmp:null})},onChange:u=>{const h=JSON.parse(u),f=this.processViewConfig(h);for(const g of zi(f))this.adjustLayoutToTrackSizes(g);this.setState({views:f,viewConfig:h})},onSave:u=>{const h=JSON.parse(u),f=this.processViewConfig(h);for(const g of zi(f))this.adjustLayoutToTrackSizes(g);this.setState({views:f,viewConfig:h,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame(()=>{this.pixiRenderer&&(this.pixiRenderer.render(this.pixiRoot),this.isRequestingAnimationFrame=!1)}))}},{key:"animateOnGlobalEvent",value:function({sourceUid:a}={}){a!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){const[a,u]=xF(this.element);a>0&&u>0&&this.setState({sizeMeasured:!0,width:a,height:u})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(f_),this.resizeHandler()}},{key:"onBreakpointChange",value:function(a){this.setState({currentBreakpoint:a})}},{key:"handleOverlayMouseEnter",value:function(a){this.setState({mouseOverOverlayUid:a})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(a){this.setState({chooseViewHandler:u=>this.handleLocationLockChosen(a,u),mouseOverOverlayUid:a})}},{key:"isEditable",value:function(){return this.state.typedEditable!==void 0?this.state.typedEditable:!this.props.options||!("editable"in this.props.options)?this.state.viewConfig.editable:this.props.options.editable&&this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.tracksEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.tracksEditable===!1||this.state.viewConfig.editable===!1)}},{key:"isViewHeaderDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.viewEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.viewEditable===!1||this.state.viewConfig.editable===!1)}},{key:"iterateOverViews",value:function(){const a=[];for(const u in Object.keys(this.state.views))a.push(u);return a}},{key:"iterateOverTracksInView",value:function(a){const u=[],{tracks:h}=this.state.views[a];for(const f in h)for(const g of h[f])if(g.type==="combined"&&g.contents)for(const v of g.contents)u.push({viewId:a,trackId:v.uid,track:v});else u.push({viewId:a,trackId:g.uid,track:g});return u}},{key:"iterateOverTracks",value:function(){const a=[];for(const u in this.state.views){const{tracks:h}=this.state.views[u];for(const f in h)for(const g of h[f])if(g.type==="combined"&&g.contents)for(const v of g.contents)a.push({viewId:u,trackId:v.uid,track:v});else a.push({viewId:u,trackId:g.uid,track:g})}return a}},{key:"setMouseTool",value:function(a){this.setState({mouseTool:a})}},{key:"isValueScaleLocked",value:function(a,u){const h=this.combineViewAndTrackUid(a,u);return this.state.views[a]?!!this.valueScaleLocks[h]:!1}},{key:"getLockGroupExtrema",value:function(a,u){const h=this.combineViewAndTrackUid(a,u);if(!this.state.views[a]||!this.valueScaleLocks[h])return null;const f=this.valueScaleLocks[h],g=Object.values(f).filter(S=>this.tiledPlots[S.view]).map(S=>this.tiledPlots[S.view].trackRenderer.getTrackObject(S.track)).filter(S=>S).map(S=>S.originalTrack===void 0?S:S.originalTrack),v=g.filter(S=>S.minRawValue&&S.maxRawValue).map(S=>f.ignoreOffScreenValues?S.minVisibleValue(!0):S.minVisibleValueInTiles(!0)),p=g.filter(S=>S.minRawValue&&S.maxRawValue).map(S=>f.ignoreOffScreenValues?S.maxVisibleValue(!0):S.maxVisibleValueInTiles(!0));if(v.length===0||v.filter(S=>S===null||S===1/0).length>0||p.length===0||p.filter(S=>S===null||S===-1/0).length>0)return null;const E=Math.min(...v),T=Math.max(...p);return[E,T]}},{key:"syncValueScales",value:function(a,u){const h=this.combineViewAndTrackUid(a,u);if(!this.state.views[a])return;const f=_l(this.state.views[a].tracks,u);if(this.valueScaleLocks[h]){const g=this.valueScaleLocks[h],v=Object.values(g).filter(x=>this.tiledPlots[x.view]).map(x=>this.tiledPlots[x.view].trackRenderer.getTrackObject(x.track)).filter(x=>x).map(x=>x.originalTrack===void 0?x:x.originalTrack),p=this.getLockGroupExtrema(a,u);if(p===null)return;const E=p[0],T=p[1],S=1e-6;for(const x of v){if(x.minValue&&x.minValue(E),x.maxValue&&x.maxValue(T),!x.valueScale)continue;const O=Math.abs(x.minValue()-x.valueScale.domain()[0])>S||Math.abs(x.maxValue()-x.valueScale.domain()[1])>S,P=f.options&&x.options&&typeof f.options.scaleStartPercent<"u"&&typeof f.options.scaleEndPercent<"u"&&(Math.abs(x.options.scaleStartPercent-f.options.scaleStartPercent)>S||Math.abs(x.options.scaleEndPercent-f.options.scaleEndPercent)>S);x.continuousScaling&&!O&&!P||(x.valueScale.domain([E,T]),x.prevValueScale=x.valueScale.copy(),P&&(x.options.scaleStartPercent=f.options.scaleStartPercent,x.options.scaleEndPercent=f.options.scaleEndPercent),x.rerender(x.options,!0))}}}},{key:"handleNewTilesLoaded",value:function(a,u){this.animate()}},{key:"notifyDragChangedListeners",value:function(a){zi(this.draggingChangedListeners).forEach(u=>{zi(u).forEach(h=>h(a))})}},{key:"addDraggingChangedListener",value:function(a,u,h){this.draggingChangedListeners.hasOwnProperty(a)||(this.draggingChangedListeners[a]={}),this.draggingChangedListeners[a][u]=h,h(!0),h(!1)}},{key:"removeDraggingChangedListener",value:function(a,u){if(this.draggingChangedListeners.hasOwnProperty(a)){const h=this.draggingChangedListeners[a];h.hasOwnProperty(u)&&(h[u](!1),delete h[u])}}},{key:"addScalesChangedListener",value:function(a,u,h){this.scalesChangedListeners[a]||(this.scalesChangedListeners[a]={}),this.scalesChangedListeners[a][u]=h,!(!this.xScales[a]||!this.yScales[a])&&h(this.xScales[a],this.yScales[a])}},{key:"removeScalesChangedListener",value:function(a,u){if(this.scalesChangedListeners[a]){const h=this.scalesChangedListeners[a];h[u]&&delete h[u]}}},{key:"createSVG",value:function(){const a=document.createElement("svg");a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1");for(const u of zi(this.tiledPlots))if(u){for(const h of zi(u.trackRenderer.trackDefObjects))if(h.trackObject.exportSVG){const f=h.trackObject.exportSVG();f&&a.appendChild(f[0])}}return a.setAttribute("width",this.canvasElement.style.width),a.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(a):a}},{key:"createSVGString",value:function(){const a=this.createSVG();let u=NO.xml(new window.XMLSerializer().serializeToString(a));return u=u.replace(/<a0:/g,"<"),u=u.replace(/<\/a0:/g,"</"),u=u.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1"),u=u.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
${u}`}},{key:"handleExportSVG",value:function(){Dp("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(a){this.postCreateSVGCallback=a}},{key:"createPNGBlobPromise",value:function(){return new Promise(a=>{const u=this.createSVGString(),h=new Image(this.canvasElement.width,this.canvasElement.height);h.src=`data:image/svg+xml;base64,${btoa(u)}`,h.onload=()=>{const f=document.createElement("canvas");f.width=this.canvasElement.width/2,f.height=this.canvasElement.height/2,f.getContext("2d").drawImage(h,0,0),f.toBlob(g=>{a(g)})}})}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then(a=>{Dp("export.png",a)})}},{key:"handleScalesChanged",value:function(a,u,h,f=!0){if(this.xScales[a]=u,this.yScales[a]=h,f&&a in this.scalesChangedListeners&&zi(this.scalesChangedListeners[a]).forEach(g=>{g(u,h)}),this.zoomLocks[a]){const g=this.zoomLocks[a],v=Ts(g),[p,E,T]=Po(this.xScales[a],this.yScales[a]);for(let S=0;S<v.length;S++){const x=v[S][0],O=v[S][1];if(!this.xScales[x]||!this.yScales[x]||x===a)continue;const[P,M,G]=Po(this.xScales[x],this.yScales[x]),B=O[2]/g[a][2],U=T*B;if(!this.setCenters[x])continue;const[j,Z]=this.setCenters[x](P,M,U,!1);this.xScales[x]=j,this.yScales[x]=Z,this.scalesChangedListeners.hasOwnProperty(x)&&zi(this.scalesChangedListeners[x]).forEach(ee=>{ee(j,Z)})}}if(this.locationLocks[a]){const g=this.locationLocks[a],v=Ts(g),[p,E,T]=Po(this.xScales[a],this.yScales[a]);for(let S=0;S<v.length;S++){const x=v[S][0],O=v[S][1];if(!this.xScales[x]||!this.yScales[x])continue;const[P,M,G]=Po(this.xScales[x],this.yScales[x]);if(x===a)continue;const B=O[0]-g[a][0],U=O[1]-g[a][1],j=p+B,Z=E+U;if(!this.setCenters[x])continue;const[ee,J]=this.setCenters[x](j,Z,G,!1);this.xScales[x]=ee,this.yScales[x]=J,this.scalesChangedListeners.hasOwnProperty(x)&&zi(this.scalesChangedListeners[x]).forEach(he=>{he(ee,J)})}}if(this.locationLocksAxisWise.x[a]){const g=this.locationLocksAxisWise.x[a].lock,v=Ts(g),p=this.locationLocksAxisWise.x[a].axis!=="x",[E,T,S]=Po(this.xScales[a],this.yScales[a]);for(let x=0;x<v.length;x++){const O=v[x][0],P=v[x][1];if(!this.xScales[O]||!this.yScales[O])continue;const[M,G,B]=Po(this.xScales[O],this.yScales[O]);if(O===a)continue;const U=P[0]-g[a][0],j=E+U;if(!this.setCenters[O])continue;const[Z,ee]=this.setCenters[O](p?M:j,p?j:G,B,!1);this.xScales[O]=Z,this.yScales[O]=ee,this.scalesChangedListeners.hasOwnProperty(O)&&zi(this.scalesChangedListeners[O]).forEach(J=>{J(Z,ee)})}}if(this.locationLocksAxisWise.y[a]){const g=this.locationLocksAxisWise.y[a].lock,v=Ts(g),p=this.locationLocksAxisWise.y[a].axis!=="y",[E,T,S]=Po(this.xScales[a],this.yScales[a]);for(let x=0;x<v.length;x++){const O=v[x][0],P=v[x][1];if(!this.xScales[O]||!this.yScales[O])continue;const[M,G,B]=Po(this.xScales[O],this.yScales[O]);if(O===a)continue;const U=P[1]-g[a][1],j=T+U;if(!this.setCenters[O])continue;const[Z,ee]=this.setCenters[O](p?j:M,p?G:j,B,!1);this.xScales[O]=Z,this.yScales[O]=ee,this.scalesChangedListeners.hasOwnProperty(O)&&zi(this.scalesChangedListeners[O]).forEach(J=>{J(Z,ee)})}}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(a){this.setState({chooseTrackHandler:(u,h)=>this.handleViewportProjected(a,u,h)})}},{key:"handleZoomToData",value:function(a){if(a&&!this.tiledPlots[a])throw new Error(`View uid ${a} does not exist in the current viewConfig`);a?this.tiledPlots[a].handleZoomToData():Object.values(this.tiledPlots).forEach(u=>u.handleZoomToData())}},{key:"resetViewport",value:function(a){if(a&&!this.tiledPlots[a])throw new Error(`View uid ${a} does not exist in the current viewConfig`);a?this.tiledPlots[a].resetViewport():Object.values(this.tiledPlots).forEach(u=>u.resetViewport())}},{key:"handleYankFunction",value:function(a,u){this.setState({chooseViewHandler:h=>u(a,h),mouseOverOverlayUid:a})}},{key:"handleUnlock",value:function(a,u){const h=u[a],f=yl(h);if(f.length===2){delete u[f[0]],delete u[f[1]];return}u[a]&&u[a][a]&&delete u[a][a],u[a]&&delete u[a]}},{key:"viewScalesLockData",value:function(a){return!this.xScales[a]||!this.yScales[a]?(console.warn("View scale lock doesn't correspond to existing uid: ",a),null):Po(this.xScales[a],this.yScales[a])}},{key:"addLock",value:function(a,u,h,f){let g=[],v=[];h[a]?g=Ts(h[a]).filter(T=>f(T[0])).map(T=>[T[0],f(T[0])]):g=[[a,f.bind(this)(a)]],h[u]?v=Ts(h[u]).filter(T=>f.bind(this)(T[0])).map(T=>[T[0],f.bind(this)(T[0])]):v=[[u,f.bind(this)(u)]];const p=g.concat(v),E=pF(p);p.forEach(T=>{h[T[0]]=E})}},{key:"handleLocationLockChosen",value:function(a,u){if(a===u){this.setState({chooseViewHandler:null});return}this.addLock(a,u,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(a,u){if(a===u){this.setState({chooseViewHandler:null});return}this.addLock(a,u,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(a,u,h){let f=null;if(a===u)console.warn("A view can not show its own viewport.");else{const g=_l(this.state.views[u].tracks,h),v=Wu(this.state.views[u].tracks,h);f=Yn.nice();const E={uid:f,type:`viewport-projection-${{top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[v]}`,fromViewUid:a};this.addCallbacks(u,E),this.handleTrackAdded(u,E,v,g)}return this.setState({chooseTrackHandler:null}),f}},{key:"handleLocationYanked",value:function(a,u){const h=this.xScales[u],f=this.yScales[u],g=this.xScales[a],v=this.yScales[a],[p,E,T]=Po(g,v),[S,x,O]=Po(h,f);this.setCenters[a](S,x,T,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(a,u){const h=this.xScales[u],f=this.yScales[u],g=this.xScales[a],v=this.yScales[a],[p,E,T]=Po(g,v),[S,x,O]=Po(h,f);this.setCenters[a](p,E,O,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(a,u){this.setState({addTrackPosition:u,addTrackPositionView:a})}},{key:"updateRowHeight",value:function(){if(!this.props.options||this.sizeMode!==kve||this.props.options.pixelPreciseMarginPadding)return;const a=this.element.parentNode.clientHeight;let u=0;for(const E of zi(this.state.views))u=Math.max(u,E.layout.y+E.layout.h);this.handleDragStart(),this.handleDragStop();const f=(this.isEditable()?10:0)*u-1,v=(a-f)/u,p=Math.floor(v);this.setState({rowHeight:p})}},{key:"handleLayoutChange",value:function(a){this.element&&(a.forEach(u=>{const h=this.state.views[u.i];h&&(h.layout.x=u.x,h.layout.y=u.y,h.layout.w=u.w,h.layout.h=u.h,h.layout.i=u.i)}),this.updateRowHeight(),this.refreshView(f_))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(a){if($i[a])return $i[a];if(this.pluginTracks&&this.pluginTracks[a])return this.pluginTracks[a].config;if(window.higlassTracksByType&&window.higlassTracksByType[a])return window.higlassTracksByType[a].config;console.warn("Track type not found:",a,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(a=Uk){this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},a)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},f_)}},{key:"resizeHandler",value:function(){b_(this.viewHeaders).filter(a=>a).forEach(a=>a.checkWidth())}},{key:"calculateViewDimensions",value:function(a){let v=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,p=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,E=0;E+=10;const T=20;if(a.tracks.top)for(let Z=0;Z<a.tracks.top.length;Z++){const ee=a.tracks.top[Z];v+=ee.height?ee.height:20,E+=ee.height?ee.height:20}if(a.tracks.bottom)for(let Z=0;Z<a.tracks.bottom.length;Z++){const ee=a.tracks.bottom[Z];v+=ee.height?ee.height:20,E+=ee.height?ee.height:20}(a.tracks.left&&a.tracks.left.length>0||a.tracks.right&&a.tracks.right.length>0||a.tracks.center&&a.tracks.center.length>0)&&(E+=T);let S=0;if(a.tracks.left)for(let Z=0;Z<a.tracks.left.length;Z++){const ee=a.tracks.left[Z],J=ee.height?ee.height:100;p+=ee.width?ee.width:0,S=Math.max(S,J)}let x=0;if(a.tracks.right)for(let Z=0;Z<a.tracks.right.length;Z++){const ee=a.tracks.right[Z],J=ee.height?ee.height:100;p+=ee.width?ee.width:0,x=Math.max(x,J)}const O=Math.max(S,x);let P=0,M=0;if(a.tracks.center&&zi(a.tracks.center).length>0){if(!a.tracks.center[0].contents||a.tracks.center[0].contents.length>0){let Z=null,ee=null;if(a.tracks.center[0].contents)for(const J of a.tracks.center[0].contents)Z=Math.max(Z,J.height?J.height:100),ee=Math.max(ee,J.width?J.width:100);else Z=a.tracks.center[0].height?a.tracks.center[0].height:100,ee=a.tracks.center[0].width?a.tracks.center[0].width:100;v+=Z,p+=ee}}else(a.tracks.top&&zi(a.tracks.top).length>1||a.tracks.bottom&&zi(a.tracks.bottom).length>1)&&(a.tracks.left&&zi(a.tracks.left).length||a.tracks.right&&zi(a.tracks.right).length)&&(M=100,P=100);O>P?v+=O:v+=P;let G=0,B=0,U=0,j=0;return"top"in a.tracks&&(G=a.tracks.top.map(Z=>Z.height?Z.height:20).reduce((Z,ee)=>Z+ee,0)),"bottom"in a.tracks&&(B=a.tracks.bottom.map(Z=>Z.height?Z.height:20).reduce((Z,ee)=>Z+ee,0)),"left"in a.tracks&&(U=a.tracks.left.map(Z=>Z.width?Z.width:0).reduce((Z,ee)=>Z+ee,0)),"right"in a.tracks&&(j=a.tracks.right.map(Z=>Z.width?Z.width:0).reduce((Z,ee)=>Z+ee,0)),{totalWidth:p,totalHeight:v,topHeight:G,bottomHeight:B,leftWidth:U,rightWidth:j,centerWidth:M,centerHeight:P,minNecessaryHeight:E}}},{key:"calculateZoomLimits",value:function(a,u){const h=[0,1/0],f=a.zoomLimits||[1,null],g=u[1]-u[0];if(f.length!==2)return h;if(f[0]!==null&&f[0]>0){const v=g/f[0];h[1]=Math.max(v,1),v<1&&console.warn(`Invalid zoom limits. Lower limit set to ${g}`)}if(f[1]!==null&&f[1]>f[0]){const v=g/f[1];h[0]=Math.min(v,1),v>1&&console.warn(`Invalid zoom limits. Upper limit set to ${g}`)}return h}},{key:"generateViewLayout",value:function(a){let u=null;return"layout"in a?{layout:u}=a.layout:u={x:0,y:0,w:Ove,h:ent},u}},{key:"handleClearView",value:function(a){const{views:u}=this.state;u[a].tracks.top=[],u[a].tracks.bottom=[],u[a].tracks.center=[],u[a].tracks.left=[],u[a].tracks.right=[],u[a].tracks.whole=[],this.setState({views:u})}},{key:"handleCloseView",value:function(a){zi(this.state.views).length!==1&&(this.handleUnlock(a,this.zoomLocks),this.setState(u=>(delete u.views[a],{views:this.removeInvalidTracks(u.views)})))}},{key:"handleSeriesAdded",value:function(a,u,h,f){const{tracks:g}=this.state.views[a];if(f.type==="combined")f.contents.push(u),u.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(u,f);else{const v={type:"combined",uid:Yn.nice(),height:f.height,width:f.width,contents:[f,u]},p=g[h];for(let E=0;E<p.length;E++)p[E].uid===f.uid&&(p[E]=v)}this.setState(v=>({views:v.views}))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(a,u,h,f){this.storeTrackSizes(a);for(const g of u)this.handleTrackAdded(a,g,h,f)}},{key:"handleChangeTrackType",value:function(a,u,h){const f=this.state.views[a],g=_l(f.tracks,u),v=g.uid;g.uid=Yn.nice(),g.type=h;const p=g.uid;this.updateTrackLocks(a,v,p),this.setState(E=>({views:E.views}))}},{key:"handleChangeTrackData",value:function(a,u,h){const f=this.state.views[a],g=_l(f.tracks,u);g.uid=Yn.nice(),g.data=h,this.setState(v=>({views:v.views}))}},{key:"handleTrackAdded",value:function(a,u,h,f=null){if(this.addDefaultTrackOptions(u),u.uid||(u.uid=Yn.nice()),u.contents)for(const E of u.contents)this.addDefaultTrackOptions(E);if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),f)return this.handleSeriesAdded(a,u,h,f),null;u.position=h;const g=this.getTrackInfo(u.type);u.width=g.defaultWidth||g.defaultOptions&&g.defaultOptions.minWidth||this.minVerticalWidth,u.height=g.defaultHeight||g.defaultOptions&&g.defaultOptions.minHeight||this.minHorizontalHeight;const{tracks:v}=this.state.views[a];let p=0;if(Bh(v,()=>p++),h==="left"||h==="top")v[h].unshift(u);else if(h==="center")if(v.center.length===0){const E={uid:Yn.nice(),type:"combined",contents:[u]};v.center=[E]}else if(v.center[0].type==="combined")v.center[0].contents.push(u),u.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(u,v.center[0]);else{const E={uid:Yn.nice(),type:"combined",contents:[v.center[0],u]};v.center=[E],u.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(u,E)}else v[h]||(v[h]=[]),v[h].push(u);return this.adjustLayoutToTrackSizes(this.state.views[a]),Object.keys(this.state.views).length===1&&p===0&&(this.handleZoomToData(a),this.zoomToDataExtentOnInit.add(a)),u}},{key:"compatibilityfyStackedHeatmaps",value:function(a,u){let h;u.contents.some(g=>(h=g,g.type==="heatmap"))&&(a.options.backgroundColor="transparent",a.options.showTooltip=h.options.showTooltip,a.options.showMousePosition=h.options.showMousePosition,a.options.mousePositionColor=h.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(a){Bh(this.state.views[a].tracks,u=>{const h=this.tiledPlots[a].trackRenderer.getTrackObject(u.uid);h&&([u.width,u.height]=h.dimensions)})}},{key:"adjustLayoutToTrackSizes",value:function(a){if(!a.layout)return;const u=this.isEditable();let h=0;u&&(h+=tnt);const{totalHeight:f}=this.calculateViewDimensions(a);h+=f;const g=this.isEditable()?10:0;h+=g;const v=this.state.rowHeight+g;this.sizeMode!==kve&&(a.layout.h=Math.ceil(h/v))}},{key:"handleCloseTrack",value:function(a,u){const{tracks:h}=this.state.views[a];this.handleUnlockValueScale(a,u);for(const f in h){const g=h[f],v=g.filter(p=>p.uid!==u);v.length===g.length?v.filter(E=>E.type==="combined").forEach(E=>{E.contents=E.contents.filter(T=>T.uid!==u)}):h[f]=v}return this.storeTrackSizes(a),this.adjustLayoutToTrackSizes(this.state.views[a]),this.setState(f=>({views:f.views})),this.state.views}},{key:"handleLockValueScale",value:function(a,u){this.setState({chooseTrackHandler:(h,f)=>this.handleValueScaleLocked(a,u,h,f)})}},{key:"combineViewAndTrackUid",value:function(a,u){const h=`${a}.${u}`;if(this.combinedUidToViewTrack[h]={view:a,track:u},this.viewTrackUidsToCombinedUid[a]){if(this.viewTrackUidsToCombinedUid[u])return this.viewTrackUidsToCombinedUid[a][u];this.viewTrackUidsToCombinedUid[a][u]=h}else this.viewTrackUidsToCombinedUid[a]={},this.viewTrackUidsToCombinedUid[a][u]=h;return h}},{key:"updateTrackLocks",value:function(a,u,h){const f=this.combineViewAndTrackUid(a,u),g=this.combineViewAndTrackUid(a,h);if(this.valueScaleLocks[f]){const v=this.valueScaleLocks[f];this.valueScaleLocks[g]=v,delete this.valueScaleLocks[f]}for(const v in this.valueScaleLocks)if(this.valueScaleLocks[v][f]){const p=this.valueScaleLocks[v][f];this.valueScaleLocks[v][g]=p,p.track=h,delete this.valueScaleLocks[v][f]}}},{key:"handleUnlockValueScale",value:function(a,u){if(this.tiledPlots[a].trackRenderer.getTrackObject(u).createdTracks){const h=yl(this.tiledPlots[a].trackRenderer.getTrackObject(u).createdTracks);for(const f of h)this.handleUnlock(this.combineViewAndTrackUid(a,f),this.valueScaleLocks)}else this.handleUnlock(this.combineViewAndTrackUid(a,u),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(a,u,h,f){if(this.tiledPlots[a].trackRenderer.getTrackObject(u).createdTracks){const p=yl(this.tiledPlots[a].trackRenderer.getTrackObject(u).createdTracks);for(const E of p)this.handleValueScaleLocked(a,E,h,f);return}if(this.tiledPlots[h].trackRenderer.getTrackObject(f).createdTracks){const p=yl(this.tiledPlots[h].trackRenderer.getTrackObject(f).createdTracks);for(const E of p)this.handleValueScaleLocked(a,u,h,E);return}const g=this.combineViewAndTrackUid(a,u),v=this.combineViewAndTrackUid(h,f);this.addLock(g,v,this.valueScaleLocks,p=>this.combinedUidToViewTrack[p]),this.syncValueScales(a,u),this.setState({chooseTrackHandler:null})}},{key:"addCallbacks",value:function(a,u){const h=this.getTrackInfo(u.type);if(u.type==="viewport-projection-center"||u.type==="viewport-projection-horizontal"||u.type==="viewport-projection-vertical"||h&&h.projection){const f=u.fromViewUid;u.registerViewportChanged=(g,v)=>this.addScalesChangedListener(f,g,v),u.removeViewportChanged=g=>this.removeScalesChangedListener(f,g),u.setDomainsCallback=(g,v)=>{if(!f){this.projectionXDomains[a]||(this.projectionXDomains[a]={}),this.projectionYDomains[a]||(this.projectionYDomains[a]={}),(u.type==="viewport-projection-horizontal"||u.type==="viewport-projection-center")&&(this.projectionXDomains[a][u.uid]=g),(u.type==="viewport-projection-vertical"||u.type==="viewport-projection-center")&&(this.projectionYDomains[a][u.uid]=v),this.triggerViewChangeDb();return}const p=Rn().domain(g).range(this.xScales[f].range()),E=Rn().domain(v).range(this.yScales[f].range()),[T,S,x]=Po(p,E);this.setCenters[f](T,S,x,!1);let O=!1,P=!1;a in this.zoomLocks&&(O=f in this.zoomLocks[a]),O&&this.handleUnlock(a,this.zoomLocks),a in this.locationLocks&&(P=f in this.locationLocks[a]),P&&this.handleUnlock(a,this.locationLocks),this.handleScalesChanged(f,p,E,!0),O&&this.addLock(a,f,this.zoomLocks,this.viewScalesLockData),P&&this.addLock(a,f,this.locationLocks,this.viewScalesLockData)}}}},{key:"validateLocks",value:function(a){const u=[];for(const h of yl(a))(!a[h]||!a[h][h])&&u.push(h);for(const h of u)a[h]&&(console.warn(`View ${h} not present in lock group. Removing...`),this.handleUnlock(h,a),delete a[h])}},{key:"deserializeLocationLocks",value:function(a){if(this.locationLocks={},a.locationLocks)for(const u of yl(a.locationLocks.locksByViewUid))if(typeof a.locationLocks.locksByViewUid[u]!="object")this.locationLocks[u]=a.locationLocks.locksDict[a.locationLocks.locksByViewUid[u]];else{if("x"in a.locationLocks.locksByViewUid[u]){const h=a.locationLocks.locksDict[a.locationLocks.locksByViewUid[u].x.lock];this.locationLocksAxisWise.x[u]={lock:h,axis:a.locationLocks.locksByViewUid[u].x.axis}}if("y"in a.locationLocks.locksByViewUid[u]){const h=a.locationLocks.locksDict[a.locationLocks.locksByViewUid[u].y.lock];this.locationLocksAxisWise.y[u]={lock:h,axis:a.locationLocks.locksByViewUid[u].y.axis}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(a){if(this.zoomLocks={},a.zoomLocks)for(const u of yl(a.zoomLocks.locksByViewUid))this.zoomLocks[u]=a.zoomLocks.locksDict[a.zoomLocks.locksByViewUid[u]];this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(a){if(this.valueScaleLocks={},a.valueScaleLocks)for(const u of yl(a.valueScaleLocks.locksByViewUid))this.valueScaleLocks[u]=a.valueScaleLocks.locksDict[a.valueScaleLocks.locksByViewUid[u]]}},{key:"serializeLocks",value:function(a){const u={},h={};for(const f of yl(a)){let g=a[f]&&a[f].uid;g||(g=Yn.nice()),a[f].uid=g,u[g]=a[f],h[f]=a[f].uid}return{locksByViewUid:h,locksDict:u}}},{key:"getViewsAsJson",value:function(){const a=JSON.parse(JSON.stringify(this.state.viewConfig));return a.views=Object.values(this.state.views).map(u=>{const h=JSON.parse(JSON.stringify(u));return Bh(h.tracks,f=>{if(f.server){const g=iA(f.server,{});if(!g.hostname.length){const v=window.location.host,{protocol:p}=window.location,E=`${p}//${v}${g.pathname}`;f.server=E}}(f.type==="viewport-projection-center"||f.type==="viewport-projection-horizontal")&&this.projectionXDomains[u.uid]&&this.projectionXDomains[u.uid][f.uid]&&(f.projectionXDomain=this.projectionXDomains[u.uid][f.uid]),(f.type==="viewport-projection-center"||f.type==="viewport-projection-vertical")&&this.projectionYDomains[u.uid]&&this.projectionYDomains[u.uid][f.uid]&&(f.projectionYDomain=this.projectionYDomains[u.uid][f.uid]),delete f.name,delete f.position,delete f.header,delete f.description,delete f.created,delete f.project,delete f.project_name,delete f.serverUidKey,delete f.uuid,delete f.private,delete f.maxZoom,delete f.coordSystem,delete f.coordSystem2,delete f.datatype,delete f.maxWidth,delete f.datafile,delete f.binsPerDimension,delete f.resolutions,delete f.aggregationModes}),h.uid=u.uid,h.initialXDomain=this.xScales[u.uid].domain(),h.initialYDomain=this.yScales[u.uid].domain(),delete h.layout.i,h}),a.zoomLocks=this.serializeLocks(this.zoomLocks),a.locationLocks=this.serializeLocks(this.locationLocks),a.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),a}},{key:"getViewsAsString",value:function(){return JSON.stringify(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){const a=this.getViewsAsString();Dp("viewconf.json",a)}},{key:"handleExportViewsAsLink",value:function(a=this.state.viewConfig.exportViewUrl,u=!1){const h=new URL(a,window.location.origin),f=fetch(a,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:`{"viewconf":${this.getViewsAsString()}}`,credentials:"same-origin"}).then(g=>{if(!g.ok)throw g;return g.json()}).catch(g=>{console.warn("err:",g)}).then(g=>({id:g.uid,url:`${h.origin}/l/?d=${g.uid}`}));return u||f.then(g=>{this.openModal(F.default.createElement(Rq,{onDone:()=>{this.closeModalBound()},url:g.url}))}).catch(g=>console.error("Exporting view config as link failed:",g)),f}},{key:"handleDataDomainChanged",value:function(a,u,h){const{views:f}=this.state;if(f[a].initialXDomain=u,f[a].initialYDomain=h,this.xScales[a]=Rn().domain(u),this.yScales[a]=Rn().domain(h),this.zoomLocks[a]){const g=this.zoomLocks[a],v=Ts(g);for(let p=0;p<v.length;p++){const E=v[p][0];E in this.locationLocks&&(f[E].initialXDomain=u,f[E].initialYDomain=h,this.xScales[E]=Rn().domain(u),this.yScales[E]=Rn().domain(h))}}this.setState({views:f})}},{key:"viewPositionAvailable",value:function(a,u,h,f){const g=a+h,v=u+f;if(a+h>Ove)return!1;const p=zi(this.state.views);for(let E=0;E<p.length;E++){const T=p[E].layout.x,S=p[E].layout.y,x=T+p[E].layout.w,O=S+p[E].layout.h;if(a<x&&g>T&&u<O&&v>S)return!1}return!0}},{key:"handleAddView",value:function(a){const u=zi(this.state.views),h=a,f=[];a.layout.w===12&&(a.layout.w=6);for(let p=0;p<u.length;p++){let E=u[p].layout.x+u[p].layout.w,T=u[p].layout.y;this.viewPositionAvailable(E,T,a.layout.w,a.layout.h)&&f.push([E,T]),E=u[p].layout.x,T=u[p].layout.y+u[p].layout.h,this.viewPositionAvailable(E,T,a.layout.w,a.layout.h)&&f.push([E,T])}f.sort((p,E)=>{const T=p[1]-E[1];return T===0?p[0]-E[0]:T});const g=JSON.stringify(h),v=JSON.parse(g);v.initialXDomain=this.xScales[v.uid].domain(),v.initialYDomain=this.yScales[v.uid].domain(),[[v.layout.x,v.layout.y]]=f,v.uid=Yn.nice(),v.layout.i=v.uid,Bh(v.tracks,p=>{this.addCallbacks(v.uid,p)}),this.setState(p=>{const E=JSON.parse(JSON.stringify(p.views));return E[v.uid]=v,{views:E}})}},{key:"handleSelectedAssemblyChanged",value:function(a,u,h,f){const{views:g}=this.state;g[a].genomePositionSearchBox.chromInfoId=u,g[a].genomePositionSearchBox.autocompleteId=h,g[a].genomePositionSearchBox.autocompleteServer=f}},{key:"createGenomePostionSearchBoxEntry",value:function(a,u){let h=a;const f={autocompleteServer:$k,chromInfoServer:$k,visible:!1};return h||(h=JSON.parse(JSON.stringify(f))),h.autocompleteServer||(h.autocompleteServer=f.autocompleteServer),h.chromInfoId||(h.chromInfoId=u),h.chromInfoServer||(h.chromInfoServer=f.chromInfoServer),h.visible||(h.visible=!1),h}},{key:"handleTogglePositionSearchBox",value:function(a){const u=this.state.views[a];u.genomePositionSearchBoxVisible=!u.genomePositionSearchBoxVisible;const h={};Bh(u.tracks,v=>{v.coordSystem&&(h[v.coordSystem]||(h[v.coordSystem]=0),h[v.coordSystem]+=1)});const f=Ts(h).sort((v,p)=>p[1]-v[1]);let g="hg19";f.length&&(g=f[0][0]),u.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(u.genomePositionSearchBox,g),u.genomePositionSearchBox.visible=!u.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(a,u,h){const f=this.state.views[a],g=_l(f.tracks,u);g&&(g.options=Object.assign(g.options,h),this.mounted&&(this.setState(v=>({views:v.views})),this.adjustSplitHeatmapTrackOptions(g,h,f.tracks,a)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(a,u,h,f){a.type==="heatmap"&&(u.extent==="upper-right"&&h.center[0].type==="combined"&&h.center[0].contents.length>1&&h.center[0].contents.some(g=>{if(g.type==="heatmap"&&g.uid!==a.uid&&g.options.extent!=="lower-left"){const v={...g.options,extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"},p={...u,labelPosition:"topRight",colorbarPosition:"topRight"};return this.handleTrackOptionsChanged(f,g.uid,v),this.handleTrackOptionsChanged(f,a.uid,p),!0}return!1}),u.extent==="lower-left"&&u.extent==="lower-left"&&h.center[0].type==="combined"&&h.center[0].contents.length>1&&h.center[0].contents.some(g=>{if(g.type==="heatmap"&&g.uid!==a.uid&&g.options.extent!=="upper-right"){const v={...g.options,extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"},p={...u,labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"};return this.handleTrackOptionsChanged(f,g.uid,v),this.handleTrackOptionsChanged(f,a.uid,p),!0}return!1}))}},{key:"handleViewOptionsChanged",value:function(a,u){const h=this.state.views[a];h&&(h.options=Object.assign(h.options||{},u),this.mounted&&this.setState(f=>({views:f.views})))}},{key:"isTrackValid",value:function(a,u){return!(a.type==="viewport-projection-center"&&!u.has(a.fromViewUid))}},{key:"removeInvalidTracks",value:function(a){const u=new Set(yl(a));for(const h of zi(a))for(const f of["left","top","center","right","bottom"])h.tracks&&h.tracks.hasOwnProperty(f)&&(h.tracks[f]=h.tracks[f].filter(g=>this.isTrackValid(g,u)),h.tracks[f].forEach(g=>{g.type==="combined"&&(g.contents=g.contents.filter(v=>this.isTrackValid(v,u)))}));return a}},{key:"processViewConfig",value:function(a){let{views:u}=a,h={};return(!a.views||a.views.length===0)&&(console.warn("No views provided in viewConfig"),u=[{editable:!0,tracks:{}}]),u.forEach(f=>{f.tracks&&Op(f.tracks),f.uid||(f.uid=Yn.nice()),h[f.uid]=f,this.zoomToDataExtentOnInit.has(f.uid)&&this.zoomToDataExtentOnInit.delete(f.uid),f.initialXDomain?(f.initialXDomain[0]=+f.initialXDomain[0],f.initialXDomain[1]=+f.initialXDomain[1]):(f.initialXDomain=[0,100],this.zoomToDataExtentOnInit.add(f.uid)),f.initialYDomain?(f.initialXDomain[0]=+f.initialXDomain[0],f.initialXDomain[1]=+f.initialXDomain[1]):f.initialYDomain=[f.initialXDomain[0],f.initialXDomain[1]],this.xScales[f.uid]||(this.xScales[f.uid]=Rn().domain(f.initialXDomain)),this.yScales[f.uid]||(this.yScales[f.uid]=Rn().domain(f.initialYDomain)),Bh(f.tracks,g=>{if(g.uid||(g.uid=Yn.nice()),this.addCallbacks(f.uid,g),this.addDefaultTrackOptions(g),g.contents)for(const v of g.contents)this.addDefaultTrackOptions(v)}),f.layout?f.layout.i=f.uid:f.layout=this.generateViewLayout(f)}),this.deserializeZoomLocks(a),this.deserializeLocationLocks(a),this.deserializeValueScaleLocks(a),h=this.removeInvalidTracks(h),h}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(a){this.rangeSelection=a,this.apiPublish("rangeSelection",a)}},{key:"offViewChange",value:function(a){this.viewChangeListener.splice(a,1)}},{key:"onViewChange",value:function(a){return this.viewChangeListener.push(a)-1}},{key:"triggerViewChange",value:function(){this.viewChangeListener.forEach(a=>a(this.getViewsAsString()))}},{key:"getGenomeLocation",value:function(a){return iR.get(this.state.views[a].chromInfoPath).then(u=>uy(this.xScales[a],this.yScales[a],u))}},{key:"offLocationChange",value:function(a,u){this.removeScalesChangedListener(a,u)}},{key:"zoomTo",value:function(a,u,h,f,g,v){if(!(a in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(Number.isNaN(+u)||Number.isNaN(+h)){const S=[u,h].join(", ");console.warn([`Invalid coordinates (${S}). All coordinates need to be numbers
        and should represent absolute coordinates (not chromosome
        coordinates).`].join(" "));return}(Number.isNaN(+f)||Number.isNaN(+g)||f===null||g===null)&&(f=u,g=h);const[p,E,T]=Po(this.xScales[a].copy().domain([u,h]),this.yScales[a].copy().domain([f,g]));this.setCenters[a](p,E,T,!1,v)}},{key:"zoomToGene",value:function(a,u,h,f){if(!(a in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[a].genomePositionSearchBox||!this.state.views[a].genomePositionSearchBox.autocompleteServer||!this.state.views[a].genomePositionSearchBox.autocompleteId||!this.state.views[a].chromInfoPath){console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API");return}this.suggestGene(a,u,g=>{if(g){const v=g.find(p=>p.geneName.toLowerCase()===u.toLowerCase());if(v){const{chr:p,txStart:E,txEnd:T}=v;om(this.state.views[a].chromInfoPath,S=>{const x=S.chrToAbs([p,E])-h,O=S.chrToAbs([p,T])+h,[P,M,G]=Po(this.xScales[a].copy().domain([x,O]),this.yScales[a].copy().domain([x,O]));this.setCenters[a](P,M,G,!1,f)},this.pubSub)}else console.warn(`Couldn't find the gene symbol: ${u}`)}})}},{key:"suggestGene",value:function(a,u,h){if(!(a in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[a].genomePositionSearchBox||!this.state.views[a].genomePositionSearchBox.autocompleteServer||!this.state.views[a].genomePositionSearchBox.autocompleteId){console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");return}const f=this.state.views[a].genomePositionSearchBox.autocompleteServer,g=this.state.views[a].genomePositionSearchBox.autocompleteId,v=`${f}/suggest/?d=${g}&ac=${u.toLowerCase()}`;Lr.json(v,Uc,this.pubSub).then(p=>{h(p)}).catch(p=>console.error(p))}},{key:"onLocationChange",value:function(a,u,h){const f=Object.keys(this.state.views);if(!f.length)return this.unsetOnLocationChange.push({viewId:a,callback:u,callbackId:h}),null;if(a=typeof a>"u"&&f.length===1?f[0]:a,typeof a>"u"||f.indexOf(a)===-1)return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",a),null;const g=this.state.views[a],v=(E,T)=>{u({xDomain:E.domain(),yDomain:T.domain(),xRange:E.range(),yRange:T.range()})};let p=1;return this.scalesChangedListeners[g.uid]&&(p=Object.keys(this.scalesChangedListeners[g.uid]).filter(E=>E.indexOf(d_)===0).map(E=>parseInt(E.slice(d_.length+1),10)).reduce((E,T)=>Math.max(E,T),0)+1),this.addScalesChangedListener(g.uid,`${d_}.${p}`,v),h&&h(`${d_}.${p}`),p}},{key:"getTiledPlotAtPosition",value:function(a,u){let h;const f=zi(this.state.views);for(let g=0;g<f.length;g++){const v=this.tiledPlots[f[g].uid],p=this.tiledAreasDivs[f[g].uid].getBoundingClientRect(),{top:E,left:T}=p,S=E+p.height,x=T+p.width,O=a>=T&&a<=x,P=u>=E&&u<=S;if(O&&P){h=v;break}}return h}},{key:"mouseMoveHandler",value:function(a){if(!this.topDiv||this.state.modal)return;const u=a.clientX,h=a.clientY,f=nn(a,this.topDiv);f[1]+=this.scrollTop;const g=this.getTiledPlotAtPosition(u,h),v=g?g.listTracksAtPosition(f[0],f[1],!0).map(O=>O.originalTrack||O):[],p=v.find(O=>!O.isAugmentationTrack),E=p?[f[0]-p.position[0],f[1]-p.position[1]]:f;let T=-1,S=-1;p&&(T=p.flipText?p._xScale.invert(E[1]):p._xScale.invert(E[0]),S=p.is2d?p._yScale.invert(E[1]):T);const x={x:f[0],y:f[1],relTrackX:p&&p.flipText?E[1]:E[0],relTrackY:p&&p.flipText?E[0]:E[1],dataX:T,dataY:S,isFrom2dTrack:!!(p&&p.is2d),isFromVerticalTrack:!!(p&&p.flipText),track:p,origEvt:a,sourceUid:this.uid,hoveredTracks:v,noHoveredTracks:v.length===0};if(this.pubSub.publish("app.mouseMove",x),this.isBroadcastMousePositionGlobally){const O={...x};O.origEvt=void 0,O.track=void 0,O.hoveredTracks=void 0,delete O.origEvt,delete O.track,delete O.hoveredTracks,xg.publish("higlass.mouseMove",O)}this.apiPublish("cursorLocation",{absX:u,absY:h,relX:x.x,relY:x.y,relTrackX:x.relTrackX,relTrackY:x.relTrackY,dataX:x.dataX,dataY:x.dataY,isFrom2dTrack:x.isFrom2dTrack,isFromVerticalTrack:x.isFromVerticalTrack}),this.showHoverMenu(x)}},{key:"getMinMaxValue",value:function(a,u,h,f){const g=Xg(this.tiledPlots,a,u);if(!g){console.warn(`Track with ID: ${u} not found!`);return}if(!g.minVisibleValueInTiles||!g.maxVisibleValueInTiles){console.warn(`Track ${u} doesn't support the retrieval of min or max values.`);return}return h&&g.getAggregatedVisibleValue?[g.getAggregatedVisibleValue("min"),g.getAggregatedVisibleValue("max")]:[g.minVisibleValueInTiles(f),g.maxVisibleValueInTiles(f)]}},{key:"showHoverMenu",value:function(a){const u=a.track&&a.track.getMouseOverHtml?a.track.getMouseOverHtml(a.relTrackX,a.relTrackY):"";if(a.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=a.track,this.zooming)return;const h=u&&u.length?[1]:[];let f=Ut("body").selectAll(".track-mouseover-menu").data(h);f.exit().remove(),f.enter().append("div").classed("track-mouseover-menu",!0).classed(_x["track-mouseover-menu"],!0),f=Ut("body").selectAll(".track-mouseover-menu");const g=nn(a.origEvt,Ut("body").node()),v=[g[0]-window.scrollX,g[1]-window.scrollY];if(f.style("left",`${v[0]}px`).style("top",`${v[1]}px`),!f.node())return;const p=f.node().getBoundingClientRect();p.x+p.width>window.innerWidth&&f.style("left",`${v[0]-p.width}px`),p.y+p.height>window.innerHeight&&f.style("top",`${v[1]-p.height}px`),f.html(u)}},{key:"hideHoverMenu",value:function(){Ut("body").selectAll(".track-mouseover-menu").remove()}},{key:"closeCustomDialog",value:function(){this.setState(a=>({customDialog:null}))}},{key:"appClickHandler",value:function(a){this.apiPublish("click",a)}},{key:"canvasClickHandler",value:function(a){const u=a.nativeEvent||a,h=u.clientX,f=u.clientY,g=this.getTiledPlotAtPosition(h,f),v=nn(u,this.topDiv);v[1]+=this.scrollTop;const p=g?g.listTracksAtPosition(v[0],v[1],!0).map(M=>M.originalTrack||M):[],E=p.find(M=>!M.isAugmentationTrack),T=E?[v[0]-E.position[0],v[1]-E.position[1]]:v,S=E&&E.flipText?T[1]:T[0],x=E&&E.flipText?T[0]:T[1];for(const M of this.iterateOverTracks()){const G=Xg(this.tiledPlots,M.viewId,M.trackId);G.respondsToPosition(v[0],v[1])||G.clickOutside()}const O=[];for(const M of p)if(M.childTracks){for(const G of M.childTracks)O.push({trackUid:G.context.trackUid,viewUid:G.context.viewUid,trackType:G.context.trackType,data:G.click(S,x,a)});O.push({trackUid:M.context.trackUid,viewUid:M.context.viewUid,trackType:M.context.trackType,data:{type:"generic",event:a}})}else O.push({trackUid:M.context.trackUid,viewUid:M.context.viewUid,trackType:M.context.trackType,data:M.click(S,x,a)});const P=[];O.forEach((M,G)=>{const B=Xg(this.tiledPlots,M.viewUid,M.trackUid);if(typeof B.clickDialog=="function"){const U=B.clickDialog();U&&P.push(U)}}),P.length>0&&this.setState(M=>({customDialog:P})),this.pubSub.publish("app.click",O)}},{key:"mouseMoveZoomHandler",value:function(a){this.apiPublish("mouseMoveZoom",a)}},{key:"geneSearchHandler",value:function(a){this.apiPublish("geneSearch",a)}},{key:"mouseDownHandler",value:function(a){}},{key:"onScrollHandler",value:function(){this.props.options.sizeMode===r2&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(a,u,h,f){const g=Xg(this.tiledPlots,a,u);if(!g){console.warn(`Could't find track: ${u}`);return}g.setFixedValueScaleMin&&g.setFixedValueScaleMax?(g.setFixedValueScaleMin(h),g.setFixedValueScaleMax(f),g.rerender(g.options,!0),g.animate()):console.warn("Track doesn't support fixed value scales.")}},{key:"setChromInfo",value:function(a,u){om(a,h=>{this.chromInfo=h,u()},this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(a){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===r2||a&&a.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(a){const u=this.state.views[a.viewId];if(!u)return;const h=_l(u.tracks,a.trackId);h&&(a.height!==void 0&&(h.height=a.height),a.width!==void 0&&(h.width=a.width),this.adjustLayoutToTrackSizes(u),this.setState(f=>({views:f.views})))}},{key:"wheelHandler",value:function(a){if(this.state.modal||this.props.options.sizeMode===r2)return;const u=a.nativeEvent||a,h=a.target===this.canvasElement;if(!DF(u.target,this.topDiv)||this.isZoomFixed())return;const f=u.clientX,g=u.clientY,v=this.getTiledPlotAtPosition(f,g);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){const p=nn(u,this.topDiv);p[1]+=this.scrollTop;const E=v?v.listTracksAtPosition(p[0],p[1],!0).map(O=>O.originalTrack||O):[],T=E.find(O=>!O.isAugmentationTrack),S=T?[p[0]-T.position[0],p[1]-T.position[1]]:p,x={x:p[0],y:p[1],relTrackX:T&&T.flipText?S[1]:S[0],relTrackY:T&&T.flipText?S[0]:S[1],track:T,origEvt:u,sourceUid:this.uid,hoveredTracks:E,noHoveredTracks:E.length===0};this.apiPublish("wheel",x)}if(u.forwarded||h){a.stopPropagation(),a.preventDefault();return}if(a.preventDefault(),v){const{trackRenderer:p}=v;u.forwarded=!0,u&&(ry(u,p.eventTracker),u.preventDefault())}}},{key:"render",value:function(){this.tiledAreasDivs={},this.tiledAreas=F.default.createElement("div",{className:_x["tiled-area"]}),this.mounted&&(this.tiledAreas=zi(this.state.views).map(p=>{const E=p.uid===this.state.addTrackPositionMenuUid?this.state.addTrackPositionMenuPosition:null;let T=null;if(this.state.chooseViewHandler){let P="transparent";this.state.mouseOverOverlayUid===p.uid&&(P="green"),T=F.default.createElement("div",{className:"tiled-plot-overlay",onClick:()=>this.state.chooseViewHandler(p.uid),onMouseEnter:()=>this.handleOverlayMouseEnter(p.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(p.uid),onMouseMove:()=>this.handleOverlayMouseEnter(p.uid),style:{position:"absolute",width:"100%",height:"100%",background:P,opacity:.3,zIndex:1}})}const S=F.default.createElement(ret,{key:`tp${p.uid}`,ref:P=>{this.tiledPlots[p.uid]=P},addTrackPosition:this.state.addTrackPositionView===p.uid?this.state.addTrackPosition:null,addTrackPositionMenuPosition:E,canvasElement:this.state.canvasElement,chooseTrackHandler:this.state.chooseTrackHandler?P=>this.state.chooseTrackHandler(p.uid,P):null,customDialog:this.state.customDialog,closeCustomDialog:()=>this.closeCustomDialog(),chromInfoPath:p.chromInfoPath,disableTrackMenu:this.isTrackMenuDisabled(),draggingHappening:this.state.draggingHappening!==null,editable:this.isEditable(),getLockGroupExtrema:P=>this.getLockGroupExtrema(p.uid,P),initialXDomain:p.initialXDomain,initialYDomain:p.initialYDomain,isShowGlobalMousePosition:this.isShowGlobalMousePosition,isValueScaleLocked:P=>this.isValueScaleLocked(p.uid,P),marginBottom:this.viewMarginBottom,marginLeft:this.viewMarginLeft,marginRight:this.viewMarginRight,marginTop:this.viewMarginTop,metaTracks:p.metaTracks,mouseTool:this.state.mouseTool,onChangeTrackData:(P,M)=>this.handleChangeTrackData(p.uid,P,M),onChangeTrackType:(P,M)=>this.handleChangeTrackType(p.uid,P,M),onCloseTrack:P=>this.handleCloseTrack(p.uid,P),onDataDomainChanged:(P,M)=>this.handleDataDomainChanged(p.uid,P,M),onLockValueScale:P=>this.handleLockValueScale(p.uid,P),onMouseMoveZoom:this.mouseMoveZoomHandler.bind(this),onNewTilesLoaded:P=>this.handleNewTilesLoaded(p.uid,P),onNoTrackAdded:this.handleNoTrackAdded.bind(this),onRangeSelection:this.rangeSelectionHandler.bind(this),onResizeTrack:this.triggerViewChangeDb,onScalesChanged:(P,M)=>this.handleScalesChanged(p.uid,P,M),onTrackOptionsChanged:(P,M)=>this.handleTrackOptionsChanged(p.uid,P,M),onTrackPositionChosen:this.handleTrackPositionChosen.bind(this),onTracksAdded:(P,M,G)=>this.handleTracksAdded(p.uid,P,M,G),onUnlockValueScale:P=>this.handleUnlockValueScale(p.uid,P),onValueScaleChanged:P=>this.syncValueScales(p.uid,P),overlays:p.overlays,paddingBottom:this.viewPaddingBottom,paddingLeft:this.viewPaddingLeft,paddingRight:this.viewPaddingRight,paddingTop:this.viewPaddingTop,pixiRenderer:this.pixiRenderer,pixiStage:this.pixiStage,pluginDataFetchers:this.pluginDataFetchers,pluginTracks:this.pluginTracks,rangeSelection1dSize:this.state.rangeSelection1dSize,rangeSelectionToInt:this.state.rangeSelectionToInt,registerDraggingChangedListener:P=>this.addDraggingChangedListener(p.uid,p.uid,P),removeDraggingChangedListener:P=>this.removeDraggingChangedListener(p.uid,p.uid,P),setCentersFunction:P=>{this.setCenters[p.uid]=P},svgElement:this.state.svgElement,tracks:p.tracks,trackSourceServers:this.state.viewConfig.trackSourceServers,uid:p.uid,verticalMargin:this.verticalMargin,viewOptions:p.options,xDomainLimits:p.xDomainLimits,yDomainLimits:p.yDomainLimits,zoomable:!this.isZoomFixed(p),zoomLimits:this.calculateZoomLimits(p,p.initialXDomain),zoomToDataExtentOnInit:()=>this.zoomToDataExtentOnInit.has(p.uid)}),x=(P,M)=>p.genomePositionSearchBox?F.default.createElement(Aet,{key:`gpsb${p.uid}`,ref:G=>{this.genomePositionSearchBoxes[p.uid]=G},autocompleteId:p.genomePositionSearchBox.autocompleteId,autocompleteServer:p.genomePositionSearchBox.autocompleteServer,chromInfoId:p.genomePositionSearchBox.chromInfoId,chromInfoPath:p.genomePositionSearchBox.chromInfoPath,chromInfoServer:p.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:p.genomePositionSearchBox.hideAvailableAssemblies,isFocused:P,onFocus:M,onGeneSearch:this.geneSearchHandler.bind(this),onSelectedAssemblyChanged:(G,B,U)=>this.handleSelectedAssemblyChanged(p.uid,G,B,U),registerViewportChangedListener:G=>this.addScalesChangedListener(p.uid,p.uid,G),removeViewportChangedListener:()=>this.removeScalesChangedListener(p.uid,p.uid),setCenters:(G,B,U,j)=>this.setCenters[p.uid](G,B,U,!1,j),trackSourceServers:this.state.viewConfig.trackSourceServers,twoD:!!(p.tracks.left.length||p.tracks.right.length||p.tracks.center.length)}):null,O=this.isEditable()&&!this.isViewHeaderDisabled()&&!this.state.viewConfig.hideHeader?F.default.createElement(xet,{ref:P=>{this.viewHeaders[p.uid]=P},getGenomePositionSearchBox:x,isGenomePositionSearchBoxVisible:p.genomePositionSearchBox&&p.genomePositionSearchBox.visible,mouseTool:this.state.mouseTool,onAddView:()=>this.handleAddView(p),onClearView:()=>this.handleClearView(p.uid),onCloseView:()=>this.handleCloseView(p.uid),onEditViewConfig:this.handleEditViewConfigBound,onExportPNG:this.handleExportPNG.bind(this),onExportSVG:this.handleExportSVG.bind(this),onExportViewsAsJSON:this.handleExportViewAsJSON.bind(this),onExportViewsAsLink:this.handleExportViewsAsLink.bind(this),onLockLocation:P=>this.handleYankFunction(P,this.handleLocationLockChosen.bind(this)),onLockZoom:P=>this.handleYankFunction(P,this.handleZoomLockChosen.bind(this)),onLockZoomAndLocation:P=>this.handleYankFunction(P,(M,G)=>{this.handleZoomLockChosen(M,G),this.handleLocationLockChosen(M,G)}),onProjectViewport:this.handleProjectViewport.bind(this),onTakeAndLockZoomAndLocation:P=>{this.handleYankFunction(P,(M,G)=>{this.handleZoomYanked(M,G),this.handleLocationYanked(M,G),this.handleZoomLockChosen(M,G),this.handleLocationLockChosen(M,G)})},onTogglePositionSearchBox:this.handleTogglePositionSearchBox.bind(this),onTrackPositionChosen:P=>this.handleTrackPositionChosen(p.uid,P),onUnlockLocation:P=>this.handleUnlock(P,this.locationLocks),onUnlockZoom:P=>this.handleUnlock(P,this.zoomLocks),onUnlockZoomAndLocation:P=>{this.handleUnlock(P,this.zoomLocks),this.handleUnlock(P,this.locationLocks)},onViewOptionsChanged:P=>this.handleViewOptionsChanged(p.uid,P),onYankLocation:P=>this.handleYankFunction(P,this.handleLocationYanked.bind(this)),onYankZoom:P=>this.handleYankFunction(P,this.handleZoomYanked.bind(this)),onYankZoomAndLocation:P=>this.handleYankFunction(P,(M,G)=>{this.handleZoomYanked(M,G),this.handleLocationYanked(M,G)}),onZoomToData:P=>this.handleZoomToData(P),viewUid:p.uid}):null;return F.default.createElement("div",{key:p.uid,ref:P=>{this.tiledAreasDivs[p.uid]=P},className:_x["tiled-area"]},O,S,T)}));let a=this.mounted?Object.values(this.state.views).filter(p=>p.layout).map(p=>p.layout):[];a=JSON.parse(JSON.stringify(a));const u=this.isEditable()?Bk:0,h=this.isEditable()?aF:0,f=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:u,g=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:h,v=F.default.createElement(l7,{ref:p=>{this.gridLayout=p},cols:12,containerPadding:[f,g],draggableHandle:`.${vl["multitrack-header-grabber"]}`,isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:a,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas);return F.default.createElement("div",{key:this.uid,ref:p=>{this.topDiv=p},className:si("higlass",{"higlass-dark-theme":this.theme===Gi,"higlass-container-overflow":this.props.options.sizeMode===Rve||this.props.options.sizeMode===r2}),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound},F.default.createElement(n9e,{value:this.pubSub},F.default.createElement(lje,{value:this.modal},F.default.createElement(e9e,{value:this.theme},this.state.modal,F.default.createElement("canvas",{key:this.uid,ref:p=>{this.canvasElement=p},onClick:this.canvasClickHandlerBound,className:_x["higlass-canvas"]}),F.default.createElement("div",{ref:p=>{this.scrollContainer=p},className:si("higlass-scroll-container",{"higlass-scroll-container-overflow":this.props.options.sizeMode===Rve,"higlass-scroll-container-scroll":this.props.options.sizeMode===r2}),onScroll:this.onScrollHandlerBound},F.default.createElement("div",{ref:p=>{this.divDrawingSurface=p},className:si("higlass-drawing-surface",_x["higlass-drawing-surface"])},v),F.default.createElement("svg",{ref:p=>{this.svgElement=p},className:_x["higlass-svg"],style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"}}))))))}}]),r}(F.default.Component);nZ.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},nZ.propTypes={getApi:$.exports.func,options:$.exports.object,viewConfig:$.exports.oneOfType([$.exports.string,$.exports.object]).isRequired,zoomFixed:$.exports.bool,compactLayout:$.exports.bool};const I8=nZ,Pve=(e,[t,r,s,a],u)=>{u.options.colorbarPosition||(u.options.colorbarPosition="hidden"),u.options.labelPosition||(u.options.labelPosition="hidden");const h="arbitary-id",g=Mve(e,{editable:!1,zoomFixed:!1,views:[{uid:h,initialXDomain:[t,r],initialYDomain:[s,a],tracks:{center:[u]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]},{sizeMode:"bounded"});return{id:h,hgApi:g}};let Nve=function(e){c(r,e);var t=d(r);function r(s){var a;return L(this,r),a=t.call(this,s),a.id=`id-${Math.random()}`,a}return V(r,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(a){const{x:u,y:h,width:f,height:g}=a;return this.zoomTo(u,h,f,g),!1}},{key:"initTrackViewer",value:function(){const{trackConfig:a,x:u,y:h,width:f,height:g}=this.props,v=document.getElementById(this.id),{id:p,hgApi:E}=Pve(v,[u,u+f,h,h+g],a);this.viewUid=p,this.viewer=E}},{key:"zoomTo",value:function(a,u,h,f){this.viewer.zoomTo(this.viewUid,a,a+h,u,u+f)}},{key:"render",value:function(){return F.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),r}(F.default.Component);Nve.propTypes={trackConfig:$.exports.object,width:$.exports.number,height:$.exports.number,x:$.exports.number,y:$.exports.number};const nnt={SVGTrack:Fy,TiledPixiTrack:Py,HorizontalGeneAnnotationsTrack:cX},int=(e,t,r)=>{const s=F.default.createRef();return Te.default.render(F.default.createElement(I8,{ref:s,options:r||{},viewConfig:t}),e),s.current},Mve=(e,t,r)=>int(e,t,r).api;Y.ChromosomeInfo=om,Y.HiGlassComponent=I8,Y.HiGlassTrackComponent=Nve,Y.getTrackObjectFromHGC=fy,Y.mountHGComponent=Zj,Y.schema=rZ,Y.trackViewer=Pve,Y.tracks=nnt,Y.version=vY,Y.viewer=Mve,Y.waitForJsonComplete=o6,Y.waitForTilesLoaded=CP,Y.waitForTransitionsFinished=qj,Object.defineProperties(Y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(rU,rU.exports);var Ylt=rU.exports,rAe={exports:{}};(function(n,o){(function(l,c){n.exports=c()})(window,function(){return function(i){var l={};function c(d){if(l[d])return l[d].exports;var m=l[d]={i:d,l:!1,exports:{}};return i[d].call(m.exports,m,m.exports,c),m.l=!0,m.exports}return c.m=i,c.c=l,c.d=function(d,m,b){c.o(d,m)||Object.defineProperty(d,m,{configurable:!1,enumerable:!0,get:b})},c.r=function(d){Object.defineProperty(d,"__esModule",{value:!0})},c.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(m,"a",m),m},c.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},c.p="",c(c.s=0)}([function(i,l,c){Object.defineProperty(l,"__esModule",{value:!0}),window.higlassTracks=window.higlassTracks||{},window.higlassTracksByType=window.higlassTracksByType||{},window.higlassDataFetchersByType=window.higlassDataFetchersByType||{};var d=function(){return Math.random().toString(36).substring(2,8)},m=function(I){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=N.force,D=R===void 0?!1:R,L=d();window.higlassTracks[L];)L=d();I.name=L,window.higlassTracks[I.name]=I,window.higlassTracksByType[I.config.type]&&!D?console.warn("A track with the same type ("+I.config.type+") was already registered. To override it, set force to true."):window.higlassTracksByType[I.config.type]=I},b=function(I){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=N.force,D=R===void 0?!1:R;window.higlassDataFetchersByType[I.config.type]&&!D?console.warn("A data fetcher with the same type ("+I.config.type+") was already registered. To override it, set force to true."):window.higlassDataFetchersByType[I.config.type]=I},w=function(I){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=N.pluginType,D=R===void 0?"track":R;D==="track"?m(I,N):D==="dataFetcher"&&b(I,N)};l.default=w}])})})(rAe);var qlt=rAe.exports;const xx=_f(qlt);function nAe(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function iAe(n){let o=n,i=n;n.length===1&&(o=(m,b)=>n(m)-b,i=Zlt(n));function l(m,b,w,A){for(w==null&&(w=0),A==null&&(A=m.length);w<A;){const I=w+A>>>1;i(m[I],b)<0?w=I+1:A=I}return w}function c(m,b,w,A){for(w==null&&(w=0),A==null&&(A=m.length);w<A;){const I=w+A>>>1;i(m[I],b)>0?A=I:w=I+1}return w}function d(m,b,w,A){w==null&&(w=0),A==null&&(A=m.length);const I=l(m,b,w,A-1);return I>w&&o(m[I-1],b)>-o(m[I],b)?I-1:I}return{left:l,center:d,right:c}}function Zlt(n){return(o,i)=>nAe(n(o),i)}function Klt(n){return n===null?NaN:+n}const Qlt=iAe(nAe),Jlt=Qlt.right;iAe(Klt).center;const eut=Jlt;class bye extends Map{constructor(o,i=nut){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),o!=null)for(const[l,c]of o)this.set(l,c)}get(o){return super.get(_ye(this,o))}has(o){return super.has(_ye(this,o))}set(o,i){return super.set(tut(this,o),i)}delete(o){return super.delete(rut(this,o))}}function _ye({_intern:n,_key:o},i){const l=o(i);return n.has(l)?n.get(l):i}function tut({_intern:n,_key:o},i){const l=o(i);return n.has(l)?n.get(l):(n.set(l,i),i)}function rut({_intern:n,_key:o},i){const l=o(i);return n.has(l)&&(i=n.get(i),n.delete(l)),i}function nut(n){return n!==null&&typeof n=="object"?n.valueOf():n}var JQ=Math.sqrt(50),eJ=Math.sqrt(10),tJ=Math.sqrt(2);function iut(n,o,i){var l,c=-1,d,m,b;if(o=+o,n=+n,i=+i,n===o&&i>0)return[n];if((l=o<n)&&(d=n,n=o,o=d),(b=aAe(n,o,i))===0||!isFinite(b))return[];if(b>0){let w=Math.round(n/b),A=Math.round(o/b);for(w*b<n&&++w,A*b>o&&--A,m=new Array(d=A-w+1);++c<d;)m[c]=(w+c)*b}else{b=-b;let w=Math.round(n*b),A=Math.round(o*b);for(w/b<n&&++w,A/b>o&&--A,m=new Array(d=A-w+1);++c<d;)m[c]=(w+c)/b}return l&&m.reverse(),m}function aAe(n,o,i){var l=(o-n)/Math.max(0,i),c=Math.floor(Math.log(l)/Math.LN10),d=l/Math.pow(10,c);return c>=0?(d>=JQ?10:d>=eJ?5:d>=tJ?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(d>=JQ?10:d>=eJ?5:d>=tJ?2:1)}function aut(n,o,i){var l=Math.abs(o-n)/Math.max(0,i),c=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),d=l/c;return d>=JQ?c*=10:d>=eJ?c*=5:d>=tJ&&(c*=2),o<n?-c:c}function oAe(n,o){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(o).domain(n);break}return this}const Tye=Symbol("implicit");function sAe(){var n=new bye,o=[],i=[],l=Tye;function c(d){let m=n.get(d);if(m===void 0){if(l!==Tye)return l;n.set(d,m=o.push(d)-1)}return i[m%i.length]}return c.domain=function(d){if(!arguments.length)return o.slice();o=[],n=new bye;for(const m of d)n.has(m)||n.set(m,o.push(m)-1);return c},c.range=function(d){return arguments.length?(i=Array.from(d),c):i.slice()},c.unknown=function(d){return arguments.length?(l=d,c):l},c.copy=function(){return sAe(o,i).unknown(l)},oAe.apply(c,arguments),c}function zee(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function lAe(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function DM(){}var Z2=.7,pU=1/Z2,jx="\\s*([+-]?\\d+)\\s*",K2="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",out=/^#([0-9a-f]{3,8})$/,sut=new RegExp("^rgb\\("+[jx,jx,jx]+"\\)$"),lut=new RegExp("^rgb\\("+[Dm,Dm,Dm]+"\\)$"),uut=new RegExp("^rgba\\("+[jx,jx,jx,K2]+"\\)$"),cut=new RegExp("^rgba\\("+[Dm,Dm,Dm,K2]+"\\)$"),hut=new RegExp("^hsl\\("+[K2,Dm,Dm]+"\\)$"),fut=new RegExp("^hsla\\("+[K2,Dm,Dm,K2]+"\\)$"),Eye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zee(DM,Q2,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:Sye,formatHex:Sye,formatHsl:dut,formatRgb:Aye,toString:Aye});function Sye(){return this.rgb().formatHex()}function dut(){return uAe(this).formatHsl()}function Aye(){return this.rgb().formatRgb()}function Q2(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=out.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?wye(o):i===3?new th(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Q8(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Q8(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=sut.exec(n))?new th(o[1],o[2],o[3],1):(o=lut.exec(n))?new th(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=uut.exec(n))?Q8(o[1],o[2],o[3],o[4]):(o=cut.exec(n))?Q8(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=hut.exec(n))?Iye(o[1],o[2]/100,o[3]/100,1):(o=fut.exec(n))?Iye(o[1],o[2]/100,o[3]/100,o[4]):Eye.hasOwnProperty(n)?wye(Eye[n]):n==="transparent"?new th(NaN,NaN,NaN,0):null}function wye(n){return new th(n>>16&255,n>>8&255,n&255,1)}function Q8(n,o,i,l){return l<=0&&(n=o=i=NaN),new th(n,o,i,l)}function put(n){return n instanceof DM||(n=Q2(n)),n?(n=n.rgb(),new th(n.r,n.g,n.b,n.opacity)):new th}function rJ(n,o,i,l){return arguments.length===1?put(n):new th(n,o,i,l??1)}function th(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}zee(th,rJ,lAe(DM,{brighter:function(n){return n=n==null?pU:Math.pow(pU,n),new th(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?Z2:Math.pow(Z2,n),new th(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cye,formatHex:Cye,formatRgb:xye,toString:xye}));function Cye(){return"#"+HZ(this.r)+HZ(this.g)+HZ(this.b)}function xye(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function HZ(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function Iye(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new Tm(n,o,i,l)}function uAe(n){if(n instanceof Tm)return new Tm(n.h,n.s,n.l,n.opacity);if(n instanceof DM||(n=Q2(n)),!n)return new Tm;if(n instanceof Tm)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,c=Math.min(o,i,l),d=Math.max(o,i,l),m=NaN,b=d-c,w=(d+c)/2;return b?(o===d?m=(i-l)/b+(i<l)*6:i===d?m=(l-o)/b+2:m=(o-i)/b+4,b/=w<.5?d+c:2-d-c,m*=60):b=w>0&&w<1?0:m,new Tm(m,b,w,n.opacity)}function mut(n,o,i,l){return arguments.length===1?uAe(n):new Tm(n,o,i,l??1)}function Tm(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}zee(Tm,mut,lAe(DM,{brighter:function(n){return n=n==null?pU:Math.pow(pU,n),new Tm(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?Z2:Math.pow(Z2,n),new Tm(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,c=2*i-l;return new th(UZ(n>=240?n-240:n+120,c,l),UZ(n,c,l),UZ(n<120?n+240:n-120,c,l),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function UZ(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Vee=n=>()=>n;function gut(n,o){return function(i){return n+i*o}}function vut(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function yut(n){return(n=+n)==1?cAe:function(o,i){return i-o?vut(o,i,n):Vee(isNaN(o)?i:o)}}function cAe(n,o){var i=o-n;return i?gut(n,i):Vee(isNaN(n)?o:n)}const Dye=function n(o){var i=yut(o);function l(c,d){var m=i((c=rJ(c)).r,(d=rJ(d)).r),b=i(c.g,d.g),w=i(c.b,d.b),A=cAe(c.opacity,d.opacity);return function(I){return c.r=m(I),c.g=b(I),c.b=w(I),c.opacity=A(I),c+""}}return l.gamma=n,l}(1);function but(n,o){o||(o=[]);var i=n?Math.min(o.length,n.length):0,l=o.slice(),c;return function(d){for(c=0;c<i;++c)l[c]=n[c]*(1-d)+o[c]*d;return l}}function _ut(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Tut(n,o){var i=o?o.length:0,l=n?Math.min(i,n.length):0,c=new Array(l),d=new Array(i),m;for(m=0;m<l;++m)c[m]=jee(n[m],o[m]);for(;m<i;++m)d[m]=o[m];return function(b){for(m=0;m<l;++m)d[m]=c[m](b);return d}}function Eut(n,o){var i=new Date;return n=+n,o=+o,function(l){return i.setTime(n*(1-l)+o*l),i}}function mU(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}function Sut(n,o){var i={},l={},c;(n===null||typeof n!="object")&&(n={}),(o===null||typeof o!="object")&&(o={});for(c in o)c in n?i[c]=jee(n[c],o[c]):l[c]=o[c];return function(d){for(c in i)l[c]=i[c](d);return l}}var nJ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GZ=new RegExp(nJ.source,"g");function Aut(n){return function(){return n}}function wut(n){return function(o){return n(o)+""}}function Cut(n,o){var i=nJ.lastIndex=GZ.lastIndex=0,l,c,d,m=-1,b=[],w=[];for(n=n+"",o=o+"";(l=nJ.exec(n))&&(c=GZ.exec(o));)(d=c.index)>i&&(d=o.slice(i,d),b[m]?b[m]+=d:b[++m]=d),(l=l[0])===(c=c[0])?b[m]?b[m]+=c:b[++m]=c:(b[++m]=null,w.push({i:m,x:mU(l,c)})),i=GZ.lastIndex;return i<o.length&&(d=o.slice(i),b[m]?b[m]+=d:b[++m]=d),b.length<2?w[0]?wut(w[0].x):Aut(o):(o=w.length,function(A){for(var I=0,N;I<o;++I)b[(N=w[I]).i]=N.x(A);return b.join("")})}function jee(n,o){var i=typeof o,l;return o==null||i==="boolean"?Vee(o):(i==="number"?mU:i==="string"?(l=Q2(o))?(o=l,Dye):Cut:o instanceof Q2?Dye:o instanceof Date?Eut:_ut(o)?but:Array.isArray(o)?Tut:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?Sut:mU)(n,o)}function xut(n,o){return n=+n,o=+o,function(i){return Math.round(n*(1-i)+o*i)}}function Iut(n){return function(){return n}}function Dut(n){return+n}var Oye=[0,1];function Bx(n){return n}function iJ(n,o){return(o-=n=+n)?function(i){return(i-n)/o}:Iut(isNaN(o)?NaN:.5)}function Out(n,o){var i;return n>o&&(i=n,n=o,o=i),function(l){return Math.max(n,Math.min(o,l))}}function kut(n,o,i){var l=n[0],c=n[1],d=o[0],m=o[1];return c<l?(l=iJ(c,l),d=i(m,d)):(l=iJ(l,c),d=i(d,m)),function(b){return d(l(b))}}function Rut(n,o,i){var l=Math.min(n.length,o.length)-1,c=new Array(l),d=new Array(l),m=-1;for(n[l]<n[0]&&(n=n.slice().reverse(),o=o.slice().reverse());++m<l;)c[m]=iJ(n[m],n[m+1]),d[m]=i(o[m],o[m+1]);return function(b){var w=eut(n,b,1,l)-1;return d[w](c[w](b))}}function Put(n,o){return o.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Nut(){var n=Oye,o=Oye,i=jee,l,c,d,m=Bx,b,w,A;function I(){var R=Math.min(n.length,o.length);return m!==Bx&&(m=Out(n[0],n[R-1])),b=R>2?Rut:kut,w=A=null,N}function N(R){return R==null||isNaN(R=+R)?d:(w||(w=b(n.map(l),o,i)))(l(m(R)))}return N.invert=function(R){return m(c((A||(A=b(o,n.map(l),mU)))(R)))},N.domain=function(R){return arguments.length?(n=Array.from(R,Dut),I()):n.slice()},N.range=function(R){return arguments.length?(o=Array.from(R),I()):o.slice()},N.rangeRound=function(R){return o=Array.from(R),i=xut,I()},N.clamp=function(R){return arguments.length?(m=R?!0:Bx,I()):m!==Bx},N.interpolate=function(R){return arguments.length?(i=R,I()):i},N.unknown=function(R){return arguments.length?(d=R,N):d},function(R,D){return l=R,c=D,I()}}function Mut(){return Nut()(Bx,Bx)}function Lut(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function gU(n,o){if((i=(n=o?n.toExponential(o-1):n.toExponential()).indexOf("e"))<0)return null;var i,l=n.slice(0,i);return[l.length>1?l[0]+l.slice(2):l,+n.slice(i+1)]}function cI(n){return n=gU(Math.abs(n)),n?n[1]:NaN}function Fut(n,o){return function(i,l){for(var c=i.length,d=[],m=0,b=n[0],w=0;c>0&&b>0&&(w+b+1>l&&(b=Math.max(1,l-w)),d.push(i.substring(c-=b,c+b)),!((w+=b+1)>l));)b=n[m=(m+1)%n.length];return d.reverse().join(o)}}function But(n){return function(o){return o.replace(/[0-9]/g,function(i){return n[+i]})}}var Hut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vU(n){if(!(o=Hut.exec(n)))throw new Error("invalid format: "+n);var o;return new Wee({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}vU.prototype=Wee.prototype;function Wee(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Wee.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uut(n){e:for(var o=n.length,i=1,l=-1,c;i<o;++i)switch(n[i]){case".":l=c=i;break;case"0":l===0&&(l=i),c=i;break;default:if(!+n[i])break e;l>0&&(l=0);break}return l>0?n.slice(0,l)+n.slice(c+1):n}var hAe;function Gut(n,o){var i=gU(n,o);if(!i)return n+"";var l=i[0],c=i[1],d=c-(hAe=Math.max(-8,Math.min(8,Math.floor(c/3)))*3)+1,m=l.length;return d===m?l:d>m?l+new Array(d-m+1).join("0"):d>0?l.slice(0,d)+"."+l.slice(d):"0."+new Array(1-d).join("0")+gU(n,Math.max(0,o+d-1))[0]}function kye(n,o){var i=gU(n,o);if(!i)return n+"";var l=i[0],c=i[1];return c<0?"0."+new Array(-c).join("0")+l:l.length>c+1?l.slice(0,c+1)+"."+l.slice(c+1):l+new Array(c-l.length+2).join("0")}const Rye={"%":(n,o)=>(n*100).toFixed(o),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Lut,e:(n,o)=>n.toExponential(o),f:(n,o)=>n.toFixed(o),g:(n,o)=>n.toPrecision(o),o:n=>Math.round(n).toString(8),p:(n,o)=>kye(n*100,o),r:kye,s:Gut,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Pye(n){return n}var Nye=Array.prototype.map,Mye=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ut(n){var o=n.grouping===void 0||n.thousands===void 0?Pye:Fut(Nye.call(n.grouping,Number),n.thousands+""),i=n.currency===void 0?"":n.currency[0]+"",l=n.currency===void 0?"":n.currency[1]+"",c=n.decimal===void 0?".":n.decimal+"",d=n.numerals===void 0?Pye:But(Nye.call(n.numerals,String)),m=n.percent===void 0?"%":n.percent+"",b=n.minus===void 0?"":n.minus+"",w=n.nan===void 0?"NaN":n.nan+"";function A(N){N=vU(N);var R=N.fill,D=N.align,L=N.sign,z=N.symbol,V=N.zero,te=N.width,fe=N.comma,Y=N.precision,q=N.trim,K=N.type;K==="n"?(fe=!0,K="g"):Rye[K]||(Y===void 0&&(Y=12),q=!0,K="g"),(V||R==="0"&&D==="=")&&(V=!0,R="0",D="=");var ce=z==="$"?i:z==="#"&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",re=z==="$"?l:/[%p]/.test(K)?m:"",ge=Rye[K],F=/[defgprs%]/.test(K);Y=Y===void 0?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,Y)):Math.max(0,Math.min(20,Y));function Te(Ce){var ve=ce,Ke=re,ot,$,lt;if(K==="c")Ke=ge(Ce)+Ke,Ce="";else{Ce=+Ce;var Tt=Ce<0||1/Ce<0;if(Ce=isNaN(Ce)?w:ge(Math.abs(Ce),Y),q&&(Ce=Uut(Ce)),Tt&&+Ce==0&&L!=="+"&&(Tt=!1),ve=(Tt?L==="("?L:b:L==="-"||L==="("?"":L)+ve,Ke=(K==="s"?Mye[8+hAe/3]:"")+Ke+(Tt&&L==="("?")":""),F){for(ot=-1,$=Ce.length;++ot<$;)if(lt=Ce.charCodeAt(ot),48>lt||lt>57){Ke=(lt===46?c+Ce.slice(ot+1):Ce.slice(ot))+Ke,Ce=Ce.slice(0,ot);break}}}fe&&!V&&(Ce=o(Ce,1/0));var Be=ve.length+Ce.length+Ke.length,qe=Be<te?new Array(te-Be+1).join(R):"";switch(fe&&V&&(Ce=o(qe+Ce,qe.length?te-Ke.length:1/0),qe=""),D){case"<":Ce=ve+Ce+Ke+qe;break;case"=":Ce=ve+qe+Ce+Ke;break;case"^":Ce=qe.slice(0,Be=qe.length>>1)+ve+Ce+Ke+qe.slice(Be);break;default:Ce=qe+ve+Ce+Ke;break}return d(Ce)}return Te.toString=function(){return N+""},Te}function I(N,R){var D=A((N=vU(N),N.type="f",N)),L=Math.max(-8,Math.min(8,Math.floor(cI(R)/3)))*3,z=Math.pow(10,-L),V=Mye[8+L/3];return function(te){return D(z*te)+V}}return{format:A,formatPrefix:I}}var J8,yU,fAe;zut({thousands:",",grouping:[3],currency:["$",""]});function zut(n){return J8=$ut(n),yU=J8.format,fAe=J8.formatPrefix,J8}function Vut(n){return Math.max(0,-cI(Math.abs(n)))}function jut(n,o){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cI(o)/3)))*3-cI(Math.abs(n)))}function Wut(n,o){return n=Math.abs(n),o=Math.abs(o)-n,Math.max(0,cI(o)-cI(n))+1}function Xut(n,o,i,l){var c=aut(n,o,i),d;switch(l=vU(l??",f"),l.type){case"s":{var m=Math.max(Math.abs(n),Math.abs(o));return l.precision==null&&!isNaN(d=jut(c,m))&&(l.precision=d),fAe(l,m)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(d=Wut(c,Math.max(Math.abs(n),Math.abs(o))))&&(l.precision=d-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(d=Vut(c))&&(l.precision=d-(l.type==="%")*2);break}}return yU(l)}function Yut(n){var o=n.domain;return n.ticks=function(i){var l=o();return iut(l[0],l[l.length-1],i??10)},n.tickFormat=function(i,l){var c=o();return Xut(c[0],c[c.length-1],i??10,l)},n.nice=function(i){i==null&&(i=10);var l=o(),c=0,d=l.length-1,m=l[c],b=l[d],w,A,I=10;for(b<m&&(A=m,m=b,b=A,A=c,c=d,d=A);I-- >0;){if(A=aAe(m,b,i),A===w)return l[c]=m,l[d]=b,o(l);if(A>0)m=Math.floor(m/A)*A,b=Math.ceil(b/A)*A;else if(A<0)m=Math.ceil(m*A)/A,b=Math.floor(b*A)/A;else break;w=A}return n},n}function bU(){var n=Mut();return n.copy=function(){return Put(n,bU())},oAe.apply(n,arguments),Yut(n)}function qut(n){for(var o=n.length/6|0,i=new Array(o),l=0;l<o;)i[l]="#"+n.slice(l*6,++l*6);return i}const Zut=qut("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Xee(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function dAe(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function OM(){}var J2=.7,_U=1/J2,Wx="\\s*([+-]?\\d+)\\s*",eM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kut=/^#([0-9a-f]{3,8})$/,Qut=new RegExp(`^rgb\\(${Wx},${Wx},${Wx}\\)$`),Jut=new RegExp(`^rgb\\(${Om},${Om},${Om}\\)$`),ect=new RegExp(`^rgba\\(${Wx},${Wx},${Wx},${eM}\\)$`),tct=new RegExp(`^rgba\\(${Om},${Om},${Om},${eM}\\)$`),rct=new RegExp(`^hsl\\(${eM},${Om},${Om}\\)$`),nct=new RegExp(`^hsla\\(${eM},${Om},${Om},${eM}\\)$`),Lye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xee(OM,a9,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Fye,formatHex:Fye,formatHex8:ict,formatHsl:act,formatRgb:Bye,toString:Bye});function Fye(){return this.rgb().formatHex()}function ict(){return this.rgb().formatHex8()}function act(){return pAe(this).formatHsl()}function Bye(){return this.rgb().formatRgb()}function a9(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=Kut.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Hye(o):i===3?new hc(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?eH(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?eH(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=Qut.exec(n))?new hc(o[1],o[2],o[3],1):(o=Jut.exec(n))?new hc(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=ect.exec(n))?eH(o[1],o[2],o[3],o[4]):(o=tct.exec(n))?eH(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=rct.exec(n))?$ye(o[1],o[2]/100,o[3]/100,1):(o=nct.exec(n))?$ye(o[1],o[2]/100,o[3]/100,o[4]):Lye.hasOwnProperty(n)?Hye(Lye[n]):n==="transparent"?new hc(NaN,NaN,NaN,0):null}function Hye(n){return new hc(n>>16&255,n>>8&255,n&255,1)}function eH(n,o,i,l){return l<=0&&(n=o=i=NaN),new hc(n,o,i,l)}function oct(n){return n instanceof OM||(n=a9(n)),n?(n=n.rgb(),new hc(n.r,n.g,n.b,n.opacity)):new hc}function sct(n,o,i,l){return arguments.length===1?oct(n):new hc(n,o,i,l??1)}function hc(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Xee(hc,sct,dAe(OM,{brighter(n){return n=n==null?_U:Math.pow(_U,n),new hc(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?J2:Math.pow(J2,n),new hc(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new hc(ZT(this.r),ZT(this.g),ZT(this.b),TU(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uye,formatHex:Uye,formatHex8:lct,formatRgb:Gye,toString:Gye}));function Uye(){return`#${BT(this.r)}${BT(this.g)}${BT(this.b)}`}function lct(){return`#${BT(this.r)}${BT(this.g)}${BT(this.b)}${BT((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gye(){const n=TU(this.opacity);return`${n===1?"rgb(":"rgba("}${ZT(this.r)}, ${ZT(this.g)}, ${ZT(this.b)}${n===1?")":`, ${n})`}`}function TU(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ZT(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function BT(n){return n=ZT(n),(n<16?"0":"")+n.toString(16)}function $ye(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new wd(n,o,i,l)}function pAe(n){if(n instanceof wd)return new wd(n.h,n.s,n.l,n.opacity);if(n instanceof OM||(n=a9(n)),!n)return new wd;if(n instanceof wd)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,c=Math.min(o,i,l),d=Math.max(o,i,l),m=NaN,b=d-c,w=(d+c)/2;return b?(o===d?m=(i-l)/b+(i<l)*6:i===d?m=(l-o)/b+2:m=(o-i)/b+4,b/=w<.5?d+c:2-d-c,m*=60):b=w>0&&w<1?0:m,new wd(m,b,w,n.opacity)}function uct(n,o,i,l){return arguments.length===1?pAe(n):new wd(n,o,i,l??1)}function wd(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Xee(wd,uct,dAe(OM,{brighter(n){return n=n==null?_U:Math.pow(_U,n),new wd(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?J2:Math.pow(J2,n),new wd(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,c=2*i-l;return new hc($Z(n>=240?n-240:n+120,c,l),$Z(n,c,l),$Z(n<120?n+240:n-120,c,l),this.opacity)},clamp(){return new wd(zye(this.h),tH(this.s),tH(this.l),TU(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=TU(this.opacity);return`${n===1?"hsl(":"hsla("}${zye(this.h)}, ${tH(this.s)*100}%, ${tH(this.l)*100}%${n===1?")":`, ${n})`}`}}));function zye(n){return n=(n||0)%360,n<0?n+360:n}function tH(n){return Math.max(0,Math.min(1,n||0))}function $Z(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}var kM={},rH,cct=new Uint8Array(16);function mAe(){if(!rH&&(rH=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!rH))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rH(cct)}const hct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o9(n){return typeof n=="string"&&hct.test(n)}var il=[];for(var zZ=0;zZ<256;++zZ)il.push((zZ+256).toString(16).substr(1));function s9(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(il[n[o+0]]+il[n[o+1]]+il[n[o+2]]+il[n[o+3]]+"-"+il[n[o+4]]+il[n[o+5]]+"-"+il[n[o+6]]+il[n[o+7]]+"-"+il[n[o+8]]+il[n[o+9]]+"-"+il[n[o+10]]+il[n[o+11]]+il[n[o+12]]+il[n[o+13]]+il[n[o+14]]+il[n[o+15]]).toLowerCase();if(!o9(i))throw TypeError("Stringified UUID is invalid");return i}var Vye,VZ,jZ=0,WZ=0;function fct(n,o,i){var l=o&&i||0,c=o||new Array(16);n=n||{};var d=n.node||Vye,m=n.clockseq!==void 0?n.clockseq:VZ;if(d==null||m==null){var b=n.random||(n.rng||mAe)();d==null&&(d=Vye=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),m==null&&(m=VZ=(b[6]<<8|b[7])&16383)}var w=n.msecs!==void 0?n.msecs:Date.now(),A=n.nsecs!==void 0?n.nsecs:WZ+1,I=w-jZ+(A-WZ)/1e4;if(I<0&&n.clockseq===void 0&&(m=m+1&16383),(I<0||w>jZ)&&n.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jZ=w,WZ=A,VZ=m,w+=122192928e5;var N=((w&268435455)*1e4+A)%4294967296;c[l++]=N>>>24&255,c[l++]=N>>>16&255,c[l++]=N>>>8&255,c[l++]=N&255;var R=w/4294967296*1e4&268435455;c[l++]=R>>>8&255,c[l++]=R&255,c[l++]=R>>>24&15|16,c[l++]=R>>>16&255,c[l++]=m>>>8|128,c[l++]=m&255;for(var D=0;D<6;++D)c[l+D]=d[D];return o||s9(c)}function gAe(n){if(!o9(n))throw TypeError("Invalid UUID");var o,i=new Uint8Array(16);return i[0]=(o=parseInt(n.slice(0,8),16))>>>24,i[1]=o>>>16&255,i[2]=o>>>8&255,i[3]=o&255,i[4]=(o=parseInt(n.slice(9,13),16))>>>8,i[5]=o&255,i[6]=(o=parseInt(n.slice(14,18),16))>>>8,i[7]=o&255,i[8]=(o=parseInt(n.slice(19,23),16))>>>8,i[9]=o&255,i[10]=(o=parseInt(n.slice(24,36),16))/1099511627776&255,i[11]=o/4294967296&255,i[12]=o>>>24&255,i[13]=o>>>16&255,i[14]=o>>>8&255,i[15]=o&255,i}function dct(n){n=unescape(encodeURIComponent(n));for(var o=[],i=0;i<n.length;++i)o.push(n.charCodeAt(i));return o}var pct="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mct="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function vAe(n,o,i){function l(c,d,m,b){if(typeof c=="string"&&(c=dct(c)),typeof d=="string"&&(d=gAe(d)),d.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var w=new Uint8Array(16+c.length);if(w.set(d),w.set(c,d.length),w=i(w),w[6]=w[6]&15|o,w[8]=w[8]&63|128,m){b=b||0;for(var A=0;A<16;++A)m[b+A]=w[A];return m}return s9(w)}try{l.name=n}catch{}return l.DNS=pct,l.URL=mct,l}function gct(n){if(typeof n=="string"){var o=unescape(encodeURIComponent(n));n=new Uint8Array(o.length);for(var i=0;i<o.length;++i)n[i]=o.charCodeAt(i)}return vct(yct(bct(n),n.length*8))}function vct(n){for(var o=[],i=n.length*32,l="0123456789abcdef",c=0;c<i;c+=8){var d=n[c>>5]>>>c%32&255,m=parseInt(l.charAt(d>>>4&15)+l.charAt(d&15),16);o.push(m)}return o}function yAe(n){return(n+64>>>9<<4)+14+1}function yct(n,o){n[o>>5]|=128<<o%32,n[yAe(o)-1]=o;for(var i=1732584193,l=-271733879,c=-1732584194,d=271733878,m=0;m<n.length;m+=16){var b=i,w=l,A=c,I=d;i=kl(i,l,c,d,n[m],7,-680876936),d=kl(d,i,l,c,n[m+1],12,-389564586),c=kl(c,d,i,l,n[m+2],17,606105819),l=kl(l,c,d,i,n[m+3],22,-1044525330),i=kl(i,l,c,d,n[m+4],7,-176418897),d=kl(d,i,l,c,n[m+5],12,1200080426),c=kl(c,d,i,l,n[m+6],17,-1473231341),l=kl(l,c,d,i,n[m+7],22,-45705983),i=kl(i,l,c,d,n[m+8],7,1770035416),d=kl(d,i,l,c,n[m+9],12,-1958414417),c=kl(c,d,i,l,n[m+10],17,-42063),l=kl(l,c,d,i,n[m+11],22,-1990404162),i=kl(i,l,c,d,n[m+12],7,1804603682),d=kl(d,i,l,c,n[m+13],12,-40341101),c=kl(c,d,i,l,n[m+14],17,-1502002290),l=kl(l,c,d,i,n[m+15],22,1236535329),i=Rl(i,l,c,d,n[m+1],5,-165796510),d=Rl(d,i,l,c,n[m+6],9,-1069501632),c=Rl(c,d,i,l,n[m+11],14,643717713),l=Rl(l,c,d,i,n[m],20,-373897302),i=Rl(i,l,c,d,n[m+5],5,-701558691),d=Rl(d,i,l,c,n[m+10],9,38016083),c=Rl(c,d,i,l,n[m+15],14,-660478335),l=Rl(l,c,d,i,n[m+4],20,-405537848),i=Rl(i,l,c,d,n[m+9],5,568446438),d=Rl(d,i,l,c,n[m+14],9,-1019803690),c=Rl(c,d,i,l,n[m+3],14,-187363961),l=Rl(l,c,d,i,n[m+8],20,1163531501),i=Rl(i,l,c,d,n[m+13],5,-1444681467),d=Rl(d,i,l,c,n[m+2],9,-51403784),c=Rl(c,d,i,l,n[m+7],14,1735328473),l=Rl(l,c,d,i,n[m+12],20,-1926607734),i=Pl(i,l,c,d,n[m+5],4,-378558),d=Pl(d,i,l,c,n[m+8],11,-2022574463),c=Pl(c,d,i,l,n[m+11],16,1839030562),l=Pl(l,c,d,i,n[m+14],23,-35309556),i=Pl(i,l,c,d,n[m+1],4,-1530992060),d=Pl(d,i,l,c,n[m+4],11,1272893353),c=Pl(c,d,i,l,n[m+7],16,-155497632),l=Pl(l,c,d,i,n[m+10],23,-1094730640),i=Pl(i,l,c,d,n[m+13],4,681279174),d=Pl(d,i,l,c,n[m],11,-358537222),c=Pl(c,d,i,l,n[m+3],16,-722521979),l=Pl(l,c,d,i,n[m+6],23,76029189),i=Pl(i,l,c,d,n[m+9],4,-640364487),d=Pl(d,i,l,c,n[m+12],11,-421815835),c=Pl(c,d,i,l,n[m+15],16,530742520),l=Pl(l,c,d,i,n[m+2],23,-995338651),i=Nl(i,l,c,d,n[m],6,-198630844),d=Nl(d,i,l,c,n[m+7],10,1126891415),c=Nl(c,d,i,l,n[m+14],15,-1416354905),l=Nl(l,c,d,i,n[m+5],21,-57434055),i=Nl(i,l,c,d,n[m+12],6,1700485571),d=Nl(d,i,l,c,n[m+3],10,-1894986606),c=Nl(c,d,i,l,n[m+10],15,-1051523),l=Nl(l,c,d,i,n[m+1],21,-2054922799),i=Nl(i,l,c,d,n[m+8],6,1873313359),d=Nl(d,i,l,c,n[m+15],10,-30611744),c=Nl(c,d,i,l,n[m+6],15,-1560198380),l=Nl(l,c,d,i,n[m+13],21,1309151649),i=Nl(i,l,c,d,n[m+4],6,-145523070),d=Nl(d,i,l,c,n[m+11],10,-1120210379),c=Nl(c,d,i,l,n[m+2],15,718787259),l=Nl(l,c,d,i,n[m+9],21,-343485551),i=fb(i,b),l=fb(l,w),c=fb(c,A),d=fb(d,I)}return[i,l,c,d]}function bct(n){if(n.length===0)return[];for(var o=n.length*8,i=new Uint32Array(yAe(o)),l=0;l<o;l+=8)i[l>>5]|=(n[l/8]&255)<<l%32;return i}function fb(n,o){var i=(n&65535)+(o&65535),l=(n>>16)+(o>>16)+(i>>16);return l<<16|i&65535}function _ct(n,o){return n<<o|n>>>32-o}function l9(n,o,i,l,c,d){return fb(_ct(fb(fb(o,n),fb(l,d)),c),i)}function kl(n,o,i,l,c,d,m){return l9(o&i|~o&l,n,o,c,d,m)}function Rl(n,o,i,l,c,d,m){return l9(o&l|i&~l,n,o,c,d,m)}function Pl(n,o,i,l,c,d,m){return l9(o^i^l,n,o,c,d,m)}function Nl(n,o,i,l,c,d,m){return l9(i^(o|~l),n,o,c,d,m)}var Tct=vAe("v3",48,gct);const Ect=Tct;function Sct(n,o,i){n=n||{};var l=n.random||(n.rng||mAe)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,o){i=i||0;for(var c=0;c<16;++c)o[i+c]=l[c];return o}return s9(l)}function Act(n,o,i,l){switch(n){case 0:return o&i^~o&l;case 1:return o^i^l;case 2:return o&i^o&l^i&l;case 3:return o^i^l}}function XZ(n,o){return n<<o|n>>>32-o}function wct(n){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var l=unescape(encodeURIComponent(n));n=[];for(var c=0;c<l.length;++c)n.push(l.charCodeAt(c))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var d=n.length/4+2,m=Math.ceil(d/16),b=new Array(m),w=0;w<m;++w){for(var A=new Uint32Array(16),I=0;I<16;++I)A[I]=n[w*64+I*4]<<24|n[w*64+I*4+1]<<16|n[w*64+I*4+2]<<8|n[w*64+I*4+3];b[w]=A}b[m-1][14]=(n.length-1)*8/Math.pow(2,32),b[m-1][14]=Math.floor(b[m-1][14]),b[m-1][15]=(n.length-1)*8&4294967295;for(var N=0;N<m;++N){for(var R=new Uint32Array(80),D=0;D<16;++D)R[D]=b[N][D];for(var L=16;L<80;++L)R[L]=XZ(R[L-3]^R[L-8]^R[L-14]^R[L-16],1);for(var z=i[0],V=i[1],te=i[2],fe=i[3],Y=i[4],q=0;q<80;++q){var K=Math.floor(q/20),ce=XZ(z,5)+Act(K,V,te,fe)+Y+o[K]+R[q]>>>0;Y=fe,fe=te,te=XZ(V,30)>>>0,V=z,z=ce}i[0]=i[0]+z>>>0,i[1]=i[1]+V>>>0,i[2]=i[2]+te>>>0,i[3]=i[3]+fe>>>0,i[4]=i[4]+Y>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var Cct=vAe("v5",80,wct);const xct=Cct,Ict="00000000-0000-0000-0000-000000000000";function Dct(n){if(!o9(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const Oct=Object.freeze(Object.defineProperty({__proto__:null,NIL:Ict,parse:gAe,stringify:s9,v1:fct,v3:Ect,v4:Sct,v5:xct,validate:o9,version:Dct},Symbol.toStringTag,{value:"Module"})),kct=cee(Oct);var u9=kct,Yee=(()=>typeof Buffer<"u"?n=>Buffer.from(n).toString("base64"):n=>btoa(String.fromCharCode(...n)))(),Rct=(()=>typeof Buffer<"u"?n=>Buffer.from(n,"base64"):n=>Uint8Array.from(atob(n),o=>o.charCodeAt(0)))();kM.encode=function(n){var o=u9.parse(n),i=Yee(o),l=i.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return l};kM.decode=function(n){var o=n.replace(/-/g,"+").replace(/_/g,"/")+"==";return u9.stringify(Rct(o))};kM.v4=function(){var n=u9.v4(null,new Uint8Array(16)),o=Yee(n),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};kM.nice=function(){var n=u9.v4(null,new Uint8Array(16));n[0]=n[0]&127;var o=Yee(n),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};var Pct=kM;const qee=_f(Pct);var hI={},c9={};c9.byteLength=Lct;c9.toByteArray=Bct;c9.fromByteArray=Gct;var Em=[],rf=[],Nct=typeof Uint8Array<"u"?Uint8Array:Array,YZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ix=0,Mct=YZ.length;Ix<Mct;++Ix)Em[Ix]=YZ[Ix],rf[YZ.charCodeAt(Ix)]=Ix;rf["-".charCodeAt(0)]=62;rf["_".charCodeAt(0)]=63;function bAe(n){var o=n.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=o);var l=i===o?0:4-i%4;return[i,l]}function Lct(n){var o=bAe(n),i=o[0],l=o[1];return(i+l)*3/4-l}function Fct(n,o,i){return(o+i)*3/4-i}function Bct(n){var o,i=bAe(n),l=i[0],c=i[1],d=new Nct(Fct(n,l,c)),m=0,b=c>0?l-4:l,w;for(w=0;w<b;w+=4)o=rf[n.charCodeAt(w)]<<18|rf[n.charCodeAt(w+1)]<<12|rf[n.charCodeAt(w+2)]<<6|rf[n.charCodeAt(w+3)],d[m++]=o>>16&255,d[m++]=o>>8&255,d[m++]=o&255;return c===2&&(o=rf[n.charCodeAt(w)]<<2|rf[n.charCodeAt(w+1)]>>4,d[m++]=o&255),c===1&&(o=rf[n.charCodeAt(w)]<<10|rf[n.charCodeAt(w+1)]<<4|rf[n.charCodeAt(w+2)]>>2,d[m++]=o>>8&255,d[m++]=o&255),d}function Hct(n){return Em[n>>18&63]+Em[n>>12&63]+Em[n>>6&63]+Em[n&63]}function Uct(n,o,i){for(var l,c=[],d=o;d<i;d+=3)l=(n[d]<<16&16711680)+(n[d+1]<<8&65280)+(n[d+2]&255),c.push(Hct(l));return c.join("")}function Gct(n){for(var o,i=n.length,l=i%3,c=[],d=16383,m=0,b=i-l;m<b;m+=d)c.push(Uct(n,m,m+d>b?b:m+d));return l===1?(o=n[i-1],c.push(Em[o>>2]+Em[o<<4&63]+"==")):l===2&&(o=(n[i-2]<<8)+n[i-1],c.push(Em[o>>10]+Em[o>>4&63]+Em[o<<2&63]+"=")),c.join("")}var Zee={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Zee.read=function(n,o,i,l,c){var d,m,b=c*8-l-1,w=(1<<b)-1,A=w>>1,I=-7,N=i?c-1:0,R=i?-1:1,D=n[o+N];for(N+=R,d=D&(1<<-I)-1,D>>=-I,I+=b;I>0;d=d*256+n[o+N],N+=R,I-=8);for(m=d&(1<<-I)-1,d>>=-I,I+=l;I>0;m=m*256+n[o+N],N+=R,I-=8);if(d===0)d=1-A;else{if(d===w)return m?NaN:(D?-1:1)*(1/0);m=m+Math.pow(2,l),d=d-A}return(D?-1:1)*m*Math.pow(2,d-l)};Zee.write=function(n,o,i,l,c,d){var m,b,w,A=d*8-c-1,I=(1<<A)-1,N=I>>1,R=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=l?0:d-1,L=l?1:-1,z=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(b=isNaN(o)?1:0,m=I):(m=Math.floor(Math.log(o)/Math.LN2),o*(w=Math.pow(2,-m))<1&&(m--,w*=2),m+N>=1?o+=R/w:o+=R*Math.pow(2,1-N),o*w>=2&&(m++,w/=2),m+N>=I?(b=0,m=I):m+N>=1?(b=(o*w-1)*Math.pow(2,c),m=m+N):(b=o*Math.pow(2,N-1)*Math.pow(2,c),m=0));c>=8;n[i+D]=b&255,D+=L,b/=256,c-=8);for(m=m<<c|b,A+=c;A>0;n[i+D]=m&255,D+=L,m/=256,A-=8);n[i+D-L]|=z*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const o=c9,i=Zee,l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=b,n.SlowBuffer=fe,n.INSPECT_MAX_BYTES=50;const c=2147483647;n.kMaxLength=c,b.TYPED_ARRAY_SUPPORT=d(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const xe=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(xe,le),xe.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function m(xe){if(xe>c)throw new RangeError('The value "'+xe+'" is invalid for option "size"');const le=new Uint8Array(xe);return Object.setPrototypeOf(le,b.prototype),le}function b(xe,le,de){if(typeof xe=="number"){if(typeof le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(xe)}return w(xe,le,de)}b.poolSize=8192;function w(xe,le,de){if(typeof xe=="string")return R(xe,le);if(ArrayBuffer.isView(xe))return L(xe);if(xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xe);if(ga(xe,ArrayBuffer)||xe&&ga(xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ga(xe,SharedArrayBuffer)||xe&&ga(xe.buffer,SharedArrayBuffer)))return z(xe,le,de);if(typeof xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $e=xe.valueOf&&xe.valueOf();if($e!=null&&$e!==xe)return b.from($e,le,de);const Qe=V(xe);if(Qe)return Qe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof xe[Symbol.toPrimitive]=="function")return b.from(xe[Symbol.toPrimitive]("string"),le,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xe)}b.from=function(xe,le,de){return w(xe,le,de)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function A(xe){if(typeof xe!="number")throw new TypeError('"size" argument must be of type number');if(xe<0)throw new RangeError('The value "'+xe+'" is invalid for option "size"')}function I(xe,le,de){return A(xe),xe<=0?m(xe):le!==void 0?typeof de=="string"?m(xe).fill(le,de):m(xe).fill(le):m(xe)}b.alloc=function(xe,le,de){return I(xe,le,de)};function N(xe){return A(xe),m(xe<0?0:te(xe)|0)}b.allocUnsafe=function(xe){return N(xe)},b.allocUnsafeSlow=function(xe){return N(xe)};function R(xe,le){if((typeof le!="string"||le==="")&&(le="utf8"),!b.isEncoding(le))throw new TypeError("Unknown encoding: "+le);const de=Y(xe,le)|0;let $e=m(de);const Qe=$e.write(xe,le);return Qe!==de&&($e=$e.slice(0,Qe)),$e}function D(xe){const le=xe.length<0?0:te(xe.length)|0,de=m(le);for(let $e=0;$e<le;$e+=1)de[$e]=xe[$e]&255;return de}function L(xe){if(ga(xe,Uint8Array)){const le=new Uint8Array(xe);return z(le.buffer,le.byteOffset,le.byteLength)}return D(xe)}function z(xe,le,de){if(le<0||xe.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(xe.byteLength<le+(de||0))throw new RangeError('"length" is outside of buffer bounds');let $e;return le===void 0&&de===void 0?$e=new Uint8Array(xe):de===void 0?$e=new Uint8Array(xe,le):$e=new Uint8Array(xe,le,de),Object.setPrototypeOf($e,b.prototype),$e}function V(xe){if(b.isBuffer(xe)){const le=te(xe.length)|0,de=m(le);return de.length===0||xe.copy(de,0,0,le),de}if(xe.length!==void 0)return typeof xe.length!="number"||io(xe.length)?m(0):D(xe);if(xe.type==="Buffer"&&Array.isArray(xe.data))return D(xe.data)}function te(xe){if(xe>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return xe|0}function fe(xe){return+xe!=xe&&(xe=0),b.alloc(+xe)}b.isBuffer=function(le){return le!=null&&le._isBuffer===!0&&le!==b.prototype},b.compare=function(le,de){if(ga(le,Uint8Array)&&(le=b.from(le,le.offset,le.byteLength)),ga(de,Uint8Array)&&(de=b.from(de,de.offset,de.byteLength)),!b.isBuffer(le)||!b.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===de)return 0;let $e=le.length,Qe=de.length;for(let pt=0,Rt=Math.min($e,Qe);pt<Rt;++pt)if(le[pt]!==de[pt]){$e=le[pt],Qe=de[pt];break}return $e<Qe?-1:Qe<$e?1:0},b.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(le,de){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(le.length===0)return b.alloc(0);let $e;if(de===void 0)for(de=0,$e=0;$e<le.length;++$e)de+=le[$e].length;const Qe=b.allocUnsafe(de);let pt=0;for($e=0;$e<le.length;++$e){let Rt=le[$e];if(ga(Rt,Uint8Array))pt+Rt.length>Qe.length?(b.isBuffer(Rt)||(Rt=b.from(Rt)),Rt.copy(Qe,pt)):Uint8Array.prototype.set.call(Qe,Rt,pt);else if(b.isBuffer(Rt))Rt.copy(Qe,pt);else throw new TypeError('"list" argument must be an Array of Buffers');pt+=Rt.length}return Qe};function Y(xe,le){if(b.isBuffer(xe))return xe.length;if(ArrayBuffer.isView(xe)||ga(xe,ArrayBuffer))return xe.byteLength;if(typeof xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof xe);const de=xe.length,$e=arguments.length>2&&arguments[2]===!0;if(!$e&&de===0)return 0;let Qe=!1;for(;;)switch(le){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return ra(xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de*2;case"hex":return de>>>1;case"base64":return Ta(xe).length;default:if(Qe)return $e?-1:ra(xe).length;le=(""+le).toLowerCase(),Qe=!0}}b.byteLength=Y;function q(xe,le,de){let $e=!1;if((le===void 0||le<0)&&(le=0),le>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0,le>>>=0,de<=le))return"";for(xe||(xe="utf8");;)switch(xe){case"hex":return qe(this,le,de);case"utf8":case"utf-8":return ot(this,le,de);case"ascii":return Tt(this,le,de);case"latin1":case"binary":return Be(this,le,de);case"base64":return Ke(this,le,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We(this,le,de);default:if($e)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),$e=!0}}b.prototype._isBuffer=!0;function K(xe,le,de){const $e=xe[le];xe[le]=xe[de],xe[de]=$e}b.prototype.swap16=function(){const le=this.length;if(le%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let de=0;de<le;de+=2)K(this,de,de+1);return this},b.prototype.swap32=function(){const le=this.length;if(le%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let de=0;de<le;de+=4)K(this,de,de+3),K(this,de+1,de+2);return this},b.prototype.swap64=function(){const le=this.length;if(le%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let de=0;de<le;de+=8)K(this,de,de+7),K(this,de+1,de+6),K(this,de+2,de+5),K(this,de+3,de+4);return this},b.prototype.toString=function(){const le=this.length;return le===0?"":arguments.length===0?ot(this,0,le):q.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(le){if(!b.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le?!0:b.compare(this,le)===0},b.prototype.inspect=function(){let le="";const de=n.INSPECT_MAX_BYTES;return le=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(le+=" ... "),"<Buffer "+le+">"},l&&(b.prototype[l]=b.prototype.inspect),b.prototype.compare=function(le,de,$e,Qe,pt){if(ga(le,Uint8Array)&&(le=b.from(le,le.offset,le.byteLength)),!b.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof le);if(de===void 0&&(de=0),$e===void 0&&($e=le?le.length:0),Qe===void 0&&(Qe=0),pt===void 0&&(pt=this.length),de<0||$e>le.length||Qe<0||pt>this.length)throw new RangeError("out of range index");if(Qe>=pt&&de>=$e)return 0;if(Qe>=pt)return-1;if(de>=$e)return 1;if(de>>>=0,$e>>>=0,Qe>>>=0,pt>>>=0,this===le)return 0;let Rt=pt-Qe,Rr=$e-de;const tn=Math.min(Rt,Rr),Tn=this.slice(Qe,pt),In=le.slice(de,$e);for(let wn=0;wn<tn;++wn)if(Tn[wn]!==In[wn]){Rt=Tn[wn],Rr=In[wn];break}return Rt<Rr?-1:Rr<Rt?1:0};function ce(xe,le,de,$e,Qe){if(xe.length===0)return-1;if(typeof de=="string"?($e=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),de=+de,io(de)&&(de=Qe?0:xe.length-1),de<0&&(de=xe.length+de),de>=xe.length){if(Qe)return-1;de=xe.length-1}else if(de<0)if(Qe)de=0;else return-1;if(typeof le=="string"&&(le=b.from(le,$e)),b.isBuffer(le))return le.length===0?-1:re(xe,le,de,$e,Qe);if(typeof le=="number")return le=le&255,typeof Uint8Array.prototype.indexOf=="function"?Qe?Uint8Array.prototype.indexOf.call(xe,le,de):Uint8Array.prototype.lastIndexOf.call(xe,le,de):re(xe,[le],de,$e,Qe);throw new TypeError("val must be string, number or Buffer")}function re(xe,le,de,$e,Qe){let pt=1,Rt=xe.length,Rr=le.length;if($e!==void 0&&($e=String($e).toLowerCase(),$e==="ucs2"||$e==="ucs-2"||$e==="utf16le"||$e==="utf-16le")){if(xe.length<2||le.length<2)return-1;pt=2,Rt/=2,Rr/=2,de/=2}function tn(In,wn){return pt===1?In[wn]:In.readUInt16BE(wn*pt)}let Tn;if(Qe){let In=-1;for(Tn=de;Tn<Rt;Tn++)if(tn(xe,Tn)===tn(le,In===-1?0:Tn-In)){if(In===-1&&(In=Tn),Tn-In+1===Rr)return In*pt}else In!==-1&&(Tn-=Tn-In),In=-1}else for(de+Rr>Rt&&(de=Rt-Rr),Tn=de;Tn>=0;Tn--){let In=!0;for(let wn=0;wn<Rr;wn++)if(tn(xe,Tn+wn)!==tn(le,wn)){In=!1;break}if(In)return Tn}return-1}b.prototype.includes=function(le,de,$e){return this.indexOf(le,de,$e)!==-1},b.prototype.indexOf=function(le,de,$e){return ce(this,le,de,$e,!0)},b.prototype.lastIndexOf=function(le,de,$e){return ce(this,le,de,$e,!1)};function ge(xe,le,de,$e){de=Number(de)||0;const Qe=xe.length-de;$e?($e=Number($e),$e>Qe&&($e=Qe)):$e=Qe;const pt=le.length;$e>pt/2&&($e=pt/2);let Rt;for(Rt=0;Rt<$e;++Rt){const Rr=parseInt(le.substr(Rt*2,2),16);if(io(Rr))return Rt;xe[de+Rt]=Rr}return Rt}function F(xe,le,de,$e){return mo(ra(le,xe.length-de),xe,de,$e)}function Te(xe,le,de,$e){return mo(na(le),xe,de,$e)}function Ce(xe,le,de,$e){return mo(Ta(le),xe,de,$e)}function ve(xe,le,de,$e){return mo(Co(le,xe.length-de),xe,de,$e)}b.prototype.write=function(le,de,$e,Qe){if(de===void 0)Qe="utf8",$e=this.length,de=0;else if($e===void 0&&typeof de=="string")Qe=de,$e=this.length,de=0;else if(isFinite(de))de=de>>>0,isFinite($e)?($e=$e>>>0,Qe===void 0&&(Qe="utf8")):(Qe=$e,$e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pt=this.length-de;if(($e===void 0||$e>pt)&&($e=pt),le.length>0&&($e<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qe||(Qe="utf8");let Rt=!1;for(;;)switch(Qe){case"hex":return ge(this,le,de,$e);case"utf8":case"utf-8":return F(this,le,de,$e);case"ascii":case"latin1":case"binary":return Te(this,le,de,$e);case"base64":return Ce(this,le,de,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,le,de,$e);default:if(Rt)throw new TypeError("Unknown encoding: "+Qe);Qe=(""+Qe).toLowerCase(),Rt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ke(xe,le,de){return le===0&&de===xe.length?o.fromByteArray(xe):o.fromByteArray(xe.slice(le,de))}function ot(xe,le,de){de=Math.min(xe.length,de);const $e=[];let Qe=le;for(;Qe<de;){const pt=xe[Qe];let Rt=null,Rr=pt>239?4:pt>223?3:pt>191?2:1;if(Qe+Rr<=de){let tn,Tn,In,wn;switch(Rr){case 1:pt<128&&(Rt=pt);break;case 2:tn=xe[Qe+1],(tn&192)===128&&(wn=(pt&31)<<6|tn&63,wn>127&&(Rt=wn));break;case 3:tn=xe[Qe+1],Tn=xe[Qe+2],(tn&192)===128&&(Tn&192)===128&&(wn=(pt&15)<<12|(tn&63)<<6|Tn&63,wn>2047&&(wn<55296||wn>57343)&&(Rt=wn));break;case 4:tn=xe[Qe+1],Tn=xe[Qe+2],In=xe[Qe+3],(tn&192)===128&&(Tn&192)===128&&(In&192)===128&&(wn=(pt&15)<<18|(tn&63)<<12|(Tn&63)<<6|In&63,wn>65535&&wn<1114112&&(Rt=wn))}}Rt===null?(Rt=65533,Rr=1):Rt>65535&&(Rt-=65536,$e.push(Rt>>>10&1023|55296),Rt=56320|Rt&1023),$e.push(Rt),Qe+=Rr}return lt($e)}const $=4096;function lt(xe){const le=xe.length;if(le<=$)return String.fromCharCode.apply(String,xe);let de="",$e=0;for(;$e<le;)de+=String.fromCharCode.apply(String,xe.slice($e,$e+=$));return de}function Tt(xe,le,de){let $e="";de=Math.min(xe.length,de);for(let Qe=le;Qe<de;++Qe)$e+=String.fromCharCode(xe[Qe]&127);return $e}function Be(xe,le,de){let $e="";de=Math.min(xe.length,de);for(let Qe=le;Qe<de;++Qe)$e+=String.fromCharCode(xe[Qe]);return $e}function qe(xe,le,de){const $e=xe.length;(!le||le<0)&&(le=0),(!de||de<0||de>$e)&&(de=$e);let Qe="";for(let pt=le;pt<de;++pt)Qe+=Ea[xe[pt]];return Qe}function We(xe,le,de){const $e=xe.slice(le,de);let Qe="";for(let pt=0;pt<$e.length-1;pt+=2)Qe+=String.fromCharCode($e[pt]+$e[pt+1]*256);return Qe}b.prototype.slice=function(le,de){const $e=this.length;le=~~le,de=de===void 0?$e:~~de,le<0?(le+=$e,le<0&&(le=0)):le>$e&&(le=$e),de<0?(de+=$e,de<0&&(de=0)):de>$e&&(de=$e),de<le&&(de=le);const Qe=this.subarray(le,de);return Object.setPrototypeOf(Qe,b.prototype),Qe};function Ge(xe,le,de){if(xe%1!==0||xe<0)throw new RangeError("offset is not uint");if(xe+le>de)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(le,de,$e){le=le>>>0,de=de>>>0,$e||Ge(le,de,this.length);let Qe=this[le],pt=1,Rt=0;for(;++Rt<de&&(pt*=256);)Qe+=this[le+Rt]*pt;return Qe},b.prototype.readUintBE=b.prototype.readUIntBE=function(le,de,$e){le=le>>>0,de=de>>>0,$e||Ge(le,de,this.length);let Qe=this[le+--de],pt=1;for(;de>0&&(pt*=256);)Qe+=this[le+--de]*pt;return Qe},b.prototype.readUint8=b.prototype.readUInt8=function(le,de){return le=le>>>0,de||Ge(le,1,this.length),this[le]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(le,de){return le=le>>>0,de||Ge(le,2,this.length),this[le]|this[le+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(le,de){return le=le>>>0,de||Ge(le,2,this.length),this[le]<<8|this[le+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+this[le+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),this[le]*16777216+(this[le+1]<<16|this[le+2]<<8|this[le+3])},b.prototype.readBigUInt64LE=va(function(le){le=le>>>0,Dr(le,"offset");const de=this[le],$e=this[le+7];(de===void 0||$e===void 0)&&Gr(le,this.length-8);const Qe=de+this[++le]*2**8+this[++le]*2**16+this[++le]*2**24,pt=this[++le]+this[++le]*2**8+this[++le]*2**16+$e*2**24;return BigInt(Qe)+(BigInt(pt)<<BigInt(32))}),b.prototype.readBigUInt64BE=va(function(le){le=le>>>0,Dr(le,"offset");const de=this[le],$e=this[le+7];(de===void 0||$e===void 0)&&Gr(le,this.length-8);const Qe=de*2**24+this[++le]*2**16+this[++le]*2**8+this[++le],pt=this[++le]*2**24+this[++le]*2**16+this[++le]*2**8+$e;return(BigInt(Qe)<<BigInt(32))+BigInt(pt)}),b.prototype.readIntLE=function(le,de,$e){le=le>>>0,de=de>>>0,$e||Ge(le,de,this.length);let Qe=this[le],pt=1,Rt=0;for(;++Rt<de&&(pt*=256);)Qe+=this[le+Rt]*pt;return pt*=128,Qe>=pt&&(Qe-=Math.pow(2,8*de)),Qe},b.prototype.readIntBE=function(le,de,$e){le=le>>>0,de=de>>>0,$e||Ge(le,de,this.length);let Qe=de,pt=1,Rt=this[le+--Qe];for(;Qe>0&&(pt*=256);)Rt+=this[le+--Qe]*pt;return pt*=128,Rt>=pt&&(Rt-=Math.pow(2,8*de)),Rt},b.prototype.readInt8=function(le,de){return le=le>>>0,de||Ge(le,1,this.length),this[le]&128?(255-this[le]+1)*-1:this[le]},b.prototype.readInt16LE=function(le,de){le=le>>>0,de||Ge(le,2,this.length);const $e=this[le]|this[le+1]<<8;return $e&32768?$e|4294901760:$e},b.prototype.readInt16BE=function(le,de){le=le>>>0,de||Ge(le,2,this.length);const $e=this[le+1]|this[le]<<8;return $e&32768?$e|4294901760:$e},b.prototype.readInt32LE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},b.prototype.readInt32BE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},b.prototype.readBigInt64LE=va(function(le){le=le>>>0,Dr(le,"offset");const de=this[le],$e=this[le+7];(de===void 0||$e===void 0)&&Gr(le,this.length-8);const Qe=this[le+4]+this[le+5]*2**8+this[le+6]*2**16+($e<<24);return(BigInt(Qe)<<BigInt(32))+BigInt(de+this[++le]*2**8+this[++le]*2**16+this[++le]*2**24)}),b.prototype.readBigInt64BE=va(function(le){le=le>>>0,Dr(le,"offset");const de=this[le],$e=this[le+7];(de===void 0||$e===void 0)&&Gr(le,this.length-8);const Qe=(de<<24)+this[++le]*2**16+this[++le]*2**8+this[++le];return(BigInt(Qe)<<BigInt(32))+BigInt(this[++le]*2**24+this[++le]*2**16+this[++le]*2**8+$e)}),b.prototype.readFloatLE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),i.read(this,le,!0,23,4)},b.prototype.readFloatBE=function(le,de){return le=le>>>0,de||Ge(le,4,this.length),i.read(this,le,!1,23,4)},b.prototype.readDoubleLE=function(le,de){return le=le>>>0,de||Ge(le,8,this.length),i.read(this,le,!0,52,8)},b.prototype.readDoubleBE=function(le,de){return le=le>>>0,de||Ge(le,8,this.length),i.read(this,le,!1,52,8)};function nt(xe,le,de,$e,Qe,pt){if(!b.isBuffer(xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>Qe||le<pt)throw new RangeError('"value" argument is out of bounds');if(de+$e>xe.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(le,de,$e,Qe){if(le=+le,de=de>>>0,$e=$e>>>0,!Qe){const Rr=Math.pow(2,8*$e)-1;nt(this,le,de,$e,Rr,0)}let pt=1,Rt=0;for(this[de]=le&255;++Rt<$e&&(pt*=256);)this[de+Rt]=le/pt&255;return de+$e},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(le,de,$e,Qe){if(le=+le,de=de>>>0,$e=$e>>>0,!Qe){const Rr=Math.pow(2,8*$e)-1;nt(this,le,de,$e,Rr,0)}let pt=$e-1,Rt=1;for(this[de+pt]=le&255;--pt>=0&&(Rt*=256);)this[de+pt]=le/Rt&255;return de+$e},b.prototype.writeUint8=b.prototype.writeUInt8=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,1,255,0),this[de]=le&255,de+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,2,65535,0),this[de]=le&255,this[de+1]=le>>>8,de+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,2,65535,0),this[de]=le>>>8,this[de+1]=le&255,de+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,4,4294967295,0),this[de+3]=le>>>24,this[de+2]=le>>>16,this[de+1]=le>>>8,this[de]=le&255,de+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,4,4294967295,0),this[de]=le>>>24,this[de+1]=le>>>16,this[de+2]=le>>>8,this[de+3]=le&255,de+4};function St(xe,le,de,$e,Qe){Pt(le,$e,Qe,xe,de,7);let pt=Number(le&BigInt(4294967295));xe[de++]=pt,pt=pt>>8,xe[de++]=pt,pt=pt>>8,xe[de++]=pt,pt=pt>>8,xe[de++]=pt;let Rt=Number(le>>BigInt(32)&BigInt(4294967295));return xe[de++]=Rt,Rt=Rt>>8,xe[de++]=Rt,Rt=Rt>>8,xe[de++]=Rt,Rt=Rt>>8,xe[de++]=Rt,de}function Gt(xe,le,de,$e,Qe){Pt(le,$e,Qe,xe,de,7);let pt=Number(le&BigInt(4294967295));xe[de+7]=pt,pt=pt>>8,xe[de+6]=pt,pt=pt>>8,xe[de+5]=pt,pt=pt>>8,xe[de+4]=pt;let Rt=Number(le>>BigInt(32)&BigInt(4294967295));return xe[de+3]=Rt,Rt=Rt>>8,xe[de+2]=Rt,Rt=Rt>>8,xe[de+1]=Rt,Rt=Rt>>8,xe[de]=Rt,de+8}b.prototype.writeBigUInt64LE=va(function(le,de=0){return St(this,le,de,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=va(function(le,de=0){return Gt(this,le,de,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(le,de,$e,Qe){if(le=+le,de=de>>>0,!Qe){const tn=Math.pow(2,8*$e-1);nt(this,le,de,$e,tn-1,-tn)}let pt=0,Rt=1,Rr=0;for(this[de]=le&255;++pt<$e&&(Rt*=256);)le<0&&Rr===0&&this[de+pt-1]!==0&&(Rr=1),this[de+pt]=(le/Rt>>0)-Rr&255;return de+$e},b.prototype.writeIntBE=function(le,de,$e,Qe){if(le=+le,de=de>>>0,!Qe){const tn=Math.pow(2,8*$e-1);nt(this,le,de,$e,tn-1,-tn)}let pt=$e-1,Rt=1,Rr=0;for(this[de+pt]=le&255;--pt>=0&&(Rt*=256);)le<0&&Rr===0&&this[de+pt+1]!==0&&(Rr=1),this[de+pt]=(le/Rt>>0)-Rr&255;return de+$e},b.prototype.writeInt8=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,1,127,-128),le<0&&(le=255+le+1),this[de]=le&255,de+1},b.prototype.writeInt16LE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,2,32767,-32768),this[de]=le&255,this[de+1]=le>>>8,de+2},b.prototype.writeInt16BE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,2,32767,-32768),this[de]=le>>>8,this[de+1]=le&255,de+2},b.prototype.writeInt32LE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,4,2147483647,-2147483648),this[de]=le&255,this[de+1]=le>>>8,this[de+2]=le>>>16,this[de+3]=le>>>24,de+4},b.prototype.writeInt32BE=function(le,de,$e){return le=+le,de=de>>>0,$e||nt(this,le,de,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[de]=le>>>24,this[de+1]=le>>>16,this[de+2]=le>>>8,this[de+3]=le&255,de+4},b.prototype.writeBigInt64LE=va(function(le,de=0){return St(this,le,de,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=va(function(le,de=0){return Gt(this,le,de,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Zt(xe,le,de,$e,Qe,pt){if(de+$e>xe.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function ir(xe,le,de,$e,Qe){return le=+le,de=de>>>0,Qe||Zt(xe,le,de,4),i.write(xe,le,de,$e,23,4),de+4}b.prototype.writeFloatLE=function(le,de,$e){return ir(this,le,de,!0,$e)},b.prototype.writeFloatBE=function(le,de,$e){return ir(this,le,de,!1,$e)};function zt(xe,le,de,$e,Qe){return le=+le,de=de>>>0,Qe||Zt(xe,le,de,8),i.write(xe,le,de,$e,52,8),de+8}b.prototype.writeDoubleLE=function(le,de,$e){return zt(this,le,de,!0,$e)},b.prototype.writeDoubleBE=function(le,de,$e){return zt(this,le,de,!1,$e)},b.prototype.copy=function(le,de,$e,Qe){if(!b.isBuffer(le))throw new TypeError("argument should be a Buffer");if($e||($e=0),!Qe&&Qe!==0&&(Qe=this.length),de>=le.length&&(de=le.length),de||(de=0),Qe>0&&Qe<$e&&(Qe=$e),Qe===$e||le.length===0||this.length===0)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if($e<0||$e>=this.length)throw new RangeError("Index out of range");if(Qe<0)throw new RangeError("sourceEnd out of bounds");Qe>this.length&&(Qe=this.length),le.length-de<Qe-$e&&(Qe=le.length-de+$e);const pt=Qe-$e;return this===le&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(de,$e,Qe):Uint8Array.prototype.set.call(le,this.subarray($e,Qe),de),pt},b.prototype.fill=function(le,de,$e,Qe){if(typeof le=="string"){if(typeof de=="string"?(Qe=de,de=0,$e=this.length):typeof $e=="string"&&(Qe=$e,$e=this.length),Qe!==void 0&&typeof Qe!="string")throw new TypeError("encoding must be a string");if(typeof Qe=="string"&&!b.isEncoding(Qe))throw new TypeError("Unknown encoding: "+Qe);if(le.length===1){const Rt=le.charCodeAt(0);(Qe==="utf8"&&Rt<128||Qe==="latin1")&&(le=Rt)}}else typeof le=="number"?le=le&255:typeof le=="boolean"&&(le=Number(le));if(de<0||this.length<de||this.length<$e)throw new RangeError("Out of range index");if($e<=de)return this;de=de>>>0,$e=$e===void 0?this.length:$e>>>0,le||(le=0);let pt;if(typeof le=="number")for(pt=de;pt<$e;++pt)this[pt]=le;else{const Rt=b.isBuffer(le)?le:b.from(le,Qe),Rr=Rt.length;if(Rr===0)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(pt=0;pt<$e-de;++pt)this[pt+de]=Rt[pt%Rr]}return this};const Qt={};function Wt(xe,le,de){Qt[xe]=class extends de{constructor(){super(),Object.defineProperty(this,"message",{value:le.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${xe}]`,this.stack,delete this.name}get code(){return xe}set code(Qe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qe,writable:!0})}toString(){return`${this.name} [${xe}]: ${this.message}`}}}Wt("ERR_BUFFER_OUT_OF_BOUNDS",function(xe){return xe?`${xe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Wt("ERR_INVALID_ARG_TYPE",function(xe,le){return`The "${xe}" argument must be of type number. Received type ${typeof le}`},TypeError),Wt("ERR_OUT_OF_RANGE",function(xe,le,de){let $e=`The value of "${xe}" is out of range.`,Qe=de;return Number.isInteger(de)&&Math.abs(de)>2**32?Qe=yr(String(de)):typeof de=="bigint"&&(Qe=String(de),(de>BigInt(2)**BigInt(32)||de<-(BigInt(2)**BigInt(32)))&&(Qe=yr(Qe)),Qe+="n"),$e+=` It must be ${le}. Received ${Qe}`,$e},RangeError);function yr(xe){let le="",de=xe.length;const $e=xe[0]==="-"?1:0;for(;de>=$e+4;de-=3)le=`_${xe.slice(de-3,de)}${le}`;return`${xe.slice(0,de)}${le}`}function br(xe,le,de){Dr(le,"offset"),(xe[le]===void 0||xe[le+de]===void 0)&&Gr(le,xe.length-(de+1))}function Pt(xe,le,de,$e,Qe,pt){if(xe>de||xe<le){const Rt=typeof le=="bigint"?"n":"";let Rr;throw pt>3?le===0||le===BigInt(0)?Rr=`>= 0${Rt} and < 2${Rt} ** ${(pt+1)*8}${Rt}`:Rr=`>= -(2${Rt} ** ${(pt+1)*8-1}${Rt}) and < 2 ** ${(pt+1)*8-1}${Rt}`:Rr=`>= ${le}${Rt} and <= ${de}${Rt}`,new Qt.ERR_OUT_OF_RANGE("value",Rr,xe)}br($e,Qe,pt)}function Dr(xe,le){if(typeof xe!="number")throw new Qt.ERR_INVALID_ARG_TYPE(le,"number",xe)}function Gr(xe,le,de){throw Math.floor(xe)!==xe?(Dr(xe,de),new Qt.ERR_OUT_OF_RANGE(de||"offset","an integer",xe)):le<0?new Qt.ERR_BUFFER_OUT_OF_BOUNDS:new Qt.ERR_OUT_OF_RANGE(de||"offset",`>= ${de?1:0} and <= ${le}`,xe)}const rn=/[^+/0-9A-Za-z-_]/g;function yi(xe){if(xe=xe.split("=")[0],xe=xe.trim().replace(rn,""),xe.length<2)return"";for(;xe.length%4!==0;)xe=xe+"=";return xe}function ra(xe,le){le=le||1/0;let de;const $e=xe.length;let Qe=null;const pt=[];for(let Rt=0;Rt<$e;++Rt){if(de=xe.charCodeAt(Rt),de>55295&&de<57344){if(!Qe){if(de>56319){(le-=3)>-1&&pt.push(239,191,189);continue}else if(Rt+1===$e){(le-=3)>-1&&pt.push(239,191,189);continue}Qe=de;continue}if(de<56320){(le-=3)>-1&&pt.push(239,191,189),Qe=de;continue}de=(Qe-55296<<10|de-56320)+65536}else Qe&&(le-=3)>-1&&pt.push(239,191,189);if(Qe=null,de<128){if((le-=1)<0)break;pt.push(de)}else if(de<2048){if((le-=2)<0)break;pt.push(de>>6|192,de&63|128)}else if(de<65536){if((le-=3)<0)break;pt.push(de>>12|224,de>>6&63|128,de&63|128)}else if(de<1114112){if((le-=4)<0)break;pt.push(de>>18|240,de>>12&63|128,de>>6&63|128,de&63|128)}else throw new Error("Invalid code point")}return pt}function na(xe){const le=[];for(let de=0;de<xe.length;++de)le.push(xe.charCodeAt(de)&255);return le}function Co(xe,le){let de,$e,Qe;const pt=[];for(let Rt=0;Rt<xe.length&&!((le-=2)<0);++Rt)de=xe.charCodeAt(Rt),$e=de>>8,Qe=de%256,pt.push(Qe),pt.push($e);return pt}function Ta(xe){return o.toByteArray(yi(xe))}function mo(xe,le,de,$e){let Qe;for(Qe=0;Qe<$e&&!(Qe+de>=le.length||Qe>=xe.length);++Qe)le[Qe+de]=xe[Qe];return Qe}function ga(xe,le){return xe instanceof le||xe!=null&&xe.constructor!=null&&xe.constructor.name!=null&&xe.constructor.name===le.name}function io(xe){return xe!==xe}const Ea=function(){const xe="0123456789abcdef",le=new Array(256);for(let de=0;de<16;++de){const $e=de*16;for(let Qe=0;Qe<16;++Qe)le[$e+Qe]=xe[de]+xe[Qe]}return le}();function va(xe){return typeof BigInt>"u"?Qi:xe}function Qi(){throw new Error("BigInt not supported")}})(hI);const qZ=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};let fI=class{constructor(o,i={}){this.baseOverrides={},this.url=o;const l=i.fetch||qZ.fetch&&qZ.fetch.bind(qZ);if(!l)throw new TypeError("no fetch function supplied, and none found in global environment");i.overrides&&(this.baseOverrides=i.overrides),this.fetchImplementation=l}async getBufferFromResponse(o){if(typeof o.buffer=="function")return o.buffer();if(typeof o.arrayBuffer=="function"){const i=await o.arrayBuffer();return hI.Buffer.from(i)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}async fetch(o,i){let l;try{l=await this.fetchImplementation(o,i)}catch(c){if(`${c}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${o} to attempt to work around chrome CORS header caching bug`),l=await this.fetchImplementation(o,{...i,cache:"reload"});else throw c}return l}async read(o,i=0,l,c=0,d={}){const{headers:m={},signal:b,overrides:w={}}=d;l<1/0?m.range=`bytes=${c}-${c+l}`:l===1/0&&c!==0&&(m.range=`bytes=${c}-`);const A={...this.baseOverrides,...w,headers:{...m,...w.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:b},I=await this.fetch(this.url,A);if(!I.ok)throw new Error(`HTTP ${I.status} ${I.statusText} ${this.url}`);if(I.status===200&&c===0||I.status===206){const N=await this.getBufferFromResponse(I),R=N.copy(o,i,0,Math.min(l,N.length)),D=I.headers.get("content-range"),L=/\/(\d+)$/.exec(D||"");return L&&L[1]&&(this._stat={size:parseInt(L[1],10)}),{bytesRead:R,buffer:o}}throw I.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${I.status} fetching ${this.url}`)}async readFile(o={}){let i,l;typeof o=="string"?(i=o,l={}):(i=o.encoding,l=o,delete l.encoding);const{headers:c={},signal:d,overrides:m={}}=l,b={headers:c,method:"GET",redirect:"follow",mode:"cors",signal:d,...this.baseOverrides,...m},w=await this.fetch(this.url,b);if(!w)throw new Error("generic-filehandle failed to fetch");if(w.status!==200)throw Object.assign(new Error(`HTTP ${w.status} fetching ${this.url}`),{status:w.status});if(i==="utf8")return w.text();if(i)throw new Error(`unsupported encoding: ${i}`);return this.getBufferFromResponse(w)}async stat(){if(!this._stat){const o=hI.Buffer.allocUnsafe(10);if(await this.read(o,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};var jye={},ZZ={},KZ=34,f2=10,QZ=13;function _Ae(n){return new Function("d","return {"+n.map(function(o,i){return JSON.stringify(o)+": d["+i+'] || ""'}).join(",")+"}")}function $ct(n,o){var i=_Ae(n);return function(l,c){return o(i(l),c,n)}}function Wye(n){var o=Object.create(null),i=[];return n.forEach(function(l){for(var c in l)c in o||i.push(o[c]=c)}),i}function oc(n,o){var i=n+"",l=i.length;return l<o?new Array(o-l+1).join(0)+i:i}function zct(n){return n<0?"-"+oc(-n,6):n>9999?"+"+oc(n,6):oc(n,4)}function Vct(n){var o=n.getUTCHours(),i=n.getUTCMinutes(),l=n.getUTCSeconds(),c=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":zct(n.getUTCFullYear())+"-"+oc(n.getUTCMonth()+1,2)+"-"+oc(n.getUTCDate(),2)+(c?"T"+oc(o,2)+":"+oc(i,2)+":"+oc(l,2)+"."+oc(c,3)+"Z":l?"T"+oc(o,2)+":"+oc(i,2)+":"+oc(l,2)+"Z":i||o?"T"+oc(o,2)+":"+oc(i,2)+"Z":"")}function jct(n){var o=new RegExp('["'+n+`
\r]`),i=n.charCodeAt(0);function l(N,R){var D,L,z=c(N,function(V,te){if(D)return D(V,te-1);L=V,D=R?$ct(V,R):_Ae(V)});return z.columns=L||[],z}function c(N,R){var D=[],L=N.length,z=0,V=0,te,fe=L<=0,Y=!1;N.charCodeAt(L-1)===f2&&--L,N.charCodeAt(L-1)===QZ&&--L;function q(){if(fe)return ZZ;if(Y)return Y=!1,jye;var ce,re=z,ge;if(N.charCodeAt(re)===KZ){for(;z++<L&&N.charCodeAt(z)!==KZ||N.charCodeAt(++z)===KZ;);return(ce=z)>=L?fe=!0:(ge=N.charCodeAt(z++))===f2?Y=!0:ge===QZ&&(Y=!0,N.charCodeAt(z)===f2&&++z),N.slice(re+1,ce-1).replace(/""/g,'"')}for(;z<L;){if((ge=N.charCodeAt(ce=z++))===f2)Y=!0;else if(ge===QZ)Y=!0,N.charCodeAt(z)===f2&&++z;else if(ge!==i)continue;return N.slice(re,ce)}return fe=!0,N.slice(re,L)}for(;(te=q())!==ZZ;){for(var K=[];te!==jye&&te!==ZZ;)K.push(te),te=q();R&&(K=R(K,V++))==null||D.push(K)}return D}function d(N,R){return N.map(function(D){return R.map(function(L){return I(D[L])}).join(n)})}function m(N,R){return R==null&&(R=Wye(N)),[R.map(I).join(n)].concat(d(N,R)).join(`
`)}function b(N,R){return R==null&&(R=Wye(N)),d(N,R).join(`
`)}function w(N){return N.map(A).join(`
`)}function A(N){return N.map(I).join(n)}function I(N){return N==null?"":N instanceof Date?Vct(N):o.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:l,parseRows:c,format:m,formatBody:b,formatRows:w,formatRow:A,formatValue:I}}var Wct=jct("	"),Xct=Wct.parseRows,Yct=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function qct(n){if(Array.isArray(n)){for(var o=0,i=Array(n.length);o<n.length;o++)i[o]=n[o];return i}else return Array.from(n)}function Zct(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var Kct=function(){function n(o){var i=this;Zct(this,n),this.dataConfig=o,this.trackUid=qee.nice();var l=require("@gmod/indexedfasta"),c=l.IndexedFasta;this.chromInfo=null,this.chromsizePromise=fetch(o.chromSizesUrl,{cache:"force-cache",method:"GET"}).then(function(b){return b.text()}).then(function(b){var w=Xct(b);i.chromInfo=i.parseChromsizesRows(w)});var d=new fI(o.fastaUrl),m=new fI(o.faiUrl);this.sequenceFile=new c({fasta:d,fai:m})}return Yct(n,[{key:"tilesetInfo",value:function(i){var l=this;return this.tilesetInfoLoading=!0,this.chromsizePromise.then(function(){l.tilesetInfoLoading=!1;var c=1024,d=l.chromInfo.totalLength,m=Math.ceil(Math.log(d/c)/Math.log(2)),b={};return b={tile_size:c,bins_per_dimension:c,max_zoom:m,max_width:c*Math.pow(2,m),min_pos:[0],max_pos:[d]},i&&i(b),b}).catch(function(c){l.tilesetInfoLoading=!1,i?i({error:"Error parsing chromsizes: "+c}):console.error("Could not fetch tileInfo for sequence track.")})}},{key:"fetchTilesDebounced",value:function(i,l){var c={},d=[],m=[],b=[],w=[],A=!0,I=!1,N=void 0;try{for(var R=l[Symbol.iterator](),D;!(A=(D=R.next()).done);A=!0){var L=D.value,z=L.split("."),V=parseInt(z[0],10),te=parseInt(z[1],10);if(Number.isNaN(te)||Number.isNaN(V)){console.warn("Invalid tile zoom or position:",V,te);continue}d.push(V),m.push([te]),b.push(L),w.push(this.tile(V,te))}}catch(fe){I=!0,N=fe}finally{try{!A&&R.return&&R.return()}finally{if(I)throw N}}return Promise.all(w).then(function(fe){for(var Y=0;Y<fe.length;Y++){var q=b[Y];c[q]={},c[q].dense=fe[Y],c[q].zoomLevel=d[Y],c[q].tilePos=m[Y],c[q].tilePositionId=q}i(c)}),c}},{key:"tile",value:function(i,l){var c=this;return this.tilesetInfo().then(function(d){for(var m=+d.max_width/Math.pow(2,+i),b=d.min_pos[0]+l*m,w=d.min_pos[0]+(l+1)*m,A=[],I=c.chromInfo,N=I.chromLengths,R=I.cumPositions,D=0;D<R.length;D++){var L=R[D].chr,z=R[D].pos,V=R[D].pos+N[L];if(z<=b&&b<V)if(w>V)A.push(c.sequenceFile.getSequence(L,b-z,V-z).then(function(Y){return Y})),b=V;else{var te=Math.ceil(w-z),fe=Math.floor(b-z);A.push(c.sequenceFile.getSequence(L,fe,te).then(function(Y){return Y}));break}}return Promise.all(A).then(function(Y){var q=Y.join("");return c.convertBasesToMultivec(q)})})}},{key:"convertBasesToMultivec",value:function(i){var l=[];return[].concat(qct(i)).forEach(function(c){c==="A"||c==="a"?l.push([1,0,0,0,0,0]):c==="T"||c==="t"?l.push([0,1,0,0,0,0]):c==="G"||c==="g"?l.push([0,0,1,0,0,0]):c==="C"||c==="c"?l.push([0,0,0,1,0,0]):c==="N"||c==="n"?l.push([0,0,0,0,1,0]):l.push([0,0,0,0,0,1])}),l}},{key:"parseChromsizesRows",value:function(i){for(var l=[],c={},d={},m=0,b=0;b<i.length;b++){var w=Number(i[b][1]);m+=w;var A={id:b,chr:i[b][0],pos:m-w};l.push(A),d[A.chr]=A,c[i[b][0]]=w}return{cumPositions:l,chrPositions:d,totalLength:m,chromLengths:c}}}]),n}(),Qct=function(){function n(o,i){var l=[],c=!0,d=!1,m=void 0;try{for(var b=o[Symbol.iterator](),w;!(c=(w=b.next()).done)&&(l.push(w.value),!(i&&l.length===i));c=!0);}catch(A){d=!0,m=A}finally{try{!c&&b.return&&b.return()}finally{if(d)throw m}}return l}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return n(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Jct=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}(),Xye=function n(o,i,l){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(c===void 0){var d=Object.getPrototypeOf(o);return d===null?void 0:n(d,i,l)}else{if("value"in c)return c.value;var m=c.get;return m===void 0?void 0:m.call(l)}};function eht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function tht(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:n}function rht(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}var aJ=function(o){for(var i=arguments.length,l=Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');var d=o.services,m=d.tileProxy,b=d.pixiRenderer,w=o.utils.colorToHex,A=function(I){rht(N,I);function N(R,D){eht(this,N),R.dataConfig.type==="fasta"&&(R.dataFetcher=new Kct(R.dataConfig));var L=tht(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,R,D));return L.dataFetchingMode=R.dataConfig.type,L.updateOptions(L.options),L}return Jct(N,[{key:"setPixiTexts",value:function(){var D=this;this.pixiTexts=[];var L=["A","T","G","C","N"," "];this.letterWidths=[],this.letterHeights=[],this.maxLetterWidth=0,this.maxLetterHeight=0,L.forEach(function(z){D.pixiTexts[z]=new o.libraries.PIXI.Text(z,D.options.textOption),D.pixiTexts[z].updateText(),D.letterWidths[z]=D.pixiTexts[z].getBounds().width/2,D.letterHeights[z]=D.pixiTexts[z].getBounds().height/2,D.maxLetterWidth=Math.max(D.letterWidths[z],D.maxLetterWidth),D.maxLetterHeight=Math.max(D.letterHeights[z],D.maxLetterHeight),D.pixiTexts[z]=D.pixiTexts[z].texture})}},{key:"updateOptions",value:function(D){this.options=D,this.dataFetchingMode==="fasta"&&(this.options.colorAggregationMode="none"),this.options.textOption={fontSize:D.fontSize*2+"px",fontFamily:D.fontFamily,fill:w(D.fontColor),fontWeight:"bold"},this.notificationText=new o.libraries.PIXI.Text(D.notificationText,{fontSize:"13px",fontFamily:"Arial",fill:3355443}),this.notificationText.anchor.x=.5,this.notificationText.anchor.y=.5,this.colorScale=D.colorScale||sAe(Zut),this.colorScaleRgb=this.colorScale.map(function(L){return a9(L)}),this.barBorderColor=w(D.barBorderColor),this.localColorToHexScale(),this.setPixiTexts()}},{key:"initTile",value:function(D){this.unFlatten(D),this.createColorAndLetterData(D),D.texts=[],D.textGraphics=new o.libraries.PIXI.Graphics,D.rectGraphics=new o.libraries.PIXI.Graphics,D.borderGraphics=new o.libraries.PIXI.Graphics,D.tempGraphics=new o.libraries.PIXI.Graphics,D.graphics.addChild(D.rectGraphics),D.graphics.addChild(D.textGraphics),D.graphics.addChild(D.borderGraphics),D.zoomLevel=parseInt(D.tileId.split(".")[0],10),D.initialized=!0,this.renderTile(D)}},{key:"rerender",value:function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=this.visibleAndFetchedTiles();if(L){this.updateOptions(D),this.refreshTiles();for(var V=0;V<z.length;V++)this.createColorAndLetterData(z[V])}for(var te=0;te<z.length;te++)this.renderTile(z[te])}},{key:"destroyTile",value:function(D){this.rerender(this.options,!1)}},{key:"zoomed",value:function(D,L){this.xScale(D),this.yScale(L),this.refreshTiles(),this.rerender(this.options,!1)}},{key:"hideNotification",value:function(){var D=this.pBorder;D.clear(),D.removeChildren()}},{key:"showNotification",value:function(){this.drawNotification()}},{key:"drawNotification",value:function(){this.notificationText.x=this.position[0]+this.dimensions[0]/2,this.notificationText.y=this.position[1]+this.dimensions[1]/2;var D=this.pBorder;D.clear(),D.removeChildren(),D.beginFill(14737632),D.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1]),D.addChild(this.notificationText)}},{key:"clearTileGraphics",value:function(D){D.rectGraphics.clear(),D.rectGraphics.removeChildren(),D.tempGraphics.clear(),D.borderGraphics.clear(),D.borderGraphics.removeChildren(),D.textGraphics.clear(),D.textGraphics.removeChildren()}},{key:"renderTile",value:function(D){if(D.initialized){this.clearTileGraphics(D),D.svgDataRect=null,D.svgDataText=null,D.drawnAtScale=this._xScale.copy();var L=this.getTilePosAndDimensions(D.tileData.zoomLevel,D.tileData.tilePos,this.tilesetInfo.tile_size),z=L.tileX,V=L.tileWidth;this.drawColoredRectangles(z,V,D),this.drawTextSequence(z,V,D)}}},{key:"localColorToHexScale",value:function(){for(var D={},L=0;L<this.colorScale.length;L++)D[this.colorScale[L]]=w(this.colorScale[L]);this.colorHexMap=D}},{key:"unFlatten",value:function(D){D.matrix||(D.matrix=this.dataFetchingMode==="fasta"?D.matrix=D.tileData.dense:this.simpleUnFlatten(D,D.tileData.dense))}},{key:"simpleUnFlatten",value:function(D,L){for(var z=D.tileData.shape[0],V=D.tileData.shape[1],te=[],fe=0;fe<z;fe++)for(var Y=0;Y<V;Y++){var q=void 0;te[Y]===void 0?q=[]:q=te[Y],q.push(L[V*fe+Y]),te[Y]=q}return te}},{key:"getLetterFromArray",value:function(D){return D===0?"A":D===1?"T":D===2?"G":D===3?"C":D===4?"N":"."}},{key:"createColorAndLetterData",value:function(D){var L=this;if(!D.matrix){console.warn("Data has not been transformed to a matrix yet");return}for(var z=D.matrix,V=[],te=function(q){var K={},ce=z[q].reduce(function(Be,qe){return Be+qe},0);if(ce===1){var re=z[q].indexOf(1);K={letter:L.getLetterFromArray(re),color:L.colorScale[re]}}else if(L.options.colorAggregationMode==="max"){var ge=Math.max.apply(null,z[q]),F=z[q].map(function(Be){return Be===ge?1:0}),Te=F.reduce(function(Be,qe){return Be+qe},0);if(Te===1){var Ce=F.indexOf(1);K={letter:L.getLetterFromArray(Ce),color:L.colorScale[Ce]}}else{var ve=F.reduce(function(Be,qe,We){return qe===1&&Be.push(We),Be},[]),Ke=ve[Math.floor(Math.random()*ve.length)];K={letter:L.getLetterFromArray(Ke),color:L.colorScale[Ke]}}}else if(L.options.colorAggregationMode==="weighted"){var ot=z[q].map(function(Be){return Be/ce}),$={};$.r=L.colorScaleRgb.reduce(function(Be,qe,We){return Be+ot[We]*qe.r},0),$.g=L.colorScaleRgb.reduce(function(Be,qe,We){return Be+ot[We]*qe.g},0),$.b=L.colorScaleRgb.reduce(function(Be,qe,We){return Be+ot[We]*qe.b},0);var lt=o.libraries.PIXI.utils.rgb2hex([Math.round($.r/5)*5/255,Math.round($.g/5)*5/255,Math.round($.b/5)*5/255]),Tt=o.libraries.PIXI.utils.hex2string(lt);L.colorHexMap[Tt]=lt,K={letter:L.getLetterFromArray(0),color:Tt}}V.push(K)},fe=0;fe<z.length;fe++)te(fe);D.colorAndLetterData=V}},{key:"drawTextSequence",value:function(D,L,z){var V=this;z.colorAndLetterData.forEach(function(ot,$){var lt=ot.letter;z.texts[$]=new o.libraries.PIXI.Sprite(V.pixiTexts[lt]),z.texts[$].width=V.letterWidths[lt],z.texts[$].height=V.letterHeights[lt],z.texts[$].letter=lt});var te=this.dimensions[1],fe=z.colorAndLetterData,Y=(this._xScale(D+L)-this._xScale(D))/fe.length,q=Y-this.maxLetterWidth,K=1,ce=1;if(!(q<2)){if(q<5&&q>=2){var re=bU().domain([2,5]).range([0,1]).clamp(!0);K=re(Y-this.maxLetterWidth),ce=K}te-this.maxLetterHeight<0&&(K=0,ce=1),z.borderGraphics.alpha=ce,z.textGraphics.alpha=K;for(var ge=0;ge<fe.length;ge++){var F=ge*Y,Te=z.texts[ge],Ce=this._xScale(D+1)+F,ve=Ce+Y/2-Te.width/2,Ke=this.dimensions[1]/2-Te.height/2;Te.position.x=ve,Te.position.y=Ke,this.addSVGInfoText(z,ve,Ke,z.texts[ge].letter,K),z.textGraphics.addChild(Te),this.options.barBorder&&z.borderGraphics.lineStyle(1,this.barBorderColor).moveTo(Ce,0).lineTo(Ce,te)}}}},{key:"drawColoredRectangles",value:function(D,L,z){for(var V=this.dimensions[1],te=1,fe=z.colorAndLetterData,Y=0;Y<fe.length;Y++){var q=Y*te,K=fe[Y];this.addSVGInfoRect(z,q,0,te,V,K.color),z.tempGraphics.beginFill(this.colorHexMap[K.color]),z.tempGraphics.drawRect(q,0,te,V)}var ce=b.generateTexture(z.tempGraphics,o.libraries.PIXI.SCALE_MODES.NEAREST),re=new o.libraries.PIXI.Sprite(ce);re.width=this._xScale(D+L)-this._xScale(D),re.height=V,re.x=this._xScale(D+1),re.y=0,z.rectGraphics.addChild(re)}},{key:"calculateVisibleTiles",value:function(){var D=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.zoomLevel<this.maxZoom-3&&this.options.colorAggregationMode==="none"){this.showNotification();return}this.hideNotification();var L=1;if(this.tilesetInfo.resolutions){var z=this.tilesetInfo.resolutions.map(function(fe){return+fe}).sort(function(fe,Y){return Y-fe});L=z[this.zoomLevel]}var V=this.calculateTilesFromResolution(L,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.tile_size),te=this.dataFetchingMode==="fasta"?V.map(function(fe){return[D.maxZoom,fe]}):V.map(function(fe){return[D.zoomLevel,fe]});this.setVisibleTiles(te)}}},{key:"calculateTilesFromResolution",value:function(D,L,z,V,te){var fe=te||256,Y=D*fe,q=m.calculateTilesFromResolution(D,L,z,V,fe);if(this.options.extendedPreloading){var K=Math.max(Math.min.apply(null,q)-1,0),ce=Math.min(Math.max.apply(null,q)+1,Math.ceil(V/Y));q.push(K),q.push(ce)}return q}},{key:"addSVGInfoRect",value:function(D,L,z,V,te,fe){D.hasOwnProperty("svgDataRect")&&D.svgDataRect!==null?(D.svgDataRect.barXValues.push(L),D.svgDataRect.barYValues.push(z),D.svgDataRect.barWidths.push(V),D.svgDataRect.barHeights.push(te),D.svgDataRect.barColors.push(fe)):D.svgDataRect={barXValues:[L],barYValues:[z],barWidths:[V],barHeights:[te],barColors:[fe]}}},{key:"addSVGInfoText",value:function(D,L,z,V,te){D.hasOwnProperty("svgDataText")&&D.svgDataText!==null?(D.svgDataText.letterXValues.push(L),D.svgDataText.letterYValues.push(z),D.svgDataText.letter.push(V),D.svgDataText.letterAlpha.push(te)):D.svgDataText={letterXValues:[L],letterYValues:[z],letter:[V],letterAlpha:[te]}}},{key:"setDimensions",value:function(D){var L=this;Xye(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"setDimensions",this).call(this,D);var z=this.visibleAndFetchedTiles();z.map(function(V){return L.initTile(V)})}},{key:"exportSVG",value:function(){var D=this,L=this.visibleAndFetchedTiles();L.map(function(Ge){D.initTile(Ge),D.renderTile(Ge)});var z=null,V=null;V=document.createElement("g"),z=V;var te=Xye(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"superSVG",this).call(this),fe=Qct(te,2);V=fe[0],z=fe[1];var Y=document.createElement("g");if(z.appendChild(Y),Y.setAttribute("transform","translate("+this.pMain.position.x+","+this.pMain.position.y+") scale("+this.pMain.scale.x+","+this.pMain.scale.y+")"),this.zoomLevel<this.maxZoom-3&&this.options.colorAggregationMode==="none"){var q=document.createElement("rect");q.setAttribute("fill","#e0e0e0"),q.setAttribute("stroke","#e0e0e0"),q.setAttribute("x",0),q.setAttribute("y",0),q.setAttribute("height",this.dimensions[1]),q.setAttribute("width",this.dimensions[0]),Y.appendChild(q);var K=document.createElement("text");return K.setAttribute("fill","#33333"),K.setAttribute("x",this.dimensions[0]/2),K.setAttribute("y",this.dimensions[1]/2+5),K.setAttribute("text-anchor","middle"),K.setAttribute("font-family","Arial"),K.setAttribute("font-size","14"),K.innerHTML=this.options.notificationText,Y.appendChild(K),[V,V]}var ce=!0,re=!1,ge=void 0;try{for(var F=this.visibleAndFetchedTiles()[Symbol.iterator](),Te;!(ce=(Te=F.next()).done);ce=!0){var Ce=Te.value,ve=document.createElement("g"),Ke=Ce.rectGraphics.children[0];ve.setAttribute("transform"," translate("+Ke.x+","+Ke.y+") rotate(0) scale("+Ke.scale.x+","+Ke.scale.y+") ");for(var ot=Ce.svgDataRect,$=0;$<ot.barXValues.length;$++){var lt=document.createElement("rect");lt.setAttribute("fill",ot.barColors[$]),lt.setAttribute("stroke",ot.barColors[$]),lt.setAttribute("x",ot.barXValues[$]),lt.setAttribute("y",ot.barYValues[$]),lt.setAttribute("height",ot.barHeights[$]),lt.setAttribute("width",ot.barWidths[$]),this.options.barBorder&&(lt.setAttribute("stroke-width","0.1"),lt.setAttribute("stroke",this.options.barBorderColor)),ve.appendChild(lt)}if(Y.appendChild(ve),Ce.svgDataText!==null){for(var Tt=document.createElement("g"),Be=Ce.svgDataText,qe=0;qe<Be.letterXValues.length;qe++){var We=document.createElement("text");We.setAttribute("fill","#FFFFFF"),We.setAttribute("fill-opacity",Be.letterAlpha[qe]),We.setAttribute("x",Be.letterXValues[qe]),We.setAttribute("y",Be.letterYValues[qe]-1),We.setAttribute("font-family","Arial"),We.setAttribute("font-size","15"),We.setAttribute("font-weight","bold"),We.setAttribute("width",4),We.setAttribute("dy",16),We.innerHTML=Be.letter[qe],Tt.appendChild(We)}Y.appendChild(Tt)}}}catch(Ge){re=!0,ge=Ge}finally{try{!ce&&F.return&&F.return()}finally{if(re)throw ge}}return[V,V]}},{key:"updateTile",value:function(){}},{key:"drawTile",value:function(D){}},{key:"draw",value:function(){}}]),N}(o.tracks.BarTrack);return new(Function.prototype.bind.apply(A,[null].concat(l)))},nht='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>';aJ.config={type:"horizontal-sequence",datatype:["multivec"],local:!1,orientation:"1d-horizontal",thumbnail:new DOMParser().parseFromString(nht,"text/xml").documentElement,availableOptions:["colorAggregationMode","extendedPreloading","labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","notificationText","trackBorderWidth","trackBorderColor","backgroundColor","colorScale","barBorder","barBorderColor","fontSize","fontFamily","fontColor"],defaultOptions:{colorAggregationMode:"none",extendedPreloading:!1,labelPosition:"topLeft",labelColor:"black",labelTextOpacity:.4,notificationText:"Zoom in to see nucleotides...",trackBorderWidth:0,trackBorderColor:"white",backgroundColor:"white",barBorder:!0,barBorderColor:"white",fontSize:16,fontFamily:"Arial",fontColor:"white",colorScale:["#2c7bb6","#abd9e9","#ffffbf","#fdae61","#808080","#DCDCDC"]},optionsInfo:{colorScale:{name:"Color scheme",inlineOptions:{default:{value:["#007FFF","#e8e500","#008000","#FF0038","#800080","#DCDCDC"],name:"DRuMS"},logos:{value:["#22ca03","#c40003","#f6af08","#0000c7","#808080","#DCDCDC"],name:"Logos / IGV"},bluesGreens:{value:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#808080","#DCDCDC"],name:"Blues / Greens  (CB friendly)"},bluesBeiges:{value:["#08519c","#6baed6","#993404","#fe9929","#808080","#DCDCDC"],name:"Blues / Beiges (CB friendly)"}}}}};var Zr={X:{key:"X",name:"Stop codon",nameAbbrev:"Ter",codons:["TAA","TAG","TGA"],color:"#333333"},W:{key:"W",name:"Tryptophan",nameAbbrev:"Trp",essential:!0,codons:["TGG"],property:"aromatic",color:"#abc745",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/trp.png"},C:{key:"C",name:"Cystine",nameAbbrev:"Cys",essential:!1,codons:["TGT","TGC"],property:"sulfur-containing",color:"#e9ae02",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/cys.png"},G:{key:"G",name:"Glycine",nameAbbrev:"Gly",essential:!1,codons:["GGT","GGC","GGA","GGG"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/gly.png"},R:{key:"R",name:"Arginine",nameAbbrev:"Arg",essential:!1,codons:["CGT","CGC","CGA","CGG","AGA","AGG"],property:"basic",color:"#739ed4",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/arg.png"},S:{key:"S",name:"Serine",nameAbbrev:"Ser",essential:!1,codons:["TCT","TCC","TCA","TCG","AGT","AGC"],property:"hydroxylic",color:"#f39bbf",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/ser.png"},T:{key:"T",name:"Threonine",nameAbbrev:"Thr",essential:!0,codons:["ACT","ACC","ACA","ACG"],property:"hydroxylic",color:"#f39bbf",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/thr.png"},A:{key:"A",name:"Alanine",nameAbbrev:"Ala",essential:!1,codons:["GCT","GCC","GCA","GCG"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/ala.png"},P:{key:"P",name:"Proline",nameAbbrev:"Pro",essential:!1,codons:["CCT","CCC","CCA","CCG"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/pro.png"},F:{key:"F",name:"Phenylalanine",nameAbbrev:"Phe",essential:!0,codons:["TTT","TTC"],property:"aromatic",color:"#abc745",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/phe.png"},L:{key:"L",name:"Leucine",nameAbbrev:"Leu",essential:!0,codons:["CTT","CTC","CTA","CTG","TTA","TTG"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/leu.png"},V:{key:"V",name:"Valine",nameAbbrev:"Val",essential:!0,codons:["GTT","GTC","GTA","GTG"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/val.png"},I:{key:"I",name:"Isoleucine",nameAbbrev:"Ile",essential:!0,codons:["ATT","ATC","ATA"],property:"aliphatic",color:"#d81c24",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/ile.png"},M:{key:"M",name:"Methionine",nameAbbrev:"Met",essential:!0,codons:["ATG"],property:"sulfur-containing",color:"#e9ae02",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/met.png"},Q:{key:"Q",name:"Glutamine",nameAbbrev:"Gln",essential:!1,codons:["CAA","CAG"],property:"amidic",color:"#2c3385",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/gln.png"},H:{key:"H",name:"Histidine",nameAbbrev:"His",essential:!0,codons:["CAT","CAC"],property:"basic",color:"#739ed4",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/his.png"},D:{key:"D",name:"Aspartic acid",nameAbbrev:"Asp",essential:!1,codons:["GAT","GAC"],property:"acidic",color:"#e96b17",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/asp.png"},E:{key:"E",name:"Glutamic acid",nameAbbrev:"Glu",essential:!1,codons:["GAA","GAG"],property:"acidic",color:"#e96b17",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/glu.png"},K:{key:"K",name:"Lysine",nameAbbrev:"Lys",essential:!0,codons:["AAA","AAG"],property:"basic",color:"#739ed4",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/lys.png"},N:{key:"N",name:"Asparagine",nameAbbrev:"Asn",essential:!1,codons:["AAT","AAC"],property:"amidic",color:"#2c3385",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/asn.png"},Y:{key:"Y",name:"Tyrosine",nameAbbrev:"Tyr",essential:!1,codons:["TAT","TAC"],property:"aromatic",color:"#abc745",image:"https://aveit.s3.amazonaws.com/higlass/static/amino-acids/tyr.png"}},LH={TTT:Zr.F,TTC:Zr.F,TTA:Zr.L,TTG:Zr.L,TCT:Zr.S,TCC:Zr.S,TCA:Zr.S,TCG:Zr.S,TAT:Zr.Y,TAC:Zr.Y,TAA:Zr.X,TAG:Zr.X,TGT:Zr.C,TGC:Zr.C,TGA:Zr.X,TGG:Zr.W,CTT:Zr.L,CTC:Zr.L,CTA:Zr.L,CTG:Zr.L,CCT:Zr.P,CCC:Zr.P,CCA:Zr.P,CCG:Zr.P,CAT:Zr.H,CAC:Zr.H,CAA:Zr.Q,CAG:Zr.Q,CGT:Zr.R,CGC:Zr.R,CGA:Zr.R,CGG:Zr.R,ATT:Zr.I,ATC:Zr.I,ATA:Zr.I,ATG:Zr.M,ACT:Zr.T,ACC:Zr.T,ACA:Zr.T,ACG:Zr.T,AAT:Zr.N,AAC:Zr.N,AAA:Zr.K,AAG:Zr.K,AGT:Zr.S,AGC:Zr.S,AGA:Zr.R,AGG:Zr.R,GTT:Zr.V,GTC:Zr.V,GTA:Zr.V,GTG:Zr.V,GCT:Zr.A,GCC:Zr.A,GCA:Zr.A,GCG:Zr.A,GAT:Zr.D,GAC:Zr.D,GAA:Zr.E,GAG:Zr.E,GGT:Zr.G,GGC:Zr.G,GGA:Zr.G,GGG:Zr.G};function iht(n){if(Array.isArray(n)){for(var o=0,i=Array(n.length);o<n.length;o++)i[o]=n[o];return i}else return Array.from(n)}function aht(n,o){var i={};return Object.keys(LH).forEach(function(l){var c={};c.sequence=l;var d=new o.libraries.PIXI.Text(LH[l].nameAbbrev,n);d.updateText(),c.width=d.getBounds().width/2,c.height=d.getBounds().height/2,c.texture=d.texture;var m=new o.libraries.PIXI.Text(LH[l].key,n);m.updateText(),c.widthAbbrev=m.getBounds().width/2,c.heightAbbrev=m.getBounds().height/2,c.textureAbbrev=m.texture,i[l]=c}),i}function oJ(n,o,i){for(var l=0;l<n.length;l++)if(i>=n[l]&&i<o[l]){var c={exon:l,start:n[l],end:o[l]};return c}return null}function oht(n,o,i){var l=n+o,c=(3-(i-l)%3)%3;return c}function sht(n,o,i,l,c,d){for(var m=[].concat(iht(d)),b=0;b<m.length;b++){for(var w=!1,A=0;A<n.length;A++){var I=b+c;I>=i&&I>=n[A]&&I<o[A]&&I<l&&(w=!0)}w||(m[b]=".")}return m}function lht(n,o,i){for(var l=0;l<n.length;l++)if(i<n[l]){var c={exon:l,start:n[l],end:o[l]};return c}return null}function Yo(n,o){if(Array.isArray(n)){for(var i=[],l=0;l<n.length;l++)i.push(o-n[l]);return i.sort()}else return o-n}function sJ(n){for(var o=n.split(""),i=[],l=o.length-1;l>=0;l--)o[l].toUpperCase()==="A"?i.push("T"):o[l].toUpperCase()==="T"?i.push("A"):o[l].toUpperCase()==="C"?i.push("G"):o[l].toUpperCase()==="G"?i.push("C"):console.warn("Couldn't convert "+o[l]+" in minus strand conversion");return i.join("")}function uht(n,o,i,l,c,d,m,b,w,A,I){for(var N=o.filter(function(ve){return ve!=="."}),R=0,D=0;D<o.length;D++)if(o[D]!=="."){R=D;break}for(var L=0,z=o.length-1;z>0;z--)if(o[z]!=="."){L=z;break}var V=null,te=null;if(i>0)if(R>0){var fe=oJ(m,b,w+R).exon,Y=fe-1,q=b[Y];V=q-(3-i),te=q}else V=w-(3-i),te=w;var K=null,ce=null;if((N.length+3-i)%3!==0){var re=3-(N.length-i)%3;if(L===o.length-1)K=w+o.length,ce=w+o.length+re;else{var ge=oJ(m,b,w+L).exon,F=ge+1,Te=m[F];K=Te,ce=Te+re}}var Ce=I.getExcessNucleotides(l,c,d,V,te,K,ce).then(function(ve){for(var Ke=[],ot=[],$=0;$<ve.length;$++)if(ve[$].leftOrRight==="left")for(var lt=ve[$].value.split(""),Tt=0;Tt<lt.length;Tt++)Ke.push({pos:V-w+Tt,letter:lt[Tt]});else if(ve[$].leftOrRight==="right")for(var Be=ve[$].value.split(""),qe=0;qe<Be.length;qe++)ot.push({pos:K-w+qe,letter:Be[qe]});var We=cht(Ke,ot,R,o,A,d,c,n,w);return We});return Ce}function cht(n,o,i,l,c,d,m,b,w){for(var A=[],I=n,N=i;N<l.length;N++)l[N]!=="."&&(I.push({pos:N,letter:l[N]}),I.length===3&&(A=A.concat(Yye(I,w,c,d,m,b)),I=[]));return o.length>0&&I.length>0&&(I=I.concat(o),I.length===3&&(A=A.concat(Yye(I,w,c,d,m,b)))),A}function Yye(n,o,i,l,c,d){var m=[],b=n[0].letter.toUpperCase()+n[1].letter.toUpperCase()+n[2].letter.toUpperCase(),w=LH[b];if(!w)return console.warn("Codon "+b+" does not exist. Position: "+n[0].pos),m;if(n[2].pos-n[1].pos===1&&n[1].pos-n[0].pos===1){var A=new d.libraries.PIXI.Sprite(i[b].texture);A.width=i[b].width,A.height=i[b].height;var I=new d.libraries.PIXI.Sprite(i[b].textureAbbrev);I.width=i[b].widthAbbrev,I.height=i[b].heightAbbrev;var N=l==="+"?o+n[0].pos:Yo(o+n[2].pos+1,c),R=l==="+"?o+n[2].pos:Yo(o+n[0].pos+1,c),D={posStart:N,posEnd:R,aminoAcid:w,width:A.width,height:A.height,sprite:A,widthAbbrev:I.width,heightAbbrev:I.height,spriteAbbrev:I};m.push(D)}else if(n[1].pos-n[0].pos>1){var L=new d.libraries.PIXI.Sprite(i[b].texture);L.width=i[b].width,L.height=i[b].height;var z=new d.libraries.PIXI.Sprite(i[b].textureAbbrev);z.width=i[b].widthAbbrev,z.height=i[b].heightAbbrev;var V=l==="+"?o+n[0].pos:Yo(o+n[0].pos+1,c),te=l==="+"?o+n[0].pos:Yo(o+n[0].pos+1,c),fe={posStart:V,posEnd:te,aminoAcid:w,width:z.width,height:z.height,sprite:z,widthAbbrev:z.width,heightAbbrev:z.height,spriteAbbrev:z};m.push(fe);var Y=new d.libraries.PIXI.Sprite(i[b].texture);Y.width=i[b].width,Y.height=i[b].height;var q=new d.libraries.PIXI.Sprite(i[b].textureAbbrev);q.width=i[b].widthAbbrev,q.height=i[b].heightAbbrev;var K=l==="+"?o+n[1].pos:Yo(o+n[2].pos+1,c),ce=l==="+"?o+n[2].pos:Yo(o+n[1].pos+1,c),re={posStart:K,posEnd:ce,aminoAcid:w,width:Y.width,height:Y.height,sprite:Y,widthAbbrev:q.width,heightAbbrev:q.height,spriteAbbrev:q};m.push(re)}else if(n[2].pos-n[1].pos>1){var ge=new d.libraries.PIXI.Sprite(i[b].texture);ge.width=i[b].width,ge.height=i[b].height;var F=new d.libraries.PIXI.Sprite(i[b].textureAbbrev);F.width=i[b].widthAbbrev,F.height=i[b].heightAbbrev;var Te=l==="+"?o+n[0].pos:Yo(o+n[1].pos+1,c),Ce=l==="+"?o+n[1].pos:Yo(o+n[0].pos+1,c),ve={posStart:Te,posEnd:Ce,aminoAcid:w,width:ge.width,height:ge.height,sprite:ge,widthAbbrev:F.width,heightAbbrev:F.height,spriteAbbrev:F};m.push(ve);var Ke=new d.libraries.PIXI.Sprite(i[b].texture);Ke.width=i[b].width,Ke.height=i[b].height;var ot=new d.libraries.PIXI.Sprite(i[b].textureAbbrev);ot.width=i[b].widthAbbrev,ot.height=i[b].heightAbbrev;var $=l==="+"?o+n[2].pos:Yo(o+n[2].pos+1,c),lt=l==="+"?o+n[2].pos:Yo(o+n[2].pos+1,c),Tt={posStart:$,posEnd:lt,aminoAcid:w,width:ot.width,height:ot.height,sprite:ot,widthAbbrev:ot.width,heightAbbrev:ot.height,spriteAbbrev:ot};m.push(Tt)}return m}var hht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function fht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var dht=function(){function n(o,i){fht(this,n);var l=require("@gmod/indexedfasta"),c=l.IndexedFasta,d=new fI(o),m=new fI(i);this.sequenceFile=new c({fasta:d,fai:m})}return hht(n,[{key:"getSubSequence",value:function(i,l,c,d,m){for(var b=[],w=0;w<l.length;w++){var A=Math.min(Math.max(l[w],d),c[w]),I=Math.max(Math.min(c[w],m),l[w]);A>=I||b.push(this.sequenceFile.getSequence(i,A,I).then(function(N){return N}))}return Promise.all(b).then(function(N){return N.join("")})}},{key:"getExcessNucleotides",value:function(i,l,c,d,m,b,w){var A=d,I=m,N=b,R=w;c==="-"&&(A=Yo(m,l),I=Yo(d,l),N=Yo(w,l),R=Yo(b,l));var D=[];return A&&I&&D.push(this.sequenceFile.getSequence(i,A,I).then(function(L){return{leftOrRight:"left",value:c==="+"?L:sJ(L)}})),N&&R&&D.push(this.sequenceFile.getSequence(i,N,R).then(function(L){return{leftOrRight:"right",value:c==="+"?L:sJ(L)}})),Promise.all(D).then(function(L){return L})}},{key:"getSequence",value:function(i,l,c){var d=[];return d.push(this.sequenceFile.getSequence(i,l,c).then(function(m){return m})),Promise.all(d).then(function(m){return m})}},{key:"getTile",value:function(i,l,c){var d=+c.max_width/Math.pow(2,+i),m=c.min_pos[0]+l*d,b=c.min_pos[0]+(l+1)*d,w=c.chrom_sizes.split("	").map(function(q){return+q}),A=c.chrom_names.split("	"),I=[];this.chromInfo=this.parseChromsizes(A,w);for(var N=this.chromInfo,R=N.chromLengths,D=N.cumPositions,L=0;L<D.length;L++){var z=D[L].chr,V=D[L].pos,te=D[L].pos+R[z];if(V<=m&&m<te)if(b>te)I.push(this.sequenceFile.getSequence(z,m-V,te-V).then(function(q){return q})),m=te;else{var fe=Math.ceil(b-V),Y=Math.floor(m-V);I.push(this.sequenceFile.getSequence(z,Y,fe).then(function(q){return q}));break}}return Promise.all(I).then(function(q){return q})}},{key:"parseChromsizes",value:function(i,l){for(var c=[],d={},m={},b=0,w=0;w<l.length;w++){var A=Number(l[w]);b+=A;var I={id:w,chr:i[w],pos:b-A};c.push(I),m[I.chr]=I,d[i[w]]=A}return{cumPositions:c,chrPositions:m,totalLength:b,chromLengths:d}}}]),n}(),qye=function(){function n(o,i){var l=[],c=!0,d=!1,m=void 0;try{for(var b=o[Symbol.iterator](),w;!(c=(w=b.next()).done)&&(l.push(w.value),!(i&&l.length===i));c=!0);}catch(A){d=!0,m=A}finally{try{!c&&b.return&&b.return()}finally{if(d)throw m}}return l}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return n(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}(),Zye=function n(o,i,l){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(c===void 0){var d=Object.getPrototypeOf(o);return d===null?void 0:n(d,i,l)}else{if("value"in c)return c.value;var m=c.get;return m===void 0?void 0:m.call(l)}};function mht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function ght(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:n}function vht(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}var lJ=function n(o){for(var i=arguments.length,l=Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');var d=o.services.tileProxy,m=o.utils,b=m.colorToHex,w=m.trackUtils,A=m.absToChr,I=b("#ffffff");b("#999999");function N(q,K,ce){var re=ce.flipText,ge=ce.fontSize,F=ce.fontFamily,Te=ce.maxTexts;K.texts={},K.textWidths={},K.textHeights={},K.rectGraphics=new o.libraries.PIXI.Graphics,K.rectMaskGraphics=new o.libraries.PIXI.Graphics,K.codonSeparatorGraphics=new o.libraries.PIXI.Graphics,K.codonTextGraphics=new o.libraries.PIXI.Graphics,K.labelBgGraphics=new o.libraries.PIXI.Graphics,K.labelGraphics=new o.libraries.PIXI.Graphics,K.graphics.addChild(K.rectGraphics),K.graphics.addChild(K.rectMaskGraphics),K.graphics.addChild(K.codonSeparatorGraphics),K.graphics.addChild(K.codonTextGraphics),K.graphics.addChild(K.labelBgGraphics),K.graphics.addChild(K.labelGraphics),K.rectGraphics.mask=K.rectMaskGraphics,K.tileData.sort&&(K.tileData.sort(function(Ce,ve){return ve.importance-Ce.importance}),K.tileData.forEach(function(Ce,ve){var Ke=Ce.fields,ot=q.formatTranscriptData(Ke),$=ot.transcriptName,lt=ot.transcriptId,Tt=ot.strand;if(Ce.transcriptId=lt,!(ve>=Te)){var Be=new o.libraries.PIXI.Text($,{fontSize:ge+"px",fontFamily:F,fill:q.colors.labelFont});Be.interactive=!0,re&&(Be.scale.x=-1),Be.anchor.x=0,Be.anchor.y=.5,Be.visible=!1,K.texts[lt]=Be,K.texts[lt].strand=Tt,K.labelGraphics.addChild(Be)}}),R(q,K),K.initialized=!0)}function R(q,K){if(!(q.zoomLevel!==q.tilesetInfo.max_zoom||q.sequenceLoader===void 0)){K.aaInfo={},K.aaInfo.exonOffsets={},K.aaInfo.nucSequences={},K.aaInfo.aminoAcids={},K.aaInfo.tileOffset=0;var ce=q.tilesetInfo.chrom_sizes.split("	").map(function(Tt){return+Tt}),re=q.tilesetInfo.chrom_names.split("	"),ge=q.sequenceLoader.parseChromsizes(re,ce),F=+K.tileId.split(".")[1],Te=+K.tileId.split(".")[0],Ce=q.sequenceLoader.getTile(Te,F,q.tilesetInfo),ve=+q.tilesetInfo.max_width/Math.pow(2,Te),Ke=q.tilesetInfo.min_pos[0]+F*ve,ot=q.tilesetInfo.min_pos[0]+(F+1)*ve,$=+A(Ke,ge)[1],lt=+A(ot,ge)[1];K.tileData.forEach(function(Tt){var Be=Tt.fields,qe=q.formatTranscriptData(Be),We=qe.transcriptId,Ge=ge.chromLengths[qe.chromName],nt=$,St=lt;if(!(qe.startCodonPos==="."||qe.stopCodonPos===".")){var Gt=qe.strand;K.aaInfo.exonOffsets[We]=[],K.aaInfo.nucSequences[We]=[],K.aaInfo.aminoAcids[We]=[];var Zt=qe.exonStarts,ir=qe.exonEnds,zt=Zt,Qt=ir,Wt=qe.startCodonPos,yr=qe.stopCodonPos;Gt==="-"&&(nt=Yo(St,Ge),St=Yo(nt,Ge),zt=Yo(ir,Ge),Qt=Yo(Zt,Ge),Wt=Yo(Wt,Ge),yr=Yo(yr,Ge));for(var br=0,Pt=0;Pt<zt.length;Pt++)if(zt[Pt]<=Wt)K.aaInfo.exonOffsets[We].push(0);else{var Dr=Qt[Pt-1]-Math.max(zt[Pt-1],Wt),Gr=(3-Dr%3)%3;br+=Gr;var rn=br%3;K.aaInfo.exonOffsets[We].push(rn)}Ce.then(function(yi){var ra=yi[0];Gt==="-"&&(ra=sJ(ra));var na=sht(zt,Qt,Wt,yr,nt,ra);if(na.filter(function(io){return io!=="."}).length!==0){K.aaInfo.nucSequences[We].push(na);var Co=null;if(na[0]!=="."){Co=oJ(zt,Qt,nt).exon;var Ta=Math.max(Wt,zt[Co]),mo=K.aaInfo.exonOffsets[We][Co];K.aaInfo.tileOffset=oht(Ta,mo,nt)}else if(nt<Wt)K.aaInfo.tileOffset=0;else{var ga=lht(zt,Qt,nt);K.aaInfo.tileOffset=ga!==null&&nt>Wt?K.aaInfo.exonOffsets[We][ga.exon]:0}uht(o,na,K.aaInfo.tileOffset,qe.chromName,Ge,Gt,zt,Qt,nt,q.pixiTexts,q.sequenceLoader).then(function(io){K.aaInfo.aminoAcids[We]=io,q.draw()})}})}})}}function D(q,K,ce,re,ge,F,Te,Ce){var ve=F-Te/2,Ke=+K.tileId.split(".")[1],ot=+K.tileId.split(".")[0],$=+q.tilesetInfo.max_width/Math.pow(2,ot),lt=q.tilesetInfo.min_pos[0]+Ke*$,Tt=q.tilesetInfo.min_pos[0]+(Ke+1)*$,Be=q.transcriptInfo[ce].exonStarts,qe=q.transcriptInfo[ce].exonEnds,We=q.transcriptInfo[ce].startCodonPos!=="."&&q.transcriptInfo[ce].stopCodonPos!==".",Ge=We?q.transcriptInfo[ce].startCodonPos+ge:-1,nt=We?q.transcriptInfo[ce].stopCodonPos+ge:-1,St=q.transcriptInfo[ce].txStart+ge,Gt=q.transcriptInfo[ce].txEnd+ge,Zt=Be.map(function(tn){return+tn+ge}),ir=qe.map(function(tn){return+tn+ge});We&&(Zt.push(Ge,nt),ir.push(Ge,nt),Zt.sort(),ir.sort());var zt=q._xScale(St+1),Qt=q._xScale(Gt+1),Wt=Qt-zt,yr=F,br=[],Pt=[];re.beginFill(q.colors.intron);var Dr=[zt,yr-1,zt+Wt,yr-1,zt+Wt,yr+1,zt,yr+1];re.drawPolygon(Dr),br.push([zt,zt+Wt,ve,ve+Te]),Pt.push({rect:Dr,color:q.colors.intronHEX,paintOrder:0});for(var Gr=0;Gr<Zt.length;Gr++){var rn=Zt[Gr],yi=ir[Gr];if(!(yi<lt||rn>Tt)){var ra=!We||Ce==="+"&&(yi<=Ge||rn>=nt)||Ce==="-"&&(rn>=Ge||yi<=nt),na=ra?q.colors.utr:q.colors[Ce],Co=ra?q.options.utrColor:q.colors[Ce+"HEX"];re.beginFill(na);var Ta=q._xScale(rn+1),mo=Math.max(2,q._xScale(yi+1)-q._xScale(rn+1)),ga=zt,io=Qt,Ea=null,va=null;if(Ce==="+"){var Qi=Math.min(Ta,io),xe=Math.max(Qi-5,zt),le=Math.min(Ta+mo,io),de=Math.max(le-5,zt);Ea=[Qi,ve,de,ve,le,ve+Te/2,de,ve+Te,xe,ve+Te,Qi,ve+Te/2,xe,ve],va=[Qi,le,ve,ve+Te]}else{var $e=Math.max(Ta,ga),Qe=Math.min($e+5,Qt),pt=Math.min(Math.max(Ta+mo,ga),Qt),Rt=Math.min(pt+5,Qt);Ea=[$e,ve+Te/2,Qe,ve,Rt,ve,pt,ve+Te/2,Rt,ve+Te,Qe,ve+Te,$e,ve+Te/2],va=[$e,pt,ve,ve+Te]}re.drawPolygon(Ea),br.push(va),Pt.push({rect:Ea,color:Co,paintOrder:1})}}var Rr=br.map(function(tn){return[tn,q.transcriptInfo[ce]]});K.allExonsForMouseOver=K.allExonsForMouseOver.concat(Rr),K.allExonsForSVG=K.allExonsForSVG.concat(Pt)}function L(q,K,ce,re,ge,F){q.forEach(function(Te){var Ce=Te.fields,ve=+Te.chrOffset,Ke=K.transcriptId(Ce);if(!(K.areTranscriptsHidden&&K.transcriptInfo[Ke].displayOrder!==0)&&K.transcriptInfo[Ke]){var ot=K.transcriptInfo[Ke].displayOrder*(ge+F);K.options.showToggleTranscriptsButton&&(ot+=K.toggleButtonHeight),D(K,ce,Ke,ce.rectGraphics,ve,re+ot,ge,Te.strand||Te.fields[5])}})}function z(q,K){var ce=w.getTilePosAndDimensions(q.tilesetInfo,K.tileId),re=ce.tileX,ge=ce.tileWidth;K.rectMaskGraphics.clear();var F=Math.floor(Math.random()*Math.pow(16,6));K.rectMaskGraphics.beginFill(F,.3);var Te=q._xScale(re),Ce=0,ve=q._xScale(re+ge)-q._xScale(re),Ke=q.dimensions[1];K.rectMaskGraphics.drawRect(Te,Ce,ve,Ke)}var V=function(K,ce,re){re==="over"?(ce.buttons.pToggleButton.children[0].alpha=.8,document.body.style.cursor="pointer"):re==="out"&&(ce.buttons.pToggleButton.children[0].alpha=.5,document.body.style.cursor="default"),requestAnimationFrame(ce.animate)},te=function(K,ce){if(ce.areTranscriptsHidden)ce.buttons.pToggleButton.children[0].text="SHOW FEWER TRANSCRIPTS...",ce.areTranscriptsHidden=!1;else{var re=Object.keys(ce.transcriptInfo).length-ce.transcriptPositionInfo[0].length,ge=Math.max(0,re);ce.buttons.pToggleButton.children[0].text="SHOW "+ge+" MORE TRANSCRIPTS...",ce.areTranscriptsHidden=!0}ce.pubSub.publish("trackDimensionsModified",{height:ce.computeTrackHeight(),resizeParentDiv:!0,trackId:ce.trackId,viewId:ce.viewId})};function fe(q){if(!(!q.options.showToggleTranscriptsButton||q.hasToggleBtnBeenRendered)){var K=q.buttons.pToggleButton;q.pForeground.removeChildren(),q.pForeground.addChild(K),K.clear(),K.removeChildren();var ce=new o.libraries.PIXI.Text("SHOW FEWER TRANSCRIPTS...",{fontSize:"10px",fontFamily:q.options.fontFamily,fontWeight:"500",fill:q.colors.black});ce.interactive=!0,ce.buttonMode=!0,ce.mouseover=function(re){return V(re,q,"over")},ce.mouseout=function(re){return V(re,q,"out")},ce.pointerup=function(re){return te(re,q)},ce.alpha=.5,ce.anchor.x=.5,ce.anchor.y=.5,ce.position.x=q.dimensions[0]/2,ce.position.y=q.toggleButtonHeight/2,K.addChild(ce),q.hasToggleBtnBeenRendered=!0}}var Y=function(q){vht(K,q);function K(ce,re){mht(this,K);var ge=ght(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ce,re)),F=ce.animate,Te=ce.viewUid;ge.trackId=ge.id,ge.viewId=Te,ge.animate=F,ge.options=re,ge.initOptions(),ge.numTranscriptRows=0,ge.trackHeight=0,ge.trackHeightOld=0,ge.areTranscriptsHidden=ge.options.startCollapsed,ge.areCodonsShown=!1,ge.transcriptInfo={},ge.transcriptSequences={},ge.buttons={};var Ce=new o.libraries.PIXI.Graphics;return Ce.interactive=!0,Ce.buttonMode=!0,ge.buttons.pToggleButton=Ce,ge}return pht(K,[{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.transcriptHeight=+this.options.transcriptHeight,this.transcriptSpacing=+this.options.transcriptSpacing,this.geneStrandHSpacing=this.transcriptSpacing/2,this.transcriptHHeight=this.transcriptHeight/2,this.trackHeightAdjustment=this.options.trackHeightAdjustment==="automatic",this.toggleButtonHeight=26,this.minCodonDistance=15,this.codonTextOptions={fontSize:this.fontSize*2+"px",fontFamily:this.options.fontFamily,fill:I,fontWeight:"bold"},this.options.sequenceData!==void 0&&(this.sequenceLoader=new dht(this.options.sequenceData.fastaUrl,this.options.sequenceData.faiUrl),this.pixiTexts||(this.pixiTexts=aht(this.codonTextOptions,o))),this.colors={},this.colors["+"]=b(this.options.plusStrandColor),this.colors["-"]=b(this.options.minusStrandColor),this.colors["+HEX"]=this.options.plusStrandColor,this.colors["-HEX"]=this.options.minusStrandColor,this.colors.utr=b(this.options.utrColor),this.colors.labelFont=b(this.options.labelFontColor),this.colors.black=b("#000000"),this.colors.intron=b("#CFCFCF"),this.colors.intronHEX="#CFCFCF",this.colors.labelBackgroundPlus=b(this.options.labelBackgroundPlusStrandColor),this.colors.labelBackgroundMinus=b(this.options.labelBackgroundMinusStrandColor),this.colors.labelStrokePlus=b(this.options.labelStrokePlusStrandColor),this.colors.labelStrokeMinus=b(this.options.labelStrokeMinusStrandColor),this.colors.background=b(this.options.backgroundColor)}},{key:"initTile",value:function(re){N(this,re,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:this.options.fontFamily,maxTexts:this.options.maxTexts}),this.rerender(this.options,!0)}},{key:"destroyTile",value:function(re){re.rectGraphics.destroy(),re.rectMaskGraphics.destroy(),re.labelGraphics.removeChildren(),re.labelGraphics.destroy(),re.labelBgGraphics.destroy(),re.codonSeparatorGraphics.destroy(),re.codonTextGraphics.removeChildren(),re.codonTextGraphics.destroy(),re.graphics.destroy(),re=null}},{key:"computeTrackHeight",value:function(){var re=0,ge=10;if(this.areTranscriptsHidden)re=this.toggleButtonHeight+Math.min(1,this.numTranscriptRows)*(this.transcriptHeight+this.transcriptSpacing)+ge;else{var F=this.options.showToggleTranscriptsButton?this.toggleButtonHeight:0;re=this.numTranscriptRows*(this.transcriptHeight+this.transcriptSpacing)+F+ge}return this.trackHeightOld=this.trackHeight,this.trackHeight=re,re}},{key:"adjustTrackHeight",value:function(){return this.computeTrackHeight(),this.trackHeightOld===this.trackHeight?!1:(this.pubSub.publish("trackDimensionsModified",{height:this.trackHeight,resizeParentDiv:!0,trackId:this.trackId,viewId:this.viewId}),!0)}},{key:"formatTranscriptData",value:function(re){var ge=re[5],F=re[12]==="."?".":ge==="+"?+re[12]+2:+re[12]-1,Te=re[11]==="."?".":ge==="+"?+re[11]-1:+re[11]+2,Ce=re[9].split(",").map(function(lt){return+lt-1}),ve=re[10].split(",").map(function(lt){return+lt}),Ke=+re[1]-1,ot=+re[2]-1,$={transcriptId:this.transcriptId(re),transcriptName:re[3],txStart:Ke,txEnd:ot,strand:ge,chromName:re[0],codingType:re[8],exonStarts:Ce,exonEnds:ve,startCodonPos:Te,stopCodonPos:F,importance:+re[4]};return $}},{key:"updateTranscriptInfo",value:function(){var re=this,ge={};this.visibleAndFetchedTiles().forEach(function(Ke){Ke.tileData.forEach(function(ot){ge[ot.transcriptId]=ot.fields})});var F=[];for(var Te in ge)F.push(ge[Te]);if(this.transcriptInfo={},this.transcriptPositionInfo={},this.numTranscriptRows=0,F.sort(function(Ke,ot){return+Ke[1]-ot[1]}).forEach(function(Ke){var ot=re.calculateTranscriptRowNumber(re.transcriptPositionInfo,+Ke[1],+Ke[2]);re.transcriptPositionInfo[ot]===void 0&&(re.transcriptPositionInfo[ot]=[]),re.transcriptPositionInfo[ot].push([+Ke[1],+Ke[2],Ke[3]]);var $=re.formatTranscriptData(Ke),lt={transcriptId:$.transcriptId,transcriptName:$.transcriptName,txStart:$.txStart,txEnd:$.txEnd,strand:$.strand,chromName:$.chromName,codingType:$.codingType,exonStarts:$.exonStarts,exonEnds:$.exonEnds,startCodonPos:$.startCodonPos,stopCodonPos:$.stopCodonPos,displayOrder:ot,importance:$.importance};re.transcriptInfo[lt.transcriptId]=lt}),this.numTranscriptRows=Object.keys(this.transcriptPositionInfo).length,this.areTranscriptsHidden&&this.buttons.pToggleButton.children[0]&&this.transcriptPositionInfo[0]){var Ce=Object.keys(this.transcriptInfo).length-this.transcriptPositionInfo[0].length,ve=Math.max(0,Ce);this.buttons.pToggleButton.children[0].text="SHOW "+ve+" MORE TRANSCRIPTS..."}}},{key:"calculateTranscriptRowNumber",value:function(re,ge,F){for(var Te=Object.keys(re).length,Ce=0;Ce<Te;Ce++){var ve=!0;if(re[Ce].forEach(function(Ke){var ot=Ke[0],$=Ke[1];(ot<=ge&&ge<=$||ot<=F&&F<=$)&&(ve=!1)}),ve)return Ce}return Te}},{key:"rerender",value:function(re,ge){var F=this,Te=JSON.stringify(re);!ge&&Te===this.prevOptions||(this.options=re,this.initOptions(),this.prevOptions=Te,fe(this),this.updateTranscriptInfo(),!(this.trackHeightAdjustment&&this.adjustTrackHeight())&&this.visibleAndFetchedTiles().forEach(function(Ce){F.renderTile(Ce)}))}},{key:"drawTile",value:function(){}},{key:"transcriptId",value:function(re){return re[7]+"_"+re[0]+"_"+re[1]+"_"+re[2]}},{key:"exonId",value:function(re,ge,F){return re[7]+"_"+re[0]+"_"+re[1]+"_"+re[2]+"_"+ge+"_"+F}},{key:"renderTile",value:function(re){if(re.initialized){re.allExonsForMouseOver=[],re.allExonsForSVG=[],re.drawnAtScale=this._xScale.copy(),re.rectGraphics.removeChildren(),re.rectGraphics.clear(),re.labelBgGraphics.clear();var ge=re.tileData.filter(function(ve){return ve.type!=="filler"&&(ve.strand==="+"||ve.fields[5]==="+")}),F=re.tileData.filter(function(ve){return ve.type!=="filler"&&(ve.strand==="-"||ve.fields[5]==="-")}),Te=this.transcriptHeight/2+this.transcriptSpacing/2,Ce=[this,re,Te,this.transcriptHeight,this.transcriptSpacing];L.apply(void 0,[ge].concat(Ce)),L.apply(void 0,[F].concat(Ce)),z(this,re),w.stretchRects(this,[function(ve){return ve.rectGraphics},function(ve){return ve.rectMaskGraphics}])}}},{key:"calculateZoomLevel",value:function(){var re=d.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),ge=Math.min(re,this.maxZoom);return ge=Math.max(ge,0),ge}},{key:"draw",value:function(){w.stretchRects(this,[function(re){return re.rectGraphics},function(re){return re.rectMaskGraphics}]),this.areCodonsShown=!1,this.drawLabels(),this.drawCodonSeparators(),this.drawCodonTexts(),requestAnimationFrame(this.animate)}},{key:"drawCodonTexts",value:function(){var re=this;Object.values(this.fetchedTiles).filter(function(ge){return ge.drawnAtScale}).forEach(function(ge){if(!(!ge.initialized||!ge.aaInfo||!ge.aaInfo.aminoAcids)){ge.codonTextGraphics.clear(),ge.codonTextGraphics.removeChildren();var F=1,Te=re._xScale(3)-re._xScale(0);if(!(Te<re.minCodonDistance)){if(Te<re.minCodonDistance+3&&Te>=re.minCodonDistance){var Ce=bU().domain([re.minCodonDistance,re.minCodonDistance+3]).range([0,1]).clamp(!0);F=Ce(Te)}var ve=ge.codonTextGraphics;ve.beginFill(I),ve.alpha=F,ge.tileData.forEach(function(Ke){var ot=Ke.transcriptId;if(!(!re.transcriptInfo[ot]||!ge.aaInfo.aminoAcids[ot])){var $=re.transcriptInfo[ot];if(!(re.areTranscriptsHidden&&$.displayOrder!==0)){var lt=+Ke.chrOffset,Tt=ge.aaInfo.aminoAcids[ot],Be=$.displayOrder*(re.transcriptHeight+re.transcriptSpacing)+re.transcriptHeight/2+re.transcriptSpacing/2-re.fontSize/2-1;re.options.showToggleTranscriptsButton&&(Be+=re.toggleButtonHeight);for(var qe=0,We=Tt.length;qe<We;++qe){var Ge=Tt[qe],nt=re._xScale(Ge.posStart+lt+1),St=re._xScale(Ge.posEnd+lt+1);if(!(St<0||nt>re.dimensions[0]))if(Te<re.minCodonDistance+10){var Gt=re._xScale((Ge.posStart+Ge.posEnd+1)/2+lt+1)-Ge.widthAbbrev/2;Ge.spriteAbbrev.position.x=Gt,Ge.spriteAbbrev.position.y=Be,ve.addChild(Ge.spriteAbbrev)}else{var Zt=re._xScale((Ge.posStart+Ge.posEnd+1)/2+lt+1)-Ge.width/2;Ge.sprite.position.x=Zt,Ge.sprite.position.y=Be,ve.addChild(Ge.sprite)}}}}})}}})}},{key:"drawCodonSeparators",value:function(){var re=this;Object.values(this.fetchedTiles).filter(function(ge){return ge.drawnAtScale}).forEach(function(ge){if(!(!ge.initialized||!ge.aaInfo||!ge.aaInfo.aminoAcids)){ge.allCodonsForMouseOver=[],ge.codonSeparatorGraphics.clear();var F=1,Te=re._xScale(3)-re._xScale(0);if(!(Te<re.minCodonDistance)){if(Te<re.minCodonDistance+3&&Te>=re.minCodonDistance){var Ce=bU().domain([re.minCodonDistance,re.minCodonDistance+3]).range([0,1]).clamp(!0);F=Ce(Te)}re.areCodonsShown=!0;var ve=ge.codonSeparatorGraphics;ve.beginFill(I),ve.alpha=F,ge.tileData.forEach(function(Ke){var ot=Ke.transcriptId;if(!(!re.transcriptInfo[ot]||!ge.aaInfo.aminoAcids[ot])){var $=re.transcriptInfo[ot];if(!(re.areTranscriptsHidden&&$.displayOrder!==0)){var lt=+Ke.chrOffset,Tt=ge.aaInfo.aminoAcids[ot],Be=$.displayOrder*(re.transcriptHeight+re.transcriptSpacing)+re.transcriptHeight/2+re.transcriptSpacing/2;re.options.showToggleTranscriptsButton&&(Be+=re.toggleButtonHeight);for(var qe=Be-re.transcriptHeight/2,We=Be+re.transcriptHeight/2,Ge=0,nt=Tt.length;Ge<nt;++Ge){var St=Tt[Ge],Gt=re._xScale(St.posStart+lt+1),Zt=re._xScale(St.posEnd+lt+2);if(!(Zt<0||Gt>re.dimensions[0])){var ir=[Gt,Zt,qe,We],zt=[ir,St.aminoAcid];if(ge.allCodonsForMouseOver.push(zt),!($.strand==="+"&&St.posStart===$.startCodonPos||$.strand==="+"&&$.exonStarts.includes(St.posStart)||$.strand==="-"&&St.posEnd+1===$.startCodonPos||$.strand==="-"&&$.exonEnds.includes(St.posEnd+1))){var Qt=$.strand==="+"?Gt:Zt,Wt=Qt,yr=Wt,br=Wt,Pt=Wt;$.strand==="+"?(yr=yr-5,br=br+2,Pt=Pt-3):(yr=yr+5,br=br-2,Pt=Pt+3);var Dr=[Wt,qe,Pt,qe,br,Be,Pt,We,yr,We,Wt,Be,yr,qe];ve.drawPolygon(Dr)}}}}}})}}})}},{key:"drawLabels",value:function(){var re=this;this.allTexts=[],this.allBoxes=[];var ge=[];Object.values(this.fetchedTiles).filter(function(F){return F.drawnAtScale}).forEach(function(F){F.labelBgGraphics.clear(),F.initialized&&F.tileData.forEach(function(Te){if(F.texts){var Ce=Te.transcriptId;if(re.transcriptInfo[Ce]!==void 0){var ve=re.transcriptInfo[Ce],Ke=F.texts[Ce];if(Ke){if(re.areTranscriptsHidden&&ve.displayOrder!==0){Ke.visible=!1;return}if(!F.textWidths[Ce]){var ot=Ke.getBounds().width,$=Ke.getBounds().height;F.textHeights[Ce]=$,F.textWidths[Ce]=ot}var lt=3,Tt=3,Be=5,qe=+Te.chrOffset,We=ve.txStart+qe,Ge=ve.txEnd+qe,nt=ve.displayOrder*(re.transcriptHeight+re.transcriptSpacing);re.options.showToggleTranscriptsButton&&(nt+=re.toggleButtonHeight);var St=re.transcriptHeight/2+re.transcriptSpacing/2+nt;ve.strand==="+"?Ke.position.x=Math.max(re._xScale(re.xScale().domain()[0])+lt,re._xScale(We+1)-F.textWidths[Ce]-2*lt-Tt):Ke.position.x=Math.max(re._xScale(re.xScale().domain()[0])+lt+Be,re._xScale(We+1)-F.textWidths[Ce]-2*lt);var Gt=ve.strand==="+"?F.textWidths[Ce]+re.transcriptHeight/2+2*lt-Tt:F.textWidths[Ce]+lt;Ke.position.x=Math.min(Ke.position.x,re._xScale(Ge+1)-Gt),Ke.position.y=St;var Zt=!0,ir=ve.displayOrder;re.transcriptPositionInfo[ir].filter(function(zt){return zt[1]<ve.txStart}).forEach(function(zt){var Qt=re._xScale(zt[1]+qe+1);Qt>Ke.position.x-4*lt&&(Zt=!1)}),Zt?(Ke.visible=!0,re.allBoxes.push([Ke.position.x-lt,St,F.textWidths[Ce]+2*lt,re.transcriptHeight,ve.transcriptName]),re.allTexts.push({importance:ve.importance,text:Ke,caption:ve.transcriptName,strand:ve.strand}),ge.push(F.labelBgGraphics)):Ke.visible=!1}}}})}),this.renderTextBg(this.allBoxes,this.allTexts,ge)}},{key:"renderTextBg",value:function(re,ge,F){var Te=this;ge.forEach(function(Ce,ve){if(Ce.text.visible&&re[ve]&&F[ve]){var Ke=qye(re[ve],4),ot=Ke[0],$=Ke[1],lt=Ke[2],Tt=Ke[3],Be=1,qe=ot,We=qe+Be,Ge=ot+lt,nt=Ge-Be,St=$-Tt/2,Gt=St+Be,Zt=$+Tt/2,ir=Zt-Be;if(Ce.strand==="+"){F[ve].beginFill(Te.colors.labelStrokePlus);var zt=[qe,St,Ge,St,Ge+5,$,Ge,Zt,qe,Zt];F[ve].drawPolygon(zt),F[ve].beginFill(Te.colors.labelBackgroundPlus);var Qt=[We,Gt,Ge,Gt,nt+3,$,Ge,ir,We,ir];F[ve].drawPolygon(Qt)}else{F[ve].beginFill(Te.colors.background);var Wt=[qe-5,St,Ge,St,Ge,Zt,qe-5,Zt];F[ve].drawPolygon(Wt),F[ve].beginFill(Te.colors.labelStrokeMinus);var yr=[qe-5,$,qe,St,Ge,St,Ge,Zt,ot,Zt];F[ve].drawPolygon(yr),F[ve].beginFill(Te.colors.labelBackgroundMinus);var br=[We-3,$,ot,Gt,nt,Gt,nt,ir,ot,ir];F[ve].drawPolygon(br)}}})}},{key:"hideTexts",value:function(re){re.forEach(function(ge,F){ge.visible=!1})}},{key:"setPosition",value:function(re){Zye(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"setPosition",this).call(this,re);var ge=qye(this.position,2);this.pMain.position.x=ge[0],this.pMain.position.y=ge[1]}},{key:"setDimensions",value:function(re){this.updateTranscriptInfo(),Zye(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"setDimensions",this).call(this,re),this.rerender(this.options,!0)}},{key:"zoomed",value:function(re,ge){this.xScale(re),this.yScale(ge),this.refreshTiles(),this.draw()}},{key:"isPointInRectangle",value:function(re,ge){return re[0]<ge[0]&&re[1]>ge[0]&&re[2]<ge[1]&&re[3]>ge[1]}},{key:"getMouseOverHtml",value:function(re,ge){if(!this.tilesetInfo)return"";var F=[re,ge],Te=!0,Ce=!1,ve=void 0;try{for(var Ke=this.visibleAndFetchedTiles()[Symbol.iterator](),ot;!(Te=(ot=Ke.next()).done);Te=!0){var $=ot.value;if(!$.allExonsForMouseOver)return;for(var lt=0;lt<$.allExonsForMouseOver.length;lt++){var Tt=$.allExonsForMouseOver[lt][0];if(this.isPointInRectangle(Tt,F)){var Be=$.allExonsForMouseOver[lt][1];if(this.areCodonsShown)for(var qe=0;qe<$.allCodonsForMouseOver.length;qe++){var We=$.allCodonsForMouseOver[qe][0];if(this.isPointInRectangle(We,F)){var Ge=$.allCodonsForMouseOver[qe][1];if(Ge.key==="X")return`
                      <div style="text-align: center; padding:10px;">
                        <div style="text-transform: uppercase;">
                          <b>`+Ge.name+`</b>
                        </div>
                        <div style="font-size: 10px;">
                          `+Ge.codons.join(", ")+`
                        </div>
                      </div>
                    `;var nt=Ge.essential?"essential":"non-essential";return`
                    <div style="text-align: center; padding:10px;">
                      <div>
                        <img class="fit-picture" 
                             src="`+Ge.image+`" 
                             style="width:125px;height:125px"
                             alt="`+Ge.name+`">
                      </div>
                      <div style="text-transform: uppercase; padding-top:6px;">
                        <b>`+Ge.name+`</b>
                      </div>
                      <div style="padding-top:0px;">
                        <i>`+Ge.property+", "+nt+`</i>
                      </div>
                      <div style="font-size: 10px;">
                        `+Ge.codons.join(", ")+`
                      </div>
                    </div>
                  `}}else return`
                <div>
                  <div><b>Transcript: `+Be.transcriptName+`</b></div>
                  <div>Position: `+Be.chromName+":"+Be.txStart+"-"+Be.txEnd+`</div>
                  <div>Strand: `+Be.strand+`</div>
                </div>
              `}}}}catch(St){Ce=!0,ve=St}finally{try{!Te&&Ke.return&&Ke.return()}finally{if(Ce)throw ve}}return""}},{key:"exportSVG",value:function(){var re=this,ge=null,F=null;F=document.createElement("g"),ge=F;var Te=qee.nice(),Ce=document.createElement("g");Ce.setAttribute("style","clip-path:url(#"+Te+");"),ge.appendChild(Ce);var ve=document.createElementNS("http://www.w3.org/2000/svg","clipPath");ve.setAttribute("id",Te),ge.appendChild(ve);var Ke=document.createElementNS("http://www.w3.org/2000/svg","polygon");ve.appendChild(Ke),Ke.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0]+","+this.position[1]+" ")+(this.position[0]+this.dimensions[0]+","+(this.position[1]+this.dimensions[1])+" ")+(this.position[0]+","+(this.position[1]+this.dimensions[1])+" "));var ot=document.createElement("g");ot.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),Ce.appendChild(ot);var $=document.createElement("rect");$.setAttribute("fill",this.options.backgroundColor),$.setAttribute("fill-opacity","1"),$.setAttribute("stroke-opacity","0"),$.setAttribute("width",this.dimensions[0]),$.setAttribute("height",this.dimensions[1]),$.setAttribute("x","0"),$.setAttribute("y","0"),ot.appendChild($);var lt=[0,1];lt.forEach(function(Ge){re.visibleAndFetchedTiles().filter(function(nt){return nt.allExonsForSVG}).forEach(function(nt){var St=document.createElement("g");St.setAttribute("transform","translate("+nt.rectGraphics.position.x+`,
              `+nt.rectGraphics.position.y+`)
              scale(`+nt.rectGraphics.scale.x+`,
              `+nt.rectGraphics.scale.y+")"),nt.allExonsForSVG.filter(function(Gt){return Gt.paintOrder===Ge}).forEach(function(Gt){for(var Zt=document.createElement("path"),ir=Gt.rect,zt="M "+ir[0]+" "+ir[1],Qt=2;Qt<ir.length;Qt+=2)zt+=" L "+ir[Qt]+" "+ir[Qt+1];Zt.setAttribute("d",zt),Zt.setAttribute("fill",Gt.color),Zt.setAttribute("opacity","1"),St.appendChild(Zt)}),ot.appendChild(St)})});var Tt=[],Be={left:2,right:2,top:1,bottom:1},qe=5,We=1;return this.allTexts.filter(function(Ge){return Ge.text.visible}).forEach(function(Ge){if(!Tt.includes(Ge.text.text)){var nt=document.createElement("polygon");nt.setAttribute("stroke-width","1"),nt.setAttribute("stroke-opacity","1");var St=-Be.left+","+Be.top,Gt=Ge.text.width+Be.right+","+Be.top,Zt=Ge.text.width+Be.right+","+(-re.transcriptHeight*.75-Be.bottom),ir=-Be.left+","+(-re.transcriptHeight*.75-Be.bottom);switch(Ge.strand){case"-":var zt=typeof re.options.labelStrokeMinusStrandColor<"u"?re.options.labelStrokeMinusStrandColor:n.config.defaultOptions.labelStrokeMinusStrandColor;nt.setAttribute("stroke",zt);var Qt=typeof re.options.labelBackgroundMinusStrandColor<"u"?re.options.labelBackgroundMinusStrandColor:n.config.defaultOptions.labelBackgroundMinusStrandColor;nt.setAttribute("fill",Qt);var Wt=-Be.left-qe+","+-re.transcriptHeight*.75/2;nt.setAttribute("points",Wt+" "+St+" "+Gt+" "+Zt+" "+ir);break;case"+":default:var yr=typeof re.options.labelStrokeMinusStrandColor<"u"?re.options.labelStrokeMinusStrandColor:n.config.defaultOptions.labelStrokeMinusStrandColor;nt.setAttribute("stroke",yr);var br=typeof re.options.labelBackgroundPlusStrandColor<"u"?re.options.labelBackgroundPlusStrandColor:n.config.defaultOptions.labelBackgroundPlusStrandColor;nt.setAttribute("fill",br);var Pt=Ge.text.width+Be.right+qe+","+-re.transcriptHeight*.75/2;nt.setAttribute("points",St+" "+Gt+" "+Pt+" "+Zt+" "+ir);break}var Dr=document.createElement("text");Dr.setAttribute("text-anchor","start"),Dr.setAttribute("font-family",re.options.fontFamily),Dr.setAttribute("font-size",re.fontSize+"px"),Dr.setAttribute("fill",re.options.labelFontColor),Dr.innerHTML=Ge.text.text,Tt.push(Ge.text.text);var Gr=document.createElement("g");Gr.setAttribute("transform","scale("+Ge.text.scale.x+",1)"),Gr.appendChild(nt),Gr.appendChild(Dr),Gr.setAttribute("transform","translate("+Ge.text.x+","+(Ge.text.y+re.transcriptHeight/4+We)+")scale("+Ge.text.scale.x+",1)"),ot.appendChild(Gr)}}),[F,F]}}]),K}(o.tracks.HorizontalGeneAnnotationsTrack);return new(Function.prototype.bind.apply(Y,[null].concat(l)))},yht='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"> <g> <title>background</title> <rect fill="#fff" id="canvas_background" height="3.24996" width="3.24996" y="-1" x="-1"/> <g display="none" id="canvasGrid"> <rect fill="url(#gridpattern)" stroke-width="0" y="0" x="0" height="100%" width="100%" id="svg_2"/> </g> </g> <g> <title>Layer 1</title> <rect id="svg_1" height="20" width="20" stroke-width="0" stroke="#000" fill="#C0EAAF"/> <path stroke="#bdbfff" id="svg_4" d="m11.42795,10.0119l-4.10746,-6.99997l2.70509,0l4.10746,6.99997l-4.10746,6.99997l-2.70509,0l4.10746,-6.99997z" stroke-width="6" fill="#bdbfff"/> </g> </svg>';lJ.config={type:"horizontal-transcripts",datatype:["gene-annotation"],local:!1,orientation:"1d-horizontal",thumbnail:new DOMParser().parseFromString(yht,"text/xml").documentElement,availableOptions:["fontSize","fontFamily","transcriptSpacing","transcriptHeight","maxTexts","plusStrandColor","minusStrandColor","utrColor","labelBackgroundPlusStrandColor","labelBackgroundMinusStrandColor","labelFontColor","labelStrokePlusStrandColor","labelStrokeMinusStrandColor","startCollapsed","showToggleTranscriptsButton","trackHeightAdjustment","sequenceData","backgroundColor"],defaultOptions:{fontSize:9,fontFamily:"Helvetica",transcriptSpacing:2,transcriptHeight:11,maxTexts:20,plusStrandColor:"#bdbfff",minusStrandColor:"#fabec2",utrColor:"#C0EAAF",labelBackgroundPlusStrandColor:"#ffffff",labelBackgroundMinusStrandColor:"#ffffff",labelFontColor:"#333333",labelStrokePlusStrandColor:"#999999",labelStrokeMinusStrandColor:"#999999",startCollapsed:!1,trackHeightAdjustment:"automatic",showToggleTranscriptsButton:!0,backgroundColor:"#ffffff"}};var RM={},uJ={exports:{}},Kye=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Kye){var Qye=new Uint8Array(16);uJ.exports=function(){return Kye(Qye),Qye}}else{var Jye=new Array(16);uJ.exports=function(){for(var o=0,i;o<16;o++)o&3||(i=Math.random()*4294967296),Jye[o]=i>>>((o&3)<<3)&255;return Jye}}var bht=uJ.exports,TAe=[];for(var nH=0;nH<256;++nH)TAe[nH]=(nH+256).toString(16).substr(1);function _ht(n,o){var i=o||0,l=TAe;return[l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]]].join("")}var Tht=_ht,Eht=bht,Sht=Tht;function Aht(n,o,i){var l=o&&i||0;typeof n=="string"&&(o=n==="binary"?new Array(16):null,n=null),n=n||{};var c=n.random||(n.rng||Eht)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,o)for(var d=0;d<16;++d)o[l+d]=c[d];return o||Sht(c)}var wht=Aht,cJ=[],EAe={};for(var Dx=0;Dx<256;Dx++)cJ[Dx]=(Dx+256).toString(16).substr(1),EAe[cJ[Dx]]=Dx;function Cht(n,o,i){var l=o&&i||0,c=0;for(o=o||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(d){c<16&&(o[l+c++]=EAe[d])});c<16;)o[l+c++]=0;return o}function xht(n,o){var i=o||0,l=cJ;return l[n[i++]]+l[n[i++]]+l[n[i++]]+l[n[i++]]+"-"+l[n[i++]]+l[n[i++]]+"-"+l[n[i++]]+l[n[i++]]+"-"+l[n[i++]]+l[n[i++]]+"-"+l[n[i++]]+l[n[i++]]+l[n[i++]]+l[n[i++]]+l[n[i++]]+l[n[i++]]}var SAe={parse:Cht,unparse:xht},AAe=wht,wAe=SAe;RM.encode=function(n){var o=wAe.parse(n),i=new Buffer(o).toString("base64"),l=i.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return l};RM.decode=function(n){var o=n.replace(/-/g,"+").replace(/_/g,"/")+"==";return wAe.unparse(new Buffer(o,"base64"))};RM.v4=function(){var n=AAe(null,new Buffer(16)),o=n.toString("base64"),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};RM.nice=function(){var n=AAe(null,new Buffer(16));n[0]=n[0]&127;var o=n.toString("base64"),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};var Iht=RM;const Dht=_f(Iht);var Oht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function kht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function Rht(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:n}function Pht(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}var hJ=function(o){for(var i=arguments.length,l=Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');var d=o.services.tileProxy,m=o.utils,b=m.colorToHex;m.trackUtils,m.absToChr;var w=function(A){Pht(I,A);function I(N,R){kht(this,I);var D=Rht(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,R)),L=N.animate;return D.animate=L,D.options=R,D.initOptions(),D.offsetTop=10,D.tilesToDraw=[],D.initSignificanceLevels(),D}return Oht(I,[{key:"initTile",value:function(R){R.lollipopsGraphics=new o.libraries.PIXI.Graphics,R.bgGraphics=new o.libraries.PIXI.Graphics,R.graphics.addChild(R.bgGraphics),R.graphics.addChild(R.lollipopsGraphics),R.clinVarData=this.interpretFieldsData(R.tileData),R.rectsForMouseOver=[];var D=this.getBoundsOfTile(R);R.tileMinX=D[0],R.tileMaxX=D[1],R.initialized=!0}},{key:"interpretFieldsData",value:function(R){var D=this,L=[];R.forEach(function(te){var fe=te.fields[7].replace("/","_").toLowerCase(),Y=[fe],q=[1];fe==="conflicting_interpretations_of_pathogenicity"&&(Y=[],q=[],te.fields[8].split(",").forEach(function(re){var ge=re.indexOf("("),F=re.indexOf(")");Y.push(re.substr(0,ge).replace("/","_").toLowerCase()),q.push(+re.substr(ge+1,F-ge-1))}));for(var K=0;K<Y.length;K++){var ce={chrom:te.fields[0],posRel:+te.fields[1],posAbs:te.xStart,ref:te.fields[3],alt:te.fields[4],importance:te.fields[5],goldStars:+te.fields[6],significance:fe,significanceDisplay:te.fields[7].replace(/_/g," "),significanceToBeDrawn:Y[K],significanceConf:te.fields[8],variantType:te.fields[9],origin:+te.fields[10],molecularConsequence:te.fields[11],diseaseName:te.fields[12],hgvs:te.fields[13],numReports:q[K],drawOrder:D.significanceLevels[Y[K]].drawOrder,horizontalShift:0};L.push(ce)}});var z=L.sort(function(te,fe){return te.posAbs>fe.posAbs?1:-1}),V={};return z.forEach(function(te,fe){fe!==0&&te.posAbs===z[fe-1].posAbs&&(V[te.posAbs]||(V[te.posAbs]=[],V[te.posAbs].push({index:fe-1,significanceToBeDrawn:z[fe-1].significanceToBeDrawn})),V[te.posAbs].push({index:fe,significanceToBeDrawn:te.significanceToBeDrawn}))}),Object.keys(V).forEach(function(te){var fe=V[te].reduce(function(Y,q){return Y[q.significanceToBeDrawn]=(Y[q.significanceToBeDrawn]||[]).concat(q),Y},{});Object.keys(fe).forEach(function(Y){var q=fe[Y];q.length<=1||q.forEach(function(K,ce){z[K.index].horizontalShift=Math.trunc(ce-q.length/2)})})}),L.sort(function(te,fe){return te.drawOrder>fe.drawOrder?1:-1}),L}},{key:"getLabelTextSprite",value:function(R){var D=new o.libraries.PIXI.Text(R,this.labelTextOptions);D.interactive=!0,D.anchor.x=0,D.anchor.y=0,D.visible=!0;var L=new o.libraries.PIXI.Sprite(D.texture);return L.width=D.getBounds().width/2,L.height=D.getBounds().height/2,L}},{key:"initSignificanceLevels",value:function(){var R={offsetY:0*this.options.levelDistance+this.offsetTop,label:"Pathogenic",labelVisible:!0,color:this.options.significanceColors.pathogenic,colorHex:b(this.options.significanceColors.pathogenic),sprite:this.getLabelTextSprite("Pathogenic"),drawOrder:1},D={offsetY:.5*this.options.levelDistance+this.offsetTop,label:"Pathogenic / Likely pathogenic",labelVisible:!1,color:this.options.significanceColors.pathogenic_likely_pathogenic,colorHex:b(this.options.significanceColors.pathogenic_likely_pathogenic),sprite:this.getLabelTextSprite("Pathogenic / Likely pathogenic"),drawOrder:3},L={offsetY:1*this.options.levelDistance+this.offsetTop,label:"Likely pathogenic",labelVisible:!0,color:this.options.significanceColors.likely_pathogenic,colorHex:b(this.options.significanceColors.likely_pathogenic),sprite:this.getLabelTextSprite("Likely pathogenic"),drawOrder:5},z={offsetY:2*this.options.levelDistance+this.offsetTop,label:"Uncertain significance",labelVisible:!0,color:this.options.significanceColors.uncertain_significance,colorHex:b(this.options.significanceColors.uncertain_significance),sprite:this.getLabelTextSprite("Uncertain significance"),drawOrder:7},V={offsetY:3*this.options.levelDistance+this.offsetTop,label:"Likely benign",labelVisible:!0,color:this.options.significanceColors.likely_benign,colorHex:b(this.options.significanceColors.likely_benign),sprite:this.getLabelTextSprite("Likely benign"),drawOrder:6},te={offsetY:3.5*this.options.levelDistance+this.offsetTop,label:"Benign / Likely benign",labelVisible:!1,color:this.options.significanceColors.benign_likely_benign,colorHex:b(this.options.significanceColors.benign_likely_benign),sprite:this.getLabelTextSprite("Benign / Likely benign"),drawOrder:4},fe={offsetY:4*this.options.levelDistance+this.offsetTop,label:"Benign",labelVisible:!0,color:this.options.significanceColors.benign,colorHex:b(this.options.significanceColors.benign),sprite:this.getLabelTextSprite("Benign"),drawOrder:2},Y={offsetY:4*this.options.levelDistance+this.offsetTop,label:"Risk factor",labelVisible:!1,color:this.options.significanceColors.risk_factor,colorHex:b(this.options.significanceColors.risk_factor),sprite:this.getLabelTextSprite("Risk factor"),drawOrder:0},q={offsetY:null,label:"Conflicting interpretations of pathogenicity",labelVisible:!1,color:"#0000ff",colorHex:b("#0000ff"),sprite:this.getLabelTextSprite("Conflicting interpretations of pathogenicity"),drawOrder:-1};this.significanceLevels={pathogenic:R,pathogenic_likely_pathogenic:D,likely_pathogenic:L,uncertain_significance:z,likely_benign:V,benign_likely_benign:te,benign:fe,risk_factor:Y,conflicting_interpretations_of_pathogenicity:q}}},{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.colors={},this.colors.labelTextColor=b(this.options.labelTextColor),this.colors.black=b("#000000"),this.colors.white=b("#ffffff"),this.colors.lightgrey=b("#ededed"),this.labelTextOptions={fontSize:this.fontSize*2+"px",fontFamily:this.options.fontFamily,fill:this.colors.labelTextColor}}},{key:"rerender",value:function(R,D){var L=JSON.stringify(R);!D&&L===this.prevOptions||(this.options=R,this.initOptions(),this.initSignificanceLevels(),this.prevOptions=L,this.drawLabels(),this.draw())}},{key:"drawTile",value:function(R){}},{key:"renderTile",value:function(R){var D=this;this.tilesToDraw=[],this.visibleAndFetchedTiles().forEach(function(L){D.tilesToDraw.push(L)})}},{key:"draw",value:function(){var R=this;this.zoomLevel=this.calculateZoomLevel(),this.tilesToDraw.forEach(function(D){R.drawTileBackground(D),R.drawLollipops(D)})}},{key:"drawLollipops",value:function(R){var D=this;R.lollipopsGraphics.removeChildren(),R.lollipopsGraphics.clear(),R.lollipopsGraphics.alpha=this.zoomLevel==this.maxZoom?1:.5,R.rectsForMouseOver=[],R.svgData=[];var L=this.significanceLevels.uncertain_significance,z=L.offsetY+L.sprite.height/2,V=4,te=2*V;R.clinVarData.forEach(function(fe){var Y=D.significanceLevels[fe.significanceToBeDrawn];R.lollipopsGraphics.beginFill(Y.colorHex);var q=D._xScale(fe.posAbs+.5),K=q+fe.horizontalShift*te,ce=Y.offsetY+Y.sprite.height/2+.5;R.lollipopsGraphics.drawCircle(K,ce,V),R.lollipopsGraphics.drawRect(q-.5,z,1,ce-z),R.rectsForMouseOver.push({data:fe,rect:[K-V,K+V,ce-V,ce+V]}),R.svgData.push({posX:K,posY:ce,yZero:z,color:Y.color})})}},{key:"drawTileBackground",value:function(R){var D=this;R.bgGraphics.removeChildren(),R.bgGraphics.clear();var L=this._xScale(R.tileMinX),z=this._xScale(R.tileMaxX);R.bgGraphics.beginFill(this.colors.lightgrey),Object.keys(this.significanceLevels).forEach(function(V){var te=D.significanceLevels[V];te.labelVisible&&R.bgGraphics.drawRect(L,te.offsetY+te.sprite.height/2,z-L,1)})}},{key:"drawLabels",value:function(){var R=this;this.pForeground.clear(),this.pForeground.removeChildren();var D=0;Object.keys(this.significanceLevels).forEach(function(L){var z=R.significanceLevels[L];z.labelVisible&&(D=Math.max(D,z.sprite.width))}),this.pForeground.beginFill(this.colors.white),this.pForeground.drawRect(0,this.offsetTop,D+2,5*this.options.levelDistance),Object.keys(this.significanceLevels).forEach(function(L){var z=R.significanceLevels[L];if(z.labelVisible){var V=z.sprite;V.position.x=0,V.position.y=z.offsetY,R.pForeground.addChild(V)}})}},{key:"zoomedY",value:function(R,D){}},{key:"movedY",value:function(R){}},{key:"getBoundsOfTile",value:function(R){var D=+R.tileId.split(".")[1],L=+R.tileId.split(".")[0],z=+this.tilesetInfo.max_width/Math.pow(2,L),V=this.tilesetInfo.min_pos[0]+D*z,te=this.tilesetInfo.min_pos[0]+(D+1)*z;return[V,te]}},{key:"destroyTile",value:function(R){R.bgGraphics.destroy(),R.lollipopsGraphics.destroy(),R.graphics.destroy(),R=null}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo){var R=d.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),D=Math.min(R,this.maxZoom);return D=Math.max(D,0),D}}},{key:"isPointInRectangle",value:function(R,D){return R[0]<D[0]&&R[1]>D[0]&&R[2]<D[1]&&R[3]>D[1]}},{key:"getMouseOverHtml",value:function(R,D){if(!this.tilesetInfo)return"";var L=[R,D],z=!0,V=!1,te=void 0;try{for(var fe=this.visibleAndFetchedTiles()[Symbol.iterator](),Y;!(z=(Y=fe.next()).done);z=!0)for(var q=Y.value,K=0;K<q.rectsForMouseOver.length;K++){var ce=q.rectsForMouseOver[K].rect,re=q.rectsForMouseOver[K].data;if(this.isPointInRectangle(ce,L)){for(var ge="",K=0;K<re.goldStars;K++)ge+="<span style='color:#ebdc00'>&#9733;</span>";for(var K=0;K<4-re.goldStars;K++)ge+="<span style='color:#bdbdbd'>&#9734;</span>";var F=re.posRel.toLocaleString("en-US",{minimumFractionDigits:0});return`
                <div style='text-align: center'>
                  <div><b>`+re.chrom+":"+F+`</b></div>
                  <div>`+re.ref+" &#8658; "+re.alt+`</div>
                  <div>Clinvar review status: `+ge+`</div>
                  <div>Clinical significance: <b>`+re.significanceDisplay+`</b></div>
                </div>
              `}}}catch(Te){V=!0,te=Te}finally{try{!z&&fe.return&&fe.return()}finally{if(V)throw te}}}},{key:"exportSVG",value:function(){var R=this,D=null,L=null;L=document.createElement("g"),D=L;var z=Dht.nice(),V=document.createElement("g");V.setAttribute("style","clip-path:url(#"+z+");"),D.appendChild(V);var te=document.createElementNS("http://www.w3.org/2000/svg","clipPath");te.setAttribute("id",z),D.appendChild(te);var fe=document.createElementNS("http://www.w3.org/2000/svg","polygon");te.appendChild(fe),fe.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0]+","+this.position[1]+" ")+(this.position[0]+this.dimensions[0]+","+(this.position[1]+this.dimensions[1])+" ")+(this.position[0]+","+(this.position[1]+this.dimensions[1])+" "));var Y=document.createElement("g");Y.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),V.appendChild(Y),Object.keys(this.significanceLevels).forEach(function(F){if(R.significanceLevels[F].labelVisible){var Te=document.createElement("g"),Ce=document.createElement("line");Ce.setAttribute("x1",0),Ce.setAttribute("x2",R.dimensions[0]),Ce.setAttribute("y1",0),Ce.setAttribute("y2",0),Ce.setAttribute("stroke",R.options.labelTextColor),Ce.setAttribute("stroke-width",.5),Te.setAttribute("transform","scale(1,1)");var ve=R.significanceLevels[F].sprite.height;Te.appendChild(Ce),Te.setAttribute("transform","translate(0,"+(R.significanceLevels[F].offsetY+ve/2)+")scale(1,1)"),Y.appendChild(Te)}});var q=5*this.options.levelDistance+5,K=0;Object.keys(this.significanceLevels).forEach(function(F){R.significanceLevels[F].labelVisible&&(K=Math.max(K,R.significanceLevels[F].sprite.width))}),this.visibleAndFetchedTiles().forEach(function(F){F.svgData.forEach(function(Te){var Ce=document.createElement("g"),ve=document.createElement("circle");ve.setAttribute("cx",Te.posX),ve.setAttribute("cy",Te.posY),ve.setAttribute("r",4),Ce.setAttribute("transform","scale(1,1)"),ve.setAttribute("fill",Te.color),Ce.appendChild(ve);var Ke=document.createElement("line");Ke.setAttribute("x1",Te.posX),Ke.setAttribute("x2",Te.posX),Ke.setAttribute("y1",Te.posY),Ke.setAttribute("y2",Te.yZero),Ke.setAttribute("stroke",Te.color),Ke.setAttribute("stroke-width",1),Ce.appendChild(Ke),Y.appendChild(Ce)})});var ce=document.createElement("g"),re=document.createElement("path"),ge="M 0 0 H "+(K+3)+" V "+q+" H 0 Z";return re.setAttribute("d",ge),re.setAttribute("fill","white"),re.setAttribute("opacity","1"),ce.appendChild(re),Y.appendChild(ce),Object.keys(this.significanceLevels).forEach(function(F){if(R.significanceLevels[F].labelVisible){var Te=document.createElement("g"),Ce=document.createElement("text");Ce.setAttribute("text-anchor","start"),Ce.setAttribute("font-family",R.options.fontFamily),Ce.setAttribute("font-size",R.fontSize+"px"),Te.setAttribute("transform","scale(1,1)"),Ce.setAttribute("fill",R.options.labelTextColor),Ce.innerHTML=R.significanceLevels[F].label,Te.appendChild(Ce),Te.setAttribute("transform","translate(0,"+(R.significanceLevels[F].offsetY+R.offsetTop)+")scale(1,1)"),Y.appendChild(Te)}}),[L,L]}}]),I}(o.tracks.BedLikeTrack);return new(Function.prototype.bind.apply(w,[null].concat(l)))},Nht='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>';hJ.config={type:"horizontal-clinvar",datatype:["bedlike"],local:!1,orientation:"1d-horizontal",thumbnail:new DOMParser().parseFromString(Nht,"text/xml").documentElement,availableOptions:["fontSize","fontFamily","labelTextColor","levelDistance","significanceColors"],defaultOptions:{fontSize:10,fontFamily:"Arial",labelTextColor:"#888888",levelDistance:20,significanceColors:{pathogenic:"#D55E00",pathogenic_likely_pathogenic:"#CC79A7",likely_pathogenic:"#E69F00",uncertain_significance:"#808080",likely_benign:"#56B4E9",benign_likely_benign:"#0072B2",benign:"#009E73",risk_factor:"#999999"}}};var PM={},fJ={exports:{}},ebe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(ebe){var tbe=new Uint8Array(16);fJ.exports=function(){return ebe(tbe),tbe}}else{var rbe=new Array(16);fJ.exports=function(){for(var o=0,i;o<16;o++)o&3||(i=Math.random()*4294967296),rbe[o]=i>>>((o&3)<<3)&255;return rbe}}var Mht=fJ.exports,CAe=[];for(var iH=0;iH<256;++iH)CAe[iH]=(iH+256).toString(16).substr(1);function Lht(n,o){var i=o||0,l=CAe;return[l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],"-",l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]],l[n[i++]]].join("")}var Fht=Lht,Bht=Mht,Hht=Fht;function Uht(n,o,i){var l=o&&i||0;typeof n=="string"&&(o=n==="binary"?new Array(16):null,n=null),n=n||{};var c=n.random||(n.rng||Bht)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,o)for(var d=0;d<16;++d)o[l+d]=c[d];return o||Hht(c)}var Ght=Uht,xAe=Ght,IAe=SAe;PM.encode=function(n){var o=IAe.parse(n),i=new Buffer(o).toString("base64"),l=i.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return l};PM.decode=function(n){var o=n.replace(/-/g,"+").replace(/_/g,"/")+"==";return IAe.unparse(new Buffer(o,"base64"))};PM.v4=function(){var n=xAe(null,new Buffer(16)),o=n.toString("base64"),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};PM.nice=function(){var n=xAe(null,new Buffer(16));n[0]=n[0]&127;var o=n.toString("base64"),i=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i};var $ht=PM;const zht=_f($ht);var Vht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function jht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var Wht=function(){function n(o){jht(this,n),this.dataConfig=o}return Vht(n,[{key:"tilesetInfo",value:function(i){this.tilesetInfoLoading=!1;var l=1024,c=22,d={tile_size:l,bins_per_dimension:l,max_zoom:c,max_width:l*Math.pow(2,c),min_pos:[0],max_pos:[3e9]};return i&&i(d),d}},{key:"fetchTilesDebounced",value:function(i,l){var c={};return c}},{key:"tile",value:function(i,l){return this.tilesetInfo().then(function(c){return[]})}}]),n}(),Xht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}(),Yht=function n(o,i,l){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(c===void 0){var d=Object.getPrototypeOf(o);return d===null?void 0:n(d,i,l)}else{if("value"in c)return c.value;var m=c.get;return m===void 0?void 0:m.call(l)}};function qht(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function Zht(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:n}function Kht(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}var dJ=function(o){for(var i=arguments.length,l=Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');o.services.tileProxy;var d=o.utils.colorToHex,m=function(b){Kht(w,b);function w(A,I){qht(this,w),A.dataFetcher=new Wht(A.dataConfig);var N=Zht(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A,I)),R=A.animate;return N.animate=R,N.isTrackShownVertically=A.definition.position==="left"||A.definition.position==="right",N.options=I,N.initOptions(),N}return Xht(w,[{key:"initTile",value:function(I){}},{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.colors={},this.colors.textColor=d(this.options.textColor),this.colors.black=d("#000000"),this.colors.white=d("#ffffff"),this.colors.lightgrey=d("#ededed"),this.text=this.options.text,this.textOptions={fontSize:this.fontSize+"px",fontFamily:this.options.fontFamily,fontWeight:this.options.fontWeight,fill:this.colors.textColor}}},{key:"drawTile",value:function(){}},{key:"rerender",value:function(I,N){var R=JSON.stringify(I);!N&&R===this.prevOptions||(this.options=I,this.initOptions(),this.prevOptions=R,this.renderText(),requestAnimationFrame(this.animate))}},{key:"drawTile",value:function(I){}},{key:"renderTile",value:function(I){}},{key:"draw",value:function(){}},{key:"renderText",value:function(){this.pForeground.clear(),this.pForeground.removeChildren();var I=new o.libraries.PIXI.Text(this.text,this.textOptions);I.interactive=!0,I.anchor.x=0,I.anchor.y=0,I.visible=!0,I.y=this.options.offsetY;var N=5;I.x=N,this.isTrackShownVertically?this.options.align==="right"?(I.anchor.x=1,I.scale.x*=-1,this.svgAnchor="end"):this.options.align==="middle"?(I.anchor.x=.5,I.scale.x*=-1,I.x=this.dimensions[0]/2,this.svgAnchor="middle"):this.options.align==="left"&&(I.anchor.x=0,I.scale.x*=-1,I.x=this.dimensions[0]-N,this.svgAnchor="start"):this.options.align==="left"?(I.anchor.x=0,I.x=N,this.svgAnchor="start"):this.options.align==="middle"?(I.anchor.x=.5,I.x=this.dimensions[0]/2,this.svgAnchor="middle"):this.options.align==="right"&&(I.anchor.x=1,I.x=this.dimensions[0]-N,this.svgAnchor="end"),this.svgX=I.x,this.pForeground.addChild(I)}},{key:"zoomedY",value:function(I,N){}},{key:"movedY",value:function(I){}},{key:"destroyTile",value:function(I){I.graphics.destroy(),I=null}},{key:"setDimensions",value:function(I){Yht(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"setDimensions",this).call(this,I),this.rerender(this.options,!1)}},{key:"getMouseOverHtml",value:function(I,N){}},{key:"exportSVG",value:function(){var I=null,N=null;N=document.createElement("g"),I=N;var R=zht.nice(),D=document.createElement("g");D.setAttribute("style","clip-path:url(#"+R+");"),I.appendChild(D);var L=document.createElementNS("http://www.w3.org/2000/svg","clipPath");L.setAttribute("id",R),I.appendChild(L);var z=document.createElementNS("http://www.w3.org/2000/svg","polygon");L.appendChild(z),z.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0]+","+this.position[1]+" ")+(this.position[0]+this.dimensions[0]+","+(this.position[1]+this.dimensions[1])+" ")+(this.position[0]+","+(this.position[1]+this.dimensions[1])+" "));var V=document.createElement("g");V.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),D.appendChild(V);var te=document.createElement("g"),fe=document.createElement("path"),Y="M 0 0 H "+this.dimensions[0]+" V "+this.dimensions[1]+" H 0 Z";fe.setAttribute("d",Y),fe.setAttribute("fill",this.options.backgroundColor),fe.setAttribute("opacity","1"),te.appendChild(fe),V.appendChild(te);var q=document.createElement("g"),K=document.createElement("text");K.setAttribute("text-anchor",this.svgAnchor),K.setAttribute("font-family",this.options.fontFamily),K.setAttribute("font-size",this.fontSize+"px"),K.setAttribute("font-weight",this.options.fontWeight),q.setAttribute("transform","scale(1,1)"),K.setAttribute("fill",this.options.textColor),K.innerHTML=this.options.text;var ce=this.isTrackShownVertically?-1:1;return q.appendChild(K),q.setAttribute("transform","translate("+this.svgX+","+(this.options.offsetY+this.fontSize)+")scale("+ce+",1)"),V.appendChild(q),[N,N]}}]),w}(o.tracks.BedLikeTrack);return new(Function.prototype.bind.apply(m,[null].concat(l)))},Qht='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>';dJ.config={type:"text",datatype:["bedlike"],local:!1,orientation:"1d-horizontal",thumbnail:new DOMParser().parseFromString(Qht,"text/xml").documentElement,availableOptions:["backgroundColor","textColor","fontSize","fontWeight","offsetY","align","text"],defaultOptions:{backgroundColor:"#ededed",textColor:"#333333",fontSize:14,fontFamily:"Arial",fontWeight:"normal",align:"left",offsetY:0,text:""}};var Jht=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function eft(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var tft=function(){function n(){eft(this,n),this.speciesMapping=this.getSpeciesMapping(),this.seqDataCache=[]}return Jht(n,[{key:"getSpeciesMapping",value:function(){var i={};return i.human={ensembleId:"homo_sapiens",display:"Human"},i.chimp={ensembleId:"pan_troglodytes",display:"Chimpanzee"},i.gorilla={ensembleId:"gorilla_gorilla",display:"Gorilla"},i.macaca_mulatta={ensembleId:"macaca_mulatta",display:"Rhesus"},i.mouse={ensembleId:"mus_musculus",display:"Mouse"},i["guinea pig"]={ensembleId:"cavia_porcellus",display:"Guinea pig"},i.rabbit={ensembleId:"oryctolagus_cuniculus",display:"Rabbit"},i.rat={ensembleId:"rattus_norvegicus",display:"Rat"},i.pig={ensembleId:"sus_scrofa",display:"Pig"},i.cow={ensembleId:"bos_taurus",display:"Cow"},i.sheep={ensembleId:"ovis_aries",display:"Sheep"},i.horse={ensembleId:"equus_caballus",display:"Horse"},i.dog={ensembleId:"canis_lupus_familiaris",display:"Dog"},i.elephant={ensembleId:"loxodonta_africana",display:"Elephant"},i.chicken={ensembleId:"gallus_gallus",display:"Chicken"},i.xenopus_tropicalis={ensembleId:"xenopus_tropicalis",display:"Tropical clawed frog"},i.zebrafish={ensembleId:"danio_rerio",display:"Zebrafish"},i.lamprey={ensembleId:"petromyzon_marinus",display:"Lamprey"},i}},{key:"getSeqCacheId",value:function(i,l){return i+l.join("")}},{key:"getSeqData",value:function(i,l,c){var d=this.getSeqCacheId(i,c),m=this.seqDataCache.find(function(w){return Object.keys(w)[0]===d});if(m){var b=new Promise(function(w,A){w(m[d])});return b}else return this.getSpeciesSequencesFromEnsembl(i,l,c)}},{key:"addToSeqCache",value:function(i,l,c){if(!this.seqDataCache.find(function(b){return Object.keys(b)[0]===d})){var d=this.getSeqCacheId(i,l);this.seqDataCache.length>10&&this.seqDataCache.pop();var m={};m[d]=c,this.seqDataCache.unshift(m)}}},{key:"ensembleIdToAlias",value:function(i){var l=this,c=null;return Object.keys(this.speciesMapping).forEach(function(d){l.speciesMapping[d].ensembleId===i&&(c=d)}),c}},{key:"initializeGapNumbers",value:function(i,l){var c=20,d=Array.from(Array(c),function(A,I){return I+1});d.push(">"+c);var m={},b=0,w=0;return d.forEach(function(A){var I=new l.Text(A,i);I.updateText(),I.anchor.x=0,I.anchor.y=0,I.visible=!0;var N=I.getBounds().width/2;b=Math.max(b,N);var R=I.getBounds().height/2;w=Math.max(w,R);var D=new l.Sprite(I.texture);D.width=N,D.height=R,m[A]={texture:I.texture,pSprite:D,width:N,height:R}}),m.maxWidth=b,m.maxHeight=w,m.maxGap=c,m}},{key:"initializeAminoAcidTexts",value:function(i,l){var c=["X","W","C","G","R","S","T","A","P","F","L","V","I","M","Q","H","D","E","K","N","Y","-"],d={},m=0,b=0;return c.forEach(function(w){var A=new l.Text(w,i);A.updateText(),A.anchor.x=0,A.anchor.y=0,A.visible=!0;var I=A.getBounds().width/2;m=Math.max(m,I);var N=A.getBounds().height/2;b=Math.max(b,N);var R=new l.Sprite(A.texture);R.width=I,R.height=N,d[w]={pText:A,texture:A.texture,pSprite:R,width:I,height:N}}),d.maxWidth=m,d.maxHeight=b,d}},{key:"initializeLabelTexts",value:function(i,l){var c=this,d=Object.keys(this.speciesMapping),m={};return d.forEach(function(b){var w={},A=new l.Text(c.speciesMapping[b].display,i);A.interactive=!0,A.anchor.x=0,A.anchor.y=0,A.visible=!0,w.text=A,w.width=A.getBounds().width/2,w.height=A.getBounds().height/2;var I=new l.Sprite(A.texture);I.width=w.width,I.height=w.height,w.sprite=I,m[b]=w}),m}},{key:"getSpeciesSequencesFromEnsembl",value:function(i,l,c){var d=this,m="";c.forEach(function(A){m+="&target_species="+d.speciesMapping[A].ensembleId});var b="https://rest.ensembl.org/homology/id/"+i+"?type=orthologues&content-type=application/json&cigar_line=0"+m,w=fetch(b,{cache:"force-cache",headers:{"Content-Type":"application/json"}}).then(function(A){return A.json()}).then(function(A){if("error"in A)return{};var I=A.data[0].homologies,N={};I.forEach(function(D,L){var z=d.ensembleIdToAlias(D.target.species);if(z){var V=D.source.align_seq,te=D.target.align_seq;if(L===0){var fe=V.replace(/-/g,"").split("").map(function(Y){return{aa:Y,match:!0}});N.human={gaps:Array.from({length:fe.length},function(Y,q){return""}),seq:fe}}N[z]=d.processAlignedSequences(V,te)}});var R={transcriptId:l,speciesSeqData:N};return d.addToSeqCache(i,c,R),R}).catch(function(A){return console.warn("err:",A),{}});return w}},{key:"processAlignedSequences",value:function(i,l){var c=i.split(""),d=l.split("");if(c.length!==d.length)return console.warn("Aligned Ensemble sequences don't have the same length"),null;for(var m=[],b=[],w="",A=0,I=c.length;A<I;A++)c[A]==="-"?w+=d[A]:(m.push(w),b.push({aa:d[A],match:c[A]===d[A]}),w="");var N={gaps:m,seq:b};return N}}]),n}(),aH=function(){function n(o,i){var l=[],c=!0,d=!1,m=void 0;try{for(var b=o[Symbol.iterator](),w;!(c=(w=b.next()).done)&&(l.push(w.value),!(i&&l.length===i));c=!0);}catch(A){d=!0,m=A}finally{try{!c&&b.return&&b.return()}finally{if(d)throw m}}return l}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return n(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rft=function(){function n(o,i){for(var l=0;l<i.length;l++){var c=i[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,l){return i&&n(o.prototype,i),l&&n(o,l),o}}();function JZ(n){if(Array.isArray(n)){for(var o=0,i=Array(n.length);o<n.length;o++)i[o]=n[o];return i}else return Array.from(n)}function nft(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function ift(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:n}function aft(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}var pJ=function(o){for(var i=arguments.length,l=Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');var d=o.services.tileProxy,m=o.utils,b=m.colorToHex,w=m.trackUtils;m.absToChr;var A=function(I){aft(N,I);function N(R,D){nft(this,N);var L=ift(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,R,D)),z=R.animate;return L.trackId=L.id,L.animate=z,L.options=D,L.initOptions(),L.ensemblHelper=new tft,L.labels=L.ensemblHelper.initializeLabelTexts(L.labelTextOptions,o.libraries.PIXI),L.gapTexts=L.ensemblHelper.initializeGapNumbers(L.gapTextOptions,o.libraries.PIXI),L.aminoAcidTexts=L.ensemblHelper.initializeAminoAcidTexts(L.aaTextOptions,o.libraries.PIXI),L.aminoAcidTextsNoMatch=L.ensemblHelper.initializeAminoAcidTexts(L.aaTextOptionsNoMatch,o.libraries.PIXI),L.updateActiveSpecies(),L}return rft(N,[{key:"initTile",value:function(D){var L=this;D.texts={},D.textWidths={},D.textHeights={},D.rectGraphics=new o.libraries.PIXI.Graphics,D.rectMaskGraphics=new o.libraries.PIXI.Graphics,D.aminoAcidTextGraphics=new o.libraries.PIXI.Graphics,D.gapsGraphics=new o.libraries.PIXI.Graphics,D.graphics.addChild(D.rectGraphics),D.graphics.addChild(D.rectMaskGraphics),D.graphics.addChild(D.aminoAcidTextGraphics),D.graphics.addChild(D.gapsGraphics),D.rectGraphics.mask=D.rectMaskGraphics,D.tileData.sort&&(D.tileData.sort(function(z,V){return V.importance-z.importance}),D.tileData.forEach(function(z,V){var te=z.fields,fe=L.formatTranscriptData(te),Y=fe.transcriptId;z.transcriptId=Y}),D.sequenceData={},D.gapsData={},D.isRerenderNecessary=!1,D.initialized=!0,this.rerender(this.options,!0))}},{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.rowHeight=+this.options.rowHeight,this.rowSpacing=+this.options.rowSpacing,this.minCodonDistance=3,this.colors={},this.colors.labelTextColor=b(this.options.labelTextColor),this.colors.black=b("#000000"),this.colors.white=b("#ffffff"),this.colors.lightgrey=b("#ededed"),this.colors["+1"]=b(this.options.plusStrandColor1),this.colors["+2"]=b(this.options.plusStrandColor2),this.colors["+dark"]=b(this.options.plusStrandColorZoomedOut),this.colors[-1]=b(this.options.minusStrandColor1),this.colors[-2]=b(this.options.minusStrandColor2),this.colors["-dark"]=b(this.options.minusStrandColorZoomedOut),this.colors.gapsColor=b(this.options.gapsColor),this.colors.aaColor=b(this.options.aminoAcidColor),this.colors.aaColorNoMatch=b(this.options.aminoAcidColorNoMatch),this.labelTextOptions={fontSize:this.fontSize*2+"px",fontFamily:this.options.fontFamily,fill:this.colors.labelTextColor,fontWeight:"bold"},this.aaTextOptions={fontSize:this.fontSize*2+"px",fontFamily:this.options.fontFamily,fill:this.colors.aaColor},this.aaTextOptionsNoMatch={fontSize:this.fontSize*2+"px",fontFamily:this.options.fontFamily,fill:this.colors.aaColorNoMatch},this.gapTextOptions={fontSize:this.fontSize*2-2+"px",fontFamily:this.options.fontFamily,fill:this.colors.gapsColor}}},{key:"updateActiveSpecies",value:function(){var D=this,L=this.options.species;this.activeSpecies=[],L.forEach(function(z,V){if(D.labels[z]){var te={};te.label=D.labels[z],te.species=z,te.yPosOffset=V*(D.rowHeight+D.rowSpacing),D.activeSpecies.push(te)}})}},{key:"formatTranscriptData",value:function(D){var L=D[5],z=D[12]==="."?".":L==="+"?+D[12]-1:+D[12]+2,V=D[11]==="."?".":L==="+"?+D[11]-1:+D[11]+2,te=D[9].split(",").map(function(ce){return+ce-1}),fe=D[10].split(",").map(function(ce){return+ce}),Y=+D[1]-1,q=+D[2],K={transcriptId:this.transcriptId(D),geneIdEnsemble:D[6].split(".")[0],transcriptName:D[3],txStart:Y,txEnd:q,strand:L,chromName:D[0],codingType:D[8],exonStarts:te,exonEnds:fe,startCodonPos:V,stopCodonPos:z,importance:+D[4]};return K}},{key:"transcriptId",value:function(D){return D[7]+"_"+D[0]+"_"+D[1]+"_"+D[2]}},{key:"drawTile",value:function(){}},{key:"updateTranscriptInfo",value:function(){var D=this,L={},z={};this.visibleAndFetchedTiles().forEach(function(Y){Y.tileData.forEach(function(q){L[q.transcriptId]=q.fields,z[q.transcriptId]=+q.chrOffset})});var V=[];for(var te in L)V.push(L[te]);this.transcriptInfo={};var fe=[];V.forEach(function(Y){var q=D.formatTranscriptData(Y),K=z[q.transcriptId],ce=D.calculateCodonPositions(q,K),re={transcriptId:q.transcriptId,transcriptName:q.transcriptName,txStart:q.txStart,txEnd:q.txEnd,strand:q.strand,chromName:q.chromName,codingType:q.codingType,exonStarts:q.exonStarts,exonEnds:q.exonEnds,startCodonPos:q.startCodonPos,stopCodonPos:q.stopCodonPos,importance:q.importance,sequenceData:null,codonStartsAndLengths:ce,showTranscript:!0};if(D.transcriptInfo[re.transcriptId]=re,D.zoomLevel>=D.maxZoom-2){var ge=D.activeSpecies.map(function(Te){return Te.species}),F=D.ensemblHelper.getSeqData(q.geneIdEnsemble,re.transcriptId,ge);fe.push(F)}}),Promise.all(fe).then(function(Y){Y.length!==0&&(Y.forEach(function(q){var K=q.transcriptId,ce=q.speciesSeqData;D.transcriptInfo[K]!==void 0&&(D.transcriptInfo[K].sequenceData=ce)}),D.assignSequenceDataToTiles(),D.visibleAndFetchedTiles().forEach(function(q){D.renderTile(q)}),D.draw())})}},{key:"assignSequenceDataToTiles",value:function(){var D=this;this.visibleAndFetchedTiles().forEach(function(L){if(!(!L.initialized||Object.keys(L.sequenceData).length>0)){var z=D.getBoundsOfTile(L),V=aH(z,2),te=V[0],fe=V[1],Y=L.tileData,q=[];Y.forEach(function(K){var ce=K.fields;q.push(D.transcriptId(ce))}),L.sequenceData={},L.gapsData={},D.activeSpecies.forEach(function(K){L.sequenceData[K.species]=[],L.gapsData[K.species]=[]}),q.forEach(function(K){if(D.transcriptInfo[K]){var ce=D.transcriptInfo[K],re=ce.sequenceData;if(re&&D.transcriptInfo[K].showTranscript){var ge=ce.codonStartsAndLengths.filter(function(F){return F[0]>=te-2&&F[0]<=fe});Object.keys(L.sequenceData).forEach(function(F){if(!re[F]){ge.forEach(function(ve){L.sequenceData[F].push({start:ve[0],codonLength:ve[1],letterWidth:0,letterHeight:0,letter:"",sprite:null,match:!1,strand:null,backgroundColor:D.colors.lightgrey})});return}var Te=re[F].seq,Ce=re[F].gaps;ge.forEach(function(ve){var Ke=ve[0],ot=ve[1],$=ve[2];if(Te[$]){if(Ce[$]!==""){var lt=Ce[$].length,Tt=D.gapTexts.maxGap,Be=lt>Tt?D.gapTexts[">"+Tt]:D.gapTexts[lt],qe=new o.libraries.PIXI.Sprite(Be.texture);qe.width=Be.width,qe.height=Be.height,L.gapsData[F].push({position:Ke,seq:Ce[$],gapLength:lt,sprite:qe,letterHeight:Be.height})}var We=Te[$].aa,Ge=Te[$].match;if(D.aminoAcidTexts[We]){var nt=Ge?D.aminoAcidTexts[We]:D.aminoAcidTextsNoMatch[We],St=$%2===0?D.colors[ce.strand+"2"]:D.colors[ce.strand+"1"],Gt=new o.libraries.PIXI.Sprite(nt.texture);Gt.width=nt.width,Gt.height=nt.height,Gt.position.x=0,Gt.position.y=0,L.sequenceData[F].push({start:Ke,codonLength:ot,letterWidth:nt.width,letterHeight:nt.height,letter:We,sprite:Gt,match:Ge,strand:ce.strand,backgroundColor:St})}}})})}}})}})}},{key:"calculateCodonPositions",value:function(D,L){if(this.zoomLevel<this.maxZoom-2)return[];var z=D.exonStarts,V=D.exonEnds,te=D.strand,fe=[],Y=D.startCodonPos!=="."&&D.stopCodonPos!==".";if(!Y)return[];var q=D.startCodonPos+L,K=D.stopCodonPos+L,ce=z.map(function(Ge){return+Ge+L}),re=V.map(function(Ge){return+Ge+L});if(ce.push(q,K),re.push(q,K),ce.sort(function(Ge,nt){return+Ge-nt}),re.sort(function(Ge,nt){return+Ge-nt}),te==="-"){q=-1*q,K=-1*K;var ge=[].concat(JZ(ce)),F=[].concat(JZ(re));ce=F.map(function(Ge){return-1*Ge}),re=ge.map(function(Ge){return-1*Ge}),ce.sort(function(Ge,nt){return+Ge-nt}),re.sort(function(Ge,nt){return+Ge-nt})}for(var Te=0,Ce=3,ve=0,Ke=0;Ke<ce.length;Ke++){var ot=ce[Ke],$=re[Ke],lt=$<=q||ot>=K;if(!lt)for(var Tt=ot;Tt<$;Tt=Tt+Ce){var Be=Tt,qe=null;Te!==0?(Ce=Te,Te=0,qe=[Be,Ce,ve],ve+=1):Be+Ce>$?(Ce=$-Be,Te=3-Ce,qe=[Be,$-Be,ve]):(Ce=3,Te=0,qe=[Be,Ce,ve],ve+=1),fe.push(qe)}}if(te==="-"){var We=fe.map(function(Ge){return[-1*Ge[0]-Ge[1],Ge[1],Ge[2]]});return We}return fe}},{key:"rerender",value:function(D,L){var z=this,V=JSON.stringify(D);!L&&V===this.prevOptions||(this.options=D,this.initOptions(),this.prevOptions=V,this.updateTranscriptInfo(),this.drawLabels(),this.visibleAndFetchedTiles().forEach(function(te){z.renderTile(te)}))}},{key:"renderMask",value:function(D){var L=w.getTilePosAndDimensions(this.tilesetInfo,D.tileId),z=L.tileX,V=L.tileWidth;D.rectMaskGraphics.clear();var te=Math.floor(Math.random()*Math.pow(16,6));D.rectMaskGraphics.beginFill(te,.3);var fe=this._xScale(z),Y=0,q=this._xScale(z+V)-this._xScale(z),K=this.dimensions[1];D.rectMaskGraphics.drawRect(fe,Y,q,K)}},{key:"renderTile",value:function(D){if(D.initialized){D.drawnAtScale=this._xScale.copy(),D.rectGraphics.removeChildren(),D.rectGraphics.clear();var L=this._xScale(3)-this._xScale(0),z=this.getVisibleExonRects(D);Object.keys(D.sequenceData).length===0?this.renderExons(D,z):L<this.fontSize&&this.renderCondensedView(D),D.allExonsForMouseOver=this.generateMouseOverRects(z),D.allGapsForMouseOver=[],this.renderMask(D),w.stretchRects(this,[function(V){return V.rectGraphics},function(V){return V.rectMaskGraphics}])}}},{key:"draw",value:function(){var D=this;w.stretchRects(this,[function(L){return L.rectGraphics},function(L){return L.rectMaskGraphics}]),this.visibleAndFetchedTiles().forEach(function(L){D.drawAminoAcids(L)}),requestAnimationFrame(this.animate)}},{key:"drawAminoAcids",value:function(D){var L=this;if(!(!this.transcriptInfo||!D||!D.initialized)&&Object.keys(D.sequenceData).length!==0){D.aminoAcidTextGraphics.clear(),D.aminoAcidTextGraphics.removeChildren(),D.gapsGraphics.clear(),D.gapsGraphics.removeChildren(),D.allGapsForMouseOver=[];var z=this._xScale(3)-this._xScale(0);if(z<this.fontSize&&D.isRerenderNecessary){this.renderTile(D),D.isRerenderNecessary=!1;return}else{if(z<this.fontSize)return;D.isRerenderNecessary=!0}var V=D.aminoAcidTextGraphics,te=D.gapsGraphics;te.beginFill(this.colors.gapsColor);var fe=this.getBoundsOfTile(D),Y=aH(fe,2),q=Y[0],K=Y[1],ce=this._xScale.invert(0),re=this._xScale.invert(this.dimensions[0]),ge=Math.max(ce,q)-3,F=Math.min(re,K),Te=this.rowHeight+this.rowSpacing;this.activeSpecies.forEach(function(Ce){var ve=Ce.yPosOffset,Ke=ve+Te/2,ot=Ce.species;D.gapsData[ot].forEach(function($){if($.position>=ge&&$.position<=F){var lt=L._xScale($.position+1);te.drawRect(lt-1,ve,2,Te),z>2.2*L.gapTexts.maxWidth&&($.sprite.position.x=lt+3,$.sprite.position.y=Ke-$.letterHeight/2,te.addChild($.sprite)),D.allGapsForMouseOver.push({gap:$,rect:[lt-3,lt+3,ve,ve+Te]})}}),D.sequenceData[ot].forEach(function($){if($.start>=ge&&$.start<=F){var lt=L._xScale($.start+$.codonLength/2+1);V.beginFill($.backgroundColor);var Tt=z*$.codonLength/3;V.drawRect(L._xScale($.start+1),ve,Tt,Te),$.sprite&&($.sprite.position.x=lt-$.letterWidth/2,$.sprite.position.y=Ke-$.letterHeight/2,V.addChild($.sprite))}})})}}},{key:"getVisibleExonRects",value:function(D){var L=this,z=this.getBoundsOfTile(D),V=aH(z,2),te=V[0],fe=V[1],Y=D.tileData,q=[];return Y.forEach(function(K){var ce=K.fields,re=+K.chrOffset,ge=L.transcriptId(ce);if(!(!L.transcriptInfo[ge]||!L.transcriptInfo[ge].showTranscript)){var F=L.transcriptInfo[ge].exonStarts,Te=L.transcriptInfo[ge].exonEnds,Ce=L.transcriptInfo[ge].strand,ve=L.transcriptInfo[ge].startCodonPos!=="."&&L.transcriptInfo[ge].stopCodonPos!==".";if(ve){var Ke=L.transcriptInfo[ge].startCodonPos+re,ot=L.transcriptInfo[ge].stopCodonPos+re,$=L.transcriptInfo[ge].txStart+re,lt=L.transcriptInfo[ge].txEnd+re,Tt=F.map(function(yr){return+yr+re}),Be=Te.map(function(yr){return+yr+re});Tt.push(Ke,ot),Be.push(Ke,ot),Tt.sort(),Be.sort();for(var qe=L._xScale($+1),We=L._xScale(lt+1),Ge=L.activeSpecies.length*(L.rowHeight+L.rowSpacing),nt=0;nt<Tt.length;nt++){var St=Tt[nt],Gt=Be[nt];if(!(Gt<te||St>fe)){var Zt=Ce==="+"&&(Gt<=Ke||St>=ot)||Ce==="-"&&(St>=Ke||Gt<=ot);if(!Zt){var ir=L._xScale(St+1),zt=Math.max(1,L._xScale(Gt+1)-L._xScale(St+1)),Qt=Ce==="+"?Math.min(ir,We):Math.max(ir,qe),Wt=Ce==="+"?Math.min(ir+zt,We):Math.max(ir+zt,qe);q.push({color:L.colors[Ce+"1"],transcriptId:ge,rect:[Qt,0,Wt-Qt,Ge]})}}}}}}),q}},{key:"renderExons",value:function(D,L){L.forEach(function(z){var V;D.rectGraphics.beginFill(z.color),(V=D.rectGraphics).drawRect.apply(V,JZ(z.rect))})}},{key:"generateMouseOverRects",value:function(D){var L=D.map(function(z){var V=z.rect,te=z;return te.rect=[V[0],V[0]+V[2],V[1],V[1]+V[3]],te});return L}},{key:"renderCondensedView",value:function(D){var L=this,z=this.getBoundsOfTile(D),V=aH(z,2),te=V[0],fe=V[1],Y=this._xScale.invert(-this.dimensions[0]),q=this._xScale.invert(2*this.dimensions[0]),K=this._xScale(3)-this._xScale(0),ce=D.tileData;ce.forEach(function(re){var ge=re.fields,F=L.transcriptId(ge);if(L.transcriptInfo[F].showTranscript){var Te=L.transcriptInfo[F].startCodonPos!=="."&&L.transcriptInfo[F].stopCodonPos!==".";Te&&L.activeSpecies.forEach(function(Ce){var ve=Ce.yPosOffset,Ke=Ce.species,ot=L.rowHeight+L.rowSpacing;D.sequenceData[Ke].forEach(function($){if($.start>=Math.max(Y,te-2)&&$.start<=Math.min(q,fe)){var lt=L.colors.white;$.match&&$.strand==="+"?lt=L.colors["+dark"]:$.match&&$.strand==="-"?lt=L.colors["-dark"]:$.sprite===null&&(lt=L.colors.lightgrey),D.rectGraphics.beginFill(lt);var Tt=K*$.codonLength/3;D.rectGraphics.drawRect(L._xScale($.start+1),ve,Tt,ot)}})})}})}},{key:"drawLabels",value:function(){var D=this;this.pForeground.clear(),this.pForeground.removeChildren();var L=0;this.activeSpecies.forEach(function(z){L=Math.max(L,z.label.width)}),this.pForeground.beginFill(this.colors.white),this.pForeground.drawRect(0,0,L+2,this.activeSpecies.length*(this.rowHeight+this.rowSpacing)),this.activeSpecies.forEach(function(z,V){var te=z.label.sprite;te.position.x=0,te.position.y=z.yPosOffset+(D.rowHeight+D.rowSpacing-te.height)/2,D.pForeground.addChild(te),D.pForeground.drawRect(0,(V+1)*(D.rowHeight+D.rowSpacing),D.dimensions[0],1)})}},{key:"destroyTile",value:function(D){D.rectGraphics.destroy(),D.rectMaskGraphics.destroy(),D.aminoAcidTextGraphics.removeChildren(),D.aminoAcidTextGraphics.destroy(),D.gapsGraphics.removeChildren(),D.gapsGraphics.destroy(),D.graphics.destroy(),D=null}},{key:"calculateZoomLevel",value:function(){var D=d.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),L=Math.min(D,this.maxZoom);return L=Math.max(L,0),L}},{key:"getBoundsOfTile",value:function(D){var L=+D.tileId.split(".")[1],z=+D.tileId.split(".")[0],V=+this.tilesetInfo.max_width/Math.pow(2,z),te=this.tilesetInfo.min_pos[0]+L*V,fe=this.tilesetInfo.min_pos[0]+(L+1)*V;return[te,fe]}},{key:"isPointInRectangle",value:function(D,L){return D[0]<L[0]&&D[1]>L[0]&&D[2]<L[1]&&D[3]>L[1]}},{key:"getMouseOverHtml",value:function(D,L){if(!this.tilesetInfo)return"";var z=[D,L],V=!0,te=!1,fe=void 0;try{for(var Y=this.visibleAndFetchedTiles()[Symbol.iterator](),q;!(V=(q=Y.next()).done);V=!0){for(var K=q.value,ce=0;ce<K.allGapsForMouseOver.length;ce++){var re=K.allGapsForMouseOver[ce].rect,ge=K.allGapsForMouseOver[ce].gap;if(this.isPointInRectangle(re,z))return`
                <div>
                  <div><b>`+ge.seq+`</b></div>
                </div>
              `}for(var F=0;F<K.allExonsForMouseOver.length;F++){var Te=K.allExonsForMouseOver[F].rect;if(this.isPointInRectangle(Te,z)){var Ce=K.allExonsForMouseOver[F].transcriptId,ve=this.transcriptInfo[Ce];return`
                <div>
                  <div><b>Transcript: `+ve.transcriptName+`</b></div>
                  <div>Position: `+ve.chromName+":"+ve.txStart+"-"+ve.txEnd+`</div>
                  <div>Strand: `+ve.strand+`</div>
                </div>
              `}}}}catch(Ke){te=!0,fe=Ke}finally{try{!V&&Y.return&&Y.return()}finally{if(te)throw fe}}return""}},{key:"exportSVG",value:function(){var D=this,L=null,z=null;z=document.createElement("g"),L=z;var V=qee.nice(),te=document.createElement("g");te.setAttribute("style","clip-path:url(#"+V+");"),L.appendChild(te);var fe=document.createElementNS("http://www.w3.org/2000/svg","clipPath");fe.setAttribute("id",V),L.appendChild(fe);var Y=document.createElementNS("http://www.w3.org/2000/svg","polygon");fe.appendChild(Y),Y.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0]+","+this.position[1]+" ")+(this.position[0]+this.dimensions[0]+","+(this.position[1]+this.dimensions[1])+" ")+(this.position[0]+","+(this.position[1]+this.dimensions[1])+" "));var q=document.createElement("g");q.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),te.appendChild(q);var K=this.rowHeight+this.rowSpacing,ce=this._xScale(3)-this._xScale(0);this.visibleAndFetchedTiles().filter(function(ve){return Object.keys(ve.sequenceData).length>0}).forEach(function(ve){var Ke=document.createElement("g");Ke.setAttribute("transform","translate("+ve.aminoAcidTextGraphics.position.x+`,
            `+ve.aminoAcidTextGraphics.position.y+`)
            scale(`+ve.aminoAcidTextGraphics.scale.x+`,
            `+ve.aminoAcidTextGraphics.scale.y+")"),D.activeSpecies.forEach(function(ot){var $=ot.yPosOffset,lt=$+K/1,Tt=ot.species;ce>=D.fontSize?(ve.gapsData[Tt].forEach(function(Be){var qe=document.createElement("g"),We=document.createElement("path"),Ge="M 0 0 H 2 V "+D.rowHeight+" H 0 Z";We.setAttribute("d",Ge),We.setAttribute("fill","orange"),We.setAttribute("opacity","1"),qe.appendChild(We),qe.setAttribute("transform","translate("+D._xScale(Be.position+1)+","+($+.5*K-D.rowSpacing)+")scale(1,1)"),Ke.appendChild(qe)}),ve.sequenceData[Tt].forEach(function(Be){var qe=document.createElement("g"),We=document.createElement("text");We.setAttribute("text-anchor","middle"),We.setAttribute("font-family",D.options.fontFamily),We.setAttribute("font-size",D.fontSize+"px"),Be.match&&We.setAttribute("font-weight","bold"),We.innerHTML=Be.letter,qe.appendChild(We),qe.setAttribute("transform","translate("+(D._xScale(Be.start+1)+ce/2)+","+lt+")scale(1,1)"),Ke.appendChild(qe)})):ve.sequenceData[Tt].forEach(function(Be){if(Be.match){var qe=document.createElement("g"),We=document.createElement("path"),Ge=ce*Be.codonLength/3,nt="M 0 0 H "+Ge+" V "+D.rowHeight+" H 0 Z";We.setAttribute("d",nt),Be.strand==="+"?(We.setAttribute("fill",D.options.plusStrandColorZoomedOut),We.setAttribute("stroke",D.options.plusStrandColorZoomedOut)):(We.setAttribute("fill",D.options.minusStrandColorZoomedOut),We.setAttribute("stroke",D.options.minusStrandColorZoomedOut)),We.setAttribute("opacity","1"),qe.appendChild(We),qe.setAttribute("transform","translate("+D._xScale(Be.start+1)+","+($+.5*K-D.rowSpacing)+")scale(1,1)"),Ke.appendChild(qe)}})}),q.appendChild(Ke)});var re=this.activeSpecies.length*(this.rowHeight+this.rowSpacing)+5,ge=0;this.activeSpecies.forEach(function(ve){ge=Math.max(ge,ve.label.width+1)});var F=document.createElement("g"),Te=document.createElement("path"),Ce="M 0 0 H "+ge+" V "+re+" H 0 Z";return Te.setAttribute("d",Ce),Te.setAttribute("fill","white"),Te.setAttribute("opacity","1"),F.appendChild(Te),q.appendChild(F),this.activeSpecies.forEach(function(ve,Ke){var ot=document.createElement("g"),$=document.createElement("text");$.setAttribute("text-anchor","start"),$.setAttribute("font-family",D.options.fontFamily),$.setAttribute("font-size",D.fontSize+"px"),$.setAttribute("font-weight","bold"),ot.setAttribute("transform","scale(1,1)"),$.setAttribute("fill",D.options.labelTextColor),$.innerHTML=ve.label.text.text,ot.appendChild($),ot.setAttribute("transform","translate(0,"+(ve.yPosOffset+K)+")scale(1,1)"),q.appendChild(ot)}),[z,z]}}]),N}(o.tracks.HorizontalGeneAnnotationsTrack);return new(Function.prototype.bind.apply(A,[null].concat(l)))},oft='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>';pJ.config={type:"horizontal-orthologs",datatype:["gene-annotation"],local:!1,orientation:"1d-horizontal",thumbnail:new DOMParser().parseFromString(oft,"text/xml").documentElement,availableOptions:["aminoAcidColor","aminoAcidColorNoMatch","fontSize","fontFamily","gapsColor","labelTextColor","minusStrandColor1","minusStrandColor2","minusStrandColorZoomedOut","plusStrandColor1","plusStrandColor2","plusStrandColorZoomedOut","rowHeight","rowSpacing","species"],defaultOptions:{aminoAcidColor:"#333333",aminoAcidColorNoMatch:"#b0b0b0",fontSize:10,fontFamily:"Arial",gapsColor:"#eb9c00",labelTextColor:"#888888",minusStrandColor1:"#ffe0e2",minusStrandColor2:"#fff0f1",minusStrandColorZoomedOut:"#fabec2",plusStrandColor1:"#ebebff",plusStrandColor2:"#dedeff",plusStrandColorZoomedOut:"#bdbfff",rowHeight:11,rowSpacing:2,species:["human","macaca_mulatta","mouse","dog","elephant","chicken","zebrafish"]}};var sft=Object.create,h9=Object.defineProperty,lft=Object.getOwnPropertyDescriptor,Kee=Object.getOwnPropertyNames,uft=Object.getPrototypeOf,cft=Object.prototype.hasOwnProperty,Ls=(n,o)=>function(){return n&&(o=(0,n[Kee(n)[0]])(n=0)),o},Pd=(n,o)=>function(){return o||(0,n[Kee(n)[0]])((o={exports:{}}).exports,o),o.exports},hft=(n,o)=>{for(var i in o)h9(n,i,{get:o[i],enumerable:!0})},DAe=(n,o,i,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of Kee(o))!cft.call(n,c)&&c!==i&&h9(n,c,{get:()=>o[c],enumerable:!(l=lft(o,c))||l.enumerable});return n},gE=(n,o,i)=>(i=n!=null?sft(uft(n)):{},DAe(o||!n||!n.__esModule?h9(i,"default",{value:n,enumerable:!0}):i,n)),fft=n=>DAe(h9({},"__esModule",{value:!0}),n);function OAe(){throw new Error("setTimeout has not been defined")}function kAe(){throw new Error("clearTimeout has not been defined")}function RAe(n){if(Tv===setTimeout)return setTimeout(n,0);if((Tv===OAe||!Tv)&&setTimeout)return Tv=setTimeout,setTimeout(n,0);try{return Tv(n,0)}catch{try{return Tv.call(null,n,0)}catch{return Tv.call(this,n,0)}}}function dft(n){if(Ev===clearTimeout)return clearTimeout(n);if((Ev===kAe||!Ev)&&clearTimeout)return Ev=clearTimeout,clearTimeout(n);try{return Ev(n)}catch{try{return Ev.call(null,n)}catch{return Ev.call(this,n)}}}function pft(){!KT||!HT||(KT=!1,HT.length?Im=HT.concat(Im):R2=-1,Im.length&&PAe())}function PAe(){if(!KT){var n=RAe(pft);KT=!0;for(var o=Im.length;o;){for(HT=Im,Im=[];++R2<o;)HT&&HT[R2].run();R2=-1,o=Im.length}HT=null,KT=!1,dft(n)}}function mft(n){var o=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)o[i-1]=arguments[i];Im.push(new NAe(n,o)),Im.length===1&&!KT&&RAe(PAe)}function NAe(n,o){this.fun=n,this.array=o}function AT(){}function gft(n){throw new Error("process.binding is not supported")}function vft(){return"/"}function yft(n){throw new Error("process.chdir is not supported")}function bft(){return 0}function _ft(n){var o=MAe.call(RT)*.001,i=Math.floor(o),l=Math.floor(o%1*1e9);return n&&(i=i-n[0],l=l-n[1],l<0&&(i--,l+=1e9)),[i,l]}function Tft(){var n=new Date,o=n-LAe;return o/1e3}var Tv,Ev,Im,KT,HT,R2,nbe,ibe,abe,obe,sbe,lbe,ube,cbe,hbe,fbe,dbe,pbe,mbe,gbe,vbe,ybe,RT,MAe,LAe,bbe,eK,gr=Ls({"node_modules/@esbuild-plugins/node-globals-polyfill/_virtual-process-polyfill_.js"(){Tv=OAe,Ev=kAe,typeof globalThis.setTimeout=="function"&&(Tv=setTimeout),typeof globalThis.clearTimeout=="function"&&(Ev=clearTimeout),Im=[],KT=!1,R2=-1,NAe.prototype.run=function(){this.fun.apply(null,this.array)},nbe="browser",ibe="browser",abe=!0,obe={},sbe=[],lbe="",ube={},cbe={},hbe={},fbe=AT,dbe=AT,pbe=AT,mbe=AT,gbe=AT,vbe=AT,ybe=AT,RT=globalThis.performance||{},MAe=RT.now||RT.mozNow||RT.msNow||RT.oNow||RT.webkitNow||function(){return new Date().getTime()},LAe=new Date,bbe={nextTick:mft,title:nbe,browser:abe,env:obe,argv:sbe,version:lbe,versions:ube,on:fbe,addListener:dbe,once:pbe,off:mbe,removeListener:gbe,removeAllListeners:vbe,emit:ybe,binding:gft,cwd:vft,chdir:yft,umask:bft,hrtime:_ft,platform:ibe,release:cbe,config:hbe,uptime:Tft},eK={},Object.keys(eK).forEach(n=>{const o=n.split(".");let i=bbe;for(let l=0;l<o.length;l++){const c=o[l];l===o.length-1?i[c]=eK[n]:i=i[c]||(i[c]={})}})}});function FAe(){d9=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)Cd[o]=n[o],eh[n.charCodeAt(o)]=o;eh["-".charCodeAt(0)]=62,eh["_".charCodeAt(0)]=63}function Eft(n){d9||FAe();var o,i,l,c,d,m,b=n.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");d=n[b-2]==="="?2:n[b-1]==="="?1:0,m=new XAe(b*3/4-d),l=d>0?b-4:b;var w=0;for(o=0,i=0;o<l;o+=4,i+=3)c=eh[n.charCodeAt(o)]<<18|eh[n.charCodeAt(o+1)]<<12|eh[n.charCodeAt(o+2)]<<6|eh[n.charCodeAt(o+3)],m[w++]=c>>16&255,m[w++]=c>>8&255,m[w++]=c&255;return d===2?(c=eh[n.charCodeAt(o)]<<2|eh[n.charCodeAt(o+1)]>>4,m[w++]=c&255):d===1&&(c=eh[n.charCodeAt(o)]<<10|eh[n.charCodeAt(o+1)]<<4|eh[n.charCodeAt(o+2)]>>2,m[w++]=c>>8&255,m[w++]=c&255),m}function Sft(n){return Cd[n>>18&63]+Cd[n>>12&63]+Cd[n>>6&63]+Cd[n&63]}function Aft(n,o,i){for(var l,c=[],d=o;d<i;d+=3)l=(n[d]<<16)+(n[d+1]<<8)+n[d+2],c.push(Sft(l));return c.join("")}function _be(n){d9||FAe();for(var o,i=n.length,l=i%3,c="",d=[],m=16383,b=0,w=i-l;b<w;b+=m)d.push(Aft(n,b,b+m>w?w:b+m));return l===1?(o=n[i-1],c+=Cd[o>>2],c+=Cd[o<<4&63],c+="=="):l===2&&(o=(n[i-2]<<8)+n[i-1],c+=Cd[o>>10],c+=Cd[o>>4&63],c+=Cd[o<<2&63],c+="="),d.push(c),d.join("")}function EU(){return cr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ov(n,o){if(EU()<o)throw new RangeError("Invalid typed array length");return cr.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(o),n.__proto__=cr.prototype):(n===null&&(n=new cr(o)),n.length=o),n}function cr(n,o,i){if(!cr.TYPED_ARRAY_SUPPORT&&!(this instanceof cr))return new cr(n,o,i);if(typeof n=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return mJ(this,n)}return BAe(this,n,o,i)}function BAe(n,o,i,l){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?xft(n,o,i,l):typeof o=="string"?Cft(n,o,i):Ift(n,o)}function HAe(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function wft(n,o,i,l){return HAe(o),o<=0?Ov(n,o):i!==void 0?typeof l=="string"?Ov(n,o).fill(i,l):Ov(n,o).fill(i):Ov(n,o)}function mJ(n,o){if(HAe(o),n=Ov(n,o<0?0:Qee(o)|0),!cr.TYPED_ARRAY_SUPPORT)for(var i=0;i<o;++i)n[i]=0;return n}function Cft(n,o,i){if((typeof i!="string"||i==="")&&(i="utf8"),!cr.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var l=UAe(o,i)|0;n=Ov(n,l);var c=n.write(o,i);return c!==l&&(n=n.slice(0,c)),n}function gJ(n,o){var i=o.length<0?0:Qee(o.length)|0;n=Ov(n,i);for(var l=0;l<i;l+=1)n[l]=o[l]&255;return n}function xft(n,o,i,l){if(o.byteLength,i<0||o.byteLength<i)throw new RangeError("'offset' is out of bounds");if(o.byteLength<i+(l||0))throw new RangeError("'length' is out of bounds");return i===void 0&&l===void 0?o=new Uint8Array(o):l===void 0?o=new Uint8Array(o,i):o=new Uint8Array(o,i,l),cr.TYPED_ARRAY_SUPPORT?(n=o,n.__proto__=cr.prototype):n=gJ(n,o),n}function Ift(n,o){if(ym(o)){var i=Qee(o.length)|0;return n=Ov(n,i),n.length===0||o.copy(n,0,0,i),n}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||Wft(o.length)?Ov(n,0):gJ(n,o);if(o.type==="Buffer"&&Array.isArray(o.data))return gJ(n,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Qee(n){if(n>=EU())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+EU().toString(16)+" bytes");return n|0}function ym(n){return!!(n!=null&&n._isBuffer)}function UAe(n,o){if(ym(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var i=n.length;if(i===0)return 0;for(var l=!1;;)switch(o){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return SU(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return VAe(n).length;default:if(l)return SU(n).length;o=(""+o).toLowerCase(),l=!0}}function Dft(n,o,i){var l=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,o>>>=0,i<=o))return"";for(n||(n="utf8");;)switch(n){case"hex":return Hft(this,o,i);case"utf8":case"utf-8":return $Ae(this,o,i);case"ascii":return Fft(this,o,i);case"latin1":case"binary":return Bft(this,o,i);case"base64":return Mft(this,o,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Uft(this,o,i);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),l=!0}}function wT(n,o,i){var l=n[o];n[o]=n[i],n[i]=l}function Tbe(n,o,i,l,c){if(n.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=c?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(c)return-1;i=n.length-1}else if(i<0)if(c)i=0;else return-1;if(typeof o=="string"&&(o=cr.from(o,l)),ym(o))return o.length===0?-1:Ebe(n,o,i,l,c);if(typeof o=="number")return o=o&255,cr.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(n,o,i):Uint8Array.prototype.lastIndexOf.call(n,o,i):Ebe(n,[o],i,l,c);throw new TypeError("val must be string, number or Buffer")}function Ebe(n,o,i,l,c){var d=1,m=n.length,b=o.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(n.length<2||o.length<2)return-1;d=2,m/=2,b/=2,i/=2}function w(D,L){return d===1?D[L]:D.readUInt16BE(L*d)}var A;if(c){var I=-1;for(A=i;A<m;A++)if(w(n,A)===w(o,I===-1?0:A-I)){if(I===-1&&(I=A),A-I+1===b)return I*d}else I!==-1&&(A-=A-I),I=-1}else for(i+b>m&&(i=m-b),A=i;A>=0;A--){for(var N=!0,R=0;R<b;R++)if(w(n,A+R)!==w(o,R)){N=!1;break}if(N)return A}return-1}function Oft(n,o,i,l){i=Number(i)||0;var c=n.length-i;l?(l=Number(l),l>c&&(l=c)):l=c;var d=o.length;if(d%2!==0)throw new TypeError("Invalid hex string");l>d/2&&(l=d/2);for(var m=0;m<l;++m){var b=parseInt(o.substr(m*2,2),16);if(isNaN(b))return m;n[i+m]=b}return m}function kft(n,o,i,l){return f9(SU(o,n.length-i),n,i,l)}function GAe(n,o,i,l){return f9(Vft(o),n,i,l)}function Rft(n,o,i,l){return GAe(n,o,i,l)}function Pft(n,o,i,l){return f9(VAe(o),n,i,l)}function Nft(n,o,i,l){return f9(jft(o,n.length-i),n,i,l)}function Mft(n,o,i){return o===0&&i===n.length?_be(n):_be(n.slice(o,i))}function $Ae(n,o,i){i=Math.min(n.length,i);for(var l=[],c=o;c<i;){var d=n[c],m=null,b=d>239?4:d>223?3:d>191?2:1;if(c+b<=i){var w,A,I,N;switch(b){case 1:d<128&&(m=d);break;case 2:w=n[c+1],(w&192)===128&&(N=(d&31)<<6|w&63,N>127&&(m=N));break;case 3:w=n[c+1],A=n[c+2],(w&192)===128&&(A&192)===128&&(N=(d&15)<<12|(w&63)<<6|A&63,N>2047&&(N<55296||N>57343)&&(m=N));break;case 4:w=n[c+1],A=n[c+2],I=n[c+3],(w&192)===128&&(A&192)===128&&(I&192)===128&&(N=(d&15)<<18|(w&63)<<12|(A&63)<<6|I&63,N>65535&&N<1114112&&(m=N))}}m===null?(m=65533,b=1):m>65535&&(m-=65536,l.push(m>>>10&1023|55296),m=56320|m&1023),l.push(m),c+=b}return Lft(l)}function Lft(n){var o=n.length;if(o<=vJ)return String.fromCharCode.apply(String,n);for(var i="",l=0;l<o;)i+=String.fromCharCode.apply(String,n.slice(l,l+=vJ));return i}function Fft(n,o,i){var l="";i=Math.min(n.length,i);for(var c=o;c<i;++c)l+=String.fromCharCode(n[c]&127);return l}function Bft(n,o,i){var l="";i=Math.min(n.length,i);for(var c=o;c<i;++c)l+=String.fromCharCode(n[c]);return l}function Hft(n,o,i){var l=n.length;(!o||o<0)&&(o=0),(!i||i<0||i>l)&&(i=l);for(var c="",d=o;d<i;++d)c+=zft(n[d]);return c}function Uft(n,o,i){for(var l=n.slice(o,i),c="",d=0;d<l.length;d+=2)c+=String.fromCharCode(l[d]+l[d+1]*256);return c}function xs(n,o,i){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+o>i)throw new RangeError("Trying to access beyond buffer length")}function ac(n,o,i,l,c,d){if(!ym(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>c||o<d)throw new RangeError('"value" argument is out of bounds');if(i+l>n.length)throw new RangeError("Index out of range")}function oH(n,o,i,l){o<0&&(o=65535+o+1);for(var c=0,d=Math.min(n.length-i,2);c<d;++c)n[i+c]=(o&255<<8*(l?c:1-c))>>>(l?c:1-c)*8}function sH(n,o,i,l){o<0&&(o=4294967295+o+1);for(var c=0,d=Math.min(n.length-i,4);c<d;++c)n[i+c]=o>>>(l?c:3-c)*8&255}function zAe(n,o,i,l,c,d){if(i+l>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Sbe(n,o,i,l,c){return c||zAe(n,o,i,4),WAe(n,o,i,l,23,4),i+4}function Abe(n,o,i,l,c){return c||zAe(n,o,i,8),WAe(n,o,i,l,52,8),i+8}function Gft(n){if(n=$ft(n).replace(YAe,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function $ft(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function zft(n){return n<16?"0"+n.toString(16):n.toString(16)}function SU(n,o){o=o||1/0;for(var i,l=n.length,c=null,d=[],m=0;m<l;++m){if(i=n.charCodeAt(m),i>55295&&i<57344){if(!c){if(i>56319){(o-=3)>-1&&d.push(239,191,189);continue}else if(m+1===l){(o-=3)>-1&&d.push(239,191,189);continue}c=i;continue}if(i<56320){(o-=3)>-1&&d.push(239,191,189),c=i;continue}i=(c-55296<<10|i-56320)+65536}else c&&(o-=3)>-1&&d.push(239,191,189);if(c=null,i<128){if((o-=1)<0)break;d.push(i)}else if(i<2048){if((o-=2)<0)break;d.push(i>>6|192,i&63|128)}else if(i<65536){if((o-=3)<0)break;d.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((o-=4)<0)break;d.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return d}function Vft(n){for(var o=[],i=0;i<n.length;++i)o.push(n.charCodeAt(i)&255);return o}function jft(n,o){for(var i,l,c,d=[],m=0;m<n.length&&!((o-=2)<0);++m)i=n.charCodeAt(m),l=i>>8,c=i%256,d.push(c),d.push(l);return d}function VAe(n){return Eft(Gft(n))}function f9(n,o,i,l){for(var c=0;c<l&&!(c+i>=o.length||c>=n.length);++c)o[c+i]=n[c];return c}function Wft(n){return n!==n}function Xft(n){return n!=null&&(!!n._isBuffer||jAe(n)||Yft(n))}function jAe(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Yft(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&jAe(n.slice(0,0))}function lH(n,o,i,l,c){var d,m,b=c*8-l-1,w=(1<<b)-1,A=w>>1,I=-7,N=i?c-1:0,R=i?-1:1,D=n[o+N];for(N+=R,d=D&(1<<-I)-1,D>>=-I,I+=b;I>0;d=d*256+n[o+N],N+=R,I-=8);for(m=d&(1<<-I)-1,d>>=-I,I+=l;I>0;m=m*256+n[o+N],N+=R,I-=8);if(d===0)d=1-A;else{if(d===w)return m?NaN:(D?-1:1)*(1/0);m=m+Math.pow(2,l),d=d-A}return(D?-1:1)*m*Math.pow(2,d-l)}function WAe(n,o,i,l,c,d){var m,b,w,A=d*8-c-1,I=(1<<A)-1,N=I>>1,R=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=l?0:d-1,L=l?1:-1,z=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(b=isNaN(o)?1:0,m=I):(m=Math.floor(Math.log(o)/Math.LN2),o*(w=Math.pow(2,-m))<1&&(m--,w*=2),m+N>=1?o+=R/w:o+=R*Math.pow(2,1-N),o*w>=2&&(m++,w/=2),m+N>=I?(b=0,m=I):m+N>=1?(b=(o*w-1)*Math.pow(2,c),m=m+N):(b=o*Math.pow(2,N-1)*Math.pow(2,c),m=0));c>=8;n[i+D]=b&255,D+=L,b/=256,c-=8);for(m=m<<c|b,A+=c;A>0;n[i+D]=m&255,D+=L,m/=256,A-=8);n[i+D-L]|=z*128}var Cd,eh,XAe,d9,vJ,YAe,qft=Ls({"node_modules/@esbuild-plugins/node-globals-polyfill/Buffer.js"(){gr(),vr(),Cd=[],eh=[],XAe=typeof Uint8Array<"u"?Uint8Array:Array,d9=!1,cr.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0,cr.poolSize=8192,cr._augment=function(n){return n.__proto__=cr.prototype,n},cr.from=function(n,o,i){return BAe(null,n,o,i)},cr.kMaxLength=EU(),cr.TYPED_ARRAY_SUPPORT&&(cr.prototype.__proto__=Uint8Array.prototype,cr.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&cr[Symbol.species]),cr.alloc=function(n,o,i){return wft(null,n,o,i)},cr.allocUnsafe=function(n){return mJ(null,n)},cr.allocUnsafeSlow=function(n){return mJ(null,n)},cr.isBuffer=Xft,cr.compare=function(o,i){if(!ym(o)||!ym(i))throw new TypeError("Arguments must be Buffers");if(o===i)return 0;for(var l=o.length,c=i.length,d=0,m=Math.min(l,c);d<m;++d)if(o[d]!==i[d]){l=o[d],c=i[d];break}return l<c?-1:c<l?1:0},cr.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(o,i){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return cr.alloc(0);var l;if(i===void 0)for(i=0,l=0;l<o.length;++l)i+=o[l].length;var c=cr.allocUnsafe(i),d=0;for(l=0;l<o.length;++l){var m=o[l];if(!ym(m))throw new TypeError('"list" argument must be an Array of Buffers');m.copy(c,d),d+=m.length}return c},cr.byteLength=UAe,cr.prototype._isBuffer=!0,cr.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<o;i+=2)wT(this,i,i+1);return this},cr.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<o;i+=4)wT(this,i,i+3),wT(this,i+1,i+2);return this},cr.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<o;i+=8)wT(this,i,i+7),wT(this,i+1,i+6),wT(this,i+2,i+5),wT(this,i+3,i+4);return this},cr.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?$Ae(this,0,o):Dft.apply(this,arguments)},cr.prototype.equals=function(o){if(!ym(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:cr.compare(this,o)===0},cr.prototype.compare=function(o,i,l,c,d){if(!ym(o))throw new TypeError("Argument must be a Buffer");if(i===void 0&&(i=0),l===void 0&&(l=o?o.length:0),c===void 0&&(c=0),d===void 0&&(d=this.length),i<0||l>o.length||c<0||d>this.length)throw new RangeError("out of range index");if(c>=d&&i>=l)return 0;if(c>=d)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,c>>>=0,d>>>=0,this===o)return 0;for(var m=d-c,b=l-i,w=Math.min(m,b),A=this.slice(c,d),I=o.slice(i,l),N=0;N<w;++N)if(A[N]!==I[N]){m=A[N],b=I[N];break}return m<b?-1:b<m?1:0},cr.prototype.includes=function(o,i,l){return this.indexOf(o,i,l)!==-1},cr.prototype.indexOf=function(o,i,l){return Tbe(this,o,i,l,!0)},cr.prototype.lastIndexOf=function(o,i,l){return Tbe(this,o,i,l,!1)},cr.prototype.write=function(o,i,l,c){if(i===void 0)c="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")c=i,l=this.length,i=0;else if(isFinite(i))i=i|0,isFinite(l)?(l=l|0,c===void 0&&(c="utf8")):(c=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var d=this.length-i;if((l===void 0||l>d)&&(l=d),o.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var m=!1;;)switch(c){case"hex":return Oft(this,o,i,l);case"utf8":case"utf-8":return kft(this,o,i,l);case"ascii":return GAe(this,o,i,l);case"latin1":case"binary":return Rft(this,o,i,l);case"base64":return Pft(this,o,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nft(this,o,i,l);default:if(m)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),m=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},vJ=4096,cr.prototype.slice=function(o,i){var l=this.length;o=~~o,i=i===void 0?l:~~i,o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<o&&(i=o);var c;if(cr.TYPED_ARRAY_SUPPORT)c=this.subarray(o,i),c.__proto__=cr.prototype;else{var d=i-o;c=new cr(d,void 0);for(var m=0;m<d;++m)c[m]=this[m+o]}return c},cr.prototype.readUIntLE=function(o,i,l){o=o|0,i=i|0,l||xs(o,i,this.length);for(var c=this[o],d=1,m=0;++m<i&&(d*=256);)c+=this[o+m]*d;return c},cr.prototype.readUIntBE=function(o,i,l){o=o|0,i=i|0,l||xs(o,i,this.length);for(var c=this[o+--i],d=1;i>0&&(d*=256);)c+=this[o+--i]*d;return c},cr.prototype.readUInt8=function(o,i){return i||xs(o,1,this.length),this[o]},cr.prototype.readUInt16LE=function(o,i){return i||xs(o,2,this.length),this[o]|this[o+1]<<8},cr.prototype.readUInt16BE=function(o,i){return i||xs(o,2,this.length),this[o]<<8|this[o+1]},cr.prototype.readUInt32LE=function(o,i){return i||xs(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},cr.prototype.readUInt32BE=function(o,i){return i||xs(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},cr.prototype.readIntLE=function(o,i,l){o=o|0,i=i|0,l||xs(o,i,this.length);for(var c=this[o],d=1,m=0;++m<i&&(d*=256);)c+=this[o+m]*d;return d*=128,c>=d&&(c-=Math.pow(2,8*i)),c},cr.prototype.readIntBE=function(o,i,l){o=o|0,i=i|0,l||xs(o,i,this.length);for(var c=i,d=1,m=this[o+--c];c>0&&(d*=256);)m+=this[o+--c]*d;return d*=128,m>=d&&(m-=Math.pow(2,8*i)),m},cr.prototype.readInt8=function(o,i){return i||xs(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},cr.prototype.readInt16LE=function(o,i){i||xs(o,2,this.length);var l=this[o]|this[o+1]<<8;return l&32768?l|4294901760:l},cr.prototype.readInt16BE=function(o,i){i||xs(o,2,this.length);var l=this[o+1]|this[o]<<8;return l&32768?l|4294901760:l},cr.prototype.readInt32LE=function(o,i){return i||xs(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},cr.prototype.readInt32BE=function(o,i){return i||xs(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},cr.prototype.readFloatLE=function(o,i){return i||xs(o,4,this.length),lH(this,o,!0,23,4)},cr.prototype.readFloatBE=function(o,i){return i||xs(o,4,this.length),lH(this,o,!1,23,4)},cr.prototype.readDoubleLE=function(o,i){return i||xs(o,8,this.length),lH(this,o,!0,52,8)},cr.prototype.readDoubleBE=function(o,i){return i||xs(o,8,this.length),lH(this,o,!1,52,8)},cr.prototype.writeUIntLE=function(o,i,l,c){if(o=+o,i=i|0,l=l|0,!c){var d=Math.pow(2,8*l)-1;ac(this,o,i,l,d,0)}var m=1,b=0;for(this[i]=o&255;++b<l&&(m*=256);)this[i+b]=o/m&255;return i+l},cr.prototype.writeUIntBE=function(o,i,l,c){if(o=+o,i=i|0,l=l|0,!c){var d=Math.pow(2,8*l)-1;ac(this,o,i,l,d,0)}var m=l-1,b=1;for(this[i+m]=o&255;--m>=0&&(b*=256);)this[i+m]=o/b&255;return i+l},cr.prototype.writeUInt8=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,1,255,0),cr.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[i]=o&255,i+1},cr.prototype.writeUInt16LE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,2,65535,0),cr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8):oH(this,o,i,!0),i+2},cr.prototype.writeUInt16BE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,2,65535,0),cr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>8,this[i+1]=o&255):oH(this,o,i,!1),i+2},cr.prototype.writeUInt32LE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,4,4294967295,0),cr.TYPED_ARRAY_SUPPORT?(this[i+3]=o>>>24,this[i+2]=o>>>16,this[i+1]=o>>>8,this[i]=o&255):sH(this,o,i,!0),i+4},cr.prototype.writeUInt32BE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,4,4294967295,0),cr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>24,this[i+1]=o>>>16,this[i+2]=o>>>8,this[i+3]=o&255):sH(this,o,i,!1),i+4},cr.prototype.writeIntLE=function(o,i,l,c){if(o=+o,i=i|0,!c){var d=Math.pow(2,8*l-1);ac(this,o,i,l,d-1,-d)}var m=0,b=1,w=0;for(this[i]=o&255;++m<l&&(b*=256);)o<0&&w===0&&this[i+m-1]!==0&&(w=1),this[i+m]=(o/b>>0)-w&255;return i+l},cr.prototype.writeIntBE=function(o,i,l,c){if(o=+o,i=i|0,!c){var d=Math.pow(2,8*l-1);ac(this,o,i,l,d-1,-d)}var m=l-1,b=1,w=0;for(this[i+m]=o&255;--m>=0&&(b*=256);)o<0&&w===0&&this[i+m+1]!==0&&(w=1),this[i+m]=(o/b>>0)-w&255;return i+l},cr.prototype.writeInt8=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,1,127,-128),cr.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[i]=o&255,i+1},cr.prototype.writeInt16LE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,2,32767,-32768),cr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8):oH(this,o,i,!0),i+2},cr.prototype.writeInt16BE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,2,32767,-32768),cr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>8,this[i+1]=o&255):oH(this,o,i,!1),i+2},cr.prototype.writeInt32LE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,4,2147483647,-2147483648),cr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8,this[i+2]=o>>>16,this[i+3]=o>>>24):sH(this,o,i,!0),i+4},cr.prototype.writeInt32BE=function(o,i,l){return o=+o,i=i|0,l||ac(this,o,i,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),cr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>24,this[i+1]=o>>>16,this[i+2]=o>>>8,this[i+3]=o&255):sH(this,o,i,!1),i+4},cr.prototype.writeFloatLE=function(o,i,l){return Sbe(this,o,i,!0,l)},cr.prototype.writeFloatBE=function(o,i,l){return Sbe(this,o,i,!1,l)},cr.prototype.writeDoubleLE=function(o,i,l){return Abe(this,o,i,!0,l)},cr.prototype.writeDoubleBE=function(o,i,l){return Abe(this,o,i,!1,l)},cr.prototype.copy=function(o,i,l,c){if(l||(l=0),!c&&c!==0&&(c=this.length),i>=o.length&&(i=o.length),i||(i=0),c>0&&c<l&&(c=l),c===l||o.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("sourceStart out of bounds");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),o.length-i<c-l&&(c=o.length-i+l);var d=c-l,m;if(this===o&&l<i&&i<c)for(m=d-1;m>=0;--m)o[m+i]=this[m+l];else if(d<1e3||!cr.TYPED_ARRAY_SUPPORT)for(m=0;m<d;++m)o[m+i]=this[m+l];else Uint8Array.prototype.set.call(o,this.subarray(l,l+d),i);return d},cr.prototype.fill=function(o,i,l,c){if(typeof o=="string"){if(typeof i=="string"?(c=i,i=0,l=this.length):typeof l=="string"&&(c=l,l=this.length),o.length===1){var d=o.charCodeAt(0);d<256&&(o=d)}if(c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!cr.isEncoding(c))throw new TypeError("Unknown encoding: "+c)}else typeof o=="number"&&(o=o&255);if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,o||(o=0);var m;if(typeof o=="number")for(m=i;m<l;++m)this[m]=o;else{var b=ym(o)?o:SU(new cr(o,c).toString()),w=b.length;for(m=0;m<l-i;++m)this[m+i]=b[m%w]}return this},YAe=/[^+\/0-9A-Za-z-_]/g}}),vr=Ls({"node_modules/@esbuild-plugins/node-globals-polyfill/_buffer.js"(){qft()}});function qAe(){if(!uH&&(uH=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uH))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uH(ZAe)}var uH,ZAe,KAe=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/rng.js"(){gr(),vr(),ZAe=new Uint8Array(16)}}),QAe,Zft=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/regex.js"(){gr(),vr(),QAe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}});function Kft(n){return typeof n=="string"&&QAe.test(n)}var NM,p9=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/validate.js"(){gr(),vr(),Zft(),NM=Kft}});function Qft(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(Is[n[o+0]]+Is[n[o+1]]+Is[n[o+2]]+Is[n[o+3]]+"-"+Is[n[o+4]]+Is[n[o+5]]+"-"+Is[n[o+6]]+Is[n[o+7]]+"-"+Is[n[o+8]]+Is[n[o+9]]+"-"+Is[n[o+10]]+Is[n[o+11]]+Is[n[o+12]]+Is[n[o+13]]+Is[n[o+14]]+Is[n[o+15]]).toLowerCase();if(!NM(i))throw TypeError("Stringified UUID is invalid");return i}var Is,cH,MM,m9=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/stringify.js"(){for(gr(),vr(),p9(),Is=[],cH=0;cH<256;++cH)Is.push((cH+256).toString(16).substr(1));MM=Qft}});function Jft(n,o,i){var l=o&&i||0,c=o||new Array(16);n=n||{};var d=n.node||wbe,m=n.clockseq!==void 0?n.clockseq:tK;if(d==null||m==null){var b=n.random||(n.rng||qAe)();d==null&&(d=wbe=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),m==null&&(m=tK=(b[6]<<8|b[7])&16383)}var w=n.msecs!==void 0?n.msecs:Date.now(),A=n.nsecs!==void 0?n.nsecs:BH+1,I=w-FH+(A-BH)/1e4;if(I<0&&n.clockseq===void 0&&(m=m+1&16383),(I<0||w>FH)&&n.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");FH=w,BH=A,tK=m,w+=122192928e5;var N=((w&268435455)*1e4+A)%4294967296;c[l++]=N>>>24&255,c[l++]=N>>>16&255,c[l++]=N>>>8&255,c[l++]=N&255;var R=w/4294967296*1e4&268435455;c[l++]=R>>>8&255,c[l++]=R&255,c[l++]=R>>>24&15|16,c[l++]=R>>>16&255,c[l++]=m>>>8|128,c[l++]=m&255;for(var D=0;D<6;++D)c[l+D]=d[D];return o||MM(c)}var wbe,tK,FH,BH,JAe,edt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v1.js"(){gr(),vr(),KAe(),m9(),FH=0,BH=0,JAe=Jft}});function tdt(n){if(!NM(n))throw TypeError("Invalid UUID");var o,i=new Uint8Array(16);return i[0]=(o=parseInt(n.slice(0,8),16))>>>24,i[1]=o>>>16&255,i[2]=o>>>8&255,i[3]=o&255,i[4]=(o=parseInt(n.slice(9,13),16))>>>8,i[5]=o&255,i[6]=(o=parseInt(n.slice(14,18),16))>>>8,i[7]=o&255,i[8]=(o=parseInt(n.slice(19,23),16))>>>8,i[9]=o&255,i[10]=(o=parseInt(n.slice(24,36),16))/1099511627776&255,i[11]=o/4294967296&255,i[12]=o>>>24&255,i[13]=o>>>16&255,i[14]=o>>>8&255,i[15]=o&255,i}var Jee,ewe=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/parse.js"(){gr(),vr(),p9(),Jee=tdt}});function rdt(n){n=unescape(encodeURIComponent(n));for(var o=[],i=0;i<n.length;++i)o.push(n.charCodeAt(i));return o}function twe(n,o,i){function l(c,d,m,b){if(typeof c=="string"&&(c=rdt(c)),typeof d=="string"&&(d=Jee(d)),d.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var w=new Uint8Array(16+c.length);if(w.set(d),w.set(c,d.length),w=i(w),w[6]=w[6]&15|o,w[8]=w[8]&63|128,m){b=b||0;for(var A=0;A<16;++A)m[b+A]=w[A];return m}return MM(w)}try{l.name=n}catch{}return l.DNS=rwe,l.URL=nwe,l}var rwe,nwe,iwe=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v35.js"(){gr(),vr(),m9(),ewe(),rwe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nwe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"}});function ndt(n){if(typeof n=="string"){var o=unescape(encodeURIComponent(n));n=new Uint8Array(o.length);for(var i=0;i<o.length;++i)n[i]=o.charCodeAt(i)}return idt(adt(odt(n),n.length*8))}function idt(n){for(var o=[],i=n.length*32,l="0123456789abcdef",c=0;c<i;c+=8){var d=n[c>>5]>>>c%32&255,m=parseInt(l.charAt(d>>>4&15)+l.charAt(d&15),16);o.push(m)}return o}function awe(n){return(n+64>>>9<<4)+14+1}function adt(n,o){n[o>>5]|=128<<o%32,n[awe(o)-1]=o;for(var i=1732584193,l=-271733879,c=-1732584194,d=271733878,m=0;m<n.length;m+=16){var b=i,w=l,A=c,I=d;i=Ml(i,l,c,d,n[m],7,-680876936),d=Ml(d,i,l,c,n[m+1],12,-389564586),c=Ml(c,d,i,l,n[m+2],17,606105819),l=Ml(l,c,d,i,n[m+3],22,-1044525330),i=Ml(i,l,c,d,n[m+4],7,-176418897),d=Ml(d,i,l,c,n[m+5],12,1200080426),c=Ml(c,d,i,l,n[m+6],17,-1473231341),l=Ml(l,c,d,i,n[m+7],22,-45705983),i=Ml(i,l,c,d,n[m+8],7,1770035416),d=Ml(d,i,l,c,n[m+9],12,-1958414417),c=Ml(c,d,i,l,n[m+10],17,-42063),l=Ml(l,c,d,i,n[m+11],22,-1990404162),i=Ml(i,l,c,d,n[m+12],7,1804603682),d=Ml(d,i,l,c,n[m+13],12,-40341101),c=Ml(c,d,i,l,n[m+14],17,-1502002290),l=Ml(l,c,d,i,n[m+15],22,1236535329),i=Ll(i,l,c,d,n[m+1],5,-165796510),d=Ll(d,i,l,c,n[m+6],9,-1069501632),c=Ll(c,d,i,l,n[m+11],14,643717713),l=Ll(l,c,d,i,n[m],20,-373897302),i=Ll(i,l,c,d,n[m+5],5,-701558691),d=Ll(d,i,l,c,n[m+10],9,38016083),c=Ll(c,d,i,l,n[m+15],14,-660478335),l=Ll(l,c,d,i,n[m+4],20,-405537848),i=Ll(i,l,c,d,n[m+9],5,568446438),d=Ll(d,i,l,c,n[m+14],9,-1019803690),c=Ll(c,d,i,l,n[m+3],14,-187363961),l=Ll(l,c,d,i,n[m+8],20,1163531501),i=Ll(i,l,c,d,n[m+13],5,-1444681467),d=Ll(d,i,l,c,n[m+2],9,-51403784),c=Ll(c,d,i,l,n[m+7],14,1735328473),l=Ll(l,c,d,i,n[m+12],20,-1926607734),i=Fl(i,l,c,d,n[m+5],4,-378558),d=Fl(d,i,l,c,n[m+8],11,-2022574463),c=Fl(c,d,i,l,n[m+11],16,1839030562),l=Fl(l,c,d,i,n[m+14],23,-35309556),i=Fl(i,l,c,d,n[m+1],4,-1530992060),d=Fl(d,i,l,c,n[m+4],11,1272893353),c=Fl(c,d,i,l,n[m+7],16,-155497632),l=Fl(l,c,d,i,n[m+10],23,-1094730640),i=Fl(i,l,c,d,n[m+13],4,681279174),d=Fl(d,i,l,c,n[m],11,-358537222),c=Fl(c,d,i,l,n[m+3],16,-722521979),l=Fl(l,c,d,i,n[m+6],23,76029189),i=Fl(i,l,c,d,n[m+9],4,-640364487),d=Fl(d,i,l,c,n[m+12],11,-421815835),c=Fl(c,d,i,l,n[m+15],16,530742520),l=Fl(l,c,d,i,n[m+2],23,-995338651),i=Bl(i,l,c,d,n[m],6,-198630844),d=Bl(d,i,l,c,n[m+7],10,1126891415),c=Bl(c,d,i,l,n[m+14],15,-1416354905),l=Bl(l,c,d,i,n[m+5],21,-57434055),i=Bl(i,l,c,d,n[m+12],6,1700485571),d=Bl(d,i,l,c,n[m+3],10,-1894986606),c=Bl(c,d,i,l,n[m+10],15,-1051523),l=Bl(l,c,d,i,n[m+1],21,-2054922799),i=Bl(i,l,c,d,n[m+8],6,1873313359),d=Bl(d,i,l,c,n[m+15],10,-30611744),c=Bl(c,d,i,l,n[m+6],15,-1560198380),l=Bl(l,c,d,i,n[m+13],21,1309151649),i=Bl(i,l,c,d,n[m+4],6,-145523070),d=Bl(d,i,l,c,n[m+11],10,-1120210379),c=Bl(c,d,i,l,n[m+2],15,718787259),l=Bl(l,c,d,i,n[m+9],21,-343485551),i=db(i,b),l=db(l,w),c=db(c,A),d=db(d,I)}return[i,l,c,d]}function odt(n){if(n.length===0)return[];for(var o=n.length*8,i=new Uint32Array(awe(o)),l=0;l<o;l+=8)i[l>>5]|=(n[l/8]&255)<<l%32;return i}function db(n,o){var i=(n&65535)+(o&65535),l=(n>>16)+(o>>16)+(i>>16);return l<<16|i&65535}function sdt(n,o){return n<<o|n>>>32-o}function g9(n,o,i,l,c,d){return db(sdt(db(db(o,n),db(l,d)),c),i)}function Ml(n,o,i,l,c,d,m){return g9(o&i|~o&l,n,o,c,d,m)}function Ll(n,o,i,l,c,d,m){return g9(o&l|i&~l,n,o,c,d,m)}function Fl(n,o,i,l,c,d,m){return g9(o^i^l,n,o,c,d,m)}function Bl(n,o,i,l,c,d,m){return g9(i^(o|~l),n,o,c,d,m)}var owe,ldt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/md5.js"(){gr(),vr(),owe=ndt}}),Cbe,swe,udt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v3.js"(){gr(),vr(),iwe(),ldt(),Cbe=twe("v3",48,owe),swe=Cbe}});function cdt(n,o,i){n=n||{};var l=n.random||(n.rng||qAe)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,o){i=i||0;for(var c=0;c<16;++c)o[i+c]=l[c];return o}return MM(l)}var lwe,hdt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v4.js"(){gr(),vr(),KAe(),m9(),lwe=cdt}});function fdt(n,o,i,l){switch(n){case 0:return o&i^~o&l;case 1:return o^i^l;case 2:return o&i^o&l^i&l;case 3:return o^i^l}}function rK(n,o){return n<<o|n>>>32-o}function ddt(n){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var l=unescape(encodeURIComponent(n));n=[];for(var c=0;c<l.length;++c)n.push(l.charCodeAt(c))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var d=n.length/4+2,m=Math.ceil(d/16),b=new Array(m),w=0;w<m;++w){for(var A=new Uint32Array(16),I=0;I<16;++I)A[I]=n[w*64+I*4]<<24|n[w*64+I*4+1]<<16|n[w*64+I*4+2]<<8|n[w*64+I*4+3];b[w]=A}b[m-1][14]=(n.length-1)*8/Math.pow(2,32),b[m-1][14]=Math.floor(b[m-1][14]),b[m-1][15]=(n.length-1)*8&4294967295;for(var N=0;N<m;++N){for(var R=new Uint32Array(80),D=0;D<16;++D)R[D]=b[N][D];for(var L=16;L<80;++L)R[L]=rK(R[L-3]^R[L-8]^R[L-14]^R[L-16],1);for(var z=i[0],V=i[1],te=i[2],fe=i[3],Y=i[4],q=0;q<80;++q){var K=Math.floor(q/20),ce=rK(z,5)+fdt(K,V,te,fe)+Y+o[K]+R[q]>>>0;Y=fe,fe=te,te=rK(V,30)>>>0,V=z,z=ce}i[0]=i[0]+z>>>0,i[1]=i[1]+V>>>0,i[2]=i[2]+te>>>0,i[3]=i[3]+fe>>>0,i[4]=i[4]+Y>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var uwe,pdt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/sha1.js"(){gr(),vr(),uwe=ddt}}),xbe,cwe,mdt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v5.js"(){gr(),vr(),iwe(),pdt(),xbe=twe("v5",80,uwe),cwe=xbe}}),hwe,gdt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/nil.js"(){gr(),vr(),hwe="00000000-0000-0000-0000-000000000000"}});function vdt(n){if(!NM(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var fwe,ydt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/version.js"(){gr(),vr(),p9(),fwe=vdt}}),dwe={};hft(dwe,{NIL:()=>hwe,parse:()=>Jee,stringify:()=>MM,v1:()=>JAe,v3:()=>swe,v4:()=>lwe,v5:()=>cwe,validate:()=>NM,version:()=>fwe});var bdt=Ls({"node_modules/slugid/node_modules/uuid/dist/esm-browser/index.js"(){gr(),vr(),edt(),udt(),hdt(),mdt(),gdt(),ydt(),p9(),m9(),ewe()}}),_dt=Pd({"node_modules/slugid/slugid.js"(n){gr(),vr();var o=(bdt(),fft(dwe));n.encode=function(i){var l=o.parse(i),c=cr.from(l).toString("base64"),d=c.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return d},n.decode=function(i){var l=i.replace(/-/g,"+").replace(/_/g,"/")+"==";return o.stringify(cr.from(l,"base64"))},n.v4=function(){var i=o.v4(null,cr.alloc(16)),l=i.toString("base64"),c=l.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return c},n.nice=function(){var i=o.v4(null,cr.alloc(16));i[0]=i[0]&127;var l=i.toString("base64"),c=l.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return c}}}),Tdt=Pd({"node_modules/slugid/index.js"(n,o){gr(),vr(),o.exports=_dt()}}),Edt=Pd({"node_modules/abortcontroller-polyfill/dist/cjs-ponyfill.js"(n){gr(),vr(),Object.defineProperty(n,"__esModule",{value:!0});function o(fe,Y){if(!(fe instanceof Y))throw new TypeError("Cannot call a class as a function")}function i(fe,Y){for(var q=0;q<Y.length;q++){var K=Y[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(fe,K.key,K)}}function l(fe,Y,q){return Y&&i(fe.prototype,Y),q&&i(fe,q),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function c(fe,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(Y&&Y.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),Y&&m(fe,Y)}function d(fe){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},d(fe)}function m(fe,Y){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,ce){return K.__proto__=ce,K},m(fe,Y)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function A(fe,Y){if(Y&&(typeof Y=="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(fe)}function I(fe){var Y=b();return function(){var K=d(fe),ce;if(Y){var re=d(this).constructor;ce=Reflect.construct(K,arguments,re)}else ce=K.apply(this,arguments);return A(this,ce)}}function N(fe,Y){for(;!Object.prototype.hasOwnProperty.call(fe,Y)&&(fe=d(fe),fe!==null););return fe}function R(){return typeof Reflect<"u"&&Reflect.get?R=Reflect.get.bind():R=function(Y,q,K){var ce=N(Y,q);if(ce){var re=Object.getOwnPropertyDescriptor(ce,q);return re.get?re.get.call(arguments.length<3?Y:K):re.value}},R.apply(this,arguments)}var D=function(){function fe(){o(this,fe),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return l(fe,[{key:"addEventListener",value:function(q,K,ce){q in this.listeners||(this.listeners[q]=[]),this.listeners[q].push({callback:K,options:ce})}},{key:"removeEventListener",value:function(q,K){if(q in this.listeners){for(var ce=this.listeners[q],re=0,ge=ce.length;re<ge;re++)if(ce[re].callback===K){ce.splice(re,1);return}}}},{key:"dispatchEvent",value:function(q){if(q.type in this.listeners){for(var K=this.listeners[q.type],ce=K.slice(),re=0,ge=ce.length;re<ge;re++){var F=ce[re];try{F.callback.call(this,q)}catch(Te){Promise.resolve().then(function(){throw Te})}F.options&&F.options.once&&this.removeEventListener(q.type,F.callback)}return!q.defaultPrevented}}}]),fe}(),L=function(fe){c(q,fe);var Y=I(q);function q(){var K;return o(this,q),K=Y.call(this),K.listeners||D.call(w(K)),Object.defineProperty(w(K),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(w(K),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(w(K),"reason",{value:void 0,writable:!0,configurable:!0}),K}return l(q,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(ce){ce.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,ce)),R(d(q.prototype),"dispatchEvent",this).call(this,ce)}}]),q}(D),z=function(){function fe(){o(this,fe),Object.defineProperty(this,"signal",{value:new L,writable:!0,configurable:!0})}return l(fe,[{key:"abort",value:function(q){var K;try{K=new Event("abort")}catch{typeof document<"u"?document.createEvent?(K=document.createEvent("Event"),K.initEvent("abort",!1,!1)):(K=document.createEventObject(),K.type="abort"):K={type:"abort",bubbles:!1,cancelable:!1}}var ce=q;if(ce===void 0)if(typeof document>"u")ce=new Error("This operation was aborted"),ce.name="AbortError";else try{ce=new DOMException("signal is aborted without reason")}catch{ce=new Error("This operation was aborted"),ce.name="AbortError"}this.signal.reason=ce,this.signal.dispatchEvent(K)}},{key:"toString",value:function(){return"[object AbortController]"}}]),fe}();typeof Symbol<"u"&&Symbol.toStringTag&&(z.prototype[Symbol.toStringTag]="AbortController",L.prototype[Symbol.toStringTag]="AbortSignal");function V(fe){return fe.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof fe.Request=="function"&&!fe.Request.prototype.hasOwnProperty("signal")||!fe.AbortController}function te(fe){typeof fe=="function"&&(fe={fetch:fe});var Y=fe,q=Y.fetch,K=Y.Request,ce=K===void 0?q.Request:K,re=Y.AbortController,ge=Y.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,F=ge===void 0?!1:ge;if(!V({fetch:q,Request:ce,AbortController:re,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:F}))return{fetch:q,Request:Te};var Te=ce;(Te&&!Te.prototype.hasOwnProperty("signal")||F)&&(Te=function(ot,$){var lt;$&&$.signal&&(lt=$.signal,delete $.signal);var Tt=new ce(ot,$);return lt&&Object.defineProperty(Tt,"signal",{writable:!1,enumerable:!1,configurable:!0,value:lt}),Tt},Te.prototype=ce.prototype);var Ce=q,ve=function(ot,$){var lt=Te&&Te.prototype.isPrototypeOf(ot)?ot.signal:$?$.signal:void 0;if(lt){var Tt;try{Tt=new DOMException("Aborted","AbortError")}catch{Tt=new Error("Aborted"),Tt.name="AbortError"}if(lt.aborted)return Promise.reject(Tt);var Be=new Promise(function(qe,We){lt.addEventListener("abort",function(){return We(Tt)},{once:!0})});return $&&$.signal&&delete $.signal,Promise.race([Be,Ce(ot,$)])}return Ce(ot,$)};return{fetch:ve,Request:Te}}n.AbortController=z,n.AbortSignal=L,n.abortableFetch=te}}),pwe=Pd({"node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js"(n){gr(),vr(),Object.defineProperty(n,"__esModule",{value:!0}),n.AbortSignal=n.AbortController=void 0;var o=Edt(),i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},l=typeof i().AbortController>"u"?o.AbortController:i().AbortController;n.AbortController=l;var c=typeof i().AbortController>"u"?o.AbortSignal:i().AbortSignal;n.AbortSignal=c}}),Sdt=Pd({"node_modules/abortable-promise-cache/esm/AggregateAbortController.js"(n){gr(),vr(),Object.defineProperty(n,"__esModule",{value:!0});var o=pwe(),i=class{},l=class{constructor(){this.signals=new Set,this.abortController=new o.AbortController}addSignal(c=new i){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(c),c.aborted?this.handleAborted(c):typeof c.addEventListener=="function"&&c.addEventListener("abort",()=>{this.handleAborted(c)})}handleAborted(c){this.signals.delete(c),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}};n.default=l}}),Adt=Pd({"node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js"(n){gr(),vr(),Object.defineProperty(n,"__esModule",{value:!0});var o=class{constructor(){this.callbacks=new Set}addCallback(i=()=>{}){this.callbacks.add(i),i(this.currentMessage)}callback(i){this.currentMessage=i,this.callbacks.forEach(l=>{l(i)})}};n.default=o}}),wdt=Pd({"node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js"(n){gr(),vr();var o=n&&n.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0});var i=pwe(),l=o(Sdt()),c=o(Adt()),d=class{constructor({fill:m,cache:b}){if(typeof m!="function")throw new TypeError("must pass a fill function");if(typeof b!="object")throw new TypeError("must pass a cache object");if(typeof b.get!="function"||typeof b.set!="function"||typeof b.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=b,this.fillCallback=m}static isAbortException(m){return m.name==="AbortError"||m.code==="ERR_ABORTED"||m.message==="AbortError: aborted"||m.message==="Error: aborted"}evict(m,b){this.cache.get(m)===b&&this.cache.delete(m)}fill(m,b,w,A){const I=new l.default,N=new c.default;N.addCallback(A);const R={aborter:I,promise:this.fillCallback(b,I.signal,D=>{N.callback(D)}),settled:!1,statusReporter:N,get aborted(){return this.aborter.signal.aborted}};R.aborter.addSignal(w),R.aborter.signal.addEventListener("abort",()=>{R.settled||this.evict(m,R)}),R.promise.then(()=>{R.settled=!0},()=>{R.settled=!0,this.evict(m,R)}).catch(D=>{throw console.error(D),D}),this.cache.set(m,R)}static checkSinglePromise(m,b){function w(){if(b&&b.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return m.then(A=>(w(),A),A=>{throw w(),A})}has(m){return this.cache.has(m)}get(m,b,w,A){if(!w&&b instanceof i.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const I=this.cache.get(m);return I?I.aborted&&!I.settled?(this.evict(m,I),this.get(m,b,w,A)):I.settled?I.promise:(I.aborter.addSignal(w),I.statusReporter.addCallback(A),d.checkSinglePromise(I.promise,w)):(this.fill(m,b,w,A),d.checkSinglePromise(this.cache.get(m).promise,w))}delete(m){const b=this.cache.get(m);b&&(b.settled||b.aborter.abort(),this.cache.delete(m))}clear(){const m=this.cache.keys();let b=0;for(let w=m.next();!w.done;w=m.next())this.delete(w.value),b+=1;return b}};n.default=d}}),mwe=Pd({"node_modules/abortable-promise-cache/esm/index.js"(n){gr(),vr();var o=n&&n.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(wdt());n.default=i.default}}),gwe=Pd({"node_modules/quick-lru/index.js"(n,o){gr(),vr();var i=class{constructor(l={}){if(!(l.maxSize&&l.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=l.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(l,c){this.cache.set(l,c),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(l){if(this.cache.has(l))return this.cache.get(l);if(this.oldCache.has(l)){const c=this.oldCache.get(l);return this.oldCache.delete(l),this._set(l,c),c}}set(l,c){return this.cache.has(l)?this.cache.set(l,c):this._set(l,c),this}has(l){return this.cache.has(l)||this.oldCache.has(l)}peek(l){if(this.cache.has(l))return this.cache.get(l);if(this.oldCache.has(l))return this.oldCache.get(l)}delete(l){const c=this.cache.delete(l);return c&&this._size--,this.oldCache.delete(l)||c}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[l]of this)yield l}*values(){for(const[,l]of this)yield l}*[Symbol.iterator](){for(const l of this.cache)yield l;for(const l of this.oldCache){const[c]=l;this.cache.has(c)||(yield l)}}get size(){let l=0;for(const c of this.oldCache.keys())this.cache.has(c)||l++;return this._size+l}};o.exports=i}}),Cdt=Pd({"(disabled):node_modules/generic-filehandle/esm/localFile"(){gr(),vr()}}),xdt=Pd({"node_modules/rxjs/node_modules/tslib/tslib.js"(n,o){gr(),vr();var i,l,c,d,m,b,w,A,I,N,R,D,L,z,V,te,fe,Y,q,K,ce,re,ge,F,Te,Ce,ve,Ke,ot;(function($){var lt=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(Be){$(Tt(lt,Tt(Be)))}):typeof o=="object"&&typeof o.exports=="object"?$(Tt(lt,Tt(o.exports))):$(Tt(lt));function Tt(Be,qe){return Be!==lt&&(typeof Object.create=="function"?Object.defineProperty(Be,"__esModule",{value:!0}):Be.__esModule=!0),function(We,Ge){return Be[We]=qe?qe(We,Ge):Ge}}})(function($){var lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Be,qe){Be.__proto__=qe}||function(Be,qe){for(var We in qe)Object.prototype.hasOwnProperty.call(qe,We)&&(Be[We]=qe[We])};i=function(Be,qe){if(typeof qe!="function"&&qe!==null)throw new TypeError("Class extends value "+String(qe)+" is not a constructor or null");lt(Be,qe);function We(){this.constructor=Be}Be.prototype=qe===null?Object.create(qe):(We.prototype=qe.prototype,new We)},l=Object.assign||function(Be){for(var qe,We=1,Ge=arguments.length;We<Ge;We++){qe=arguments[We];for(var nt in qe)Object.prototype.hasOwnProperty.call(qe,nt)&&(Be[nt]=qe[nt])}return Be},c=function(Be,qe){var We={};for(var Ge in Be)Object.prototype.hasOwnProperty.call(Be,Ge)&&qe.indexOf(Ge)<0&&(We[Ge]=Be[Ge]);if(Be!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,Ge=Object.getOwnPropertySymbols(Be);nt<Ge.length;nt++)qe.indexOf(Ge[nt])<0&&Object.prototype.propertyIsEnumerable.call(Be,Ge[nt])&&(We[Ge[nt]]=Be[Ge[nt]]);return We},d=function(Be,qe,We,Ge){var nt=arguments.length,St=nt<3?qe:Ge===null?Ge=Object.getOwnPropertyDescriptor(qe,We):Ge,Gt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")St=Reflect.decorate(Be,qe,We,Ge);else for(var Zt=Be.length-1;Zt>=0;Zt--)(Gt=Be[Zt])&&(St=(nt<3?Gt(St):nt>3?Gt(qe,We,St):Gt(qe,We))||St);return nt>3&&St&&Object.defineProperty(qe,We,St),St},m=function(Be,qe){return function(We,Ge){qe(We,Ge,Be)}},b=function(Be,qe,We,Ge,nt,St){function Gt(rn){if(rn!==void 0&&typeof rn!="function")throw new TypeError("Function expected");return rn}for(var Zt=Ge.kind,ir=Zt==="getter"?"get":Zt==="setter"?"set":"value",zt=!qe&&Be?Ge.static?Be:Be.prototype:null,Qt=qe||(zt?Object.getOwnPropertyDescriptor(zt,Ge.name):{}),Wt,yr=!1,br=We.length-1;br>=0;br--){var Pt={};for(var Dr in Ge)Pt[Dr]=Dr==="access"?{}:Ge[Dr];for(var Dr in Ge.access)Pt.access[Dr]=Ge.access[Dr];Pt.addInitializer=function(rn){if(yr)throw new TypeError("Cannot add initializers after decoration has completed");St.push(Gt(rn||null))};var Gr=(0,We[br])(Zt==="accessor"?{get:Qt.get,set:Qt.set}:Qt[ir],Pt);if(Zt==="accessor"){if(Gr===void 0)continue;if(Gr===null||typeof Gr!="object")throw new TypeError("Object expected");(Wt=Gt(Gr.get))&&(Qt.get=Wt),(Wt=Gt(Gr.set))&&(Qt.set=Wt),(Wt=Gt(Gr.init))&&nt.push(Wt)}else(Wt=Gt(Gr))&&(Zt==="field"?nt.push(Wt):Qt[ir]=Wt)}zt&&Object.defineProperty(zt,Ge.name,Qt),yr=!0},w=function(Be,qe,We){for(var Ge=arguments.length>2,nt=0;nt<qe.length;nt++)We=Ge?qe[nt].call(Be,We):qe[nt].call(Be);return Ge?We:void 0},A=function(Be){return typeof Be=="symbol"?Be:"".concat(Be)},I=function(Be,qe,We){return typeof qe=="symbol"&&(qe=qe.description?"[".concat(qe.description,"]"):""),Object.defineProperty(Be,"name",{configurable:!0,value:We?"".concat(We," ",qe):qe})},N=function(Be,qe){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Be,qe)},R=function(Be,qe,We,Ge){function nt(St){return St instanceof We?St:new We(function(Gt){Gt(St)})}return new(We||(We=Promise))(function(St,Gt){function Zt(Qt){try{zt(Ge.next(Qt))}catch(Wt){Gt(Wt)}}function ir(Qt){try{zt(Ge.throw(Qt))}catch(Wt){Gt(Wt)}}function zt(Qt){Qt.done?St(Qt.value):nt(Qt.value).then(Zt,ir)}zt((Ge=Ge.apply(Be,qe||[])).next())})},D=function(Be,qe){var We={label:0,sent:function(){if(St[0]&1)throw St[1];return St[1]},trys:[],ops:[]},Ge,nt,St,Gt;return Gt={next:Zt(0),throw:Zt(1),return:Zt(2)},typeof Symbol=="function"&&(Gt[Symbol.iterator]=function(){return this}),Gt;function Zt(zt){return function(Qt){return ir([zt,Qt])}}function ir(zt){if(Ge)throw new TypeError("Generator is already executing.");for(;Gt&&(Gt=0,zt[0]&&(We=0)),We;)try{if(Ge=1,nt&&(St=zt[0]&2?nt.return:zt[0]?nt.throw||((St=nt.return)&&St.call(nt),0):nt.next)&&!(St=St.call(nt,zt[1])).done)return St;switch(nt=0,St&&(zt=[zt[0]&2,St.value]),zt[0]){case 0:case 1:St=zt;break;case 4:return We.label++,{value:zt[1],done:!1};case 5:We.label++,nt=zt[1],zt=[0];continue;case 7:zt=We.ops.pop(),We.trys.pop();continue;default:if(St=We.trys,!(St=St.length>0&&St[St.length-1])&&(zt[0]===6||zt[0]===2)){We=0;continue}if(zt[0]===3&&(!St||zt[1]>St[0]&&zt[1]<St[3])){We.label=zt[1];break}if(zt[0]===6&&We.label<St[1]){We.label=St[1],St=zt;break}if(St&&We.label<St[2]){We.label=St[2],We.ops.push(zt);break}St[2]&&We.ops.pop(),We.trys.pop();continue}zt=qe.call(Be,We)}catch(Qt){zt=[6,Qt],nt=0}finally{Ge=St=0}if(zt[0]&5)throw zt[1];return{value:zt[0]?zt[1]:void 0,done:!0}}},L=function(Be,qe){for(var We in Be)We!=="default"&&!Object.prototype.hasOwnProperty.call(qe,We)&&ot(qe,Be,We)},ot=Object.create?function(Be,qe,We,Ge){Ge===void 0&&(Ge=We);var nt=Object.getOwnPropertyDescriptor(qe,We);(!nt||("get"in nt?!qe.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return qe[We]}}),Object.defineProperty(Be,Ge,nt)}:function(Be,qe,We,Ge){Ge===void 0&&(Ge=We),Be[Ge]=qe[We]},z=function(Be){var qe=typeof Symbol=="function"&&Symbol.iterator,We=qe&&Be[qe],Ge=0;if(We)return We.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&Ge>=Be.length&&(Be=void 0),{value:Be&&Be[Ge++],done:!Be}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")},V=function(Be,qe){var We=typeof Symbol=="function"&&Be[Symbol.iterator];if(!We)return Be;var Ge=We.call(Be),nt,St=[],Gt;try{for(;(qe===void 0||qe-- >0)&&!(nt=Ge.next()).done;)St.push(nt.value)}catch(Zt){Gt={error:Zt}}finally{try{nt&&!nt.done&&(We=Ge.return)&&We.call(Ge)}finally{if(Gt)throw Gt.error}}return St},te=function(){for(var Be=[],qe=0;qe<arguments.length;qe++)Be=Be.concat(V(arguments[qe]));return Be},fe=function(){for(var Be=0,qe=0,We=arguments.length;qe<We;qe++)Be+=arguments[qe].length;for(var Ge=Array(Be),nt=0,qe=0;qe<We;qe++)for(var St=arguments[qe],Gt=0,Zt=St.length;Gt<Zt;Gt++,nt++)Ge[nt]=St[Gt];return Ge},Y=function(Be,qe,We){if(We||arguments.length===2)for(var Ge=0,nt=qe.length,St;Ge<nt;Ge++)(St||!(Ge in qe))&&(St||(St=Array.prototype.slice.call(qe,0,Ge)),St[Ge]=qe[Ge]);return Be.concat(St||Array.prototype.slice.call(qe))},q=function(Be){return this instanceof q?(this.v=Be,this):new q(Be)},K=function(Be,qe,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge=We.apply(Be,qe||[]),nt,St=[];return nt={},Gt("next"),Gt("throw"),Gt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Gt(yr){Ge[yr]&&(nt[yr]=function(br){return new Promise(function(Pt,Dr){St.push([yr,br,Pt,Dr])>1||Zt(yr,br)})})}function Zt(yr,br){try{ir(Ge[yr](br))}catch(Pt){Wt(St[0][3],Pt)}}function ir(yr){yr.value instanceof q?Promise.resolve(yr.value.v).then(zt,Qt):Wt(St[0][2],yr)}function zt(yr){Zt("next",yr)}function Qt(yr){Zt("throw",yr)}function Wt(yr,br){yr(br),St.shift(),St.length&&Zt(St[0][0],St[0][1])}},ce=function(Be){var qe,We;return qe={},Ge("next"),Ge("throw",function(nt){throw nt}),Ge("return"),qe[Symbol.iterator]=function(){return this},qe;function Ge(nt,St){qe[nt]=Be[nt]?function(Gt){return(We=!We)?{value:q(Be[nt](Gt)),done:!1}:St?St(Gt):Gt}:St}},re=function(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe=Be[Symbol.asyncIterator],We;return qe?qe.call(Be):(Be=typeof z=="function"?z(Be):Be[Symbol.iterator](),We={},Ge("next"),Ge("throw"),Ge("return"),We[Symbol.asyncIterator]=function(){return this},We);function Ge(St){We[St]=Be[St]&&function(Gt){return new Promise(function(Zt,ir){Gt=Be[St](Gt),nt(Zt,ir,Gt.done,Gt.value)})}}function nt(St,Gt,Zt,ir){Promise.resolve(ir).then(function(zt){St({value:zt,done:Zt})},Gt)}},ge=function(Be,qe){return Object.defineProperty?Object.defineProperty(Be,"raw",{value:qe}):Be.raw=qe,Be};var Tt=Object.create?function(Be,qe){Object.defineProperty(Be,"default",{enumerable:!0,value:qe})}:function(Be,qe){Be.default=qe};F=function(Be){if(Be&&Be.__esModule)return Be;var qe={};if(Be!=null)for(var We in Be)We!=="default"&&Object.prototype.hasOwnProperty.call(Be,We)&&ot(qe,Be,We);return Tt(qe,Be),qe},Te=function(Be){return Be&&Be.__esModule?Be:{default:Be}},Ce=function(Be,qe,We,Ge){if(We==="a"&&!Ge)throw new TypeError("Private accessor was defined without a getter");if(typeof qe=="function"?Be!==qe||!Ge:!qe.has(Be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return We==="m"?Ge:We==="a"?Ge.call(Be):Ge?Ge.value:qe.get(Be)},ve=function(Be,qe,We,Ge,nt){if(Ge==="m")throw new TypeError("Private method is not writable");if(Ge==="a"&&!nt)throw new TypeError("Private accessor was defined without a setter");if(typeof qe=="function"?Be!==qe||!nt:!qe.has(Be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ge==="a"?nt.call(Be,We):nt?nt.value=We:qe.set(Be,We),We},Ke=function(Be,qe){if(qe===null||typeof qe!="object"&&typeof qe!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Be=="function"?qe===Be:Be.has(qe)},$("__extends",i),$("__assign",l),$("__rest",c),$("__decorate",d),$("__param",m),$("__esDecorate",b),$("__runInitializers",w),$("__propKey",A),$("__setFunctionName",I),$("__metadata",N),$("__awaiter",R),$("__generator",D),$("__exportStar",L),$("__createBinding",ot),$("__values",z),$("__read",V),$("__spread",te),$("__spreadArrays",fe),$("__spreadArray",Y),$("__await",q),$("__asyncGenerator",K),$("__asyncDelegator",ce),$("__asyncValues",re),$("__makeTemplateObject",ge),$("__importStar",F),$("__importDefault",Te),$("__classPrivateFieldGet",Ce),$("__classPrivateFieldSet",ve),$("__classPrivateFieldIn",Ke)})}});gr();vr();gr();vr();var Idt=gE(Tdt(),1);gr();vr();gr();vr();gr();vr();var v9=BigInt(32);function Ddt(n,o,i){const l=+!!i,c=+!i;return BigInt(n.getInt32(o,i)*c+n.getInt32(o+4,i)*l)<<v9|BigInt(n.getUint32(o,i)*l+n.getUint32(o+4,i)*c)}function Odt(n,o,i){const l=n.getUint32(o,i),c=n.getUint32(o+4,i),d=+!!i,m=+!i;return BigInt(l*m+c*d)<<v9|BigInt(l*d+c*m)}function kdt(n,o,i,l){const c=Number(i>>v9),d=Number(i&BigInt(4294967295));l?(n.setInt32(o+4,c,l),n.setUint32(o,d,l)):(n.setInt32(o,c,l),n.setUint32(o+4,d,l))}function Rdt(n,o,i,l){const c=Number(i>>v9),d=Number(i&BigInt(4294967295));l?(n.setUint32(o+4,c,l),n.setUint32(o,d,l)):(n.setUint32(o,c,l),n.setUint32(o+4,d,l))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(n,o){return Ddt(this,n,o)});"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(n,o){return Odt(this,n,o)});"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(n,o,i){kdt(this,n,o,i)});"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(n,o,i){Rdt(this,n,o,i)});gr();vr();gr();vr();gr();vr();var Sm=[],nf=[],Pdt=typeof Uint8Array<"u"?Uint8Array:Array,ete=!1;function vwe(){ete=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)Sm[o]=n[o],nf[n.charCodeAt(o)]=o;nf["-".charCodeAt(0)]=62,nf["_".charCodeAt(0)]=63}function Ndt(n){ete||vwe();var o,i,l,c,d,m,b=n.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");d=n[b-2]==="="?2:n[b-1]==="="?1:0,m=new Pdt(b*3/4-d),l=d>0?b-4:b;var w=0;for(o=0,i=0;o<l;o+=4,i+=3)c=nf[n.charCodeAt(o)]<<18|nf[n.charCodeAt(o+1)]<<12|nf[n.charCodeAt(o+2)]<<6|nf[n.charCodeAt(o+3)],m[w++]=c>>16&255,m[w++]=c>>8&255,m[w++]=c&255;return d===2?(c=nf[n.charCodeAt(o)]<<2|nf[n.charCodeAt(o+1)]>>4,m[w++]=c&255):d===1&&(c=nf[n.charCodeAt(o)]<<10|nf[n.charCodeAt(o+1)]<<4|nf[n.charCodeAt(o+2)]>>2,m[w++]=c>>8&255,m[w++]=c&255),m}function Mdt(n){return Sm[n>>18&63]+Sm[n>>12&63]+Sm[n>>6&63]+Sm[n&63]}function Ldt(n,o,i){for(var l,c=[],d=o;d<i;d+=3)l=(n[d]<<16)+(n[d+1]<<8)+n[d+2],c.push(Mdt(l));return c.join("")}function Ibe(n){ete||vwe();for(var o,i=n.length,l=i%3,c="",d=[],m=16383,b=0,w=i-l;b<w;b+=m)d.push(Ldt(n,b,b+m>w?w:b+m));return l===1?(o=n[i-1],c+=Sm[o>>2],c+=Sm[o<<4&63],c+="=="):l===2&&(o=(n[i-2]<<8)+n[i-1],c+=Sm[o>>10],c+=Sm[o>>4&63],c+=Sm[o<<2&63],c+="="),d.push(c),d.join("")}function y9(n,o,i,l,c){var d,m,b=c*8-l-1,w=(1<<b)-1,A=w>>1,I=-7,N=i?c-1:0,R=i?-1:1,D=n[o+N];for(N+=R,d=D&(1<<-I)-1,D>>=-I,I+=b;I>0;d=d*256+n[o+N],N+=R,I-=8);for(m=d&(1<<-I)-1,d>>=-I,I+=l;I>0;m=m*256+n[o+N],N+=R,I-=8);if(d===0)d=1-A;else{if(d===w)return m?NaN:(D?-1:1)*(1/0);m=m+Math.pow(2,l),d=d-A}return(D?-1:1)*m*Math.pow(2,d-l)}function ywe(n,o,i,l,c,d){var m,b,w,A=d*8-c-1,I=(1<<A)-1,N=I>>1,R=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=l?0:d-1,L=l?1:-1,z=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(b=isNaN(o)?1:0,m=I):(m=Math.floor(Math.log(o)/Math.LN2),o*(w=Math.pow(2,-m))<1&&(m--,w*=2),m+N>=1?o+=R/w:o+=R*Math.pow(2,1-N),o*w>=2&&(m++,w/=2),m+N>=I?(b=0,m=I):m+N>=1?(b=(o*w-1)*Math.pow(2,c),m=m+N):(b=o*Math.pow(2,N-1)*Math.pow(2,c),m=0));c>=8;n[i+D]=b&255,D+=L,b/=256,c-=8);for(m=m<<c|b,A+=c;A>0;n[i+D]=m&255,D+=L,m/=256,A-=8);n[i+D-L]|=z*128}var Fdt={}.toString,bwe=Array.isArray||function(n){return Fdt.call(n)=="[object Array]"},Bdt=50;hr.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;AU();function AU(){return hr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function kv(n,o){if(AU()<o)throw new RangeError("Invalid typed array length");return hr.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(o),n.__proto__=hr.prototype):(n===null&&(n=new hr(o)),n.length=o),n}function hr(n,o,i){if(!hr.TYPED_ARRAY_SUPPORT&&!(this instanceof hr))return new hr(n,o,i);if(typeof n=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return tte(this,n)}return _we(this,n,o,i)}hr.poolSize=8192;hr._augment=function(n){return n.__proto__=hr.prototype,n};function _we(n,o,i,l){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?Gdt(n,o,i,l):typeof o=="string"?Udt(n,o,i):$dt(n,o)}hr.from=function(n,o,i){return _we(null,n,o,i)};hr.TYPED_ARRAY_SUPPORT&&(hr.prototype.__proto__=Uint8Array.prototype,hr.__proto__=Uint8Array);function Twe(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function Hdt(n,o,i,l){return Twe(o),o<=0?kv(n,o):i!==void 0?typeof l=="string"?kv(n,o).fill(i,l):kv(n,o).fill(i):kv(n,o)}hr.alloc=function(n,o,i){return Hdt(null,n,o,i)};function tte(n,o){if(Twe(o),n=kv(n,o<0?0:rte(o)|0),!hr.TYPED_ARRAY_SUPPORT)for(var i=0;i<o;++i)n[i]=0;return n}hr.allocUnsafe=function(n){return tte(null,n)};hr.allocUnsafeSlow=function(n){return tte(null,n)};function Udt(n,o,i){if((typeof i!="string"||i==="")&&(i="utf8"),!hr.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var l=Ewe(o,i)|0;n=kv(n,l);var c=n.write(o,i);return c!==l&&(n=n.slice(0,c)),n}function yJ(n,o){var i=o.length<0?0:rte(o.length)|0;n=kv(n,i);for(var l=0;l<i;l+=1)n[l]=o[l]&255;return n}function Gdt(n,o,i,l){if(o.byteLength,i<0||o.byteLength<i)throw new RangeError("'offset' is out of bounds");if(o.byteLength<i+(l||0))throw new RangeError("'length' is out of bounds");return i===void 0&&l===void 0?o=new Uint8Array(o):l===void 0?o=new Uint8Array(o,i):o=new Uint8Array(o,i,l),hr.TYPED_ARRAY_SUPPORT?(n=o,n.__proto__=hr.prototype):n=yJ(n,o),n}function $dt(n,o){if(Fm(o)){var i=rte(o.length)|0;return n=kv(n,i),n.length===0||o.copy(n,0,0,i),n}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||spt(o.length)?kv(n,0):yJ(n,o);if(o.type==="Buffer"&&bwe(o.data))return yJ(n,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function rte(n){if(n>=AU())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+AU().toString(16)+" bytes");return n|0}hr.isBuffer=lpt;function Fm(n){return!!(n!=null&&n._isBuffer)}hr.compare=function(o,i){if(!Fm(o)||!Fm(i))throw new TypeError("Arguments must be Buffers");if(o===i)return 0;for(var l=o.length,c=i.length,d=0,m=Math.min(l,c);d<m;++d)if(o[d]!==i[d]){l=o[d],c=i[d];break}return l<c?-1:c<l?1:0};hr.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};hr.concat=function(o,i){if(!bwe(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return hr.alloc(0);var l;if(i===void 0)for(i=0,l=0;l<o.length;++l)i+=o[l].length;var c=hr.allocUnsafe(i),d=0;for(l=0;l<o.length;++l){var m=o[l];if(!Fm(m))throw new TypeError('"list" argument must be an Array of Buffers');m.copy(c,d),d+=m.length}return c};function Ewe(n,o){if(Fm(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var i=n.length;if(i===0)return 0;for(var l=!1;;)switch(o){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return wU(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Dwe(n).length;default:if(l)return wU(n).length;o=(""+o).toLowerCase(),l=!0}}hr.byteLength=Ewe;function zdt(n,o,i){var l=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,o>>>=0,i<=o))return"";for(n||(n="utf8");;)switch(n){case"hex":return Jdt(this,o,i);case"utf8":case"utf-8":return wwe(this,o,i);case"ascii":return Kdt(this,o,i);case"latin1":case"binary":return Qdt(this,o,i);case"base64":return qdt(this,o,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ept(this,o,i);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),l=!0}}hr.prototype._isBuffer=!0;function UT(n,o,i){var l=n[o];n[o]=n[i],n[i]=l}hr.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<o;i+=2)UT(this,i,i+1);return this};hr.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<o;i+=4)UT(this,i,i+3),UT(this,i+1,i+2);return this};hr.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<o;i+=8)UT(this,i,i+7),UT(this,i+1,i+6),UT(this,i+2,i+5),UT(this,i+3,i+4);return this};hr.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?wwe(this,0,o):zdt.apply(this,arguments)};hr.prototype.equals=function(o){if(!Fm(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:hr.compare(this,o)===0};hr.prototype.inspect=function(){var o="",i=Bdt;return this.length>0&&(o=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(o+=" ... ")),"<Buffer "+o+">"};hr.prototype.compare=function(o,i,l,c,d){if(!Fm(o))throw new TypeError("Argument must be a Buffer");if(i===void 0&&(i=0),l===void 0&&(l=o?o.length:0),c===void 0&&(c=0),d===void 0&&(d=this.length),i<0||l>o.length||c<0||d>this.length)throw new RangeError("out of range index");if(c>=d&&i>=l)return 0;if(c>=d)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,c>>>=0,d>>>=0,this===o)return 0;for(var m=d-c,b=l-i,w=Math.min(m,b),A=this.slice(c,d),I=o.slice(i,l),N=0;N<w;++N)if(A[N]!==I[N]){m=A[N],b=I[N];break}return m<b?-1:b<m?1:0};function Swe(n,o,i,l,c){if(n.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=c?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(c)return-1;i=n.length-1}else if(i<0)if(c)i=0;else return-1;if(typeof o=="string"&&(o=hr.from(o,l)),Fm(o))return o.length===0?-1:Dbe(n,o,i,l,c);if(typeof o=="number")return o=o&255,hr.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(n,o,i):Uint8Array.prototype.lastIndexOf.call(n,o,i):Dbe(n,[o],i,l,c);throw new TypeError("val must be string, number or Buffer")}function Dbe(n,o,i,l,c){var d=1,m=n.length,b=o.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(n.length<2||o.length<2)return-1;d=2,m/=2,b/=2,i/=2}function w(D,L){return d===1?D[L]:D.readUInt16BE(L*d)}var A;if(c){var I=-1;for(A=i;A<m;A++)if(w(n,A)===w(o,I===-1?0:A-I)){if(I===-1&&(I=A),A-I+1===b)return I*d}else I!==-1&&(A-=A-I),I=-1}else for(i+b>m&&(i=m-b),A=i;A>=0;A--){for(var N=!0,R=0;R<b;R++)if(w(n,A+R)!==w(o,R)){N=!1;break}if(N)return A}return-1}hr.prototype.includes=function(o,i,l){return this.indexOf(o,i,l)!==-1};hr.prototype.indexOf=function(o,i,l){return Swe(this,o,i,l,!0)};hr.prototype.lastIndexOf=function(o,i,l){return Swe(this,o,i,l,!1)};function Vdt(n,o,i,l){i=Number(i)||0;var c=n.length-i;l?(l=Number(l),l>c&&(l=c)):l=c;var d=o.length;if(d%2!==0)throw new TypeError("Invalid hex string");l>d/2&&(l=d/2);for(var m=0;m<l;++m){var b=parseInt(o.substr(m*2,2),16);if(isNaN(b))return m;n[i+m]=b}return m}function jdt(n,o,i,l){return T9(wU(o,n.length-i),n,i,l)}function Awe(n,o,i,l){return T9(apt(o),n,i,l)}function Wdt(n,o,i,l){return Awe(n,o,i,l)}function Xdt(n,o,i,l){return T9(Dwe(o),n,i,l)}function Ydt(n,o,i,l){return T9(opt(o,n.length-i),n,i,l)}hr.prototype.write=function(o,i,l,c){if(i===void 0)c="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")c=i,l=this.length,i=0;else if(isFinite(i))i=i|0,isFinite(l)?(l=l|0,c===void 0&&(c="utf8")):(c=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var d=this.length-i;if((l===void 0||l>d)&&(l=d),o.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var m=!1;;)switch(c){case"hex":return Vdt(this,o,i,l);case"utf8":case"utf-8":return jdt(this,o,i,l);case"ascii":return Awe(this,o,i,l);case"latin1":case"binary":return Wdt(this,o,i,l);case"base64":return Xdt(this,o,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ydt(this,o,i,l);default:if(m)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),m=!0}};hr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function qdt(n,o,i){return o===0&&i===n.length?Ibe(n):Ibe(n.slice(o,i))}function wwe(n,o,i){i=Math.min(n.length,i);for(var l=[],c=o;c<i;){var d=n[c],m=null,b=d>239?4:d>223?3:d>191?2:1;if(c+b<=i){var w,A,I,N;switch(b){case 1:d<128&&(m=d);break;case 2:w=n[c+1],(w&192)===128&&(N=(d&31)<<6|w&63,N>127&&(m=N));break;case 3:w=n[c+1],A=n[c+2],(w&192)===128&&(A&192)===128&&(N=(d&15)<<12|(w&63)<<6|A&63,N>2047&&(N<55296||N>57343)&&(m=N));break;case 4:w=n[c+1],A=n[c+2],I=n[c+3],(w&192)===128&&(A&192)===128&&(I&192)===128&&(N=(d&15)<<18|(w&63)<<12|(A&63)<<6|I&63,N>65535&&N<1114112&&(m=N))}}m===null?(m=65533,b=1):m>65535&&(m-=65536,l.push(m>>>10&1023|55296),m=56320|m&1023),l.push(m),c+=b}return Zdt(l)}var Obe=4096;function Zdt(n){var o=n.length;if(o<=Obe)return String.fromCharCode.apply(String,n);for(var i="",l=0;l<o;)i+=String.fromCharCode.apply(String,n.slice(l,l+=Obe));return i}function Kdt(n,o,i){var l="";i=Math.min(n.length,i);for(var c=o;c<i;++c)l+=String.fromCharCode(n[c]&127);return l}function Qdt(n,o,i){var l="";i=Math.min(n.length,i);for(var c=o;c<i;++c)l+=String.fromCharCode(n[c]);return l}function Jdt(n,o,i){var l=n.length;(!o||o<0)&&(o=0),(!i||i<0||i>l)&&(i=l);for(var c="",d=o;d<i;++d)c+=ipt(n[d]);return c}function ept(n,o,i){for(var l=n.slice(o,i),c="",d=0;d<l.length;d+=2)c+=String.fromCharCode(l[d]+l[d+1]*256);return c}hr.prototype.slice=function(o,i){var l=this.length;o=~~o,i=i===void 0?l:~~i,o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<o&&(i=o);var c;if(hr.TYPED_ARRAY_SUPPORT)c=this.subarray(o,i),c.__proto__=hr.prototype;else{var d=i-o;c=new hr(d,void 0);for(var m=0;m<d;++m)c[m]=this[m+o]}return c};function Fs(n,o,i){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+o>i)throw new RangeError("Trying to access beyond buffer length")}hr.prototype.readUIntLE=function(o,i,l){o=o|0,i=i|0,l||Fs(o,i,this.length);for(var c=this[o],d=1,m=0;++m<i&&(d*=256);)c+=this[o+m]*d;return c};hr.prototype.readUIntBE=function(o,i,l){o=o|0,i=i|0,l||Fs(o,i,this.length);for(var c=this[o+--i],d=1;i>0&&(d*=256);)c+=this[o+--i]*d;return c};hr.prototype.readUInt8=function(o,i){return i||Fs(o,1,this.length),this[o]};hr.prototype.readUInt16LE=function(o,i){return i||Fs(o,2,this.length),this[o]|this[o+1]<<8};hr.prototype.readUInt16BE=function(o,i){return i||Fs(o,2,this.length),this[o]<<8|this[o+1]};hr.prototype.readUInt32LE=function(o,i){return i||Fs(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216};hr.prototype.readUInt32BE=function(o,i){return i||Fs(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])};hr.prototype.readIntLE=function(o,i,l){o=o|0,i=i|0,l||Fs(o,i,this.length);for(var c=this[o],d=1,m=0;++m<i&&(d*=256);)c+=this[o+m]*d;return d*=128,c>=d&&(c-=Math.pow(2,8*i)),c};hr.prototype.readIntBE=function(o,i,l){o=o|0,i=i|0,l||Fs(o,i,this.length);for(var c=i,d=1,m=this[o+--c];c>0&&(d*=256);)m+=this[o+--c]*d;return d*=128,m>=d&&(m-=Math.pow(2,8*i)),m};hr.prototype.readInt8=function(o,i){return i||Fs(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]};hr.prototype.readInt16LE=function(o,i){i||Fs(o,2,this.length);var l=this[o]|this[o+1]<<8;return l&32768?l|4294901760:l};hr.prototype.readInt16BE=function(o,i){i||Fs(o,2,this.length);var l=this[o+1]|this[o]<<8;return l&32768?l|4294901760:l};hr.prototype.readInt32LE=function(o,i){return i||Fs(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24};hr.prototype.readInt32BE=function(o,i){return i||Fs(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]};hr.prototype.readFloatLE=function(o,i){return i||Fs(o,4,this.length),y9(this,o,!0,23,4)};hr.prototype.readFloatBE=function(o,i){return i||Fs(o,4,this.length),y9(this,o,!1,23,4)};hr.prototype.readDoubleLE=function(o,i){return i||Fs(o,8,this.length),y9(this,o,!0,52,8)};hr.prototype.readDoubleBE=function(o,i){return i||Fs(o,8,this.length),y9(this,o,!1,52,8)};function _c(n,o,i,l,c,d){if(!Fm(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>c||o<d)throw new RangeError('"value" argument is out of bounds');if(i+l>n.length)throw new RangeError("Index out of range")}hr.prototype.writeUIntLE=function(o,i,l,c){if(o=+o,i=i|0,l=l|0,!c){var d=Math.pow(2,8*l)-1;_c(this,o,i,l,d,0)}var m=1,b=0;for(this[i]=o&255;++b<l&&(m*=256);)this[i+b]=o/m&255;return i+l};hr.prototype.writeUIntBE=function(o,i,l,c){if(o=+o,i=i|0,l=l|0,!c){var d=Math.pow(2,8*l)-1;_c(this,o,i,l,d,0)}var m=l-1,b=1;for(this[i+m]=o&255;--m>=0&&(b*=256);)this[i+m]=o/b&255;return i+l};hr.prototype.writeUInt8=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,1,255,0),hr.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[i]=o&255,i+1};function b9(n,o,i,l){o<0&&(o=65535+o+1);for(var c=0,d=Math.min(n.length-i,2);c<d;++c)n[i+c]=(o&255<<8*(l?c:1-c))>>>(l?c:1-c)*8}hr.prototype.writeUInt16LE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,2,65535,0),hr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8):b9(this,o,i,!0),i+2};hr.prototype.writeUInt16BE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,2,65535,0),hr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>8,this[i+1]=o&255):b9(this,o,i,!1),i+2};function _9(n,o,i,l){o<0&&(o=4294967295+o+1);for(var c=0,d=Math.min(n.length-i,4);c<d;++c)n[i+c]=o>>>(l?c:3-c)*8&255}hr.prototype.writeUInt32LE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,4,4294967295,0),hr.TYPED_ARRAY_SUPPORT?(this[i+3]=o>>>24,this[i+2]=o>>>16,this[i+1]=o>>>8,this[i]=o&255):_9(this,o,i,!0),i+4};hr.prototype.writeUInt32BE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,4,4294967295,0),hr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>24,this[i+1]=o>>>16,this[i+2]=o>>>8,this[i+3]=o&255):_9(this,o,i,!1),i+4};hr.prototype.writeIntLE=function(o,i,l,c){if(o=+o,i=i|0,!c){var d=Math.pow(2,8*l-1);_c(this,o,i,l,d-1,-d)}var m=0,b=1,w=0;for(this[i]=o&255;++m<l&&(b*=256);)o<0&&w===0&&this[i+m-1]!==0&&(w=1),this[i+m]=(o/b>>0)-w&255;return i+l};hr.prototype.writeIntBE=function(o,i,l,c){if(o=+o,i=i|0,!c){var d=Math.pow(2,8*l-1);_c(this,o,i,l,d-1,-d)}var m=l-1,b=1,w=0;for(this[i+m]=o&255;--m>=0&&(b*=256);)o<0&&w===0&&this[i+m+1]!==0&&(w=1),this[i+m]=(o/b>>0)-w&255;return i+l};hr.prototype.writeInt8=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,1,127,-128),hr.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[i]=o&255,i+1};hr.prototype.writeInt16LE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,2,32767,-32768),hr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8):b9(this,o,i,!0),i+2};hr.prototype.writeInt16BE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,2,32767,-32768),hr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>8,this[i+1]=o&255):b9(this,o,i,!1),i+2};hr.prototype.writeInt32LE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,4,2147483647,-2147483648),hr.TYPED_ARRAY_SUPPORT?(this[i]=o&255,this[i+1]=o>>>8,this[i+2]=o>>>16,this[i+3]=o>>>24):_9(this,o,i,!0),i+4};hr.prototype.writeInt32BE=function(o,i,l){return o=+o,i=i|0,l||_c(this,o,i,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),hr.TYPED_ARRAY_SUPPORT?(this[i]=o>>>24,this[i+1]=o>>>16,this[i+2]=o>>>8,this[i+3]=o&255):_9(this,o,i,!1),i+4};function Cwe(n,o,i,l,c,d){if(i+l>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function xwe(n,o,i,l,c){return c||Cwe(n,o,i,4),ywe(n,o,i,l,23,4),i+4}hr.prototype.writeFloatLE=function(o,i,l){return xwe(this,o,i,!0,l)};hr.prototype.writeFloatBE=function(o,i,l){return xwe(this,o,i,!1,l)};function Iwe(n,o,i,l,c){return c||Cwe(n,o,i,8),ywe(n,o,i,l,52,8),i+8}hr.prototype.writeDoubleLE=function(o,i,l){return Iwe(this,o,i,!0,l)};hr.prototype.writeDoubleBE=function(o,i,l){return Iwe(this,o,i,!1,l)};hr.prototype.copy=function(o,i,l,c){if(l||(l=0),!c&&c!==0&&(c=this.length),i>=o.length&&(i=o.length),i||(i=0),c>0&&c<l&&(c=l),c===l||o.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("sourceStart out of bounds");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),o.length-i<c-l&&(c=o.length-i+l);var d=c-l,m;if(this===o&&l<i&&i<c)for(m=d-1;m>=0;--m)o[m+i]=this[m+l];else if(d<1e3||!hr.TYPED_ARRAY_SUPPORT)for(m=0;m<d;++m)o[m+i]=this[m+l];else Uint8Array.prototype.set.call(o,this.subarray(l,l+d),i);return d};hr.prototype.fill=function(o,i,l,c){if(typeof o=="string"){if(typeof i=="string"?(c=i,i=0,l=this.length):typeof l=="string"&&(c=l,l=this.length),o.length===1){var d=o.charCodeAt(0);d<256&&(o=d)}if(c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!hr.isEncoding(c))throw new TypeError("Unknown encoding: "+c)}else typeof o=="number"&&(o=o&255);if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,o||(o=0);var m;if(typeof o=="number")for(m=i;m<l;++m)this[m]=o;else{var b=Fm(o)?o:wU(new hr(o,c).toString()),w=b.length;for(m=0;m<l-i;++m)this[m+i]=b[m%w]}return this};var tpt=/[^+\/0-9A-Za-z-_]/g;function rpt(n){if(n=npt(n).replace(tpt,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function npt(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function ipt(n){return n<16?"0"+n.toString(16):n.toString(16)}function wU(n,o){o=o||1/0;for(var i,l=n.length,c=null,d=[],m=0;m<l;++m){if(i=n.charCodeAt(m),i>55295&&i<57344){if(!c){if(i>56319){(o-=3)>-1&&d.push(239,191,189);continue}else if(m+1===l){(o-=3)>-1&&d.push(239,191,189);continue}c=i;continue}if(i<56320){(o-=3)>-1&&d.push(239,191,189),c=i;continue}i=(c-55296<<10|i-56320)+65536}else c&&(o-=3)>-1&&d.push(239,191,189);if(c=null,i<128){if((o-=1)<0)break;d.push(i)}else if(i<2048){if((o-=2)<0)break;d.push(i>>6|192,i&63|128)}else if(i<65536){if((o-=3)<0)break;d.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((o-=4)<0)break;d.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return d}function apt(n){for(var o=[],i=0;i<n.length;++i)o.push(n.charCodeAt(i)&255);return o}function opt(n,o){for(var i,l,c,d=[],m=0;m<n.length&&!((o-=2)<0);++m)i=n.charCodeAt(m),l=i>>8,c=i%256,d.push(c),d.push(l);return d}function Dwe(n){return Ndt(rpt(n))}function T9(n,o,i,l){for(var c=0;c<l&&!(c+i>=o.length||c>=n.length);++c)o[c+i]=n[c];return c}function spt(n){return n!==n}function lpt(n){return n!=null&&(!!n._isBuffer||Owe(n)||upt(n))}function Owe(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function upt(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&Owe(n.slice(0,0))}gr();vr();var cpt=class{constructor(n,o){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=n,this.useContextVariables=o}generateVariable(n){const o=[...this.scopes[this.scopes.length-1]];return n&&o.push(n),o.join(".")}generateOption(n){switch(typeof n){case"number":return n.toString();case"string":return this.generateVariable(n);case"function":return`${this.addImport(n)}.call(${this.generateVariable()}, vars)`}}generateError(n){this.pushCode(`throw new Error(${n});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(n){this.code+=n+`
`}pushPath(n){n&&this.scopes[this.scopes.length-1].push(n)}popPath(n){n&&this.scopes[this.scopes.length-1].pop()}pushScope(n){this.scopes.push([n])}popScope(){this.scopes.pop()}addImport(n){if(!this.importPath)return`(${n})`;let o=this.reverseImports.get(n);return o||(o=this.imports.push(n)-1,this.reverseImports.set(n,o)),`${this.importPath}[${o}]`}addReference(n){this.references.has(n)||this.references.set(n,{resolved:!1,requested:!1})}markResolved(n){const o=this.references.get(n);o&&(o.resolved=!0)}markRequested(n){n.forEach(o=>{const i=this.references.get(o);i&&(i.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([n,o])=>!o.resolved&&!o.requested).map(([n,o])=>n)}},Ed=new Map,CT="___parser_",Sd={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},hH={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},fH={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},Zi=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Zi}primitiveGenerateN(n,o){const i=hH[n],l=fH[n];o.pushCode(`${o.generateVariable(this.varName)} = dataView.get${i}(offset, ${l});`),o.pushCode(`offset += ${Sd[n]};`)}primitiveN(n,o,i){return this.setNextParser(n,o,i)}useThisEndian(n){return n+this.endian.toLowerCase()}uint8(n,o={}){return this.primitiveN("uint8",n,o)}uint16(n,o={}){return this.primitiveN(this.useThisEndian("uint16"),n,o)}uint16le(n,o={}){return this.primitiveN("uint16le",n,o)}uint16be(n,o={}){return this.primitiveN("uint16be",n,o)}uint32(n,o={}){return this.primitiveN(this.useThisEndian("uint32"),n,o)}uint32le(n,o={}){return this.primitiveN("uint32le",n,o)}uint32be(n,o={}){return this.primitiveN("uint32be",n,o)}int8(n,o={}){return this.primitiveN("int8",n,o)}int16(n,o={}){return this.primitiveN(this.useThisEndian("int16"),n,o)}int16le(n,o={}){return this.primitiveN("int16le",n,o)}int16be(n,o={}){return this.primitiveN("int16be",n,o)}int32(n,o={}){return this.primitiveN(this.useThisEndian("int32"),n,o)}int32le(n,o={}){return this.primitiveN("int32le",n,o)}int32be(n,o={}){return this.primitiveN("int32be",n,o)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(n,o={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),n,o)}int64be(n,o={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",n,o)}int64le(n,o={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",n,o)}uint64(n,o={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),n,o)}uint64be(n,o={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",n,o)}uint64le(n,o={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",n,o)}floatle(n,o={}){return this.primitiveN("floatle",n,o)}floatbe(n,o={}){return this.primitiveN("floatbe",n,o)}doublele(n,o={}){return this.primitiveN("doublele",n,o)}doublebe(n,o={}){return this.primitiveN("doublebe",n,o)}bitN(n,o,i){return i.length=n,this.setNextParser("bit",o,i)}bit1(n,o={}){return this.bitN(1,n,o)}bit2(n,o={}){return this.bitN(2,n,o)}bit3(n,o={}){return this.bitN(3,n,o)}bit4(n,o={}){return this.bitN(4,n,o)}bit5(n,o={}){return this.bitN(5,n,o)}bit6(n,o={}){return this.bitN(6,n,o)}bit7(n,o={}){return this.bitN(7,n,o)}bit8(n,o={}){return this.bitN(8,n,o)}bit9(n,o={}){return this.bitN(9,n,o)}bit10(n,o={}){return this.bitN(10,n,o)}bit11(n,o={}){return this.bitN(11,n,o)}bit12(n,o={}){return this.bitN(12,n,o)}bit13(n,o={}){return this.bitN(13,n,o)}bit14(n,o={}){return this.bitN(14,n,o)}bit15(n,o={}){return this.bitN(15,n,o)}bit16(n,o={}){return this.bitN(16,n,o)}bit17(n,o={}){return this.bitN(17,n,o)}bit18(n,o={}){return this.bitN(18,n,o)}bit19(n,o={}){return this.bitN(19,n,o)}bit20(n,o={}){return this.bitN(20,n,o)}bit21(n,o={}){return this.bitN(21,n,o)}bit22(n,o={}){return this.bitN(22,n,o)}bit23(n,o={}){return this.bitN(23,n,o)}bit24(n,o={}){return this.bitN(24,n,o)}bit25(n,o={}){return this.bitN(25,n,o)}bit26(n,o={}){return this.bitN(26,n,o)}bit27(n,o={}){return this.bitN(27,n,o)}bit28(n,o={}){return this.bitN(28,n,o)}bit29(n,o={}){return this.bitN(29,n,o)}bit30(n,o={}){return this.bitN(30,n,o)}bit31(n,o={}){return this.bitN(31,n,o)}bit32(n,o={}){return this.bitN(32,n,o)}namely(n){return Ed.set(n,this),this.alias=n,this}skip(n,o={}){return this.seek(n,o)}seek(n,o={}){if(o.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:n})}string(n,o){if(!o.zeroTerminated&&!o.length&&!o.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((o.zeroTerminated||o.length)&&o.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(o.stripNull&&!(o.length||o.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return o.encoding=o.encoding||"utf8",this.setNextParser("string",n,o)}buffer(n,o){if(!o.length&&!o.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",n,o)}wrapped(n,o){if(typeof o!="object"&&typeof n=="object"&&(o=n,n=""),!o||!o.wrapper||!o.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!o.length&&!o.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",n,o)}array(n,o){if(!o.readUntil&&!o.length&&!o.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!o.type)throw new Error("type is required for array.");if(typeof o.type=="string"&&!Ed.has(o.type)&&!(o.type in Sd))throw new Error(`Array element type "${o.type}" is unkown.`);return this.setNextParser("array",n,o)}choice(n,o){if(typeof o!="object"&&typeof n=="object"&&(o=n,n=""),!o)throw new Error("tag and choices are are required for choice.");if(!o.tag)throw new Error("tag is requird for choice.");if(!o.choices)throw new Error("choices is required for choice.");for(const i in o.choices){const l=parseInt(i,10),c=o.choices[l];if(isNaN(l))throw new Error(`Choice key "${i}" is not a number.`);if(typeof c=="string"&&!Ed.has(c)&&!(c in Sd))throw new Error(`Choice type "${c}" is unkown.`)}return this.setNextParser("choice",n,o)}nest(n,o){if(typeof o!="object"&&typeof n=="object"&&(o=n,n=""),!o||!o.type)throw new Error("type is required for nest.");if(!(o.type instanceof Zi)&&!Ed.has(o.type))throw new Error("type must be a known parser name or a Parser object.");if(!(o.type instanceof Zi)&&!n)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",n,o)}pointer(n,o){if(!o.offset)throw new Error("offset is required for pointer.");if(!o.type)throw new Error("type is required for pointer.");if(typeof o.type=="string"&&!(o.type in Sd)&&!Ed.has(o.type))throw new Error(`Pointer type "${o.type}" is unkown.`);return this.setNextParser("pointer",n,o)}saveOffset(n,o={}){return this.setNextParser("saveOffset",n,o)}endianness(n){switch(n.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(n){return this.endianness(n)}useContextVars(n=!0){return this.useContextVariables=n,this}create(n){if(!(n instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=n,this}getContext(n){const o=new cpt(n,this.useContextVariables);return o.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(o),o.pushCode(`return ${CT+this.alias}(0).result;`)):this.addRawCode(o),o}getCode(){const n="imports";return this.getContext(n).code}addRawCode(n){n.pushCode("var offset = 0;"),n.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),n.pushCode("vars.$parent = null;"),n.pushCode("vars.$root = vars;"),this.generate(n),this.resolveReferences(n),n.pushCode("delete vars.$parent;"),n.pushCode("delete vars.$root;"),n.pushCode("return vars;")}addAliasedCode(n){return n.pushCode(`function ${CT+this.alias}(offset, context) {`),n.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),n.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),n.pushCode("vars = Object.assign(vars, ctx);"),this.generate(n),n.markResolved(this.alias),this.resolveReferences(n),n.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),n.pushCode("return { offset: offset, result: vars };"),n.pushCode("}"),n}resolveReferences(n){const o=n.getUnresolvedReferences();n.markRequested(o),o.forEach(i=>{var l;(l=Ed.get(i))===null||l===void 0||l.addAliasedCode(n)})}compile(){const n="imports",o=this.getContext(n);this.compiled=new Function(n,"TextDecoder",`return function (buffer, constructorFn) { ${o.code} };`)(o.imports,TextDecoder)}sizeOf(){let n=NaN;if(Object.keys(Sd).indexOf(this.type)>=0)n=Sd[this.type];else if(this.type==="string"&&typeof this.options.length=="number")n=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")n=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let o=NaN;typeof this.options.type=="string"?o=Sd[this.options.type]:this.options.type instanceof Zi&&(o=this.options.type.sizeOf()),n=this.options.length*o}else this.type==="seek"?n=this.options.length:this.type==="nest"?n=this.options.type.sizeOf():this.type||(n=0);return this.next&&(n+=this.next.sizeOf()),n}parse(n){return this.compiled||this.compile(),this.compiled(n,this.constructorFn)}setNextParser(n,o,i){const l=new Zi;return l.type=n,l.varName=o,l.options=i,l.endian=this.endian,this.head?this.head.next=l:this.next=l,this.head=l,this}generate(n){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,n);break;case"bit":this.generateBit(n);break;case"string":this.generateString(n);break;case"buffer":this.generateBuffer(n);break;case"seek":this.generateSeek(n);break;case"nest":this.generateNest(n);break;case"array":this.generateArray(n);break;case"choice":this.generateChoice(n);break;case"pointer":this.generatePointer(n);break;case"saveOffset":this.generateSaveOffset(n);break;case"wrapper":this.generateWrapper(n);break}this.type!=="bit"&&this.generateAssert(n)}const o=n.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(n,o,this.options.formatter),this.generateNext(n)}generateAssert(n){if(!this.options.assert)return;const o=n.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const i=n.addImport(this.options.assert);n.pushCode(`if (!${i}.call(vars, ${o})) {`)}break;case"number":n.pushCode(`if (${this.options.assert} !== ${o}) {`);break;case"string":n.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${o}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}n.generateError(`"Assertion error: ${o} is " + ${JSON.stringify(this.options.assert.toString())}`),n.pushCode("}")}generateNext(n){return this.next&&(n=this.next.generate(n)),n}generateBit(n){const o=JSON.parse(JSON.stringify(this));if(o.options=this.options,o.generateAssert=this.generateAssert.bind(this),o.generateFormatter=this.generateFormatter.bind(this),o.varName=n.generateVariable(o.varName),n.bitFields.push(o),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const i=n.generateTmpVariable();n.pushCode(`var ${i} = 0;`);const l=(A=0)=>{let I=0;for(let N=A;N<n.bitFields.length;N++){const R=n.bitFields[N].options.length;if(I+R>32)break;I+=R}return I},c=A=>(A<=8?(n.pushCode(`${i} = dataView.getUint8(offset);`),A=8):A<=16?(n.pushCode(`${i} = dataView.getUint16(offset);`),A=16):A<=24?(n.pushCode(`${i} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),A=24):(n.pushCode(`${i} = dataView.getUint32(offset);`),A=32),n.pushCode(`offset += ${A/8};`),A);let d=0;const m=this.endian==="be";let b=0,w=0;n.bitFields.forEach((A,I)=>{let N=A.options.length;if(N>w){if(w){const L=-1>>>32-w;n.pushCode(`${A.varName} = (${i} & 0x${L.toString(16)}) << ${N-w};`),N-=w}d=0,w=b=c(l(I)-w)}const R=m?b-d-N:d,D=-1>>>32-N;n.pushCode(`${A.varName} ${N<A.options.length?"|=":"="} ${i} >> ${R} & 0x${D.toString(16)};`),A.options.length===32&&n.pushCode(`${A.varName} >>>= 0`),A.options.assert&&A.generateAssert(n),A.options.formatter&&A.generateFormatter(n,A.varName,A.options.formatter),d+=N,w-=N}),n.bitFields=[]}}generateSeek(n){const o=n.generateOption(this.options.length);n.pushCode(`offset += ${o};`)}generateString(n){const o=n.generateVariable(this.varName),i=n.generateTmpVariable(),l=this.options.encoding,c=l.toLowerCase()==="hex",d='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const m=this.options.length;n.pushCode(`var ${i} = offset;`),n.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${i} < ${m});`);const b=`offset - ${i} < ${m} ? offset - 1 : offset`;n.pushCode(c?`${o} = Array.from(buffer.subarray(${i}, ${b}), ${d}).join('');`:`${o} = new TextDecoder('${l}').decode(buffer.subarray(${i}, ${b}));`)}else if(this.options.length){const m=n.generateOption(this.options.length);n.pushCode(c?`${o} = Array.from(buffer.subarray(offset, offset + ${m}), ${d}).join('');`:`${o} = new TextDecoder('${l}').decode(buffer.subarray(offset, offset + ${m}));`),n.pushCode(`offset += ${m};`)}else this.options.zeroTerminated?(n.pushCode(`var ${i} = offset;`),n.pushCode("while(dataView.getUint8(offset++) !== 0);"),n.pushCode(c?`${o} = Array.from(buffer.subarray(${i}, offset - 1), ${d}).join('');`:`${o} = new TextDecoder('${l}').decode(buffer.subarray(${i}, offset - 1));`)):this.options.greedy&&(n.pushCode(`var ${i} = offset;`),n.pushCode("while(buffer.length > offset++);"),n.pushCode(c?`${o} = Array.from(buffer.subarray(${i}, offset), ${d}).join('');`:`${o} = new TextDecoder('${l}').decode(buffer.subarray(${i}, offset));`));this.options.stripNull&&n.pushCode(`${o} = ${o}.replace(/\\x00+$/g, '')`)}generateBuffer(n){const o=n.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const i=this.options.readUntil,l=n.generateTmpVariable(),c=n.generateTmpVariable();n.pushCode(`var ${l} = offset;`),n.pushCode(`var ${c} = 0;`),n.pushCode("while (offset < buffer.length) {"),n.pushCode(`${c} = dataView.getUint8(offset);`);const d=n.addImport(i);n.pushCode(`if (${d}.call(${n.generateVariable()}, ${c}, buffer.subarray(offset))) break;`),n.pushCode("offset += 1;"),n.pushCode("}"),n.pushCode(`${o} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")n.pushCode(`${o} = buffer.subarray(offset);`);else{const i=n.generateOption(this.options.length);n.pushCode(`${o} = buffer.subarray(offset, offset + ${i});`),n.pushCode(`offset += ${i};`)}this.options.clone&&n.pushCode(`${o} = buffer.constructor.from(${o});`)}generateArray(n){const o=n.generateOption(this.options.length),i=n.generateOption(this.options.lengthInBytes),l=this.options.type,c=n.generateTmpVariable(),d=n.generateVariable(this.varName),m=n.generateTmpVariable(),b=this.options.key,w=typeof b=="string";if(w?n.pushCode(`${d} = {};`):n.pushCode(`${d} = [];`),typeof this.options.readUntil=="function"?n.pushCode("do {"):this.options.readUntil==="eof"?n.pushCode(`for (var ${c} = 0; offset < buffer.length; ${c}++) {`):i!==void 0?n.pushCode(`for (var ${c} = offset + ${i}; offset < ${c}; ) {`):n.pushCode(`for (var ${c} = ${o}; ${c} > 0; ${c}--) {`),typeof l=="string")if(Ed.get(l)){const A=n.generateTmpVariable();if(n.pushCode(`var ${A} = ${CT+l}(offset, {`),n.useContextVariables){const I=n.generateVariable();n.pushCode(`$parent: ${I},`),n.pushCode(`$root: ${I}.$root,`),!this.options.readUntil&&i===void 0&&n.pushCode(`$index: ${o} - ${c},`)}n.pushCode("});"),n.pushCode(`var ${m} = ${A}.result; offset = ${A}.offset;`),l!==this.alias&&n.addReference(l)}else{const A=hH[l],I=fH[l];n.pushCode(`var ${m} = dataView.get${A}(offset, ${I});`),n.pushCode(`offset += ${Sd[l]};`)}else if(l instanceof Zi){n.pushCode(`var ${m} = {};`);const A=n.generateVariable();n.pushScope(m),n.useContextVariables&&(n.pushCode(`${m}.$parent = ${A};`),n.pushCode(`${m}.$root = ${A}.$root;`),!this.options.readUntil&&i===void 0&&n.pushCode(`${m}.$index = ${o} - ${c};`)),l.generate(n),n.useContextVariables&&(n.pushCode(`delete ${m}.$parent;`),n.pushCode(`delete ${m}.$root;`),n.pushCode(`delete ${m}.$index;`)),n.popScope()}if(w?n.pushCode(`${d}[${m}.${b}] = ${m};`):n.pushCode(`${d}.push(${m});`),n.pushCode("}"),typeof this.options.readUntil=="function"){const A=this.options.readUntil,I=n.addImport(A);n.pushCode(`while (!${I}.call(${n.generateVariable()}, ${m}, buffer.subarray(offset)));`)}}generateChoiceCase(n,o,i){if(typeof i=="string"){const l=n.generateVariable(this.varName);if(Ed.has(i)){const c=n.generateTmpVariable();n.pushCode(`var ${c} = ${CT+i}(offset, {`),n.useContextVariables&&(n.pushCode(`$parent: ${l}.$parent,`),n.pushCode(`$root: ${l}.$root,`)),n.pushCode("});"),n.pushCode(`${l} = ${c}.result; offset = ${c}.offset;`),i!==this.alias&&n.addReference(i)}else{const c=hH[i],d=fH[i];n.pushCode(`${l} = dataView.get${c}(offset, ${d});`),n.pushCode(`offset += ${Sd[i]}`)}}else i instanceof Zi&&(n.pushPath(o),i.generate(n),n.popPath(o))}generateChoice(n){const o=n.generateOption(this.options.tag),i=n.generateVariable(this.varName);if(this.varName&&(n.pushCode(`${i} = {};`),n.useContextVariables)){const l=n.generateVariable();n.pushCode(`${i}.$parent = ${l};`),n.pushCode(`${i}.$root = ${l}.$root;`)}n.pushCode(`switch(${o}) {`);for(const l in this.options.choices){const c=parseInt(l,10),d=this.options.choices[c];n.pushCode(`case ${c}:`),this.generateChoiceCase(n,this.varName,d),n.pushCode("break;")}n.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(n,this.varName,this.options.defaultChoice):n.generateError(`"Met undefined tag value " + ${o} + " at choice"`),n.pushCode("}"),this.varName&&n.useContextVariables&&(n.pushCode(`delete ${i}.$parent;`),n.pushCode(`delete ${i}.$root;`))}generateNest(n){const o=n.generateVariable(this.varName);if(this.options.type instanceof Zi){if(this.varName&&(n.pushCode(`${o} = {};`),n.useContextVariables)){const i=n.generateVariable();n.pushCode(`${o}.$parent = ${i};`),n.pushCode(`${o}.$root = ${i}.$root;`)}n.pushPath(this.varName),this.options.type.generate(n),n.popPath(this.varName),this.varName&&n.useContextVariables&&n.useContextVariables&&(n.pushCode(`delete ${o}.$parent;`),n.pushCode(`delete ${o}.$root;`))}else if(Ed.has(this.options.type)){const i=n.generateTmpVariable();if(n.pushCode(`var ${i} = ${CT+this.options.type}(offset, {`),n.useContextVariables){const l=n.generateVariable();n.pushCode(`$parent: ${l},`),n.pushCode(`$root: ${l}.$root,`)}n.pushCode("});"),n.pushCode(`${o} = ${i}.result; offset = ${i}.offset;`),this.options.type!==this.alias&&n.addReference(this.options.type)}}generateWrapper(n){const o=n.generateVariable(this.varName),i=n.generateTmpVariable();if(typeof this.options.readUntil=="function"){const b=this.options.readUntil,w=n.generateTmpVariable(),A=n.generateTmpVariable();n.pushCode(`var ${w} = offset;`),n.pushCode(`var ${A} = 0;`),n.pushCode("while (offset < buffer.length) {"),n.pushCode(`${A} = dataView.getUint8(offset);`);const I=n.addImport(b);n.pushCode(`if (${I}.call(${n.generateVariable()}, ${A}, buffer.subarray(offset))) break;`),n.pushCode("offset += 1;"),n.pushCode("}"),n.pushCode(`${i} = buffer.subarray(${w}, offset);`)}else if(this.options.readUntil==="eof")n.pushCode(`${i} = buffer.subarray(offset);`);else{const b=n.generateOption(this.options.length);n.pushCode(`${i} = buffer.subarray(offset, offset + ${b});`),n.pushCode(`offset += ${b};`)}this.options.clone&&n.pushCode(`${i} = buffer.constructor.from(${i});`);const l=n.generateTmpVariable(),c=n.generateTmpVariable(),d=n.generateTmpVariable(),m=n.addImport(this.options.wrapper);if(n.pushCode(`${i} = ${m}.call(this, ${i}).subarray(0);`),n.pushCode(`var ${l} = buffer;`),n.pushCode(`var ${c} = offset;`),n.pushCode(`var ${d} = dataView;`),n.pushCode(`buffer = ${i};`),n.pushCode("offset = 0;"),n.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Zi)this.varName&&n.pushCode(`${o} = {};`),n.pushPath(this.varName),this.options.type.generate(n),n.popPath(this.varName);else if(Ed.has(this.options.type)){const b=n.generateTmpVariable();n.pushCode(`var ${b} = ${CT+this.options.type}(0);`),n.pushCode(`${o} = ${b}.result;`),this.options.type!==this.alias&&n.addReference(this.options.type)}n.pushCode(`buffer = ${l};`),n.pushCode(`dataView = ${d};`),n.pushCode(`offset = ${c};`)}generateFormatter(n,o,i){if(typeof i=="function"){const l=n.addImport(i);n.pushCode(`${o} = ${l}.call(${n.generateVariable()}, ${o});`)}}generatePointer(n){const o=this.options.type,i=n.generateOption(this.options.offset),l=n.generateTmpVariable(),c=n.generateVariable(this.varName);if(n.pushCode(`var ${l} = offset;`),n.pushCode(`offset = ${i};`),this.options.type instanceof Zi){if(n.pushCode(`${c} = {};`),n.useContextVariables){const d=n.generateVariable();n.pushCode(`${c}.$parent = ${d};`),n.pushCode(`${c}.$root = ${d}.$root;`)}n.pushPath(this.varName),this.options.type.generate(n),n.popPath(this.varName),n.useContextVariables&&(n.pushCode(`delete ${c}.$parent;`),n.pushCode(`delete ${c}.$root;`))}else if(Ed.has(this.options.type)){const d=n.generateTmpVariable();if(n.pushCode(`var ${d} = ${CT+this.options.type}(offset, {`),n.useContextVariables){const m=n.generateVariable();n.pushCode(`$parent: ${m},`),n.pushCode(`$root: ${m}.$root,`)}n.pushCode("});"),n.pushCode(`${c} = ${d}.result; offset = ${d}.offset;`),this.options.type!==this.alias&&n.addReference(this.options.type)}else if(Object.keys(Sd).indexOf(this.options.type)>=0){const d=hH[o],m=fH[o];n.pushCode(`${c} = dataView.get${d}(offset, ${m});`),n.pushCode(`offset += ${Sd[o]};`)}n.pushCode(`offset = ${l};`)}generateSaveOffset(n){const o=n.generateVariable(this.varName);n.pushCode(`${o} = offset`)}},hpt=gE(mwe()),fpt=gE(gwe());gr();vr();var MT=class{constructor(n,o){this.ranges=arguments.length===2?[{min:n,max:o}]:0 in n?Object.assign({},n):[n]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(n){for(let o=0;o<this.ranges.length;o+=1){const i=this.ranges[o];if(i.min<=n&&i.max>=n)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(n=>new MT(n.min,n.max))}toString(){return this.ranges.map(n=>`[${n.min}-${n.max}]`).join(",")}union(n){const o=this.getRanges().concat(n.getRanges()).sort(this.rangeOrder),i=[];let l=o[0];for(let c=1;c<o.length;c+=1){const d=o[c];d.min()>l.max()+1?(i.push(l),l=d):d.max()>l.max()&&(l=new MT(l.min(),d.max()))}return i.push(l),i.length===1?i[0]:new MT(i)}intersection(n){let o=this,i=n;const l=this.ranges(),c=i.ranges(),d=l.length,m=c.length;let b=0,w=0;const A=[];for(;b<d&&w<m;){o=l[b],i=c[w];const I=Math.max(o.min(),i.min()),N=Math.min(o.max(),i.max());N>=I&&A.push(new MT(I,N)),o.max()>i.max()?w+=1:b+=1}if(A.length===0)throw new Error("found range of length 0");return A.length===1?A[0]:new MT(A)}coverage(){let n=0;const o=this.ranges();for(let i=0;i<o.length;i+=1){const l=o[i];n+=l.max()-l.min()+1}return n}rangeOrder(n,o){let i=n,l=o;return arguments.length<2&&(l=i,i=this),i.min()<l.min()?-1:i.min()>l.min()?1:i.max()<l.max()?-1:l.max()>i.max()?1:0}};gr();vr();gr();vr();var dpt=4,kbe=0,Rbe=1,ppt=2;function xI(n){let o=n.length;for(;--o>=0;)n[o]=0}var mpt=0,kwe=1,gpt=2,vpt=3,ypt=258,nte=29,LM=256,tM=LM+1+nte,Xx=30,ite=19,Rwe=2*tM+1,GT=15,nK=16,bpt=7,ate=256,Pwe=16,Nwe=17,Mwe=18,bJ=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),HH=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_pt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Lwe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tpt=512,Av=new Array((tM+2)*2);xI(Av);var P2=new Array(Xx*2);xI(P2);var rM=new Array(Tpt);xI(rM);var nM=new Array(ypt-vpt+1);xI(nM);var ote=new Array(nte);xI(ote);var CU=new Array(Xx);xI(CU);function iK(n,o,i,l,c){this.static_tree=n,this.extra_bits=o,this.extra_base=i,this.elems=l,this.max_length=c,this.has_stree=n&&n.length}var Fwe,Bwe,Hwe;function aK(n,o){this.dyn_tree=n,this.max_code=0,this.stat_desc=o}var Uwe=n=>n<256?rM[n]:rM[256+(n>>>7)],iM=(n,o)=>{n.pending_buf[n.pending++]=o&255,n.pending_buf[n.pending++]=o>>>8&255},fc=(n,o,i)=>{n.bi_valid>nK-i?(n.bi_buf|=o<<n.bi_valid&65535,iM(n,n.bi_buf),n.bi_buf=o>>nK-n.bi_valid,n.bi_valid+=i-nK):(n.bi_buf|=o<<n.bi_valid&65535,n.bi_valid+=i)},Am=(n,o,i)=>{fc(n,i[o*2],i[o*2+1])},Gwe=(n,o)=>{let i=0;do i|=n&1,n>>>=1,i<<=1;while(--o>0);return i>>>1},Ept=n=>{n.bi_valid===16?(iM(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Spt=(n,o)=>{const i=o.dyn_tree,l=o.max_code,c=o.stat_desc.static_tree,d=o.stat_desc.has_stree,m=o.stat_desc.extra_bits,b=o.stat_desc.extra_base,w=o.stat_desc.max_length;let A,I,N,R,D,L,z=0;for(R=0;R<=GT;R++)n.bl_count[R]=0;for(i[n.heap[n.heap_max]*2+1]=0,A=n.heap_max+1;A<Rwe;A++)I=n.heap[A],R=i[i[I*2+1]*2+1]+1,R>w&&(R=w,z++),i[I*2+1]=R,!(I>l)&&(n.bl_count[R]++,D=0,I>=b&&(D=m[I-b]),L=i[I*2],n.opt_len+=L*(R+D),d&&(n.static_len+=L*(c[I*2+1]+D)));if(z!==0){do{for(R=w-1;n.bl_count[R]===0;)R--;n.bl_count[R]--,n.bl_count[R+1]+=2,n.bl_count[w]--,z-=2}while(z>0);for(R=w;R!==0;R--)for(I=n.bl_count[R];I!==0;)N=n.heap[--A],!(N>l)&&(i[N*2+1]!==R&&(n.opt_len+=(R-i[N*2+1])*i[N*2],i[N*2+1]=R),I--)}},$we=(n,o,i)=>{const l=new Array(GT+1);let c=0,d,m;for(d=1;d<=GT;d++)c=c+i[d-1]<<1,l[d]=c;for(m=0;m<=o;m++){let b=n[m*2+1];b!==0&&(n[m*2]=Gwe(l[b]++,b))}},Apt=()=>{let n,o,i,l,c;const d=new Array(GT+1);for(i=0,l=0;l<nte-1;l++)for(ote[l]=i,n=0;n<1<<bJ[l];n++)nM[i++]=l;for(nM[i-1]=l,c=0,l=0;l<16;l++)for(CU[l]=c,n=0;n<1<<HH[l];n++)rM[c++]=l;for(c>>=7;l<Xx;l++)for(CU[l]=c<<7,n=0;n<1<<HH[l]-7;n++)rM[256+c++]=l;for(o=0;o<=GT;o++)d[o]=0;for(n=0;n<=143;)Av[n*2+1]=8,n++,d[8]++;for(;n<=255;)Av[n*2+1]=9,n++,d[9]++;for(;n<=279;)Av[n*2+1]=7,n++,d[7]++;for(;n<=287;)Av[n*2+1]=8,n++,d[8]++;for($we(Av,tM+1,d),n=0;n<Xx;n++)P2[n*2+1]=5,P2[n*2]=Gwe(n,5);Fwe=new iK(Av,bJ,LM+1,tM,GT),Bwe=new iK(P2,HH,0,Xx,GT),Hwe=new iK(new Array(0),_pt,0,ite,bpt)},zwe=n=>{let o;for(o=0;o<tM;o++)n.dyn_ltree[o*2]=0;for(o=0;o<Xx;o++)n.dyn_dtree[o*2]=0;for(o=0;o<ite;o++)n.bl_tree[o*2]=0;n.dyn_ltree[ate*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},Vwe=n=>{n.bi_valid>8?iM(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},Pbe=(n,o,i,l)=>{const c=o*2,d=i*2;return n[c]<n[d]||n[c]===n[d]&&l[o]<=l[i]},oK=(n,o,i)=>{const l=n.heap[i];let c=i<<1;for(;c<=n.heap_len&&(c<n.heap_len&&Pbe(o,n.heap[c+1],n.heap[c],n.depth)&&c++,!Pbe(o,l,n.heap[c],n.depth));)n.heap[i]=n.heap[c],i=c,c<<=1;n.heap[i]=l},Nbe=(n,o,i)=>{let l,c,d=0,m,b;if(n.sym_next!==0)do l=n.pending_buf[n.sym_buf+d++]&255,l+=(n.pending_buf[n.sym_buf+d++]&255)<<8,c=n.pending_buf[n.sym_buf+d++],l===0?Am(n,c,o):(m=nM[c],Am(n,m+LM+1,o),b=bJ[m],b!==0&&(c-=ote[m],fc(n,c,b)),l--,m=Uwe(l),Am(n,m,i),b=HH[m],b!==0&&(l-=CU[m],fc(n,l,b)));while(d<n.sym_next);Am(n,ate,o)},_J=(n,o)=>{const i=o.dyn_tree,l=o.stat_desc.static_tree,c=o.stat_desc.has_stree,d=o.stat_desc.elems;let m,b,w=-1,A;for(n.heap_len=0,n.heap_max=Rwe,m=0;m<d;m++)i[m*2]!==0?(n.heap[++n.heap_len]=w=m,n.depth[m]=0):i[m*2+1]=0;for(;n.heap_len<2;)A=n.heap[++n.heap_len]=w<2?++w:0,i[A*2]=1,n.depth[A]=0,n.opt_len--,c&&(n.static_len-=l[A*2+1]);for(o.max_code=w,m=n.heap_len>>1;m>=1;m--)oK(n,i,m);A=d;do m=n.heap[1],n.heap[1]=n.heap[n.heap_len--],oK(n,i,1),b=n.heap[1],n.heap[--n.heap_max]=m,n.heap[--n.heap_max]=b,i[A*2]=i[m*2]+i[b*2],n.depth[A]=(n.depth[m]>=n.depth[b]?n.depth[m]:n.depth[b])+1,i[m*2+1]=i[b*2+1]=A,n.heap[1]=A++,oK(n,i,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Spt(n,o),$we(i,w,n.bl_count)},Mbe=(n,o,i)=>{let l,c=-1,d,m=o[0*2+1],b=0,w=7,A=4;for(m===0&&(w=138,A=3),o[(i+1)*2+1]=65535,l=0;l<=i;l++)d=m,m=o[(l+1)*2+1],!(++b<w&&d===m)&&(b<A?n.bl_tree[d*2]+=b:d!==0?(d!==c&&n.bl_tree[d*2]++,n.bl_tree[Pwe*2]++):b<=10?n.bl_tree[Nwe*2]++:n.bl_tree[Mwe*2]++,b=0,c=d,m===0?(w=138,A=3):d===m?(w=6,A=3):(w=7,A=4))},Lbe=(n,o,i)=>{let l,c=-1,d,m=o[0*2+1],b=0,w=7,A=4;for(m===0&&(w=138,A=3),l=0;l<=i;l++)if(d=m,m=o[(l+1)*2+1],!(++b<w&&d===m)){if(b<A)do Am(n,d,n.bl_tree);while(--b!==0);else d!==0?(d!==c&&(Am(n,d,n.bl_tree),b--),Am(n,Pwe,n.bl_tree),fc(n,b-3,2)):b<=10?(Am(n,Nwe,n.bl_tree),fc(n,b-3,3)):(Am(n,Mwe,n.bl_tree),fc(n,b-11,7));b=0,c=d,m===0?(w=138,A=3):d===m?(w=6,A=3):(w=7,A=4)}},wpt=n=>{let o;for(Mbe(n,n.dyn_ltree,n.l_desc.max_code),Mbe(n,n.dyn_dtree,n.d_desc.max_code),_J(n,n.bl_desc),o=ite-1;o>=3&&n.bl_tree[Lwe[o]*2+1]===0;o--);return n.opt_len+=3*(o+1)+5+5+4,o},Cpt=(n,o,i,l)=>{let c;for(fc(n,o-257,5),fc(n,i-1,5),fc(n,l-4,4),c=0;c<l;c++)fc(n,n.bl_tree[Lwe[c]*2+1],3);Lbe(n,n.dyn_ltree,o-1),Lbe(n,n.dyn_dtree,i-1)},xpt=n=>{let o=4093624447,i;for(i=0;i<=31;i++,o>>>=1)if(o&1&&n.dyn_ltree[i*2]!==0)return kbe;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return Rbe;for(i=32;i<LM;i++)if(n.dyn_ltree[i*2]!==0)return Rbe;return kbe},Fbe=!1,Ipt=n=>{Fbe||(Apt(),Fbe=!0),n.l_desc=new aK(n.dyn_ltree,Fwe),n.d_desc=new aK(n.dyn_dtree,Bwe),n.bl_desc=new aK(n.bl_tree,Hwe),n.bi_buf=0,n.bi_valid=0,zwe(n)},jwe=(n,o,i,l)=>{fc(n,(mpt<<1)+(l?1:0),3),Vwe(n),iM(n,i),iM(n,~i),i&&n.pending_buf.set(n.window.subarray(o,o+i),n.pending),n.pending+=i},Dpt=n=>{fc(n,kwe<<1,3),Am(n,ate,Av),Ept(n)},Opt=(n,o,i,l)=>{let c,d,m=0;n.level>0?(n.strm.data_type===ppt&&(n.strm.data_type=xpt(n)),_J(n,n.l_desc),_J(n,n.d_desc),m=wpt(n),c=n.opt_len+3+7>>>3,d=n.static_len+3+7>>>3,d<=c&&(c=d)):c=d=i+5,i+4<=c&&o!==-1?jwe(n,o,i,l):n.strategy===dpt||d===c?(fc(n,(kwe<<1)+(l?1:0),3),Nbe(n,Av,P2)):(fc(n,(gpt<<1)+(l?1:0),3),Cpt(n,n.l_desc.max_code+1,n.d_desc.max_code+1,m+1),Nbe(n,n.dyn_ltree,n.dyn_dtree)),zwe(n),l&&Vwe(n)},kpt=(n,o,i)=>(n.pending_buf[n.sym_buf+n.sym_next++]=o,n.pending_buf[n.sym_buf+n.sym_next++]=o>>8,n.pending_buf[n.sym_buf+n.sym_next++]=i,o===0?n.dyn_ltree[i*2]++:(n.matches++,o--,n.dyn_ltree[(nM[i]+LM+1)*2]++,n.dyn_dtree[Uwe(o)*2]++),n.sym_next===n.sym_end),Rpt=Ipt,Ppt=jwe,Npt=Opt,Mpt=kpt,Lpt=Dpt,Fpt={_tr_init:Rpt,_tr_stored_block:Ppt,_tr_flush_block:Npt,_tr_tally:Mpt,_tr_align:Lpt},Bpt=(n,o,i,l)=>{let c=n&65535|0,d=n>>>16&65535|0,m=0;for(;i!==0;){m=i>2e3?2e3:i,i-=m;do c=c+o[l++]|0,d=d+c|0;while(--m);c%=65521,d%=65521}return c|d<<16|0},aM=Bpt,Hpt=()=>{let n,o=[];for(var i=0;i<256;i++){n=i;for(var l=0;l<8;l++)n=n&1?3988292384^n>>>1:n>>>1;o[i]=n}return o},Upt=new Uint32Array(Hpt()),Gpt=(n,o,i,l)=>{const c=Upt,d=l+i;n^=-1;for(let m=l;m<d;m++)n=n>>>8^c[(n^o[m])&255];return n^-1},ks=Gpt,dI={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},FM={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:$pt,_tr_stored_block:TJ,_tr_flush_block:zpt,_tr_tally:bb,_tr_align:Vpt}=Fpt,{Z_NO_FLUSH:_b,Z_PARTIAL_FLUSH:jpt,Z_FULL_FLUSH:Wpt,Z_FINISH:of,Z_BLOCK:Bbe,Z_OK:al,Z_STREAM_END:Hbe,Z_STREAM_ERROR:km,Z_DATA_ERROR:Xpt,Z_BUF_ERROR:sK,Z_DEFAULT_COMPRESSION:Ypt,Z_FILTERED:qpt,Z_HUFFMAN_ONLY:dH,Z_RLE:Zpt,Z_FIXED:Kpt,Z_DEFAULT_STRATEGY:Qpt,Z_UNKNOWN:Jpt,Z_DEFLATED:E9}=FM,emt=9,tmt=15,rmt=8,nmt=29,imt=256,EJ=imt+1+nmt,amt=30,omt=19,smt=2*EJ+1,lmt=15,Ai=3,pb=258,Rm=pb+Ai+1,umt=32,pI=42,ste=57,SJ=69,AJ=73,wJ=91,CJ=103,$T=113,E2=666,Au=1,II=2,aE=3,DI=4,cmt=3,zT=(n,o)=>(n.msg=dI[o],o),Ube=n=>n*2-(n>4?9:0),ub=n=>{let o=n.length;for(;--o>=0;)n[o]=0},hmt=n=>{let o,i,l,c=n.w_size;o=n.hash_size,l=o;do i=n.head[--l],n.head[l]=i>=c?i-c:0;while(--o);o=c,l=o;do i=n.prev[--l],n.prev[l]=i>=c?i-c:0;while(--o)},fmt=(n,o,i)=>(o<<n.hash_shift^i)&n.hash_mask,Tb=fmt,Jc=n=>{const o=n.state;let i=o.pending;i>n.avail_out&&(i=n.avail_out),i!==0&&(n.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+i),n.next_out),n.next_out+=i,o.pending_out+=i,n.total_out+=i,n.avail_out-=i,o.pending-=i,o.pending===0&&(o.pending_out=0))},rh=(n,o)=>{zpt(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,o),n.block_start=n.strstart,Jc(n.strm)},Xi=(n,o)=>{n.pending_buf[n.pending++]=o},d2=(n,o)=>{n.pending_buf[n.pending++]=o>>>8&255,n.pending_buf[n.pending++]=o&255},xJ=(n,o,i,l)=>{let c=n.avail_in;return c>l&&(c=l),c===0?0:(n.avail_in-=c,o.set(n.input.subarray(n.next_in,n.next_in+c),i),n.state.wrap===1?n.adler=aM(n.adler,o,c,i):n.state.wrap===2&&(n.adler=ks(n.adler,o,c,i)),n.next_in+=c,n.total_in+=c,c)},Wwe=(n,o)=>{let i=n.max_chain_length,l=n.strstart,c,d,m=n.prev_length,b=n.nice_match;const w=n.strstart>n.w_size-Rm?n.strstart-(n.w_size-Rm):0,A=n.window,I=n.w_mask,N=n.prev,R=n.strstart+pb;let D=A[l+m-1],L=A[l+m];n.prev_length>=n.good_match&&(i>>=2),b>n.lookahead&&(b=n.lookahead);do if(c=o,!(A[c+m]!==L||A[c+m-1]!==D||A[c]!==A[l]||A[++c]!==A[l+1])){l+=2,c++;do;while(A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&l<R);if(d=pb-(R-l),l=R-pb,d>m){if(n.match_start=o,m=d,d>=b)break;D=A[l+m-1],L=A[l+m]}}while((o=N[o&I])>w&&--i!==0);return m<=n.lookahead?m:n.lookahead},mI=n=>{const o=n.w_size;let i,l,c;do{if(l=n.window_size-n.lookahead-n.strstart,n.strstart>=o+(o-Rm)&&(n.window.set(n.window.subarray(o,o+o-l),0),n.match_start-=o,n.strstart-=o,n.block_start-=o,n.insert>n.strstart&&(n.insert=n.strstart),hmt(n),l+=o),n.strm.avail_in===0)break;if(i=xJ(n.strm,n.window,n.strstart+n.lookahead,l),n.lookahead+=i,n.lookahead+n.insert>=Ai)for(c=n.strstart-n.insert,n.ins_h=n.window[c],n.ins_h=Tb(n,n.ins_h,n.window[c+1]);n.insert&&(n.ins_h=Tb(n,n.ins_h,n.window[c+Ai-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++,n.insert--,!(n.lookahead+n.insert<Ai)););}while(n.lookahead<Rm&&n.strm.avail_in!==0)},Xwe=(n,o)=>{let i=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,l,c,d,m=0,b=n.strm.avail_in;do{if(l=65535,d=n.bi_valid+42>>3,n.strm.avail_out<d||(d=n.strm.avail_out-d,c=n.strstart-n.block_start,l>c+n.strm.avail_in&&(l=c+n.strm.avail_in),l>d&&(l=d),l<i&&(l===0&&o!==of||o===_b||l!==c+n.strm.avail_in)))break;m=o===of&&l===c+n.strm.avail_in?1:0,TJ(n,0,0,m),n.pending_buf[n.pending-4]=l,n.pending_buf[n.pending-3]=l>>8,n.pending_buf[n.pending-2]=~l,n.pending_buf[n.pending-1]=~l>>8,Jc(n.strm),c&&(c>l&&(c=l),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+c),n.strm.next_out),n.strm.next_out+=c,n.strm.avail_out-=c,n.strm.total_out+=c,n.block_start+=c,l-=c),l&&(xJ(n.strm,n.strm.output,n.strm.next_out,l),n.strm.next_out+=l,n.strm.avail_out-=l,n.strm.total_out+=l)}while(m===0);return b-=n.strm.avail_in,b&&(b>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=b&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-b,n.strm.next_in),n.strstart),n.strstart+=b,n.insert+=b>n.w_size-n.insert?n.w_size-n.insert:b),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),m?DI:o!==_b&&o!==of&&n.strm.avail_in===0&&n.strstart===n.block_start?II:(d=n.window_size-n.strstart,n.strm.avail_in>d&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,d+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),d>n.strm.avail_in&&(d=n.strm.avail_in),d&&(xJ(n.strm,n.window,n.strstart,d),n.strstart+=d,n.insert+=d>n.w_size-n.insert?n.w_size-n.insert:d),n.high_water<n.strstart&&(n.high_water=n.strstart),d=n.bi_valid+42>>3,d=n.pending_buf_size-d>65535?65535:n.pending_buf_size-d,i=d>n.w_size?n.w_size:d,c=n.strstart-n.block_start,(c>=i||(c||o===of)&&o!==_b&&n.strm.avail_in===0&&c<=d)&&(l=c>d?d:c,m=o===of&&n.strm.avail_in===0&&l===c?1:0,TJ(n,n.block_start,l,m),n.block_start+=l,Jc(n.strm)),m?aE:Au)},lK=(n,o)=>{let i,l;for(;;){if(n.lookahead<Rm){if(mI(n),n.lookahead<Rm&&o===_b)return Au;if(n.lookahead===0)break}if(i=0,n.lookahead>=Ai&&(n.ins_h=Tb(n,n.ins_h,n.window[n.strstart+Ai-1]),i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),i!==0&&n.strstart-i<=n.w_size-Rm&&(n.match_length=Wwe(n,i)),n.match_length>=Ai)if(l=bb(n,n.strstart-n.match_start,n.match_length-Ai),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=Ai){n.match_length--;do n.strstart++,n.ins_h=Tb(n,n.ins_h,n.window[n.strstart+Ai-1]),i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Tb(n,n.ins_h,n.window[n.strstart+1]);else l=bb(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(l&&(rh(n,!1),n.strm.avail_out===0))return Au}return n.insert=n.strstart<Ai-1?n.strstart:Ai-1,o===of?(rh(n,!0),n.strm.avail_out===0?aE:DI):n.sym_next&&(rh(n,!1),n.strm.avail_out===0)?Au:II},Ox=(n,o)=>{let i,l,c;for(;;){if(n.lookahead<Rm){if(mI(n),n.lookahead<Rm&&o===_b)return Au;if(n.lookahead===0)break}if(i=0,n.lookahead>=Ai&&(n.ins_h=Tb(n,n.ins_h,n.window[n.strstart+Ai-1]),i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=Ai-1,i!==0&&n.prev_length<n.max_lazy_match&&n.strstart-i<=n.w_size-Rm&&(n.match_length=Wwe(n,i),n.match_length<=5&&(n.strategy===qpt||n.match_length===Ai&&n.strstart-n.match_start>4096)&&(n.match_length=Ai-1)),n.prev_length>=Ai&&n.match_length<=n.prev_length){c=n.strstart+n.lookahead-Ai,l=bb(n,n.strstart-1-n.prev_match,n.prev_length-Ai),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=c&&(n.ins_h=Tb(n,n.ins_h,n.window[n.strstart+Ai-1]),i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=Ai-1,n.strstart++,l&&(rh(n,!1),n.strm.avail_out===0))return Au}else if(n.match_available){if(l=bb(n,0,n.window[n.strstart-1]),l&&rh(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Au}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(l=bb(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<Ai-1?n.strstart:Ai-1,o===of?(rh(n,!0),n.strm.avail_out===0?aE:DI):n.sym_next&&(rh(n,!1),n.strm.avail_out===0)?Au:II},dmt=(n,o)=>{let i,l,c,d;const m=n.window;for(;;){if(n.lookahead<=pb){if(mI(n),n.lookahead<=pb&&o===_b)return Au;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=Ai&&n.strstart>0&&(c=n.strstart-1,l=m[c],l===m[++c]&&l===m[++c]&&l===m[++c])){d=n.strstart+pb;do;while(l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&c<d);n.match_length=pb-(d-c),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=Ai?(i=bb(n,1,n.match_length-Ai),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(i=bb(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),i&&(rh(n,!1),n.strm.avail_out===0))return Au}return n.insert=0,o===of?(rh(n,!0),n.strm.avail_out===0?aE:DI):n.sym_next&&(rh(n,!1),n.strm.avail_out===0)?Au:II},pmt=(n,o)=>{let i;for(;;){if(n.lookahead===0&&(mI(n),n.lookahead===0)){if(o===_b)return Au;break}if(n.match_length=0,i=bb(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,i&&(rh(n,!1),n.strm.avail_out===0))return Au}return n.insert=0,o===of?(rh(n,!0),n.strm.avail_out===0?aE:DI):n.sym_next&&(rh(n,!1),n.strm.avail_out===0)?Au:II};function pm(n,o,i,l,c){this.good_length=n,this.max_lazy=o,this.nice_length=i,this.max_chain=l,this.func=c}var S2=[new pm(0,0,0,0,Xwe),new pm(4,4,8,4,lK),new pm(4,5,16,8,lK),new pm(4,6,32,32,lK),new pm(4,4,16,16,Ox),new pm(8,16,32,32,Ox),new pm(8,16,128,128,Ox),new pm(8,32,128,256,Ox),new pm(32,128,258,1024,Ox),new pm(32,258,258,4096,Ox)],mmt=n=>{n.window_size=2*n.w_size,ub(n.head),n.max_lazy_match=S2[n.level].max_lazy,n.good_match=S2[n.level].good_length,n.nice_match=S2[n.level].nice_length,n.max_chain_length=S2[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=Ai-1,n.match_available=0,n.ins_h=0};function gmt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E9,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(smt*2),this.dyn_dtree=new Uint16Array((2*amt+1)*2),this.bl_tree=new Uint16Array((2*omt+1)*2),ub(this.dyn_ltree),ub(this.dyn_dtree),ub(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(lmt+1),this.heap=new Uint16Array(2*EJ+1),ub(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*EJ+1),ub(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var BM=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.status!==pI&&o.status!==ste&&o.status!==SJ&&o.status!==AJ&&o.status!==wJ&&o.status!==CJ&&o.status!==$T&&o.status!==E2?1:0},Ywe=n=>{if(BM(n))return zT(n,km);n.total_in=n.total_out=0,n.data_type=Jpt;const o=n.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?ste:o.wrap?pI:$T,n.adler=o.wrap===2?0:1,o.last_flush=-2,$pt(o),al},qwe=n=>{const o=Ywe(n);return o===al&&mmt(n.state),o},vmt=(n,o)=>BM(n)||n.state.wrap!==2?km:(n.state.gzhead=o,al),Zwe=(n,o,i,l,c,d)=>{if(!n)return km;let m=1;if(o===Ypt&&(o=6),l<0?(m=0,l=-l):l>15&&(m=2,l-=16),c<1||c>emt||i!==E9||l<8||l>15||o<0||o>9||d<0||d>Kpt||l===8&&m!==1)return zT(n,km);l===8&&(l=9);const b=new gmt;return n.state=b,b.strm=n,b.status=pI,b.wrap=m,b.gzhead=null,b.w_bits=l,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=c+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+Ai-1)/Ai),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<c+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.sym_buf=b.lit_bufsize,b.sym_end=(b.lit_bufsize-1)*3,b.level=o,b.strategy=d,b.method=i,qwe(n)},ymt=(n,o)=>Zwe(n,o,E9,tmt,rmt,Qpt),bmt=(n,o)=>{if(BM(n)||o>Bbe||o<0)return n?zT(n,km):km;const i=n.state;if(!n.output||n.avail_in!==0&&!n.input||i.status===E2&&o!==of)return zT(n,n.avail_out===0?sK:km);const l=i.last_flush;if(i.last_flush=o,i.pending!==0){if(Jc(n),n.avail_out===0)return i.last_flush=-1,al}else if(n.avail_in===0&&Ube(o)<=Ube(l)&&o!==of)return zT(n,sK);if(i.status===E2&&n.avail_in!==0)return zT(n,sK);if(i.status===pI&&i.wrap===0&&(i.status=$T),i.status===pI){let c=E9+(i.w_bits-8<<4)<<8,d=-1;if(i.strategy>=dH||i.level<2?d=0:i.level<6?d=1:i.level===6?d=2:d=3,c|=d<<6,i.strstart!==0&&(c|=umt),c+=31-c%31,d2(i,c),i.strstart!==0&&(d2(i,n.adler>>>16),d2(i,n.adler&65535)),n.adler=1,i.status=$T,Jc(n),i.pending!==0)return i.last_flush=-1,al}if(i.status===ste){if(n.adler=0,Xi(i,31),Xi(i,139),Xi(i,8),i.gzhead)Xi(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Xi(i,i.gzhead.time&255),Xi(i,i.gzhead.time>>8&255),Xi(i,i.gzhead.time>>16&255),Xi(i,i.gzhead.time>>24&255),Xi(i,i.level===9?2:i.strategy>=dH||i.level<2?4:0),Xi(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Xi(i,i.gzhead.extra.length&255),Xi(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=ks(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=SJ;else if(Xi(i,0),Xi(i,0),Xi(i,0),Xi(i,0),Xi(i,0),Xi(i,i.level===9?2:i.strategy>=dH||i.level<2?4:0),Xi(i,cmt),i.status=$T,Jc(n),i.pending!==0)return i.last_flush=-1,al}if(i.status===SJ){if(i.gzhead.extra){let c=i.pending,d=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+d>i.pending_buf_size;){let b=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+b),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c)),i.gzindex+=b,Jc(n),i.pending!==0)return i.last_flush=-1,al;c=0,d-=b}let m=new Uint8Array(i.gzhead.extra);i.pending_buf.set(m.subarray(i.gzindex,i.gzindex+d),i.pending),i.pending+=d,i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c)),i.gzindex=0}i.status=AJ}if(i.status===AJ){if(i.gzhead.name){let c=i.pending,d;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c)),Jc(n),i.pending!==0)return i.last_flush=-1,al;c=0}i.gzindex<i.gzhead.name.length?d=i.gzhead.name.charCodeAt(i.gzindex++)&255:d=0,Xi(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c)),i.gzindex=0}i.status=wJ}if(i.status===wJ){if(i.gzhead.comment){let c=i.pending,d;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c)),Jc(n),i.pending!==0)return i.last_flush=-1,al;c=0}i.gzindex<i.gzhead.comment.length?d=i.gzhead.comment.charCodeAt(i.gzindex++)&255:d=0,Xi(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>c&&(n.adler=ks(n.adler,i.pending_buf,i.pending-c,c))}i.status=CJ}if(i.status===CJ){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Jc(n),i.pending!==0))return i.last_flush=-1,al;Xi(i,n.adler&255),Xi(i,n.adler>>8&255),n.adler=0}if(i.status=$T,Jc(n),i.pending!==0)return i.last_flush=-1,al}if(n.avail_in!==0||i.lookahead!==0||o!==_b&&i.status!==E2){let c=i.level===0?Xwe(i,o):i.strategy===dH?pmt(i,o):i.strategy===Zpt?dmt(i,o):S2[i.level].func(i,o);if((c===aE||c===DI)&&(i.status=E2),c===Au||c===aE)return n.avail_out===0&&(i.last_flush=-1),al;if(c===II&&(o===jpt?Vpt(i):o!==Bbe&&(TJ(i,0,0,!1),o===Wpt&&(ub(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Jc(n),n.avail_out===0))return i.last_flush=-1,al}return o!==of?al:i.wrap<=0?Hbe:(i.wrap===2?(Xi(i,n.adler&255),Xi(i,n.adler>>8&255),Xi(i,n.adler>>16&255),Xi(i,n.adler>>24&255),Xi(i,n.total_in&255),Xi(i,n.total_in>>8&255),Xi(i,n.total_in>>16&255),Xi(i,n.total_in>>24&255)):(d2(i,n.adler>>>16),d2(i,n.adler&65535)),Jc(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?al:Hbe)},_mt=n=>{if(BM(n))return km;const o=n.state.status;return n.state=null,o===$T?zT(n,Xpt):al},Tmt=(n,o)=>{let i=o.length;if(BM(n))return km;const l=n.state,c=l.wrap;if(c===2||c===1&&l.status!==pI||l.lookahead)return km;if(c===1&&(n.adler=aM(n.adler,o,i,0)),l.wrap=0,i>=l.w_size){c===0&&(ub(l.head),l.strstart=0,l.block_start=0,l.insert=0);let w=new Uint8Array(l.w_size);w.set(o.subarray(i-l.w_size,i),0),o=w,i=l.w_size}const d=n.avail_in,m=n.next_in,b=n.input;for(n.avail_in=i,n.next_in=0,n.input=o,mI(l);l.lookahead>=Ai;){let w=l.strstart,A=l.lookahead-(Ai-1);do l.ins_h=Tb(l,l.ins_h,l.window[w+Ai-1]),l.prev[w&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=w,w++;while(--A);l.strstart=w,l.lookahead=Ai-1,mI(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=Ai-1,l.match_available=0,n.next_in=m,n.input=b,n.avail_in=d,l.wrap=c,al},Emt=ymt,Smt=Zwe,Amt=qwe,wmt=Ywe,Cmt=vmt,xmt=bmt,Imt=_mt,Dmt=Tmt,Omt="pako deflate (from Nodeca project)",N2={deflateInit:Emt,deflateInit2:Smt,deflateReset:Amt,deflateResetKeep:wmt,deflateSetHeader:Cmt,deflate:xmt,deflateEnd:Imt,deflateSetDictionary:Dmt,deflateInfo:Omt},kmt=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),Rmt=function(n){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const i=o.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const l in i)kmt(i,l)&&(n[l]=i[l])}}return n},Pmt=n=>{let o=0;for(let l=0,c=n.length;l<c;l++)o+=n[l].length;const i=new Uint8Array(o);for(let l=0,c=0,d=n.length;l<d;l++){let m=n[l];i.set(m,c),c+=m.length}return i},S9={assign:Rmt,flattenChunks:Pmt},Kwe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kwe=!1}var oM=new Uint8Array(256);for(let n=0;n<256;n++)oM[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;oM[254]=oM[254]=1;var Nmt=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let o,i,l,c,d,m=n.length,b=0;for(c=0;c<m;c++)i=n.charCodeAt(c),(i&64512)===55296&&c+1<m&&(l=n.charCodeAt(c+1),(l&64512)===56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),b+=i<128?1:i<2048?2:i<65536?3:4;for(o=new Uint8Array(b),d=0,c=0;d<b;c++)i=n.charCodeAt(c),(i&64512)===55296&&c+1<m&&(l=n.charCodeAt(c+1),(l&64512)===56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),i<128?o[d++]=i:i<2048?(o[d++]=192|i>>>6,o[d++]=128|i&63):i<65536?(o[d++]=224|i>>>12,o[d++]=128|i>>>6&63,o[d++]=128|i&63):(o[d++]=240|i>>>18,o[d++]=128|i>>>12&63,o[d++]=128|i>>>6&63,o[d++]=128|i&63);return o},Mmt=(n,o)=>{if(o<65534&&n.subarray&&Kwe)return String.fromCharCode.apply(null,n.length===o?n:n.subarray(0,o));let i="";for(let l=0;l<o;l++)i+=String.fromCharCode(n[l]);return i},Lmt=(n,o)=>{const i=o||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,o));let l,c;const d=new Array(i*2);for(c=0,l=0;l<i;){let m=n[l++];if(m<128){d[c++]=m;continue}let b=oM[m];if(b>4){d[c++]=65533,l+=b-1;continue}for(m&=b===2?31:b===3?15:7;b>1&&l<i;)m=m<<6|n[l++]&63,b--;if(b>1){d[c++]=65533;continue}m<65536?d[c++]=m:(m-=65536,d[c++]=55296|m>>10&1023,d[c++]=56320|m&1023)}return Mmt(d,c)},Fmt=(n,o)=>{o=o||n.length,o>n.length&&(o=n.length);let i=o-1;for(;i>=0&&(n[i]&192)===128;)i--;return i<0||i===0?o:i+oM[n[i]]>o?i:o},sM={string2buf:Nmt,buf2string:Lmt,utf8border:Fmt};function Bmt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qwe=Bmt,Jwe=Object.prototype.toString,{Z_NO_FLUSH:Hmt,Z_SYNC_FLUSH:Umt,Z_FULL_FLUSH:Gmt,Z_FINISH:$mt,Z_OK:xU,Z_STREAM_END:zmt,Z_DEFAULT_COMPRESSION:Vmt,Z_DEFAULT_STRATEGY:jmt,Z_DEFLATED:Wmt}=FM;function lte(n){this.options=S9.assign({level:Vmt,method:Wmt,chunkSize:16384,windowBits:15,memLevel:8,strategy:jmt},n||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qwe,this.strm.avail_out=0;let i=N2.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(i!==xU)throw new Error(dI[i]);if(o.header&&N2.deflateSetHeader(this.strm,o.header),o.dictionary){let l;if(typeof o.dictionary=="string"?l=sM.string2buf(o.dictionary):Jwe.call(o.dictionary)==="[object ArrayBuffer]"?l=new Uint8Array(o.dictionary):l=o.dictionary,i=N2.deflateSetDictionary(this.strm,l),i!==xU)throw new Error(dI[i]);this._dict_set=!0}}lte.prototype.push=function(n,o){const i=this.strm,l=this.options.chunkSize;let c,d;if(this.ended)return!1;for(o===~~o?d=o:d=o===!0?$mt:Hmt,typeof n=="string"?i.input=sM.string2buf(n):Jwe.call(n)==="[object ArrayBuffer]"?i.input=new Uint8Array(n):i.input=n,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(l),i.next_out=0,i.avail_out=l),(d===Umt||d===Gmt)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(c=N2.deflate(i,d),c===zmt)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),c=N2.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===xU;if(i.avail_out===0){this.onData(i.output);continue}if(d>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};lte.prototype.onData=function(n){this.chunks.push(n)};lte.prototype.onEnd=function(n){n===xU&&(this.result=S9.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var pH=16209,Xmt=16191,Ymt=function(o,i){let l,c,d,m,b,w,A,I,N,R,D,L,z,V,te,fe,Y,q,K,ce,re,ge,F,Te;const Ce=o.state;l=o.next_in,F=o.input,c=l+(o.avail_in-5),d=o.next_out,Te=o.output,m=d-(i-o.avail_out),b=d+(o.avail_out-257),w=Ce.dmax,A=Ce.wsize,I=Ce.whave,N=Ce.wnext,R=Ce.window,D=Ce.hold,L=Ce.bits,z=Ce.lencode,V=Ce.distcode,te=(1<<Ce.lenbits)-1,fe=(1<<Ce.distbits)-1;e:do{L<15&&(D+=F[l++]<<L,L+=8,D+=F[l++]<<L,L+=8),Y=z[D&te];t:for(;;){if(q=Y>>>24,D>>>=q,L-=q,q=Y>>>16&255,q===0)Te[d++]=Y&65535;else if(q&16){K=Y&65535,q&=15,q&&(L<q&&(D+=F[l++]<<L,L+=8),K+=D&(1<<q)-1,D>>>=q,L-=q),L<15&&(D+=F[l++]<<L,L+=8,D+=F[l++]<<L,L+=8),Y=V[D&fe];r:for(;;){if(q=Y>>>24,D>>>=q,L-=q,q=Y>>>16&255,q&16){if(ce=Y&65535,q&=15,L<q&&(D+=F[l++]<<L,L+=8,L<q&&(D+=F[l++]<<L,L+=8)),ce+=D&(1<<q)-1,ce>w){o.msg="invalid distance too far back",Ce.mode=pH;break e}if(D>>>=q,L-=q,q=d-m,ce>q){if(q=ce-q,q>I&&Ce.sane){o.msg="invalid distance too far back",Ce.mode=pH;break e}if(re=0,ge=R,N===0){if(re+=A-q,q<K){K-=q;do Te[d++]=R[re++];while(--q);re=d-ce,ge=Te}}else if(N<q){if(re+=A+N-q,q-=N,q<K){K-=q;do Te[d++]=R[re++];while(--q);if(re=0,N<K){q=N,K-=q;do Te[d++]=R[re++];while(--q);re=d-ce,ge=Te}}}else if(re+=N-q,q<K){K-=q;do Te[d++]=R[re++];while(--q);re=d-ce,ge=Te}for(;K>2;)Te[d++]=ge[re++],Te[d++]=ge[re++],Te[d++]=ge[re++],K-=3;K&&(Te[d++]=ge[re++],K>1&&(Te[d++]=ge[re++]))}else{re=d-ce;do Te[d++]=Te[re++],Te[d++]=Te[re++],Te[d++]=Te[re++],K-=3;while(K>2);K&&(Te[d++]=Te[re++],K>1&&(Te[d++]=Te[re++]))}}else if(q&64){o.msg="invalid distance code",Ce.mode=pH;break e}else{Y=V[(Y&65535)+(D&(1<<q)-1)];continue r}break}}else if(q&64)if(q&32){Ce.mode=Xmt;break e}else{o.msg="invalid literal/length code",Ce.mode=pH;break e}else{Y=z[(Y&65535)+(D&(1<<q)-1)];continue t}break}}while(l<c&&d<b);K=L>>3,l-=K,L-=K<<3,D&=(1<<L)-1,o.next_in=l,o.next_out=d,o.avail_in=l<c?5+(c-l):5-(l-c),o.avail_out=d<b?257+(b-d):257-(d-b),Ce.hold=D,Ce.bits=L},kx=15,Gbe=852,$be=592,zbe=0,uK=1,Vbe=2,qmt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zmt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kmt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qmt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jmt=(n,o,i,l,c,d,m,b)=>{const w=b.bits;let A=0,I=0,N=0,R=0,D=0,L=0,z=0,V=0,te=0,fe=0,Y,q,K,ce,re,ge=null,F;const Te=new Uint16Array(kx+1),Ce=new Uint16Array(kx+1);let ve=null,Ke,ot,$;for(A=0;A<=kx;A++)Te[A]=0;for(I=0;I<l;I++)Te[o[i+I]]++;for(D=w,R=kx;R>=1&&Te[R]===0;R--);if(D>R&&(D=R),R===0)return c[d++]=1<<24|64<<16|0,c[d++]=1<<24|64<<16|0,b.bits=1,0;for(N=1;N<R&&Te[N]===0;N++);for(D<N&&(D=N),V=1,A=1;A<=kx;A++)if(V<<=1,V-=Te[A],V<0)return-1;if(V>0&&(n===zbe||R!==1))return-1;for(Ce[1]=0,A=1;A<kx;A++)Ce[A+1]=Ce[A]+Te[A];for(I=0;I<l;I++)o[i+I]!==0&&(m[Ce[o[i+I]]++]=I);if(n===zbe?(ge=ve=m,F=20):n===uK?(ge=qmt,ve=Zmt,F=257):(ge=Kmt,ve=Qmt,F=0),fe=0,I=0,A=N,re=d,L=D,z=0,K=-1,te=1<<D,ce=te-1,n===uK&&te>Gbe||n===Vbe&&te>$be)return 1;for(;;){Ke=A-z,m[I]+1<F?(ot=0,$=m[I]):m[I]>=F?(ot=ve[m[I]-F],$=ge[m[I]-F]):(ot=32+64,$=0),Y=1<<A-z,q=1<<L,N=q;do q-=Y,c[re+(fe>>z)+q]=Ke<<24|ot<<16|$|0;while(q!==0);for(Y=1<<A-1;fe&Y;)Y>>=1;if(Y!==0?(fe&=Y-1,fe+=Y):fe=0,I++,--Te[A]===0){if(A===R)break;A=o[i+m[I]]}if(A>D&&(fe&ce)!==K){for(z===0&&(z=D),re+=N,L=A-z,V=1<<L;L+z<R&&(V-=Te[L+z],!(V<=0));)L++,V<<=1;if(te+=1<<L,n===uK&&te>Gbe||n===Vbe&&te>$be)return 1;K=fe&ce,c[K]=D<<24|L<<16|re-d|0}}return fe!==0&&(c[re+fe]=A-z<<24|64<<16|0),b.bits=D,0},M2=Jmt,egt=0,eCe=1,tCe=2,{Z_FINISH:jbe,Z_BLOCK:tgt,Z_TREES:mH,Z_OK:oE,Z_STREAM_END:rgt,Z_NEED_DICT:ngt,Z_STREAM_ERROR:yf,Z_DATA_ERROR:rCe,Z_MEM_ERROR:nCe,Z_BUF_ERROR:igt,Z_DEFLATED:Wbe}=FM,A9=16180,Xbe=16181,Ybe=16182,qbe=16183,Zbe=16184,Kbe=16185,Qbe=16186,Jbe=16187,e1e=16188,t1e=16189,IU=16190,bv=16191,cK=16192,r1e=16193,hK=16194,n1e=16195,i1e=16196,a1e=16197,o1e=16198,gH=16199,vH=16200,s1e=16201,l1e=16202,u1e=16203,c1e=16204,h1e=16205,fK=16206,f1e=16207,d1e=16208,to=16209,iCe=16210,aCe=16211,agt=852,ogt=592,sgt=15,lgt=sgt,p1e=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ugt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var vE=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.mode<A9||o.mode>aCe?1:0},oCe=n=>{if(vE(n))return yf;const o=n.state;return n.total_in=n.total_out=o.total=0,n.msg="",o.wrap&&(n.adler=o.wrap&1),o.mode=A9,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(agt),o.distcode=o.distdyn=new Int32Array(ogt),o.sane=1,o.back=-1,oE},sCe=n=>{if(vE(n))return yf;const o=n.state;return o.wsize=0,o.whave=0,o.wnext=0,oCe(n)},lCe=(n,o)=>{let i;if(vE(n))return yf;const l=n.state;return o<0?(i=0,o=-o):(i=(o>>4)+5,o<48&&(o&=15)),o&&(o<8||o>15)?yf:(l.window!==null&&l.wbits!==o&&(l.window=null),l.wrap=i,l.wbits=o,sCe(n))},uCe=(n,o)=>{if(!n)return yf;const i=new ugt;n.state=i,i.strm=n,i.window=null,i.mode=A9;const l=lCe(n,o);return l!==oE&&(n.state=null),l},cgt=n=>uCe(n,lgt),m1e=!0,dK,pK,hgt=n=>{if(m1e){dK=new Int32Array(512),pK=new Int32Array(32);let o=0;for(;o<144;)n.lens[o++]=8;for(;o<256;)n.lens[o++]=9;for(;o<280;)n.lens[o++]=7;for(;o<288;)n.lens[o++]=8;for(M2(eCe,n.lens,0,288,dK,0,n.work,{bits:9}),o=0;o<32;)n.lens[o++]=5;M2(tCe,n.lens,0,32,pK,0,n.work,{bits:5}),m1e=!1}n.lencode=dK,n.lenbits=9,n.distcode=pK,n.distbits=5},cCe=(n,o,i,l)=>{let c;const d=n.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize)),l>=d.wsize?(d.window.set(o.subarray(i-d.wsize,i),0),d.wnext=0,d.whave=d.wsize):(c=d.wsize-d.wnext,c>l&&(c=l),d.window.set(o.subarray(i-l,i-l+c),d.wnext),l-=c,l?(d.window.set(o.subarray(i-l,i),0),d.wnext=l,d.whave=d.wsize):(d.wnext+=c,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=c))),0},fgt=(n,o)=>{let i,l,c,d,m,b,w,A,I,N,R,D,L,z,V=0,te,fe,Y,q,K,ce,re,ge;const F=new Uint8Array(4);let Te,Ce;const ve=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vE(n)||!n.output||!n.input&&n.avail_in!==0)return yf;i=n.state,i.mode===bv&&(i.mode=cK),m=n.next_out,c=n.output,w=n.avail_out,d=n.next_in,l=n.input,b=n.avail_in,A=i.hold,I=i.bits,N=b,R=w,ge=oE;e:for(;;)switch(i.mode){case A9:if(i.wrap===0){i.mode=cK;break}for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.wrap&2&&A===35615){i.wbits===0&&(i.wbits=15),i.check=0,F[0]=A&255,F[1]=A>>>8&255,i.check=ks(i.check,F,2,0),A=0,I=0,i.mode=Xbe;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((A&255)<<8)+(A>>8))%31){n.msg="incorrect header check",i.mode=to;break}if((A&15)!==Wbe){n.msg="unknown compression method",i.mode=to;break}if(A>>>=4,I-=4,re=(A&15)+8,i.wbits===0&&(i.wbits=re),re>15||re>i.wbits){n.msg="invalid window size",i.mode=to;break}i.dmax=1<<i.wbits,i.flags=0,n.adler=i.check=1,i.mode=A&512?t1e:bv,A=0,I=0;break;case Xbe:for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.flags=A,(i.flags&255)!==Wbe){n.msg="unknown compression method",i.mode=to;break}if(i.flags&57344){n.msg="unknown header flags set",i.mode=to;break}i.head&&(i.head.text=A>>8&1),i.flags&512&&i.wrap&4&&(F[0]=A&255,F[1]=A>>>8&255,i.check=ks(i.check,F,2,0)),A=0,I=0,i.mode=Ybe;case Ybe:for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.head&&(i.head.time=A),i.flags&512&&i.wrap&4&&(F[0]=A&255,F[1]=A>>>8&255,F[2]=A>>>16&255,F[3]=A>>>24&255,i.check=ks(i.check,F,4,0)),A=0,I=0,i.mode=qbe;case qbe:for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.head&&(i.head.xflags=A&255,i.head.os=A>>8),i.flags&512&&i.wrap&4&&(F[0]=A&255,F[1]=A>>>8&255,i.check=ks(i.check,F,2,0)),A=0,I=0,i.mode=Zbe;case Zbe:if(i.flags&1024){for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.length=A,i.head&&(i.head.extra_len=A),i.flags&512&&i.wrap&4&&(F[0]=A&255,F[1]=A>>>8&255,i.check=ks(i.check,F,2,0)),A=0,I=0}else i.head&&(i.head.extra=null);i.mode=Kbe;case Kbe:if(i.flags&1024&&(D=i.length,D>b&&(D=b),D&&(i.head&&(re=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(l.subarray(d,d+D),re)),i.flags&512&&i.wrap&4&&(i.check=ks(i.check,l,D,d)),b-=D,d+=D,i.length-=D),i.length))break e;i.length=0,i.mode=Qbe;case Qbe:if(i.flags&2048){if(b===0)break e;D=0;do re=l[d+D++],i.head&&re&&i.length<65536&&(i.head.name+=String.fromCharCode(re));while(re&&D<b);if(i.flags&512&&i.wrap&4&&(i.check=ks(i.check,l,D,d)),b-=D,d+=D,re)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=Jbe;case Jbe:if(i.flags&4096){if(b===0)break e;D=0;do re=l[d+D++],i.head&&re&&i.length<65536&&(i.head.comment+=String.fromCharCode(re));while(re&&D<b);if(i.flags&512&&i.wrap&4&&(i.check=ks(i.check,l,D,d)),b-=D,d+=D,re)break e}else i.head&&(i.head.comment=null);i.mode=e1e;case e1e:if(i.flags&512){for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.wrap&4&&A!==(i.check&65535)){n.msg="header crc mismatch",i.mode=to;break}A=0,I=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),n.adler=i.check=0,i.mode=bv;break;case t1e:for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}n.adler=i.check=p1e(A),A=0,I=0,i.mode=IU;case IU:if(i.havedict===0)return n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,ngt;n.adler=i.check=1,i.mode=bv;case bv:if(o===tgt||o===mH)break e;case cK:if(i.last){A>>>=I&7,I-=I&7,i.mode=fK;break}for(;I<3;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}switch(i.last=A&1,A>>>=1,I-=1,A&3){case 0:i.mode=r1e;break;case 1:if(hgt(i),i.mode=gH,o===mH){A>>>=2,I-=2;break e}break;case 2:i.mode=i1e;break;case 3:n.msg="invalid block type",i.mode=to}A>>>=2,I-=2;break;case r1e:for(A>>>=I&7,I-=I&7;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if((A&65535)!==(A>>>16^65535)){n.msg="invalid stored block lengths",i.mode=to;break}if(i.length=A&65535,A=0,I=0,i.mode=hK,o===mH)break e;case hK:i.mode=n1e;case n1e:if(D=i.length,D){if(D>b&&(D=b),D>w&&(D=w),D===0)break e;c.set(l.subarray(d,d+D),m),b-=D,d+=D,w-=D,m+=D,i.length-=D;break}i.mode=bv;break;case i1e:for(;I<14;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.nlen=(A&31)+257,A>>>=5,I-=5,i.ndist=(A&31)+1,A>>>=5,I-=5,i.ncode=(A&15)+4,A>>>=4,I-=4,i.nlen>286||i.ndist>30){n.msg="too many length or distance symbols",i.mode=to;break}i.have=0,i.mode=a1e;case a1e:for(;i.have<i.ncode;){for(;I<3;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.lens[ve[i.have++]]=A&7,A>>>=3,I-=3}for(;i.have<19;)i.lens[ve[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Te={bits:i.lenbits},ge=M2(egt,i.lens,0,19,i.lencode,0,i.work,Te),i.lenbits=Te.bits,ge){n.msg="invalid code lengths set",i.mode=to;break}i.have=0,i.mode=o1e;case o1e:for(;i.have<i.nlen+i.ndist;){for(;V=i.lencode[A&(1<<i.lenbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(Y<16)A>>>=te,I-=te,i.lens[i.have++]=Y;else{if(Y===16){for(Ce=te+2;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(A>>>=te,I-=te,i.have===0){n.msg="invalid bit length repeat",i.mode=to;break}re=i.lens[i.have-1],D=3+(A&3),A>>>=2,I-=2}else if(Y===17){for(Ce=te+3;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=te,I-=te,re=0,D=3+(A&7),A>>>=3,I-=3}else{for(Ce=te+7;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=te,I-=te,re=0,D=11+(A&127),A>>>=7,I-=7}if(i.have+D>i.nlen+i.ndist){n.msg="invalid bit length repeat",i.mode=to;break}for(;D--;)i.lens[i.have++]=re}}if(i.mode===to)break;if(i.lens[256]===0){n.msg="invalid code -- missing end-of-block",i.mode=to;break}if(i.lenbits=9,Te={bits:i.lenbits},ge=M2(eCe,i.lens,0,i.nlen,i.lencode,0,i.work,Te),i.lenbits=Te.bits,ge){n.msg="invalid literal/lengths set",i.mode=to;break}if(i.distbits=6,i.distcode=i.distdyn,Te={bits:i.distbits},ge=M2(tCe,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Te),i.distbits=Te.bits,ge){n.msg="invalid distances set",i.mode=to;break}if(i.mode=gH,o===mH)break e;case gH:i.mode=vH;case vH:if(b>=6&&w>=258){n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,Ymt(n,R),m=n.next_out,c=n.output,w=n.avail_out,d=n.next_in,l=n.input,b=n.avail_in,A=i.hold,I=i.bits,i.mode===bv&&(i.back=-1);break}for(i.back=0;V=i.lencode[A&(1<<i.lenbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(fe&&!(fe&240)){for(q=te,K=fe,ce=Y;V=i.lencode[ce+((A&(1<<q+K)-1)>>q)],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(q+te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=q,I-=q,i.back+=q}if(A>>>=te,I-=te,i.back+=te,i.length=Y,fe===0){i.mode=h1e;break}if(fe&32){i.back=-1,i.mode=bv;break}if(fe&64){n.msg="invalid literal/length code",i.mode=to;break}i.extra=fe&15,i.mode=s1e;case s1e:if(i.extra){for(Ce=i.extra;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.length+=A&(1<<i.extra)-1,A>>>=i.extra,I-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=l1e;case l1e:for(;V=i.distcode[A&(1<<i.distbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(!(fe&240)){for(q=te,K=fe,ce=Y;V=i.distcode[ce+((A&(1<<q+K)-1)>>q)],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(q+te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=q,I-=q,i.back+=q}if(A>>>=te,I-=te,i.back+=te,fe&64){n.msg="invalid distance code",i.mode=to;break}i.offset=Y,i.extra=fe&15,i.mode=u1e;case u1e:if(i.extra){for(Ce=i.extra;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.offset+=A&(1<<i.extra)-1,A>>>=i.extra,I-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){n.msg="invalid distance too far back",i.mode=to;break}i.mode=c1e;case c1e:if(w===0)break e;if(D=R-w,i.offset>D){if(D=i.offset-D,D>i.whave&&i.sane){n.msg="invalid distance too far back",i.mode=to;break}D>i.wnext?(D-=i.wnext,L=i.wsize-D):L=i.wnext-D,D>i.length&&(D=i.length),z=i.window}else z=c,L=m-i.offset,D=i.length;D>w&&(D=w),w-=D,i.length-=D;do c[m++]=z[L++];while(--D);i.length===0&&(i.mode=vH);break;case h1e:if(w===0)break e;c[m++]=i.length,w--,i.mode=vH;break;case fK:if(i.wrap){for(;I<32;){if(b===0)break e;b--,A|=l[d++]<<I,I+=8}if(R-=w,n.total_out+=R,i.total+=R,i.wrap&4&&R&&(n.adler=i.check=i.flags?ks(i.check,c,R,m-R):aM(i.check,c,R,m-R)),R=w,i.wrap&4&&(i.flags?A:p1e(A))!==i.check){n.msg="incorrect data check",i.mode=to;break}A=0,I=0}i.mode=f1e;case f1e:if(i.wrap&&i.flags){for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.wrap&4&&A!==(i.total&4294967295)){n.msg="incorrect length check",i.mode=to;break}A=0,I=0}i.mode=d1e;case d1e:ge=rgt;break e;case to:ge=rCe;break e;case iCe:return nCe;case aCe:default:return yf}return n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,(i.wsize||R!==n.avail_out&&i.mode<to&&(i.mode<fK||o!==jbe))&&cCe(n,n.output,n.next_out,R-n.avail_out),N-=n.avail_in,R-=n.avail_out,n.total_in+=N,n.total_out+=R,i.total+=R,i.wrap&4&&R&&(n.adler=i.check=i.flags?ks(i.check,c,R,n.next_out-R):aM(i.check,c,R,n.next_out-R)),n.data_type=i.bits+(i.last?64:0)+(i.mode===bv?128:0)+(i.mode===gH||i.mode===hK?256:0),(N===0&&R===0||o===jbe)&&ge===oE&&(ge=igt),ge},dgt=n=>{if(vE(n))return yf;let o=n.state;return o.window&&(o.window=null),n.state=null,oE},pgt=(n,o)=>{if(vE(n))return yf;const i=n.state;return i.wrap&2?(i.head=o,o.done=!1,oE):yf},mgt=(n,o)=>{const i=o.length;let l,c,d;return vE(n)||(l=n.state,l.wrap!==0&&l.mode!==IU)?yf:l.mode===IU&&(c=1,c=aM(c,o,i,0),c!==l.check)?rCe:(d=cCe(n,o,i,i),d?(l.mode=iCe,nCe):(l.havedict=1,oE))},ggt=sCe,vgt=lCe,ygt=oCe,bgt=cgt,_gt=uCe,Tgt=fgt,Egt=dgt,Sgt=pgt,Agt=mgt,wgt="pako inflate (from Nodeca project)",wv={inflateReset:ggt,inflateReset2:vgt,inflateResetKeep:ygt,inflateInit:bgt,inflateInit2:_gt,inflate:Tgt,inflateEnd:Egt,inflateGetHeader:Sgt,inflateSetDictionary:Agt,inflateInfo:wgt};function Cgt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xgt=Cgt,hCe=Object.prototype.toString,{Z_NO_FLUSH:Igt,Z_FINISH:Dgt,Z_OK:lM,Z_STREAM_END:mK,Z_NEED_DICT:gK,Z_STREAM_ERROR:Ogt,Z_DATA_ERROR:g1e,Z_MEM_ERROR:kgt}=FM;function HM(n){this.options=S9.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(n&&n.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15||(o.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qwe,this.strm.avail_out=0;let i=wv.inflateInit2(this.strm,o.windowBits);if(i!==lM)throw new Error(dI[i]);if(this.header=new xgt,wv.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=sM.string2buf(o.dictionary):hCe.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(i=wv.inflateSetDictionary(this.strm,o.dictionary),i!==lM)))throw new Error(dI[i])}HM.prototype.push=function(n,o){const i=this.strm,l=this.options.chunkSize,c=this.options.dictionary;let d,m,b;if(this.ended)return!1;for(o===~~o?m=o:m=o===!0?Dgt:Igt,hCe.call(n)==="[object ArrayBuffer]"?i.input=new Uint8Array(n):i.input=n,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(l),i.next_out=0,i.avail_out=l),d=wv.inflate(i,m),d===gK&&c&&(d=wv.inflateSetDictionary(i,c),d===lM?d=wv.inflate(i,m):d===g1e&&(d=gK));i.avail_in>0&&d===mK&&i.state.wrap>0&&n[i.next_in]!==0;)wv.inflateReset(i),d=wv.inflate(i,m);switch(d){case Ogt:case g1e:case gK:case kgt:return this.onEnd(d),this.ended=!0,!1}if(b=i.avail_out,i.next_out&&(i.avail_out===0||d===mK))if(this.options.to==="string"){let w=sM.utf8border(i.output,i.next_out),A=i.next_out-w,I=sM.buf2string(i.output,w);i.next_out=A,i.avail_out=l-A,A&&i.output.set(i.output.subarray(w,w+A),0),this.onData(I)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(d===lM&&b===0)){if(d===mK)return d=wv.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};HM.prototype.onData=function(n){this.chunks.push(n)};HM.prototype.onEnd=function(n){n===lM&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S9.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function ute(n,o){const i=new HM(o);if(i.push(n),i.err)throw i.msg||dI[i.err];return i.result}function Rgt(n,o){return o=o||{},o.raw=!0,ute(n,o)}var Pgt=HM,Ngt=ute,Mgt=Rgt,Lgt=ute,Fgt=FM,Bgt={Inflate:Pgt,inflate:Ngt,inflateRaw:Mgt,ungzip:Lgt,constants:Fgt},{Inflate:LCt,inflate:FCt,inflateRaw:Hgt,ungzip:BCt}=Bgt,Ugt=Hgt;function Ggt(n){return Ugt(n.subarray(2))}gr();vr();var $gt=class extends Error{constructor(o){super(o),this.code="ERR_ABORTED"}};function zgt(n){n.sort((c,d)=>Number(c.offset)-Number(d.offset));const o=[];let i,l;for(let c=0;c<n.length;c+=1)i&&l&&Number(n[c].offset)-l<=2e3?(i.length=BigInt(Number(i.length)+Number(n[c].length)-l+Number(n[c].offset)),i.blocks.push(n[c])):o.push(i={blocks:[n[c]],length:n[c].length,offset:n[c].offset}),l=Number(i.offset)+Number(i.length);return o}function yH(n){if(n&&n.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const o=new $gt("aborted");throw o.code="ERR_ABORTED",o}}}var Vgt=1,jgt=2,Wgt=3;function vK(n,o,i,l){return n<l&&o>=i}function Xgt(n){const o=n?"big":"little",i=new Zi().endianess(o).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),l=new Zi().endianess(o).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Zi().endianess(o).array("blocksToFetch",{length:"cnt",type:new Zi().endianess(o).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Zi().array("recurOffsets",{length:"cnt",type:new Zi().endianess(o).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),c=new Zi().endianess(o).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Zi().endianess(o).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[Wgt]:new Zi().array("items",{length:"itemCount",type:new Zi().floatle("score")}),[jgt]:new Zi().array("items",{length:"itemCount",type:new Zi().endianess(o).int32("start").floatle("score")}),[Vgt]:new Zi().array("items",{length:"itemCount",type:new Zi().endianess(o).int32("start").int32("end").floatle("score")})}}),bigBedParser:c,summaryParser:i,leafParser:l}}var fCe=class{constructor(n,o,i,l,c,d){if(this.bbi=n,this.refsByName=o,this.cirTreeOffset=i,this.isBigEndian=l,this.isCompressed=c,this.blockType=d,this.featureCache=new hpt.default({cache:new fpt.default({maxSize:1e3}),fill:async(b,w)=>{const A=Number(b.length),I=Number(b.offset),{buffer:N}=await this.bbi.read(hr.alloc(A),0,A,I,{signal:w});return N}}),!(i>=0))throw new Error("invalid cirTreeOffset!");const m=Xgt(l);this.leafParser=m.leafParser,this.bigBedParser=m.bigBedParser}async readWigData(n,o,i,l,c){try{const{refsByName:d,bbi:m,cirTreeOffset:b,isBigEndian:w}=this,A=d[n];A===void 0&&l.complete();const I={chrId:A,start:o,end:i};this.cirTreePromise||(this.cirTreePromise=m.read(hr.alloc(48),0,48,Number(b),c));const{buffer:N}=await this.cirTreePromise,R=w?N.readUInt32BE(4):N.readUInt32LE(4);let D=[],L=0;const z=(Y,q,K)=>{try{const ce=Y.subarray(q),re=this.leafParser.parse(ce);if(re.blocksToFetch&&(D=D.concat(re.blocksToFetch.filter(V).map(ge=>({offset:ge.blockOffset,length:ge.blockSize})))),re.recurOffsets){const ge=re.recurOffsets.filter(V).map(F=>Number(F.blockOffset));ge.length>0&&fe(ge,K+1)}}catch(ce){l.error(ce)}},V=Y=>{const{startChrom:q,startBase:K,endChrom:ce,endBase:re}=Y;return(q<A||q===A&&K<=i)&&(ce>A||ce===A&&re>=o)},te=async(Y,q,K)=>{try{const ce=q.max()-q.min(),re=q.min(),ge=await this.featureCache.get(`${ce}_${re}`,{length:ce,offset:re},c.signal);for(let F=0;F<Y.length;F+=1)q.contains(Y[F])&&(z(ge,Y[F]-re,K),L-=1,L===0&&this.readFeatures(l,D,{...c,request:I}))}catch(ce){l.error(ce)}},fe=(Y,q)=>{try{L+=Y.length;const K=4+Number(R)*32;let ce=new MT(Y[0],Y[0]+K);for(let re=1;re<Y.length;re+=1){const ge=new MT(Y[re],Y[re]+K);ce=ce.union(ge)}ce.getRanges().map(re=>te(Y,re,q))}catch(K){l.error(K)}};return fe([Number(b)+48],1)}catch(d){l.error(d)}}parseSummaryBlock(n,o,i){const l=[];let c=o;const d=new DataView(n.buffer,n.byteOffset,n.length);for(;c<n.byteLength;){const m=d.getUint32(c,!0);c+=4;const b=d.getUint32(c,!0);c+=4;const w=d.getUint32(c,!0);c+=4;const A=d.getUint32(c,!0);c+=4;const I=d.getFloat32(c,!0);c+=4;const N=d.getFloat32(c,!0);c+=4;const R=d.getFloat32(c,!0);c+=4,c+=4,(!i||m===i.chrId&&vK(b,w,i.start,i.end))&&l.push({start:b,end:w,maxScore:N,minScore:I,summary:!0,score:R/(A||1)})}return l}parseBigBedBlock(n,o,i,l){const c=[];let d=o;for(;d<n.byteLength;){const m=this.bigBedParser.parse(n.subarray(d));c.push({...m,uniqueId:`bb-${i+d}`}),d+=m.offset}return l?c.filter(m=>vK(m.start,m.end,l.start,l.end)):c}parseBigWigBlock(n,o,i){const l=n.subarray(o),c=new DataView(l.buffer,l.byteOffset,l.length);let d=0;d+=4;const m=c.getInt32(d,!0);d+=8;const b=c.getUint32(d,!0);d+=4;const w=c.getUint32(d,!0);d+=4;const A=c.getUint8(d);d+=2;const I=c.getUint16(d,!0);d+=2;const N=new Array(I);switch(A){case 1:for(let R=0;R<I;R++){const D=c.getInt32(d,!0);d+=4;const L=c.getInt32(d,!0);d+=4;const z=c.getFloat32(d,!0);d+=4,N[R]={start:D,end:L,score:z}}break;case 2:for(let R=0;R<I;R++){const D=c.getInt32(d,!0);d+=4;const L=c.getFloat32(d,!0);d+=4,N[R]={score:L,start:D,end:D+w}}break;case 3:for(let R=0;R<I;R++){const D=c.getFloat32(d,!0);d+=4;const L=m+R*b;N[R]={score:D,start:L,end:L+w}}break}return i?N.filter(R=>vK(R.start,R.end,i.start,i.end)):N}async readFeatures(n,o,i={}){try{const{blockType:l,isCompressed:c}=this,{signal:d,request:m}=i,b=zgt(o);yH(d),await Promise.all(b.map(async w=>{yH(d);const{length:A,offset:I}=w,N=await this.featureCache.get(`${A}_${I}`,w,d);w.blocks.forEach(R=>{yH(d);let D=Number(R.offset)-Number(w.offset),L=N;switch(c&&(L=Ggt(N.subarray(D)),D=0),yH(d),l){case"summary":n.next(this.parseSummaryBlock(L,D,m));break;case"bigwig":n.next(this.parseBigWigBlock(L,D,m));break;case"bigbed":n.next(this.parseBigBedBlock(L,D,Number(R.offset)*256,m));break;default:console.warn(`Don't know what to do with ${l}`)}})})),n.complete()}catch(l){n.error(l)}}};gr();vr();gr();vr();var Ygt=gE(Cdt());gr();vr();var yK=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0},dCe=class{async getBufferFromResponse(n){if(typeof n.buffer=="function")return n.buffer();if(typeof n.arrayBuffer=="function"){const o=await n.arrayBuffer();return hr.from(o)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(n,o={}){this.baseOverrides={},this.url=n;const i=o.fetch||yK.fetch&&yK.fetch.bind(yK);if(!i)throw new TypeError("no fetch function supplied, and none found in global environment");o.overrides&&(this.baseOverrides=o.overrides),this.fetchImplementation=i}async fetch(n,o){let i;try{i=await this.fetchImplementation(n,o)}catch(l){if(`${l}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${n} to attempt to work around chrome CORS header caching bug`),i=await this.fetchImplementation(n,{...o,cache:"reload"});else throw l}return i}async read(n,o=0,i,l=0,c={}){const{headers:d={},signal:m,overrides:b={}}=c;i<1/0?d.range=`bytes=${l}-${l+i}`:i===1/0&&l!==0&&(d.range=`bytes=${l}-`);const w={...this.baseOverrides,...b,headers:{...d,...b.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:m},A=await this.fetch(this.url,w);if(!A.ok)throw new Error(`HTTP ${A.status} ${A.statusText} ${this.url}`);if(A.status===200&&l===0||A.status===206){const I=await this.getBufferFromResponse(A),N=I.copy(n,o,0,Math.min(i,I.length)),R=A.headers.get("content-range"),D=/\/(\d+)$/.exec(R||"");return D&&D[1]&&(this._stat={size:parseInt(D[1],10)}),{bytesRead:N,buffer:n}}throw A.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${A.status} fetching ${this.url}`)}async readFile(n={}){let o,i;typeof n=="string"?(o=n,i={}):(o=n.encoding,i=n,delete i.encoding);const{headers:l={},signal:c,overrides:d={}}=i,m={headers:l,method:"GET",redirect:"follow",mode:"cors",signal:c,...this.baseOverrides,...d},b=await this.fetch(this.url,m);if(!b)throw new Error("generic-filehandle failed to fetch");if(b.status!==200)throw Object.assign(new Error(`HTTP ${b.status} fetching ${this.url}`),{status:b.status});if(o==="utf8")return b.text();if(o)throw new Error(`unsupported encoding: ${o}`);return this.getBufferFromResponse(b)}async stat(){if(!this._stat){const n=hr.allocUnsafe(10);if(await this.read(n,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};gr();vr();gr();vr();gr();vr();gr();vr();gr();vr();gr();vr();var qgt=gE(xdt(),1),{__extends:cte,__assign:UCt,__rest:GCt,__decorate:$Ct,__param:zCt,__esDecorate:VCt,__runInitializers:jCt,__propKey:WCt,__setFunctionName:XCt,__metadata:YCt,__awaiter:qCt,__generator:ZCt,__exportStar:KCt,__createBinding:QCt,__values:v1e,__read:IJ,__spread:JCt,__spreadArrays:ext,__spreadArray:DJ,__await:txt,__asyncGenerator:rxt,__asyncDelegator:nxt,__asyncValues:ixt,__makeTemplateObject:axt,__importStar:oxt,__importDefault:sxt,__classPrivateFieldGet:lxt,__classPrivateFieldSet:uxt,__classPrivateFieldIn:cxt}=qgt.default;gr();vr();function Pm(n){return typeof n=="function"}gr();vr();gr();vr();gr();vr();function pCe(n){var o=function(l){Error.call(l),l.stack=new Error().stack},i=n(o);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var bK=pCe(function(n){return function(i){n(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(l,c){return c+1+") "+l.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});gr();vr();function y1e(n,o){if(n){var i=n.indexOf(o);0<=i&&n.splice(i,1)}}var hte=function(){function n(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var o,i,l,c,d;if(!this.closed){this.closed=!0;var m=this._parentage;if(m)if(this._parentage=null,Array.isArray(m))try{for(var b=v1e(m),w=b.next();!w.done;w=b.next()){var A=w.value;A.remove(this)}}catch(z){o={error:z}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}else m.remove(this);var I=this.initialTeardown;if(Pm(I))try{I()}catch(z){d=z instanceof bK?z.errors:[z]}var N=this._finalizers;if(N){this._finalizers=null;try{for(var R=v1e(N),D=R.next();!D.done;D=R.next()){var L=D.value;try{b1e(L)}catch(z){d=d??[],z instanceof bK?d=DJ(DJ([],IJ(d)),IJ(z.errors)):d.push(z)}}}catch(z){l={error:z}}finally{try{D&&!D.done&&(c=R.return)&&c.call(R)}finally{if(l)throw l.error}}}if(d)throw new bK(d)}},n.prototype.add=function(o){var i;if(o&&o!==this)if(this.closed)b1e(o);else{if(o instanceof n){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(o)}},n.prototype._hasParent=function(o){var i=this._parentage;return i===o||Array.isArray(i)&&i.includes(o)},n.prototype._addParent=function(o){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(o),i):i?[i,o]:o},n.prototype._removeParent=function(o){var i=this._parentage;i===o?this._parentage=null:Array.isArray(i)&&y1e(i,o)},n.prototype.remove=function(o){var i=this._finalizers;i&&y1e(i,o),o instanceof n&&o._removeParent(this)},n.EMPTY=function(){var o=new n;return o.closed=!0,o}(),n}();hte.EMPTY;function mCe(n){return n instanceof hte||n&&"closed"in n&&Pm(n.remove)&&Pm(n.add)&&Pm(n.unsubscribe)}function b1e(n){Pm(n)?n():n.unsubscribe()}gr();vr();var gCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};gr();vr();gr();vr();var Zgt={setTimeout:function(n,o){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setTimeout.apply(void 0,DJ([n,o],IJ(i)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function Kgt(n){Zgt.setTimeout(function(){throw n})}gr();vr();function _1e(){}gr();vr();gr();vr();function Qgt(n){n()}var fte=function(n){cte(o,n);function o(i){var l=n.call(this)||this;return l.isStopped=!1,i?(l.destination=i,mCe(i)&&i.add(l)):l.destination=rvt,l}return o.create=function(i,l,c){return new DU(i,l,c)},o.prototype.next=function(i){this.isStopped||this._next(i)},o.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},o.prototype._next=function(i){this.destination.next(i)},o.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},o.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},o}(hte),Jgt=Function.prototype.bind;function _K(n,o){return Jgt.call(n,o)}var evt=function(){function n(o){this.partialObserver=o}return n.prototype.next=function(o){var i=this.partialObserver;if(i.next)try{i.next(o)}catch(l){bH(l)}},n.prototype.error=function(o){var i=this.partialObserver;if(i.error)try{i.error(o)}catch(l){bH(l)}else bH(o)},n.prototype.complete=function(){var o=this.partialObserver;if(o.complete)try{o.complete()}catch(i){bH(i)}},n}(),DU=function(n){cte(o,n);function o(i,l,c){var d=n.call(this)||this,m;if(Pm(i)||!i)m={next:i??void 0,error:l??void 0,complete:c??void 0};else{var b;d&&gCe.useDeprecatedNextContext?(b=Object.create(i),b.unsubscribe=function(){return d.unsubscribe()},m={next:i.next&&_K(i.next,b),error:i.error&&_K(i.error,b),complete:i.complete&&_K(i.complete,b)}):m=i}return d.destination=new evt(m),d}return o}(fte);function bH(n){Kgt(n)}function tvt(n){throw n}var rvt={closed:!0,next:_1e,error:tvt,complete:_1e};gr();vr();var nvt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();gr();vr();gr();vr();function ivt(n){return n}function avt(n){return n.length===0?ivt:n.length===1?n[0]:function(i){return n.reduce(function(l,c){return c(l)},i)}}var ovt=function(){function n(o){o&&(this._subscribe=o)}return n.prototype.lift=function(o){var i=new n;return i.source=this,i.operator=o,i},n.prototype.subscribe=function(o,i,l){var c=this,d=lvt(o)?o:new DU(o,i,l);return Qgt(function(){var m=c,b=m.operator,w=m.source;d.add(b?b.call(d,w):w?c._subscribe(d):c._trySubscribe(d))}),d},n.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(i){o.error(i)}},n.prototype.forEach=function(o,i){var l=this;return i=T1e(i),new i(function(c,d){var m=new DU({next:function(b){try{o(b)}catch(w){d(w),m.unsubscribe()}},error:d,complete:c});l.subscribe(m)})},n.prototype._subscribe=function(o){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(o)},n.prototype[nvt]=function(){return this},n.prototype.pipe=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return avt(o)(this)},n.prototype.toPromise=function(o){var i=this;return o=T1e(o),new o(function(l,c){var d;i.subscribe(function(m){return d=m},function(m){return c(m)},function(){return l(d)})})},n.create=function(o){return new n(o)},n}();function T1e(n){var o;return(o=n??gCe.Promise)!==null&&o!==void 0?o:Promise}function svt(n){return n&&Pm(n.next)&&Pm(n.error)&&Pm(n.complete)}function lvt(n){return n&&n instanceof fte||svt(n)&&mCe(n)}gr();vr();function uvt(n){return Pm(n==null?void 0:n.lift)}function vCe(n){return function(o){if(uvt(o))return o.lift(function(i){try{return n(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}gr();vr();function cvt(n,o,i,l,c){return new hvt(n,o,i,l,c)}var hvt=function(n){cte(o,n);function o(i,l,c,d,m,b){var w=n.call(this,i)||this;return w.onFinalize=m,w.shouldUnsubscribe=b,w._next=l?function(A){try{l(A)}catch(I){i.error(I)}}:n.prototype._next,w._error=d?function(A){try{d(A)}catch(I){i.error(I)}finally{this.unsubscribe()}}:n.prototype._error,w._complete=c?function(){try{c()}catch(A){i.error(A)}finally{this.unsubscribe()}}:n.prototype._complete,w}return o.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;n.prototype.unsubscribe.call(this),!l&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},o}(fte);gr();vr();var fvt=pCe(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});gr();vr();function dvt(n,o){var i=typeof o=="object";return new Promise(function(l,c){var d=new DU({next:function(m){l(m),d.unsubscribe()},error:c,complete:function(){i?l(o.defaultValue):c(new fvt)}});n.subscribe(d)})}gr();vr();gr();vr();gr();vr();function pvt(n,o,i,l,c){return function(d,m){var b=i,w=o,A=0;d.subscribe(cvt(m,function(I){var N=A++;w=b?n(w,I,N):(b=!0,I),l&&m.next(w)},c&&function(){b&&m.next(w),m.complete()}))}}function mvt(n,o){return vCe(pvt(n,o,arguments.length>=2,!1,!0))}var gvt=function(n,o){return n.push(o),n};function vvt(){return vCe(function(n,o){mvt(gvt,[])(n).subscribe(o)})}gr();vr();var E1e=-2003829722,TK=-2021002517;function yvt(n){return new TextDecoder().decode(n)}function S1e(n){const o=n?"big":"little",i=new Zi().endianess(o).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Zi().endianess(o).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),l=new Zi().endianess(o).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),c=new Zi().endianess(o).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),d=new Zi().endianess(o).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:c,totalSummaryParser:l,headerParser:i,isLeafNode:d}}var bvt=class{getHeader(n={}){const o="aborted"in n?{signal:n}:n;return this.headerP||(this.headerP=this._getHeader(o).catch(i=>{throw this.headerP=void 0,i})),this.headerP}constructor(n={}){const{filehandle:o,renameRefSeqs:i=d=>d,path:l,url:c}=n;if(this.renameRefSeqs=i,o)this.bbi=o;else if(c)this.bbi=new dCe(c);else if(l)this.bbi=new Ygt.default(l);else throw new Error("no file given")}async _getHeader(n){const o=await this._getMainHeader(n),i=await this._readChromTree(o,n);return{...o,...i}}async _getMainHeader(n,o=2e3){const{buffer:i}=await this.bbi.read(hr.alloc(o),0,o,0,n),l=this._isBigEndian(i),c=S1e(l),d=c.headerParser.parse(i),{magic:m,asOffset:b,totalSummaryOffset:w}=d;if(d.fileType=m===TK?"bigbed":"bigwig",b>o||w>o)return this._getMainHeader(n,o*2);if(b){const A=Number(d.asOffset);d.autoSql=yvt(i.subarray(A,i.indexOf(0,A)))}if(d.totalSummaryOffset>o)return this._getMainHeader(n,o*2);if(d.totalSummaryOffset){const A=i.subarray(Number(d.totalSummaryOffset)),I=c.totalSummaryParser.parse(A);d.totalSummary={...I,basesCovered:Number(I.basesCovered)}}return{...d,isBigEndian:l}}_isBigEndian(n){let o=n.readInt32LE(0);if(o===E1e||o===TK)return!1;if(o=n.readInt32BE(0),o===E1e||o===TK)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(n,o){const i=n.isBigEndian,l=i?"big":"little",c=[],d={};let m=Number(n.unzoomedDataOffset);const b=Number(n.chromTreeOffset);for(;m%4!==0;)m+=1;const w=m-b,{buffer:A}=await this.bbi.read(hr.alloc(w),0,w,Number(b),o),I=S1e(i),{keySize:N}=I.chromTreeParser.parse(A),R=new Zi().endianess(l).string("key",{stripNull:!0,length:N}).uint32("refId").uint32("refSize").saveOffset("offset"),D=new Zi().endianess(l).skip(N).uint64("childOffset").saveOffset("offset"),L=32,z=async V=>{let te=V;if(te>=A.length)throw new Error("reading beyond end of buffer");const fe=I.isLeafNode.parse(A.subarray(te)),{isLeafNode:Y,cnt:q}=fe;if(te+=fe.offset,Y)for(let K=0;K<q;K+=1){const ce=R.parse(A.subarray(te));te+=ce.offset;const{key:re,refId:ge,refSize:F}=ce,Te={name:re,id:ge,length:F};d[this.renameRefSeqs(re)]=ge,c[ge]=Te}else{const K=[];for(let ce=0;ce<q;ce+=1){const re=D.parse(A.subarray(te)),{childOffset:ge}=re;te+=re.offset,K.push(z(Number(ge)-Number(b)))}await Promise.all(K)}};return await z(L),{refsByName:d,refsByNumber:c}}async getUnzoomedView(n){const{unzoomedIndexOffset:o,refsByName:i,uncompressBufSize:l,isBigEndian:c,fileType:d}=await this.getHeader(n);return new fCe(this.bbi,i,o,c,l>0,d)}async getFeatureStream(n,o,i,l={scale:1}){await this.getHeader(l);const c=this.renameRefSeqs(n);let d;if(l.basesPerSpan?d=await this.getView(1/l.basesPerSpan,l):l.scale?d=await this.getView(l.scale,l):d=await this.getView(1,l),!d)throw new Error("unable to get block view for data");return new ovt(m=>{d.readWigData(c,o,i,m,l)})}async getFeatures(n,o,i,l={scale:1}){const c=await this.getFeatureStream(n,o,i,l);return(await dvt(c.pipe(vvt()))).flat()}},_vt=class extends bvt{async getView(n,o){const{zoomLevels:i,refsByName:l,fileSize:c,isBigEndian:d,uncompressBufSize:m}=await this.getHeader(o),b=1/n;let w=i.length;c||(w-=1);for(let A=w;A>=0;A-=1){const I=i[A];if(I&&I.reductionLevel<=2*b){const N=Number(I.indexOffset);return new fCe(this.bbi,l,N,d,m>0,"summary")}}return this.getUnzoomedView(o)}};gr();vr();gE(mwe());gE(gwe());gr();vr();gr();vr();var A1e={},EK={},SK=34,p2=10,AK=13;function yCe(n){return new Function("d","return {"+n.map(function(o,i){return JSON.stringify(o)+": d["+i+'] || ""'}).join(",")+"}")}function Tvt(n,o){var i=yCe(n);return function(l,c){return o(i(l),c,n)}}function w1e(n){var o=Object.create(null),i=[];return n.forEach(function(l){for(var c in l)c in o||i.push(o[c]=c)}),i}function sc(n,o){var i=n+"",l=i.length;return l<o?new Array(o-l+1).join(0)+i:i}function Evt(n){return n<0?"-"+sc(-n,6):n>9999?"+"+sc(n,6):sc(n,4)}function Svt(n){var o=n.getUTCHours(),i=n.getUTCMinutes(),l=n.getUTCSeconds(),c=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Evt(n.getUTCFullYear())+"-"+sc(n.getUTCMonth()+1,2)+"-"+sc(n.getUTCDate(),2)+(c?"T"+sc(o,2)+":"+sc(i,2)+":"+sc(l,2)+"."+sc(c,3)+"Z":l?"T"+sc(o,2)+":"+sc(i,2)+":"+sc(l,2)+"Z":i||o?"T"+sc(o,2)+":"+sc(i,2)+"Z":"")}function Avt(n){var o=new RegExp('["'+n+`
\r]`),i=n.charCodeAt(0);function l(N,R){var D,L,z=c(N,function(V,te){if(D)return D(V,te-1);L=V,D=R?Tvt(V,R):yCe(V)});return z.columns=L||[],z}function c(N,R){var D=[],L=N.length,z=0,V=0,te,fe=L<=0,Y=!1;N.charCodeAt(L-1)===p2&&--L,N.charCodeAt(L-1)===AK&&--L;function q(){if(fe)return EK;if(Y)return Y=!1,A1e;var ce,re=z,ge;if(N.charCodeAt(re)===SK){for(;z++<L&&N.charCodeAt(z)!==SK||N.charCodeAt(++z)===SK;);return(ce=z)>=L?fe=!0:(ge=N.charCodeAt(z++))===p2?Y=!0:ge===AK&&(Y=!0,N.charCodeAt(z)===p2&&++z),N.slice(re+1,ce-1).replace(/""/g,'"')}for(;z<L;){if((ge=N.charCodeAt(ce=z++))===p2)Y=!0;else if(ge===AK)Y=!0,N.charCodeAt(z)===p2&&++z;else if(ge!==i)continue;return N.slice(re,ce)}return fe=!0,N.slice(re,L)}for(;(te=q())!==EK;){for(var K=[];te!==A1e&&te!==EK;)K.push(te),te=q();R&&(K=R(K,V++))==null||D.push(K)}return D}function d(N,R){return N.map(function(D){return R.map(function(L){return I(D[L])}).join(n)})}function m(N,R){return R==null&&(R=w1e(N)),[R.map(I).join(n)].concat(d(N,R)).join(`
`)}function b(N,R){return R==null&&(R=w1e(N)),d(N,R).join(`
`)}function w(N){return N.map(A).join(`
`)}function A(N){return N.map(I).join(n)}function I(N){return N==null?"":N instanceof Date?Svt(N):o.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:l,parseRows:c,format:m,formatBody:b,formatRows:w,formatRow:A,formatValue:I}}gr();vr();var wvt=Avt("	"),Cvt=wvt.parseRows;gr();vr();gr();vr();gr();vr();gr();vr();gr();vr();var tf="$";function OU(){}OU.prototype=bCe.prototype={constructor:OU,has:function(n){return tf+n in this},get:function(n){return this[tf+n]},set:function(n,o){return this[tf+n]=o,this},remove:function(n){var o=tf+n;return o in this&&delete this[o]},clear:function(){for(var n in this)n[0]===tf&&delete this[n]},keys:function(){var n=[];for(var o in this)o[0]===tf&&n.push(o.slice(1));return n},values:function(){var n=[];for(var o in this)o[0]===tf&&n.push(this[o]);return n},entries:function(){var n=[];for(var o in this)o[0]===tf&&n.push({key:o.slice(1),value:this[o]});return n},size:function(){var n=0;for(var o in this)o[0]===tf&&++n;return n},empty:function(){for(var n in this)if(n[0]===tf)return!1;return!0},each:function(n){for(var o in this)o[0]===tf&&n(this[o],o.slice(1),this)}};function bCe(n,o){var i=new OU;if(n instanceof OU)n.each(function(b,w){i.set(w,b)});else if(Array.isArray(n)){var l=-1,c=n.length,d;if(o==null)for(;++l<c;)i.set(l,n[l]);else for(;++l<c;)i.set(o(d=n[l],l,n),d)}else if(n)for(var m in n)i.set(m,n[m]);return i}var _Ce=bCe;gr();vr();function C1e(){}var xT=_Ce.prototype;C1e.prototype={constructor:C1e,has:xT.has,add:function(n){return n+="",this[tf+n]=n,this},remove:xT.remove,clear:xT.clear,values:xT.keys,size:xT.size,empty:xT.empty,each:xT.each};gr();vr();gr();vr();gr();vr();gr();vr();gr();vr();var xvt={value:function(){}};function TCe(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new UH(i)}function UH(n){this._=n}function Ivt(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",c=i.indexOf(".");if(c>=0&&(l=i.slice(c+1),i=i.slice(0,c)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}UH.prototype=TCe.prototype={constructor:UH,on:function(n,o){var i=this._,l=Ivt(n+"",i),c,d=-1,m=l.length;if(arguments.length<2){for(;++d<m;)if((c=(n=l[d]).type)&&(c=Dvt(i[c],n.name)))return c;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++d<m;)if(c=(n=l[d]).type)i[c]=x1e(i[c],n.name,o);else if(o==null)for(c in i)i[c]=x1e(i[c],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new UH(n)},call:function(n,o){if((c=arguments.length-2)>0)for(var i=new Array(c),l=0,c,d;l<c;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(d=this._[n],l=0,c=d.length;l<c;++l)d[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],c=0,d=l.length;c<d;++c)l[c].value.apply(o,i)}};function Dvt(n,o){for(var i=0,l=n.length,c;i<l;++i)if((c=n[i]).name===o)return c.value}function x1e(n,o,i){for(var l=0,c=n.length;l<c;++l)if(n[l].name===o){n[l]=xvt,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var Ovt=TCe;function kvt(n,o){var i,l=Ovt("beforesend","progress","load","error"),c,d=_Ce(),m=new XMLHttpRequest,b=null,w=null,A,I,N=0;typeof XDomainRequest<"u"&&!("withCredentials"in m)&&/^(http(s)?:)?\/\//.test(n)&&(m=new XDomainRequest),"onload"in m?m.onload=m.onerror=m.ontimeout=R:m.onreadystatechange=function(D){m.readyState>3&&R(D)};function R(D){var L=m.status,z;if(!L&&Pvt(m)||L>=200&&L<300||L===304){if(A)try{z=A.call(i,m)}catch(V){l.call("error",i,V);return}else z=m;l.call("load",i,z)}else l.call("error",i,D)}if(m.onprogress=function(D){l.call("progress",i,D)},i={header:function(D,L){return D=(D+"").toLowerCase(),arguments.length<2?d.get(D):(L==null?d.remove(D):d.set(D,L+""),i)},mimeType:function(D){return arguments.length?(c=D==null?null:D+"",i):c},responseType:function(D){return arguments.length?(I=D,i):I},timeout:function(D){return arguments.length?(N=+D,i):N},user:function(D){return arguments.length<1?b:(b=D==null?null:D+"",i)},password:function(D){return arguments.length<1?w:(w=D==null?null:D+"",i)},response:function(D){return A=D,i},get:function(D,L){return i.send("GET",D,L)},post:function(D,L){return i.send("POST",D,L)},send:function(D,L,z){return m.open(D,n,!0,b,w),c!=null&&!d.has("accept")&&d.set("accept",c+",*/*"),m.setRequestHeader&&d.each(function(V,te){m.setRequestHeader(te,V)}),c!=null&&m.overrideMimeType&&m.overrideMimeType(c),I!=null&&(m.responseType=I),N>0&&(m.timeout=N),z==null&&typeof L=="function"&&(z=L,L=null),z!=null&&z.length===1&&(z=Rvt(z)),z!=null&&i.on("error",z).on("load",function(V){z(null,V)}),l.call("beforesend",i,m),m.send(L??null),i},abort:function(){return m.abort(),i},on:function(){var D=l.on.apply(l,arguments);return D===l?i:D}},o!=null){if(typeof o!="function")throw new Error("invalid callback: "+o);return i.get(o)}return i}function Rvt(n){return function(o,i){n(o==null?i:null)}}function Pvt(n){var o=n.responseType;return o&&o!=="text"?n.response:n.responseText}gr();vr();gr();vr();function Nvt(n,o){return function(i,l){var c=kvt(i).mimeType(n).response(o);if(l!=null){if(typeof l!="function")throw new Error("invalid callback: "+l);return c.get(l)}return c}}gr();vr();gr();vr();var Mvt=Nvt("text/plain",function(n){return n.responseText});gr();vr();gr();vr();gr();vr();gr();vr();var I1e={},wK={},CK=34,m2=10,xK=13;function ECe(n){return new Function("d","return {"+n.map(function(o,i){return JSON.stringify(o)+": d["+i+'] || ""'}).join(",")+"}")}function Lvt(n,o){var i=ECe(n);return function(l,c){return o(i(l),c,n)}}function D1e(n){var o=Object.create(null),i=[];return n.forEach(function(l){for(var c in l)c in o||i.push(o[c]=c)}),i}function lc(n,o){var i=n+"",l=i.length;return l<o?new Array(o-l+1).join(0)+i:i}function Fvt(n){return n<0?"-"+lc(-n,6):n>9999?"+"+lc(n,6):lc(n,4)}function Bvt(n){var o=n.getUTCHours(),i=n.getUTCMinutes(),l=n.getUTCSeconds(),c=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Fvt(n.getUTCFullYear())+"-"+lc(n.getUTCMonth()+1,2)+"-"+lc(n.getUTCDate(),2)+(c?"T"+lc(o,2)+":"+lc(i,2)+":"+lc(l,2)+"."+lc(c,3)+"Z":l?"T"+lc(o,2)+":"+lc(i,2)+":"+lc(l,2)+"Z":i||o?"T"+lc(o,2)+":"+lc(i,2)+"Z":"")}function SCe(n){var o=new RegExp('["'+n+`
\r]`),i=n.charCodeAt(0);function l(N,R){var D,L,z=c(N,function(V,te){if(D)return D(V,te-1);L=V,D=R?Lvt(V,R):ECe(V)});return z.columns=L||[],z}function c(N,R){var D=[],L=N.length,z=0,V=0,te,fe=L<=0,Y=!1;N.charCodeAt(L-1)===m2&&--L,N.charCodeAt(L-1)===xK&&--L;function q(){if(fe)return wK;if(Y)return Y=!1,I1e;var ce,re=z,ge;if(N.charCodeAt(re)===CK){for(;z++<L&&N.charCodeAt(z)!==CK||N.charCodeAt(++z)===CK;);return(ce=z)>=L?fe=!0:(ge=N.charCodeAt(z++))===m2?Y=!0:ge===xK&&(Y=!0,N.charCodeAt(z)===m2&&++z),N.slice(re+1,ce-1).replace(/""/g,'"')}for(;z<L;){if((ge=N.charCodeAt(ce=z++))===m2)Y=!0;else if(ge===xK)Y=!0,N.charCodeAt(z)===m2&&++z;else if(ge!==i)continue;return N.slice(re,ce)}return fe=!0,N.slice(re,L)}for(;(te=q())!==wK;){for(var K=[];te!==I1e&&te!==wK;)K.push(te),te=q();R&&(K=R(K,V++))==null||D.push(K)}return D}function d(N,R){return N.map(function(D){return R.map(function(L){return I(D[L])}).join(n)})}function m(N,R){return R==null&&(R=D1e(N)),[R.map(I).join(n)].concat(d(N,R)).join(`
`)}function b(N,R){return R==null&&(R=D1e(N)),d(N,R).join(`
`)}function w(N){return N.map(A).join(`
`)}function A(N){return N.map(I).join(n)}function I(N){return N==null?"":N instanceof Date?Bvt(N):o.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:l,parseRows:c,format:m,formatBody:b,formatRows:w,formatRow:A,formatValue:I}}gr();vr();SCe(",");gr();vr();SCe("	");gr();vr();gr();vr();var ACe=(n,o,i)=>i.chrPositions[n].pos+o;function Hvt(n){const o=[],i={},l={};let c=0;for(let d=0;d<n.length;d++){const m=Number(n[d][1]);c+=m;const b={id:d,chr:n[d][0],pos:c-m};o.push(b),l[b.chr]=b,i[n[d][0]]=m}return{chrToAbs:([d,m])=>ACe(d,m,{chrPositions:l}),cumPositions:o,chrPositions:l,totalLength:c,chromLengths:i}}function Uvt(n,o){const i={};return i.absToChr=l=>i.chrPositions?absToChr(l,i):null,i.chrToAbs=([l,c]=[])=>i.chrPositions?ACe(l,c,i):null,Mvt(n,(l,c)=>{if(l)o&&o(null);else{const d=Cvt(c),m=Hvt(d);Object.keys(m).forEach(b=>{i[b]=m[b]}),o&&o(i)}})}var wCe=function(o,...i){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class l{constructor(d){this.dataConfig=d,this.trackUid=Idt.default.nice(),this.bwFileHeader=null,this.bwFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(d)),this.dataPromises.push(this.loadBBI(d))}loadChromsizes(d){return d.chromSizesUrl?new Promise(m=>{Uvt(d.chromSizesUrl,b=>{this.chromSizes=b,m()})}):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}loadBBI(d){return d.url?(this.bwFile=new _vt({filehandle:new dCe(d.url)}),this.bwFile.getHeader().then(m=>{this.bwFileHeader=m})):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(d){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then(()=>{this.tilesetInfoLoading=!1;let m={};const b=this.chromSizes.totalLength;return m={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(b/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(b)/Math.log(2)),min_pos:[0],max_pos:[b]},d&&d(m),m}).catch(m=>{this.tilesetInfoLoading=!1,console.error(m),d&&d({error:`Error parsing bigwig: ${m}`})})}fetchTilesDebounced(d,m){const b={},w=[],A=[];for(const I of m){const N=I.split("."),R=parseInt(N[0],10),D=parseInt(N[1],10);if(Number.isNaN(D)||Number.isNaN(R)){console.warn("Invalid tile zoom or position:",R,D);continue}w.push(I),A.push(this.tile(R,D))}return Promise.all(A).then(I=>{for(let N=0;N<I.length;N++){const R=w[N];b[R]=I[N],b[R].tilePositionId=R}d(b)}),b}tile(d,m){return this.tilesetInfo().then(b=>{const w=+b.max_width/2**+d,A=[],I={tilePos:[m],tileId:"bigwig."+d+"."+m,zoomLevel:d},N=b.min_pos[0]+m*w;let R=N;const D=b.min_pos[0]+(m+1)*w,L=this.determineScale(R,D),z=(D-R)/this.TILE_SIZE,V=[];for(let Y=0;Y<this.TILE_SIZE;Y++)V.push(R+Y*z);const{chromLengths:te,cumPositions:fe}=this.chromSizes;for(let Y=0;Y<fe.length;Y++){const q=fe[Y].chr,K=fe[Y].pos,ce=fe[Y].pos+te[q];let re,ge;if(K<=R&&R<ce)if(D>ce)re=R-K,ge=ce-K,A.push(this.bwFile.getFeatures(q,re,ge,{scale:1/L}).then(F=>(F.forEach(Te=>{Te.startAbs=o.utils.chrToAbs(q,Te.start,this.chromSizes),Te.endAbs=o.utils.chrToAbs(q,Te.end,this.chromSizes)}),F))),R=ce;else{re=Math.floor(R-K),ge=Math.ceil(D-K),A.push(this.bwFile.getFeatures(q,re,ge,{scale:1/L}).then(F=>(F.forEach(Te=>{Te.startAbs=o.utils.chrToAbs(q,Te.start,this.chromSizes),Te.endAbs=o.utils.chrToAbs(q,Te.end,this.chromSizes)}),F)));break}}return Promise.all(A).then(Y=>{const q=Y.flat();for(var K=[],ce=0;ce<this.TILE_SIZE;ce++)K.push(null);V.forEach((ge,F)=>{if(ge<N||ge>D)return;const Te=q.filter(Ce=>ge>=Ce.startAbs&&ge<Ce.endAbs).map(Ce=>Ce.score);K[F]=Te.length>0?Te[0]:null}),I.min_value=Math.min(...K),I.max_value=Math.max(...K);const re=new o.utils.DenseDataExtrema1D(K);return I.dense=K,I.denseDataExtrema=re,I.minNonZero=re.minNonZeroInTile,I.maxNonZero=re.maxNonZeroInTile,I})})}determineScale(d,m){const b=[1],w=m-d;this.bwFileHeader.zoomLevels.forEach(I=>{b.push(I.reductionLevel)});for(var A=0;A<b.length;A++){const I=b[A];if(w/I<=this.TILE_SIZE*20)return I}return b.slice(-1)[0]}}return new l(...i)};wCe.config={type:"bbi"};var O1e=wCe;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 *//*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Gvt={views:[{uid:"aa",layout:{h:3,w:12,x:0,y:0},tracks:{top:[{uid:"chromlabels-overview",type:"chromosome-labels",width:811,height:30,server:"https://cgap-higlass.com/api/v1",options:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},filetype:"chromsizes-tsv",tilesetUid:"chromsizes_hg38"},{uid:"FkGY-Yv9T8avNXljXklukw",type:"combined",width:568,height:55,options:{},contents:[{uid:"FocNIVsfRVWMRzfmHfncsQ",type:"gene-annotations",width:568,height:55,server:"https://cgap-higlass.com/api/v1",options:{name:"Gene Annotations (hg38)",fontSize:10,minHeight:24,labelColor:"black",labelPosition:"hidden",labelTopMargin:0,labelLeftMargin:0,plusStrandColor:"#8a8ccf",labelRightMargin:0,minusStrandColor:"#e8727a",trackBorderColor:"black",trackBorderWidth:0,geneLabelPosition:"outside",geneStrandSpacing:2,labelBottomMargin:0,showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:12,labelBackgroundColor:"#ffffff"},filetype:"beddb",tilesetUid:"gene_annotation_hg38"},{uid:"d6KeVfkNSmq_YNj_rWJgBA",type:"viewport-projection-horizontal",width:568,height:55,options:{strokeWidth:1,projectionFillColor:"#777",projectionFillOpacity:.3,projectionStrokeColor:"#777",projectionStrokeOpacity:.7},fromViewUid:"ab"}]},{uid:"texttrack_cyto",type:"text",width:568,height:25,server:"https://cgap-higlass.com/api/v1",options:{text:"Chromosome bands",align:"left",offsetY:12,fontSize:11,textColor:"#777777",fontFamily:"Arial",fontWeight:"normal",backgroundColor:"#ffffff"}},{uid:"cytoband",data:{type:"vcf",tbiUrl:"https://cgap-higlass.s3.amazonaws.com/vcf/cytoBandWithDelimiter.hg38.vcf.gz.tbi",vcfUrl:"https://cgap-higlass.s3.amazonaws.com/vcf/cytoBandWithDelimiter.hg38.vcf.gz",chromSizesUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes"},type:"vcf",width:470,height:30,options:{displayConfiguration:{mark:{size:16,type:"nominal",field:"INFO:GIESTAIN",range:["triangle-east","triangle-west"],domain:["acen-east","acen-west"],default:"rect"},xEnd:{field:"INFO:END"},color:{type:"nominal",field:"INFO:GIESTAIN",range:["#3ed0ed","#FF2323","#FF2323","#9F9F9F","#4F4F4F","#EEEEEE","#B9B9B9","#848484","#6A6A6A","#4F4F4F"],domain:["delimiter","acen-east","acen-west","stalk","gvar","gneg","gpos25","gpos50","gpos75","gpos100"],default:"#000000"},label:{text:"$INFO:NAME$",type:"contained",align:"left",color:"automatic",excludes:{field:"INFO:GIESTAIN",values:["acen-east","acen-west","delimiter"]},fontSize:13},xStart:{field:"POS"},tooltip:{type:"nominal",field:"INFO:GIESTAIN",range:["<table><tr><td>Chromosome:</td><td>$CHROM$</td></tr><tr><td>Name:</td><td>$INFO:NAME$</td></tr><tr><td>Stain:</td><td>acen</td></tr><table>","<table><tr><td>Chromosome:</td><td>$CHROM$</td></tr><tr><td>Name:</td><td>$INFO:NAME$</td></tr><tr><td>Stain:</td><td>acen</td></tr><table>","Chromosome boundary"],domain:["acen-east","acen-west","delimiter"],default:"<table><tr><td>Chromosome:</td><td>$CHROM$</td></tr><tr><td>Name:</td><td>$INFO:NAME$</td></tr><tr><td>Stain:</td><td>$INFO:GIESTAIN$</td></tr><table>"},yAlignment:{type:"horizontal"}}}}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[-19011281251856573e-9,5634865369053719e-7],initialYDomain:[-2681117748606745e-6,-26811176521675754e-7],autocompleteSource:"/api/v1/suggest/?d=gene_annotation_hg38&",genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}},{uid:"ab",layout:{h:20,w:12,x:0,y:3},tracks:{top:[{uid:"gene-annotations-detail-view",type:"gene-annotations",width:568,height:55,server:"https://cgap-higlass.com/api/v1",options:{name:"Gene Annotations (hg38)",fontSize:10,minHeight:24,labelColor:"black",labelPosition:"hidden",labelTopMargin:0,labelLeftMargin:0,plusStrandColor:"#8a8ccf",labelRightMargin:0,minusStrandColor:"#e8727a",trackBorderColor:"black",trackBorderWidth:0,geneLabelPosition:"outside",geneStrandSpacing:2,labelBottomMargin:0,showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:12,labelBackgroundColor:"#ffffff"},filetype:"beddb",tilesetUid:"gene_annotation_hg38"},{uid:"AdlJsUYFRzuJRZyYeKDX2A",type:"chromosome-labels",width:811,height:30,server:"https://cgap-higlass.com/api/v1",options:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},filetype:"chromsizes-tsv",tilesetUid:"chromsizes_hg38"},{uid:"fastaex",data:{type:"fasta",faiUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.fa.fai",fastaUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.fa",chromSizesUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes"},type:"horizontal-sequence",width:768,height:25,server:"https://cgap-higlass.com/api/v1",options:{name:"hg38",barBorder:!0,colorScale:["#08519c","#6baed6","#993404","#fe9929","#808080","#DCDCDC"],labelColor:"black",valueScaling:"linear",labelPosition:"topLeft",barBorderColor:"white",backgroundColor:"white",labelTextOpacity:.4,sortLargestOnTop:!0,trackBorderColor:"white",trackBorderWidth:0,extendedPreloading:!1,colorAggregationMode:"none",notificationText:"Zoom in to see nucleotides...",fontSize:16,fontFamily:"Arial",fontColor:"white",textOption:{fontSize:"32px",fontFamily:"Arial",fill:16777215,fontWeight:"bold"}}},{uid:"emptytrack_udn_seq",type:"empty",width:568,height:10,options:{}},{uid:"texttrack_udn_gene",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"UDN Gene-level resuls",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"bold",backgroundColor:"#ededed"}},{uid:"emptytrack_udn_genes",type:"empty",width:568,height:10,options:{}},{type:"geneList",options:{infoFields:[{name:"END",type:"int"},{name:"SYMBOL",type:"string"},{name:"go_terms",type:"string_list"},{name:"kegg_category",type:"string_list"},{name:"DeNovoWEST_pvalue",type:"float"},{name:"biallelic_pvalue",type:"float"}],filter:[{field:"DeNovoWEST_pvalue",operator:"is_between",target:[0,1e3]}],yValue:{field:"DeNovoWEST_pvalue"},significanceTreshold:1.3,yAxisLabel:{visible:!0,text:"DeNovoWEST p"},project:"UDN"},height:120,uid:"udn_gene_track",data:{type:"vcf",vcfUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.genes.20230417.vcf.gz",tbiUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.genes.20230417.vcf.gz.tbi",chromSizesUrl:"https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.mod.chrom.sizes"},width:450},{uid:"texttrack_udn",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"UDN Cohort Data",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"bold",backgroundColor:"#ededed"}},{uid:"emptytrack_udn_variants",type:"empty",width:568,height:10,options:{}},{type:"cohort",options:{variantDetailSource:{vcfUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.samples.vcf.gz",tbiUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.samples.vcf.gz.tbi"},infoFields:[{name:"transcript",type:"string"},{name:"SYMBOL",type:"string"},{name:"gene",type:"string"},{name:"case_AC",type:"int"},{name:"case_AN",type:"int"},{name:"case_AF",type:"float"},{name:"control_AC",type:"int"},{name:"control_AN",type:"int"},{name:"control_AF",type:"float"},{name:"gnomADpopmax_AF",type:"float"},{name:"most_severe_consequence",type:"string"},{name:"level_most_severe_consequence",type:"string"},{name:"cadd_raw",type:"float"},{name:"cadd_phred",type:"float"},{name:"cdna_change",type:"string"},{name:"prot_change",type:"string"},{name:"clinvar_alleleid",type:"string"},{name:"protein",type:"string"},{name:"go_terms",type:"string"},{name:"kegg_category",type:"string_list"},{name:"spliceai_al",type:"float"},{name:"spliceai_ag",type:"float"},{name:"spliceai_dg",type:"float"},{name:"spliceai_dl",type:"float"}],filter:[{field:"level_most_severe_consequence",operator:"is_one_of",target:["HIGH","MODERATE","LOW","MODIFIER"]},{field:"cadd_phred",operator:"is_between",target:[0,1e3]}],yValue:{field:"cadd_phred"},colorScale:{field:"level_most_severe_consequence",scale:[{value:"HIGH",color:"#ff0000"},{value:"MODERATE",color:"#bf9c00"},{value:"LOW",color:"#51abf5"},{value:"MODIFIER",color:"#db4dff"}]},colorScaleLegend:{visible:!0,values:["HIGH","MODERATE","LOW","MODIFIER"]},yAxisLabel:{visible:!0,text:"CADD Score"},project:"UDN"},height:150,uid:"FylkvVBTSumoJ959HT4-5B",data:{type:"vcf",vcfUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.variants.20230726.multires.vcf.gz",tbiUrl:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.variants.20230726.multires.vcf.gz.tbi",chromSizesUrl:"https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.mod.chrom.sizes"},width:450},{uid:"texttrack",type:"text",options:{backgroundColor:"#ededed",textColor:"#333333",fontSize:12,fontFamily:"Arial",fontWeight:"bold",offsetY:3,align:"left",text:"Variant density"},width:568,height:20},{uid:"empty_density",type:"empty",width:811,height:10,tilesetUid:"empty"},{data:{type:"bbi",url:"https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.variants.20230726.coverage.bw",chromSizesUrl:"https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.chrom.sizes"},uid:"bw",type:"bar",options:{labelPosition:"topRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:null,barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,valueScaleMin:0,name:""},width:20,height:50}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[22446365273728994e-8,2856374689367594e-7],initialYDomain:[13502279464736395e-7,13502279464736395e-7],genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}}],editable:!0,zoomFixed:!1,zoomLocks:{locksByViewUid:{},locksDict:{}},exportViewUrl:"/api/v1/viewconfs",locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:{},locksDict:{}},trackSourceServers:["https://cgap-higlass.com/api/v1"]},$vt={viewConfig:Gvt};class zvt extends oh.PureComponent{constructor(o){super(o),this.hgc=oh.createRef(),window.hgc=this.hgc,this.viewConfig=$vt.viewConfig,xx({name:"SequenceTrack",track:aJ,config:aJ.config}),xx({name:"TranscriptsTrack",track:lJ,config:lJ.config}),xx({name:"ClinvarTrack",track:hJ,config:hJ.config}),xx({name:"TextTrack",track:dJ,config:dJ.config}),xx({name:"OrthologsTrack",track:pJ,config:pJ.config}),xx({dataFetcher:O1e,config:O1e.config},{pluginType:"dataFetcher"})}componentDidMount(){}render(){return Xt.jsxDEV(Ylt.HiGlassComponent,{viewConfig:this.viewConfig,bounded:!0,ref:this.hgc},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/HiglassBrowser.jsx",lineNumber:83,columnNumber:7},this)}}const Vvt="_svg_1g1w8_1",jvt="_rotate_1g1w8_1",Wvt="_circle_1g1w8_8",Xvt="_dash_1g1w8_1",k1e={svg:Vvt,rotate:jvt,circle:Wvt,dash:Xvt};var Yvt=globalThis&&globalThis.__rest||function(n,o){var i={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&o.indexOf(l)<0&&(i[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(n);c<l.length;c++)o.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(n,l[c])&&(i[l[c]]=n[l[c]]);return i};const qvt=n=>{var{className:o="",color:i="#0d6efd",width:l="3em",height:c="3em",style:d,duration:m="2s"}=n,b=Yvt(n,["className","color","width","height","style","duration"]);return oh.createElement("svg",Object.assign({},b,{crossOrigin:"anonymous",viewBox:"25 25 50 50",style:Object.assign(Object.assign({},d),{"--width":l,"--height":c,"--color":i,"--duration":m}),className:`${k1e.svg} ${o}`}),oh.createElement("circle",{className:k1e.circle,cx:"50",cy:"50",r:"20"}))};var CCe={},dte={},sE={},UM={};Object.defineProperty(UM,"__esModule",{value:!0});function pte(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function R1e(n,o){for(var i=0;i<o.length;i++){var l=o[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function mte(n,o,i){return o&&R1e(n.prototype,o),i&&R1e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zvt(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&OJ(n,o)}function gI(n){return gI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},gI(n)}function OJ(n,o){return OJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,c){return l.__proto__=c,l},OJ(n,o)}function Kvt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A2(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qvt(n,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A2(n)}function Jvt(n){var o=Kvt();return function(){var l=gI(n),c;if(o){var d=gI(this).constructor;c=Reflect.construct(l,arguments,d)}else c=l.apply(this,arguments);return Qvt(this,c)}}function e0t(n,o){for(;!Object.prototype.hasOwnProperty.call(n,o)&&(n=gI(n),n!==null););return n}function GH(){return typeof Reflect<"u"&&Reflect.get?GH=Reflect.get.bind():GH=function(o,i,l){var c=e0t(o,i);if(c){var d=Object.getOwnPropertyDescriptor(c,i);return d.get?d.get.call(arguments.length<3?o:l):d.value}},GH.apply(this,arguments)}var P1e=function(){function n(){pte(this,n),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return mte(n,[{key:"addEventListener",value:function(i,l,c){i in this.listeners||(this.listeners[i]=[]),this.listeners[i].push({callback:l,options:c})}},{key:"removeEventListener",value:function(i,l){if(i in this.listeners){for(var c=this.listeners[i],d=0,m=c.length;d<m;d++)if(c[d].callback===l){c.splice(d,1);return}}}},{key:"dispatchEvent",value:function(i){if(i.type in this.listeners){for(var l=this.listeners[i.type],c=l.slice(),d=0,m=c.length;d<m;d++){var b=c[d];try{b.callback.call(this,i)}catch(w){Promise.resolve().then(function(){throw w})}b.options&&b.options.once&&this.removeEventListener(i.type,b.callback)}return!i.defaultPrevented}}}]),n}(),gte=function(n){Zvt(i,n);var o=Jvt(i);function i(){var l;return pte(this,i),l=o.call(this),l.listeners||P1e.call(A2(l)),Object.defineProperty(A2(l),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(A2(l),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(A2(l),"reason",{value:void 0,writable:!0,configurable:!0}),l}return mte(i,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(c){c.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,c)),GH(gI(i.prototype),"dispatchEvent",this).call(this,c)}}]),i}(P1e),xCe=function(){function n(){pte(this,n),Object.defineProperty(this,"signal",{value:new gte,writable:!0,configurable:!0})}return mte(n,[{key:"abort",value:function(i){var l;try{l=new Event("abort")}catch{typeof document<"u"?document.createEvent?(l=document.createEvent("Event"),l.initEvent("abort",!1,!1)):(l=document.createEventObject(),l.type="abort"):l={type:"abort",bubbles:!1,cancelable:!1}}var c=i;if(c===void 0)if(typeof document>"u")c=new Error("This operation was aborted"),c.name="AbortError";else try{c=new DOMException("signal is aborted without reason")}catch{c=new Error("This operation was aborted"),c.name="AbortError"}this.signal.reason=c,this.signal.dispatchEvent(l)}},{key:"toString",value:function(){return"[object AbortController]"}}]),n}();typeof Symbol<"u"&&Symbol.toStringTag&&(xCe.prototype[Symbol.toStringTag]="AbortController",gte.prototype[Symbol.toStringTag]="AbortSignal");function t0t(n){return n.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof n.Request=="function"&&!n.Request.prototype.hasOwnProperty("signal")||!n.AbortController}function r0t(n){typeof n=="function"&&(n={fetch:n});var o=n,i=o.fetch,l=o.Request,c=l===void 0?i.Request:l,d=o.AbortController,m=o.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,b=m===void 0?!1:m;if(!t0t({fetch:i,Request:c,AbortController:d,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:b}))return{fetch:i,Request:w};var w=c;(w&&!w.prototype.hasOwnProperty("signal")||b)&&(w=function(R,D){var L;D&&D.signal&&(L=D.signal,delete D.signal);var z=new c(R,D);return L&&Object.defineProperty(z,"signal",{writable:!1,enumerable:!1,configurable:!0,value:L}),z},w.prototype=c.prototype);var A=i,I=function(R,D){var L=w&&w.prototype.isPrototypeOf(R)?R.signal:D?D.signal:void 0;if(L){var z;try{z=new DOMException("Aborted","AbortError")}catch{z=new Error("Aborted"),z.name="AbortError"}if(L.aborted)return Promise.reject(z);var V=new Promise(function(te,fe){L.addEventListener("abort",function(){return fe(z)},{once:!0})});return D&&D.signal&&delete D.signal,Promise.race([V,A(R,D)])}return A(R,D)};return{fetch:I,Request:w}}UM.AbortController=xCe;UM.AbortSignal=gte;UM.abortableFetch=r0t;Object.defineProperty(sE,"__esModule",{value:!0});sE.AbortSignal=sE.AbortController=void 0;const ICe=UM;var kU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ih<"u")return ih;throw new Error("unable to locate global object")};let n0t=typeof kU().AbortController>"u"?ICe.AbortController:kU().AbortController;sE.AbortController=n0t;let i0t=typeof kU().AbortController>"u"?ICe.AbortSignal:kU().AbortSignal;sE.AbortSignal=i0t;var vte={};Object.defineProperty(vte,"__esModule",{value:!0});const a0t=sE;class o0t{}class s0t{constructor(){this.signals=new Set,this.abortController=new a0t.AbortController}addSignal(o=new o0t){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(o),o.aborted?this.handleAborted(o):typeof o.addEventListener=="function"&&o.addEventListener("abort",()=>{this.handleAborted(o)})}handleAborted(o){this.signals.delete(o),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}vte.default=s0t;var yte={};Object.defineProperty(yte,"__esModule",{value:!0});class l0t{constructor(){this.callbacks=new Set}addCallback(o=()=>{}){this.callbacks.add(o),o(this.currentMessage)}callback(o){this.currentMessage=o,this.callbacks.forEach(i=>{i(o)})}}yte.default=l0t;var DCe=ih&&ih.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dte,"__esModule",{value:!0});const u0t=sE,c0t=DCe(vte),h0t=DCe(yte);class RU{constructor({fill:o,cache:i}){if(typeof o!="function")throw new TypeError("must pass a fill function");if(typeof i!="object")throw new TypeError("must pass a cache object");if(typeof i.get!="function"||typeof i.set!="function"||typeof i.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=i,this.fillCallback=o}static isAbortException(o){return o.name==="AbortError"||o.code==="ERR_ABORTED"||o.message==="AbortError: aborted"||o.message==="Error: aborted"}evict(o,i){this.cache.get(o)===i&&this.cache.delete(o)}fill(o,i,l,c){const d=new c0t.default,m=new h0t.default;m.addCallback(c);const b={aborter:d,promise:this.fillCallback(i,d.signal,w=>{m.callback(w)}),settled:!1,statusReporter:m,get aborted(){return this.aborter.signal.aborted}};b.aborter.addSignal(l),b.aborter.signal.addEventListener("abort",()=>{b.settled||this.evict(o,b)}),b.promise.then(()=>{b.settled=!0},()=>{b.settled=!0,this.evict(o,b)}).catch(w=>{throw console.error(w),w}),this.cache.set(o,b)}static checkSinglePromise(o,i){function l(){if(i&&i.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return o.then(c=>(l(),c),c=>{throw l(),c})}has(o){return this.cache.has(o)}get(o,i,l,c){if(!l&&i instanceof u0t.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const d=this.cache.get(o);return d?d.aborted&&!d.settled?(this.evict(o,d),this.get(o,i,l,c)):d.settled?d.promise:(d.aborter.addSignal(l),d.statusReporter.addCallback(c),RU.checkSinglePromise(d.promise,l)):(this.fill(o,i,l,c),RU.checkSinglePromise(this.cache.get(o).promise,l))}delete(o){const i=this.cache.get(o);i&&(i.settled||i.aborter.abort(),this.cache.delete(o))}clear(){const o=this.cache.keys();let i=0;for(let l=o.next();!l.done;l=o.next())this.delete(l.value),i+=1;return i}}dte.default=RU;var f0t=ih&&ih.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(CCe,"__esModule",{value:!0});const d0t=f0t(dte);var p0t=CCe.default=d0t.default;class m0t{constructor(o={}){if(!(o.maxSize&&o.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=o.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(o,i){this.cache.set(o,i),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(o){if(this.cache.has(o))return this.cache.get(o);if(this.oldCache.has(o)){const i=this.oldCache.get(o);return this.oldCache.delete(o),this._set(o,i),i}}set(o,i){return this.cache.has(o)?this.cache.set(o,i):this._set(o,i),this}has(o){return this.cache.has(o)||this.oldCache.has(o)}peek(o){if(this.cache.has(o))return this.cache.get(o);if(this.oldCache.has(o))return this.oldCache.get(o)}delete(o){const i=this.cache.delete(o);return i&&this._size--,this.oldCache.delete(o)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[o]of this)yield o}*values(){for(const[,o]of this)yield o}*[Symbol.iterator](){for(const o of this.cache)yield o;for(const o of this.oldCache){const[i]=o;this.cache.has(i)||(yield o)}}get size(){let o=0;for(const i of this.oldCache.keys())this.cache.has(i)||o++;return this._size+o}}var g0t=m0t;const v0t=_f(g0t);var zv={};(function(n){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function i(d,m){return Object.prototype.hasOwnProperty.call(d,m)}n.assign=function(d){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var b=m.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var w in b)i(b,w)&&(d[w]=b[w])}}return d},n.shrinkBuf=function(d,m){return d.length===m?d:d.subarray?d.subarray(0,m):(d.length=m,d)};var l={arraySet:function(d,m,b,w,A){if(m.subarray&&d.subarray){d.set(m.subarray(b,b+w),A);return}for(var I=0;I<w;I++)d[A+I]=m[b+I]},flattenChunks:function(d){var m,b,w,A,I,N;for(w=0,m=0,b=d.length;m<b;m++)w+=d[m].length;for(N=new Uint8Array(w),A=0,m=0,b=d.length;m<b;m++)I=d[m],N.set(I,A),A+=I.length;return N}},c={arraySet:function(d,m,b,w,A){for(var I=0;I<w;I++)d[A+I]=m[b+I]},flattenChunks:function(d){return[].concat.apply([],d)}};n.setTyped=function(d){d?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,l)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,c))},n.setTyped(o)})(zv);var GM={},Bm={},OI={},y0t=zv,b0t=4,N1e=0,M1e=1,_0t=2;function kI(n){for(var o=n.length;--o>=0;)n[o]=0}var T0t=0,OCe=1,E0t=2,S0t=3,A0t=258,bte=29,$M=256,uM=$M+1+bte,Yx=30,_te=19,kCe=2*uM+1,VT=15,IK=16,w0t=7,Tte=256,RCe=16,PCe=17,NCe=18,kJ=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C0t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],MCe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x0t=512,Cv=new Array((uM+2)*2);kI(Cv);var L2=new Array(Yx*2);kI(L2);var cM=new Array(x0t);kI(cM);var hM=new Array(A0t-S0t+1);kI(hM);var Ete=new Array(bte);kI(Ete);var PU=new Array(Yx);kI(PU);function DK(n,o,i,l,c){this.static_tree=n,this.extra_bits=o,this.extra_base=i,this.elems=l,this.max_length=c,this.has_stree=n&&n.length}var LCe,FCe,BCe;function OK(n,o){this.dyn_tree=n,this.max_code=0,this.stat_desc=o}function HCe(n){return n<256?cM[n]:cM[256+(n>>>7)]}function fM(n,o){n.pending_buf[n.pending++]=o&255,n.pending_buf[n.pending++]=o>>>8&255}function dc(n,o,i){n.bi_valid>IK-i?(n.bi_buf|=o<<n.bi_valid&65535,fM(n,n.bi_buf),n.bi_buf=o>>IK-n.bi_valid,n.bi_valid+=i-IK):(n.bi_buf|=o<<n.bi_valid&65535,n.bi_valid+=i)}function wm(n,o,i){dc(n,i[o*2],i[o*2+1])}function UCe(n,o){var i=0;do i|=n&1,n>>>=1,i<<=1;while(--o>0);return i>>>1}function I0t(n){n.bi_valid===16?(fM(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function D0t(n,o){var i=o.dyn_tree,l=o.max_code,c=o.stat_desc.static_tree,d=o.stat_desc.has_stree,m=o.stat_desc.extra_bits,b=o.stat_desc.extra_base,w=o.stat_desc.max_length,A,I,N,R,D,L,z=0;for(R=0;R<=VT;R++)n.bl_count[R]=0;for(i[n.heap[n.heap_max]*2+1]=0,A=n.heap_max+1;A<kCe;A++)I=n.heap[A],R=i[i[I*2+1]*2+1]+1,R>w&&(R=w,z++),i[I*2+1]=R,!(I>l)&&(n.bl_count[R]++,D=0,I>=b&&(D=m[I-b]),L=i[I*2],n.opt_len+=L*(R+D),d&&(n.static_len+=L*(c[I*2+1]+D)));if(z!==0){do{for(R=w-1;n.bl_count[R]===0;)R--;n.bl_count[R]--,n.bl_count[R+1]+=2,n.bl_count[w]--,z-=2}while(z>0);for(R=w;R!==0;R--)for(I=n.bl_count[R];I!==0;)N=n.heap[--A],!(N>l)&&(i[N*2+1]!==R&&(n.opt_len+=(R-i[N*2+1])*i[N*2],i[N*2+1]=R),I--)}}function GCe(n,o,i){var l=new Array(VT+1),c=0,d,m;for(d=1;d<=VT;d++)l[d]=c=c+i[d-1]<<1;for(m=0;m<=o;m++){var b=n[m*2+1];b!==0&&(n[m*2]=UCe(l[b]++,b))}}function O0t(){var n,o,i,l,c,d=new Array(VT+1);for(i=0,l=0;l<bte-1;l++)for(Ete[l]=i,n=0;n<1<<kJ[l];n++)hM[i++]=l;for(hM[i-1]=l,c=0,l=0;l<16;l++)for(PU[l]=c,n=0;n<1<<$H[l];n++)cM[c++]=l;for(c>>=7;l<Yx;l++)for(PU[l]=c<<7,n=0;n<1<<$H[l]-7;n++)cM[256+c++]=l;for(o=0;o<=VT;o++)d[o]=0;for(n=0;n<=143;)Cv[n*2+1]=8,n++,d[8]++;for(;n<=255;)Cv[n*2+1]=9,n++,d[9]++;for(;n<=279;)Cv[n*2+1]=7,n++,d[7]++;for(;n<=287;)Cv[n*2+1]=8,n++,d[8]++;for(GCe(Cv,uM+1,d),n=0;n<Yx;n++)L2[n*2+1]=5,L2[n*2]=UCe(n,5);LCe=new DK(Cv,kJ,$M+1,uM,VT),FCe=new DK(L2,$H,0,Yx,VT),BCe=new DK(new Array(0),C0t,0,_te,w0t)}function $Ce(n){var o;for(o=0;o<uM;o++)n.dyn_ltree[o*2]=0;for(o=0;o<Yx;o++)n.dyn_dtree[o*2]=0;for(o=0;o<_te;o++)n.bl_tree[o*2]=0;n.dyn_ltree[Tte*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function zCe(n){n.bi_valid>8?fM(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function k0t(n,o,i,l){zCe(n),l&&(fM(n,i),fM(n,~i)),y0t.arraySet(n.pending_buf,n.window,o,i,n.pending),n.pending+=i}function L1e(n,o,i,l){var c=o*2,d=i*2;return n[c]<n[d]||n[c]===n[d]&&l[o]<=l[i]}function kK(n,o,i){for(var l=n.heap[i],c=i<<1;c<=n.heap_len&&(c<n.heap_len&&L1e(o,n.heap[c+1],n.heap[c],n.depth)&&c++,!L1e(o,l,n.heap[c],n.depth));)n.heap[i]=n.heap[c],i=c,c<<=1;n.heap[i]=l}function F1e(n,o,i){var l,c,d=0,m,b;if(n.last_lit!==0)do l=n.pending_buf[n.d_buf+d*2]<<8|n.pending_buf[n.d_buf+d*2+1],c=n.pending_buf[n.l_buf+d],d++,l===0?wm(n,c,o):(m=hM[c],wm(n,m+$M+1,o),b=kJ[m],b!==0&&(c-=Ete[m],dc(n,c,b)),l--,m=HCe(l),wm(n,m,i),b=$H[m],b!==0&&(l-=PU[m],dc(n,l,b)));while(d<n.last_lit);wm(n,Tte,o)}function RJ(n,o){var i=o.dyn_tree,l=o.stat_desc.static_tree,c=o.stat_desc.has_stree,d=o.stat_desc.elems,m,b,w=-1,A;for(n.heap_len=0,n.heap_max=kCe,m=0;m<d;m++)i[m*2]!==0?(n.heap[++n.heap_len]=w=m,n.depth[m]=0):i[m*2+1]=0;for(;n.heap_len<2;)A=n.heap[++n.heap_len]=w<2?++w:0,i[A*2]=1,n.depth[A]=0,n.opt_len--,c&&(n.static_len-=l[A*2+1]);for(o.max_code=w,m=n.heap_len>>1;m>=1;m--)kK(n,i,m);A=d;do m=n.heap[1],n.heap[1]=n.heap[n.heap_len--],kK(n,i,1),b=n.heap[1],n.heap[--n.heap_max]=m,n.heap[--n.heap_max]=b,i[A*2]=i[m*2]+i[b*2],n.depth[A]=(n.depth[m]>=n.depth[b]?n.depth[m]:n.depth[b])+1,i[m*2+1]=i[b*2+1]=A,n.heap[1]=A++,kK(n,i,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],D0t(n,o),GCe(i,w,n.bl_count)}function B1e(n,o,i){var l,c=-1,d,m=o[0*2+1],b=0,w=7,A=4;for(m===0&&(w=138,A=3),o[(i+1)*2+1]=65535,l=0;l<=i;l++)d=m,m=o[(l+1)*2+1],!(++b<w&&d===m)&&(b<A?n.bl_tree[d*2]+=b:d!==0?(d!==c&&n.bl_tree[d*2]++,n.bl_tree[RCe*2]++):b<=10?n.bl_tree[PCe*2]++:n.bl_tree[NCe*2]++,b=0,c=d,m===0?(w=138,A=3):d===m?(w=6,A=3):(w=7,A=4))}function H1e(n,o,i){var l,c=-1,d,m=o[0*2+1],b=0,w=7,A=4;for(m===0&&(w=138,A=3),l=0;l<=i;l++)if(d=m,m=o[(l+1)*2+1],!(++b<w&&d===m)){if(b<A)do wm(n,d,n.bl_tree);while(--b!==0);else d!==0?(d!==c&&(wm(n,d,n.bl_tree),b--),wm(n,RCe,n.bl_tree),dc(n,b-3,2)):b<=10?(wm(n,PCe,n.bl_tree),dc(n,b-3,3)):(wm(n,NCe,n.bl_tree),dc(n,b-11,7));b=0,c=d,m===0?(w=138,A=3):d===m?(w=6,A=3):(w=7,A=4)}}function R0t(n){var o;for(B1e(n,n.dyn_ltree,n.l_desc.max_code),B1e(n,n.dyn_dtree,n.d_desc.max_code),RJ(n,n.bl_desc),o=_te-1;o>=3&&n.bl_tree[MCe[o]*2+1]===0;o--);return n.opt_len+=3*(o+1)+5+5+4,o}function P0t(n,o,i,l){var c;for(dc(n,o-257,5),dc(n,i-1,5),dc(n,l-4,4),c=0;c<l;c++)dc(n,n.bl_tree[MCe[c]*2+1],3);H1e(n,n.dyn_ltree,o-1),H1e(n,n.dyn_dtree,i-1)}function N0t(n){var o=4093624447,i;for(i=0;i<=31;i++,o>>>=1)if(o&1&&n.dyn_ltree[i*2]!==0)return N1e;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return M1e;for(i=32;i<$M;i++)if(n.dyn_ltree[i*2]!==0)return M1e;return N1e}var U1e=!1;function M0t(n){U1e||(O0t(),U1e=!0),n.l_desc=new OK(n.dyn_ltree,LCe),n.d_desc=new OK(n.dyn_dtree,FCe),n.bl_desc=new OK(n.bl_tree,BCe),n.bi_buf=0,n.bi_valid=0,$Ce(n)}function VCe(n,o,i,l){dc(n,(T0t<<1)+(l?1:0),3),k0t(n,o,i,!0)}function L0t(n){dc(n,OCe<<1,3),wm(n,Tte,Cv),I0t(n)}function F0t(n,o,i,l){var c,d,m=0;n.level>0?(n.strm.data_type===_0t&&(n.strm.data_type=N0t(n)),RJ(n,n.l_desc),RJ(n,n.d_desc),m=R0t(n),c=n.opt_len+3+7>>>3,d=n.static_len+3+7>>>3,d<=c&&(c=d)):c=d=i+5,i+4<=c&&o!==-1?VCe(n,o,i,l):n.strategy===b0t||d===c?(dc(n,(OCe<<1)+(l?1:0),3),F1e(n,Cv,L2)):(dc(n,(E0t<<1)+(l?1:0),3),P0t(n,n.l_desc.max_code+1,n.d_desc.max_code+1,m+1),F1e(n,n.dyn_ltree,n.dyn_dtree)),$Ce(n),l&&zCe(n)}function B0t(n,o,i){return n.pending_buf[n.d_buf+n.last_lit*2]=o>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=o&255,n.pending_buf[n.l_buf+n.last_lit]=i&255,n.last_lit++,o===0?n.dyn_ltree[i*2]++:(n.matches++,o--,n.dyn_ltree[(hM[i]+$M+1)*2]++,n.dyn_dtree[HCe(o)*2]++),n.last_lit===n.lit_bufsize-1}OI._tr_init=M0t;OI._tr_stored_block=VCe;OI._tr_flush_block=F0t;OI._tr_tally=B0t;OI._tr_align=L0t;function H0t(n,o,i,l){for(var c=n&65535|0,d=n>>>16&65535|0,m=0;i!==0;){m=i>2e3?2e3:i,i-=m;do c=c+o[l++]|0,d=d+c|0;while(--m);c%=65521,d%=65521}return c|d<<16|0}var jCe=H0t;function U0t(){for(var n,o=[],i=0;i<256;i++){n=i;for(var l=0;l<8;l++)n=n&1?3988292384^n>>>1:n>>>1;o[i]=n}return o}var G0t=U0t();function $0t(n,o,i,l){var c=G0t,d=l+i;n^=-1;for(var m=l;m<d;m++)n=n>>>8^c[(n^o[m])&255];return n^-1}var WCe=$0t,Ste={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Su=zv,mf=OI,XCe=jCe,ab=WCe,z0t=Ste,yE=0,V0t=1,j0t=3,Eb=4,G1e=5,Cm=0,$1e=1,gf=-2,W0t=-3,RK=-5,X0t=-1,Y0t=1,_H=2,q0t=3,Z0t=4,K0t=0,Q0t=2,w9=8,J0t=9,eyt=15,tyt=8,ryt=29,nyt=256,PJ=nyt+1+ryt,iyt=30,ayt=19,oyt=2*PJ+1,syt=15,wi=3,mb=258,Od=mb+wi+1,lyt=32,C9=42,NJ=69,zH=73,VH=91,jH=103,jT=113,w2=666,fs=1,zM=2,lE=3,RI=4,uyt=3;function gb(n,o){return n.msg=z0t[o],o}function z1e(n){return(n<<1)-(n>4?9:0)}function cb(n){for(var o=n.length;--o>=0;)n[o]=0}function ob(n){var o=n.state,i=o.pending;i>n.avail_out&&(i=n.avail_out),i!==0&&(Su.arraySet(n.output,o.pending_buf,o.pending_out,i,n.next_out),n.next_out+=i,o.pending_out+=i,n.total_out+=i,n.avail_out-=i,o.pending-=i,o.pending===0&&(o.pending_out=0))}function ll(n,o){mf._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,o),n.block_start=n.strstart,ob(n.strm)}function Hi(n,o){n.pending_buf[n.pending++]=o}function g2(n,o){n.pending_buf[n.pending++]=o>>>8&255,n.pending_buf[n.pending++]=o&255}function cyt(n,o,i,l){var c=n.avail_in;return c>l&&(c=l),c===0?0:(n.avail_in-=c,Su.arraySet(o,n.input,n.next_in,c,i),n.state.wrap===1?n.adler=XCe(n.adler,o,c,i):n.state.wrap===2&&(n.adler=ab(n.adler,o,c,i)),n.next_in+=c,n.total_in+=c,c)}function YCe(n,o){var i=n.max_chain_length,l=n.strstart,c,d,m=n.prev_length,b=n.nice_match,w=n.strstart>n.w_size-Od?n.strstart-(n.w_size-Od):0,A=n.window,I=n.w_mask,N=n.prev,R=n.strstart+mb,D=A[l+m-1],L=A[l+m];n.prev_length>=n.good_match&&(i>>=2),b>n.lookahead&&(b=n.lookahead);do if(c=o,!(A[c+m]!==L||A[c+m-1]!==D||A[c]!==A[l]||A[++c]!==A[l+1])){l+=2,c++;do;while(A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&A[++l]===A[++c]&&l<R);if(d=mb-(R-l),l=R-mb,d>m){if(n.match_start=o,m=d,d>=b)break;D=A[l+m-1],L=A[l+m]}}while((o=N[o&I])>w&&--i!==0);return m<=n.lookahead?m:n.lookahead}function uE(n){var o=n.w_size,i,l,c,d,m;do{if(d=n.window_size-n.lookahead-n.strstart,n.strstart>=o+(o-Od)){Su.arraySet(n.window,n.window,o,o,0),n.match_start-=o,n.strstart-=o,n.block_start-=o,l=n.hash_size,i=l;do c=n.head[--i],n.head[i]=c>=o?c-o:0;while(--l);l=o,i=l;do c=n.prev[--i],n.prev[i]=c>=o?c-o:0;while(--l);d+=o}if(n.strm.avail_in===0)break;if(l=cyt(n.strm,n.window,n.strstart+n.lookahead,d),n.lookahead+=l,n.lookahead+n.insert>=wi)for(m=n.strstart-n.insert,n.ins_h=n.window[m],n.ins_h=(n.ins_h<<n.hash_shift^n.window[m+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[m+wi-1])&n.hash_mask,n.prev[m&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=m,m++,n.insert--,!(n.lookahead+n.insert<wi)););}while(n.lookahead<Od&&n.strm.avail_in!==0)}function hyt(n,o){var i=65535;for(i>n.pending_buf_size-5&&(i=n.pending_buf_size-5);;){if(n.lookahead<=1){if(uE(n),n.lookahead===0&&o===yE)return fs;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var l=n.block_start+i;if((n.strstart===0||n.strstart>=l)&&(n.lookahead=n.strstart-l,n.strstart=l,ll(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-Od&&(ll(n,!1),n.strm.avail_out===0))return fs}return n.insert=0,o===Eb?(ll(n,!0),n.strm.avail_out===0?lE:RI):(n.strstart>n.block_start&&(ll(n,!1),n.strm.avail_out===0),fs)}function PK(n,o){for(var i,l;;){if(n.lookahead<Od){if(uE(n),n.lookahead<Od&&o===yE)return fs;if(n.lookahead===0)break}if(i=0,n.lookahead>=wi&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+wi-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),i!==0&&n.strstart-i<=n.w_size-Od&&(n.match_length=YCe(n,i)),n.match_length>=wi)if(l=mf._tr_tally(n,n.strstart-n.match_start,n.match_length-wi),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=wi){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+wi-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else l=mf._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(l&&(ll(n,!1),n.strm.avail_out===0))return fs}return n.insert=n.strstart<wi-1?n.strstart:wi-1,o===Eb?(ll(n,!0),n.strm.avail_out===0?lE:RI):n.last_lit&&(ll(n,!1),n.strm.avail_out===0)?fs:zM}function Rx(n,o){for(var i,l,c;;){if(n.lookahead<Od){if(uE(n),n.lookahead<Od&&o===yE)return fs;if(n.lookahead===0)break}if(i=0,n.lookahead>=wi&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+wi-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=wi-1,i!==0&&n.prev_length<n.max_lazy_match&&n.strstart-i<=n.w_size-Od&&(n.match_length=YCe(n,i),n.match_length<=5&&(n.strategy===Y0t||n.match_length===wi&&n.strstart-n.match_start>4096)&&(n.match_length=wi-1)),n.prev_length>=wi&&n.match_length<=n.prev_length){c=n.strstart+n.lookahead-wi,l=mf._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-wi),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=c&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+wi-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=wi-1,n.strstart++,l&&(ll(n,!1),n.strm.avail_out===0))return fs}else if(n.match_available){if(l=mf._tr_tally(n,0,n.window[n.strstart-1]),l&&ll(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return fs}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(l=mf._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<wi-1?n.strstart:wi-1,o===Eb?(ll(n,!0),n.strm.avail_out===0?lE:RI):n.last_lit&&(ll(n,!1),n.strm.avail_out===0)?fs:zM}function fyt(n,o){for(var i,l,c,d,m=n.window;;){if(n.lookahead<=mb){if(uE(n),n.lookahead<=mb&&o===yE)return fs;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=wi&&n.strstart>0&&(c=n.strstart-1,l=m[c],l===m[++c]&&l===m[++c]&&l===m[++c])){d=n.strstart+mb;do;while(l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&l===m[++c]&&c<d);n.match_length=mb-(d-c),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=wi?(i=mf._tr_tally(n,1,n.match_length-wi),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(i=mf._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),i&&(ll(n,!1),n.strm.avail_out===0))return fs}return n.insert=0,o===Eb?(ll(n,!0),n.strm.avail_out===0?lE:RI):n.last_lit&&(ll(n,!1),n.strm.avail_out===0)?fs:zM}function dyt(n,o){for(var i;;){if(n.lookahead===0&&(uE(n),n.lookahead===0)){if(o===yE)return fs;break}if(n.match_length=0,i=mf._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,i&&(ll(n,!1),n.strm.avail_out===0))return fs}return n.insert=0,o===Eb?(ll(n,!0),n.strm.avail_out===0?lE:RI):n.last_lit&&(ll(n,!1),n.strm.avail_out===0)?fs:zM}function mm(n,o,i,l,c){this.good_length=n,this.max_lazy=o,this.nice_length=i,this.max_chain=l,this.func=c}var Hx;Hx=[new mm(0,0,0,0,hyt),new mm(4,4,8,4,PK),new mm(4,5,16,8,PK),new mm(4,6,32,32,PK),new mm(4,4,16,16,Rx),new mm(8,16,32,32,Rx),new mm(8,16,128,128,Rx),new mm(8,32,128,256,Rx),new mm(32,128,258,1024,Rx),new mm(32,258,258,4096,Rx)];function pyt(n){n.window_size=2*n.w_size,cb(n.head),n.max_lazy_match=Hx[n.level].max_lazy,n.good_match=Hx[n.level].good_length,n.nice_match=Hx[n.level].nice_length,n.max_chain_length=Hx[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=wi-1,n.match_available=0,n.ins_h=0}function myt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w9,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Su.Buf16(oyt*2),this.dyn_dtree=new Su.Buf16((2*iyt+1)*2),this.bl_tree=new Su.Buf16((2*ayt+1)*2),cb(this.dyn_ltree),cb(this.dyn_dtree),cb(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Su.Buf16(syt+1),this.heap=new Su.Buf16(2*PJ+1),cb(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Su.Buf16(2*PJ+1),cb(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function qCe(n){var o;return!n||!n.state?gb(n,gf):(n.total_in=n.total_out=0,n.data_type=Q0t,o=n.state,o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?C9:jT,n.adler=o.wrap===2?0:1,o.last_flush=yE,mf._tr_init(o),Cm)}function ZCe(n){var o=qCe(n);return o===Cm&&pyt(n.state),o}function gyt(n,o){return!n||!n.state||n.state.wrap!==2?gf:(n.state.gzhead=o,Cm)}function KCe(n,o,i,l,c,d){if(!n)return gf;var m=1;if(o===X0t&&(o=6),l<0?(m=0,l=-l):l>15&&(m=2,l-=16),c<1||c>J0t||i!==w9||l<8||l>15||o<0||o>9||d<0||d>Z0t)return gb(n,gf);l===8&&(l=9);var b=new myt;return n.state=b,b.strm=n,b.wrap=m,b.gzhead=null,b.w_bits=l,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=c+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+wi-1)/wi),b.window=new Su.Buf8(b.w_size*2),b.head=new Su.Buf16(b.hash_size),b.prev=new Su.Buf16(b.w_size),b.lit_bufsize=1<<c+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Su.Buf8(b.pending_buf_size),b.d_buf=1*b.lit_bufsize,b.l_buf=(1+2)*b.lit_bufsize,b.level=o,b.strategy=d,b.method=i,ZCe(n)}function vyt(n,o){return KCe(n,o,w9,eyt,tyt,K0t)}function yyt(n,o){var i,l,c,d;if(!n||!n.state||o>G1e||o<0)return n?gb(n,gf):gf;if(l=n.state,!n.output||!n.input&&n.avail_in!==0||l.status===w2&&o!==Eb)return gb(n,n.avail_out===0?RK:gf);if(l.strm=n,i=l.last_flush,l.last_flush=o,l.status===C9)if(l.wrap===2)n.adler=0,Hi(l,31),Hi(l,139),Hi(l,8),l.gzhead?(Hi(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Hi(l,l.gzhead.time&255),Hi(l,l.gzhead.time>>8&255),Hi(l,l.gzhead.time>>16&255),Hi(l,l.gzhead.time>>24&255),Hi(l,l.level===9?2:l.strategy>=_H||l.level<2?4:0),Hi(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(Hi(l,l.gzhead.extra.length&255),Hi(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(n.adler=ab(n.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=NJ):(Hi(l,0),Hi(l,0),Hi(l,0),Hi(l,0),Hi(l,0),Hi(l,l.level===9?2:l.strategy>=_H||l.level<2?4:0),Hi(l,uyt),l.status=jT);else{var m=w9+(l.w_bits-8<<4)<<8,b=-1;l.strategy>=_H||l.level<2?b=0:l.level<6?b=1:l.level===6?b=2:b=3,m|=b<<6,l.strstart!==0&&(m|=lyt),m+=31-m%31,l.status=jT,g2(l,m),l.strstart!==0&&(g2(l,n.adler>>>16),g2(l,n.adler&65535)),n.adler=1}if(l.status===NJ)if(l.gzhead.extra){for(c=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),ob(n),c=l.pending,l.pending===l.pending_buf_size));)Hi(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=zH)}else l.status=zH;if(l.status===zH)if(l.gzhead.name){c=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),ob(n),c=l.pending,l.pending===l.pending_buf_size)){d=1;break}l.gzindex<l.gzhead.name.length?d=l.gzhead.name.charCodeAt(l.gzindex++)&255:d=0,Hi(l,d)}while(d!==0);l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),d===0&&(l.gzindex=0,l.status=VH)}else l.status=VH;if(l.status===VH)if(l.gzhead.comment){c=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),ob(n),c=l.pending,l.pending===l.pending_buf_size)){d=1;break}l.gzindex<l.gzhead.comment.length?d=l.gzhead.comment.charCodeAt(l.gzindex++)&255:d=0,Hi(l,d)}while(d!==0);l.gzhead.hcrc&&l.pending>c&&(n.adler=ab(n.adler,l.pending_buf,l.pending-c,c)),d===0&&(l.status=jH)}else l.status=jH;if(l.status===jH&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&ob(n),l.pending+2<=l.pending_buf_size&&(Hi(l,n.adler&255),Hi(l,n.adler>>8&255),n.adler=0,l.status=jT)):l.status=jT),l.pending!==0){if(ob(n),n.avail_out===0)return l.last_flush=-1,Cm}else if(n.avail_in===0&&z1e(o)<=z1e(i)&&o!==Eb)return gb(n,RK);if(l.status===w2&&n.avail_in!==0)return gb(n,RK);if(n.avail_in!==0||l.lookahead!==0||o!==yE&&l.status!==w2){var w=l.strategy===_H?dyt(l,o):l.strategy===q0t?fyt(l,o):Hx[l.level].func(l,o);if((w===lE||w===RI)&&(l.status=w2),w===fs||w===lE)return n.avail_out===0&&(l.last_flush=-1),Cm;if(w===zM&&(o===V0t?mf._tr_align(l):o!==G1e&&(mf._tr_stored_block(l,0,0,!1),o===j0t&&(cb(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),ob(n),n.avail_out===0))return l.last_flush=-1,Cm}return o!==Eb?Cm:l.wrap<=0?$1e:(l.wrap===2?(Hi(l,n.adler&255),Hi(l,n.adler>>8&255),Hi(l,n.adler>>16&255),Hi(l,n.adler>>24&255),Hi(l,n.total_in&255),Hi(l,n.total_in>>8&255),Hi(l,n.total_in>>16&255),Hi(l,n.total_in>>24&255)):(g2(l,n.adler>>>16),g2(l,n.adler&65535)),ob(n),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?Cm:$1e)}function byt(n){var o;return!n||!n.state?gf:(o=n.state.status,o!==C9&&o!==NJ&&o!==zH&&o!==VH&&o!==jH&&o!==jT&&o!==w2?gb(n,gf):(n.state=null,o===jT?gb(n,W0t):Cm))}function _yt(n,o){var i=o.length,l,c,d,m,b,w,A,I;if(!n||!n.state||(l=n.state,m=l.wrap,m===2||m===1&&l.status!==C9||l.lookahead))return gf;for(m===1&&(n.adler=XCe(n.adler,o,i,0)),l.wrap=0,i>=l.w_size&&(m===0&&(cb(l.head),l.strstart=0,l.block_start=0,l.insert=0),I=new Su.Buf8(l.w_size),Su.arraySet(I,o,i-l.w_size,l.w_size,0),o=I,i=l.w_size),b=n.avail_in,w=n.next_in,A=n.input,n.avail_in=i,n.next_in=0,n.input=o,uE(l);l.lookahead>=wi;){c=l.strstart,d=l.lookahead-(wi-1);do l.ins_h=(l.ins_h<<l.hash_shift^l.window[c+wi-1])&l.hash_mask,l.prev[c&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=c,c++;while(--d);l.strstart=c,l.lookahead=wi-1,uE(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=wi-1,l.match_available=0,n.next_in=w,n.input=A,n.avail_in=b,l.wrap=m,Cm}Bm.deflateInit=vyt;Bm.deflateInit2=KCe;Bm.deflateReset=ZCe;Bm.deflateResetKeep=qCe;Bm.deflateSetHeader=gyt;Bm.deflate=yyt;Bm.deflateEnd=byt;Bm.deflateSetDictionary=_yt;Bm.deflateInfo="pako deflate (from Nodeca project)";var bE={},x9=zv,QCe=!0,JCe=!0;try{String.fromCharCode.apply(null,[0])}catch{QCe=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{JCe=!1}var dM=new x9.Buf8(256);for(var nb=0;nb<256;nb++)dM[nb]=nb>=252?6:nb>=248?5:nb>=240?4:nb>=224?3:nb>=192?2:1;dM[254]=dM[254]=1;bE.string2buf=function(n){var o,i,l,c,d,m=n.length,b=0;for(c=0;c<m;c++)i=n.charCodeAt(c),(i&64512)===55296&&c+1<m&&(l=n.charCodeAt(c+1),(l&64512)===56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),b+=i<128?1:i<2048?2:i<65536?3:4;for(o=new x9.Buf8(b),d=0,c=0;d<b;c++)i=n.charCodeAt(c),(i&64512)===55296&&c+1<m&&(l=n.charCodeAt(c+1),(l&64512)===56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),i<128?o[d++]=i:i<2048?(o[d++]=192|i>>>6,o[d++]=128|i&63):i<65536?(o[d++]=224|i>>>12,o[d++]=128|i>>>6&63,o[d++]=128|i&63):(o[d++]=240|i>>>18,o[d++]=128|i>>>12&63,o[d++]=128|i>>>6&63,o[d++]=128|i&63);return o};function exe(n,o){if(o<65534&&(n.subarray&&JCe||!n.subarray&&QCe))return String.fromCharCode.apply(null,x9.shrinkBuf(n,o));for(var i="",l=0;l<o;l++)i+=String.fromCharCode(n[l]);return i}bE.buf2binstring=function(n){return exe(n,n.length)};bE.binstring2buf=function(n){for(var o=new x9.Buf8(n.length),i=0,l=o.length;i<l;i++)o[i]=n.charCodeAt(i);return o};bE.buf2string=function(n,o){var i,l,c,d,m=o||n.length,b=new Array(m*2);for(l=0,i=0;i<m;){if(c=n[i++],c<128){b[l++]=c;continue}if(d=dM[c],d>4){b[l++]=65533,i+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&i<m;)c=c<<6|n[i++]&63,d--;if(d>1){b[l++]=65533;continue}c<65536?b[l++]=c:(c-=65536,b[l++]=55296|c>>10&1023,b[l++]=56320|c&1023)}return exe(b,l)};bE.utf8border=function(n,o){var i;for(o=o||n.length,o>n.length&&(o=n.length),i=o-1;i>=0&&(n[i]&192)===128;)i--;return i<0||i===0?o:i+dM[n[i]]>o?i:o};function Tyt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var txe=Tyt,F2=Bm,B2=zv,MJ=bE,LJ=Ste,Eyt=txe,rxe=Object.prototype.toString,Syt=0,NK=4,qx=0,V1e=1,j1e=2,Ayt=-1,wyt=0,Cyt=8;function cE(n){if(!(this instanceof cE))return new cE(n);this.options=B2.assign({level:Ayt,method:Cyt,chunkSize:16384,windowBits:15,memLevel:8,strategy:wyt,to:""},n||{});var o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Eyt,this.strm.avail_out=0;var i=F2.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(i!==qx)throw new Error(LJ[i]);if(o.header&&F2.deflateSetHeader(this.strm,o.header),o.dictionary){var l;if(typeof o.dictionary=="string"?l=MJ.string2buf(o.dictionary):rxe.call(o.dictionary)==="[object ArrayBuffer]"?l=new Uint8Array(o.dictionary):l=o.dictionary,i=F2.deflateSetDictionary(this.strm,l),i!==qx)throw new Error(LJ[i]);this._dict_set=!0}}cE.prototype.push=function(n,o){var i=this.strm,l=this.options.chunkSize,c,d;if(this.ended)return!1;d=o===~~o?o:o===!0?NK:Syt,typeof n=="string"?i.input=MJ.string2buf(n):rxe.call(n)==="[object ArrayBuffer]"?i.input=new Uint8Array(n):i.input=n,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=new B2.Buf8(l),i.next_out=0,i.avail_out=l),c=F2.deflate(i,d),c!==V1e&&c!==qx)return this.onEnd(c),this.ended=!0,!1;(i.avail_out===0||i.avail_in===0&&(d===NK||d===j1e))&&(this.options.to==="string"?this.onData(MJ.buf2binstring(B2.shrinkBuf(i.output,i.next_out))):this.onData(B2.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||i.avail_out===0)&&c!==V1e);return d===NK?(c=F2.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===qx):(d===j1e&&(this.onEnd(qx),i.avail_out=0),!0)};cE.prototype.onData=function(n){this.chunks.push(n)};cE.prototype.onEnd=function(n){n===qx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Ate(n,o){var i=new cE(o);if(i.push(n,!0),i.err)throw i.msg||LJ[i.err];return i.result}function xyt(n,o){return o=o||{},o.raw=!0,Ate(n,o)}function Iyt(n,o){return o=o||{},o.gzip=!0,Ate(n,o)}GM.Deflate=cE;GM.deflate=Ate;GM.deflateRaw=xyt;GM.gzip=Iyt;var VM={},Nd={},TH=30,Dyt=12,Oyt=function(o,i){var l,c,d,m,b,w,A,I,N,R,D,L,z,V,te,fe,Y,q,K,ce,re,ge,F,Te,Ce;l=o.state,c=o.next_in,Te=o.input,d=c+(o.avail_in-5),m=o.next_out,Ce=o.output,b=m-(i-o.avail_out),w=m+(o.avail_out-257),A=l.dmax,I=l.wsize,N=l.whave,R=l.wnext,D=l.window,L=l.hold,z=l.bits,V=l.lencode,te=l.distcode,fe=(1<<l.lenbits)-1,Y=(1<<l.distbits)-1;e:do{z<15&&(L+=Te[c++]<<z,z+=8,L+=Te[c++]<<z,z+=8),q=V[L&fe];t:for(;;){if(K=q>>>24,L>>>=K,z-=K,K=q>>>16&255,K===0)Ce[m++]=q&65535;else if(K&16){ce=q&65535,K&=15,K&&(z<K&&(L+=Te[c++]<<z,z+=8),ce+=L&(1<<K)-1,L>>>=K,z-=K),z<15&&(L+=Te[c++]<<z,z+=8,L+=Te[c++]<<z,z+=8),q=te[L&Y];r:for(;;){if(K=q>>>24,L>>>=K,z-=K,K=q>>>16&255,K&16){if(re=q&65535,K&=15,z<K&&(L+=Te[c++]<<z,z+=8,z<K&&(L+=Te[c++]<<z,z+=8)),re+=L&(1<<K)-1,re>A){o.msg="invalid distance too far back",l.mode=TH;break e}if(L>>>=K,z-=K,K=m-b,re>K){if(K=re-K,K>N&&l.sane){o.msg="invalid distance too far back",l.mode=TH;break e}if(ge=0,F=D,R===0){if(ge+=I-K,K<ce){ce-=K;do Ce[m++]=D[ge++];while(--K);ge=m-re,F=Ce}}else if(R<K){if(ge+=I+R-K,K-=R,K<ce){ce-=K;do Ce[m++]=D[ge++];while(--K);if(ge=0,R<ce){K=R,ce-=K;do Ce[m++]=D[ge++];while(--K);ge=m-re,F=Ce}}}else if(ge+=R-K,K<ce){ce-=K;do Ce[m++]=D[ge++];while(--K);ge=m-re,F=Ce}for(;ce>2;)Ce[m++]=F[ge++],Ce[m++]=F[ge++],Ce[m++]=F[ge++],ce-=3;ce&&(Ce[m++]=F[ge++],ce>1&&(Ce[m++]=F[ge++]))}else{ge=m-re;do Ce[m++]=Ce[ge++],Ce[m++]=Ce[ge++],Ce[m++]=Ce[ge++],ce-=3;while(ce>2);ce&&(Ce[m++]=Ce[ge++],ce>1&&(Ce[m++]=Ce[ge++]))}}else if(K&64){o.msg="invalid distance code",l.mode=TH;break e}else{q=te[(q&65535)+(L&(1<<K)-1)];continue r}break}}else if(K&64)if(K&32){l.mode=Dyt;break e}else{o.msg="invalid literal/length code",l.mode=TH;break e}else{q=V[(q&65535)+(L&(1<<K)-1)];continue t}break}}while(c<d&&m<w);ce=z>>3,c-=ce,z-=ce<<3,L&=(1<<z)-1,o.next_in=c,o.next_out=m,o.avail_in=c<d?5+(d-c):5-(c-d),o.avail_out=m<w?257+(w-m):257-(m-w),l.hold=L,l.bits=z},W1e=zv,Px=15,X1e=852,Y1e=592,q1e=0,MK=1,Z1e=2,kyt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ryt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Pyt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Nyt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Myt=function(o,i,l,c,d,m,b,w){var A=w.bits,I=0,N=0,R=0,D=0,L=0,z=0,V=0,te=0,fe=0,Y=0,q,K,ce,re,ge,F=null,Te=0,Ce,ve=new W1e.Buf16(Px+1),Ke=new W1e.Buf16(Px+1),ot=null,$=0,lt,Tt,Be;for(I=0;I<=Px;I++)ve[I]=0;for(N=0;N<c;N++)ve[i[l+N]]++;for(L=A,D=Px;D>=1&&ve[D]===0;D--);if(L>D&&(L=D),D===0)return d[m++]=1<<24|64<<16|0,d[m++]=1<<24|64<<16|0,w.bits=1,0;for(R=1;R<D&&ve[R]===0;R++);for(L<R&&(L=R),te=1,I=1;I<=Px;I++)if(te<<=1,te-=ve[I],te<0)return-1;if(te>0&&(o===q1e||D!==1))return-1;for(Ke[1]=0,I=1;I<Px;I++)Ke[I+1]=Ke[I]+ve[I];for(N=0;N<c;N++)i[l+N]!==0&&(b[Ke[i[l+N]]++]=N);if(o===q1e?(F=ot=b,Ce=19):o===MK?(F=kyt,Te-=257,ot=Ryt,$-=257,Ce=256):(F=Pyt,ot=Nyt,Ce=-1),Y=0,N=0,I=R,ge=m,z=L,V=0,ce=-1,fe=1<<L,re=fe-1,o===MK&&fe>X1e||o===Z1e&&fe>Y1e)return 1;for(;;){lt=I-V,b[N]<Ce?(Tt=0,Be=b[N]):b[N]>Ce?(Tt=ot[$+b[N]],Be=F[Te+b[N]]):(Tt=32+64,Be=0),q=1<<I-V,K=1<<z,R=K;do K-=q,d[ge+(Y>>V)+K]=lt<<24|Tt<<16|Be|0;while(K!==0);for(q=1<<I-1;Y&q;)q>>=1;if(q!==0?(Y&=q-1,Y+=q):Y=0,N++,--ve[I]===0){if(I===D)break;I=i[l+b[N]]}if(I>L&&(Y&re)!==ce){for(V===0&&(V=L),ge+=R,z=I-V,te=1<<z;z+V<D&&(te-=ve[z+V],!(te<=0));)z++,te<<=1;if(fe+=1<<z,o===MK&&fe>X1e||o===Z1e&&fe>Y1e)return 1;ce=Y&re,d[ce]=L<<24|z<<16|ge-m|0}}return Y!==0&&(d[ge+Y]=I-V<<24|64<<16|0),w.bits=L,0},nh=zv,FJ=jCe,gm=WCe,Lyt=Oyt,H2=Myt,Fyt=0,nxe=1,ixe=2,K1e=4,Byt=5,EH=6,hE=0,Hyt=1,Uyt=2,bf=-2,axe=-3,oxe=-4,Gyt=-5,Q1e=8,sxe=1,J1e=2,e_e=3,t_e=4,r_e=5,n_e=6,i_e=7,a_e=8,o_e=9,s_e=10,NU=11,_v=12,LK=13,l_e=14,FK=15,u_e=16,c_e=17,h_e=18,f_e=19,SH=20,AH=21,d_e=22,p_e=23,m_e=24,g_e=25,v_e=26,BK=27,y_e=28,b_e=29,ro=30,lxe=31,$yt=32,zyt=852,Vyt=592,jyt=15,Wyt=jyt;function __e(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function Xyt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new nh.Buf16(320),this.work=new nh.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function uxe(n){var o;return!n||!n.state?bf:(o=n.state,n.total_in=n.total_out=o.total=0,n.msg="",o.wrap&&(n.adler=o.wrap&1),o.mode=sxe,o.last=0,o.havedict=0,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new nh.Buf32(zyt),o.distcode=o.distdyn=new nh.Buf32(Vyt),o.sane=1,o.back=-1,hE)}function cxe(n){var o;return!n||!n.state?bf:(o=n.state,o.wsize=0,o.whave=0,o.wnext=0,uxe(n))}function hxe(n,o){var i,l;return!n||!n.state||(l=n.state,o<0?(i=0,o=-o):(i=(o>>4)+1,o<48&&(o&=15)),o&&(o<8||o>15))?bf:(l.window!==null&&l.wbits!==o&&(l.window=null),l.wrap=i,l.wbits=o,cxe(n))}function fxe(n,o){var i,l;return n?(l=new Xyt,n.state=l,l.window=null,i=hxe(n,o),i!==hE&&(n.state=null),i):bf}function Yyt(n){return fxe(n,Wyt)}var T_e=!0,HK,UK;function qyt(n){if(T_e){var o;for(HK=new nh.Buf32(512),UK=new nh.Buf32(32),o=0;o<144;)n.lens[o++]=8;for(;o<256;)n.lens[o++]=9;for(;o<280;)n.lens[o++]=7;for(;o<288;)n.lens[o++]=8;for(H2(nxe,n.lens,0,288,HK,0,n.work,{bits:9}),o=0;o<32;)n.lens[o++]=5;H2(ixe,n.lens,0,32,UK,0,n.work,{bits:5}),T_e=!1}n.lencode=HK,n.lenbits=9,n.distcode=UK,n.distbits=5}function dxe(n,o,i,l){var c,d=n.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new nh.Buf8(d.wsize)),l>=d.wsize?(nh.arraySet(d.window,o,i-d.wsize,d.wsize,0),d.wnext=0,d.whave=d.wsize):(c=d.wsize-d.wnext,c>l&&(c=l),nh.arraySet(d.window,o,i-l,c,d.wnext),l-=c,l?(nh.arraySet(d.window,o,i-l,l,0),d.wnext=l,d.whave=d.wsize):(d.wnext+=c,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=c))),0}function Zyt(n,o){var i,l,c,d,m,b,w,A,I,N,R,D,L,z,V=0,te,fe,Y,q,K,ce,re,ge,F=new nh.Buf8(4),Te,Ce,ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return bf;i=n.state,i.mode===_v&&(i.mode=LK),m=n.next_out,c=n.output,w=n.avail_out,d=n.next_in,l=n.input,b=n.avail_in,A=i.hold,I=i.bits,N=b,R=w,ge=hE;e:for(;;)switch(i.mode){case sxe:if(i.wrap===0){i.mode=LK;break}for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.wrap&2&&A===35615){i.check=0,F[0]=A&255,F[1]=A>>>8&255,i.check=gm(i.check,F,2,0),A=0,I=0,i.mode=J1e;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((A&255)<<8)+(A>>8))%31){n.msg="incorrect header check",i.mode=ro;break}if((A&15)!==Q1e){n.msg="unknown compression method",i.mode=ro;break}if(A>>>=4,I-=4,re=(A&15)+8,i.wbits===0)i.wbits=re;else if(re>i.wbits){n.msg="invalid window size",i.mode=ro;break}i.dmax=1<<re,n.adler=i.check=1,i.mode=A&512?s_e:_v,A=0,I=0;break;case J1e:for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.flags=A,(i.flags&255)!==Q1e){n.msg="unknown compression method",i.mode=ro;break}if(i.flags&57344){n.msg="unknown header flags set",i.mode=ro;break}i.head&&(i.head.text=A>>8&1),i.flags&512&&(F[0]=A&255,F[1]=A>>>8&255,i.check=gm(i.check,F,2,0)),A=0,I=0,i.mode=e_e;case e_e:for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.head&&(i.head.time=A),i.flags&512&&(F[0]=A&255,F[1]=A>>>8&255,F[2]=A>>>16&255,F[3]=A>>>24&255,i.check=gm(i.check,F,4,0)),A=0,I=0,i.mode=t_e;case t_e:for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.head&&(i.head.xflags=A&255,i.head.os=A>>8),i.flags&512&&(F[0]=A&255,F[1]=A>>>8&255,i.check=gm(i.check,F,2,0)),A=0,I=0,i.mode=r_e;case r_e:if(i.flags&1024){for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.length=A,i.head&&(i.head.extra_len=A),i.flags&512&&(F[0]=A&255,F[1]=A>>>8&255,i.check=gm(i.check,F,2,0)),A=0,I=0}else i.head&&(i.head.extra=null);i.mode=n_e;case n_e:if(i.flags&1024&&(D=i.length,D>b&&(D=b),D&&(i.head&&(re=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),nh.arraySet(i.head.extra,l,d,D,re)),i.flags&512&&(i.check=gm(i.check,l,D,d)),b-=D,d+=D,i.length-=D),i.length))break e;i.length=0,i.mode=i_e;case i_e:if(i.flags&2048){if(b===0)break e;D=0;do re=l[d+D++],i.head&&re&&i.length<65536&&(i.head.name+=String.fromCharCode(re));while(re&&D<b);if(i.flags&512&&(i.check=gm(i.check,l,D,d)),b-=D,d+=D,re)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=a_e;case a_e:if(i.flags&4096){if(b===0)break e;D=0;do re=l[d+D++],i.head&&re&&i.length<65536&&(i.head.comment+=String.fromCharCode(re));while(re&&D<b);if(i.flags&512&&(i.check=gm(i.check,l,D,d)),b-=D,d+=D,re)break e}else i.head&&(i.head.comment=null);i.mode=o_e;case o_e:if(i.flags&512){for(;I<16;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(A!==(i.check&65535)){n.msg="header crc mismatch",i.mode=ro;break}A=0,I=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),n.adler=i.check=0,i.mode=_v;break;case s_e:for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}n.adler=i.check=__e(A),A=0,I=0,i.mode=NU;case NU:if(i.havedict===0)return n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,Uyt;n.adler=i.check=1,i.mode=_v;case _v:if(o===Byt||o===EH)break e;case LK:if(i.last){A>>>=I&7,I-=I&7,i.mode=BK;break}for(;I<3;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}switch(i.last=A&1,A>>>=1,I-=1,A&3){case 0:i.mode=l_e;break;case 1:if(qyt(i),i.mode=SH,o===EH){A>>>=2,I-=2;break e}break;case 2:i.mode=c_e;break;case 3:n.msg="invalid block type",i.mode=ro}A>>>=2,I-=2;break;case l_e:for(A>>>=I&7,I-=I&7;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if((A&65535)!==(A>>>16^65535)){n.msg="invalid stored block lengths",i.mode=ro;break}if(i.length=A&65535,A=0,I=0,i.mode=FK,o===EH)break e;case FK:i.mode=u_e;case u_e:if(D=i.length,D){if(D>b&&(D=b),D>w&&(D=w),D===0)break e;nh.arraySet(c,l,d,D,m),b-=D,d+=D,w-=D,m+=D,i.length-=D;break}i.mode=_v;break;case c_e:for(;I<14;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(i.nlen=(A&31)+257,A>>>=5,I-=5,i.ndist=(A&31)+1,A>>>=5,I-=5,i.ncode=(A&15)+4,A>>>=4,I-=4,i.nlen>286||i.ndist>30){n.msg="too many length or distance symbols",i.mode=ro;break}i.have=0,i.mode=h_e;case h_e:for(;i.have<i.ncode;){for(;I<3;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.lens[ve[i.have++]]=A&7,A>>>=3,I-=3}for(;i.have<19;)i.lens[ve[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Te={bits:i.lenbits},ge=H2(Fyt,i.lens,0,19,i.lencode,0,i.work,Te),i.lenbits=Te.bits,ge){n.msg="invalid code lengths set",i.mode=ro;break}i.have=0,i.mode=f_e;case f_e:for(;i.have<i.nlen+i.ndist;){for(;V=i.lencode[A&(1<<i.lenbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(Y<16)A>>>=te,I-=te,i.lens[i.have++]=Y;else{if(Y===16){for(Ce=te+2;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(A>>>=te,I-=te,i.have===0){n.msg="invalid bit length repeat",i.mode=ro;break}re=i.lens[i.have-1],D=3+(A&3),A>>>=2,I-=2}else if(Y===17){for(Ce=te+3;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=te,I-=te,re=0,D=3+(A&7),A>>>=3,I-=3}else{for(Ce=te+7;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=te,I-=te,re=0,D=11+(A&127),A>>>=7,I-=7}if(i.have+D>i.nlen+i.ndist){n.msg="invalid bit length repeat",i.mode=ro;break}for(;D--;)i.lens[i.have++]=re}}if(i.mode===ro)break;if(i.lens[256]===0){n.msg="invalid code -- missing end-of-block",i.mode=ro;break}if(i.lenbits=9,Te={bits:i.lenbits},ge=H2(nxe,i.lens,0,i.nlen,i.lencode,0,i.work,Te),i.lenbits=Te.bits,ge){n.msg="invalid literal/lengths set",i.mode=ro;break}if(i.distbits=6,i.distcode=i.distdyn,Te={bits:i.distbits},ge=H2(ixe,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Te),i.distbits=Te.bits,ge){n.msg="invalid distances set",i.mode=ro;break}if(i.mode=SH,o===EH)break e;case SH:i.mode=AH;case AH:if(b>=6&&w>=258){n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,Lyt(n,R),m=n.next_out,c=n.output,w=n.avail_out,d=n.next_in,l=n.input,b=n.avail_in,A=i.hold,I=i.bits,i.mode===_v&&(i.back=-1);break}for(i.back=0;V=i.lencode[A&(1<<i.lenbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(fe&&!(fe&240)){for(q=te,K=fe,ce=Y;V=i.lencode[ce+((A&(1<<q+K)-1)>>q)],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(q+te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=q,I-=q,i.back+=q}if(A>>>=te,I-=te,i.back+=te,i.length=Y,fe===0){i.mode=v_e;break}if(fe&32){i.back=-1,i.mode=_v;break}if(fe&64){n.msg="invalid literal/length code",i.mode=ro;break}i.extra=fe&15,i.mode=d_e;case d_e:if(i.extra){for(Ce=i.extra;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.length+=A&(1<<i.extra)-1,A>>>=i.extra,I-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=p_e;case p_e:for(;V=i.distcode[A&(1<<i.distbits)-1],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(!(fe&240)){for(q=te,K=fe,ce=Y;V=i.distcode[ce+((A&(1<<q+K)-1)>>q)],te=V>>>24,fe=V>>>16&255,Y=V&65535,!(q+te<=I);){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}A>>>=q,I-=q,i.back+=q}if(A>>>=te,I-=te,i.back+=te,fe&64){n.msg="invalid distance code",i.mode=ro;break}i.offset=Y,i.extra=fe&15,i.mode=m_e;case m_e:if(i.extra){for(Ce=i.extra;I<Ce;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}i.offset+=A&(1<<i.extra)-1,A>>>=i.extra,I-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){n.msg="invalid distance too far back",i.mode=ro;break}i.mode=g_e;case g_e:if(w===0)break e;if(D=R-w,i.offset>D){if(D=i.offset-D,D>i.whave&&i.sane){n.msg="invalid distance too far back",i.mode=ro;break}D>i.wnext?(D-=i.wnext,L=i.wsize-D):L=i.wnext-D,D>i.length&&(D=i.length),z=i.window}else z=c,L=m-i.offset,D=i.length;D>w&&(D=w),w-=D,i.length-=D;do c[m++]=z[L++];while(--D);i.length===0&&(i.mode=AH);break;case v_e:if(w===0)break e;c[m++]=i.length,w--,i.mode=AH;break;case BK:if(i.wrap){for(;I<32;){if(b===0)break e;b--,A|=l[d++]<<I,I+=8}if(R-=w,n.total_out+=R,i.total+=R,R&&(n.adler=i.check=i.flags?gm(i.check,c,R,m-R):FJ(i.check,c,R,m-R)),R=w,(i.flags?A:__e(A))!==i.check){n.msg="incorrect data check",i.mode=ro;break}A=0,I=0}i.mode=y_e;case y_e:if(i.wrap&&i.flags){for(;I<32;){if(b===0)break e;b--,A+=l[d++]<<I,I+=8}if(A!==(i.total&4294967295)){n.msg="incorrect length check",i.mode=ro;break}A=0,I=0}i.mode=b_e;case b_e:ge=Hyt;break e;case ro:ge=axe;break e;case lxe:return oxe;case $yt:default:return bf}return n.next_out=m,n.avail_out=w,n.next_in=d,n.avail_in=b,i.hold=A,i.bits=I,(i.wsize||R!==n.avail_out&&i.mode<ro&&(i.mode<BK||o!==K1e))&&dxe(n,n.output,n.next_out,R-n.avail_out),N-=n.avail_in,R-=n.avail_out,n.total_in+=N,n.total_out+=R,i.total+=R,i.wrap&&R&&(n.adler=i.check=i.flags?gm(i.check,c,R,n.next_out-R):FJ(i.check,c,R,n.next_out-R)),n.data_type=i.bits+(i.last?64:0)+(i.mode===_v?128:0)+(i.mode===SH||i.mode===FK?256:0),(N===0&&R===0||o===K1e)&&ge===hE&&(ge=Gyt),ge}function Kyt(n){if(!n||!n.state)return bf;var o=n.state;return o.window&&(o.window=null),n.state=null,hE}function Qyt(n,o){var i;return!n||!n.state||(i=n.state,!(i.wrap&2))?bf:(i.head=o,o.done=!1,hE)}function Jyt(n,o){var i=o.length,l,c,d;return!n||!n.state||(l=n.state,l.wrap!==0&&l.mode!==NU)?bf:l.mode===NU&&(c=1,c=FJ(c,o,i,0),c!==l.check)?axe:(d=dxe(n,o,i,i),d?(l.mode=lxe,oxe):(l.havedict=1,hE))}Nd.inflateReset=cxe;Nd.inflateReset2=hxe;Nd.inflateResetKeep=uxe;Nd.inflateInit=Yyt;Nd.inflateInit2=fxe;Nd.inflate=Zyt;Nd.inflateEnd=Kyt;Nd.inflateGetHeader=Qyt;Nd.inflateSetDictionary=Jyt;Nd.inflateInfo="pako inflate (from Nodeca project)";var pxe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function ebt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tbt=ebt,Zx=Nd,U2=zv,WH=bE,Bo=pxe,BJ=Ste,rbt=txe,nbt=tbt,mxe=Object.prototype.toString;function fE(n){if(!(this instanceof fE))return new fE(n);this.options=U2.assign({chunkSize:16384,windowBits:0,to:""},n||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(n&&n.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15||(o.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rbt,this.strm.avail_out=0;var i=Zx.inflateInit2(this.strm,o.windowBits);if(i!==Bo.Z_OK)throw new Error(BJ[i]);if(this.header=new nbt,Zx.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=WH.string2buf(o.dictionary):mxe.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(i=Zx.inflateSetDictionary(this.strm,o.dictionary),i!==Bo.Z_OK)))throw new Error(BJ[i])}fE.prototype.push=function(n,o){var i=this.strm,l=this.options.chunkSize,c=this.options.dictionary,d,m,b,w,A,I=!1;if(this.ended)return!1;m=o===~~o?o:o===!0?Bo.Z_FINISH:Bo.Z_NO_FLUSH,typeof n=="string"?i.input=WH.binstring2buf(n):mxe.call(n)==="[object ArrayBuffer]"?i.input=new Uint8Array(n):i.input=n,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=new U2.Buf8(l),i.next_out=0,i.avail_out=l),d=Zx.inflate(i,Bo.Z_NO_FLUSH),d===Bo.Z_NEED_DICT&&c&&(d=Zx.inflateSetDictionary(this.strm,c)),d===Bo.Z_BUF_ERROR&&I===!0&&(d=Bo.Z_OK,I=!1),d!==Bo.Z_STREAM_END&&d!==Bo.Z_OK)return this.onEnd(d),this.ended=!0,!1;i.next_out&&(i.avail_out===0||d===Bo.Z_STREAM_END||i.avail_in===0&&(m===Bo.Z_FINISH||m===Bo.Z_SYNC_FLUSH))&&(this.options.to==="string"?(b=WH.utf8border(i.output,i.next_out),w=i.next_out-b,A=WH.buf2string(i.output,b),i.next_out=w,i.avail_out=l-w,w&&U2.arraySet(i.output,i.output,b,w,0),this.onData(A)):this.onData(U2.shrinkBuf(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(I=!0)}while((i.avail_in>0||i.avail_out===0)&&d!==Bo.Z_STREAM_END);return d===Bo.Z_STREAM_END&&(m=Bo.Z_FINISH),m===Bo.Z_FINISH?(d=Zx.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===Bo.Z_OK):(m===Bo.Z_SYNC_FLUSH&&(this.onEnd(Bo.Z_OK),i.avail_out=0),!0)};fE.prototype.onData=function(n){this.chunks.push(n)};fE.prototype.onEnd=function(n){n===Bo.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=U2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function wte(n,o){var i=new fE(o);if(i.push(n,!0),i.err)throw i.msg||BJ[i.err];return i.result}function ibt(n,o){return o=o||{},o.raw=!0,wte(n,o)}VM.Inflate=fE;VM.inflate=wte;VM.inflateRaw=ibt;VM.ungzip=wte;var abt=zv.assign,obt=GM,sbt=VM,lbt=pxe,gxe={};abt(gxe,obt,sbt,lbt);var MU=gxe;async function Cte(n){try{let o,i=0,l=0;const c=[];let d=0,m;do{const w=n.subarray(i);if(m=new MU.Inflate,{strm:o}=m,m.push(w,MU.Z_SYNC_FLUSH),m.err)throw new Error(m.msg);i+=o.next_in,c[l]=m.result,d+=c[l].length,l+=1}while(o.avail_in);const b=new Uint8Array(d);for(let w=0,A=0;w<c.length;w++)b.set(c[w],A),A+=c[w].length;return hI.Buffer.from(b)}catch(o){throw`${o}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):o}}async function ubt(n,o){try{let i;const{minv:l,maxv:c}=o;let d=l.blockPosition,m=l.dataPosition;const b=[],w=[],A=[];let I=0,N=0;do{const L=n.subarray(d-l.blockPosition),z=new MU.Inflate;if({strm:i}=z,z.push(L,MU.Z_SYNC_FLUSH),z.err)throw new Error(z.msg);const V=z.result;b.push(V);let te=V.length;w.push(d),A.push(m),b.length===1&&l.dataPosition&&(b[0]=b[0].subarray(l.dataPosition),te=b[0].length);const fe=d;if(d+=i.next_in,m+=te,fe>=c.blockPosition){b[N]=b[N].subarray(0,c.blockPosition===l.blockPosition?c.dataPosition-l.dataPosition+1:c.dataPosition+1),w.push(d),A.push(m),I+=b[N].length;break}I+=b[N].length,N++}while(i.avail_in);const R=new Uint8Array(I);for(let L=0,z=0;L<b.length;L++)R.set(b[L],z),z+=b[L].length;return{buffer:hI.Buffer.from(R),cpositions:w,dpositions:A}}catch(i){throw`${i}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):i}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var uf=null;try{uf=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ja(n,o,i){this.low=n|0,this.high=o|0,this.unsigned=!!i}ja.prototype.__isLong__;Object.defineProperty(ja.prototype,"__isLong__",{value:!0});function $l(n){return(n&&n.__isLong__)===!0}function E_e(n){var o=Math.clz32(n&-n);return n?31-o:o}ja.isLong=$l;var S_e={},A_e={};function _E(n,o){var i,l,c;return o?(n>>>=0,(c=0<=n&&n<256)&&(l=A_e[n],l)?l:(i=Ui(n,0,!0),c&&(A_e[n]=i),i)):(n|=0,(c=-128<=n&&n<128)&&(l=S_e[n],l)?l:(i=Ui(n,n<0?-1:0,!1),c&&(S_e[n]=i),i))}ja.fromInt=_E;function cf(n,o){if(isNaN(n))return o?Rv:Id;if(o){if(n<0)return Rv;if(n>=vxe)return _xe}else{if(n<=-C_e)return pc;if(n+1>=C_e)return bxe}return n<0?cf(-n,o).neg():Ui(n%vI|0,n/vI|0,o)}ja.fromNumber=cf;function Ui(n,o,i){return new ja(n,o,i)}ja.fromBits=Ui;var LU=Math.pow;function xte(n,o,i){if(n.length===0)throw Error("empty string");if(typeof o=="number"?(i=o,o=!1):o=!!o,n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return o?Rv:Id;if(i=i||10,i<2||36<i)throw RangeError("radix");var l;if((l=n.indexOf("-"))>0)throw Error("interior hyphen");if(l===0)return xte(n.substring(1),o,i).neg();for(var c=cf(LU(i,8)),d=Id,m=0;m<n.length;m+=8){var b=Math.min(8,n.length-m),w=parseInt(n.substring(m,m+b),i);if(b<8){var A=cf(LU(i,b));d=d.mul(A).add(cf(w))}else d=d.mul(c),d=d.add(cf(w))}return d.unsigned=o,d}ja.fromString=xte;function Md(n,o){return typeof n=="number"?cf(n,o):typeof n=="string"?xte(n,o):Ui(n.low,n.high,typeof o=="boolean"?o:n.unsigned)}ja.fromValue=Md;var w_e=65536,cbt=1<<24,vI=w_e*w_e,vxe=vI*vI,C_e=vxe/2,x_e=_E(cbt),Id=_E(0);ja.ZERO=Id;var Rv=_E(0,!0);ja.UZERO=Rv;var Ux=_E(1);ja.ONE=Ux;var yxe=_E(1,!0);ja.UONE=yxe;var HJ=_E(-1);ja.NEG_ONE=HJ;var bxe=Ui(-1,2147483647,!1);ja.MAX_VALUE=bxe;var _xe=Ui(-1,-1,!0);ja.MAX_UNSIGNED_VALUE=_xe;var pc=Ui(0,-2147483648,!1);ja.MIN_VALUE=pc;var Tr=ja.prototype;Tr.toInt=function(){return this.unsigned?this.low>>>0:this.low};Tr.toNumber=function(){return this.unsigned?(this.high>>>0)*vI+(this.low>>>0):this.high*vI+(this.low>>>0)};Tr.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(pc)){var i=cf(o),l=this.div(i),c=l.mul(i).sub(this);return l.toString(o)+c.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var d=cf(LU(o,6),this.unsigned),m=this,b="";;){var w=m.div(d),A=m.sub(w.mul(d)).toInt()>>>0,I=A.toString(o);if(m=w,m.isZero())return I+b;for(;I.length<6;)I="0"+I;b=""+I+b}};Tr.getHighBits=function(){return this.high};Tr.getHighBitsUnsigned=function(){return this.high>>>0};Tr.getLowBits=function(){return this.low};Tr.getLowBitsUnsigned=function(){return this.low>>>0};Tr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pc)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,i=31;i>0&&!(o&1<<i);i--);return this.high!=0?i+33:i+1};Tr.isZero=function(){return this.high===0&&this.low===0};Tr.eqz=Tr.isZero;Tr.isNegative=function(){return!this.unsigned&&this.high<0};Tr.isPositive=function(){return this.unsigned||this.high>=0};Tr.isOdd=function(){return(this.low&1)===1};Tr.isEven=function(){return(this.low&1)===0};Tr.equals=function(o){return $l(o)||(o=Md(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low};Tr.eq=Tr.equals;Tr.notEquals=function(o){return!this.eq(o)};Tr.neq=Tr.notEquals;Tr.ne=Tr.notEquals;Tr.lessThan=function(o){return this.comp(o)<0};Tr.lt=Tr.lessThan;Tr.lessThanOrEqual=function(o){return this.comp(o)<=0};Tr.lte=Tr.lessThanOrEqual;Tr.le=Tr.lessThanOrEqual;Tr.greaterThan=function(o){return this.comp(o)>0};Tr.gt=Tr.greaterThan;Tr.greaterThanOrEqual=function(o){return this.comp(o)>=0};Tr.gte=Tr.greaterThanOrEqual;Tr.ge=Tr.greaterThanOrEqual;Tr.compare=function(o){if($l(o)||(o=Md(o)),this.eq(o))return 0;var i=this.isNegative(),l=o.isNegative();return i&&!l?-1:!i&&l?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1};Tr.comp=Tr.compare;Tr.negate=function(){return!this.unsigned&&this.eq(pc)?pc:this.not().add(Ux)};Tr.neg=Tr.negate;Tr.add=function(o){$l(o)||(o=Md(o));var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,m=o.high>>>16,b=o.high&65535,w=o.low>>>16,A=o.low&65535,I=0,N=0,R=0,D=0;return D+=d+A,R+=D>>>16,D&=65535,R+=c+w,N+=R>>>16,R&=65535,N+=l+b,I+=N>>>16,N&=65535,I+=i+m,I&=65535,Ui(R<<16|D,I<<16|N,this.unsigned)};Tr.subtract=function(o){return $l(o)||(o=Md(o)),this.add(o.neg())};Tr.sub=Tr.subtract;Tr.multiply=function(o){if(this.isZero())return this;if($l(o)||(o=Md(o)),uf){var i=uf.mul(this.low,this.high,o.low,o.high);return Ui(i,uf.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Rv:Id;if(this.eq(pc))return o.isOdd()?pc:Id;if(o.eq(pc))return this.isOdd()?pc:Id;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(x_e)&&o.lt(x_e))return cf(this.toNumber()*o.toNumber(),this.unsigned);var l=this.high>>>16,c=this.high&65535,d=this.low>>>16,m=this.low&65535,b=o.high>>>16,w=o.high&65535,A=o.low>>>16,I=o.low&65535,N=0,R=0,D=0,L=0;return L+=m*I,D+=L>>>16,L&=65535,D+=d*I,R+=D>>>16,D&=65535,D+=m*A,R+=D>>>16,D&=65535,R+=c*I,N+=R>>>16,R&=65535,R+=d*A,N+=R>>>16,R&=65535,R+=m*w,N+=R>>>16,R&=65535,N+=l*I+c*A+d*w+m*b,N&=65535,Ui(D<<16|L,N<<16|R,this.unsigned)};Tr.mul=Tr.multiply;Tr.divide=function(o){if($l(o)||(o=Md(o)),o.isZero())throw Error("division by zero");if(uf){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var i=(this.unsigned?uf.div_u:uf.div_s)(this.low,this.high,o.low,o.high);return Ui(i,uf.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Rv:Id;var l,c,d;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Rv;if(o.gt(this.shru(1)))return yxe;d=Rv}else{if(this.eq(pc)){if(o.eq(Ux)||o.eq(HJ))return pc;if(o.eq(pc))return Ux;var m=this.shr(1);return l=m.div(o).shl(1),l.eq(Id)?o.isNegative()?Ux:HJ:(c=this.sub(o.mul(l)),d=l.add(c.div(o)),d)}else if(o.eq(pc))return this.unsigned?Rv:Id;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();d=Id}for(c=this;c.gte(o);){l=Math.max(1,Math.floor(c.toNumber()/o.toNumber()));for(var b=Math.ceil(Math.log(l)/Math.LN2),w=b<=48?1:LU(2,b-48),A=cf(l),I=A.mul(o);I.isNegative()||I.gt(c);)l-=w,A=cf(l,this.unsigned),I=A.mul(o);A.isZero()&&(A=Ux),d=d.add(A),c=c.sub(I)}return d};Tr.div=Tr.divide;Tr.modulo=function(o){if($l(o)||(o=Md(o)),uf){var i=(this.unsigned?uf.rem_u:uf.rem_s)(this.low,this.high,o.low,o.high);return Ui(i,uf.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))};Tr.mod=Tr.modulo;Tr.rem=Tr.modulo;Tr.not=function(){return Ui(~this.low,~this.high,this.unsigned)};Tr.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};Tr.clz=Tr.countLeadingZeros;Tr.countTrailingZeros=function(){return this.low?E_e(this.low):E_e(this.high)+32};Tr.ctz=Tr.countTrailingZeros;Tr.and=function(o){return $l(o)||(o=Md(o)),Ui(this.low&o.low,this.high&o.high,this.unsigned)};Tr.or=function(o){return $l(o)||(o=Md(o)),Ui(this.low|o.low,this.high|o.high,this.unsigned)};Tr.xor=function(o){return $l(o)||(o=Md(o)),Ui(this.low^o.low,this.high^o.high,this.unsigned)};Tr.shiftLeft=function(o){return $l(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Ui(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):Ui(0,this.low<<o-32,this.unsigned)};Tr.shl=Tr.shiftLeft;Tr.shiftRight=function(o){return $l(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Ui(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):Ui(this.high>>o-32,this.high>=0?0:-1,this.unsigned)};Tr.shr=Tr.shiftRight;Tr.shiftRightUnsigned=function(o){return $l(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Ui(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?Ui(this.high,0,this.unsigned):Ui(this.high>>>o-32,0,this.unsigned)};Tr.shru=Tr.shiftRightUnsigned;Tr.shr_u=Tr.shiftRightUnsigned;Tr.rotateLeft=function(o){var i;return $l(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?Ui(this.high,this.low,this.unsigned):o<32?(i=32-o,Ui(this.low<<o|this.high>>>i,this.high<<o|this.low>>>i,this.unsigned)):(o-=32,i=32-o,Ui(this.high<<o|this.low>>>i,this.low<<o|this.high>>>i,this.unsigned))};Tr.rotl=Tr.rotateLeft;Tr.rotateRight=function(o){var i;return $l(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?Ui(this.high,this.low,this.unsigned):o<32?(i=32-o,Ui(this.high<<i|this.low>>>o,this.low<<i|this.high>>>o,this.unsigned)):(o-=32,i=32-o,Ui(this.low<<i|this.high>>>o,this.high<<i|this.low>>>o,this.unsigned))};Tr.rotr=Tr.rotateRight;Tr.toSigned=function(){return this.unsigned?Ui(this.low,this.high,!1):this};Tr.toUnsigned=function(){return this.unsigned?this:Ui(this.low,this.high,!0)};Tr.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()};Tr.toBytesLE=function(){var o=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]};Tr.toBytesBE=function(){var o=this.high,i=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};ja.fromBytes=function(o,i,l){return l?ja.fromBytesLE(o,i):ja.fromBytesBE(o,i)};ja.fromBytesLE=function(o,i){return new ja(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,i)};ja.fromBytesBE=function(o,i){return new ja(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],i)};function Txe(n){if(n.greaterThan(Number.MAX_SAFE_INTEGER)||n.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return n.toNumber()}class hbt extends Error{}function PT(n){if(n&&n.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const o=new hbt("aborted");throw o.code="ERR_ABORTED",o}}}function fbt(n,o){return o.minv.blockPosition-n.maxv.blockPosition<65e3&&o.maxv.blockPosition-n.minv.blockPosition<5e6}function Exe(n,o){const i=[];let l=null;return n.length===0?n:(n.sort(function(c,d){const m=c.minv.blockPosition-d.minv.blockPosition;return m!==0?m:c.minv.dataPosition-d.minv.dataPosition}),n.forEach(c=>{(!o||c.maxv.compareTo(o)>0)&&(l===null?(i.push(c),l=c):fbt(l,c)?c.maxv.compareTo(l.maxv)>0&&(l.maxv=c.maxv):(i.push(c),l=c))}),i)}var dbt=Ra,hf=null;try{hf=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ra(n,o,i){this.low=n|0,this.high=o|0,this.unsigned=!!i}Ra.prototype.__isLong__;Object.defineProperty(Ra.prototype,"__isLong__",{value:!0});function Tc(n){return(n&&n.__isLong__)===!0}Ra.isLong=Tc;var I_e={},D_e={};function TE(n,o){var i,l,c;return o?(n>>>=0,(c=0<=n&&n<256)&&(l=D_e[n],l)?l:(i=Pa(n,(n|0)<0?-1:0,!0),c&&(D_e[n]=i),i)):(n|=0,(c=-128<=n&&n<128)&&(l=I_e[n],l)?l:(i=Pa(n,n<0?-1:0,!1),c&&(I_e[n]=i),i))}Ra.fromInt=TE;function ff(n,o){if(isNaN(n))return o?WT:df;if(o){if(n<0)return WT;if(n>=Sxe)return Cxe}else{if(n<=-k_e)return mc;if(n+1>=k_e)return wxe}return n<0?ff(-n,o).neg():Pa(n%yI|0,n/yI|0,o)}Ra.fromNumber=ff;function Pa(n,o,i){return new Ra(n,o,i)}Ra.fromBits=Pa;var FU=Math.pow;function Ite(n,o,i){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return df;if(typeof o=="number"?(i=o,o=!1):o=!!o,i=i||10,i<2||36<i)throw RangeError("radix");var l;if((l=n.indexOf("-"))>0)throw Error("interior hyphen");if(l===0)return Ite(n.substring(1),o,i).neg();for(var c=ff(FU(i,8)),d=df,m=0;m<n.length;m+=8){var b=Math.min(8,n.length-m),w=parseInt(n.substring(m,m+b),i);if(b<8){var A=ff(FU(i,b));d=d.mul(A).add(ff(w))}else d=d.mul(c),d=d.add(ff(w))}return d.unsigned=o,d}Ra.fromString=Ite;function Ld(n,o){return typeof n=="number"?ff(n,o):typeof n=="string"?Ite(n,o):Pa(n.low,n.high,typeof o=="boolean"?o:n.unsigned)}Ra.fromValue=Ld;var O_e=65536,pbt=1<<24,yI=O_e*O_e,Sxe=yI*yI,k_e=Sxe/2,R_e=TE(pbt),df=TE(0);Ra.ZERO=df;var WT=TE(0,!0);Ra.UZERO=WT;var Gx=TE(1);Ra.ONE=Gx;var Axe=TE(1,!0);Ra.UONE=Axe;var UJ=TE(-1);Ra.NEG_ONE=UJ;var wxe=Pa(-1,2147483647,!1);Ra.MAX_VALUE=wxe;var Cxe=Pa(-1,-1,!0);Ra.MAX_UNSIGNED_VALUE=Cxe;var mc=Pa(0,-2147483648,!1);Ra.MIN_VALUE=mc;var Ir=Ra.prototype;Ir.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ir.toNumber=function(){return this.unsigned?(this.high>>>0)*yI+(this.low>>>0):this.high*yI+(this.low>>>0)};Ir.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(mc)){var i=ff(o),l=this.div(i),c=l.mul(i).sub(this);return l.toString(o)+c.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var d=ff(FU(o,6),this.unsigned),m=this,b="";;){var w=m.div(d),A=m.sub(w.mul(d)).toInt()>>>0,I=A.toString(o);if(m=w,m.isZero())return I+b;for(;I.length<6;)I="0"+I;b=""+I+b}};Ir.getHighBits=function(){return this.high};Ir.getHighBitsUnsigned=function(){return this.high>>>0};Ir.getLowBits=function(){return this.low};Ir.getLowBitsUnsigned=function(){return this.low>>>0};Ir.getNumBitsAbs=function(){if(this.isNegative())return this.eq(mc)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,i=31;i>0&&!(o&1<<i);i--);return this.high!=0?i+33:i+1};Ir.isZero=function(){return this.high===0&&this.low===0};Ir.eqz=Ir.isZero;Ir.isNegative=function(){return!this.unsigned&&this.high<0};Ir.isPositive=function(){return this.unsigned||this.high>=0};Ir.isOdd=function(){return(this.low&1)===1};Ir.isEven=function(){return(this.low&1)===0};Ir.equals=function(o){return Tc(o)||(o=Ld(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low};Ir.eq=Ir.equals;Ir.notEquals=function(o){return!this.eq(o)};Ir.neq=Ir.notEquals;Ir.ne=Ir.notEquals;Ir.lessThan=function(o){return this.comp(o)<0};Ir.lt=Ir.lessThan;Ir.lessThanOrEqual=function(o){return this.comp(o)<=0};Ir.lte=Ir.lessThanOrEqual;Ir.le=Ir.lessThanOrEqual;Ir.greaterThan=function(o){return this.comp(o)>0};Ir.gt=Ir.greaterThan;Ir.greaterThanOrEqual=function(o){return this.comp(o)>=0};Ir.gte=Ir.greaterThanOrEqual;Ir.ge=Ir.greaterThanOrEqual;Ir.compare=function(o){if(Tc(o)||(o=Ld(o)),this.eq(o))return 0;var i=this.isNegative(),l=o.isNegative();return i&&!l?-1:!i&&l?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1};Ir.comp=Ir.compare;Ir.negate=function(){return!this.unsigned&&this.eq(mc)?mc:this.not().add(Gx)};Ir.neg=Ir.negate;Ir.add=function(o){Tc(o)||(o=Ld(o));var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,m=o.high>>>16,b=o.high&65535,w=o.low>>>16,A=o.low&65535,I=0,N=0,R=0,D=0;return D+=d+A,R+=D>>>16,D&=65535,R+=c+w,N+=R>>>16,R&=65535,N+=l+b,I+=N>>>16,N&=65535,I+=i+m,I&=65535,Pa(R<<16|D,I<<16|N,this.unsigned)};Ir.subtract=function(o){return Tc(o)||(o=Ld(o)),this.add(o.neg())};Ir.sub=Ir.subtract;Ir.multiply=function(o){if(this.isZero())return df;if(Tc(o)||(o=Ld(o)),hf){var i=hf.mul(this.low,this.high,o.low,o.high);return Pa(i,hf.get_high(),this.unsigned)}if(o.isZero())return df;if(this.eq(mc))return o.isOdd()?mc:df;if(o.eq(mc))return this.isOdd()?mc:df;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(R_e)&&o.lt(R_e))return ff(this.toNumber()*o.toNumber(),this.unsigned);var l=this.high>>>16,c=this.high&65535,d=this.low>>>16,m=this.low&65535,b=o.high>>>16,w=o.high&65535,A=o.low>>>16,I=o.low&65535,N=0,R=0,D=0,L=0;return L+=m*I,D+=L>>>16,L&=65535,D+=d*I,R+=D>>>16,D&=65535,D+=m*A,R+=D>>>16,D&=65535,R+=c*I,N+=R>>>16,R&=65535,R+=d*A,N+=R>>>16,R&=65535,R+=m*w,N+=R>>>16,R&=65535,N+=l*I+c*A+d*w+m*b,N&=65535,Pa(D<<16|L,N<<16|R,this.unsigned)};Ir.mul=Ir.multiply;Ir.divide=function(o){if(Tc(o)||(o=Ld(o)),o.isZero())throw Error("division by zero");if(hf){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var i=(this.unsigned?hf.div_u:hf.div_s)(this.low,this.high,o.low,o.high);return Pa(i,hf.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?WT:df;var l,c,d;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return WT;if(o.gt(this.shru(1)))return Axe;d=WT}else{if(this.eq(mc)){if(o.eq(Gx)||o.eq(UJ))return mc;if(o.eq(mc))return Gx;var m=this.shr(1);return l=m.div(o).shl(1),l.eq(df)?o.isNegative()?Gx:UJ:(c=this.sub(o.mul(l)),d=l.add(c.div(o)),d)}else if(o.eq(mc))return this.unsigned?WT:df;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();d=df}for(c=this;c.gte(o);){l=Math.max(1,Math.floor(c.toNumber()/o.toNumber()));for(var b=Math.ceil(Math.log(l)/Math.LN2),w=b<=48?1:FU(2,b-48),A=ff(l),I=A.mul(o);I.isNegative()||I.gt(c);)l-=w,A=ff(l,this.unsigned),I=A.mul(o);A.isZero()&&(A=Gx),d=d.add(A),c=c.sub(I)}return d};Ir.div=Ir.divide;Ir.modulo=function(o){if(Tc(o)||(o=Ld(o)),hf){var i=(this.unsigned?hf.rem_u:hf.rem_s)(this.low,this.high,o.low,o.high);return Pa(i,hf.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))};Ir.mod=Ir.modulo;Ir.rem=Ir.modulo;Ir.not=function(){return Pa(~this.low,~this.high,this.unsigned)};Ir.and=function(o){return Tc(o)||(o=Ld(o)),Pa(this.low&o.low,this.high&o.high,this.unsigned)};Ir.or=function(o){return Tc(o)||(o=Ld(o)),Pa(this.low|o.low,this.high|o.high,this.unsigned)};Ir.xor=function(o){return Tc(o)||(o=Ld(o)),Pa(this.low^o.low,this.high^o.high,this.unsigned)};Ir.shiftLeft=function(o){return Tc(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Pa(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):Pa(0,this.low<<o-32,this.unsigned)};Ir.shl=Ir.shiftLeft;Ir.shiftRight=function(o){return Tc(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Pa(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):Pa(this.high>>o-32,this.high>=0?0:-1,this.unsigned)};Ir.shr=Ir.shiftRight;Ir.shiftRightUnsigned=function(o){if(Tc(o)&&(o=o.toInt()),o&=63,o===0)return this;var i=this.high;if(o<32){var l=this.low;return Pa(l>>>o|i<<32-o,i>>>o,this.unsigned)}else return o===32?Pa(i,0,this.unsigned):Pa(i>>>o-32,0,this.unsigned)};Ir.shru=Ir.shiftRightUnsigned;Ir.shr_u=Ir.shiftRightUnsigned;Ir.toSigned=function(){return this.unsigned?Pa(this.low,this.high,!1):this};Ir.toUnsigned=function(){return this.unsigned?this:Pa(this.low,this.high,!0)};Ir.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()};Ir.toBytesLE=function(){var o=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]};Ir.toBytesBE=function(){var o=this.high,i=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};Ra.fromBytes=function(o,i,l){return l?Ra.fromBytesLE(o,i):Ra.fromBytesBE(o,i)};Ra.fromBytesLE=function(o,i){return new Ra(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,i)};Ra.fromBytesBE=function(o,i){return new Ra(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],i)};const xxe=_f(dbt);class Dte{constructor(o,i){this.blockPosition=o,this.dataPosition=i}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(o){return this.blockPosition-o.blockPosition||this.dataPosition-o.dataPosition}static min(...o){let i,l=0;for(;!i;l+=1)i=o[l];for(;l<o.length;l+=1)i.compareTo(o[l])>0&&(i=o[l]);return i}}function Kx(n,o=0,i=!1){if(i)throw new Error("big-endian virtual file offsets not implemented");return new Dte(n[o+7]*1099511627776+n[o+6]*4294967296+n[o+5]*16777216+n[o+4]*65536+n[o+3]*256+n[o+2],n[o+1]<<8|n[o])}class BU{constructor(o,i,l,c=void 0){this.minv=o,this.maxv=i,this.bin=l,this._fetchedSize=c}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(o){return this.minv.compareTo(o.minv)||this.maxv.compareTo(o.maxv)||this.bin-o.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class Ixe{constructor({filehandle:o,renameRefSeqs:i=l=>l}){this.filehandle=o,this.renameRefSeq=i}async getMetadata(o={}){const{indices:i,...l}=await this.parse(o);return l}_findFirstData(o,i){return o?o.compareTo(i)>0?i:o:i}async parse(o={}){return this.parseP||(this.parseP=this._parse(o).catch(i=>{throw this.parseP=void 0,i})),this.parseP}async hasRefSeq(o,i={}){return!!((await this.parse(i)).indices[o]||{}).binIndex}}const mbt=21578324,P_e=14;function gbt(n,o){return n+=1,o-=1,[[0,0],[1+(n>>26),1+(o>>26)],[9+(n>>23),9+(o>>23)],[73+(n>>20),73+(o>>20)],[585+(n>>17),585+(o>>17)],[4681+(n>>14),4681+(o>>14)]]}class GK extends Ixe{async lineCount(o,i={}){const l=await this.parse(i);if(!l)return-1;const c=l.refNameToId[o];if(!l.indices[c])return-1;const{stats:m}=l.indices[c];return m?m.lineCount:-1}async _parse(o={}){const i=await this.filehandle.readFile(o),l=await Cte(i);if(PT(o.signal),l.readUInt32LE(0)!==mbt)throw new Error("Not a TBI file");const c=l.readInt32LE(4),d=l.readInt32LE(8),m=d&65536?"zero-based-half-open":"1-based-closed",w={0:"generic",1:"SAM",2:"VCF"}[d&15];if(!w)throw new Error(`invalid Tabix preset format flags ${d}`);const A={ref:l.readInt32LE(12),start:l.readInt32LE(16),end:l.readInt32LE(20)},I=l.readInt32LE(24),N=5,R=((1<<(N+1)*3)-1)/7,D=2**(14+N*3),L=I?String.fromCharCode(I):null,z=l.readInt32LE(28),V=l.readInt32LE(32),{refNameToId:te,refIdToName:fe}=this._parseNameBytes(l.slice(36,36+V));let Y=36+V,q;return{indices:new Array(c).fill(0).map(()=>{const ce=l.readInt32LE(Y);Y+=4;const re={};let ge;for(let Ce=0;Ce<ce;Ce+=1){const ve=l.readUInt32LE(Y);if(Y+=4,ve>R+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(ve===R+1){const Ke=l.readInt32LE(Y);Y+=4,Ke===2&&(ge=this.parsePseudoBin(l,Y)),Y+=16*Ke}else{const Ke=l.readInt32LE(Y);Y+=4;const ot=new Array(Ke);for(let $=0;$<Ke;$+=1){const lt=Kx(l,Y),Tt=Kx(l,Y+8);Y+=16,q=this._findFirstData(q,lt),ot[$]=new BU(lt,Tt,ve)}re[ve]=ot}}const F=l.readInt32LE(Y);Y+=4;const Te=new Array(F);for(let Ce=0;Ce<F;Ce+=1)Te[Ce]=Kx(l,Y),Y+=8,q=this._findFirstData(q,Te[Ce]);return{binIndex:re,linearIndex:Te,stats:ge}}),metaChar:L,maxBinNumber:R,maxRefLength:D,skipLines:z,firstDataLine:q,columnNumbers:A,coordinateType:m,format:w,refIdToName:fe,refNameToId:te,maxBlockSize:65536}}parsePseudoBin(o,i){return{lineCount:Txe(xxe.fromBytesLE(o.slice(i+16,i+24),!0))}}_parseNameBytes(o){let i=0,l=0;const c=[],d={};for(let m=0;m<o.length;m+=1)if(!o[m]){if(l<m){let b=o.toString("utf8",l,m);b=this.renameRefSeq(b),c[i]=b,d[b]=i}l=m+1,i+=1}return{refNameToId:d,refIdToName:c}}async blocksForRange(o,i,l,c={}){i<0&&(i=0);const d=await this.parse(c);if(!d)return[];const m=d.refNameToId[o],b=d.indices[m];if(!b)return[];(b.linearIndex.length?b.linearIndex[i>>P_e>=b.linearIndex.length?b.linearIndex.length-1:i>>P_e]:new Dte(0,0))||console.warn("querying outside of possible tabix range");const A=gbt(i,l),I=[];for(const[z,V]of A)for(let te=z;te<=V;te++)if(b.binIndex[te]){const fe=b.binIndex[te];for(let Y=0;Y<fe.length;++Y)I.push(new BU(fe[Y].minv,fe[Y].maxv,te))}const N=b.linearIndex.length;let R=null;const D=Math.min(i>>14,N-1),L=Math.min(l>>14,N-1);for(let z=D;z<=L;++z){const V=b.linearIndex[z];V&&(!R||V.compareTo(R)<0)&&(R=V)}return Exe(I,R)}}const vbt=21582659,ybt=38359875;function bbt(n,o){return n*2**o}function N_e(n,o){return Math.floor(n/2**o)}class M_e extends Ixe{constructor(o){super(o),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(o,i={}){const l=await this.parse(i);if(!l)return-1;const c=l.refNameToId[o];if(!l.indices[c])return-1;const{stats:m}=l.indices[c];return m?m.lineCount:-1}async indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(o,i){const l=o.readInt32LE(i),c=l&65536?"zero-based-half-open":"1-based-closed",d={0:"generic",1:"SAM",2:"VCF"}[l&15];if(!d)throw new Error(`invalid Tabix preset format flags ${l}`);const m={ref:o.readInt32LE(i+4),start:o.readInt32LE(i+8),end:o.readInt32LE(i+12)},b=o.readInt32LE(i+16),w=b?String.fromCharCode(b):null,A=o.readInt32LE(i+20),I=o.readInt32LE(i+24),{refIdToName:N,refNameToId:R}=this._parseNameBytes(o.slice(i+28,i+28+I));return{refIdToName:N,refNameToId:R,skipLines:A,metaChar:w,columnNumbers:m,format:d,coordinateType:c}}_parseNameBytes(o){let i=0,l=0;const c=[],d={};for(let m=0;m<o.length;m+=1)if(!o[m]){if(l<m){let b=o.toString("utf8",l,m);b=this.renameRefSeq(b),c[i]=b,d[b]=i}l=m+1,i+=1}return{refNameToId:d,refIdToName:c}}async _parse(o={}){const i=await Cte(await this.filehandle.readFile(o));let l;if(i.readUInt32LE(0)===vbt)l=1;else if(i.readUInt32LE(0)===ybt)l=2;else throw new Error("Not a CSI file");this.minShift=i.readInt32LE(4),this.depth=i.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const c=2**(this.minShift+this.depth*3),d=i.readInt32LE(12),m=d&&d>=30?this.parseAuxData(i,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},b=i.readInt32LE(16+d);let w,A=16+d+4;const I=new Array(b).fill(0).map(()=>{const N=i.readInt32LE(A);A+=4;const R={};let D;for(let L=0;L<N;L+=1){const z=i.readUInt32LE(A);if(z>this.maxBinNumber)D=this.parsePseudoBin(i,A+4),A+=4+8+4+16+16;else{const V=Kx(i,A+4);w=this._findFirstData(w,V);const te=i.readInt32LE(A+12);A+=16;const fe=new Array(te);for(let Y=0;Y<te;Y+=1){const q=Kx(i,A),K=Kx(i,A+8);A+=16,fe[Y]=new BU(q,K,z)}R[z]=fe}}return{binIndex:R,stats:D}});return{...m,csi:!0,refCount:b,maxBlockSize:65536,firstDataLine:w,csiVersion:l,indices:I,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:c}}parsePseudoBin(o,i){return{lineCount:Txe(xxe.fromBytesLE(o.slice(i+28,i+36),!0))}}async blocksForRange(o,i,l,c={}){i<0&&(i=0);const d=await this.parse(c);if(!d)return[];const m=d.refNameToId[o],b=d.indices[m];if(!b)return[];const w=this.reg2bins(i,l),A=[];for(const[I,N]of w)for(let R=I;R<=N;R++)if(b.binIndex[R]){const D=b.binIndex[R];for(let L=0;L<D.length;++L)A.push(new BU(D[L].minv,D[L].maxv,R))}return Exe(A,new Dte(0,0))}reg2bins(o,i){o-=1,o<1&&(o=1),i>2**50&&(i=2**34),i-=1;let l=0,c=0,d=this.minShift+this.depth*3;const m=[];for(;l<=this.depth;d-=3,c+=bbt(1,l*3),l+=1){const b=c+N_e(o,d),w=c+N_e(i,d);if(w-b+m.length>this.maxBinNumber)throw new Error(`query ${o}-${i} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);m.push([b,w])}return m}}const $K=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function _bt(n){return new Promise(o=>setTimeout(o,n))}class Tbt{constructor({path:o,filehandle:i,tbiPath:l,tbiFilehandle:c,csiPath:d,csiFilehandle:m,yieldTime:b=500,chunkSizeLimit:w=5e7,renameRefSeqs:A=N=>N,chunkCacheSize:I=5*2**20}){if(i)this.filehandle=i;else if(o)this.filehandle=new _2(o);else throw new TypeError("must provide either filehandle or path");if(c)this.index=new GK({filehandle:c,renameRefSeqs:A});else if(m)this.index=new M_e({filehandle:m,renameRefSeqs:A});else if(l)this.index=new GK({filehandle:new _2(l),renameRefSeqs:A});else if(d)this.index=new M_e({filehandle:new _2(d),renameRefSeqs:A});else if(o)this.index=new GK({filehandle:new _2(`${o}.tbi`),renameRefSeqs:A});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.chunkSizeLimit=w,this.renameRefSeq=A,this.yieldTime=b,this.chunkCache=new p0t({cache:new v0t({maxSize:Math.floor(I/65536)}),fill:(N,R)=>this.readChunk(N,{signal:R})})}async getLines(o,i,l,c){let d,m={},b;if(typeof c>"u")throw new TypeError("line callback must be provided");if(typeof c=="function"?b=c:(m=c,b=c.lineCallback),o===void 0)throw new TypeError("must provide a reference sequence name");if(!b)throw new TypeError("line callback must be provided");const w=await this.index.getMetadata(m);if(PT(d),i||(i=0),l||(l=w.maxRefLength),!(i<=l))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(i===l)return;const A=await this.index.blocksForRange(o,i,l,m);PT(d);for(let N=0;N<A.length;N+=1){const R=A[N].fetchedSize();if(R>this.chunkSizeLimit)throw new Error(`Too much data. Chunk size ${R.toLocaleString()} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit.toLocaleString()}.`)}let I=Date.now();for(let N=0;N<A.length;N+=1){let R;const D=A[N],{buffer:L,cpositions:z,dpositions:V}=await this.chunkCache.get(D.toString(),D);PT(d);let te=0,fe=0;for(;te<L.length;){const Y=L.indexOf(`
`,te);if(Y===-1)break;const q=L.slice(te,Y),K=($K==null?void 0:$K.decode(q))||q.toString();if(V){for(;te+D.minv.dataPosition>=V[fe++];);fe--}const{startCoordinate:ce,overlaps:re}=this.checkLine(w,o,i,l,K);if(R!==void 0&&ce!==void 0&&R>ce)throw new Error(`Lines not sorted by start coordinate (${R} > ${ce}), this file is not usable with Tabix.`);if(R=ce,re)b(K.trim(),z[fe]*256+(te-V[fe])+D.minv.dataPosition+1);else if(ce!==void 0&&ce>=l)return;this.yieldTime&&I-Date.now()>this.yieldTime&&(I=Date.now(),PT(d),await _bt(1)),te=Y+1}}}async getMetadata(o={}){return this.index.getMetadata(o)}async getHeaderBuffer(o={}){const{firstDataLine:i,metaChar:l,maxBlockSize:c}=await this.getMetadata(o);PT(o.signal);const d=((i==null?void 0:i.blockPosition)||0)+c;let m=await this._readRegion(0,d,o);PT(o.signal);try{m=await Cte(m)}catch(b){throw console.error(b),new Error(`error decompressing block ${b.code} at 0 (length ${d}) ${b}`)}if(l){let b=-1;const w=`
`.charCodeAt(0),A=l.charCodeAt(0);for(let I=0;I<m.length&&!(I===b+1&&m[I]!==A);I+=1)m[I]===w&&(b=I);m=m.slice(0,b+1)}return m}async getHeader(o={}){return(await this.getHeaderBuffer(o)).toString("utf8")}async getReferenceSequenceNames(o={}){return(await this.getMetadata(o)).refIdToName}checkLine(o,i,l,c,d){const{columnNumbers:m,metaChar:b,coordinateType:w,format:A}=o;if(d.charAt(0)===b)return{overlaps:!1};let{ref:I,start:N,end:R}=m;I||(I=0),N||(N=0),R||(R=0),A==="VCF"&&(R=8);const D=Math.max(I,N,R);let L=1,z=0,V="",te=-1/0;for(let fe=0;fe<d.length+1;fe+=1)if(d[fe]==="	"||fe===d.length){if(L===I){if(this.renameRefSeq(d.slice(z,fe))!==i)return{overlaps:!1}}else if(L===N){if(te=parseInt(d.slice(z,fe),10),w==="1-based-closed"&&(te-=1),te>=c)return{startCoordinate:te,overlaps:!1};if((R===0||R===N)&&te+1<=l)return{startCoordinate:te,overlaps:!1}}else if(A==="VCF"&&L===4)V=d.slice(z,fe);else if(L===R){let Y;if(A==="VCF"?Y=this._getVcfEnd(te,V,d.slice(z,fe)):Y=parseInt(d.slice(z,fe),10),Y<=l)return{overlaps:!1}}if(z=fe+1,L+=1,L>D)break}return{startCoordinate:te,overlaps:!0}}_getVcfEnd(o,i,l){let c=o+i.length;const d=l.indexOf("SVTYPE=TRA")!==-1;if(l[0]!=="."&&!d){let m=";";for(let b=0;b<l.length;b+=1){if(m===";"&&l.slice(b,b+4)==="END="){let w=l.indexOf(";",b);w===-1&&(w=l.length),c=parseInt(l.slice(b+4,w),10);break}m=l[b]}}else if(d)return o+1;return c}async lineCount(o,i={}){return this.index.lineCount(o,i)}async _readRegion(o,i,l={}){const c=hI.Buffer.alloc(i),{bytesRead:d,buffer:m}=await this.filehandle.read(c,0,i,o,l);return m.slice(0,d)}async readChunk(o,i={}){const l=await this._readRegion(o.minv.blockPosition,o.fetchedSize(),i);try{return ubt(l,o)}catch(c){throw new Error(`error decompressing c ${o.toString()} ${c}`)}}}const wH={InfoFields:{AA:{Number:1,Type:"String",Description:"Ancestral allele"},AC:{Number:"A",Type:"Integer",Description:"Allele count in genotypes, for each ALT allele, in the same order as listed"},AD:{Number:"R",Type:"Integer",Description:"Total read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},AF:{Number:"A",Type:"Float",Description:"Allele frequency for each ALT allele in the same order as listed (estimated from primary data, not called genotypes)"},AN:{Number:1,Type:"Integer",Description:"Total number of alleles in called genotypes"},BQ:{Number:1,Type:"Float",Description:"RMS base quality"},CIGAR:{Number:1,Type:"Float",Description:"Cigar string describing how to align an alternate allele to the reference allele"},DB:{Number:0,Type:"Flag",Description:"dbSNP membership"},DP:{Number:1,Type:"Integer",Description:"combined depth across samples"},END:{Number:1,Type:"Integer",Description:"End position (for use with symbolic alleles)"},H2:{Number:0,Type:"Flag",Description:"HapMap2 membership"},H3:{Number:0,Type:"Flag",Description:"HapMap3 membership"},MQ:{Number:1,Type:null,Description:"RMS mapping quality"},MQ0:{Number:1,Type:"Integer",Description:"Number of MAPQ == 0 reads"},NS:{Number:1,Type:"Integer",Description:"Number of samples with data"},SB:{Number:4,Type:"Integer",Description:"Strand bias"},SOMATIC:{Number:0,Type:"Flag",Description:"Somatic mutation (for cancer genomics)"},VALIDATED:{Number:0,Type:"Flag",Description:"Validated by follow-up experiment"},"1000G":{Number:0,Type:"Flag",Description:"1000 Genomes membership"},IMPRECISE:{Number:0,Type:"Flag",Description:"Imprecise structural variation"},NOVEL:{Number:0,Type:"Flag",Description:"Indicates a novel structural variation"},SVTYPE:{Number:1,Type:"String",Description:"Type of structural variant"},SVLEN:{Number:null,Type:"Integer",Description:"Difference in length between REF and ALT alleles"},CIPOS:{Number:2,Type:"Integer",Description:"Confidence interval around POS for imprecise variants"},CIEND:{Number:2,Type:"Integer",Description:"Confidence interval around END for imprecise variants"},HOMLEN:{Type:"Integer",Description:"Length of base pair identical micro-homology at event breakpoints"},HOMSEQ:{Type:"String",Description:"Sequence of base pair identical micro-homology at event breakpoints"},BKPTID:{Type:"String",Description:"ID of the assembled alternate allele in the assembly file"},MEINFO:{Number:4,Type:"String",Description:"Mobile element info of the form NAME,START,END,POLARITY"},METRANS:{Number:4,Type:"String",Description:"Mobile element transduction info of the form CHR,START,END,POLARITY"},DGVID:{Number:1,Type:"String",Description:"ID of this element in Database of Genomic Variation"},DBVARID:{Number:1,Type:"String",Description:"ID of this element in DBVAR"},DBRIPID:{Number:1,Type:"String",Description:"ID of this element in DBRIP"},MATEID:{Number:null,Type:"String",Description:"ID of mate breakends"},PARID:{Number:1,Type:"String",Description:"ID of partner breakend"},EVENT:{Number:1,Type:"String",Description:"ID of event associated to breakend"},CILEN:{Number:2,Type:"Integer",Description:"Confidence interval around the inserted material between breakend"},DPADJ:{Type:"Integer",Description:"Read Depth of adjacency"},CN:{Number:1,Type:"Integer",Description:"Copy number of segment containing breakend"},CNADJ:{Number:null,Type:"Integer",Description:"Copy number of adjacency"},CICN:{Number:2,Type:"Integer",Description:"Confidence interval around copy number for the segment"},CICNADJ:{Number:null,Type:"Integer",Description:"Confidence interval around copy number for the adjacency"}},GenotypeFields:{AD:{Number:"R",Type:"Integer",Description:"Read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},DP:{Number:1,Type:"Integer",Description:"Read depth"},EC:{Number:"A",Type:"Integer",Description:"Expected alternate allele counts"},FT:{Number:1,Type:"String",Description:'Filter indicating if this genotype was "called"'},GL:{Number:"G",Type:"Float",Description:"Genotype likelihoods"},GP:{Number:"G",Type:"Float",Description:"Genotype posterior probabilities"},GQ:{Number:1,Type:"Integer",Description:"Conditional genotype quality"},GT:{Number:1,Type:"String",Description:"Genotype"},HQ:{Number:2,Type:"Integer",Description:"Haplotype quality"},MQ:{Number:1,Type:"Integer",Description:"RMS mapping quality"},PL:{Number:"G",Type:"Integer",Description:"Phred-scaled genotype likelihoods rounded to the closest integer"},PQ:{Number:1,Type:"Integer",Description:"Phasing quality"},PS:{Number:1,Type:"Integer",Description:"Phase set"}},AltTypes:{DEL:{Description:"Deletion relative to the reference"},INS:{Description:"Insertion of novel sequence relative to the reference"},DUP:{Description:"Region of elevated copy number relative to the reference"},INV:{Description:"Inversion of reference sequence"},CNV:{Description:"Copy number variable region (may be both deletion and duplication)"},"DUP:TANDEM":{Description:"Tandem duplication"},"DEL:ME":{Description:"Deletion of mobile element relative to the reference"},"INS:ME":{Description:"Insertion of a mobile element relative to the reference"},NON_REF:{Description:"Represents any possible alternative allele at this location"},"*":{Description:"Represents any possible alternative allele at this location"}},FilterTypes:{PASS:{Description:"Passed all filters"}}};function Ebt(n){Object.assign(this,n)}function Sbt(n){try{return decodeURIComponent(n)}catch{return n}}class Abt{constructor({header:o="",strict:i=!0}){if(!o||!o.length)throw new Error("empty header received");const l=o.split(/[\r\n]+/).filter(w=>w);if(!l.length)throw new Error("no non-empty header lines specified");this.strict=i,this.metadata=JSON.parse(JSON.stringify({INFO:wH.InfoFields,FORMAT:wH.GenotypeFields,ALT:wH.AltTypes,FILTER:wH.FilterTypes}));let c;if(l.forEach(w=>{if(w.startsWith("#"))w.startsWith("##")?this._parseMetadata(w):c=w;else throw new Error(`Bad line in header:
${w}`)}),!c)throw new Error("No format line found in header");const d=c.trim().split("	"),m=d.slice(0,8),b=["#CHROM","POS","ID","REF","ALT","QUAL","FILTER","INFO"];if(d.length<8)throw new Error(`VCF header missing columns:
${c}`);if(m.length!==b.length||!m.every((w,A)=>w===b[A]))throw new Error(`VCF column headers not correct:
${c}`);this.samples=d.slice(9)}_parseGenotypes(o,i){const l=i.split("	"),c={},d=o==null?void 0:o.split(":");return d&&this.samples.forEach((m,b)=>{c[m]={},d.forEach(w=>{c[m][w]=null}),l[b].split(":").filter(w=>w).forEach((w,A)=>{let I;if(w===""||w==="."||w===void 0)I=null;else{const N=w.split(",").map(D=>D==="."?null:D),R=this.getMetadata("FORMAT",d[A],"Type");R==="Integer"||R==="Float"?I=N.map(D=>D&&+D):I=N}c[m][d[A]]=I},{})}),c}_parseMetadata(o){const i=o.trim().match(/^##(.+?)=(.*)/);if(!i)throw new Error(`Line is not a valid metadata line: ${o}`);const[l,c]=i.slice(1,3);if(c.startsWith("<")){l in this.metadata||(this.metadata[l]={});const[d,m]=this._parseStructuredMetaVal(c);this.metadata[l][d]=m}else this.metadata[l]=c}_parseStructuredMetaVal(o){const i=this._parseKeyValue(o.replace(/^<|>$/g,""),","),l=i.ID;return delete i.ID,"Number"in i&&(Number.isNaN(Number(i.Number))||(i.Number=Number(i.Number))),[l,i]}getMetadata(...o){let i=this.metadata;for(let l=0;l<o.length;l+=1)if(i=i[o[l]],!i)return i;return i}_parseKeyValue(o,i=";"){const l={};let c="",d="",m=1;for(let b=0;b<o.length;b+=1)m===1?o[b]==="="?m=2:o[b]!==i?c+=o[b]:d===""&&(l[c]=null,c=""):m===2?o[b]===i?(l[c]=d,c="",d="",m=1):o[b]==='"'?m=3:d+=o[b]:m===3&&(o[b]!=='"'?d+=o[b]:m=2);return m===2||m===3?l[c]=d:m===1&&(l[c]=null),l}parseLine(o){if(o=o.trim(),!o.length)return;const i=this;let l=0;for(let ce=0;l<o.length&&(o[l]==="	"&&(ce+=1),ce!==9);l+=1);const c=o.substr(0,l).split("	"),d=o.substr(l+1),[m,b,w,A,I,N,R]=c,D=m,L=+b,z=w==="."?null:w.split(";"),V=A,te=I==="."?null:I.split(","),fe=N==="."?null:+N,Y=R==="."?null:R.split(";");if(this.strict&&c[7]===void 0)throw new Error("no INFO field specified, must contain at least a '.' (turn off strict mode to allow)");const q=c[7]===void 0||c[7]==="."?{}:this._parseKeyValue(c[7]);Object.keys(q).forEach(ce=>{let re;q[ce]?re=q[ce].split(",").map(F=>F==="."?null:F).map(F=>F&&Sbt(F)):re=q[ce];const ge=this.getMetadata("INFO",ce,"Type");ge&&(ge==="Integer"||ge==="Float"?re=re.map(F=>F===null?null:Number(F)):ge==="Flag"&&(q[ce]?console.warn(`Info field ${ce} is a Flag and should not have a value (got value ${q[ce]})`):re=!0)),q[ce]=re});const K=new Ebt({CHROM:D,POS:L,ALT:te,INFO:q,REF:V,FILTER:Y&&Y.length===1&&Y[0]==="PASS"?"PASS":Y,ID:z,QUAL:fe});return Object.defineProperty(K,"SAMPLES",{get(){const ce=i._parseGenotypes(c[8],d);return Object.defineProperty(this,"SAMPLES",{value:ce,configurable:!1}),ce},configurable:!0}),K}}const Ote=[{name:"chr1",order:1,length:248956422,cumPos:0},{name:"chr2",order:2,length:242193529,cumPos:248956422},{name:"chr3",order:3,length:198295559,cumPos:491149951},{name:"chr4",order:4,length:190214555,cumPos:689445510},{name:"chr5",order:5,length:181538259,cumPos:879660065},{name:"chr6",order:6,length:170805979,cumPos:1061198324},{name:"chr7",order:7,length:159345973,cumPos:1232004303},{name:"chr8",order:8,length:145138636,cumPos:1391350276},{name:"chr9",order:9,length:138394717,cumPos:1536488912},{name:"chr10",order:10,length:133797422,cumPos:1674883629},{name:"chr11",order:11,length:135086622,cumPos:1808681051},{name:"chr12",order:12,length:133275309,cumPos:1943767673},{name:"chr13",order:13,length:114364328,cumPos:2077042982},{name:"chr14",order:14,length:107043718,cumPos:2191407310},{name:"chr15",order:15,length:101991189,cumPos:2298451028},{name:"chr16",order:16,length:90338345,cumPos:2400442217},{name:"chr17",order:17,length:83257441,cumPos:2490780562},{name:"chr18",order:18,length:80373285,cumPos:2574038003},{name:"chr19",order:19,length:58617616,cumPos:2654411288},{name:"chr20",order:20,length:64444167,cumPos:2713028904},{name:"chr21",order:21,length:46709983,cumPos:2777473071},{name:"chr22",order:22,length:50818468,cumPos:2824183054},{name:"chrX",order:23,length:156040895,cumPos:2875001522},{name:"chrY",order:24,length:57227415,cumPos:3031042417}],XH=(n,o)=>{const i=Ote.filter(l=>l.name===n);return i[0].cumPos+Math.min(o,i[0].length)};function dE(n){"@babel/helpers - typeof";return dE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},dE(n)}function wbt(n,o){if(dE(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var l=i.call(n,o||"default");if(dE(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}function Dxe(n){var o=wbt(n,"string");return dE(o)==="symbol"?o:String(o)}function C2(n,o,i){return o=Dxe(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n}function L_e(n,o){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,l)}return i}function _n(n){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?L_e(Object(i),!0).forEach(function(l){C2(n,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):L_e(Object(i)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(i,l))})}return n}function Cbt(n){if(Array.isArray(n))return n}function xbt(n,o){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var l,c,d,m,b=[],w=!0,A=!1;try{if(d=(i=i.call(n)).next,o===0){if(Object(i)!==i)return;w=!1}else for(;!(w=(l=d.call(i)).done)&&(b.push(l.value),b.length!==o);w=!0);}catch(I){A=!0,c=I}finally{try{if(!w&&i.return!=null&&(m=i.return(),Object(m)!==m))return}finally{if(A)throw c}}return b}}function GJ(n,o){(o==null||o>n.length)&&(o=n.length);for(var i=0,l=new Array(o);i<o;i++)l[i]=n[i];return l}function Oxe(n,o){if(n){if(typeof n=="string")return GJ(n,o);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return GJ(n,o)}}function Ibt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(n,o){return Cbt(n)||xbt(n,o)||Oxe(n,o)||Ibt()}function Dbt(n,o){if(n==null)return{};var i={},l=Object.keys(n),c,d;for(d=0;d<l.length;d++)c=l[d],!(o.indexOf(c)>=0)&&(i[c]=n[c]);return i}function Vv(n,o){if(n==null)return{};var i=Dbt(n,o),l,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(c=0;c<d.length;c++)l=d[c],!(o.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(n,l)&&(i[l]=n[l])}return i}var Obt=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function kbt(n){var o=n.defaultInputValue,i=o===void 0?"":o,l=n.defaultMenuIsOpen,c=l===void 0?!1:l,d=n.defaultValue,m=d===void 0?null:d,b=n.inputValue,w=n.menuIsOpen,A=n.onChange,I=n.onInputChange,N=n.onMenuClose,R=n.onMenuOpen,D=n.value,L=Vv(n,Obt),z=mr.useState(b!==void 0?b:i),V=Mv(z,2),te=V[0],fe=V[1],Y=mr.useState(w!==void 0?w:c),q=Mv(Y,2),K=q[0],ce=q[1],re=mr.useState(D!==void 0?D:m),ge=Mv(re,2),F=ge[0],Te=ge[1],Ce=mr.useCallback(function(Be,qe){typeof A=="function"&&A(Be,qe),Te(Be)},[A]),ve=mr.useCallback(function(Be,qe){var We;typeof I=="function"&&(We=I(Be,qe)),fe(We!==void 0?We:Be)},[I]),Ke=mr.useCallback(function(){typeof R=="function"&&R(),ce(!0)},[R]),ot=mr.useCallback(function(){typeof N=="function"&&N(),ce(!1)},[N]),$=b!==void 0?b:te,lt=w!==void 0?w:K,Tt=D!==void 0?D:F;return _n(_n({},L),{},{inputValue:$,menuIsOpen:lt,onChange:Ce,onInputChange:ve,onMenuClose:ot,onMenuOpen:Ke,value:Tt})}function xn(){return xn=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},xn.apply(this,arguments)}function Rbt(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function F_e(n,o){for(var i=0;i<o.length;i++){var l=o[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,Dxe(l.key),l)}}function Pbt(n,o,i){return o&&F_e(n.prototype,o),i&&F_e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function $J(n,o){return $J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,c){return l.__proto__=c,l},$J(n,o)}function Nbt(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&$J(n,o)}function HU(n){return HU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},HU(n)}function Mbt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fbt(n,o){if(o&&(dE(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbt(n)}function Bbt(n){var o=Mbt();return function(){var l=HU(n),c;if(o){var d=HU(this).constructor;c=Reflect.construct(l,arguments,d)}else c=l.apply(this,arguments);return Fbt(this,c)}}function Hbt(n){if(Array.isArray(n))return GJ(n)}function Ubt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Gbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(n){return Hbt(n)||Ubt(n)||Oxe(n)||Gbt()}function $bt(n){if(n.sheet)return n.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===n)return document.styleSheets[o]}function zbt(n){var o=document.createElement("style");return o.setAttribute("data-emotion",n.key),n.nonce!==void 0&&o.setAttribute("nonce",n.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var Vbt=function(){function n(i){var l=this;this._insertTag=function(c){var d;l.tags.length===0?l.insertionPoint?d=l.insertionPoint.nextSibling:l.prepend?d=l.container.firstChild:d=l.before:d=l.tags[l.tags.length-1].nextSibling,l.container.insertBefore(c,d),l.tags.push(c)},this.isSpeedy=i.speedy===void 0?!1:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var o=n.prototype;return o.hydrate=function(l){l.forEach(this._insertTag)},o.insert=function(l){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zbt(this));var c=this.tags[this.tags.length-1];{var d=l.charCodeAt(0)===64&&l.charCodeAt(1)===105;d&&this._alreadyInsertedOrderInsensitiveRule&&console.error(`You're attempting to insert the following rule:
`+l+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."),this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!d}if(this.isSpeedy){var m=$bt(c);try{m.insertRule(l,m.cssRules.length)}catch(b){/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(l)||console.error('There was a problem inserting the following rule: "'+l+'"',b)}}else c.appendChild(document.createTextNode(l));this.ctr++},o.flush=function(){this.tags.forEach(function(l){return l.parentNode&&l.parentNode.removeChild(l)}),this.tags=[],this.ctr=0,this._alreadyInsertedOrderInsensitiveRule=!1},n}(),Hl="-ms-",UU="-moz-",Yi="-webkit-",kte="comm",Rte="rule",Pte="decl",jbt="@import",Rxe="@keyframes",Wbt="@layer",Xbt=Math.abs,I9=String.fromCharCode,Ybt=Object.assign;function qbt(n,o){return sl(n,0)^45?(((o<<2^sl(n,0))<<2^sl(n,1))<<2^sl(n,2))<<2^sl(n,3):0}function Pxe(n){return n.trim()}function Zbt(n,o){return(n=o.exec(n))?n[0]:n}function qi(n,o,i){return n.replace(o,i)}function zJ(n,o){return n.indexOf(o)}function sl(n,o){return n.charCodeAt(o)|0}function pM(n,o,i){return n.slice(o,i)}function bm(n){return n.length}function Nte(n){return n.length}function CH(n,o){return o.push(n),n}function Kbt(n,o){return n.map(o).join("")}var D9=1,bI=1,Nxe=0,gc=0,qo=0,PI="";function O9(n,o,i,l,c,d,m){return{value:n,root:o,parent:i,type:l,props:c,children:d,line:D9,column:bI,length:m,return:""}}function v2(n,o){return Ybt(O9("",null,null,"",null,null,0),n,{length:-n.length},o)}function Qbt(){return qo}function Jbt(){return qo=gc>0?sl(PI,--gc):0,bI--,qo===10&&(bI=1,D9--),qo}function ah(){return qo=gc<Nxe?sl(PI,gc++):0,bI++,qo===10&&(bI=1,D9++),qo}function Nm(){return sl(PI,gc)}function YH(){return gc}function jM(n,o){return pM(PI,n,o)}function mM(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Mxe(n){return D9=bI=1,Nxe=bm(PI=n),gc=0,[]}function Lxe(n){return PI="",n}function qH(n){return Pxe(jM(gc-1,VJ(n===91?n+2:n===40?n+1:n)))}function e1t(n){for(;(qo=Nm())&&qo<33;)ah();return mM(n)>2||mM(qo)>3?"":" "}function t1t(n,o){for(;--o&&ah()&&!(qo<48||qo>102||qo>57&&qo<65||qo>70&&qo<97););return jM(n,YH()+(o<6&&Nm()==32&&ah()==32))}function VJ(n){for(;ah();)switch(qo){case n:return gc;case 34:case 39:n!==34&&n!==39&&VJ(qo);break;case 40:n===41&&VJ(n);break;case 92:ah();break}return gc}function r1t(n,o){for(;ah()&&n+qo!==47+10;)if(n+qo===42+42&&Nm()===47)break;return"/*"+jM(o,gc-1)+"*"+I9(n===47?n:ah())}function n1t(n){for(;!mM(Nm());)ah();return jM(n,gc)}function i1t(n){return Lxe(ZH("",null,null,null,[""],n=Mxe(n),0,[0],n))}function ZH(n,o,i,l,c,d,m,b,w){for(var A=0,I=0,N=m,R=0,D=0,L=0,z=1,V=1,te=1,fe=0,Y="",q=c,K=d,ce=l,re=Y;V;)switch(L=fe,fe=ah()){case 40:if(L!=108&&sl(re,N-1)==58){zJ(re+=qi(qH(fe),"&","&\f"),"&\f")!=-1&&(te=-1);break}case 34:case 39:case 91:re+=qH(fe);break;case 9:case 10:case 13:case 32:re+=e1t(L);break;case 92:re+=t1t(YH()-1,7);continue;case 47:switch(Nm()){case 42:case 47:CH(a1t(r1t(ah(),YH()),o,i),w);break;default:re+="/"}break;case 123*z:b[A++]=bm(re)*te;case 125*z:case 59:case 0:switch(fe){case 0:case 125:V=0;case 59+I:te==-1&&(re=qi(re,/\f/g,"")),D>0&&bm(re)-N&&CH(D>32?H_e(re+";",l,i,N-1):H_e(qi(re," ","")+";",l,i,N-2),w);break;case 59:re+=";";default:if(CH(ce=B_e(re,o,i,A,I,c,b,Y,q=[],K=[],N),d),fe===123)if(I===0)ZH(re,o,ce,ce,q,d,N,b,K);else switch(R===99&&sl(re,3)===110?100:R){case 100:case 108:case 109:case 115:ZH(n,ce,ce,l&&CH(B_e(n,ce,ce,0,0,c,b,Y,c,q=[],N),K),c,K,N,b,l?q:K);break;default:ZH(re,ce,ce,ce,[""],K,0,b,K)}}A=I=D=0,z=te=1,Y=re="",N=m;break;case 58:N=1+bm(re),D=L;default:if(z<1){if(fe==123)--z;else if(fe==125&&z++==0&&Jbt()==125)continue}switch(re+=I9(fe),fe*z){case 38:te=I>0?1:(re+="\f",-1);break;case 44:b[A++]=(bm(re)-1)*te,te=1;break;case 64:Nm()===45&&(re+=qH(ah())),R=Nm(),I=N=bm(Y=re+=n1t(YH())),fe++;break;case 45:L===45&&bm(re)==2&&(z=0)}}return d}function B_e(n,o,i,l,c,d,m,b,w,A,I){for(var N=c-1,R=c===0?d:[""],D=Nte(R),L=0,z=0,V=0;L<l;++L)for(var te=0,fe=pM(n,N+1,N=Xbt(z=m[L])),Y=n;te<D;++te)(Y=Pxe(z>0?R[te]+" "+fe:qi(fe,/&\f/g,R[te])))&&(w[V++]=Y);return O9(n,o,i,c===0?Rte:b,w,A,I)}function a1t(n,o,i){return O9(n,o,i,kte,I9(Qbt()),pM(n,2,-2),0)}function H_e(n,o,i,l){return O9(n,o,i,Pte,pM(n,0,l),pM(n,l+1,-1),l)}function Qx(n,o){for(var i="",l=Nte(n),c=0;c<l;c++)i+=o(n[c],c,n,o)||"";return i}function o1t(n,o,i,l){switch(n.type){case Wbt:if(n.children.length)break;case jbt:case Pte:return n.return=n.return||n.value;case kte:return"";case Rxe:return n.return=n.value+"{"+Qx(n.children,l)+"}";case Rte:n.value=n.props.join(",")}return bm(i=Qx(n.children,l))?n.return=n.value+"{"+i+"}":""}function s1t(n){var o=Nte(n);return function(i,l,c,d){for(var m="",b=0;b<o;b++)m+=n[b](i,l,c,d)||"";return m}}function l1t(n){var o=Object.create(null);return function(i){return o[i]===void 0&&(o[i]=n(i)),o[i]}}var u1t=function(o,i,l){for(var c=0,d=0;c=d,d=Nm(),c===38&&d===12&&(i[l]=1),!mM(d);)ah();return jM(o,gc)},c1t=function(o,i){var l=-1,c=44;do switch(mM(c)){case 0:c===38&&Nm()===12&&(i[l]=1),o[l]+=u1t(gc-1,i,l);break;case 2:o[l]+=qH(c);break;case 4:if(c===44){o[++l]=Nm()===58?"&\f":"",i[l]=o[l].length;break}default:o[l]+=I9(c)}while(c=ah());return o},h1t=function(o,i){return Lxe(c1t(Mxe(o),i))},U_e=new WeakMap,f1t=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var i=o.value,l=o.parent,c=o.column===l.column&&o.line===l.line;l.type!=="rule";)if(l=l.parent,!l)return;if(!(o.props.length===1&&i.charCodeAt(0)!==58&&!U_e.get(l))&&!c){U_e.set(o,!0);for(var d=[],m=h1t(i,d),b=l.props,w=0,A=0;w<m.length;w++)for(var I=0;I<b.length;I++,A++)o.props[A]=d[w]?m[w].replace(/&\f/g,b[I]):b[I]+" "+m[w]}}},d1t=function(o){if(o.type==="decl"){var i=o.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(o.return="",o.value="")}},p1t="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",m1t=function(o){return o.type==="comm"&&o.children.indexOf(p1t)>-1},g1t=function(o){return function(i,l,c){if(!(i.type!=="rule"||o.compat)){var d=i.value.match(/(:first|:nth|:nth-last)-child/g);if(d){for(var m=!!i.parent,b=m?i.parent.children:c,w=b.length-1;w>=0;w--){var A=b[w];if(A.line<i.line)break;if(A.column<i.column){if(m1t(A))return;break}}d.forEach(function(I){console.error('The pseudo class "'+I+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+I.split("-child")[0]+'-of-type".')})}}}},Fxe=function(o){return o.type.charCodeAt(1)===105&&o.type.charCodeAt(0)===64},v1t=function(o,i){for(var l=o-1;l>=0;l--)if(!Fxe(i[l]))return!0;return!1},G_e=function(o){o.type="",o.value="",o.return="",o.children="",o.props=""},y1t=function(o,i,l){Fxe(o)&&(o.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),G_e(o)):v1t(i,l)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),G_e(o)))};function Bxe(n,o){switch(qbt(n,o)){case 5103:return Yi+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yi+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Yi+n+UU+n+Hl+n+n;case 6828:case 4268:return Yi+n+Hl+n+n;case 6165:return Yi+n+Hl+"flex-"+n+n;case 5187:return Yi+n+qi(n,/(\w+).+(:[^]+)/,Yi+"box-$1$2"+Hl+"flex-$1$2")+n;case 5443:return Yi+n+Hl+"flex-item-"+qi(n,/flex-|-self/,"")+n;case 4675:return Yi+n+Hl+"flex-line-pack"+qi(n,/align-content|flex-|-self/,"")+n;case 5548:return Yi+n+Hl+qi(n,"shrink","negative")+n;case 5292:return Yi+n+Hl+qi(n,"basis","preferred-size")+n;case 6060:return Yi+"box-"+qi(n,"-grow","")+Yi+n+Hl+qi(n,"grow","positive")+n;case 4554:return Yi+qi(n,/([^-])(transform)/g,"$1"+Yi+"$2")+n;case 6187:return qi(qi(qi(n,/(zoom-|grab)/,Yi+"$1"),/(image-set)/,Yi+"$1"),n,"")+n;case 5495:case 3959:return qi(n,/(image-set\([^]*)/,Yi+"$1$`$1");case 4968:return qi(qi(n,/(.+:)(flex-)?(.*)/,Yi+"box-pack:$3"+Hl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yi+n+n;case 4095:case 3583:case 4068:case 2532:return qi(n,/(.+)-inline(.+)/,Yi+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bm(n)-1-o>6)switch(sl(n,o+1)){case 109:if(sl(n,o+4)!==45)break;case 102:return qi(n,/(.+:)(.+)-([^]+)/,"$1"+Yi+"$2-$3$1"+UU+(sl(n,o+3)==108?"$3":"$2-$3"))+n;case 115:return~zJ(n,"stretch")?Bxe(qi(n,"stretch","fill-available"),o)+n:n}break;case 4949:if(sl(n,o+1)!==115)break;case 6444:switch(sl(n,bm(n)-3-(~zJ(n,"!important")&&10))){case 107:return qi(n,":",":"+Yi)+n;case 101:return qi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yi+(sl(n,14)===45?"inline-":"")+"box$3$1"+Yi+"$2$3$1"+Hl+"$2box$3")+n}break;case 5936:switch(sl(n,o+11)){case 114:return Yi+n+Hl+qi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Yi+n+Hl+qi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Yi+n+Hl+qi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Yi+n+Hl+n+n}return n}var b1t=function(o,i,l,c){if(o.length>-1&&!o.return)switch(o.type){case Pte:o.return=Bxe(o.value,o.length);break;case Rxe:return Qx([v2(o,{value:qi(o.value,"@","@"+Yi)})],c);case Rte:if(o.length)return Kbt(o.props,function(d){switch(Zbt(d,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qx([v2(o,{props:[qi(d,/:(read-\w+)/,":"+UU+"$1")]})],c);case"::placeholder":return Qx([v2(o,{props:[qi(d,/:(plac\w+)/,":"+Yi+"input-$1")]}),v2(o,{props:[qi(d,/:(plac\w+)/,":"+UU+"$1")]}),v2(o,{props:[qi(d,/:(plac\w+)/,Hl+"input-$1")]})],c)}return""})}},_1t=[b1t],T1t=function(o){var i=o.key;if(!i)throw new Error(`You have to configure \`key\` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.
If multiple caches share the same key they might "fight" for each other's style elements.`);if(i==="css"){var l=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(l,function(z){var V=z.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(z),z.setAttribute("data-s",""))})}var c=o.stylisPlugins||_1t;if(/[^a-z-]/.test(i))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+i+'" was passed');var d={},m,b=[];m=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(z){for(var V=z.getAttribute("data-emotion").split(" "),te=1;te<V.length;te++)d[V[te]]=!0;b.push(z)});var w,A=[f1t,d1t];A.push(g1t({get compat(){return L.compat}}),y1t);{var I,N=[o1t,function(z){z.root||(z.return?I.insert(z.return):z.value&&z.type!==kte&&I.insert(z.value+"{}"))}],R=s1t(A.concat(c,N)),D=function(V){return Qx(i1t(V),R)};w=function(V,te,fe,Y){I=fe,te.map!==void 0&&(I={insert:function(K){fe.insert(K+te.map)}}),D(V?V+"{"+te.styles+"}":te.styles),Y&&(L.inserted[te.name]=!0)}}var L={key:i,sheet:new Vbt({key:i,container:m,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:d,registered:{},insert:w};return L.sheet.hydrate(b),L},Hxe={exports:{}},ca={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=typeof Symbol=="function"&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,l=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,d=n?Symbol.for("react.profiler"):60114,m=n?Symbol.for("react.provider"):60109,b=n?Symbol.for("react.context"):60110,w=n?Symbol.for("react.async_mode"):60111,A=n?Symbol.for("react.concurrent_mode"):60111,I=n?Symbol.for("react.forward_ref"):60112,N=n?Symbol.for("react.suspense"):60113,R=n?Symbol.for("react.suspense_list"):60120,D=n?Symbol.for("react.memo"):60115,L=n?Symbol.for("react.lazy"):60116,z=n?Symbol.for("react.block"):60121,V=n?Symbol.for("react.fundamental"):60117,te=n?Symbol.for("react.responder"):60118,fe=n?Symbol.for("react.scope"):60119;function Y(Pt){return typeof Pt=="string"||typeof Pt=="function"||Pt===l||Pt===A||Pt===d||Pt===c||Pt===N||Pt===R||typeof Pt=="object"&&Pt!==null&&(Pt.$$typeof===L||Pt.$$typeof===D||Pt.$$typeof===m||Pt.$$typeof===b||Pt.$$typeof===I||Pt.$$typeof===V||Pt.$$typeof===te||Pt.$$typeof===fe||Pt.$$typeof===z)}function q(Pt){if(typeof Pt=="object"&&Pt!==null){var Dr=Pt.$$typeof;switch(Dr){case o:var Gr=Pt.type;switch(Gr){case w:case A:case l:case d:case c:case N:return Gr;default:var rn=Gr&&Gr.$$typeof;switch(rn){case b:case I:case L:case D:case m:return rn;default:return Dr}}case i:return Dr}}}var K=w,ce=A,re=b,ge=m,F=o,Te=I,Ce=l,ve=L,Ke=D,ot=i,$=d,lt=c,Tt=N,Be=!1;function qe(Pt){return Be||(Be=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),We(Pt)||q(Pt)===w}function We(Pt){return q(Pt)===A}function Ge(Pt){return q(Pt)===b}function nt(Pt){return q(Pt)===m}function St(Pt){return typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===o}function Gt(Pt){return q(Pt)===I}function Zt(Pt){return q(Pt)===l}function ir(Pt){return q(Pt)===L}function zt(Pt){return q(Pt)===D}function Qt(Pt){return q(Pt)===i}function Wt(Pt){return q(Pt)===d}function yr(Pt){return q(Pt)===c}function br(Pt){return q(Pt)===N}ca.AsyncMode=K,ca.ConcurrentMode=ce,ca.ContextConsumer=re,ca.ContextProvider=ge,ca.Element=F,ca.ForwardRef=Te,ca.Fragment=Ce,ca.Lazy=ve,ca.Memo=Ke,ca.Portal=ot,ca.Profiler=$,ca.StrictMode=lt,ca.Suspense=Tt,ca.isAsyncMode=qe,ca.isConcurrentMode=We,ca.isContextConsumer=Ge,ca.isContextProvider=nt,ca.isElement=St,ca.isForwardRef=Gt,ca.isFragment=Zt,ca.isLazy=ir,ca.isMemo=zt,ca.isPortal=Qt,ca.isProfiler=Wt,ca.isStrictMode=yr,ca.isSuspense=br,ca.isValidElementType=Y,ca.typeOf=q})();Hxe.exports=ca;var E1t=Hxe.exports,Uxe=E1t,S1t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},A1t={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gxe={};Gxe[Uxe.ForwardRef]=S1t;Gxe[Uxe.Memo]=A1t;var w1t=!0;function $xe(n,o,i){var l="";return i.split(" ").forEach(function(c){n[c]!==void 0?o.push(n[c]+";"):l+=c+" "}),l}var Mte=function(o,i,l){var c=o.key+"-"+i.name;(l===!1||w1t===!1)&&o.registered[c]===void 0&&(o.registered[c]=i.styles)},Lte=function(o,i,l){Mte(o,i,l);var c=o.key+"-"+i.name;if(o.inserted[i.name]===void 0){var d=i;do o.insert(i===d?"."+c:"",d,o.sheet,!0),d=d.next;while(d!==void 0)}};function C1t(n){for(var o=0,i,l=0,c=n.length;c>=4;++l,c-=4)i=n.charCodeAt(l)&255|(n.charCodeAt(++l)&255)<<8|(n.charCodeAt(++l)&255)<<16|(n.charCodeAt(++l)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,o=(i&65535)*1540483477+((i>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(c){case 3:o^=(n.charCodeAt(l+2)&255)<<16;case 2:o^=(n.charCodeAt(l+1)&255)<<8;case 1:o^=n.charCodeAt(l)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var x1t={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$_e=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,I1t="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",D1t=/[A-Z]|^ms/g,zxe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fte=function(o){return o.charCodeAt(1)===45},z_e=function(o){return o!=null&&typeof o!="boolean"},zK=l1t(function(n){return Fte(n)?n:n.replace(D1t,"-$&").toLowerCase()}),GU=function(o,i){switch(o){case"animation":case"animationName":if(typeof i=="string")return i.replace(zxe,function(l,c,d){return _m={name:c,styles:d,next:_m},c})}return x1t[o]!==1&&!Fte(o)&&typeof i=="number"&&i!==0?i+"px":i};{var O1t=/(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,k1t=["normal","none","initial","inherit","unset"],R1t=GU,P1t=/^-ms-/,N1t=/-(.)/g,V_e={};GU=function(o,i){if(o==="content"&&(typeof i!="string"||k1t.indexOf(i)===-1&&!O1t.test(i)&&(i.charAt(0)!==i.charAt(i.length-1)||i.charAt(0)!=='"'&&i.charAt(0)!=="'")))throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+i+"\"'`");var l=R1t(o,i);return l!==""&&!Fte(o)&&o.indexOf("-")!==-1&&V_e[o]===void 0&&(V_e[o]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+o.replace(P1t,"ms-").replace(N1t,function(c,d){return d.toUpperCase()})+"?")),l}}var Vxe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function gM(n,o,i){if(i==null)return"";if(i.__emotion_styles!==void 0){if(i.toString()==="NO_COMPONENT_SELECTOR")throw new Error(Vxe);return i}switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return _m={name:i.name,styles:i.styles,next:_m},i.name;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)_m={name:l.name,styles:l.styles,next:_m},l=l.next;var c=i.styles+";";return i.map!==void 0&&(c+=i.map),c}return M1t(n,o,i)}case"function":{if(n!==void 0){var d=_m,m=i(n);return _m=d,gM(n,o,m)}else console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break}case"string":{var b=[],w=i.replace(zxe,function(I,N,R){var D="animation"+b.length;return b.push("const "+D+" = keyframes`"+R.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+D+"}"});b.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(b,["`"+w+"`"]).join(`
`)+`

You should wrap it with \`css\` like this:

`+("css`"+w+"`"))}break}if(o==null)return i;var A=o[i];return A!==void 0?A:i}function M1t(n,o,i){var l="";if(Array.isArray(i))for(var c=0;c<i.length;c++)l+=gM(n,o,i[c])+";";else for(var d in i){var m=i[d];if(typeof m!="object")o!=null&&o[m]!==void 0?l+=d+"{"+o[m]+"}":z_e(m)&&(l+=zK(d)+":"+GU(d,m)+";");else{if(d==="NO_COMPONENT_SELECTOR")throw new Error(Vxe);if(Array.isArray(m)&&typeof m[0]=="string"&&(o==null||o[m[0]]===void 0))for(var b=0;b<m.length;b++)z_e(m[b])&&(l+=zK(d)+":"+GU(d,m[b])+";");else{var w=gM(n,o,m);switch(d){case"animation":case"animationName":{l+=zK(d)+":"+w+";";break}default:d==="undefined"&&console.error(I1t),l+=d+"{"+w+"}"}}}}return l}var j_e=/label:\s*([^\s;\n{]+)\s*(;|$)/g,jxe;jxe=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g;var _m,vM=function(o,i,l){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var c=!0,d="";_m=void 0;var m=o[0];m==null||m.raw===void 0?(c=!1,d+=gM(l,i,m)):(m[0]===void 0&&console.error($_e),d+=m[0]);for(var b=1;b<o.length;b++)d+=gM(l,i,o[b]),c&&(m[b]===void 0&&console.error($_e),d+=m[b]);var w;d=d.replace(jxe,function(R){return w=R,""}),j_e.lastIndex=0;for(var A="",I;(I=j_e.exec(d))!==null;)A+="-"+I[1];var N=C1t(d)+A;return{name:N,styles:d,map:w,next:_m,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}},L1t=function(o){return o()},Wxe=jve["useInsertionEffect"]?jve["useInsertionEffect"]:!1,Xxe=Wxe||L1t,W_e=Wxe||mr.useLayoutEffect,Bte={}.hasOwnProperty,Hte=mr.createContext(typeof HTMLElement<"u"?T1t({key:"css"}):null);Hte.displayName="EmotionCacheContext";Hte.Provider;var Ute=function(o){return mr.forwardRef(function(i,l){var c=mr.useContext(Hte);return o(i,c,l)})},k9=mr.createContext({});k9.displayName="EmotionThemeContext";var X_e=function(o){var i=o.split(".");return i[i.length-1]},F1t=function(o){var i=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(o);if(i||(i=/^([A-Za-z0-9$.]+)@/.exec(o),i))return X_e(i[1])},B1t=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),H1t=function(o){return o.replace(/\$/g,"-")},U1t=function(o){if(o)for(var i=o.split(`
`),l=0;l<i.length;l++){var c=F1t(i[l]);if(c){if(B1t.has(c))break;if(/^[A-Z]/.test(c))return H1t(c)}}},jJ="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",WJ="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",G1t=function(o,i){if(typeof i.css=="string"&&i.css.indexOf(":")!==-1)throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`"+i.css+"`");var l={};for(var c in i)Bte.call(i,c)&&(l[c]=i[c]);if(l[jJ]=o,i.css&&(typeof i.css!="object"||typeof i.css.name!="string"||i.css.name.indexOf("-")===-1)){var d=U1t(new Error().stack);d&&(l[WJ]=d)}return l},$1t=function(o){var i=o.cache,l=o.serialized,c=o.isStringTag;return Mte(i,l,c),Xxe(function(){return Lte(i,l,c)}),null},Yxe=Ute(function(n,o,i){var l=n.css;typeof l=="string"&&o.registered[l]!==void 0&&(l=o.registered[l]);var c=n[jJ],d=[l],m="";typeof n.className=="string"?m=$xe(o.registered,d,n.className):n.className!=null&&(m=n.className+" ");var b=vM(d,void 0,mr.useContext(k9));if(b.name.indexOf("-")===-1){var w=n[WJ];w&&(b=vM([b,"label:"+w+";"]))}m+=o.key+"-"+b.name;var A={};for(var I in n)Bte.call(n,I)&&I!=="css"&&I!==jJ&&I!==WJ&&(A[I]=n[I]);return A.ref=i,A.className=m,mr.createElement(mr.Fragment,null,mr.createElement($1t,{cache:o,serialized:b,isStringTag:typeof c=="string"}),mr.createElement(c,A))});Yxe.displayName="EmotionCssPropInternal";var z1t=Yxe,V1t={name:"@emotion/react",version:"11.11.1",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.*"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.11.0","@emotion/cache":"^11.11.0","@emotion/serialize":"^1.1.2","@emotion/use-insertion-effect-with-fallbacks":"^1.0.1","@emotion/utils":"^1.2.1","@emotion/weak-memoize":"^0.3.1","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.11.0","@emotion/css-prettifier":"1.1.3","@emotion/server":"11.11.0","@emotion/styled":"11.11.0","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}}}}},An=function(o,i){var l=arguments;if(i==null||!Bte.call(i,"css"))return mr.createElement.apply(void 0,l);var c=l.length,d=new Array(c);d[0]=z1t,d[1]=G1t(o,i);for(var m=2;m<c;m++)d[m]=l[m];return mr.createElement.apply(null,d)},Y_e=!1,j1t=Ute(function(n,o){!Y_e&&(n.className||n.css)&&(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),Y_e=!0);var i=n.styles,l=vM([i],void 0,mr.useContext(k9)),c=mr.useRef();return W_e(function(){var d=o.key+"-global",m=new o.sheet.constructor({key:d,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),b=!1,w=document.querySelector('style[data-emotion="'+d+" "+l.name+'"]');return o.sheet.tags.length&&(m.before=o.sheet.tags[0]),w!==null&&(b=!0,w.setAttribute("data-emotion",d),m.hydrate([w])),c.current=[m,b],function(){m.flush()}},[o]),W_e(function(){var d=c.current,m=d[0],b=d[1];if(b){d[1]=!1;return}if(l.next!==void 0&&Lte(o,l.next,!0),m.tags.length){var w=m.tags[m.tags.length-1].nextElementSibling;m.before=w,m.flush()}o.insert("",l,m,!1)},[o,l.name]),null});j1t.displayName="EmotionGlobal";function Gte(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return vM(o)}var W1t=function(){var o=Gte.apply(void 0,arguments),i="animation-"+o.name;return{name:i,styles:"@keyframes "+i+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},X1t=function n(o){for(var i=o.length,l=0,c="";l<i;l++){var d=o[l];if(d!=null){var m=void 0;switch(typeof d){case"boolean":break;case"object":{if(Array.isArray(d))m=n(d);else{d.styles!==void 0&&d.name!==void 0&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),m="";for(var b in d)d[b]&&b&&(m&&(m+=" "),m+=b)}break}default:m=d}m&&(c&&(c+=" "),c+=m)}}return c};function Y1t(n,o,i){var l=[],c=$xe(n,l,i);return l.length<2?i:c+o(l)}var q1t=function(o){var i=o.cache,l=o.serializedArr;return Xxe(function(){for(var c=0;c<l.length;c++)Lte(i,l[c],!1)}),null},Z1t=Ute(function(n,o){var i=!1,l=[],c=function(){if(i)throw new Error("css can only be used during render");for(var A=arguments.length,I=new Array(A),N=0;N<A;N++)I[N]=arguments[N];var R=vM(I,o.registered);return l.push(R),Mte(o,R,!1),o.key+"-"+R.name},d=function(){if(i)throw new Error("cx can only be used during render");for(var A=arguments.length,I=new Array(A),N=0;N<A;N++)I[N]=arguments[N];return Y1t(o.registered,c,X1t(I))},m={css:c,cx:d,theme:mr.useContext(k9)},b=n.children(m);return i=!0,mr.createElement(mr.Fragment,null,mr.createElement(q1t,{cache:o,serializedArr:l}),b)});Z1t.displayName="EmotionClassNames";{var q_e=!0,K1t=typeof jest<"u"||typeof vi<"u";if(q_e&&!K1t){var Z_e=typeof globalThis<"u"?globalThis:q_e?window:global,K_e="__EMOTION_REACT_"+V1t.version.split(".")[0]+"__";Z_e[K_e]&&console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."),Z_e[K_e]=!0}}function Q1t(n,o){return o||(o=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))}const J1t=Math.min,e_t=Math.max,$U=Math.round,xH=Math.floor,zU=n=>({x:n,y:n});function t_t(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function qxe(n){return Kxe(n)?(n.nodeName||"").toLowerCase():"#document"}function kd(n){var o;return(n==null||(o=n.ownerDocument)==null?void 0:o.defaultView)||window}function Zxe(n){var o;return(o=(Kxe(n)?n.ownerDocument:n.document)||window.document)==null?void 0:o.documentElement}function Kxe(n){return n instanceof Node||n instanceof kd(n).Node}function XJ(n){return n instanceof Element||n instanceof kd(n).Element}function $te(n){return n instanceof HTMLElement||n instanceof kd(n).HTMLElement}function Q_e(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof kd(n).ShadowRoot}function Qxe(n){const{overflow:o,overflowX:i,overflowY:l,display:c}=zte(n);return/auto|scroll|overlay|hidden|clip/.test(o+l+i)&&!["inline","contents"].includes(c)}function r_t(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function n_t(n){return["html","body","#document"].includes(qxe(n))}function zte(n){return kd(n).getComputedStyle(n)}function i_t(n){if(qxe(n)==="html")return n;const o=n.assignedSlot||n.parentNode||Q_e(n)&&n.host||Zxe(n);return Q_e(o)?o.host:o}function Jxe(n){const o=i_t(n);return n_t(o)?n.ownerDocument?n.ownerDocument.body:n.body:$te(o)&&Qxe(o)?o:Jxe(o)}function YJ(n,o){var i;o===void 0&&(o=[]);const l=Jxe(n),c=l===((i=n.ownerDocument)==null?void 0:i.body),d=kd(l);return c?o.concat(d,d.visualViewport||[],Qxe(l)?l:[]):o.concat(l,YJ(l))}function a_t(n){const o=zte(n);let i=parseFloat(o.width)||0,l=parseFloat(o.height)||0;const c=$te(n),d=c?n.offsetWidth:i,m=c?n.offsetHeight:l,b=$U(i)!==d||$U(l)!==m;return b&&(i=d,l=m),{width:i,height:l,$:b}}function Vte(n){return XJ(n)?n:n.contextElement}function VK(n){const o=Vte(n);if(!$te(o))return zU(1);const i=o.getBoundingClientRect(),{width:l,height:c,$:d}=a_t(o);let m=(d?$U(i.width):i.width)/l,b=(d?$U(i.height):i.height)/c;return(!m||!Number.isFinite(m))&&(m=1),(!b||!Number.isFinite(b))&&(b=1),{x:m,y:b}}const o_t=zU(0);function s_t(n){const o=kd(n);return!r_t()||!o.visualViewport?o_t:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function l_t(n,o,i){return o===void 0&&(o=!1),!i||o&&i!==kd(n)?!1:o}function J_e(n,o,i,l){o===void 0&&(o=!1),i===void 0&&(i=!1);const c=n.getBoundingClientRect(),d=Vte(n);let m=zU(1);o&&(l?XJ(l)&&(m=VK(l)):m=VK(n));const b=l_t(d,i,l)?s_t(d):zU(0);let w=(c.left+b.x)/m.x,A=(c.top+b.y)/m.y,I=c.width/m.x,N=c.height/m.y;if(d){const R=kd(d),D=l&&XJ(l)?kd(l):l;let L=R.frameElement;for(;L&&l&&D!==R;){const z=VK(L),V=L.getBoundingClientRect(),te=zte(L),fe=V.left+(L.clientLeft+parseFloat(te.paddingLeft))*z.x,Y=V.top+(L.clientTop+parseFloat(te.paddingTop))*z.y;w*=z.x,A*=z.y,I*=z.x,N*=z.y,w+=fe,A+=Y,L=kd(L).frameElement}}return t_t({width:I,height:N,x:w,y:A})}function u_t(n,o){let i=null,l;const c=Zxe(n);function d(){clearTimeout(l),i&&i.disconnect(),i=null}function m(b,w){b===void 0&&(b=!1),w===void 0&&(w=1),d();const{left:A,top:I,width:N,height:R}=n.getBoundingClientRect();if(b||o(),!N||!R)return;const D=xH(I),L=xH(c.clientWidth-(A+N)),z=xH(c.clientHeight-(I+R)),V=xH(A),fe={rootMargin:-D+"px "+-L+"px "+-z+"px "+-V+"px",threshold:e_t(0,J1t(1,w))||1};let Y=!0;function q(K){const ce=K[0].intersectionRatio;if(ce!==w){if(!Y)return m();ce?m(!1,ce):l=setTimeout(()=>{m(!1,1e-7)},100)}Y=!1}try{i=new IntersectionObserver(q,{...fe,root:c.ownerDocument})}catch{i=new IntersectionObserver(q,fe)}i.observe(n)}return m(!0),d}function c_t(n,o,i,l){l===void 0&&(l={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:w=!1}=l,A=Vte(n),I=c||d?[...A?YJ(A):[],...YJ(o)]:[];I.forEach(te=>{c&&te.addEventListener("scroll",i,{passive:!0}),d&&te.addEventListener("resize",i)});const N=A&&b?u_t(A,i):null;let R=-1,D=null;m&&(D=new ResizeObserver(te=>{let[fe]=te;fe&&fe.target===A&&D&&(D.unobserve(o),cancelAnimationFrame(R),R=requestAnimationFrame(()=>{D&&D.observe(o)})),i()}),A&&!w&&D.observe(A),D.observe(o));let L,z=w?J_e(n):null;w&&V();function V(){const te=J_e(n);z&&(te.x!==z.x||te.y!==z.y||te.width!==z.width||te.height!==z.height)&&i(),z=te,L=requestAnimationFrame(V)}return i(),()=>{I.forEach(te=>{c&&te.removeEventListener("scroll",i),d&&te.removeEventListener("resize",i)}),N&&N(),D&&D.disconnect(),D=null,w&&cancelAnimationFrame(L)}}var qJ=mr.useLayoutEffect,h_t=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],VU=function(){};function f_t(n,o){return o?o[0]==="-"?n+o:n+"__"+o:n}function d_t(n,o){for(var i=arguments.length,l=new Array(i>2?i-2:0),c=2;c<i;c++)l[c-2]=arguments[c];var d=[].concat(l);if(o&&n)for(var m in o)o.hasOwnProperty(m)&&o[m]&&d.push("".concat(f_t(n,m)));return d.filter(function(b){return b}).map(function(b){return String(b).trim()}).join(" ")}var eTe=function(o){return E_t(o)?o.filter(Boolean):dE(o)==="object"&&o!==null?[o]:[]},eIe=function(o){o.className,o.clearValue,o.cx,o.getStyles,o.getClassNames,o.getValue,o.hasValue,o.isMulti,o.isRtl,o.options,o.selectOption,o.selectProps,o.setValue,o.theme;var i=Vv(o,h_t);return _n({},i)},wo=function(o,i,l){var c=o.cx,d=o.getStyles,m=o.getClassNames,b=o.className;return{css:d(i,o),className:c(l??{},m(i,o),b)}};function R9(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function p_t(n){return R9(n)?window.innerHeight:n.clientHeight}function tIe(n){return R9(n)?window.pageYOffset:n.scrollTop}function jU(n,o){if(R9(n)){window.scrollTo(0,o);return}n.scrollTop=o}function m_t(n){var o=getComputedStyle(n),i=o.position==="absolute",l=/(auto|scroll)/;if(o.position==="fixed")return document.documentElement;for(var c=n;c=c.parentElement;)if(o=getComputedStyle(c),!(i&&o.position==="static")&&l.test(o.overflow+o.overflowY+o.overflowX))return c;return document.documentElement}function g_t(n,o,i,l){return i*((n=n/l-1)*n*n+1)+o}function IH(n,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:VU,c=tIe(n),d=o-c,m=10,b=0;function w(){b+=m;var A=g_t(b,c,d,i);jU(n,A),b<i?window.requestAnimationFrame(w):l(n)}w()}function tTe(n,o){var i=n.getBoundingClientRect(),l=o.getBoundingClientRect(),c=o.offsetHeight/3;l.bottom+c>i.bottom?jU(n,Math.min(o.offsetTop+o.clientHeight-n.offsetHeight+c,n.scrollHeight)):l.top-c<i.top&&jU(n,Math.max(o.offsetTop-c,0))}function v_t(n){var o=n.getBoundingClientRect();return{bottom:o.bottom,height:o.height,left:o.left,right:o.right,top:o.top,width:o.width}}function rTe(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function y_t(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rIe=!1,b_t={get passive(){return rIe=!0}},DH=typeof window<"u"?window:{};DH.addEventListener&&DH.removeEventListener&&(DH.addEventListener("p",VU,b_t),DH.removeEventListener("p",VU,!1));var __t=rIe;function T_t(n){return n!=null}function E_t(n){return Array.isArray(n)}function OH(n,o,i){return n?o:i}var S_t=function(o){for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];var d=Object.entries(o).filter(function(m){var b=Mv(m,1),w=b[0];return!l.includes(w)});return d.reduce(function(m,b){var w=Mv(b,2),A=w[0],I=w[1];return m[A]=I,m},{})},A_t=["children","innerProps"],w_t=["children","innerProps"];function C_t(n){var o=n.maxHeight,i=n.menuEl,l=n.minHeight,c=n.placement,d=n.shouldScroll,m=n.isFixedPosition,b=n.controlHeight,w=m_t(i),A={placement:"bottom",maxHeight:o};if(!i||!i.offsetParent)return A;var I=w.getBoundingClientRect(),N=I.height,R=i.getBoundingClientRect(),D=R.bottom,L=R.height,z=R.top,V=i.offsetParent.getBoundingClientRect(),te=V.top,fe=m?window.innerHeight:p_t(w),Y=tIe(w),q=parseInt(getComputedStyle(i).marginBottom,10),K=parseInt(getComputedStyle(i).marginTop,10),ce=te-K,re=fe-z,ge=ce+Y,F=N-Y-z,Te=D-fe+Y+q,Ce=Y+z-K,ve=160;switch(c){case"auto":case"bottom":if(re>=L)return{placement:"bottom",maxHeight:o};if(F>=L&&!m)return d&&IH(w,Te,ve),{placement:"bottom",maxHeight:o};if(!m&&F>=l||m&&re>=l){d&&IH(w,Te,ve);var Ke=m?re-q:F-q;return{placement:"bottom",maxHeight:Ke}}if(c==="auto"||m){var ot=o,$=m?ce:ge;return $>=l&&(ot=Math.min($-q-b,o)),{placement:"top",maxHeight:ot}}if(c==="bottom")return d&&jU(w,Te),{placement:"bottom",maxHeight:o};break;case"top":if(ce>=L)return{placement:"top",maxHeight:o};if(ge>=L&&!m)return d&&IH(w,Ce,ve),{placement:"top",maxHeight:o};if(!m&&ge>=l||m&&ce>=l){var lt=o;return(!m&&ge>=l||m&&ce>=l)&&(lt=m?ce-K:ge-K),d&&IH(w,Ce,ve),{placement:"top",maxHeight:lt}}return{placement:"bottom",maxHeight:o};default:throw new Error('Invalid placement provided "'.concat(c,'".'))}return A}function x_t(n){var o={bottom:"top",top:"bottom"};return n?o[n]:"bottom"}var nIe=function(o){return o==="auto"?"bottom":o},I_t=function(o,i){var l,c=o.placement,d=o.theme,m=d.borderRadius,b=d.spacing,w=d.colors;return _n((l={label:"menu"},C2(l,x_t(c),"100%"),C2(l,"position","absolute"),C2(l,"width","100%"),C2(l,"zIndex",1),l),i?{}:{backgroundColor:w.neutral0,borderRadius:m,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:b.menuGutter,marginTop:b.menuGutter})},iIe=mr.createContext(null),D_t=function(o){var i=o.children,l=o.minMenuHeight,c=o.maxMenuHeight,d=o.menuPlacement,m=o.menuPosition,b=o.menuShouldScrollIntoView,w=o.theme,A=mr.useContext(iIe)||{},I=A.setPortalPlacement,N=mr.useRef(null),R=mr.useState(c),D=Mv(R,2),L=D[0],z=D[1],V=mr.useState(null),te=Mv(V,2),fe=te[0],Y=te[1],q=w.spacing.controlHeight;return qJ(function(){var K=N.current;if(K){var ce=m==="fixed",re=b&&!ce,ge=C_t({maxHeight:c,menuEl:K,minHeight:l,placement:d,shouldScroll:re,isFixedPosition:ce,controlHeight:q});z(ge.maxHeight),Y(ge.placement),I==null||I(ge.placement)}},[c,d,m,b,l,I,q]),i({ref:N,placerProps:_n(_n({},o),{},{placement:fe||nIe(d),maxHeight:L})})},O_t=function(o){var i=o.children,l=o.innerRef,c=o.innerProps;return An("div",xn({},wo(o,"menu",{menu:!0}),{ref:l},c),i)},k_t=O_t,R_t=function(o,i){var l=o.maxHeight,c=o.theme.spacing.baseUnit;return _n({maxHeight:l,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},i?{}:{paddingBottom:c,paddingTop:c})},P_t=function(o){var i=o.children,l=o.innerProps,c=o.innerRef,d=o.isMulti;return An("div",xn({},wo(o,"menuList",{"menu-list":!0,"menu-list--is-multi":d}),{ref:c},l),i)},aIe=function(o,i){var l=o.theme,c=l.spacing.baseUnit,d=l.colors;return _n({textAlign:"center"},i?{}:{color:d.neutral40,padding:"".concat(c*2,"px ").concat(c*3,"px")})},N_t=aIe,M_t=aIe,L_t=function(o){var i=o.children,l=i===void 0?"No options":i,c=o.innerProps,d=Vv(o,A_t);return An("div",xn({},wo(_n(_n({},d),{},{children:l,innerProps:c}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),c),l)},F_t=function(o){var i=o.children,l=i===void 0?"Loading...":i,c=o.innerProps,d=Vv(o,w_t);return An("div",xn({},wo(_n(_n({},d),{},{children:l,innerProps:c}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),c),l)},B_t=function(o){var i=o.rect,l=o.offset,c=o.position;return{left:i.left,position:c,top:l,width:i.width,zIndex:1}},H_t=function(o){var i=o.appendTo,l=o.children,c=o.controlElement,d=o.innerProps,m=o.menuPlacement,b=o.menuPosition,w=mr.useRef(null),A=mr.useRef(null),I=mr.useState(nIe(m)),N=Mv(I,2),R=N[0],D=N[1],L=mr.useMemo(function(){return{setPortalPlacement:D}},[]),z=mr.useState(null),V=Mv(z,2),te=V[0],fe=V[1],Y=mr.useCallback(function(){if(c){var re=v_t(c),ge=b==="fixed"?0:window.pageYOffset,F=re[R]+ge;(F!==(te==null?void 0:te.offset)||re.left!==(te==null?void 0:te.rect.left)||re.width!==(te==null?void 0:te.rect.width))&&fe({offset:F,rect:re})}},[c,b,R,te==null?void 0:te.offset,te==null?void 0:te.rect.left,te==null?void 0:te.rect.width]);qJ(function(){Y()},[Y]);var q=mr.useCallback(function(){typeof A.current=="function"&&(A.current(),A.current=null),c&&w.current&&(A.current=c_t(c,w.current,Y,{elementResize:"ResizeObserver"in window}))},[c,Y]);qJ(function(){q()},[q]);var K=mr.useCallback(function(re){w.current=re,q()},[q]);if(!i&&b!=="fixed"||!te)return null;var ce=An("div",xn({ref:K},wo(_n(_n({},o),{},{offset:te.offset,position:b,rect:te.rect}),"menuPortal",{"menu-portal":!0}),d),l);return An(iIe.Provider,{value:L},i?hee.createPortal(ce,i):ce)},U_t=function(o){var i=o.isDisabled,l=o.isRtl;return{label:"container",direction:l?"rtl":void 0,pointerEvents:i?"none":void 0,position:"relative"}},G_t=function(o){var i=o.children,l=o.innerProps,c=o.isDisabled,d=o.isRtl;return An("div",xn({},wo(o,"container",{"--is-disabled":c,"--is-rtl":d}),l),i)},$_t=function(o,i){var l=o.theme.spacing,c=o.isMulti,d=o.hasValue,m=o.selectProps.controlShouldRenderValue;return _n({alignItems:"center",display:c&&d&&m?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},i?{}:{padding:"".concat(l.baseUnit/2,"px ").concat(l.baseUnit*2,"px")})},z_t=function(o){var i=o.children,l=o.innerProps,c=o.isMulti,d=o.hasValue;return An("div",xn({},wo(o,"valueContainer",{"value-container":!0,"value-container--is-multi":c,"value-container--has-value":d}),l),i)},V_t=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},j_t=function(o){var i=o.children,l=o.innerProps;return An("div",xn({},wo(o,"indicatorsContainer",{indicators:!0}),l),i)},nTe,W_t=["size"],X_t=["innerProps","isRtl","size"];function Y_t(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var q_t={name:"tj5bde-Svg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;label:Svg;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4LCBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmltcG9ydCB7XG4gIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lLFxuICBDU1NPYmplY3RXaXRoTGFiZWwsXG4gIEdyb3VwQmFzZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3R5bGVQcm9wcyB9IGZyb20gJy4uL3V0aWxzJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEcm9wZG93biAmIENsZWFyIEljb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgU3ZnID0gKHtcbiAgc2l6ZSxcbiAgLi4ucHJvcHNcbn06IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICBoZWlnaHQ9e3NpemV9XG4gICAgd2lkdGg9e3NpemV9XG4gICAgdmlld0JveD1cIjAgMCAyMCAyMFwiXG4gICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICBmb2N1c2FibGU9XCJmYWxzZVwiXG4gICAgY3NzPXt7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGZpbGw6ICdjdXJyZW50Q29sb3InLFxuICAgICAgbGluZUhlaWdodDogMSxcbiAgICAgIHN0cm9rZTogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBzdHJva2VXaWR0aDogMCxcbiAgICB9fVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbik7XG5cbmV4cG9ydCB0eXBlIENyb3NzSWNvblByb3BzID0gSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZT86IG51bWJlciB9O1xuZXhwb3J0IGNvbnN0IENyb3NzSWNvbiA9IChwcm9wczogQ3Jvc3NJY29uUHJvcHMpID0+IChcbiAgPFN2ZyBzaXplPXsyMH0gey4uLnByb3BzfT5cbiAgICA8cGF0aCBkPVwiTTE0LjM0OCAxNC44NDljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDBsLTIuNjUxLTMuMDMwLTIuNjUxIDMuMDI5Yy0wLjQ2OSAwLjQ2OS0xLjIyOSAwLjQ2OS0xLjY5NyAwLTAuNDY5LTAuNDY5LTAuNDY5LTEuMjI5IDAtMS42OTdsMi43NTgtMy4xNS0yLjc1OS0zLjE1MmMtMC40NjktMC40NjktMC40NjktMS4yMjggMC0xLjY5N3MxLjIyOC0wLjQ2OSAxLjY5NyAwbDIuNjUyIDMuMDMxIDIuNjUxLTMuMDMxYzAuNDY5LTAuNDY5IDEuMjI4LTAuNDY5IDEuNjk3IDBzMC40NjkgMS4yMjkgMCAxLjY5N2wtMi43NTggMy4xNTIgMi43NTggMy4xNWMwLjQ2OSAwLjQ2OSAwLjQ2OSAxLjIyOSAwIDEuNjk4elwiIC8+XG4gIDwvU3ZnPlxuKTtcbmV4cG9ydCB0eXBlIERvd25DaGV2cm9uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgRG93bkNoZXZyb24gPSAocHJvcHM6IERvd25DaGV2cm9uUHJvcHMpID0+IChcbiAgPFN2ZyBzaXplPXsyMH0gey4uLnByb3BzfT5cbiAgICA8cGF0aCBkPVwiTTQuNTE2IDcuNTQ4YzAuNDM2LTAuNDQ2IDEuMDQzLTAuNDgxIDEuNTc2IDBsMy45MDggMy43NDcgMy45MDgtMy43NDdjMC41MzMtMC40ODEgMS4xNDEtMC40NDYgMS41NzQgMCAwLjQzNiAwLjQ0NSAwLjQwOCAxLjE5NyAwIDEuNjE1LTAuNDA2IDAuNDE4LTQuNjk1IDQuNTAyLTQuNjk1IDQuNTAyLTAuMjE3IDAuMjIzLTAuNTAyIDAuMzM1LTAuNzg3IDAuMzM1cy0wLjU3LTAuMTEyLTAuNzg5LTAuMzM1YzAgMC00LjI4Ny00LjA4NC00LjY5NS00LjUwMnMtMC40MzYtMS4xNyAwLTEuNjE1elwiIC8+XG4gIDwvU3ZnPlxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEcm9wZG93biAmIENsZWFyIEJ1dHRvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xufVxuXG5jb25zdCBiYXNlQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNGb2N1c2VkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTpcbiAgICB8IERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbiAgICB8IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JDb250YWluZXInLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICAgICc6aG92ZXInOiB7XG4gICAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsODAgOiBjb2xvcnMubmV1dHJhbDQwLFxuICAgICAgICB9LFxuICAgICAgfSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGRyb3Bkb3duSW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBEcm9wZG93bkluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICB7Li4uZ2V0U3R5bGVQcm9wcyhwcm9wcywgJ2Ryb3Bkb3duSW5kaWNhdG9yJywge1xuICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICdkcm9wZG93bi1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgfSl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPERvd25DaGV2cm9uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDbGVhckluZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFRoZSBjaGlsZHJlbiB0byBiZSByZW5kZXJlZCBpbnNpZGUgdGhlIGluZGljYXRvci4gKi9cbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFySW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBDbGVhckluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICB7Li4uZ2V0U3R5bGVQcm9wcyhwcm9wcywgJ2NsZWFySW5kaWNhdG9yJywge1xuICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICdjbGVhci1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgfSl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPENyb3NzSWNvbiAvPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VwYXJhdG9yXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgaW5uZXJQcm9wcz86IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3BhbiddO1xufVxuXG5leHBvcnQgY29uc3QgaW5kaWNhdG9yU2VwYXJhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNEaXNhYmxlZCxcbiAgICB0aGVtZToge1xuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgICAgY29sb3JzLFxuICAgIH0sXG4gIH06IEluZGljYXRvclNlcGFyYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+LFxuICB1bnN0eWxlZDogYm9vbGVhblxuKTogQ1NTT2JqZWN0V2l0aExhYmVsID0+ICh7XG4gIGxhYmVsOiAnaW5kaWNhdG9yU2VwYXJhdG9yJyxcbiAgYWxpZ25TZWxmOiAnc3RyZXRjaCcsXG4gIHdpZHRoOiAxLFxuICAuLi4odW5zdHlsZWRcbiAgICA/IHt9XG4gICAgOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNEaXNhYmxlZCA/IGNvbG9ycy5uZXV0cmFsMTAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBtYXJnaW5Cb3R0b206IGJhc2VVbml0ICogMixcbiAgICAgICAgbWFyZ2luVG9wOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgSW5kaWNhdG9yU2VwYXJhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnaW5kaWNhdG9yU2VwYXJhdG9yJywge1xuICAgICAgICAnaW5kaWNhdG9yLXNlcGFyYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAvPlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMb2FkaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgbG9hZGluZ0RvdEFuaW1hdGlvbnMgPSBrZXlmcmFtZXNgXG4gIDAlLCA4MCUsIDEwMCUgeyBvcGFjaXR5OiAwOyB9XG4gIDQwJSB7IG9wYWNpdHk6IDE7IH1cbmA7XG5cbmV4cG9ydCBjb25zdCBsb2FkaW5nSW5kaWNhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNGb2N1c2VkLFxuICAgIHNpemUsXG4gICAgdGhlbWU6IHtcbiAgICAgIGNvbG9ycyxcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICB9LFxuICB9OiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdsb2FkaW5nSW5kaWNhdG9yJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICB0cmFuc2l0aW9uOiAnY29sb3IgMTUwbXMnLFxuICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICBmb250U2l6ZTogc2l6ZSxcbiAgbGluZUhlaWdodDogMSxcbiAgbWFyZ2luUmlnaHQ6IHNpemUsXG4gIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAuLi4odW5zdHlsZWRcbiAgICA/IHt9XG4gICAgOiB7XG4gICAgICAgIGNvbG9yOiBpc0ZvY3VzZWQgPyBjb2xvcnMubmV1dHJhbDYwIDogY29sb3JzLm5ldXRyYWwyMCxcbiAgICAgICAgcGFkZGluZzogYmFzZVVuaXQgKiAyLFxuICAgICAgfSksXG59KTtcblxuaW50ZXJmYWNlIExvYWRpbmdEb3RQcm9wcyB7XG4gIGRlbGF5OiBudW1iZXI7XG4gIG9mZnNldDogYm9vbGVhbjtcbn1cbmNvbnN0IExvYWRpbmdEb3QgPSAoeyBkZWxheSwgb2Zmc2V0IH06IExvYWRpbmdEb3RQcm9wcykgPT4gKFxuICA8c3BhblxuICAgIGNzcz17e1xuICAgICAgYW5pbWF0aW9uOiBgJHtsb2FkaW5nRG90QW5pbWF0aW9uc30gMXMgZWFzZS1pbi1vdXQgJHtkZWxheX1tcyBpbmZpbml0ZTtgLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnY3VycmVudENvbG9yJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzFlbScsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIG1hcmdpbkxlZnQ6IG9mZnNldCA/ICcxZW0nIDogdW5kZWZpbmVkLFxuICAgICAgaGVpZ2h0OiAnMWVtJyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgICAgd2lkdGg6ICcxZW0nLFxuICAgIH19XG4gIC8+XG4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgLyoqIFNldCBzaXplIG9mIHRoZSBjb250YWluZXIuICovXG4gIHNpemU6IG51bWJlcjtcbn1cbmV4cG9ydCBjb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KHtcbiAgaW5uZXJQcm9wcyxcbiAgaXNSdGwsXG4gIHNpemUgPSA0LFxuICAuLi5yZXN0UHJvcHNcbn06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKFxuICAgICAgICB7IC4uLnJlc3RQcm9wcywgaW5uZXJQcm9wcywgaXNSdGwsIHNpemUgfSxcbiAgICAgICAgJ2xvYWRpbmdJbmRpY2F0b3InLFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdsb2FkaW5nLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MH0gb2Zmc2V0PXtpc1J0bH0gLz5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXsxNjB9IG9mZnNldCAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezMyMH0gb2Zmc2V0PXshaXNSdGx9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl19 */",toString:Y_t},oIe=function(o){var i=o.size,l=Vv(o,W_t);return An("svg",xn({height:i,width:i,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:q_t},l))},jte=function(o){return An(oIe,xn({size:20},o),An("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sIe=function(o){return An(oIe,xn({size:20},o),An("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lIe=function(o,i){var l=o.isFocused,c=o.theme,d=c.spacing.baseUnit,m=c.colors;return _n({label:"indicatorContainer",display:"flex",transition:"color 150ms"},i?{}:{color:l?m.neutral60:m.neutral20,padding:d*2,":hover":{color:l?m.neutral80:m.neutral40}})},Z_t=lIe,K_t=function(o){var i=o.children,l=o.innerProps;return An("div",xn({},wo(o,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),l),i||An(sIe,null))},Q_t=lIe,J_t=function(o){var i=o.children,l=o.innerProps;return An("div",xn({},wo(o,"clearIndicator",{indicator:!0,"clear-indicator":!0}),l),i||An(jte,null))},eTt=function(o,i){var l=o.isDisabled,c=o.theme,d=c.spacing.baseUnit,m=c.colors;return _n({label:"indicatorSeparator",alignSelf:"stretch",width:1},i?{}:{backgroundColor:l?m.neutral10:m.neutral20,marginBottom:d*2,marginTop:d*2})},tTt=function(o){var i=o.innerProps;return An("span",xn({},i,wo(o,"indicatorSeparator",{"indicator-separator":!0})))},rTt=W1t(nTe||(nTe=Q1t([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),nTt=function(o,i){var l=o.isFocused,c=o.size,d=o.theme,m=d.colors,b=d.spacing.baseUnit;return _n({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:c,lineHeight:1,marginRight:c,textAlign:"center",verticalAlign:"middle"},i?{}:{color:l?m.neutral60:m.neutral20,padding:b*2})},jK=function(o){var i=o.delay,l=o.offset;return An("span",{css:Gte({animation:"".concat(rTt," 1s ease-in-out ").concat(i,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:l?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},";label:LoadingDot;","/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1RSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4LCBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmltcG9ydCB7XG4gIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lLFxuICBDU1NPYmplY3RXaXRoTGFiZWwsXG4gIEdyb3VwQmFzZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3R5bGVQcm9wcyB9IGZyb20gJy4uL3V0aWxzJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEcm9wZG93biAmIENsZWFyIEljb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgU3ZnID0gKHtcbiAgc2l6ZSxcbiAgLi4ucHJvcHNcbn06IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICBoZWlnaHQ9e3NpemV9XG4gICAgd2lkdGg9e3NpemV9XG4gICAgdmlld0JveD1cIjAgMCAyMCAyMFwiXG4gICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICBmb2N1c2FibGU9XCJmYWxzZVwiXG4gICAgY3NzPXt7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGZpbGw6ICdjdXJyZW50Q29sb3InLFxuICAgICAgbGluZUhlaWdodDogMSxcbiAgICAgIHN0cm9rZTogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBzdHJva2VXaWR0aDogMCxcbiAgICB9fVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbik7XG5cbmV4cG9ydCB0eXBlIENyb3NzSWNvblByb3BzID0gSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZT86IG51bWJlciB9O1xuZXhwb3J0IGNvbnN0IENyb3NzSWNvbiA9IChwcm9wczogQ3Jvc3NJY29uUHJvcHMpID0+IChcbiAgPFN2ZyBzaXplPXsyMH0gey4uLnByb3BzfT5cbiAgICA8cGF0aCBkPVwiTTE0LjM0OCAxNC44NDljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDBsLTIuNjUxLTMuMDMwLTIuNjUxIDMuMDI5Yy0wLjQ2OSAwLjQ2OS0xLjIyOSAwLjQ2OS0xLjY5NyAwLTAuNDY5LTAuNDY5LTAuNDY5LTEuMjI5IDAtMS42OTdsMi43NTgtMy4xNS0yLjc1OS0zLjE1MmMtMC40NjktMC40NjktMC40NjktMS4yMjggMC0xLjY5N3MxLjIyOC0wLjQ2OSAxLjY5NyAwbDIuNjUyIDMuMDMxIDIuNjUxLTMuMDMxYzAuNDY5LTAuNDY5IDEuMjI4LTAuNDY5IDEuNjk3IDBzMC40NjkgMS4yMjkgMCAxLjY5N2wtMi43NTggMy4xNTIgMi43NTggMy4xNWMwLjQ2OSAwLjQ2OSAwLjQ2OSAxLjIyOSAwIDEuNjk4elwiIC8+XG4gIDwvU3ZnPlxuKTtcbmV4cG9ydCB0eXBlIERvd25DaGV2cm9uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgRG93bkNoZXZyb24gPSAocHJvcHM6IERvd25DaGV2cm9uUHJvcHMpID0+IChcbiAgPFN2ZyBzaXplPXsyMH0gey4uLnByb3BzfT5cbiAgICA8cGF0aCBkPVwiTTQuNTE2IDcuNTQ4YzAuNDM2LTAuNDQ2IDEuMDQzLTAuNDgxIDEuNTc2IDBsMy45MDggMy43NDcgMy45MDgtMy43NDdjMC41MzMtMC40ODEgMS4xNDEtMC40NDYgMS41NzQgMCAwLjQzNiAwLjQ0NSAwLjQwOCAxLjE5NyAwIDEuNjE1LTAuNDA2IDAuNDE4LTQuNjk1IDQuNTAyLTQuNjk1IDQuNTAyLTAuMjE3IDAuMjIzLTAuNTAyIDAuMzM1LTAuNzg3IDAuMzM1cy0wLjU3LTAuMTEyLTAuNzg5LTAuMzM1YzAgMC00LjI4Ny00LjA4NC00LjY5NS00LjUwMnMtMC40MzYtMS4xNyAwLTEuNjE1elwiIC8+XG4gIDwvU3ZnPlxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEcm9wZG93biAmIENsZWFyIEJ1dHRvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xufVxuXG5jb25zdCBiYXNlQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNGb2N1c2VkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTpcbiAgICB8IERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbiAgICB8IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JDb250YWluZXInLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICAgICc6aG92ZXInOiB7XG4gICAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsODAgOiBjb2xvcnMubmV1dHJhbDQwLFxuICAgICAgICB9LFxuICAgICAgfSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGRyb3Bkb3duSW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBEcm9wZG93bkluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IERyb3Bkb3duSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICB7Li4uZ2V0U3R5bGVQcm9wcyhwcm9wcywgJ2Ryb3Bkb3duSW5kaWNhdG9yJywge1xuICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICdkcm9wZG93bi1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgfSl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPERvd25DaGV2cm9uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDbGVhckluZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFRoZSBjaGlsZHJlbiB0byBiZSByZW5kZXJlZCBpbnNpZGUgdGhlIGluZGljYXRvci4gKi9cbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFySW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBDbGVhckluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICB7Li4uZ2V0U3R5bGVQcm9wcyhwcm9wcywgJ2NsZWFySW5kaWNhdG9yJywge1xuICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICdjbGVhci1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgfSl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPENyb3NzSWNvbiAvPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VwYXJhdG9yXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgaW5uZXJQcm9wcz86IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3BhbiddO1xufVxuXG5leHBvcnQgY29uc3QgaW5kaWNhdG9yU2VwYXJhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNEaXNhYmxlZCxcbiAgICB0aGVtZToge1xuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgICAgY29sb3JzLFxuICAgIH0sXG4gIH06IEluZGljYXRvclNlcGFyYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+LFxuICB1bnN0eWxlZDogYm9vbGVhblxuKTogQ1NTT2JqZWN0V2l0aExhYmVsID0+ICh7XG4gIGxhYmVsOiAnaW5kaWNhdG9yU2VwYXJhdG9yJyxcbiAgYWxpZ25TZWxmOiAnc3RyZXRjaCcsXG4gIHdpZHRoOiAxLFxuICAuLi4odW5zdHlsZWRcbiAgICA/IHt9XG4gICAgOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNEaXNhYmxlZCA/IGNvbG9ycy5uZXV0cmFsMTAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBtYXJnaW5Cb3R0b206IGJhc2VVbml0ICogMixcbiAgICAgICAgbWFyZ2luVG9wOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgSW5kaWNhdG9yU2VwYXJhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnaW5kaWNhdG9yU2VwYXJhdG9yJywge1xuICAgICAgICAnaW5kaWNhdG9yLXNlcGFyYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAvPlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMb2FkaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgbG9hZGluZ0RvdEFuaW1hdGlvbnMgPSBrZXlmcmFtZXNgXG4gIDAlLCA4MCUsIDEwMCUgeyBvcGFjaXR5OiAwOyB9XG4gIDQwJSB7IG9wYWNpdHk6IDE7IH1cbmA7XG5cbmV4cG9ydCBjb25zdCBsb2FkaW5nSW5kaWNhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICB7XG4gICAgaXNGb2N1c2VkLFxuICAgIHNpemUsXG4gICAgdGhlbWU6IHtcbiAgICAgIGNvbG9ycyxcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICB9LFxuICB9OiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdsb2FkaW5nSW5kaWNhdG9yJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICB0cmFuc2l0aW9uOiAnY29sb3IgMTUwbXMnLFxuICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICBmb250U2l6ZTogc2l6ZSxcbiAgbGluZUhlaWdodDogMSxcbiAgbWFyZ2luUmlnaHQ6IHNpemUsXG4gIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAuLi4odW5zdHlsZWRcbiAgICA/IHt9XG4gICAgOiB7XG4gICAgICAgIGNvbG9yOiBpc0ZvY3VzZWQgPyBjb2xvcnMubmV1dHJhbDYwIDogY29sb3JzLm5ldXRyYWwyMCxcbiAgICAgICAgcGFkZGluZzogYmFzZVVuaXQgKiAyLFxuICAgICAgfSksXG59KTtcblxuaW50ZXJmYWNlIExvYWRpbmdEb3RQcm9wcyB7XG4gIGRlbGF5OiBudW1iZXI7XG4gIG9mZnNldDogYm9vbGVhbjtcbn1cbmNvbnN0IExvYWRpbmdEb3QgPSAoeyBkZWxheSwgb2Zmc2V0IH06IExvYWRpbmdEb3RQcm9wcykgPT4gKFxuICA8c3BhblxuICAgIGNzcz17e1xuICAgICAgYW5pbWF0aW9uOiBgJHtsb2FkaW5nRG90QW5pbWF0aW9uc30gMXMgZWFzZS1pbi1vdXQgJHtkZWxheX1tcyBpbmZpbml0ZTtgLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnY3VycmVudENvbG9yJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzFlbScsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIG1hcmdpbkxlZnQ6IG9mZnNldCA/ICcxZW0nIDogdW5kZWZpbmVkLFxuICAgICAgaGVpZ2h0OiAnMWVtJyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgICAgd2lkdGg6ICcxZW0nLFxuICAgIH19XG4gIC8+XG4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgLyoqIFNldCBzaXplIG9mIHRoZSBjb250YWluZXIuICovXG4gIHNpemU6IG51bWJlcjtcbn1cbmV4cG9ydCBjb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KHtcbiAgaW5uZXJQcm9wcyxcbiAgaXNSdGwsXG4gIHNpemUgPSA0LFxuICAuLi5yZXN0UHJvcHNcbn06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKFxuICAgICAgICB7IC4uLnJlc3RQcm9wcywgaW5uZXJQcm9wcywgaXNSdGwsIHNpemUgfSxcbiAgICAgICAgJ2xvYWRpbmdJbmRpY2F0b3InLFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdsb2FkaW5nLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MH0gb2Zmc2V0PXtpc1J0bH0gLz5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXsxNjB9IG9mZnNldCAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezMyMH0gb2Zmc2V0PXshaXNSdGx9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl19 */")})},iTt=function(o){var i=o.innerProps,l=o.isRtl,c=o.size,d=c===void 0?4:c,m=Vv(o,X_t);return An("div",xn({},wo(_n(_n({},m),{},{innerProps:i,isRtl:l,size:d}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),i),An(jK,{delay:0,offset:l}),An(jK,{delay:160,offset:!0}),An(jK,{delay:320,offset:!l}))},aTt=function(o,i){var l=o.isDisabled,c=o.isFocused,d=o.theme,m=d.colors,b=d.borderRadius,w=d.spacing;return _n({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:w.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},i?{}:{backgroundColor:l?m.neutral5:m.neutral0,borderColor:l?m.neutral10:c?m.primary:m.neutral20,borderRadius:b,borderStyle:"solid",borderWidth:1,boxShadow:c?"0 0 0 1px ".concat(m.primary):void 0,"&:hover":{borderColor:c?m.primary:m.neutral30}})},oTt=function(o){var i=o.children,l=o.isDisabled,c=o.isFocused,d=o.innerRef,m=o.innerProps,b=o.menuIsOpen;return An("div",xn({ref:d},wo(o,"control",{control:!0,"control--is-disabled":l,"control--is-focused":c,"control--menu-is-open":b}),m),i)},sTt=oTt,lTt=["data"],uTt=function(o,i){var l=o.theme.spacing;return i?{}:{paddingBottom:l.baseUnit*2,paddingTop:l.baseUnit*2}},cTt=function(o){var i=o.children,l=o.cx,c=o.getStyles,d=o.getClassNames,m=o.Heading,b=o.headingProps,w=o.innerProps,A=o.label,I=o.theme,N=o.selectProps;return An("div",xn({},wo(o,"group",{group:!0}),w),An(m,xn({},b,{selectProps:N,theme:I,getStyles:c,getClassNames:d,cx:l}),A),An("div",null,i))},hTt=function(o,i){var l=o.theme,c=l.colors,d=l.spacing;return _n({label:"group",cursor:"default",display:"block"},i?{}:{color:c.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:d.baseUnit*3,paddingRight:d.baseUnit*3,textTransform:"uppercase"})},fTt=function(o){var i=eIe(o);i.data;var l=Vv(i,lTt);return An("div",xn({},wo(o,"groupHeading",{"group-heading":!0}),l))},dTt=cTt,pTt=["innerRef","isDisabled","isHidden","inputClassName"],mTt=function(o,i){var l=o.isDisabled,c=o.value,d=o.theme,m=d.spacing,b=d.colors;return _n(_n({visibility:l?"hidden":"visible",transform:c?"translateZ(0)":""},gTt),i?{}:{margin:m.baseUnit/2,paddingBottom:m.baseUnit/2,paddingTop:m.baseUnit/2,color:b.neutral80})},uIe={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},gTt={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_n({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uIe)},vTt=function(o){return _n({label:"input",color:"inherit",background:0,opacity:o?0:1,width:"100%"},uIe)},yTt=function(o){var i=o.cx,l=o.value,c=eIe(o),d=c.innerRef,m=c.isDisabled,b=c.isHidden,w=c.inputClassName,A=Vv(c,pTt);return An("div",xn({},wo(o,"input",{"input-container":!0}),{"data-value":l||""}),An("input",xn({className:i({input:!0},w),ref:d,style:vTt(b),disabled:m},A)))},bTt=yTt,_Tt=function(o,i){var l=o.theme,c=l.spacing,d=l.borderRadius,m=l.colors;return _n({label:"multiValue",display:"flex",minWidth:0},i?{}:{backgroundColor:m.neutral10,borderRadius:d/2,margin:c.baseUnit/2})},TTt=function(o,i){var l=o.theme,c=l.borderRadius,d=l.colors,m=o.cropWithEllipsis;return _n({overflow:"hidden",textOverflow:m||m===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},i?{}:{borderRadius:c/2,color:d.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ETt=function(o,i){var l=o.theme,c=l.spacing,d=l.borderRadius,m=l.colors,b=o.isFocused;return _n({alignItems:"center",display:"flex"},i?{}:{borderRadius:d/2,backgroundColor:b?m.dangerLight:void 0,paddingLeft:c.baseUnit,paddingRight:c.baseUnit,":hover":{backgroundColor:m.dangerLight,color:m.danger}})},cIe=function(o){var i=o.children,l=o.innerProps;return An("div",l,i)},STt=cIe,ATt=cIe;function wTt(n){var o=n.children,i=n.innerProps;return An("div",xn({role:"button"},i),o||An(jte,{size:14}))}var CTt=function(o){var i=o.children,l=o.components,c=o.data,d=o.innerProps,m=o.isDisabled,b=o.removeProps,w=o.selectProps,A=l.Container,I=l.Label,N=l.Remove;return An(A,{data:c,innerProps:_n(_n({},wo(o,"multiValue",{"multi-value":!0,"multi-value--is-disabled":m})),d),selectProps:w},An(I,{data:c,innerProps:_n({},wo(o,"multiValueLabel",{"multi-value__label":!0})),selectProps:w},i),An(N,{data:c,innerProps:_n(_n({},wo(o,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(i||"option")},b),selectProps:w}))},xTt=CTt,ITt=function(o,i){var l=o.isDisabled,c=o.isFocused,d=o.isSelected,m=o.theme,b=m.spacing,w=m.colors;return _n({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},i?{}:{backgroundColor:d?w.primary:c?w.primary25:"transparent",color:l?w.neutral20:d?w.neutral0:"inherit",padding:"".concat(b.baseUnit*2,"px ").concat(b.baseUnit*3,"px"),":active":{backgroundColor:l?void 0:d?w.primary:w.primary50}})},DTt=function(o){var i=o.children,l=o.isDisabled,c=o.isFocused,d=o.isSelected,m=o.innerRef,b=o.innerProps;return An("div",xn({},wo(o,"option",{option:!0,"option--is-disabled":l,"option--is-focused":c,"option--is-selected":d}),{ref:m,"aria-disabled":l},b),i)},OTt=DTt,kTt=function(o,i){var l=o.theme,c=l.spacing,d=l.colors;return _n({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},i?{}:{color:d.neutral50,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},RTt=function(o){var i=o.children,l=o.innerProps;return An("div",xn({},wo(o,"placeholder",{placeholder:!0}),l),i)},PTt=RTt,NTt=function(o,i){var l=o.isDisabled,c=o.theme,d=c.spacing,m=c.colors;return _n({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i?{}:{color:l?m.neutral40:m.neutral80,marginLeft:d.baseUnit/2,marginRight:d.baseUnit/2})},MTt=function(o){var i=o.children,l=o.isDisabled,c=o.innerProps;return An("div",xn({},wo(o,"singleValue",{"single-value":!0,"single-value--is-disabled":l}),c),i)},LTt=MTt,FTt={ClearIndicator:J_t,Control:sTt,DropdownIndicator:K_t,DownChevron:sIe,CrossIcon:jte,Group:dTt,GroupHeading:fTt,IndicatorsContainer:j_t,IndicatorSeparator:tTt,Input:bTt,LoadingIndicator:iTt,Menu:k_t,MenuList:P_t,MenuPortal:H_t,LoadingMessage:F_t,NoOptionsMessage:L_t,MultiValue:xTt,MultiValueContainer:STt,MultiValueLabel:ATt,MultiValueRemove:wTt,Option:OTt,Placeholder:PTt,SelectContainer:G_t,SingleValue:LTt,ValueContainer:z_t},BTt=function(o){return _n(_n({},FTt),o.components)},iTe=Number.isNaN||function(o){return typeof o=="number"&&o!==o};function HTt(n,o){return!!(n===o||iTe(n)&&iTe(o))}function UTt(n,o){if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!HTt(n[i],o[i]))return!1;return!0}function GTt(n,o){o===void 0&&(o=UTt);var i=null;function l(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(i&&i.lastThis===this&&o(c,i.lastArgs))return i.lastResult;var m=n.apply(this,c);return i={lastResult:m,lastArgs:c,lastThis:this},m}return l.clear=function(){i=null},l}function $Tt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var zTt={name:"1f43avz-a11yText-A11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;label:A11yText;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkExMXlUZXh0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNSSIsImZpbGUiOiJBMTF5VGV4dC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IGpzeCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuLy8gQXNzaXN0aXZlIHRleHQgdG8gZGVzY3JpYmUgdmlzdWFsIGVsZW1lbnRzLiBIaWRkZW4gZm9yIHNpZ2h0ZWQgdXNlcnMuXG5jb25zdCBBMTF5VGV4dCA9IChwcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ10pID0+IChcbiAgPHNwYW5cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAnYTExeVRleHQnLFxuICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY2xpcDogJ3JlY3QoMXB4LCAxcHgsIDFweCwgMXB4KScsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICB3aWR0aDogMSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQTExeVRleHQ7XG4iXX0= */",toString:$Tt},VTt=function(o){return An("span",xn({css:zTt},o))},aTe=VTt,jTt={guidance:function(o){var i=o.isSearchable,l=o.isMulti,c=o.isDisabled,d=o.tabSelectsValue,m=o.context;switch(m){case"menu":return"Use Up and Down to choose options".concat(c?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(d?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(o["aria-label"]||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(l?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(o){var i=o.action,l=o.label,c=l===void 0?"":l,d=o.labels,m=o.isDisabled;switch(i){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(c,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(d.length>1?"s":""," ").concat(d.join(","),", selected.");case"select-option":return m?"option ".concat(c," is disabled. Select another option."):"option ".concat(c,", selected.");default:return""}},onFocus:function(o){var i=o.context,l=o.focused,c=o.options,d=o.label,m=d===void 0?"":d,b=o.selectValue,w=o.isDisabled,A=o.isSelected,I=function(L,z){return L&&L.length?"".concat(L.indexOf(z)+1," of ").concat(L.length):""};if(i==="value"&&b)return"value ".concat(m," focused, ").concat(I(b,l),".");if(i==="menu"){var N=w?" disabled":"",R="".concat(A?"selected":"focused").concat(N);return"option ".concat(m," ").concat(R,", ").concat(I(c,l),".")}return""},onFilter:function(o){var i=o.inputValue,l=o.resultsMessage;return"".concat(l).concat(i?" for search term "+i:"",".")}},WTt=function(o){var i=o.ariaSelection,l=o.focusedOption,c=o.focusedValue,d=o.focusableOptions,m=o.isFocused,b=o.selectValue,w=o.selectProps,A=o.id,I=w.ariaLiveMessages,N=w.getOptionLabel,R=w.inputValue,D=w.isMulti,L=w.isOptionDisabled,z=w.isSearchable,V=w.menuIsOpen,te=w.options,fe=w.screenReaderStatus,Y=w.tabSelectsValue,q=w["aria-label"],K=w["aria-live"],ce=mr.useMemo(function(){return _n(_n({},jTt),I||{})},[I]),re=mr.useMemo(function(){var ot="";if(i&&ce.onChange){var $=i.option,lt=i.options,Tt=i.removedValue,Be=i.removedValues,qe=i.value,We=function(zt){return Array.isArray(zt)?null:zt},Ge=Tt||$||We(qe),nt=Ge?N(Ge):"",St=lt||Be||void 0,Gt=St?St.map(N):[],Zt=_n({isDisabled:Ge&&L(Ge,b),label:nt,labels:Gt},i);ot=ce.onChange(Zt)}return ot},[i,ce,L,b,N]),ge=mr.useMemo(function(){var ot="",$=l||c,lt=!!(l&&b&&b.includes(l));if($&&ce.onFocus){var Tt={focused:$,label:N($),isDisabled:L($,b),isSelected:lt,options:d,context:$===l?"menu":"value",selectValue:b};ot=ce.onFocus(Tt)}return ot},[l,c,N,L,ce,d,b]),F=mr.useMemo(function(){var ot="";if(V&&te.length&&ce.onFilter){var $=fe({count:d.length});ot=ce.onFilter({inputValue:R,resultsMessage:$})}return ot},[d,R,V,ce,te,fe]),Te=mr.useMemo(function(){var ot="";if(ce.guidance){var $=c?"value":V?"menu":"input";ot=ce.guidance({"aria-label":q,context:$,isDisabled:l&&L(l,b),isMulti:D,isSearchable:z,tabSelectsValue:Y})}return ot},[q,l,c,D,L,z,V,ce,b,Y]),Ce="".concat(ge," ").concat(F," ").concat(Te),ve=An(mr.Fragment,null,An("span",{id:"aria-selection"},re),An("span",{id:"aria-context"},Ce)),Ke=(i==null?void 0:i.action)==="initial-input-focus";return An(mr.Fragment,null,An(aTe,{id:A},Ke&&ve),An(aTe,{"aria-live":K,"aria-atomic":"false","aria-relevant":"additions text"},m&&!Ke&&ve))},XTt=WTt,ZJ=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],YTt=new RegExp("["+ZJ.map(function(n){return n.letters}).join("")+"]","g"),hIe={};for(var WK=0;WK<ZJ.length;WK++)for(var XK=ZJ[WK],YK=0;YK<XK.letters.length;YK++)hIe[XK.letters[YK]]=XK.base;var fIe=function(o){return o.replace(YTt,function(i){return hIe[i]})},qTt=GTt(fIe),oTe=function(o){return o.replace(/^\s+|\s+$/g,"")},ZTt=function(o){return"".concat(o.label," ").concat(o.value)},KTt=function(o){return function(i,l){if(i.data.__isNew__)return!0;var c=_n({ignoreCase:!0,ignoreAccents:!0,stringify:ZTt,trim:!0,matchFrom:"any"},o),d=c.ignoreCase,m=c.ignoreAccents,b=c.stringify,w=c.trim,A=c.matchFrom,I=w?oTe(l):l,N=w?oTe(b(i)):b(i);return d&&(I=I.toLowerCase(),N=N.toLowerCase()),m&&(I=qTt(I),N=fIe(N)),A==="start"?N.substr(0,I.length)===I:N.indexOf(I)>-1}},QTt=["innerRef"];function JTt(n){var o=n.innerRef,i=Vv(n,QTt),l=S_t(i,"onExited","in","enter","exit","appear");return An("input",xn({ref:o},l,{css:Gte({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},";label:DummyInput;","/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkR1bW15SW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCTSIsImZpbGUiOiJEdW1teUlucHV0LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgcmVtb3ZlUHJvcHMgfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIER1bW15SW5wdXQoe1xuICBpbm5lclJlZixcbiAgLi4ucHJvcHNcbn06IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snaW5wdXQnXSAmIHtcbiAgcmVhZG9ubHkgaW5uZXJSZWY6IFJlZjxIVE1MSW5wdXRFbGVtZW50Pjtcbn0pIHtcbiAgLy8gUmVtb3ZlIGFuaW1hdGlvbiBwcm9wcyBub3QgbWVhbnQgZm9yIEhUTUwgZWxlbWVudHNcbiAgY29uc3QgZmlsdGVyZWRQcm9wcyA9IHJlbW92ZVByb3BzKFxuICAgIHByb3BzLFxuICAgICdvbkV4aXRlZCcsXG4gICAgJ2luJyxcbiAgICAnZW50ZXInLFxuICAgICdleGl0JyxcbiAgICAnYXBwZWFyJ1xuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGlucHV0XG4gICAgICByZWY9e2lubmVyUmVmfVxuICAgICAgey4uLmZpbHRlcmVkUHJvcHN9XG4gICAgICBjc3M9e3tcbiAgICAgICAgbGFiZWw6ICdkdW1teUlucHV0JyxcbiAgICAgICAgLy8gZ2V0IHJpZCBvZiBhbnkgZGVmYXVsdCBzdHlsZXNcbiAgICAgICAgYmFja2dyb3VuZDogMCxcbiAgICAgICAgYm9yZGVyOiAwLFxuICAgICAgICAvLyBpbXBvcnRhbnQhIHRoaXMgaGlkZXMgdGhlIGZsYXNoaW5nIGN1cnNvclxuICAgICAgICBjYXJldENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgICBncmlkQXJlYTogJzEgLyAxIC8gMiAvIDMnLFxuICAgICAgICBvdXRsaW5lOiAwLFxuICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAvLyBpbXBvcnRhbnQhIHdpdGhvdXQgYHdpZHRoYCBicm93c2VycyB3b24ndCBhbGxvdyBmb2N1c1xuICAgICAgICB3aWR0aDogMSxcblxuICAgICAgICAvLyByZW1vdmUgY3Vyc29yIG9uIGRlc2t0b3BcbiAgICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCcsXG5cbiAgICAgICAgLy8gcmVtb3ZlIGN1cnNvciBvbiBtb2JpbGUgd2hpbHN0IG1haW50YWluaW5nIFwic2Nyb2xsIGludG8gdmlld1wiIGJlaGF2aW91clxuICAgICAgICBsZWZ0OiAtMTAwLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoLjAxKScsXG4gICAgICB9fVxuICAgIC8+XG4gICk7XG59XG4iXX0= */")}))}var eEt=function(o){o.preventDefault(),o.stopPropagation()};function tEt(n){var o=n.isEnabled,i=n.onBottomArrive,l=n.onBottomLeave,c=n.onTopArrive,d=n.onTopLeave,m=mr.useRef(!1),b=mr.useRef(!1),w=mr.useRef(0),A=mr.useRef(null),I=mr.useCallback(function(V,te){if(A.current!==null){var fe=A.current,Y=fe.scrollTop,q=fe.scrollHeight,K=fe.clientHeight,ce=A.current,re=te>0,ge=q-K-Y,F=!1;ge>te&&m.current&&(l&&l(V),m.current=!1),re&&b.current&&(d&&d(V),b.current=!1),re&&te>ge?(i&&!m.current&&i(V),ce.scrollTop=q,F=!0,m.current=!0):!re&&-te>Y&&(c&&!b.current&&c(V),ce.scrollTop=0,F=!0,b.current=!0),F&&eEt(V)}},[i,l,c,d]),N=mr.useCallback(function(V){I(V,V.deltaY)},[I]),R=mr.useCallback(function(V){w.current=V.changedTouches[0].clientY},[]),D=mr.useCallback(function(V){var te=w.current-V.changedTouches[0].clientY;I(V,te)},[I]),L=mr.useCallback(function(V){if(V){var te=__t?{passive:!1}:!1;V.addEventListener("wheel",N,te),V.addEventListener("touchstart",R,te),V.addEventListener("touchmove",D,te)}},[D,R,N]),z=mr.useCallback(function(V){V&&(V.removeEventListener("wheel",N,!1),V.removeEventListener("touchstart",R,!1),V.removeEventListener("touchmove",D,!1))},[D,R,N]);return mr.useEffect(function(){if(o){var V=A.current;return L(V),function(){z(V)}}},[o,L,z]),function(V){A.current=V}}var sTe=["boxSizing","height","overflow","paddingRight","position"],lTe={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uTe(n){n.preventDefault()}function cTe(n){n.stopPropagation()}function hTe(){var n=this.scrollTop,o=this.scrollHeight,i=n+this.offsetHeight;n===0?this.scrollTop=1:i===o&&(this.scrollTop=n-1)}function fTe(){return"ontouchstart"in window||navigator.maxTouchPoints}var dTe=!!(typeof window<"u"&&window.document&&window.document.createElement),y2=0,Nx={capture:!1,passive:!1};function rEt(n){var o=n.isEnabled,i=n.accountForScrollbars,l=i===void 0?!0:i,c=mr.useRef({}),d=mr.useRef(null),m=mr.useCallback(function(w){if(dTe){var A=document.body,I=A&&A.style;if(l&&sTe.forEach(function(L){var z=I&&I[L];c.current[L]=z}),l&&y2<1){var N=parseInt(c.current.paddingRight,10)||0,R=document.body?document.body.clientWidth:0,D=window.innerWidth-R+N||0;Object.keys(lTe).forEach(function(L){var z=lTe[L];I&&(I[L]=z)}),I&&(I.paddingRight="".concat(D,"px"))}A&&fTe()&&(A.addEventListener("touchmove",uTe,Nx),w&&(w.addEventListener("touchstart",hTe,Nx),w.addEventListener("touchmove",cTe,Nx))),y2+=1}},[l]),b=mr.useCallback(function(w){if(dTe){var A=document.body,I=A&&A.style;y2=Math.max(y2-1,0),l&&y2<1&&sTe.forEach(function(N){var R=c.current[N];I&&(I[N]=R)}),A&&fTe()&&(A.removeEventListener("touchmove",uTe,Nx),w&&(w.removeEventListener("touchstart",hTe,Nx),w.removeEventListener("touchmove",cTe,Nx)))}},[l]);return mr.useEffect(function(){if(o){var w=d.current;return m(w),function(){b(w)}}},[o,m,b]),function(w){d.current=w}}function nEt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var iEt=function(){return document.activeElement&&document.activeElement.blur()},aEt={name:"bp8cua-ScrollManager",styles:"position:fixed;left:0;bottom:0;right:0;top:0;label:ScrollManager;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbE1hbmFnZXIudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStDVSIsImZpbGUiOiJTY3JvbGxNYW5hZ2VyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIFJlYWN0RWxlbWVudCwgUmVmQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU2Nyb2xsQ2FwdHVyZSBmcm9tICcuL3VzZVNjcm9sbENhcHR1cmUnO1xuaW1wb3J0IHVzZVNjcm9sbExvY2sgZnJvbSAnLi91c2VTY3JvbGxMb2NrJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcmVhZG9ubHkgY2hpbGRyZW46IChyZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PikgPT4gUmVhY3RFbGVtZW50O1xuICByZWFkb25seSBsb2NrRW5hYmxlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY2FwdHVyZUVuYWJsZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IG9uQm90dG9tQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Cb3R0b21MZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG9uVG9wQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Ub3BMZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGJsdXJTZWxlY3RJbnB1dCA9ICgpID0+XG4gIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmJsdXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2Nyb2xsTWFuYWdlcih7XG4gIGNoaWxkcmVuLFxuICBsb2NrRW5hYmxlZCxcbiAgY2FwdHVyZUVuYWJsZWQgPSB0cnVlLFxuICBvbkJvdHRvbUFycml2ZSxcbiAgb25Cb3R0b21MZWF2ZSxcbiAgb25Ub3BBcnJpdmUsXG4gIG9uVG9wTGVhdmUsXG59OiBQcm9wcykge1xuICBjb25zdCBzZXRTY3JvbGxDYXB0dXJlVGFyZ2V0ID0gdXNlU2Nyb2xsQ2FwdHVyZSh7XG4gICAgaXNFbmFibGVkOiBjYXB0dXJlRW5hYmxlZCxcbiAgICBvbkJvdHRvbUFycml2ZSxcbiAgICBvbkJvdHRvbUxlYXZlLFxuICAgIG9uVG9wQXJyaXZlLFxuICAgIG9uVG9wTGVhdmUsXG4gIH0pO1xuICBjb25zdCBzZXRTY3JvbGxMb2NrVGFyZ2V0ID0gdXNlU2Nyb2xsTG9jayh7IGlzRW5hYmxlZDogbG9ja0VuYWJsZWQgfSk7XG5cbiAgY29uc3QgdGFyZ2V0UmVmOiBSZWZDYWxsYmFjazxIVE1MRWxlbWVudD4gPSAoZWxlbWVudCkgPT4ge1xuICAgIHNldFNjcm9sbENhcHR1cmVUYXJnZXQoZWxlbWVudCk7XG4gICAgc2V0U2Nyb2xsTG9ja1RhcmdldChlbGVtZW50KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxGcmFnbWVudD5cbiAgICAgIHtsb2NrRW5hYmxlZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBvbkNsaWNrPXtibHVyU2VsZWN0SW5wdXR9XG4gICAgICAgICAgY3NzPXt7IHBvc2l0aW9uOiAnZml4ZWQnLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwLCB0b3A6IDAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7Y2hpbGRyZW4odGFyZ2V0UmVmKX1cbiAgICA8L0ZyYWdtZW50PlxuICApO1xufVxuIl19 */",toString:nEt};function oEt(n){var o=n.children,i=n.lockEnabled,l=n.captureEnabled,c=l===void 0?!0:l,d=n.onBottomArrive,m=n.onBottomLeave,b=n.onTopArrive,w=n.onTopLeave,A=tEt({isEnabled:c,onBottomArrive:d,onBottomLeave:m,onTopArrive:b,onTopLeave:w}),I=rEt({isEnabled:i}),N=function(D){A(D),I(D)};return An(mr.Fragment,null,i&&An("div",{onClick:iEt,css:aEt}),o(N))}function sEt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var lEt={name:"5kkxb2-requiredInput-RequiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%;label:RequiredInput;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkSW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNJIiwiZmlsZSI6IlJlcXVpcmVkSW5wdXQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBGb2N1c0V2ZW50SGFuZGxlciwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IFJlcXVpcmVkSW5wdXQ6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgcmVhZG9ubHkgbmFtZT86IHN0cmluZztcbiAgcmVhZG9ubHkgb25Gb2N1czogRm9jdXNFdmVudEhhbmRsZXI8SFRNTElucHV0RWxlbWVudD47XG59PiA9ICh7IG5hbWUsIG9uRm9jdXMgfSkgPT4gKFxuICA8aW5wdXRcbiAgICByZXF1aXJlZFxuICAgIG5hbWU9e25hbWV9XG4gICAgdGFiSW5kZXg9ey0xfVxuICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAncmVxdWlyZWRJbnB1dCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH19XG4gICAgLy8gUHJldmVudCBgU3dpdGNoaW5nIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWRgIGVycm9yXG4gICAgdmFsdWU9XCJcIlxuICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgLz5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJlcXVpcmVkSW5wdXQ7XG4iXX0= */",toString:sEt},uEt=function(o){var i=o.name,l=o.onFocus;return An("input",{required:!0,name:i,tabIndex:-1,"aria-hidden":"true",onFocus:l,css:lEt,value:"",onChange:function(){}})},cEt=uEt,hEt=function(o){return o.label},fEt=function(o){return o.label},dEt=function(o){return o.value},pEt=function(o){return!!o.isDisabled},mEt={clearIndicator:Q_t,container:U_t,control:aTt,dropdownIndicator:Z_t,group:uTt,groupHeading:hTt,indicatorsContainer:V_t,indicatorSeparator:eTt,input:mTt,loadingIndicator:nTt,loadingMessage:M_t,menu:I_t,menuList:R_t,menuPortal:B_t,multiValue:_Tt,multiValueLabel:TTt,multiValueRemove:ETt,noOptionsMessage:N_t,option:ITt,placeholder:kTt,singleValue:NTt,valueContainer:$_t},gEt={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vEt=4,dIe=4,yEt=38,bEt=dIe*2,_Et={baseUnit:dIe,controlHeight:yEt,menuGutter:bEt},qK={borderRadius:vEt,colors:gEt,spacing:_Et},TEt={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:rTe(),captureMenuScroll:!rTe(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:KTt(),formatGroupLabel:hEt,getOptionLabel:fEt,getOptionValue:dEt,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:pEt,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!y_t(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(o){var i=o.count;return"".concat(i," result").concat(i!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function pTe(n,o,i,l){var c=vIe(n,o,i),d=yIe(n,o,i),m=gIe(n,o),b=WU(n,o);return{type:"option",data:o,isDisabled:c,isSelected:d,label:m,value:b,index:l}}function pIe(n,o){return n.options.map(function(i,l){if("options"in i){var c=i.options.map(function(m,b){return pTe(n,m,o,b)}).filter(function(m){return mTe(n,m)});return c.length>0?{type:"group",data:i,options:c,index:l}:void 0}var d=pTe(n,i,o,l);return mTe(n,d)?d:void 0}).filter(T_t)}function mIe(n){return n.reduce(function(o,i){return i.type==="group"?o.push.apply(o,kxe(i.options.map(function(l){return l.data}))):o.push(i.data),o},[])}function EEt(n,o){return mIe(pIe(n,o))}function mTe(n,o){var i=n.inputValue,l=i===void 0?"":i,c=o.data,d=o.isSelected,m=o.label,b=o.value;return(!_Ie(n)||!d)&&bIe(n,{label:m,value:b,data:c},l)}function SEt(n,o){var i=n.focusedValue,l=n.selectValue,c=l.indexOf(i);if(c>-1){var d=o.indexOf(i);if(d>-1)return i;if(c<o.length)return o[c]}return null}function AEt(n,o){var i=n.focusedOption;return i&&o.indexOf(i)>-1?i:o[0]}var gIe=function(o,i){return o.getOptionLabel(i)},WU=function(o,i){return o.getOptionValue(i)};function vIe(n,o,i){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(o,i):!1}function yIe(n,o,i){if(i.indexOf(o)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(o,i);var l=WU(n,o);return i.some(function(c){return WU(n,c)===l})}function bIe(n,o,i){return n.filterOption?n.filterOption(o,i):!0}var _Ie=function(o){var i=o.hideSelectedOptions,l=o.isMulti;return i===void 0?l:i},wEt=1,TIe=function(n){Nbt(i,n);var o=Bbt(i);function i(l){var c;if(Rbt(this,i),c=o.call(this,l),c.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},c.blockOptionHover=!1,c.isComposing=!1,c.commonProps=void 0,c.initialTouchX=0,c.initialTouchY=0,c.instancePrefix="",c.openAfterFocus=!1,c.scrollToFocusedOptionOnUpdate=!1,c.userIsDragging=void 0,c.controlRef=null,c.getControlRef=function(b){c.controlRef=b},c.focusedOptionRef=null,c.getFocusedOptionRef=function(b){c.focusedOptionRef=b},c.menuListRef=null,c.getMenuListRef=function(b){c.menuListRef=b},c.inputRef=null,c.getInputRef=function(b){c.inputRef=b},c.focus=c.focusInput,c.blur=c.blurInput,c.onChange=function(b,w){var A=c.props,I=A.onChange,N=A.name;w.name=N,c.ariaOnChange(b,w),I(b,w)},c.setValue=function(b,w,A){var I=c.props,N=I.closeMenuOnSelect,R=I.isMulti,D=I.inputValue;c.onInputChange("",{action:"set-value",prevInputValue:D}),N&&(c.setState({inputIsHiddenAfterUpdate:!R}),c.onMenuClose()),c.setState({clearFocusValueOnUpdate:!0}),c.onChange(b,{action:w,option:A})},c.selectOption=function(b){var w=c.props,A=w.blurInputOnSelect,I=w.isMulti,N=w.name,R=c.state.selectValue,D=I&&c.isOptionSelected(b,R),L=c.isOptionDisabled(b,R);if(D){var z=c.getOptionValue(b);c.setValue(R.filter(function(V){return c.getOptionValue(V)!==z}),"deselect-option",b)}else if(!L)I?c.setValue([].concat(kxe(R),[b]),"select-option",b):c.setValue(b,"select-option");else{c.ariaOnChange(b,{action:"select-option",option:b,name:N});return}A&&c.blurInput()},c.removeValue=function(b){var w=c.props.isMulti,A=c.state.selectValue,I=c.getOptionValue(b),N=A.filter(function(D){return c.getOptionValue(D)!==I}),R=OH(w,N,N[0]||null);c.onChange(R,{action:"remove-value",removedValue:b}),c.focusInput()},c.clearValue=function(){var b=c.state.selectValue;c.onChange(OH(c.props.isMulti,[],null),{action:"clear",removedValues:b})},c.popValue=function(){var b=c.props.isMulti,w=c.state.selectValue,A=w[w.length-1],I=w.slice(0,w.length-1),N=OH(b,I,I[0]||null);c.onChange(N,{action:"pop-value",removedValue:A})},c.getValue=function(){return c.state.selectValue},c.cx=function(){for(var b=arguments.length,w=new Array(b),A=0;A<b;A++)w[A]=arguments[A];return d_t.apply(void 0,[c.props.classNamePrefix].concat(w))},c.getOptionLabel=function(b){return gIe(c.props,b)},c.getOptionValue=function(b){return WU(c.props,b)},c.getStyles=function(b,w){var A=c.props.unstyled,I=mEt[b](w,A);I.boxSizing="border-box";var N=c.props.styles[b];return N?N(I,w):I},c.getClassNames=function(b,w){var A,I;return(A=(I=c.props.classNames)[b])===null||A===void 0?void 0:A.call(I,w)},c.getElementId=function(b){return"".concat(c.instancePrefix,"-").concat(b)},c.getComponents=function(){return BTt(c.props)},c.buildCategorizedOptions=function(){return pIe(c.props,c.state.selectValue)},c.getCategorizedOptions=function(){return c.props.menuIsOpen?c.buildCategorizedOptions():[]},c.buildFocusableOptions=function(){return mIe(c.buildCategorizedOptions())},c.getFocusableOptions=function(){return c.props.menuIsOpen?c.buildFocusableOptions():[]},c.ariaOnChange=function(b,w){c.setState({ariaSelection:_n({value:b},w)})},c.onMenuMouseDown=function(b){b.button===0&&(b.stopPropagation(),b.preventDefault(),c.focusInput())},c.onMenuMouseMove=function(b){c.blockOptionHover=!1},c.onControlMouseDown=function(b){if(!b.defaultPrevented){var w=c.props.openMenuOnClick;c.state.isFocused?c.props.menuIsOpen?b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&c.onMenuClose():w&&c.openMenu("first"):(w&&(c.openAfterFocus=!0),c.focusInput()),b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.preventDefault()}},c.onDropdownIndicatorMouseDown=function(b){if(!(b&&b.type==="mousedown"&&b.button!==0)&&!c.props.isDisabled){var w=c.props,A=w.isMulti,I=w.menuIsOpen;c.focusInput(),I?(c.setState({inputIsHiddenAfterUpdate:!A}),c.onMenuClose()):c.openMenu("first"),b.preventDefault()}},c.onClearIndicatorMouseDown=function(b){b&&b.type==="mousedown"&&b.button!==0||(c.clearValue(),b.preventDefault(),c.openAfterFocus=!1,b.type==="touchend"?c.focusInput():setTimeout(function(){return c.focusInput()}))},c.onScroll=function(b){typeof c.props.closeMenuOnScroll=="boolean"?b.target instanceof HTMLElement&&R9(b.target)&&c.props.onMenuClose():typeof c.props.closeMenuOnScroll=="function"&&c.props.closeMenuOnScroll(b)&&c.props.onMenuClose()},c.onCompositionStart=function(){c.isComposing=!0},c.onCompositionEnd=function(){c.isComposing=!1},c.onTouchStart=function(b){var w=b.touches,A=w&&w.item(0);A&&(c.initialTouchX=A.clientX,c.initialTouchY=A.clientY,c.userIsDragging=!1)},c.onTouchMove=function(b){var w=b.touches,A=w&&w.item(0);if(A){var I=Math.abs(A.clientX-c.initialTouchX),N=Math.abs(A.clientY-c.initialTouchY),R=5;c.userIsDragging=I>R||N>R}},c.onTouchEnd=function(b){c.userIsDragging||(c.controlRef&&!c.controlRef.contains(b.target)&&c.menuListRef&&!c.menuListRef.contains(b.target)&&c.blurInput(),c.initialTouchX=0,c.initialTouchY=0)},c.onControlTouchEnd=function(b){c.userIsDragging||c.onControlMouseDown(b)},c.onClearIndicatorTouchEnd=function(b){c.userIsDragging||c.onClearIndicatorMouseDown(b)},c.onDropdownIndicatorTouchEnd=function(b){c.userIsDragging||c.onDropdownIndicatorMouseDown(b)},c.handleInputChange=function(b){var w=c.props.inputValue,A=b.currentTarget.value;c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange(A,{action:"input-change",prevInputValue:w}),c.props.menuIsOpen||c.onMenuOpen()},c.onInputFocus=function(b){c.props.onFocus&&c.props.onFocus(b),c.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(c.openAfterFocus||c.props.openMenuOnFocus)&&c.openMenu("first"),c.openAfterFocus=!1},c.onInputBlur=function(b){var w=c.props.inputValue;if(c.menuListRef&&c.menuListRef.contains(document.activeElement)){c.inputRef.focus();return}c.props.onBlur&&c.props.onBlur(b),c.onInputChange("",{action:"input-blur",prevInputValue:w}),c.onMenuClose(),c.setState({focusedValue:null,isFocused:!1})},c.onOptionHover=function(b){c.blockOptionHover||c.state.focusedOption===b||c.setState({focusedOption:b})},c.shouldHideSelectedOptions=function(){return _Ie(c.props)},c.onValueInputFocus=function(b){b.preventDefault(),b.stopPropagation(),c.focus()},c.onKeyDown=function(b){var w=c.props,A=w.isMulti,I=w.backspaceRemovesValue,N=w.escapeClearsValue,R=w.inputValue,D=w.isClearable,L=w.isDisabled,z=w.menuIsOpen,V=w.onKeyDown,te=w.tabSelectsValue,fe=w.openMenuOnFocus,Y=c.state,q=Y.focusedOption,K=Y.focusedValue,ce=Y.selectValue;if(!L&&!(typeof V=="function"&&(V(b),b.defaultPrevented))){switch(c.blockOptionHover=!0,b.key){case"ArrowLeft":if(!A||R)return;c.focusValue("previous");break;case"ArrowRight":if(!A||R)return;c.focusValue("next");break;case"Delete":case"Backspace":if(R)return;if(K)c.removeValue(K);else{if(!I)return;A?c.popValue():D&&c.clearValue()}break;case"Tab":if(c.isComposing||b.shiftKey||!z||!te||!q||fe&&c.isOptionSelected(q,ce))return;c.selectOption(q);break;case"Enter":if(b.keyCode===229)break;if(z){if(!q||c.isComposing)return;c.selectOption(q);break}return;case"Escape":z?(c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange("",{action:"menu-close",prevInputValue:R}),c.onMenuClose()):D&&N&&c.clearValue();break;case" ":if(R)return;if(!z){c.openMenu("first");break}if(!q)return;c.selectOption(q);break;case"ArrowUp":z?c.focusOption("up"):c.openMenu("last");break;case"ArrowDown":z?c.focusOption("down"):c.openMenu("first");break;case"PageUp":if(!z)return;c.focusOption("pageup");break;case"PageDown":if(!z)return;c.focusOption("pagedown");break;case"Home":if(!z)return;c.focusOption("first");break;case"End":if(!z)return;c.focusOption("last");break;default:return}b.preventDefault()}},c.instancePrefix="react-select-"+(c.props.instanceId||++wEt),c.state.selectValue=eTe(l.value),l.menuIsOpen&&c.state.selectValue.length){var d=c.buildFocusableOptions(),m=d.indexOf(c.state.selectValue[0]);c.state.focusedOption=d[m]}return c}return Pbt(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tTe(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(c){var d=this.props,m=d.isDisabled,b=d.menuIsOpen,w=this.state.isFocused;(w&&!m&&c.isDisabled||w&&b&&!c.menuIsOpen)&&this.focusInput(),w&&m&&!c.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!w&&!m&&c.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tTe(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(c,d){this.props.onInputChange(c,d)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(c){var d=this,m=this.state,b=m.selectValue,w=m.isFocused,A=this.buildFocusableOptions(),I=c==="first"?0:A.length-1;if(!this.props.isMulti){var N=A.indexOf(b[0]);N>-1&&(I=N)}this.scrollToFocusedOptionOnUpdate=!(w&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:A[I]},function(){return d.onMenuOpen()})}},{key:"focusValue",value:function(c){var d=this.state,m=d.selectValue,b=d.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var w=m.indexOf(b);b||(w=-1);var A=m.length-1,I=-1;if(m.length){switch(c){case"previous":w===0?I=0:w===-1?I=A:I=w-1;break;case"next":w>-1&&w<A&&(I=w+1);break}this.setState({inputIsHidden:I!==-1,focusedValue:m[I]})}}}},{key:"focusOption",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",d=this.props.pageSize,m=this.state.focusedOption,b=this.getFocusableOptions();if(b.length){var w=0,A=b.indexOf(m);m||(A=-1),c==="up"?w=A>0?A-1:b.length-1:c==="down"?w=(A+1)%b.length:c==="pageup"?(w=A-d,w<0&&(w=0)):c==="pagedown"?(w=A+d,w>b.length-1&&(w=b.length-1)):c==="last"&&(w=b.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:b[w],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(qK):_n(_n({},qK),this.props.theme):qK}},{key:"getCommonProps",value:function(){var c=this.clearValue,d=this.cx,m=this.getStyles,b=this.getClassNames,w=this.getValue,A=this.selectOption,I=this.setValue,N=this.props,R=N.isMulti,D=N.isRtl,L=N.options,z=this.hasValue();return{clearValue:c,cx:d,getStyles:m,getClassNames:b,getValue:w,hasValue:z,isMulti:R,isRtl:D,options:L,selectOption:A,selectProps:N,setValue:I,theme:this.getTheme()}}},{key:"hasValue",value:function(){var c=this.state.selectValue;return c.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var c=this.props,d=c.isClearable,m=c.isMulti;return d===void 0?m:d}},{key:"isOptionDisabled",value:function(c,d){return vIe(this.props,c,d)}},{key:"isOptionSelected",value:function(c,d){return yIe(this.props,c,d)}},{key:"filterOption",value:function(c,d){return bIe(this.props,c,d)}},{key:"formatOptionLabel",value:function(c,d){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,b=this.state.selectValue;return this.props.formatOptionLabel(c,{context:d,inputValue:m,selectValue:b})}else return this.getOptionLabel(c)}},{key:"formatGroupLabel",value:function(c){return this.props.formatGroupLabel(c)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var c=this.props,d=c.isDisabled,m=c.isSearchable,b=c.inputId,w=c.inputValue,A=c.tabIndex,I=c.form,N=c.menuIsOpen,R=c.required,D=this.getComponents(),L=D.Input,z=this.state,V=z.inputIsHidden,te=z.ariaSelection,fe=this.commonProps,Y=b||this.getElementId("input"),q=_n(_n(_n({"aria-autocomplete":"list","aria-expanded":N,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":R,role:"combobox"},N&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!m&&{"aria-readonly":!0}),this.hasValue()?(te==null?void 0:te.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return m?mr.createElement(L,xn({},fe,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Y,innerRef:this.getInputRef,isDisabled:d,isHidden:V,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:A,form:I,type:"text",value:w},q)):mr.createElement(JTt,xn({id:Y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:VU,onFocus:this.onInputFocus,disabled:d,tabIndex:A,inputMode:"none",form:I,value:""},q))}},{key:"renderPlaceholderOrValue",value:function(){var c=this,d=this.getComponents(),m=d.MultiValue,b=d.MultiValueContainer,w=d.MultiValueLabel,A=d.MultiValueRemove,I=d.SingleValue,N=d.Placeholder,R=this.commonProps,D=this.props,L=D.controlShouldRenderValue,z=D.isDisabled,V=D.isMulti,te=D.inputValue,fe=D.placeholder,Y=this.state,q=Y.selectValue,K=Y.focusedValue,ce=Y.isFocused;if(!this.hasValue()||!L)return te?null:mr.createElement(N,xn({},R,{key:"placeholder",isDisabled:z,isFocused:ce,innerProps:{id:this.getElementId("placeholder")}}),fe);if(V)return q.map(function(ge,F){var Te=ge===K,Ce="".concat(c.getOptionLabel(ge),"-").concat(c.getOptionValue(ge));return mr.createElement(m,xn({},R,{components:{Container:b,Label:w,Remove:A},isFocused:Te,isDisabled:z,key:Ce,index:F,removeProps:{onClick:function(){return c.removeValue(ge)},onTouchEnd:function(){return c.removeValue(ge)},onMouseDown:function(Ke){Ke.preventDefault()}},data:ge}),c.formatOptionLabel(ge,"value"))});if(te)return null;var re=q[0];return mr.createElement(I,xn({},R,{data:re,isDisabled:z}),this.formatOptionLabel(re,"value"))}},{key:"renderClearIndicator",value:function(){var c=this.getComponents(),d=c.ClearIndicator,m=this.commonProps,b=this.props,w=b.isDisabled,A=b.isLoading,I=this.state.isFocused;if(!this.isClearable()||!d||w||!this.hasValue()||A)return null;var N={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return mr.createElement(d,xn({},m,{innerProps:N,isFocused:I}))}},{key:"renderLoadingIndicator",value:function(){var c=this.getComponents(),d=c.LoadingIndicator,m=this.commonProps,b=this.props,w=b.isDisabled,A=b.isLoading,I=this.state.isFocused;if(!d||!A)return null;var N={"aria-hidden":"true"};return mr.createElement(d,xn({},m,{innerProps:N,isDisabled:w,isFocused:I}))}},{key:"renderIndicatorSeparator",value:function(){var c=this.getComponents(),d=c.DropdownIndicator,m=c.IndicatorSeparator;if(!d||!m)return null;var b=this.commonProps,w=this.props.isDisabled,A=this.state.isFocused;return mr.createElement(m,xn({},b,{isDisabled:w,isFocused:A}))}},{key:"renderDropdownIndicator",value:function(){var c=this.getComponents(),d=c.DropdownIndicator;if(!d)return null;var m=this.commonProps,b=this.props.isDisabled,w=this.state.isFocused,A={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return mr.createElement(d,xn({},m,{innerProps:A,isDisabled:b,isFocused:w}))}},{key:"renderMenu",value:function(){var c=this,d=this.getComponents(),m=d.Group,b=d.GroupHeading,w=d.Menu,A=d.MenuList,I=d.MenuPortal,N=d.LoadingMessage,R=d.NoOptionsMessage,D=d.Option,L=this.commonProps,z=this.state.focusedOption,V=this.props,te=V.captureMenuScroll,fe=V.inputValue,Y=V.isLoading,q=V.loadingMessage,K=V.minMenuHeight,ce=V.maxMenuHeight,re=V.menuIsOpen,ge=V.menuPlacement,F=V.menuPosition,Te=V.menuPortalTarget,Ce=V.menuShouldBlockScroll,ve=V.menuShouldScrollIntoView,Ke=V.noOptionsMessage,ot=V.onMenuScrollToTop,$=V.onMenuScrollToBottom;if(!re)return null;var lt=function(St,Gt){var Zt=St.type,ir=St.data,zt=St.isDisabled,Qt=St.isSelected,Wt=St.label,yr=St.value,br=z===ir,Pt=zt?void 0:function(){return c.onOptionHover(ir)},Dr=zt?void 0:function(){return c.selectOption(ir)},Gr="".concat(c.getElementId("option"),"-").concat(Gt),rn={id:Gr,onClick:Dr,onMouseMove:Pt,onMouseOver:Pt,tabIndex:-1};return mr.createElement(D,xn({},L,{innerProps:rn,data:ir,isDisabled:zt,isSelected:Qt,key:Gr,label:Wt,type:Zt,value:yr,isFocused:br,innerRef:br?c.getFocusedOptionRef:void 0}),c.formatOptionLabel(St.data,"menu"))},Tt;if(this.hasOptions())Tt=this.getCategorizedOptions().map(function(nt){if(nt.type==="group"){var St=nt.data,Gt=nt.options,Zt=nt.index,ir="".concat(c.getElementId("group"),"-").concat(Zt),zt="".concat(ir,"-heading");return mr.createElement(m,xn({},L,{key:ir,data:St,options:Gt,Heading:b,headingProps:{id:zt,data:nt.data},label:c.formatGroupLabel(nt.data)}),nt.options.map(function(Qt){return lt(Qt,"".concat(Zt,"-").concat(Qt.index))}))}else if(nt.type==="option")return lt(nt,"".concat(nt.index))});else if(Y){var Be=q({inputValue:fe});if(Be===null)return null;Tt=mr.createElement(N,L,Be)}else{var qe=Ke({inputValue:fe});if(qe===null)return null;Tt=mr.createElement(R,L,qe)}var We={minMenuHeight:K,maxMenuHeight:ce,menuPlacement:ge,menuPosition:F,menuShouldScrollIntoView:ve},Ge=mr.createElement(D_t,xn({},L,We),function(nt){var St=nt.ref,Gt=nt.placerProps,Zt=Gt.placement,ir=Gt.maxHeight;return mr.createElement(w,xn({},L,We,{innerRef:St,innerProps:{onMouseDown:c.onMenuMouseDown,onMouseMove:c.onMenuMouseMove,id:c.getElementId("listbox")},isLoading:Y,placement:Zt}),mr.createElement(oEt,{captureEnabled:te,onTopArrive:ot,onBottomArrive:$,lockEnabled:Ce},function(zt){return mr.createElement(A,xn({},L,{innerRef:function(Wt){c.getMenuListRef(Wt),zt(Wt)},isLoading:Y,maxHeight:ir,focusedOption:z}),Tt)}))});return Te||F==="fixed"?mr.createElement(I,xn({},L,{appendTo:Te,controlElement:this.controlRef,menuPlacement:ge,menuPosition:F}),Ge):Ge}},{key:"renderFormField",value:function(){var c=this,d=this.props,m=d.delimiter,b=d.isDisabled,w=d.isMulti,A=d.name,I=d.required,N=this.state.selectValue;if(I&&!this.hasValue()&&!b)return mr.createElement(cEt,{name:A,onFocus:this.onValueInputFocus});if(!(!A||b))if(w)if(m){var R=N.map(function(z){return c.getOptionValue(z)}).join(m);return mr.createElement("input",{name:A,type:"hidden",value:R})}else{var D=N.length>0?N.map(function(z,V){return mr.createElement("input",{key:"i-".concat(V),name:A,type:"hidden",value:c.getOptionValue(z)})}):mr.createElement("input",{name:A,type:"hidden",value:""});return mr.createElement("div",null,D)}else{var L=N[0]?this.getOptionValue(N[0]):"";return mr.createElement("input",{name:A,type:"hidden",value:L})}}},{key:"renderLiveRegion",value:function(){var c=this.commonProps,d=this.state,m=d.ariaSelection,b=d.focusedOption,w=d.focusedValue,A=d.isFocused,I=d.selectValue,N=this.getFocusableOptions();return mr.createElement(XTt,xn({},c,{id:this.getElementId("live-region"),ariaSelection:m,focusedOption:b,focusedValue:w,isFocused:A,selectValue:I,focusableOptions:N}))}},{key:"render",value:function(){var c=this.getComponents(),d=c.Control,m=c.IndicatorsContainer,b=c.SelectContainer,w=c.ValueContainer,A=this.props,I=A.className,N=A.id,R=A.isDisabled,D=A.menuIsOpen,L=this.state.isFocused,z=this.commonProps=this.getCommonProps();return mr.createElement(b,xn({},z,{className:I,innerProps:{id:N,onKeyDown:this.onKeyDown},isDisabled:R,isFocused:L}),this.renderLiveRegion(),mr.createElement(d,xn({},z,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:R,isFocused:L,menuIsOpen:D}),mr.createElement(w,xn({},z,{isDisabled:R}),this.renderPlaceholderOrValue(),this.renderInput()),mr.createElement(m,xn({},z,{isDisabled:R}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(c,d){var m=d.prevProps,b=d.clearFocusValueOnUpdate,w=d.inputIsHiddenAfterUpdate,A=d.ariaSelection,I=d.isFocused,N=d.prevWasFocused,R=c.options,D=c.value,L=c.menuIsOpen,z=c.inputValue,V=c.isMulti,te=eTe(D),fe={};if(m&&(D!==m.value||R!==m.options||L!==m.menuIsOpen||z!==m.inputValue)){var Y=L?EEt(c,te):[],q=b?SEt(d,te):null,K=AEt(d,Y);fe={selectValue:te,focusedOption:K,focusedValue:q,clearFocusValueOnUpdate:!1}}var ce=w!=null&&c!==m?{inputIsHidden:w,inputIsHiddenAfterUpdate:void 0}:{},re=A,ge=I&&N;return I&&!ge&&(re={value:OH(V,te,te[0]||null),options:te,action:"initial-input-focus"},ge=!N),(A==null?void 0:A.action)==="initial-input-focus"&&(re=null),_n(_n(_n({},fe),ce),{},{prevProps:c,ariaSelection:re,prevWasFocused:ge})}}]),i}(mr.Component);TIe.defaultProps=TEt;var CEt=mr.forwardRef(function(n,o){var i=kbt(n);return mr.createElement(TIe,xn({ref:o},i))}),KJ=CEt;const xEt=(n,o)=>{const i=n.INFO,l=XH(n.CHROM,+n.POS),c=i.DeNovoWEST_pvalue?yU(",.2f")(i.DeNovoWEST_pvalue[0]):0,d=i.biallelic_pvalue?yU(",.2f")(i.biallelic_pvalue[0]):0,m=i.go_terms?i.go_terms[0].split("|").map(A=>A.replaceAll("_"," ")):[],b=i.kegg_category?i.kegg_category[0].split("|").map(A=>A.replaceAll("_"," ")):[],w=i.kegg_category?i.kegg_category[0].split("|"):[];return{id:n.ID,chrom:n.CHROM,chromOrder:o.order,start:n.POS,end:i.END[0],posAbs:l,symbol:i.SYMBOL[0],deNovoWestPvalue:c,biallelicPvalue:d,goTerms:m,keggCategoryFormatted:b,keggCategory:w}},gTe=n=>{const o=Ote.map(i=>i.name);if(n.includes(":")){const i=n.split(":").filter(l=>l);if(i.length===1&&o.includes(i[0])){const l=i[0];return{posAbs:XH(l,0)}}else if(i.length>1&&o.includes(i[0])&&parseInt(i[1],10)){const l=i[0],c=parseInt(i[1],10);return{posAbs:XH(l,c)}}}else if(o.includes(n))return{posAbs:XH(n,0)};return null},IEt="https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.genes.20230417.vcf.gz",DEt="https://aveit-tibanna-wolf.s3.amazonaws.com/data/udn/udn.genes.20230417.vcf.gz.tbi",OEt={value:"DeNovoWEST_pvalue",label:"DeNovoWEST"},kEt=[{value:"DeNovoWEST_pvalue",label:"DeNovoWEST"},{value:"biallelic_pvalue",label:"Biallelic"}],EIe=[{value:"amino_acid_metabolism",label:"Amino acid metabolism"},{value:"cancer",label:"Cancer"},{value:"carbohydrate_energy_metabolism",label:"Carbohydrate energy metabolism"},{value:"cell_cell_interaction",label:"Cell-cell interaction"},{value:"cell_cycle",label:"Cell cycle"},{value:"cell_motility",label:"Cell motility"},{value:"circadian_rhythm",label:"Circadian rhythm"},{value:"cofactor_and_vitamin_metabolism",label:"Cofactor and vitamin metabolism"},{value:"development_and_regeneration",label:"Development and regeneration"},{value:"dna_replication_repair",label:"DNA replication repair"},{value:"drug_targets_nuclear_receptors",label:"Drug targets nuclear receptors"},{value:"endocrine_and_metabolic_disease",label:"Endocrine and metabolic disease"},{value:"endocrine_system",label:"Endocrine system"},{value:"immune_process",label:"Immune process"},{value:"lipid_metabolism",label:"Lipid metabolism"},{value:"membrane_transport",label:"Membrane transport"},{value:"nervous_system",label:"Nervous system"},{value:"neurodegenerative_disease",label:"Neurodegenerative disease"},{value:"nucleotide_metabolism",label:"Nucleotide metabolism"},{value:"other_metabolism",label:"Other metabolism"},{value:"protein_folding_sorting_degradation",label:"Protein folding sorting degradation"},{value:"sensory_system",label:"Sensory system"},{value:"signal_transduction",label:"Signal transduction"},{value:"substance_dependence",label:"Substance dependence"},{value:"transcription",label:"Transcription"},{value:"translation",label:"Translation"},{value:"transport_and_catabolism",label:"Transport and catabolism"}],Mx=30,ZK="deNovoWestPvalue",vTe="biallelicPvalue";class hxt extends oh.Component{constructor(i){super(i);Jh(this,"nextPage",()=>{this.setState(i=>({tablePage:i.tablePage+1}))});Jh(this,"previousPage",()=>{this.setState(i=>({tablePage:i.tablePage-1}))});Jh(this,"handleKeggChange",i=>{this.setState(l=>({selectedKeggCategory:i}))});Jh(this,"toggleGoTerms",()=>{this.setState(i=>({showGoTerms:!i.showGoTerms}))});Jh(this,"sortTable",i=>{this.setState(l=>({sortBy:i.target.dataset.col}))});Jh(this,"filterChange",i=>{const l=i.target.dataset.filtertype,c=this.state.filter;c[l]=i.target.value,i.target.value===""&&delete c[l],this.applyFilter(c)});this.state={showFilter:!1,loading:!0,variants:[],displayedVariants:[],tablePage:0,filter:{},sortBy:ZK,showGoTerms:!1,selectedKeggCategory:null},this.variants=[],this.loadingVariantsCalled=!1}componentDidMount(){this.loadVariants()}applyFilter(i){let l=this.state.variants;if(i.gene!==void 0&&(l=l.filter(c=>c.symbol.toLowerCase().includes(i.gene.toLowerCase()))),i.from!==void 0){const c=gTe(i.from);c&&(l=l.filter(d=>d.posAbs>=c.posAbs))}if(i.to!==void 0){const c=gTe(i.to);c&&(l=l.filter(d=>d.posAbs<=c.posAbs))}this.setState(c=>({filter:i,displayedVariants:l,tablePage:0}))}loadVariants(){if(this.loadingVariantsCalled)return;this.loadingVariantsCalled=!0,this.vcfFile=new Tbt({filehandle:new fI(IEt),tbiFilehandle:new fI(DEt)}),this.vcfFile.getHeader().then(l=>{const c=new Abt({header:l}),d=[];Ote.forEach(m=>{const b=this.vcfFile.getLines(m.name,0,m.length,w=>{const A=c.parseLine(w),I=xEt(A,m);this.variants.push(I)});d.push(b)}),Promise.all(d).then(m=>{this.setState(b=>({loading:!1,variants:this.variants,displayedVariants:this.variants}))})})}render(){if(this.state.loading)return Xt.jsxDEV("div",{className:"text-center",children:[Xt.jsxDEV(qvt,{color:"#999999",width:"50px",height:"50px"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:156,columnNumber:11},this),Xt.jsxDEV("div",{className:"mt-2 mb-5 small text-muted",children:"Loading variants..."},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:155,columnNumber:9},this);const i=[],l=this.state.selectedKeggCategory?this.state.selectedKeggCategory.map(I=>I.value):[],c=this.state.displayedVariants.filter(I=>l.length===0?!0:I.keggCategory.filter(R=>l.includes(R)).length>0).sort((I,N)=>N[this.state.sortBy]-I[this.state.sortBy]);c.slice(this.state.tablePage*Mx,(this.state.tablePage+1)*Mx).forEach((I,N)=>{const R=[];I.goTerms.forEach(V=>{R.push(Xt.jsxDEV("div",{children:Xt.jsxDEV("span",{className:"badge bg-light text-muted me-1",children:V},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:187,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:186,columnNumber:11},this))});const D=[];I.keggCategoryFormatted.forEach(V=>{D.push(Xt.jsxDEV("div",{children:Xt.jsxDEV("span",{className:"badge bg-light text-muted me-1",children:V},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:195,columnNumber:11},this))});const L=I.deNovoWestPvalue===0?"-":I.deNovoWestPvalue,z=I.biallelicPvalue===0?"-":I.biallelicPvalue;i.push(Xt.jsxDEV("tr",{children:[Xt.jsxDEV("td",{children:I.symbol},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:208,columnNumber:11},this),Xt.jsxDEV("td",{children:I.chrom},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:209,columnNumber:11},this),Xt.jsxDEV("td",{children:L},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:210,columnNumber:11},this),Xt.jsxDEV("td",{children:z},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:211,columnNumber:11},this),Xt.jsxDEV("td",{children:D},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:212,columnNumber:11},this),Xt.jsxDEV("td",{className:this.state.showGoTerms?"":"collapse",children:R},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:213,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:207,columnNumber:9},this))});const m=[];c.length>Mx&&(this.state.tablePage+1)*Mx<=c.length&&m.push(Xt.jsxDEV("button",{className:"btn btn-primary btn-sm",onClick:this.nextPage,children:"Next"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:227,columnNumber:9},this)),this.state.tablePage>0&&m.push(Xt.jsxDEV("button",{className:"btn btn-primary btn-sm mx-2",onClick:this.previousPage,children:"Previous"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:235,columnNumber:9},this));let b="No genes found";c.length>0&&(b=`Displaying genes ${this.state.tablePage*Mx+1}-${Math.min((this.state.tablePage+1)*Mx,c.length)} of ${c.length}`);let w="fa fa-sort-amount-desc pointer gene-table-sort-symbol pl-1";w=this.state.sortBy===ZK?w+" active":w;let A="fa fa-sort-amount-desc pointer gene-table-sort-symbol pl-1";return A=this.state.sortBy===vTe?A+" active":A,Xt.jsxDEV("div",{children:[Xt.jsxDEV("div",{className:"d-flex flex-row-reverse",children:[m,Xt.jsxDEV("div",{className:"pt-1 mx-2 ",children:b},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:270,columnNumber:9},this),Xt.jsxDEV("div",{className:"row pb-5 pt-4",children:[Xt.jsxDEV("div",{className:"col-md-3",children:[Xt.jsxDEV("div",{className:"small pt-1",children:"FILTER"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:277,columnNumber:13},this),Xt.jsxDEV("div",{className:"mt-1 p-3 border",children:[Xt.jsxDEV("div",{children:"Gene"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:279,columnNumber:15},this),Xt.jsxDEV("input",{className:"form-control",id:"filter-gene","data-filtertype":"gene",placeholder:"e.g. TNFRSF8",onChange:this.filterChange},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:280,columnNumber:15},this),Xt.jsxDEV("div",{className:"mt-2",children:"From"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:287,columnNumber:15},this),Xt.jsxDEV("input",{className:"form-control",id:"filter-from",placeholder:"e.g. chr1:1000000","data-filtertype":"from",onChange:this.filterChange},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:288,columnNumber:15},this),Xt.jsxDEV("div",{className:"mt-2",children:"To"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:295,columnNumber:15},this),Xt.jsxDEV("input",{className:"form-control",id:"filter-to",placeholder:"e.g. chr3:20000000","data-filtertype":"to",onChange:this.filterChange},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:296,columnNumber:15},this),Xt.jsxDEV("div",{className:"custom-control custom-checkbox mt-3",children:[Xt.jsxDEV("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1",onChange:this.toggleGoTerms},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:305,columnNumber:17},this),Xt.jsxDEV("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Show GO terms"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:311,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:304,columnNumber:15},this),Xt.jsxDEV("div",{className:"mt-2",children:"KEGG category"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:316,columnNumber:15},this),Xt.jsxDEV(KJ,{value:this.state.selectedKeggCategory,onChange:this.handleKeggChange,options:EIe,closeMenuOnSelect:!1,isMulti:!0,placeholder:"Select multiple..."},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:317,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:276,columnNumber:11},this),Xt.jsxDEV("div",{className:"col-md-9",children:Xt.jsxDEV("div",{className:"table-responsive-lg",children:Xt.jsxDEV("table",{className:"table table-hover table-sm",children:[Xt.jsxDEV("thead",{className:"sticky-table-header bg-white",children:Xt.jsxDEV("tr",{children:[Xt.jsxDEV("th",{scope:"col",children:"Gene"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:332,columnNumber:21},this),Xt.jsxDEV("th",{scope:"col",children:"Chrom."},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:333,columnNumber:21},this),Xt.jsxDEV("th",{scope:"col",children:Xt.jsxDEV("div",{className:"text-nowrap",children:["DeNovoWEST p-value"," ",Xt.jsxDEV("i",{className:w,onClick:this.sortTable,"data-col":ZK},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:337,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:335,columnNumber:23},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:334,columnNumber:21},this),Xt.jsxDEV("th",{scope:"col",children:Xt.jsxDEV("div",{className:"text-nowrap",children:["Biallelic p-value"," ",Xt.jsxDEV("i",{className:A,onClick:this.sortTable,"data-col":vTe},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:347,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:345,columnNumber:23},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:344,columnNumber:21},this),Xt.jsxDEV("th",{scope:"col",children:"KEGG category"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:354,columnNumber:21},this),Xt.jsxDEV("th",{scope:"col",className:this.state.showGoTerms?"":"collapse",children:"GO terms"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:355,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:331,columnNumber:19},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:330,columnNumber:17},this),Xt.jsxDEV("tbody",{children:i},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:329,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:328,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:327,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:275,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneTable.jsx",lineNumber:269,columnNumber:7},this)}}var SIe="1.13.6",yTe=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},P9=Array.prototype,Wte=Object.prototype,bTe=typeof Symbol<"u"?Symbol.prototype:null,REt=P9.push,WM=P9.slice,yM=Wte.toString,PEt=Wte.hasOwnProperty,AIe=typeof ArrayBuffer<"u",NEt=typeof DataView<"u",MEt=Array.isArray,_Te=Object.keys,TTe=Object.create,ETe=AIe&&ArrayBuffer.isView,LEt=isNaN,FEt=isFinite,wIe=!{toString:null}.propertyIsEnumerable("toString"),STe=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],BEt=Math.pow(2,53)-1;function vc(n,o){return o=o==null?n.length-1:+o,function(){for(var i=Math.max(arguments.length-o,0),l=Array(i),c=0;c<i;c++)l[c]=arguments[c+o];switch(o){case 0:return n.call(this,l);case 1:return n.call(this,arguments[0],l);case 2:return n.call(this,arguments[0],arguments[1],l)}var d=Array(o+1);for(c=0;c<o;c++)d[c]=arguments[c];return d[o]=l,n.apply(this,d)}}function EE(n){var o=typeof n;return o==="function"||o==="object"&&!!n}function HEt(n){return n===null}function CIe(n){return n===void 0}function xIe(n){return n===!0||n===!1||yM.call(n)==="[object Boolean]"}function UEt(n){return!!(n&&n.nodeType===1)}function zl(n){var o="[object "+n+"]";return function(i){return yM.call(i)===o}}const Xte=zl("String"),IIe=zl("Number"),GEt=zl("Date"),$Et=zl("RegExp"),zEt=zl("Error"),DIe=zl("Symbol"),OIe=zl("ArrayBuffer");var kIe=zl("Function"),VEt=yTe.document&&yTe.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof VEt!="function"&&(kIe=function(n){return typeof n=="function"||!1});const wu=kIe,RIe=zl("Object");var PIe=NEt&&RIe(new DataView(new ArrayBuffer(8))),Yte=typeof Map<"u"&&RIe(new Map),jEt=zl("DataView");function WEt(n){return n!=null&&wu(n.getInt8)&&OIe(n.buffer)}const XU=PIe?WEt:jEt,SE=MEt||zl("Array");function Cb(n,o){return n!=null&&PEt.call(n,o)}var QJ=zl("Arguments");(function(){QJ(arguments)||(QJ=function(n){return Cb(n,"callee")})})();const qte=QJ;function XEt(n){return!DIe(n)&&FEt(n)&&!isNaN(parseFloat(n))}function NIe(n){return IIe(n)&&LEt(n)}function MIe(n){return function(){return n}}function LIe(n){return function(o){var i=n(o);return typeof i=="number"&&i>=0&&i<=BEt}}function FIe(n){return function(o){return o==null?void 0:o[n]}}const YU=FIe("byteLength"),YEt=LIe(YU);var qEt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ZEt(n){return ETe?ETe(n)&&!XU(n):YEt(n)&&qEt.test(yM.call(n))}const BIe=AIe?ZEt:MIe(!1),yc=FIe("length");function KEt(n){for(var o={},i=n.length,l=0;l<i;++l)o[n[l]]=!0;return{contains:function(c){return o[c]===!0},push:function(c){return o[c]=!0,n.push(c)}}}function HIe(n,o){o=KEt(o);var i=STe.length,l=n.constructor,c=wu(l)&&l.prototype||Wte,d="constructor";for(Cb(n,d)&&!o.contains(d)&&o.push(d);i--;)d=STe[i],d in n&&n[d]!==c[d]&&!o.contains(d)&&o.push(d)}function Ms(n){if(!EE(n))return[];if(_Te)return _Te(n);var o=[];for(var i in n)Cb(n,i)&&o.push(i);return wIe&&HIe(n,o),o}function QEt(n){if(n==null)return!0;var o=yc(n);return typeof o=="number"&&(SE(n)||Xte(n)||qte(n))?o===0:yc(Ms(n))===0}function UIe(n,o){var i=Ms(o),l=i.length;if(n==null)return!l;for(var c=Object(n),d=0;d<l;d++){var m=i[d];if(o[m]!==c[m]||!(m in c))return!1}return!0}function ta(n){if(n instanceof ta)return n;if(!(this instanceof ta))return new ta(n);this._wrapped=n}ta.VERSION=SIe;ta.prototype.value=function(){return this._wrapped};ta.prototype.valueOf=ta.prototype.toJSON=ta.prototype.value;ta.prototype.toString=function(){return String(this._wrapped)};function ATe(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,YU(n))}var wTe="[object DataView]";function JJ(n,o,i,l){if(n===o)return n!==0||1/n===1/o;if(n==null||o==null)return!1;if(n!==n)return o!==o;var c=typeof n;return c!=="function"&&c!=="object"&&typeof o!="object"?!1:GIe(n,o,i,l)}function GIe(n,o,i,l){n instanceof ta&&(n=n._wrapped),o instanceof ta&&(o=o._wrapped);var c=yM.call(n);if(c!==yM.call(o))return!1;if(PIe&&c=="[object Object]"&&XU(n)){if(!XU(o))return!1;c=wTe}switch(c){case"[object RegExp]":case"[object String]":return""+n==""+o;case"[object Number]":return+n!=+n?+o!=+o:+n==0?1/+n===1/o:+n==+o;case"[object Date]":case"[object Boolean]":return+n==+o;case"[object Symbol]":return bTe.valueOf.call(n)===bTe.valueOf.call(o);case"[object ArrayBuffer]":case wTe:return GIe(ATe(n),ATe(o),i,l)}var d=c==="[object Array]";if(!d&&BIe(n)){var m=YU(n);if(m!==YU(o))return!1;if(n.buffer===o.buffer&&n.byteOffset===o.byteOffset)return!0;d=!0}if(!d){if(typeof n!="object"||typeof o!="object")return!1;var b=n.constructor,w=o.constructor;if(b!==w&&!(wu(b)&&b instanceof b&&wu(w)&&w instanceof w)&&"constructor"in n&&"constructor"in o)return!1}i=i||[],l=l||[];for(var A=i.length;A--;)if(i[A]===n)return l[A]===o;if(i.push(n),l.push(o),d){if(A=n.length,A!==o.length)return!1;for(;A--;)if(!JJ(n[A],o[A],i,l))return!1}else{var I=Ms(n),N;if(A=I.length,Ms(o).length!==A)return!1;for(;A--;)if(N=I[A],!(Cb(o,N)&&JJ(n[N],o[N],i,l)))return!1}return i.pop(),l.pop(),!0}function JEt(n,o){return JJ(n,o)}function XM(n){if(!EE(n))return[];var o=[];for(var i in n)o.push(i);return wIe&&HIe(n,o),o}function Zte(n){var o=yc(n);return function(i){if(i==null)return!1;var l=XM(i);if(yc(l))return!1;for(var c=0;c<o;c++)if(!wu(i[n[c]]))return!1;return n!==VIe||!wu(i[Kte])}}var Kte="forEach",$Ie="has",Qte=["clear","delete"],zIe=["get",$Ie,"set"],eSt=Qte.concat(Kte,zIe),VIe=Qte.concat(zIe),tSt=["add"].concat(Qte,Kte,$Ie);const rSt=Yte?Zte(eSt):zl("Map"),nSt=Yte?Zte(VIe):zl("WeakMap"),iSt=Yte?Zte(tSt):zl("Set"),aSt=zl("WeakSet");function NI(n){for(var o=Ms(n),i=o.length,l=Array(i),c=0;c<i;c++)l[c]=n[o[c]];return l}function oSt(n){for(var o=Ms(n),i=o.length,l=Array(i),c=0;c<i;c++)l[c]=[o[c],n[o[c]]];return l}function jIe(n){for(var o={},i=Ms(n),l=0,c=i.length;l<c;l++)o[n[i[l]]]=i[l];return o}function eee(n){var o=[];for(var i in n)wu(n[i])&&o.push(i);return o.sort()}function Jte(n,o){return function(i){var l=arguments.length;if(o&&(i=Object(i)),l<2||i==null)return i;for(var c=1;c<l;c++)for(var d=arguments[c],m=n(d),b=m.length,w=0;w<b;w++){var A=m[w];(!o||i[A]===void 0)&&(i[A]=d[A])}return i}}const WIe=Jte(XM),qU=Jte(Ms),XIe=Jte(XM,!0);function sSt(){return function(){}}function YIe(n){if(!EE(n))return{};if(TTe)return TTe(n);var o=sSt();o.prototype=n;var i=new o;return o.prototype=null,i}function lSt(n,o){var i=YIe(n);return o&&qU(i,o),i}function uSt(n){return EE(n)?SE(n)?n.slice():WIe({},n):n}function cSt(n,o){return o(n),n}function qIe(n){return SE(n)?n:[n]}ta.toPath=qIe;function YM(n){return ta.toPath(n)}function ere(n,o){for(var i=o.length,l=0;l<i;l++){if(n==null)return;n=n[o[l]]}return i?n:void 0}function ZIe(n,o,i){var l=ere(n,YM(o));return CIe(l)?i:l}function hSt(n,o){o=YM(o);for(var i=o.length,l=0;l<i;l++){var c=o[l];if(!Cb(n,c))return!1;n=n[c]}return!!i}function tre(n){return n}function bM(n){return n=qU({},n),function(o){return UIe(o,n)}}function rre(n){return n=YM(n),function(o){return ere(o,n)}}function qM(n,o,i){if(o===void 0)return n;switch(i??3){case 1:return function(l){return n.call(o,l)};case 3:return function(l,c,d){return n.call(o,l,c,d)};case 4:return function(l,c,d,m){return n.call(o,l,c,d,m)}}return function(){return n.apply(o,arguments)}}function KIe(n,o,i){return n==null?tre:wu(n)?qM(n,o,i):EE(n)&&!SE(n)?bM(n):rre(n)}function nre(n,o){return KIe(n,o,1/0)}ta.iteratee=nre;function Ec(n,o,i){return ta.iteratee!==nre?ta.iteratee(n,o):KIe(n,o,i)}function fSt(n,o,i){o=Ec(o,i);for(var l=Ms(n),c=l.length,d={},m=0;m<c;m++){var b=l[m];d[b]=o(n[b],b,n)}return d}function QIe(){}function dSt(n){return n==null?QIe:function(o){return ZIe(n,o)}}function pSt(n,o,i){var l=Array(Math.max(0,n));o=qM(o,i,1);for(var c=0;c<n;c++)l[c]=o(c);return l}function tee(n,o){return o==null&&(o=n,n=0),n+Math.floor(Math.random()*(o-n+1))}const _M=Date.now||function(){return new Date().getTime()};function JIe(n){var o=function(d){return n[d]},i="(?:"+Ms(n).join("|")+")",l=RegExp(i),c=RegExp(i,"g");return function(d){return d=d==null?"":""+d,l.test(d)?d.replace(c,o):d}}const eDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},mSt=JIe(eDe),gSt=jIe(eDe),vSt=JIe(gSt),ySt=ta.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var KK=/(.)^/,bSt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_St=/\\|'|\r|\n|\u2028|\u2029/g;function TSt(n){return"\\"+bSt[n]}var ESt=/^\s*(\w|\$)+\s*$/;function SSt(n,o,i){!o&&i&&(o=i),o=XIe({},o,ta.templateSettings);var l=RegExp([(o.escape||KK).source,(o.interpolate||KK).source,(o.evaluate||KK).source].join("|")+"|$","g"),c=0,d="__p+='";n.replace(l,function(A,I,N,R,D){return d+=n.slice(c,D).replace(_St,TSt),c=D+A.length,I?d+=`'+
((__t=(`+I+`))==null?'':_.escape(__t))+
'`:N?d+=`'+
((__t=(`+N+`))==null?'':__t)+
'`:R&&(d+=`';
`+R+`
__p+='`),A}),d+=`';
`;var m=o.variable;if(m){if(!ESt.test(m))throw new Error("variable is not a bare identifier: "+m)}else d=`with(obj||{}){
`+d+`}
`,m="obj";d=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+d+`return __p;
`;var b;try{b=new Function(m,"_",d)}catch(A){throw A.source=d,A}var w=function(A){return b.call(this,A,ta)};return w.source="function("+m+`){
`+d+"}",w}function ASt(n,o,i){o=YM(o);var l=o.length;if(!l)return wu(i)?i.call(n):i;for(var c=0;c<l;c++){var d=n==null?void 0:n[o[c]];d===void 0&&(d=i,c=l),n=wu(d)?d.call(n):d}return n}var wSt=0;function CSt(n){var o=++wSt+"";return n?n+o:o}function xSt(n){var o=ta(n);return o._chain=!0,o}function tDe(n,o,i,l,c){if(!(l instanceof o))return n.apply(i,c);var d=YIe(n.prototype),m=n.apply(d,c);return EE(m)?m:d}var MI=vc(function(n,o){var i=MI.placeholder,l=function(){for(var c=0,d=o.length,m=Array(d),b=0;b<d;b++)m[b]=o[b]===i?arguments[c++]:o[b];for(;c<arguments.length;)m.push(arguments[c++]);return tDe(n,l,this,this,m)};return l});MI.placeholder=ta;const rDe=vc(function(n,o,i){if(!wu(n))throw new TypeError("Bind must be called on a function");var l=vc(function(c){return tDe(n,l,o,this,i.concat(c))});return l}),sh=LIe(yc);function AE(n,o,i,l){if(l=l||[],!o&&o!==0)o=1/0;else if(o<=0)return l.concat(n);for(var c=l.length,d=0,m=yc(n);d<m;d++){var b=n[d];if(sh(b)&&(SE(b)||qte(b)))if(o>1)AE(b,o-1,i,l),c=l.length;else for(var w=0,A=b.length;w<A;)l[c++]=b[w++];else i||(l[c++]=b)}return l}const ISt=vc(function(n,o){o=AE(o,!1,!1);var i=o.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var l=o[i];n[l]=rDe(n[l],n)}return n});function DSt(n,o){var i=function(l){var c=i.cache,d=""+(o?o.apply(this,arguments):l);return Cb(c,d)||(c[d]=n.apply(this,arguments)),c[d]};return i.cache={},i}const nDe=vc(function(n,o,i){return setTimeout(function(){return n.apply(null,i)},o)}),OSt=MI(nDe,ta,1);function kSt(n,o,i){var l,c,d,m,b=0;i||(i={});var w=function(){b=i.leading===!1?0:_M(),l=null,m=n.apply(c,d),l||(c=d=null)},A=function(){var I=_M();!b&&i.leading===!1&&(b=I);var N=o-(I-b);return c=this,d=arguments,N<=0||N>o?(l&&(clearTimeout(l),l=null),b=I,m=n.apply(c,d),l||(c=d=null)):!l&&i.trailing!==!1&&(l=setTimeout(w,N)),m};return A.cancel=function(){clearTimeout(l),b=0,l=c=d=null},A}function RSt(n,o,i){var l,c,d,m,b,w=function(){var I=_M()-c;o>I?l=setTimeout(w,o-I):(l=null,i||(m=n.apply(b,d)),l||(d=b=null))},A=vc(function(I){return b=this,d=I,c=_M(),l||(l=setTimeout(w,o),i&&(m=n.apply(b,d))),m});return A.cancel=function(){clearTimeout(l),l=d=b=null},A}function PSt(n,o){return MI(o,n)}function ire(n){return function(){return!n.apply(this,arguments)}}function NSt(){var n=arguments,o=n.length-1;return function(){for(var i=o,l=n[o].apply(this,arguments);i--;)l=n[i].call(this,l);return l}}function MSt(n,o){return function(){if(--n<1)return o.apply(this,arguments)}}function iDe(n,o){var i;return function(){return--n>0&&(i=o.apply(this,arguments)),n<=1&&(o=null),i}}const LSt=MI(iDe,2);function aDe(n,o,i){o=Ec(o,i);for(var l=Ms(n),c,d=0,m=l.length;d<m;d++)if(c=l[d],o(n[c],c,n))return c}function oDe(n){return function(o,i,l){i=Ec(i,l);for(var c=yc(o),d=n>0?0:c-1;d>=0&&d<c;d+=n)if(i(o[d],d,o))return d;return-1}}const are=oDe(1),sDe=oDe(-1);function lDe(n,o,i,l){i=Ec(i,l,1);for(var c=i(o),d=0,m=yc(n);d<m;){var b=Math.floor((d+m)/2);i(n[b])<c?d=b+1:m=b}return d}function uDe(n,o,i){return function(l,c,d){var m=0,b=yc(l);if(typeof d=="number")n>0?m=d>=0?d:Math.max(d+b,m):b=d>=0?Math.min(d+1,b):d+b+1;else if(i&&d&&b)return d=i(l,c),l[d]===c?d:-1;if(c!==c)return d=o(WM.call(l,m,b),NIe),d>=0?d+m:-1;for(d=n>0?m:b-1;d>=0&&d<b;d+=n)if(l[d]===c)return d;return-1}}const cDe=uDe(1,are,lDe),FSt=uDe(-1,sDe);function ree(n,o,i){var l=sh(n)?are:aDe,c=l(n,o,i);if(c!==void 0&&c!==-1)return n[c]}function BSt(n,o){return ree(n,bM(o))}function Uv(n,o,i){o=qM(o,i);var l,c;if(sh(n))for(l=0,c=n.length;l<c;l++)o(n[l],l,n);else{var d=Ms(n);for(l=0,c=d.length;l<c;l++)o(n[d[l]],d[l],n)}return n}function pE(n,o,i){o=Ec(o,i);for(var l=!sh(n)&&Ms(n),c=(l||n).length,d=Array(c),m=0;m<c;m++){var b=l?l[m]:m;d[m]=o(n[b],b,n)}return d}function hDe(n){var o=function(i,l,c,d){var m=!sh(i)&&Ms(i),b=(m||i).length,w=n>0?0:b-1;for(d||(c=i[m?m[w]:w],w+=n);w>=0&&w<b;w+=n){var A=m?m[w]:w;c=l(c,i[A],A,i)}return c};return function(i,l,c,d){var m=arguments.length>=3;return o(i,qM(l,d,4),c,m)}}const QK=hDe(1),CTe=hDe(-1);function _I(n,o,i){var l=[];return o=Ec(o,i),Uv(n,function(c,d,m){o(c,d,m)&&l.push(c)}),l}function HSt(n,o,i){return _I(n,ire(Ec(o)),i)}function xTe(n,o,i){o=Ec(o,i);for(var l=!sh(n)&&Ms(n),c=(l||n).length,d=0;d<c;d++){var m=l?l[d]:d;if(!o(n[m],m,n))return!1}return!0}function ITe(n,o,i){o=Ec(o,i);for(var l=!sh(n)&&Ms(n),c=(l||n).length,d=0;d<c;d++){var m=l?l[d]:d;if(o(n[m],m,n))return!0}return!1}function Lv(n,o,i,l){return sh(n)||(n=NI(n)),(typeof i!="number"||l)&&(i=0),cDe(n,o,i)>=0}const USt=vc(function(n,o,i){var l,c;return wu(o)?c=o:(o=YM(o),l=o.slice(0,-1),o=o[o.length-1]),pE(n,function(d){var m=c;if(!m){if(l&&l.length&&(d=ere(d,l)),d==null)return;m=d[o]}return m==null?m:m.apply(d,i)})});function ore(n,o){return pE(n,rre(o))}function GSt(n,o){return _I(n,bM(o))}function fDe(n,o,i){var l=-1/0,c=-1/0,d,m;if(o==null||typeof o=="number"&&typeof n[0]!="object"&&n!=null){n=sh(n)?n:NI(n);for(var b=0,w=n.length;b<w;b++)d=n[b],d!=null&&d>l&&(l=d)}else o=Ec(o,i),Uv(n,function(A,I,N){m=o(A,I,N),(m>c||m===-1/0&&l===-1/0)&&(l=A,c=m)});return l}function $St(n,o,i){var l=1/0,c=1/0,d,m;if(o==null||typeof o=="number"&&typeof n[0]!="object"&&n!=null){n=sh(n)?n:NI(n);for(var b=0,w=n.length;b<w;b++)d=n[b],d!=null&&d<l&&(l=d)}else o=Ec(o,i),Uv(n,function(A,I,N){m=o(A,I,N),(m<c||m===1/0&&l===1/0)&&(l=A,c=m)});return l}var zSt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function dDe(n){return n?SE(n)?WM.call(n):Xte(n)?n.match(zSt):sh(n)?pE(n,tre):NI(n):[]}function pDe(n,o,i){if(o==null||i)return sh(n)||(n=NI(n)),n[tee(n.length-1)];var l=dDe(n),c=yc(l);o=Math.max(Math.min(o,c),0);for(var d=c-1,m=0;m<o;m++){var b=tee(m,d),w=l[m];l[m]=l[b],l[b]=w}return l.slice(0,o)}function VSt(n){return pDe(n,1/0)}function jSt(n,o,i){var l=0;return o=Ec(o,i),ore(pE(n,function(c,d,m){return{value:c,index:l++,criteria:o(c,d,m)}}).sort(function(c,d){var m=c.criteria,b=d.criteria;if(m!==b){if(m>b||m===void 0)return 1;if(m<b||b===void 0)return-1}return c.index-d.index}),"value")}function N9(n,o){return function(i,l,c){var d=o?[[],[]]:{};return l=Ec(l,c),Uv(i,function(m,b){var w=l(m,b,i);n(d,m,w)}),d}}const WSt=N9(function(n,o,i){Cb(n,i)?n[i].push(o):n[i]=[o]}),XSt=N9(function(n,o,i){n[i]=o}),YSt=N9(function(n,o,i){Cb(n,i)?n[i]++:n[i]=1}),qSt=N9(function(n,o,i){n[i?0:1].push(o)},!0);function ZSt(n){return n==null?0:sh(n)?n.length:Ms(n).length}function KSt(n,o,i){return o in i}const mDe=vc(function(n,o){var i={},l=o[0];if(n==null)return i;wu(l)?(o.length>1&&(l=qM(l,o[1])),o=XM(n)):(l=KSt,o=AE(o,!1,!1),n=Object(n));for(var c=0,d=o.length;c<d;c++){var m=o[c],b=n[m];l(b,m,n)&&(i[m]=b)}return i}),QSt=vc(function(n,o){var i=o[0],l;return wu(i)?(i=ire(i),o.length>1&&(l=o[1])):(o=pE(AE(o,!1,!1),String),i=function(c,d){return!Lv(o,d)}),mDe(n,i,l)});function gDe(n,o,i){return WM.call(n,0,Math.max(0,n.length-(o==null||i?1:o)))}function JK(n,o,i){return n==null||n.length<1?o==null||i?void 0:[]:o==null||i?n[0]:gDe(n,n.length-o)}function KH(n,o,i){return WM.call(n,o==null||i?1:o)}function JSt(n,o,i){return n==null||n.length<1?o==null||i?void 0:[]:o==null||i?n[n.length-1]:KH(n,Math.max(0,n.length-o))}function eAt(n){return _I(n,Boolean)}function tAt(n,o){return AE(n,o,!1)}const vDe=vc(function(n,o){return o=AE(o,!0,!0),_I(n,function(i){return!Lv(o,i)})}),rAt=vc(function(n,o){return vDe(n,o)});function nee(n,o,i,l){xIe(o)||(l=i,i=o,o=!1),i!=null&&(i=Ec(i,l));for(var c=[],d=[],m=0,b=yc(n);m<b;m++){var w=n[m],A=i?i(w,m,n):w;o&&!i?((!m||d!==A)&&c.push(w),d=A):i?Lv(d,A)||(d.push(A),c.push(w)):Lv(c,w)||c.push(w)}return c}const nAt=vc(function(n){return nee(AE(n,!0,!0))});function iAt(n){for(var o=[],i=arguments.length,l=0,c=yc(n);l<c;l++){var d=n[l];if(!Lv(o,d)){var m;for(m=1;m<i&&Lv(arguments[m],d);m++);m===i&&o.push(d)}}return o}function iee(n){for(var o=n&&fDe(n,yc).length||0,i=Array(o),l=0;l<o;l++)i[l]=ore(n,l);return i}const aAt=vc(iee);function oAt(n,o){for(var i={},l=0,c=yc(n);l<c;l++)o?i[n[l]]=o[l]:i[n[l][0]]=n[l][1];return i}function sAt(n,o,i){o==null&&(o=n||0,n=0),i||(i=o<n?-1:1);for(var l=Math.max(Math.ceil((o-n)/i),0),c=Array(l),d=0;d<l;d++,n+=i)c[d]=n;return c}function lAt(n,o){if(o==null||o<1)return[];for(var i=[],l=0,c=n.length;l<c;)i.push(WM.call(n,l,l+=o));return i}function sre(n,o){return n._chain?ta(o).chain():o}function yDe(n){return Uv(eee(n),function(o){var i=ta[o]=n[o];ta.prototype[o]=function(){var l=[this._wrapped];return REt.apply(l,arguments),sre(this,i.apply(ta,l))}}),ta}Uv(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var o=P9[n];ta.prototype[n]=function(){var i=this._wrapped;return i!=null&&(o.apply(i,arguments),(n==="shift"||n==="splice")&&i.length===0&&delete i[0]),sre(this,i)}});Uv(["concat","join","slice"],function(n){var o=P9[n];ta.prototype[n]=function(){var i=this._wrapped;return i!=null&&(i=o.apply(i,arguments)),sre(this,i)}});const uAt=Object.freeze(Object.defineProperty({__proto__:null,VERSION:SIe,after:MSt,all:xTe,allKeys:XM,any:ITe,assign:qU,before:iDe,bind:rDe,bindAll:ISt,chain:xSt,chunk:lAt,clone:uSt,collect:pE,compact:eAt,compose:NSt,constant:MIe,contains:Lv,countBy:YSt,create:lSt,debounce:RSt,default:ta,defaults:XIe,defer:OSt,delay:nDe,detect:ree,difference:vDe,drop:KH,each:Uv,escape:mSt,every:xTe,extend:WIe,extendOwn:qU,filter:_I,find:ree,findIndex:are,findKey:aDe,findLastIndex:sDe,findWhere:BSt,first:JK,flatten:tAt,foldl:QK,foldr:CTe,forEach:Uv,functions:eee,get:ZIe,groupBy:WSt,has:hSt,head:JK,identity:tre,include:Lv,includes:Lv,indexBy:XSt,indexOf:cDe,initial:gDe,inject:QK,intersection:iAt,invert:jIe,invoke:USt,isArguments:qte,isArray:SE,isArrayBuffer:OIe,isBoolean:xIe,isDataView:XU,isDate:GEt,isElement:UEt,isEmpty:QEt,isEqual:JEt,isError:zEt,isFinite:XEt,isFunction:wu,isMap:rSt,isMatch:UIe,isNaN:NIe,isNull:HEt,isNumber:IIe,isObject:EE,isRegExp:$Et,isSet:iSt,isString:Xte,isSymbol:DIe,isTypedArray:BIe,isUndefined:CIe,isWeakMap:nSt,isWeakSet:aSt,iteratee:nre,keys:Ms,last:JSt,lastIndexOf:FSt,map:pE,mapObject:fSt,matcher:bM,matches:bM,max:fDe,memoize:DSt,methods:eee,min:$St,mixin:yDe,negate:ire,noop:QIe,now:_M,object:oAt,omit:QSt,once:LSt,pairs:oSt,partial:MI,partition:qSt,pick:mDe,pluck:ore,property:rre,propertyOf:dSt,random:tee,range:sAt,reduce:QK,reduceRight:CTe,reject:HSt,rest:KH,restArguments:vc,result:ASt,sample:pDe,select:_I,shuffle:VSt,size:ZSt,some:ITe,sortBy:jSt,sortedIndex:lDe,tail:KH,take:JK,tap:cSt,template:SSt,templateSettings:ySt,throttle:kSt,times:pSt,toArray:dDe,toPath:qIe,transpose:iee,unescape:vSt,union:nAt,uniq:nee,unique:nee,uniqueId:CSt,unzip:iee,values:NI,where:GSt,without:rAt,wrap:PSt,zip:aAt},Symbol.toStringTag,{value:"Module"}));var aee=yDe(uAt);aee._=aee;function bDe(n,o){return function(){return n.apply(o,arguments)}}const{toString:cAt}=Object.prototype,{getPrototypeOf:lre}=Object,M9=(n=>o=>{const i=cAt.call(o);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Hm=n=>(n=n.toLowerCase(),o=>M9(o)===n),L9=n=>o=>typeof o===n,{isArray:LI}=Array,TM=L9("undefined");function hAt(n){return n!==null&&!TM(n)&&n.constructor!==null&&!TM(n.constructor)&&vf(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const _De=Hm("ArrayBuffer");function fAt(n){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(n):o=n&&n.buffer&&_De(n.buffer),o}const dAt=L9("string"),vf=L9("function"),TDe=L9("number"),F9=n=>n!==null&&typeof n=="object",pAt=n=>n===!0||n===!1,QH=n=>{if(M9(n)!=="object")return!1;const o=lre(n);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mAt=Hm("Date"),gAt=Hm("File"),vAt=Hm("Blob"),yAt=Hm("FileList"),bAt=n=>F9(n)&&vf(n.pipe),_At=n=>{let o;return n&&(typeof FormData=="function"&&n instanceof FormData||vf(n.append)&&((o=M9(n))==="formdata"||o==="object"&&vf(n.toString)&&n.toString()==="[object FormData]"))},TAt=Hm("URLSearchParams"),EAt=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ZM(n,o,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let l,c;if(typeof n!="object"&&(n=[n]),LI(n))for(l=0,c=n.length;l<c;l++)o.call(null,n[l],l,n);else{const d=i?Object.getOwnPropertyNames(n):Object.keys(n),m=d.length;let b;for(l=0;l<m;l++)b=d[l],o.call(null,n[b],b,n)}}function EDe(n,o){o=o.toLowerCase();const i=Object.keys(n);let l=i.length,c;for(;l-- >0;)if(c=i[l],o===c.toLowerCase())return c;return null}const SDe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ADe=n=>!TM(n)&&n!==SDe;function oee(){const{caseless:n}=ADe(this)&&this||{},o={},i=(l,c)=>{const d=n&&EDe(o,c)||c;QH(o[d])&&QH(l)?o[d]=oee(o[d],l):QH(l)?o[d]=oee({},l):LI(l)?o[d]=l.slice():o[d]=l};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&ZM(arguments[l],i);return o}const SAt=(n,o,i,{allOwnKeys:l}={})=>(ZM(o,(c,d)=>{i&&vf(c)?n[d]=bDe(c,i):n[d]=c},{allOwnKeys:l}),n),AAt=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),wAt=(n,o,i,l)=>{n.prototype=Object.create(o.prototype,l),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:o.prototype}),i&&Object.assign(n.prototype,i)},CAt=(n,o,i,l)=>{let c,d,m;const b={};if(o=o||{},n==null)return o;do{for(c=Object.getOwnPropertyNames(n),d=c.length;d-- >0;)m=c[d],(!l||l(m,n,o))&&!b[m]&&(o[m]=n[m],b[m]=!0);n=i!==!1&&lre(n)}while(n&&(!i||i(n,o))&&n!==Object.prototype);return o},xAt=(n,o,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=o.length;const l=n.indexOf(o,i);return l!==-1&&l===i},IAt=n=>{if(!n)return null;if(LI(n))return n;let o=n.length;if(!TDe(o))return null;const i=new Array(o);for(;o-- >0;)i[o]=n[o];return i},DAt=(n=>o=>n&&o instanceof n)(typeof Uint8Array<"u"&&lre(Uint8Array)),OAt=(n,o)=>{const l=(n&&n[Symbol.iterator]).call(n);let c;for(;(c=l.next())&&!c.done;){const d=c.value;o.call(n,d[0],d[1])}},kAt=(n,o)=>{let i;const l=[];for(;(i=n.exec(o))!==null;)l.push(i);return l},RAt=Hm("HTMLFormElement"),PAt=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,l,c){return l.toUpperCase()+c}),DTe=(({hasOwnProperty:n})=>(o,i)=>n.call(o,i))(Object.prototype),NAt=Hm("RegExp"),wDe=(n,o)=>{const i=Object.getOwnPropertyDescriptors(n),l={};ZM(i,(c,d)=>{let m;(m=o(c,d,n))!==!1&&(l[d]=m||c)}),Object.defineProperties(n,l)},MAt=n=>{wDe(n,(o,i)=>{if(vf(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const l=n[i];if(vf(l)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},LAt=(n,o)=>{const i={},l=c=>{c.forEach(d=>{i[d]=!0})};return LI(n)?l(n):l(String(n).split(o)),i},FAt=()=>{},BAt=(n,o)=>(n=+n,Number.isFinite(n)?n:o),eQ="abcdefghijklmnopqrstuvwxyz",OTe="0123456789",CDe={DIGIT:OTe,ALPHA:eQ,ALPHA_DIGIT:eQ+eQ.toUpperCase()+OTe},HAt=(n=16,o=CDe.ALPHA_DIGIT)=>{let i="";const{length:l}=o;for(;n--;)i+=o[Math.random()*l|0];return i};function UAt(n){return!!(n&&vf(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const GAt=n=>{const o=new Array(10),i=(l,c)=>{if(F9(l)){if(o.indexOf(l)>=0)return;if(!("toJSON"in l)){o[c]=l;const d=LI(l)?[]:{};return ZM(l,(m,b)=>{const w=i(m,c+1);!TM(w)&&(d[b]=w)}),o[c]=void 0,d}}return l};return i(n,0)},$At=Hm("AsyncFunction"),zAt=n=>n&&(F9(n)||vf(n))&&vf(n.then)&&vf(n.catch),tr={isArray:LI,isArrayBuffer:_De,isBuffer:hAt,isFormData:_At,isArrayBufferView:fAt,isString:dAt,isNumber:TDe,isBoolean:pAt,isObject:F9,isPlainObject:QH,isUndefined:TM,isDate:mAt,isFile:gAt,isBlob:vAt,isRegExp:NAt,isFunction:vf,isStream:bAt,isURLSearchParams:TAt,isTypedArray:DAt,isFileList:yAt,forEach:ZM,merge:oee,extend:SAt,trim:EAt,stripBOM:AAt,inherits:wAt,toFlatObject:CAt,kindOf:M9,kindOfTest:Hm,endsWith:xAt,toArray:IAt,forEachEntry:OAt,matchAll:kAt,isHTMLForm:RAt,hasOwnProperty:DTe,hasOwnProp:DTe,reduceDescriptors:wDe,freezeMethods:MAt,toObjectSet:LAt,toCamelCase:PAt,noop:FAt,toFiniteNumber:BAt,findKey:EDe,global:SDe,isContextDefined:ADe,ALPHABET:CDe,generateString:HAt,isSpecCompliantForm:UAt,toJSONObject:GAt,isAsyncFn:$At,isThenable:zAt};function Ri(n,o,i,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",o&&(this.code=o),i&&(this.config=i),l&&(this.request=l),c&&(this.response=c)}tr.inherits(Ri,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xDe=Ri.prototype,IDe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{IDe[n]={value:n}});Object.defineProperties(Ri,IDe);Object.defineProperty(xDe,"isAxiosError",{value:!0});Ri.from=(n,o,i,l,c,d)=>{const m=Object.create(xDe);return tr.toFlatObject(n,m,function(w){return w!==Error.prototype},b=>b!=="isAxiosError"),Ri.call(m,n.message,o,i,l,c),m.cause=n,m.name=n.name,d&&Object.assign(m,d),m};const VAt=null;function see(n){return tr.isPlainObject(n)||tr.isArray(n)}function DDe(n){return tr.endsWith(n,"[]")?n.slice(0,-2):n}function kTe(n,o,i){return n?n.concat(o).map(function(c,d){return c=DDe(c),!i&&d?"["+c+"]":c}).join(i?".":""):o}function jAt(n){return tr.isArray(n)&&!n.some(see)}const WAt=tr.toFlatObject(tr,{},null,function(o){return/^is[A-Z]/.test(o)});function B9(n,o,i){if(!tr.isObject(n))throw new TypeError("target must be an object");o=o||new FormData,i=tr.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,V){return!tr.isUndefined(V[z])});const l=i.metaTokens,c=i.visitor||I,d=i.dots,m=i.indexes,w=(i.Blob||typeof Blob<"u"&&Blob)&&tr.isSpecCompliantForm(o);if(!tr.isFunction(c))throw new TypeError("visitor must be a function");function A(L){if(L===null)return"";if(tr.isDate(L))return L.toISOString();if(!w&&tr.isBlob(L))throw new Ri("Blob is not supported. Use a Buffer instead.");return tr.isArrayBuffer(L)||tr.isTypedArray(L)?w&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function I(L,z,V){let te=L;if(L&&!V&&typeof L=="object"){if(tr.endsWith(z,"{}"))z=l?z:z.slice(0,-2),L=JSON.stringify(L);else if(tr.isArray(L)&&jAt(L)||(tr.isFileList(L)||tr.endsWith(z,"[]"))&&(te=tr.toArray(L)))return z=DDe(z),te.forEach(function(Y,q){!(tr.isUndefined(Y)||Y===null)&&o.append(m===!0?kTe([z],q,d):m===null?z:z+"[]",A(Y))}),!1}return see(L)?!0:(o.append(kTe(V,z,d),A(L)),!1)}const N=[],R=Object.assign(WAt,{defaultVisitor:I,convertValue:A,isVisitable:see});function D(L,z){if(!tr.isUndefined(L)){if(N.indexOf(L)!==-1)throw Error("Circular reference detected in "+z.join("."));N.push(L),tr.forEach(L,function(te,fe){(!(tr.isUndefined(te)||te===null)&&c.call(o,te,tr.isString(fe)?fe.trim():fe,z,R))===!0&&D(te,z?z.concat(fe):[fe])}),N.pop()}}if(!tr.isObject(n))throw new TypeError("data must be an object");return D(n),o}function RTe(n){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(l){return o[l]})}function ure(n,o){this._pairs=[],n&&B9(n,this,o)}const ODe=ure.prototype;ODe.append=function(o,i){this._pairs.push([o,i])};ODe.toString=function(o){const i=o?function(l){return o.call(this,l,RTe)}:RTe;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function XAt(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kDe(n,o,i){if(!o)return n;const l=i&&i.encode||XAt,c=i&&i.serialize;let d;if(c?d=c(o,i):d=tr.isURLSearchParams(o)?o.toString():new ure(o,i).toString(l),d){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class YAt{constructor(){this.handlers=[]}use(o,i,l){return this.handlers.push({fulfilled:o,rejected:i,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){tr.forEach(this.handlers,function(l){l!==null&&o(l)})}}const PTe=YAt,RDe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qAt=typeof URLSearchParams<"u"?URLSearchParams:ure,ZAt=typeof FormData<"u"?FormData:null,KAt=typeof Blob<"u"?Blob:null,QAt=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),JAt=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Dd={isBrowser:!0,classes:{URLSearchParams:qAt,FormData:ZAt,Blob:KAt},isStandardBrowserEnv:QAt,isStandardBrowserWebWorkerEnv:JAt,protocols:["http","https","file","blob","url","data"]};function ewt(n,o){return B9(n,new Dd.classes.URLSearchParams,Object.assign({visitor:function(i,l,c,d){return Dd.isNode&&tr.isBuffer(i)?(this.append(l,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},o))}function twt(n){return tr.matchAll(/\w+|\[(\w*)]/g,n).map(o=>o[0]==="[]"?"":o[1]||o[0])}function rwt(n){const o={},i=Object.keys(n);let l;const c=i.length;let d;for(l=0;l<c;l++)d=i[l],o[d]=n[d];return o}function PDe(n){function o(i,l,c,d){let m=i[d++];const b=Number.isFinite(+m),w=d>=i.length;return m=!m&&tr.isArray(c)?c.length:m,w?(tr.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!b):((!c[m]||!tr.isObject(c[m]))&&(c[m]=[]),o(i,l,c[m],d)&&tr.isArray(c[m])&&(c[m]=rwt(c[m])),!b)}if(tr.isFormData(n)&&tr.isFunction(n.entries)){const i={};return tr.forEachEntry(n,(l,c)=>{o(twt(l),c,i,0)}),i}return null}function nwt(n,o,i){if(tr.isString(n))try{return(o||JSON.parse)(n),tr.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(i||JSON.stringify)(n)}const cre={transitional:RDe,adapter:Dd.isNode?"http":"xhr",transformRequest:[function(o,i){const l=i.getContentType()||"",c=l.indexOf("application/json")>-1,d=tr.isObject(o);if(d&&tr.isHTMLForm(o)&&(o=new FormData(o)),tr.isFormData(o))return c&&c?JSON.stringify(PDe(o)):o;if(tr.isArrayBuffer(o)||tr.isBuffer(o)||tr.isStream(o)||tr.isFile(o)||tr.isBlob(o))return o;if(tr.isArrayBufferView(o))return o.buffer;if(tr.isURLSearchParams(o))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let b;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return ewt(o,this.formSerializer).toString();if((b=tr.isFileList(o))||l.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return B9(b?{"files[]":o}:o,w&&new w,this.formSerializer)}}return d||c?(i.setContentType("application/json",!1),nwt(o)):o}],transformResponse:[function(o){const i=this.transitional||cre.transitional,l=i&&i.forcedJSONParsing,c=this.responseType==="json";if(o&&tr.isString(o)&&(l&&!this.responseType||c)){const m=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(o)}catch(b){if(m)throw b.name==="SyntaxError"?Ri.from(b,Ri.ERR_BAD_RESPONSE,this,null,this.response):b}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dd.classes.FormData,Blob:Dd.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tr.forEach(["delete","get","head","post","put","patch"],n=>{cre.headers[n]={}});const hre=cre,iwt=tr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),awt=n=>{const o={};let i,l,c;return n&&n.split(`
`).forEach(function(m){c=m.indexOf(":"),i=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!i||o[i]&&iwt[i])&&(i==="set-cookie"?o[i]?o[i].push(l):o[i]=[l]:o[i]=o[i]?o[i]+", "+l:l)}),o},NTe=Symbol("internals");function b2(n){return n&&String(n).trim().toLowerCase()}function JH(n){return n===!1||n==null?n:tr.isArray(n)?n.map(JH):String(n)}function owt(n){const o=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=i.exec(n);)o[l[1]]=l[2];return o}const swt=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function tQ(n,o,i,l,c){if(tr.isFunction(l))return l.call(this,o,i);if(c&&(o=i),!!tr.isString(o)){if(tr.isString(l))return o.indexOf(l)!==-1;if(tr.isRegExp(l))return l.test(o)}}function lwt(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,i,l)=>i.toUpperCase()+l)}function uwt(n,o){const i=tr.toCamelCase(" "+o);["get","set","has"].forEach(l=>{Object.defineProperty(n,l+i,{value:function(c,d,m){return this[l].call(this,o,c,d,m)},configurable:!0})})}class H9{constructor(o){o&&this.set(o)}set(o,i,l){const c=this;function d(b,w,A){const I=b2(w);if(!I)throw new Error("header name must be a non-empty string");const N=tr.findKey(c,I);(!N||c[N]===void 0||A===!0||A===void 0&&c[N]!==!1)&&(c[N||w]=JH(b))}const m=(b,w)=>tr.forEach(b,(A,I)=>d(A,I,w));return tr.isPlainObject(o)||o instanceof this.constructor?m(o,i):tr.isString(o)&&(o=o.trim())&&!swt(o)?m(awt(o),i):o!=null&&d(i,o,l),this}get(o,i){if(o=b2(o),o){const l=tr.findKey(this,o);if(l){const c=this[l];if(!i)return c;if(i===!0)return owt(c);if(tr.isFunction(i))return i.call(this,c,l);if(tr.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,i){if(o=b2(o),o){const l=tr.findKey(this,o);return!!(l&&this[l]!==void 0&&(!i||tQ(this,this[l],l,i)))}return!1}delete(o,i){const l=this;let c=!1;function d(m){if(m=b2(m),m){const b=tr.findKey(l,m);b&&(!i||tQ(l,l[b],b,i))&&(delete l[b],c=!0)}}return tr.isArray(o)?o.forEach(d):d(o),c}clear(o){const i=Object.keys(this);let l=i.length,c=!1;for(;l--;){const d=i[l];(!o||tQ(this,this[d],d,o,!0))&&(delete this[d],c=!0)}return c}normalize(o){const i=this,l={};return tr.forEach(this,(c,d)=>{const m=tr.findKey(l,d);if(m){i[m]=JH(c),delete i[d];return}const b=o?lwt(d):String(d).trim();b!==d&&delete i[d],i[b]=JH(c),l[b]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const i=Object.create(null);return tr.forEach(this,(l,c)=>{l!=null&&l!==!1&&(i[c]=o&&tr.isArray(l)?l.join(", "):l)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,i])=>o+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...i){const l=new this(o);return i.forEach(c=>l.set(c)),l}static accessor(o){const l=(this[NTe]=this[NTe]={accessors:{}}).accessors,c=this.prototype;function d(m){const b=b2(m);l[b]||(uwt(c,m),l[b]=!0)}return tr.isArray(o)?o.forEach(d):d(o),this}}H9.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tr.reduceDescriptors(H9.prototype,({value:n},o)=>{let i=o[0].toUpperCase()+o.slice(1);return{get:()=>n,set(l){this[i]=l}}});tr.freezeMethods(H9);const Fv=H9;function rQ(n,o){const i=this||hre,l=o||i,c=Fv.from(l.headers);let d=l.data;return tr.forEach(n,function(b){d=b.call(i,d,c.normalize(),o?o.status:void 0)}),c.normalize(),d}function NDe(n){return!!(n&&n.__CANCEL__)}function KM(n,o,i){Ri.call(this,n??"canceled",Ri.ERR_CANCELED,o,i),this.name="CanceledError"}tr.inherits(KM,Ri,{__CANCEL__:!0});function cwt(n,o,i){const l=i.config.validateStatus;!i.status||!l||l(i.status)?n(i):o(new Ri("Request failed with status code "+i.status,[Ri.ERR_BAD_REQUEST,Ri.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const hwt=Dd.isStandardBrowserEnv?function(){return{write:function(i,l,c,d,m,b){const w=[];w.push(i+"="+encodeURIComponent(l)),tr.isNumber(c)&&w.push("expires="+new Date(c).toGMTString()),tr.isString(d)&&w.push("path="+d),tr.isString(m)&&w.push("domain="+m),b===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(i){const l=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function fwt(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function dwt(n,o){return o?n.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):n}function MDe(n,o){return n&&!fwt(o)?dwt(n,o):o}const pwt=Dd.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let l;function c(d){let m=d;return o&&(i.setAttribute("href",m),m=i.href),i.setAttribute("href",m),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return l=c(window.location.href),function(m){const b=tr.isString(m)?c(m):m;return b.protocol===l.protocol&&b.host===l.host}}():function(){return function(){return!0}}();function mwt(n){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return o&&o[1]||""}function gwt(n,o){n=n||10;const i=new Array(n),l=new Array(n);let c=0,d=0,m;return o=o!==void 0?o:1e3,function(w){const A=Date.now(),I=l[d];m||(m=A),i[c]=w,l[c]=A;let N=d,R=0;for(;N!==c;)R+=i[N++],N=N%n;if(c=(c+1)%n,c===d&&(d=(d+1)%n),A-m<o)return;const D=I&&A-I;return D?Math.round(R*1e3/D):void 0}}function MTe(n,o){let i=0;const l=gwt(50,250);return c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,b=d-i,w=l(b),A=d<=m;i=d;const I={loaded:d,total:m,progress:m?d/m:void 0,bytes:b,rate:w||void 0,estimated:w&&m&&A?(m-d)/w:void 0,event:c};I[o?"download":"upload"]=!0,n(I)}}const vwt=typeof XMLHttpRequest<"u",ywt=vwt&&function(n){return new Promise(function(i,l){let c=n.data;const d=Fv.from(n.headers).normalize(),m=n.responseType;let b;function w(){n.cancelToken&&n.cancelToken.unsubscribe(b),n.signal&&n.signal.removeEventListener("abort",b)}tr.isFormData(c)&&(Dd.isStandardBrowserEnv||Dd.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.setContentType("multipart/form-data;",!1));let A=new XMLHttpRequest;if(n.auth){const D=n.auth.username||"",L=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";d.set("Authorization","Basic "+btoa(D+":"+L))}const I=MDe(n.baseURL,n.url);A.open(n.method.toUpperCase(),kDe(I,n.params,n.paramsSerializer),!0),A.timeout=n.timeout;function N(){if(!A)return;const D=Fv.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!m||m==="text"||m==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:n,request:A};cwt(function(te){i(te),w()},function(te){l(te),w()},z),A=null}if("onloadend"in A?A.onloadend=N:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(N)},A.onabort=function(){A&&(l(new Ri("Request aborted",Ri.ECONNABORTED,n,A)),A=null)},A.onerror=function(){l(new Ri("Network Error",Ri.ERR_NETWORK,n,A)),A=null},A.ontimeout=function(){let L=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const z=n.transitional||RDe;n.timeoutErrorMessage&&(L=n.timeoutErrorMessage),l(new Ri(L,z.clarifyTimeoutError?Ri.ETIMEDOUT:Ri.ECONNABORTED,n,A)),A=null},Dd.isStandardBrowserEnv){const D=(n.withCredentials||pwt(I))&&n.xsrfCookieName&&hwt.read(n.xsrfCookieName);D&&d.set(n.xsrfHeaderName,D)}c===void 0&&d.setContentType(null),"setRequestHeader"in A&&tr.forEach(d.toJSON(),function(L,z){A.setRequestHeader(z,L)}),tr.isUndefined(n.withCredentials)||(A.withCredentials=!!n.withCredentials),m&&m!=="json"&&(A.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&A.addEventListener("progress",MTe(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",MTe(n.onUploadProgress)),(n.cancelToken||n.signal)&&(b=D=>{A&&(l(!D||D.type?new KM(null,n,A):D),A.abort(),A=null)},n.cancelToken&&n.cancelToken.subscribe(b),n.signal&&(n.signal.aborted?b():n.signal.addEventListener("abort",b)));const R=mwt(I);if(R&&Dd.protocols.indexOf(R)===-1){l(new Ri("Unsupported protocol "+R+":",Ri.ERR_BAD_REQUEST,n));return}A.send(c||null)})},eU={http:VAt,xhr:ywt};tr.forEach(eU,(n,o)=>{if(n){try{Object.defineProperty(n,"name",{value:o})}catch{}Object.defineProperty(n,"adapterName",{value:o})}});const LDe={getAdapter:n=>{n=tr.isArray(n)?n:[n];const{length:o}=n;let i,l;for(let c=0;c<o&&(i=n[c],!(l=tr.isString(i)?eU[i.toLowerCase()]:i));c++);if(!l)throw l===!1?new Ri(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(tr.hasOwnProp(eU,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!tr.isFunction(l))throw new TypeError("adapter is not a function");return l},adapters:eU};function nQ(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new KM(null,n)}function LTe(n){return nQ(n),n.headers=Fv.from(n.headers),n.data=rQ.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),LDe.getAdapter(n.adapter||hre.adapter)(n).then(function(l){return nQ(n),l.data=rQ.call(n,n.transformResponse,l),l.headers=Fv.from(l.headers),l},function(l){return NDe(l)||(nQ(n),l&&l.response&&(l.response.data=rQ.call(n,n.transformResponse,l.response),l.response.headers=Fv.from(l.response.headers))),Promise.reject(l)})}const FTe=n=>n instanceof Fv?n.toJSON():n;function TI(n,o){o=o||{};const i={};function l(A,I,N){return tr.isPlainObject(A)&&tr.isPlainObject(I)?tr.merge.call({caseless:N},A,I):tr.isPlainObject(I)?tr.merge({},I):tr.isArray(I)?I.slice():I}function c(A,I,N){if(tr.isUndefined(I)){if(!tr.isUndefined(A))return l(void 0,A,N)}else return l(A,I,N)}function d(A,I){if(!tr.isUndefined(I))return l(void 0,I)}function m(A,I){if(tr.isUndefined(I)){if(!tr.isUndefined(A))return l(void 0,A)}else return l(void 0,I)}function b(A,I,N){if(N in o)return l(A,I);if(N in n)return l(void 0,A)}const w={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:b,headers:(A,I)=>c(FTe(A),FTe(I),!0)};return tr.forEach(Object.keys(Object.assign({},n,o)),function(I){const N=w[I]||c,R=N(n[I],o[I],I);tr.isUndefined(R)&&N!==b||(i[I]=R)}),i}const FDe="1.5.0",fre={};["object","boolean","number","function","string","symbol"].forEach((n,o)=>{fre[n]=function(l){return typeof l===n||"a"+(o<1?"n ":" ")+n}});const BTe={};fre.transitional=function(o,i,l){function c(d,m){return"[Axios v"+FDe+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,b)=>{if(o===!1)throw new Ri(c(m," has been removed"+(i?" in "+i:"")),Ri.ERR_DEPRECATED);return i&&!BTe[m]&&(BTe[m]=!0,console.warn(c(m," has been deprecated since v"+i+" and will be removed in the near future"))),o?o(d,m,b):!0}};function bwt(n,o,i){if(typeof n!="object")throw new Ri("options must be an object",Ri.ERR_BAD_OPTION_VALUE);const l=Object.keys(n);let c=l.length;for(;c-- >0;){const d=l[c],m=o[d];if(m){const b=n[d],w=b===void 0||m(b,d,n);if(w!==!0)throw new Ri("option "+d+" must be "+w,Ri.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ri("Unknown option "+d,Ri.ERR_BAD_OPTION)}}const lee={assertOptions:bwt,validators:fre},ib=lee.validators;class ZU{constructor(o){this.defaults=o,this.interceptors={request:new PTe,response:new PTe}}request(o,i){typeof o=="string"?(i=i||{},i.url=o):i=o||{},i=TI(this.defaults,i);const{transitional:l,paramsSerializer:c,headers:d}=i;l!==void 0&&lee.assertOptions(l,{silentJSONParsing:ib.transitional(ib.boolean),forcedJSONParsing:ib.transitional(ib.boolean),clarifyTimeoutError:ib.transitional(ib.boolean)},!1),c!=null&&(tr.isFunction(c)?i.paramsSerializer={serialize:c}:lee.assertOptions(c,{encode:ib.function,serialize:ib.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=d&&tr.merge(d.common,d[i.method]);d&&tr.forEach(["delete","get","head","post","put","patch","common"],L=>{delete d[L]}),i.headers=Fv.concat(m,d);const b=[];let w=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(i)===!1||(w=w&&z.synchronous,b.unshift(z.fulfilled,z.rejected))});const A=[];this.interceptors.response.forEach(function(z){A.push(z.fulfilled,z.rejected)});let I,N=0,R;if(!w){const L=[LTe.bind(this),void 0];for(L.unshift.apply(L,b),L.push.apply(L,A),R=L.length,I=Promise.resolve(i);N<R;)I=I.then(L[N++],L[N++]);return I}R=b.length;let D=i;for(N=0;N<R;){const L=b[N++],z=b[N++];try{D=L(D)}catch(V){z.call(this,V);break}}try{I=LTe.call(this,D)}catch(L){return Promise.reject(L)}for(N=0,R=A.length;N<R;)I=I.then(A[N++],A[N++]);return I}getUri(o){o=TI(this.defaults,o);const i=MDe(o.baseURL,o.url);return kDe(i,o.params,o.paramsSerializer)}}tr.forEach(["delete","get","head","options"],function(o){ZU.prototype[o]=function(i,l){return this.request(TI(l||{},{method:o,url:i,data:(l||{}).data}))}});tr.forEach(["post","put","patch"],function(o){function i(l){return function(d,m,b){return this.request(TI(b||{},{method:o,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}ZU.prototype[o]=i(),ZU.prototype[o+"Form"]=i(!0)});const tU=ZU;class dre{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(b=>{l.subscribe(b),d=b}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},o(function(d,m,b){l.reason||(l.reason=new KM(d,m,b),i(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const i=this._listeners.indexOf(o);i!==-1&&this._listeners.splice(i,1)}static source(){let o;return{token:new dre(function(c){o=c}),cancel:o}}}const _wt=dre;function Twt(n){return function(i){return n.apply(null,i)}}function Ewt(n){return tr.isObject(n)&&n.isAxiosError===!0}const uee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uee).forEach(([n,o])=>{uee[o]=n});const Swt=uee;function BDe(n){const o=new tU(n),i=bDe(tU.prototype.request,o);return tr.extend(i,tU.prototype,o,{allOwnKeys:!0}),tr.extend(i,o,null,{allOwnKeys:!0}),i.create=function(c){return BDe(TI(n,c))},i}const Jo=BDe(hre);Jo.Axios=tU;Jo.CanceledError=KM;Jo.CancelToken=_wt;Jo.isCancel=NDe;Jo.VERSION=FDe;Jo.toFormData=B9;Jo.AxiosError=Ri;Jo.Cancel=Jo.CanceledError;Jo.all=function(o){return Promise.all(o)};Jo.spread=Twt;Jo.isAxiosError=Ewt;Jo.mergeConfig=TI;Jo.AxiosHeaders=Fv;Jo.formToJSON=n=>PDe(tr.isHTMLForm(n)?new FormData(n):n);Jo.getAdapter=LDe.getAdapter;Jo.HttpStatusCode=Swt;Jo.default=Jo;const Awt=Jo;class wwt extends oh.PureComponent{constructor(o){super(o),this.higlassContainer=window.hgc,this.state={results:[],currentTextValue:o.value||"",loading:!1,error:null,info:null},this.currentRequest=null,this.onLoadData=aee.debounce(this.onLoadData.bind(this),500,!1),this.handleResultClick=this.handleResultClick.bind(this)}updateCurrentSearchTerm(o){const i=o.target.value;this.setState({currentTextValue:i},()=>{this.onLoadData()})}constructFetchURL(){const{currentTextValue:o}=this.state;return"https://cgap-higlass.com/api/v1/suggest/?d=gene_annotation_hg38&ac="+encodeURIComponent(o)}onLoadData(){if(this.state.currentTextValue.length<=1){this.setState({currentTextValue:this.state.currentTextValue,loading:!1,results:[],error:null,info:null});return}this.setState({loading:!0}),Awt.get(this.constructFetchURL()).then(o=>{let i=null;o&&o.data&&o.data.length===0?i=[]:o&&o.data&&o.data.length>0&&(i=o.data),i===null?this.setState({loading:!1,results:[],error:"Could not get a response from server. Check network and try again.",info:null}):i.length===0?this.setState({loading:!1,results:[],error:null,info:"We could not find any matching genes."}):i.length>0&&this.setState({loading:!1,results:i,error:null,info:null})})}handleResultClick(o,i){if(o.preventDefault(),window.hgc&&window.hgc.current){const l=window.hgc.current,c=l.api.getViewConfig(),d=c.views[0].uid;l.api.zoomToGene(d,i,1e4,2e3);const m=c.views[1].uid;l.api.zoomToGene(m,i,5e3,2e3)}}render(){const{results:o=[],loading:i,error:l,info:c}=this.state,d=i?"fa fa-spinner fa-spin fas":"fa fa-search fas";return Xt.jsxDEV(oh.Fragment,{children:[Xt.jsxDEV("div",{className:"input-group",children:[Xt.jsxDEV("div",{className:"input-group-prepend",children:Xt.jsxDEV("span",{className:"input-group-text",id:"search-for-gene-addon",children:Xt.jsxDEV("i",{className:d},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:117,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:116,columnNumber:11},this),Xt.jsxDEV("input",{type:"text",onChange:m=>this.updateCurrentSearchTerm(m),className:"form-control",placeholder:"Search for gene","aria-label":"Search for gene","aria-describedby":"search-for-gene-addon"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:115,columnNumber:9},this),Xt.jsxDEV(Cwt,{results:o,error:l,info:c,handleResultClick:this.handleResultClick},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:114,columnNumber:7},this)}}const Cwt=oh.memo(function(o){const{results:i,error:l,info:c,handleResultClick:d}=o;if(l)return Xt.jsxDEV("div",{className:"text-smaller",children:[Xt.jsxDEV("i",{className:"icon icon-exclamation-triangle fas text-warning ml-05 mr-05"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:147,columnNumber:9},this),l]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:146,columnNumber:7},this);if(c)return Xt.jsxDEV("div",{className:"text-smaller",children:[Xt.jsxDEV("i",{className:"icon icon-info-circle fas text-secondary ml-05 mr-05"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:154,columnNumber:9},this),c]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:153,columnNumber:7},this);const m=i.map((b,w)=>{if(!(w>=6))return Xt.jsxDEV("div",{className:"mr-1",children:Xt.jsxDEV("small",{children:Xt.jsxDEV("a",{href:"#",onClick:A=>d(A,b.geneName),children:b.geneName},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:168,columnNumber:11},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:167,columnNumber:9},this)},b.geneName,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:166,columnNumber:7},this)});return Xt.jsxDEV("div",{className:"d-flex flex-row flex-wrap bd-highlight",children:m},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/GeneSearchBox.jsx",lineNumber:180,columnNumber:5},this)}),xwt={views:[{uid:"ab",layout:{h:20,w:12,x:0,y:3},tracks:{top:[{uid:"emptytrack_clinvar",type:"empty",width:568,height:10,options:{}},{uid:"texttrack_clinvar",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"ClinVar variants",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"normal",backgroundColor:"#ededed"}},{uid:"clinvar_20200824_v5",type:"horizontal-clinvar",height:110,server:"https://cgap-higlass.com/api/v1",options:{name:"Clinvar",fontSize:10,fontFamily:"Arial",labelTextColor:"#888888",levelDistance:20,significanceColors:{pathogenic:"#D55E00",pathogenic_likely_pathogenic:"#CC79A7",likely_pathogenic:"#E69F00",uncertain_significance:"#808080",likely_benign:"#56B4E9",benign_likely_benign:"#0072B2",benign:"#009E73",risk_factor:"#999999"}},tilesetUid:"clinvar_20200824_hg38"}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[1543047040684278e-9,1.5497142497034417e6],initialYDomain:[13502279464736395e-7,13502279464736395e-7],genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}}],editable:!0,zoomFixed:!1,zoomLocks:{locksByViewUid:{},locksDict:{}},exportViewUrl:"/api/v1/viewconfs",locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:{},locksDict:{}},trackSourceServers:["https://cgap-higlass.com/api/v1"]},Iwt={viewConfigClinvar:xwt},Dwt={views:[{uid:"ab",layout:{h:20,w:12,x:0,y:3},tracks:{top:[{uid:"emptytrack_transcripts",type:"empty",width:568,height:10,options:{}},{uid:"texttrack_transcripts",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"Transcripts",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"normal",backgroundColor:"#ededed"}},{uid:"transcripts_annotation",type:"horizontal-transcripts",width:768,height:110,server:"https://cgap-higlass.com/api/v1",options:{name:"Gene transcripts",fontSize:9,maxTexts:100,utrColor:"#C0EAAF",minHeight:24,fontFamily:"Helvetica",sequenceData:{type:"fasta",faiUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.fa.fai",fastaUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.fa",chromSizesUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes"},labelFontColor:"#222222",startCollapsed:!1,plusStrandColor:"#bdbfff",minusStrandColor:"#fabec2",transcriptHeight:12,transcriptSpacing:2,mousePositionColor:"#000000",trackHeightAdjustment:"automatic",showToggleTranscriptsButton:!0,labelBackgroundPlusStrandColor:"#e9e9e9",labelBackgroundMinusStrandColor:"#e9e9e9",labelStrokePlusStrandColor:"#999999",labelStrokeMinusStrandColor:"#999999",backgroundColor:"#ffffff"},tilesetUid:"transcripts_hg38"}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[1543047040684278e-9,1.5497142497034417e6],initialYDomain:[13502279464736395e-7,13502279464736395e-7],genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}}],editable:!0,zoomFixed:!1,zoomLocks:{locksByViewUid:{},locksDict:{}},exportViewUrl:"/api/v1/viewconfs",locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:{},locksDict:{}},trackSourceServers:["https://cgap-higlass.com/api/v1"]},Owt={viewConfigTranscripts:Dwt},kwt={views:[{uid:"ab",layout:{h:20,w:12,x:0,y:3},tracks:{top:[{uid:"emptytrack_gnomad",type:"empty",width:568,height:10,options:{}},{uid:"texttrack_gnomad",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"gnomAD (allele frequencies)",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"normal",backgroundColor:"#ededed"}},{uid:"emptytrack_gnomad2",type:"empty",width:568,height:7,options:{}},{uid:"coverage_gnomad",type:"bar",width:768,height:45,server:"https://cgap-higlass.com/api/v1",options:{name:"gnomAD - median coverage",align:"bottom",barOpacity:1,barFillColor:"grey",valueScaling:"linear",labelPosition:"topLeft",valueScaleMax:60,valueScaleMin:0,labelTopMargin:0,labelLeftMargin:0,labelRightMargin:0,labelTextOpacity:.4,trackBorderColor:"black",trackBorderWidth:0,labelBottomMargin:0,labelShowAssembly:!1,axisLabelFormatting:"scientific",labelShowResolution:!1,axisPositionHorizontal:"right",labelColor:"[glyph-color]"},filetype:"bigwig",tilesetUid:"gnomad_coverage"},{uid:"emptytrack_gnomad3",type:"empty",width:568,height:7,options:{}},{uid:"gnomad",data:{type:"vcf",tbiUrl:"https://cgap-higlass.s3.amazonaws.com/gnomad/gnomad.higlass.v3.1.sites.vcf.gz.tbi",vcfUrl:"https://cgap-higlass.s3.amazonaws.com/gnomad/gnomad.higlass.v3.1.sites.vcf.gz",chromSizesUrl:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",maxTileWidth:2e5},type:"gnomad",width:768,height:200,options:{variantHeight:12,showMousePosition:!1,colorScale:[[.3,.3,.3,.6],[.6,.6,0,.7],[1,0,0,.55],[.68,.23,.87,.8],[.27,.64,.09,.8]],maxTileWidth:2e5}}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[1543047040684278e-9,1.5497142497034417e6],initialYDomain:[13502279464736395e-7,13502279464736395e-7],genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}}],editable:!0,zoomFixed:!1,zoomLocks:{locksByViewUid:{},locksDict:{}},exportViewUrl:"/api/v1/viewconfs",locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:{},locksDict:{}},trackSourceServers:["https://cgap-higlass.com/api/v1"]},Rwt={viewConfigGnomad:kwt},Pwt={views:[{uid:"ab",layout:{h:20,w:12,x:0,y:3},tracks:{top:[{uid:"emptytrack_orthologs",type:"empty",width:568,height:10,options:{}},{uid:"texttrack_orthologs",type:"text",width:568,height:20,server:"https://cgap-higlass.com/api/v1",options:{text:"Orthologs",align:"left",offsetY:4,fontSize:11,textColor:"#333333",fontFamily:"Arial",fontWeight:"normal",backgroundColor:"#ededed"}},{uid:"emptytrack_orthologs2",type:"empty",width:568,height:7,options:{}},{uid:"orthologs",type:"horizontal-orthologs",height:100,server:"https://cgap-higlass.com/api/v1",options:{name:"Orthologs",species:["human","macaca_mulatta","mouse","dog","elephant","chicken","zebrafish"],fontSize:10,gapsColor:"#eb9c00",rowHeight:11,fontFamily:"Arial",rowSpacing:2,aminoAcidColor:"#333333",labelTextColor:"#888888",plusStrandColor1:"#ebebff",plusStrandColor2:"#dedeff",minusStrandColor1:"#ffe0e2",minusStrandColor2:"#fff0f1",aminoAcidColorNoMatch:"#b0b0b0",plusStrandColorZoomedOut:"#bdbfff",minusStrandColorZoomedOut:"#fabec2"},tilesetUid:"orthologs_transcripts_hg38"}],left:[],right:[],whole:[],bottom:[],center:[],gallery:[]},chromInfoPath:"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes",initialXDomain:[1543047040684278e-9,1.5497142497034417e6],initialYDomain:[13502279464736395e-7,13502279464736395e-7],genomePositionSearchBox:{visible:!0,chromInfoId:"hg38",autocompleteId:"gene_annotation_hg38",chromInfoServer:"https://cgap-higlass.com/api/v1",autocompleteServer:"https://cgap-higlass.com/api/v1"}}],editable:!0,zoomFixed:!1,zoomLocks:{locksByViewUid:{},locksDict:{}},exportViewUrl:"/api/v1/viewconfs",locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:{},locksDict:{}},trackSourceServers:["https://cgap-higlass.com/api/v1"]},Nwt={viewConfigOrthologs:Pwt},Mwt={clinvar:Iwt.viewConfigClinvar,transcripts:Owt.viewConfigTranscripts,gnomad:Rwt.viewConfigGnomad,orthologs:Nwt.viewConfigOrthologs},HTe="High",UTe="Moderate",GTe="Low",$Te="Modifier";class Lwt extends oh.PureComponent{constructor(i){super(i);Jh(this,"handleStatTestChange",i=>{this.setState({selectedStatisticalTest:i},()=>{if(!window.hgc)return;const l=window.hgc.current,c=l.api.getViewConfig();c.views[1].tracks.top.forEach(d=>{d.type==="geneList"&&(d.options.yValue.field=i.value)}),l.api.setViewConfig(c)})});Jh(this,"handleKeggChange",i=>{this.setState({selectedKeggCategory:i},()=>{if(!window.hgc)return;const l=window.hgc.current,c=l.api.getViewConfig();c.views[1].tracks.top.forEach(d=>{if(d.type==="cohort"||d.type==="geneList"){const m=[];if(d.options.filter.forEach(b=>{b.field!=="kegg_category"&&m.push(b)}),this.state.selectedKeggCategory&&this.state.selectedKeggCategory.length>0){const b={field:"kegg_category",operator:"has_one_of",target:this.state.selectedKeggCategory.map(w=>w.value)};m.push(b)}d.options.filter=m}}),l.api.setViewConfig(c)})});Jh(this,"togglePluginTrack",i=>{const l=i.target.value,c=i.target.checked;this.setState({isTranscriptsTrackVisible:l==="transcripts"?!this.state.isTranscriptsTrackVisible:this.state.isTranscriptsTrackVisible,isClinvarTrackVisible:l==="clinvar"?!this.state.isClinvarTrackVisible:this.state.isClinvarTrackVisible,isGnomadTrackVisible:l==="gnomad"?!this.state.isGnomadTrackVisible:this.state.isGnomadTrackVisible,isOrthologsTrackVisible:l==="orthologs"?!this.state.isOrthologsTrackVisible:this.state.isOrthologsTrackVisible},()=>{if(!window.hgc)return;const d=window.hgc.current,m=d.api.getViewConfig(),b=m.views[1].tracks.top;if(c){const A=Mwt[l].views[0].tracks.top;b.push.apply(b,A)}else{const w=[];b.forEach(A=>{A.uid.includes(l)||w.push(A)}),m.views[1].tracks.top=w}d.api.setViewConfig(m),d.adjustLayoutToTrackSizes(m.views[1])})});Jh(this,"changeActiveConsequenceLevels",i=>{const l=i.target.value,c=[...this.state.activeConsequenceLevels],d=c.indexOf(l);d>-1?c.splice(d,1):c.push(l),this.setState(m=>({activeConsequenceLevels:c}),()=>{if(window.hgc){const m=window.hgc.current,b=m.api.getViewConfig();b.views[1].tracks.top.forEach(w=>{if(w.type==="cohort"){const A=this.state.activeConsequenceLevels.map(I=>I.toUpperCase());w.options.filter.forEach(I=>{I.field==="level_most_severe_consequence"&&(I.target=A)})}}),m.api.setViewConfig(b)}})});Jh(this,"exportDisplay",()=>{const i=window.hgc.current;if(!i){console.warn("Higlass component not found.");return}const l=i.api.exportAsSvg();var c=document.createElement("a");c.setAttribute("href","data:image/svg+xml;charset=utf-8,"+encodeURIComponent(l)),c.setAttribute("download","cohort.svg"),c.click()});this.state={activeConsequenceLevels:[HTe,UTe,GTe,$Te],selectedKeggCategory:null,selectedStatisticalTest:OEt,isTranscriptsTrackVisible:!1,isClinvarTrackVisible:!1,isGnomadTrackVisible:!1,isOrthologsTrackVisible:!1}}componentDidMount(){}applyCaddFilter(i,l){const c=i.target.value;if(window.hgc){const d=window.hgc.current,m=d.api.getViewConfig();m.views[1].tracks.top.forEach(b=>{b.type==="cohort"&&b.options.filter.forEach(w=>{w.field==="cadd_phred"&&(l==="min"?w.target[0]=c===""?0:c:w.target[1]=c===""?200:c)})}),d.api.setViewConfig(m)}}render(){const i=[HTe,UTe,GTe,$Te],{selectedKeggCategory:l,selectedStatisticalTest:c}=this.state;return Xt.jsxDEV(oh.Fragment,{children:Xt.jsxDEV("div",{className:"row",children:Xt.jsxDEV("div",{className:"col",children:[Xt.jsxDEV("div",{className:"d-block bg-light px-2 mb-2",children:Xt.jsxDEV("small",{children:"NAVIGATION & DISPLAY"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:243,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:242,columnNumber:13},this),Xt.jsxDEV(wwt,{},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:245,columnNumber:13},this),Xt.jsxDEV("div",{className:"form-check mt-3",children:[Xt.jsxDEV("input",{type:"checkbox",id:"toggle-transcripts-check",className:"form-check-input",value:"transcripts",onChange:this.togglePluginTrack,checked:this.state.isTranscriptsTrackVisible?"checked":""},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:247,columnNumber:15},this),Xt.jsxDEV("label",{className:"form-check-label",htmlFor:"toggle-transcripts-check",children:"Show gene transcripts"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:255,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:246,columnNumber:13},this),Xt.jsxDEV("div",{className:"form-check mt-2",children:[Xt.jsxDEV("input",{type:"checkbox",id:"toggle-clinvar-check",className:"form-check-input",value:"clinvar",onChange:this.togglePluginTrack,checked:this.state.isClinvarTrackVisible?"checked":""},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:263,columnNumber:15},this),Xt.jsxDEV("label",{className:"form-check-label",htmlFor:"toggle-clinvar-check",children:"Show Clinvar annotations"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:262,columnNumber:13},this),Xt.jsxDEV("div",{className:"form-check mt-2",children:[Xt.jsxDEV("input",{type:"checkbox",id:"toggle-gnomad-check",className:"form-check-input",value:"gnomad",onChange:this.togglePluginTrack,checked:this.state.isGnomadTrackVisible?"checked":""},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:279,columnNumber:15},this),Xt.jsxDEV("label",{className:"form-check-label",htmlFor:"toggle-gnomad-check",children:"Show GnomAD allele frequencies"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:278,columnNumber:13},this),Xt.jsxDEV("div",{className:"form-check mt-2",children:[Xt.jsxDEV("input",{type:"checkbox",id:"toggle-orthologs-check",className:"form-check-input",value:"orthologs",onChange:this.togglePluginTrack,checked:this.state.isOrthologsTrackVisible?"checked":""},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:292,columnNumber:15},this),Xt.jsxDEV("label",{className:"form-check-label",htmlFor:"toggle-orthologs-check",children:"Show orthologs"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:291,columnNumber:13},this),Xt.jsxDEV("div",{className:"d-block bg-light px-2 mb-1 mt-3",children:Xt.jsxDEV("small",{children:"GENE LEVEL FILTERING"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:309,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:308,columnNumber:13},this),Xt.jsxDEV("div",{className:"mt-2",children:"KEGG category"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:312,columnNumber:13},this),Xt.jsxDEV(KJ,{value:l,onChange:this.handleKeggChange,options:EIe,closeMenuOnSelect:!1,isMulti:!0,placeholder:"Select multiple..."},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:313,columnNumber:13},this),Xt.jsxDEV("div",{className:"mt-2",children:"Statistical test"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:322,columnNumber:13},this),Xt.jsxDEV(KJ,{value:c,onChange:this.handleStatTestChange,options:kEt},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:323,columnNumber:13},this),Xt.jsxDEV("div",{className:"d-block bg-light px-2 mb-1 mt-3",children:Xt.jsxDEV("small",{children:"VARIANT LEVEL FILTERING"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:329,columnNumber:13},this),Xt.jsxDEV("div",{className:"mt-2",children:"CADD Score"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:332,columnNumber:13},this),Xt.jsxDEV("div",{className:"row",children:[Xt.jsxDEV("div",{className:"col-sm-6",children:Xt.jsxDEV("div",{className:"form-group",children:Xt.jsxDEV("input",{type:"text",className:"form-control form-control-sm",placeholder:"Min",onChange:d=>this.applyCaddFilter(d,"min")},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:336,columnNumber:19},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:335,columnNumber:17},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:334,columnNumber:15},this),Xt.jsxDEV("div",{className:"col-sm-6",children:Xt.jsxDEV("div",{className:"form-group",children:Xt.jsxDEV("input",{type:"text",className:"form-control form-control-sm",placeholder:"Max",onChange:d=>this.applyCaddFilter(d,"max")},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:346,columnNumber:19},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:345,columnNumber:17},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:344,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:333,columnNumber:13},this),Xt.jsxDEV("div",{className:"mt-1",children:"Consequence levels (VEP)"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:356,columnNumber:13},this),Xt.jsxDEV("div",{className:"row",children:i.map(d=>Xt.jsxDEV("div",{className:"col-sm-6",children:Xt.jsxDEV("div",{class:"form-check",children:[Xt.jsxDEV("input",{type:"checkbox",className:"form-check-input",id:"cb_"+d,value:d,onChange:this.changeActiveConsequenceLevels,checked:this.state.activeConsequenceLevels.includes(d)?"checked":""},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:361,columnNumber:21},this),Xt.jsxDEV("label",{className:"form-check-label",htmlFor:"cb_"+d,children:d},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:373,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:360,columnNumber:19},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:359,columnNumber:17},this))},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:357,columnNumber:13},this),Xt.jsxDEV("div",{className:"d-block mb-1 mt-3",children:Xt.jsxDEV("button",{type:"button",className:"btn btn-primary btn-sm btn-block",onClick:this.exportDisplay,children:[Xt.jsxDEV("i",{className:"icon icon-download icon-sm fas mr-1"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:387,columnNumber:17},this),"Export"]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:382,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:381,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:241,columnNumber:11},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:240,columnNumber:9},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/Facets.jsx",lineNumber:239,columnNumber:7},this)}}function Fwt(){return Xt.jsxDEV(oh.Fragment,{children:[Xt.jsxDEV("div",{className:"container",children:[Xt.jsxDEV("h1",{className:"pt-5 py-4 text-center",children:"UDN Cohort Browser"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:14,columnNumber:9},this),Xt.jsxDEV("h6",{className:"text-center",children:"Description of the data set and link to the publication."},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:13,columnNumber:7},this),Xt.jsxDEV("div",{className:"container mt-5",children:[Xt.jsxDEV("h2",{children:"Variant-level browser"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:26,columnNumber:9},this),Xt.jsxDEV("div",{className:"row mt-4",children:[Xt.jsxDEV("div",{className:"col-md-3 ",children:Xt.jsxDEV("div",{className:"border p-2 mt-3",children:Xt.jsxDEV(Lwt,{},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:30,columnNumber:15},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:29,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:28,columnNumber:11},this),Xt.jsxDEV("div",{className:"col-md-9",children:Xt.jsxDEV(zvt,{},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:25,columnNumber:7},this),Xt.jsxDEV("div",{className:"container-fluid bg-light mt-5 py-4 text-center",children:[Xt.jsxDEV("div",{className:"mb-1",children:"If you have any questions or suggestions please contact us:"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:41,columnNumber:9},this),Xt.jsxDEV("div",{children:[Xt.jsxDEV("strong",{children:"Shilpa:"},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:45,columnNumber:11},this)," shilpa at hms.harvard.edu"]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/App.jsx",lineNumber:12,columnNumber:5},this)}Nnt.render(Xt.jsxDEV(oh.StrictMode,{children:Xt.jsxDEV(Fwt,{},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/main.jsx",lineNumber:9,columnNumber:5},globalThis)},void 0,!1,{fileName:"/Users/alexandervelt/Documents/GitHub/udn-browser/src/main.jsx",lineNumber:8,columnNumber:3},globalThis),document.getElementById("root"));
